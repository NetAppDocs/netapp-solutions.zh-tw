<?xml version="1.0" encoding="UTF-8"?>
<blocks>
  <block id="d41d8cd98f00b204e9800998ecf8427e" category="doc"></block>
  <block id="5edbe8c55546db896b55871b44a39263" category="cell">*日期*</block>
  <block id="12cd1425f32ad289dba28e35ae9096fb" category="cell">*解決方案領域*</block>
  <block id="b96941ac46daa357b1782f017746a57b" category="cell">*變更說明*</block>
  <block id="f2a59783d2b5c7be84fec0d6de7a5ae9" category="cell">2022年8月3日</block>
  <block id="5382aaf8b3d2fdeb6717f9805b0dd511" category="cell">容器</block>
  <block id="eab6f1cc9736be0f5d62999f998bf36a" category="cell">新增影片示範：利用Astra Control和NetApp FlexClone技術加速軟體開發</block>
  <block id="5df42c63d444f6e9e40d96be8f17ac6f" category="cell">2022年3月1日</block>
  <block id="75afdb5cd8c025ed0681bdb302fcdcda" category="cell">新增NVA-1160：透過操作集線器和Ansible安裝Astra Control Center</block>
  <block id="d064ecad73d9352507092f40af924057" category="cell">02/02/2022</block>
  <block id="0db377921f4ce762c62526131097968f" category="cell">一般</block>
  <block id="c0598da0ea2338576f8d67854c56e3f6" category="cell">建立登陸頁面、以便更妥善地整理AI和現代化資料分析的內容</block>
  <block id="84c45df200c907852c1e92875618b432" category="cell">2022年1月22日</block>
  <block id="0a40e3c91a3a55c9a37428c6d194d0e5" category="cell">AI</block>
  <block id="b385810d0a927b9d15a69218e3fb38c4" category="cell">新增TR：利用E系列和BeeGFS進行資料移動、以利AI和分析工作流程</block>
  <block id="7d131526ee2a04107bbc50d52a29a7d7" category="cell">2021年12月21日</block>
  <block id="c65463900a520919b522c30b6256e475" category="cell">新增影片示範：運用NetApp Astra Control執行事後分析、並將應用程式還原至NVA-1160</block>
  <block id="f63616bb6a8255ed08089231c746f285" category="cell">2021年6月12日</block>
  <block id="16784caec2e047ddf59bd5a51bd35a73" category="cell">11/15/2021</block>
  <block id="1c20ad7a11d1c2856906d55171b50126" category="cell">新增影片示範：利用Astra Control將CI/CD傳輸管道中的資料保護功能新增至NVA-1160</block>
  <block id="b0ac6120dada9135114784db22a59940" category="cell">現代化資料分析</block>
  <block id="5cdb842b21b9f980df2b3ab63ee9a9e6" category="cell">新內容：Conflent Kafka最佳實務做法</block>
  <block id="38562890365e144b467ec2813a6377f2" category="cell">2021年11月2日</block>
  <block id="caea8340e2d186a540518d08602aa065" category="cell">自動化</block>
  <block id="fb0ad99371abb3d02d60add8160c6dd9" category="cell">使用NetApp Cloud Manager的AWS驗證要求、適用於CVO和Connector</block>
  <block id="dfd39862c9cc158ad7b0e4e1e9a3024a" category="cell">10/29/ 2021</block>
  <block id="e7c456cd85cc15bd3faf7b65c0833d3e" category="cell">新內容：TR-4657 - NetApp混合雲資料解決方案：Spark和Hadoop</block>
  <block id="4549cdf15178a5f0535be7f0f86cdb4d" category="cell">企業資料庫</block>
  <block id="63c0320f73b5f4e528bbe1488acc5103" category="cell">Oracle資料庫的自動化資料保護</block>
  <block id="815425a7766095190649a3f9ecbc1828" category="cell">10/26/2021</block>
  <block id="8493c4f1797303a6de2524a60adcf058" category="cell">10/18/2021</block>
  <block id="ade15f89ccc27958a743a992cea8c574" category="cell">TR-4908 - SnapCenter 混合雲資料庫解決方案、含各種功能</block>
  <block id="622eda32248f1c4d1fc31dd78ec74c4a" category="cell">2021年10月14日</block>
  <block id="ea4c55be196897a16d86999f5c16d582" category="cell">虛擬化</block>
  <block id="f6ecd264493db5fac4b21f19be4eb69d" category="cell">新增第1-4部分的NetApp與VMware VCF部落格系列</block>
  <block id="83a11da06ed8a3e338b5e8d2991cae0c" category="cell">2021年4月10日</block>
  <block id="c95696f6146a5b8b56c74d4349687ec6" category="cell">新增影片示範：使用Astra Control Center將工作負載移轉至NVA-1160</block>
  <block id="4f41bdb2ec81835b66ffbbd18feea656" category="cell">2021年9月23日</block>
  <block id="9b699c59be5ba510cd9c430a31843b23" category="cell">資料移轉</block>
  <block id="32ff1e0d02ec482c64fdac1af2a49372" category="cell">新內容：NetApp最佳NetApp XCP實務做法</block>
  <block id="42246d8ef9280d19cf1326197310630a" category="cell">09/21/2021</block>
  <block id="10c87c454d38afc0644c8c1fb75fa524" category="cell">適用於VMware vSphere管理員的新內容或ONTAP 更新功能、VMware vSphere自動化</block>
  <block id="faaef04f2f0bb7bed9504fc3d357ba59" category="cell">2021年9月9日</block>
  <block id="80245b1f322b07a9fcd385bb375d8182" category="cell">新增了與OpenShift整合至NVA-1160的F5 Big IP負載平衡器</block>
  <block id="023cd4d7ed373df0d803d414e2e452bf" category="cell">2021年5月8日</block>
  <block id="afb6b7f715f1bf6492efb8f3c279ddd7" category="cell">在Red Hat OpenShift上新增NVA-1160 - NetApp Astra Control Center的新技術整合</block>
  <block id="2cd99fd0d69d62395a72dc7d4684299c" category="cell">2021年7月21日</block>
  <block id="13d13fda6fbfbd83ab30f9a5bee17b08" category="cell">在ONTAP NFS上自動部署Oracle19c for Sfor</block>
  <block id="e88b179e97a156d13d1c9c4163513205" category="cell">2021年2月7日</block>
  <block id="9f99e3ea14c0a44dde0fd7db13fa3bef" category="cell">TR-4897 - Azure NetApp Files 《SQL Server on Real: Real Deployment View》（英文）</block>
  <block id="83d39ff0c36403ca3e183af9ca091a71" category="cell">2021年6月16日</block>
  <block id="2891cb0fe31606ff172d0be4ec81732f" category="cell">新增影片示範：安裝OpenShift虛擬化：Red Hat OpenShift with NetApp</block>
  <block id="77d29c989f99997794df55b2d9053ae8" category="cell">新增影片示範：使用OpenShift虛擬化部署虛擬機器：使用NetAppp部署Red Hat OpenShift</block>
  <block id="fab25e19f7e186358ed7f1268e7af3b4" category="cell">2021年6月14日</block>
  <block id="96da300b5faf4ae3a5ca09afabba4273" category="cell">新增解決方案Azure NetApp Files ：Microsoft SQL Server on</block>
  <block id="67c877d4abd9acdbb0fa62c3720b6d60" category="cell">2021年11月6日</block>
  <block id="a14851e0e2cb4c8e9176cdea01500288" category="cell">新增影片示範：使用Astra Trident和SnapMirror移轉工作負載至NVA-1160</block>
  <block id="c5d2015481e39976c67e40778a449a2d" category="cell">2021年9月6日</block>
  <block id="c4aad26d0bd9fb92610a1b5b3390bd46" category="cell">在採用NetApp的Red Hat OpenShift上新增了NVA-1160的新使用案例：適用於Kubernetes的進階叢集管理</block>
  <block id="53977250e4a69cab3688fcbede8fb73a" category="cell">05/28/2021</block>
  <block id="9c23aa040a3dc51dbbf59463247f4fec" category="cell">新增新的使用案例至NVA-1160：OpenShift Virtualization with NetApp ONTAP</block>
  <block id="c02e5ac689072495b8af780302105253" category="cell">05/27/ 2021</block>
  <block id="f5abcac882b8caa17d3af1c14144f503" category="cell">使用NetApp ONTAP 功能在OpenShift上的NVA-1160多租戶中新增使用案例</block>
  <block id="3202abe9084b2d9ec5b0b162721978e7" category="cell">05/26/2021</block>
  <block id="d58aa75910c54a80c6ba4de7e7f6949f" category="cell">新增NVA-1160：採用NetApp的Red Hat OpenShift</block>
  <block id="a0be3ecb819e8e7215f946964346f547" category="cell">05/25/2021</block>
  <block id="95a74db23b085df59ef6412199e9e791" category="cell">新增部落格：在Red Hat OpenShift上安裝NetApp Trident–如何解決Docker「TOomanyRequests」問題！</block>
  <block id="2dec0489948dbe7f63f68743a085e98c" category="cell">2021年5月19日</block>
  <block id="9045bfbeff51b83f9752fe549021a181" category="cell">新增FlexPod 鏈接至解決方案</block>
  <block id="af3192eaae3cb09641db4adcc45ed625" category="cell">AI Control Plane解決方案已從PDF轉換為HTML</block>
  <block id="8ff5be8d16e86e5284f8ba8a3428459a" category="cell">05/17/2021</block>
  <block id="a88789a4f83f213b256b57eb0884fd1d" category="cell">新增「解決方案意見反應」方塊至主頁</block>
  <block id="027fb9451c491d9dcfb7db05f552788d" category="cell">05/11/2021</block>
  <block id="3e62d5f1a7f1b6907ad1ecaf11282dac" category="cell">新增Oracle 19c的自動化部署功能ONTAP 、可在NFS上執行功能</block>
  <block id="d2422eca0ff6f19afb6e1206b15fbe01" category="cell">05/10/2021</block>
  <block id="85c96a5f13e6dea61e003704f8d456e2" category="cell">新影片：如何搭配NetApp和VMware Tanzu Basic使用vVols、第3部分</block>
  <block id="29e9b684dbbdf5cc1828da82a146781d" category="cell">05/06/2021</block>
  <block id="c30dd1a85cf86d95b11c1a08f70130ce" category="cell">Oracle資料庫</block>
  <block id="508db167da7d74fc86c3f8024ce04558" category="cell">新增FlexPod 連結至Oracle 19c RAC資料庫on《透過AFF FC使用Cisco UCS和NetApp解決方案的RAC資料庫</block>
  <block id="85fbf94a3ecf9a3af4a93f80a3681fe1" category="cell">05/2021</block>
  <block id="608f33919f16e9a23bd532ad6bcf480a" category="cell">新增FlexPod 功能：Oracle NVA（1155）與自動化影片</block>
  <block id="4dc6e14d2ad9dafd2cd72f8c77d22bea" category="cell">05/03/2021</block>
  <block id="3d21a9c32818fc58b044121ce91e053c" category="cell">桌面虛擬化</block>
  <block id="4174d4c17e4b11e07d8dd581e16ba56c" category="cell">新增FlexPod 鏈接至解決方案的解決方案</block>
  <block id="b3cae16f1f895f4f9ceae98617a3bf0d" category="cell">04/30/2021</block>
  <block id="2764512d2fc00264d149a6142151aa1a" category="cell">影片：如何搭配NetApp和VMware Tanzu Basic使用vVols、第2部分</block>
  <block id="4996fa0acf5cc54e889a50e9bdd2e56b" category="cell">04/26/2021</block>
  <block id="9c5316849ca2429400f8979f0ee0d963" category="cell">新增部落格：使用VMware Tanzu ONTAP 搭配VMware以利加速Kubernetes業務流程</block>
  <block id="911da11d01e00e9aa94c5b03b2e6e2cc" category="cell">04/06/2021</block>
  <block id="06cfdb63e0660d09f203a21e28520a1e" category="cell">新增「關於此儲存庫」</block>
  <block id="32edd80de3642c58e1a05df5f3e458e1" category="cell">2021年3月31日</block>
  <block id="bbb1c8f8182403001f2e1f69085ca2ad" category="cell">新增TR-4886 - AI推斷邊緣：NetApp ONTAP 支援Lenovo ThinkSystem解決方案設計</block>
  <block id="d61c9a3748e1dd56535fbdaaa3e39eab" category="cell">2021年3月29日</block>
  <block id="8575a367028bec3e86e25b102a8dced1" category="cell">新增NVA-1157 -採用NetApp儲存解決方案的Apache Spark工作負載</block>
  <block id="8f10e64b04f6cc56cf66fd4f4eb0f4d9" category="cell">2021年3月23日</block>
  <block id="7998f8ad3cabe02af607385cae780ce1" category="cell">影片：如何搭配NetApp和VMware Tanzu Basic使用vVols、第1部分</block>
  <block id="f86fe8ec70f2003923e4000589747208" category="cell">2021年9月3日</block>
  <block id="eea51e9c0dffabdea48ada8f53bbf0f5" category="cell">新增E系列內容；分類AI內容</block>
  <block id="0b218fa381bfd1c86fff15d165ab23a0" category="cell">2021年4月3日</block>
  <block id="932af944058a758da919ca59d1af640b" category="cell">新內容：NetApp解決方案自動化入門</block>
  <block id="4be9c930c1a8a198115d499cb3223d9e" category="cell">02/18/2021</block>
  <block id="0c560038af98c5401dd10202e7937acd" category="cell">新增TR-4597 - VMware vSphere ONTAP for VMware</block>
  <block id="aa1c3ec5e6dcfb94555ff987f061f1a0" category="cell">2021年2月16日</block>
  <block id="3ecf1285a084b58473a7873e3f33e74a" category="cell">新增AI Edge推斷的自動化部署步驟</block>
  <block id="8138d0c3e613508050b6fec12c4322c7" category="cell">02/03/2021</block>
  <block id="999bc6b18351bbe817d26f559ba408ae" category="cell">SAP</block>
  <block id="91171755730ad15e6d79b5cb6682a8f1" category="cell">新增所有SAP和SAP HANA內容的登陸頁面</block>
  <block id="e5099bd65458f8a8556c830ac4759296" category="cell">2021年2月1日</block>
  <block id="09689218a7f330554f4e28a18e9e14a6" category="cell">VDI搭配NetApp VDS、為GPU節點新增內容</block>
  <block id="c487c48f1528e49e3cb129fdbdd79990" category="cell">2021年6月1日</block>
  <block id="868f7f9e78f90bcf0597030ffefd449b" category="cell">全新解決方案：NetApp ONTAP 支援NVIDIA DGX A100系統與Mellanox Spectrum乙太網路交換器的AI（設計與部署）</block>
  <block id="0663765430d1ca93138f13429aef7c37" category="cell">12/2/2020</block>
  <block id="a4aae8f8849c453c6c67080c5d013301" category="cell">NetApp解決方案儲存庫的初始版本</block>
  <block id="169210ceac9b94f0632cd1182961e949" category="open-title">CVO單一節點部署</block>
  <block id="610db6bf34b03f7873afe01d4eec8e58" category="paragraph">本節包含各種Terraform組態檔案、可在Cloud Volumes ONTAP AWS（Amazon Web Services）上部署/設定單一節點NetApp CVO（英文）。</block>
  <block id="4a537f87e89ac00b1276af84fa6f2da9" category="paragraph">Terraform文件：<block ref="e2ea72ce6afb985e72624e098135e8e1" category="inline-link-rx"></block></block>
  <block id="c69eb42cd732c6d937af674afc73ba24" category="paragraph">若要執行範本：</block>
  <block id="0b2fc5bb85de930f6b1d839951f8df6d" category="list-text">複製儲存庫。</block>
  <block id="6f5cc42a3e67b7edb3a2d4b86ebfae01" category="list-text">瀏覽至所需的資料夾</block>
  <block id="71046100fbc383dd8cd1cdd6160f6d6d" category="list-text">從CLI設定AWS認證資料。</block>
  <block id="4a4f9b0378c89fa21da9e5528c8a7f47" category="list-text">AWS存取金鑰ID [無]：存取金鑰</block>
  <block id="6bbb2ea6e07d16e69748545bf2ee6a6d" category="list-text">AWS秘密存取金鑰[無]：秘密金鑰</block>
  <block id="7a31be9d48b53cd82a7160af0cd58fbe" category="list-text">預設區域名稱[無]：us-west-2</block>
  <block id="276bf14207394167e2ed4e3eed448680" category="list-text">預設輸出格式[無]：JSON</block>
  <block id="dd08960caafad89635926c55a0efd3a4" category="list-text">更新「vars/AWS/CVO_sine_node_deployment.tfvars」中的變數值</block>
  <block id="e962d97debd0a377828855d79b5ccf66" category="admonition">您可以將變數「AWs_connector部署布爾」值設為true/false、以選擇部署連接器。</block>
  <block id="88cefa0997a2272107223ee543b114db" category="list-text">初始化Terraform儲存庫、以安裝所有先決條件並準備部署。</block>
  <block id="046372e4315eccae02c5be2caaac1ac5" category="list-text">使用Terraform validate命令驗證Terraform檔案。</block>
  <block id="144930ffd88cabf8795c7d4a6698e4ac" category="list-text">執行組態的乾燥執行、預覽部署所預期的所有變更。</block>
  <block id="50a325adfbe874e5e14b044244efa49e" category="list-text">執行部署</block>
  <block id="3125f7b5833c80fbd03966accb540bf8" category="paragraph">以刪除部署</block>
  <block id="58c9aaf9cf3d4d0215afe012b77aa1bc" category="paragraph">《Connector》（連接器）</block>
  <block id="251861170f071d1ebe67b948f5026905" category="paragraph">NetApp AWS連接器執行個體的Terraform變數、適用於CVO部署。</block>
  <block id="496ee322ba138fdbc777e5ab2e30145e" category="cell">*名稱*</block>
  <block id="7464a7978b1ad9e7f36e5f0181e97eb5" category="cell">*類型*</block>
  <block id="f14c276c07197ebef1394a5a219087a1" category="cell">*說明*</block>
  <block id="22d8f94f4a088cb8d7c83ec5f44a03af" category="cell">* AWs_connector部署布爾*</block>
  <block id="c26f15e86e3de4c398a8273272aba034" category="cell">布爾</block>
  <block id="95ab4e4a16c4f585ede4d3c63167c1ee" category="cell">（必填）檢查連接器部署。</block>
  <block id="e15fa495ec49ba53e0ba45d555c24027" category="cell">* AWS連接器名稱*</block>
  <block id="27118326006d3829667a400ad23d5d98" category="cell">字串</block>
  <block id="5548283861d04af602b7193306751df7" category="cell">（必填）Cloud Manager Connector的名稱。</block>
  <block id="8c3a0cf46a98725e12d666e2e13dc06d" category="cell">* AWS連接器區域*</block>
  <block id="efb4f51f6b08f54633b02a06b94210f2" category="cell">（必填）建立Cloud Manager Connector的區域。</block>
  <block id="358040941579fe064f522f5b1eac2a33" category="cell">* AWS連接器_key_name*</block>
  <block id="5c2f4db5972ecd2062c5f449f09c661f" category="cell">（必填）連接器執行個體要使用的金鑰配對名稱。</block>
  <block id="0e46676177a5b007dfeefb6ada2b65af" category="cell">* AWs_connector公司*</block>
  <block id="a7f1f5d73f372170ea283996e464af43" category="cell">（必填）使用者的公司名稱。</block>
  <block id="9b9081642589bb52bb20161632edc5a6" category="cell">* AWs_connector執行個體類型*</block>
  <block id="ddd1c9b22f94863b3de9a1b551188553" category="cell">（必要）執行個體類型（例如T3.xLarge）。至少需要4個CPU和16 GB記憶體。</block>
  <block id="f8a700002db36fadde1ab9526f2cf8c3" category="cell">* AWs_connector子網路ID *</block>
  <block id="76788966b37b9b0df0b8ed78ad67eea9" category="cell">（必要）執行個體的子網路ID。</block>
  <block id="fafb089eb14a5fe730cfadfd7bed4b4f" category="cell">* AWs_connector安全性群組ID *</block>
  <block id="728aafab2377ad85ce4ae3f6a4b3dd33" category="cell">（必填）執行個體的安全性群組ID、可提供以'、'分隔的多個安全性群組。</block>
  <block id="52df26383575ad500acf38cc3df88e36" category="cell">* AWS連接器_iam_instance_profile名稱*</block>
  <block id="59409115b42184ffa519bd9aa24b6816" category="cell">（必填）Connector執行個體設定檔的名稱。</block>
  <block id="8953ca5d18d5f2c4a85fdfe10d30a002" category="cell">* AWS連接器帳戶ID *</block>
  <block id="bba7484e58b18e8edafdbe619961f73f" category="cell">（可選）Connector將關聯的NetApp帳戶ID。如果未提供、Cloud Manager會使用第一個帳戶。如果沒有帳戶存在、Cloud Manager會建立新帳戶。您可以在Cloud Manager的帳戶索引標籤中找到帳戶ID、網址為<block ref="06d3516203a7f4d79163d93dd508b8c0" category="inline-link-rx"></block>。</block>
  <block id="1918f44c178eed586b6fa7d6739af317" category="cell">* AWS連接器_public_ip_bool *</block>
  <block id="a4472307f162bdf147f02784bf81ab9d" category="cell">（選用）表示是否要將公用IP位址與執行個體建立關聯。如果未提供、則會根據子網路的組態來進行關聯。</block>
  <block id="9fb01bbff06d549bce01928fa2f7784c" category="paragraph">單一節點執行個體</block>
  <block id="d166b6e004666a5a8daa6db1c3cf1a13" category="paragraph">單一NetApp CVO執行個體的Terraform變數。</block>
  <block id="19afa3a1ac092d450f21236f1973c705" category="cell">* CVO名稱*</block>
  <block id="59935a520838700b451a3757f31fd4ac" category="cell">（必填）Cloud Volumes ONTAP 運作環境的名稱。</block>
  <block id="ff855355eebbbfbd54d2734a61c43fd4" category="cell">* CVO_region*</block>
  <block id="b50ada32f992aba9f7055658a79132f2" category="cell">（必填）將建立工作環境的區域。</block>
  <block id="0e9b90f836062c3007935370ef18245f" category="cell">* CVO_SUBNET_ID*</block>
  <block id="6c7cb9b4623284c101253ed002625e53" category="cell">（必填）要建立工作環境的子網路ID。</block>
  <block id="a99ec45accc4987a7eb2eff5219f96b3" category="cell">* CVO_VPC_id*</block>
  <block id="a179f6c6854fc89c6f118f4d8c201cad" category="cell">（選用）將建立工作環境的VPC ID。如果未提供此引數、則會使用提供的子網路ID來計算VPC。</block>
  <block id="26ff13994e5fbad1e11fc231bc73a5b6" category="cell">* CVO_SVM_Password*</block>
  <block id="c82a889260bdc28c6136ddc6639a4f2e" category="cell">（必填）Cloud Volumes ONTAP 用於執行功能的管理員密碼。</block>
  <block id="3815749b59fbccfa0077df4f90c8aa1e" category="cell">* CVO寫入速度狀態*</block>
  <block id="e382698236dcb1567d375a4be3b12c2f" category="cell">（選用）Cloud Volumes ONTAP 適用於下列項目的寫入速度設定：['正常'、'高速'。預設值為「正常」。</block>
  <block id="197b0ef64aabdc02a240f3f472eb4da2" category="open-title">CVO HA部署</block>
  <block id="a082a9d97b4465f73e12cde3444a5296" category="paragraph">本節包含各種Terraform組態檔案、可在Cloud Volumes ONTAP AWS（Amazon Web Services）上以高可用度配對部署/設定NetApp CVO（BIOS）。</block>
  <block id="b31736be0fe5e59cc4905aa080c9ab16" category="list-text">更新「vars/AWS/CVO_ha_deployment.tfvars」中的變數值。</block>
  <block id="ff8f4d628633e3ceb42dcca91ef2948e" category="paragraph">"HA配對"</block>
  <block id="f7fbe4e66ae4cece99ae14a24f1c44ef" category="paragraph">HA配對中NetApp CVO執行個體的Terraform變數。</block>
  <block id="018a56af12514193b08f44d59f92fe83" category="cell">* CVO_is_ha*</block>
  <block id="93d83a3a243548e55fb126d283923435" category="cell">（選用）指出工作環境是否為HA配對（真、假）。預設值為假。</block>
  <block id="cea330e4ead03fcfec439b1f44be7c07" category="cell">* CVO節點1_SUBNET_ID*</block>
  <block id="3a0cbf54e2a847cd873a45840f9965f5" category="cell">（必填）要建立第一個節點的子網路ID。</block>
  <block id="d5d3a5e1275b1995e05472c7bfbcb53f" category="cell">* CVO節點2_SUBNET_ID*</block>
  <block id="5691678a4c059b3a4ebad0f4c6bf6bb5" category="cell">（必填）要建立第二個節點的子網路ID。</block>
  <block id="4377aa272f4cf89d4bbd39432ffb3b0e" category="cell">* CVO_UVOD_MOUSON*</block>
  <block id="9d76030e2a28826bff45ea1dff4d6920" category="cell">（可選）對於HA、HA配對的容錯移轉模式為：['權限IP'、'FlatingIP']。「Private IP」適用於單一可用度區域、而「FlatingIP」適用於多個可用度區域。</block>
  <block id="80c8a57adaed641642cd870951a1d4ed" category="cell">* CVO _中介_子網路_id*</block>
  <block id="49ef0197555436f78dd87f582e510523" category="cell">（可選）對於HA、是中介器的子網路ID。</block>
  <block id="3efb524d034b1e223cb9d31a64f9bbc4" category="cell">* CVO _中介_金鑰_配對名稱*</block>
  <block id="224733036290c1421bed8ad8de688956" category="cell">（選用）HA是中介執行個體的金鑰配對名稱。</block>
  <block id="069dcc590a2acf756e6ca7f92d7d8355" category="cell">* CVO叢集浮點IP *</block>
  <block id="6325a8aefd56c67fab1d0d83b4cb8a2e" category="cell">（選用）對於HA FlatingIP、即叢集管理浮動IP位址。</block>
  <block id="618070e07e603612f24fa88a7ab583a8" category="cell">* CVO資料浮動IP *</block>
  <block id="d8abdbcf87e3308c6a8e731ef574625c" category="cell">（選用）對於HA FlatingIP、即資料浮動IP位址。</block>
  <block id="f115ec8cf476ea0198405ca27346e423" category="cell">* CVO_data_浮 點_IP2*</block>
  <block id="754296c6c8a8cf70377730f6f126f24a" category="cell">* CVO_SVM_浮 點IP *</block>
  <block id="797d132b963a11de245eae1725911bfe" category="cell">（可選）對於HA FlatingIP、SVM管理浮動IP位址。</block>
  <block id="418ba9c064c1fb64b11195c729d6a8b1" category="cell">* CVO_route_Table_IDS*</block>
  <block id="4ee29ca12c7d126654bd0e5275de6135" category="cell">清單</block>
  <block id="671a800e3791f7531a319e8b81e97c44" category="cell">（選用）對於HA FlatingIP、將以浮動IP更新的路由表ID清單。</block>
  <block id="5d4a46c0a4567f819ba5935256b18297" category="open-title">FSX部署</block>
  <block id="d43e39ffb05b35b72664b10dd8b8eb09" category="paragraph">本節包含各種Terraform組態檔案、可在ONTAP AWS（Amazon Web Services）上部署/設定NetApp SfSX。</block>
  <block id="171cc8e4954beec5176905189f71a708" category="list-text">預設輸出格式[無]：</block>
  <block id="cbc2cee2851524f322f8d71e55d32a64" category="list-text">請更新「vars/AWS/FSx_deployment.tfvars」中的變數值</block>
  <block id="05bf1719b762d4d80bcb0e545b3db1d2" category="paragraph">NetApp AWS連接器執行個體的Terraform變數。</block>
  <block id="618716470abe9536903f3c6781c4ac81" category="paragraph">《FSX Instance》（FSX實例）</block>
  <block id="5869d95322d3c435fd999596f0cf2303" category="paragraph">NetApp ONTAP 的Terraform變數。</block>
  <block id="c64f672849455d583204c525f5ea39ad" category="cell">* FSx_name*</block>
  <block id="af87bb54b839634f865f7bd7e2be203a" category="cell">* FSx_region*</block>
  <block id="02a52209be6996bc01fd629ac6a5b472" category="cell">* FSX_PRIMAR_SUBNET_ID*</block>
  <block id="5dcd0d05819e117f52d439bebd6d2b42" category="cell">（必填）建立工作環境的主要子網路ID。</block>
  <block id="0531247f461759a809214a03ea2f5f74" category="cell">* FSx_secondary子網路識別碼*</block>
  <block id="b2184e9a131868dbc2332805652a0f02" category="cell">（必填）要建立工作環境的次子網路ID。</block>
  <block id="a333cc205644905efae2cf71519da619" category="cell">* FSx_account_id*</block>
  <block id="323c4fdc16ad2dd9e846afbcd4b69b10" category="cell">（必填）將與FSX執行 個體相關聯的NetApp帳戶ID。如果未提供、Cloud Manager會使用第一個帳戶。如果沒有帳戶存在、Cloud Manager會建立新帳戶。您可以在Cloud Manager的帳戶索引標籤中找到帳戶ID、網址為<block ref="06d3516203a7f4d79163d93dd508b8c0" category="inline-link-rx"></block>。</block>
  <block id="7355bef79bff8e33a86af33fe4dcca8e" category="cell">* FSx_Workby_id*</block>
  <block id="97377fef3f33f9c8d1fb21c0d81cdf92" category="cell">（必填）工作環境的Cloud Manager工作區ID。</block>
  <block id="ab77fdca353b13807c947d554712d8eb" category="cell">* FSx_admin_password*</block>
  <block id="c4bd49cb0034d697fd71cae233c3966c" category="cell">* FSx_PFFUFF_capid*</block>
  <block id="e1ae53e33bf94a13f7d73cf885059ea6" category="cell">（選用）處理量的容量。</block>
  <block id="011dda542c81d29bda593f0cf6fafdfa" category="cell">* FSx_storage儲存容量_Size*</block>
  <block id="16b74c686b794890297f7ff7a9c98c9f" category="cell">（選用）第一個資料Aggregate的EBS Volume大小。若為GB、單位可以是：[100或500]。對於TB、單位可以是：[1、2、4、8、16]。預設值為「1」</block>
  <block id="da7d44d0ad606f586a3b1f567c8502d6" category="cell">* FSx_storage儲存容量_Size_unit*</block>
  <block id="5ec54d3d7d1db9fbf915daed12667b29" category="cell">（選用）['GB'或'TB']。預設值為「TB」。</block>
  <block id="07cc738168b47a86b740bc01e210b442" category="cell">* FSx_cloudmanager_AWs_認 證名稱*</block>
  <block id="48dbb4d925fe4a46f28c0a8466a2f628" category="cell">（必填）AWS認證帳戶名稱。</block>
  <block id="90305bb6fba97091f683e8b82f9bf805" category="summary">NetApp解決方案自動化可讓客戶將許多常見的基礎架構和應用程式工作的部署、組態和執行自動化。</block>
  <block id="a123daaac5749e4d0965aca160f0adfd" category="doc">NetApp解決方案自動化</block>
  <block id="d78228187c1a83d3bb4d8e97cd657807" category="paragraph">自動化可簡化NetApp解決方案的使用。</block>
  <block id="d1029167179320d8b6d70b11c3d01bd3" category="list-text">Ansible控制節點的需求：</block>
  <block id="9ced761647f5d80fe615526ffff63937" category="list-text">安裝下列套件的Ubuntu / Debian機器：</block>
  <block id="ca60b3698dd3d27a5f91e4dc0a1a2546" category="list-text">Python3.</block>
  <block id="4ce3ea126bb844d4f8c4ce1a65cbe3ae" category="list-text">管路3.</block>
  <block id="881cbd1ce3fdb52f73a82f8674a2a364" category="list-text">Ansible（版本高於2.10.0）</block>
  <block id="0bcc70105ad279503e31fe7b3f47b665" category="list-text">Git</block>
  <block id="6e3d8a0ff7934b777031953fe936bac8" category="paragraph">如果您有新安裝的Ubuntu / Debian機器、但未安裝上述要求、請依照下列步驟將該機器設定為Ansible控制節點：</block>
  <block id="532d3723890df934cc5c2c39477405a2" category="list-text">建立.sh檔案</block>
  <block id="e95a2c08843a70246648b7107a26cec4" category="list-text">將下列內容貼到檔案中</block>
  <block id="86c8310d98a974adb7ac7c4025dd8b5c" category="list-text">將檔案設定為可執行檔</block>
  <block id="22db3e24628482683b9bf06c38e497ee" category="list-text">執行指令碼（以root使用者身份）</block>
  <block id="3adefdd7d79d9a7c848b2dd81fd4feff" category="paragraph">本節包含各種Terraform組態檔案、可在Cloud Volumes ONTAP GCP（Google Cloud Platform）上部署/設定單一節點NetApp CVO（英文）。</block>
  <block id="b05dddcb6f00ee8dba8395d241b9d24d" category="list-text">將GCP驗證金鑰Json檔案儲存在目錄中。</block>
  <block id="44b4381353a1686f5b81f73f018d336c" category="list-text">更新「vars/gcp_CVO_sine_node_deployment.tfvars」中的變數值</block>
  <block id="2ac544064187c52d64d3eec81700dd42" category="admonition">您可以將變數「GCP_connector部署布爾」值設為true/false、以選擇部署連接器。</block>
  <block id="283162995c6eba560352663fa7cafbb3" category="paragraph">NetApp GCP連接器執行個體的Terraform變數、適用於CVO部署。</block>
  <block id="c0b4a62bb4903159c66ef5fd828dbb35" category="cell">* GCP_connector部署布爾*</block>
  <block id="3448a02a5105e0eeb2a6243836814f36" category="cell">* GCP_connector名稱*</block>
  <block id="982137a628765a4ede6a620653ab8bf6" category="cell">* GCP_connector專案_id*</block>
  <block id="816194da363b92545a1114d46c4943f1" category="cell">（必填）要建立連接器的GCP專案ID。</block>
  <block id="49a94de7b7e8762f961e471d657496eb" category="cell">* GCP_connector區域*</block>
  <block id="ff9633a62f1e60af63fc951afd6966bc" category="cell">（必填）要建立連接器的GCP區域。</block>
  <block id="c667eb31817317b5455e6a8883f4664a" category="cell">* GCP_connector公司*</block>
  <block id="9d1203849926481ebb6be1fb1d6ec3de" category="cell">* GCP_connector服務帳戶電子郵件*</block>
  <block id="d4a302e18b412231fe06e54e038aed80" category="cell">（必填）連接器執行個體的service_account電子郵件。此服務帳戶可讓Connector建立Cloud Volume ONTAP 。</block>
  <block id="0e3852268e0e5a3a486b8fcf6e3ae1c1" category="cell">* GCP_connector服務帳戶路徑*</block>
  <block id="f863e677d176e63d3642e53ae6b336b5" category="cell">（必填）用於GCP授權的service_account Json檔案本機路徑。此服務帳戶用於在GCP中建立Connector。</block>
  <block id="cfd7e4961aa34c5626712429d469ed18" category="cell">* GCP_connector帳戶ID*</block>
  <block id="231d57c65fc42941f6a520976dc80ec3" category="cell">（可選）Connector將關聯的NetApp帳戶ID。如果未提供、Cloud Manager會使用第一個帳戶。如果沒有帳戶存在、Cloud Manager會建立新帳戶。您可以在Cloud Manager的帳戶索引標籤中找到帳戶ID、網址為<block ref="ed21e31bd71ab546f26978ff562b5c5d" category="inline-link-rx"></block>。</block>
  <block id="9ea10c86ddbbfa93db9af98d0a38e7d7" category="paragraph">GCP上單一NetApp CVO執行個體的Terraform變數。</block>
  <block id="9d8a021dcdac02b1cffc5ee14bc79241" category="cell">* GCP_CVO_name*</block>
  <block id="bc023aad2be985e1a3252a959cb2c43b" category="cell">* GCP_CVO_PROPON_ID*</block>
  <block id="c7a61709c9cf6aa90f854f8e30110412" category="cell">（必填）GCP專案的ID。</block>
  <block id="6f74a6834cfd9c72b6694ae9ecb7f332" category="cell">* GCP_CVO_ZONE *</block>
  <block id="dea2d3525e8ec98bbd9a7931a8ed9921" category="cell">（必填）將建立工作環境的區域。</block>
  <block id="2c09e34e29e9c5f65d5d8ac921fd8105" category="cell">* GCP_CVO_GCP_service_account*</block>
  <block id="77853ddcc7178537c8d9c0301b71c991" category="cell">（必填）GCP_service_Account電子郵件、以便將冷資料分層至Google Cloud Storage。</block>
  <block id="ffb5588c947a413a01016a81af9ddbc7" category="cell">* GCP_CVO_SVM_password*</block>
  <block id="9507c3b760db1c7e6c8d1674933449e4" category="cell">* GCP_CVO_Workby_id*</block>
  <block id="4efb152d95f2b6b19ca1387a26e8f750" category="cell">（選用）您要部署Cloud Volumes ONTAP 的Cloud Manager工作區ID。如果未提供、Cloud Manager會使用第一個工作區。您可以在的「工作區」索引標籤中找到ID<block ref="ed21e31bd71ab546f26978ff562b5c5d" category="inline-link-rx"></block>。</block>
  <block id="7cbf1746ddada50a540811a75b633bfa" category="cell">* GCP_CVO授權類型*</block>
  <block id="108ccbda23ae580baf5fb86c14613837" category="cell">（選用）要使用的授權類型。對於單一節點：['容量-付費'、'GCP-cot-explore-paygo '、'GCP-cot-Standard-paygo '、'GCP-cot-paygo、'GCP-cot-payol'、]、 HA：['ha-cape-payga'、'gcp-ha-cot-explore-payga'、'gcp-ha-cot-Standard-payga'、'gcp-ha-cot-payga'、'gcp-ha-cot-payol']。單一節點的預設值為「cape-paygo」、HA的預設值為「ha-cape-paygo」。</block>
  <block id="ec6c16de8b82f3fc6c55f03f1d9a0848" category="cell">* GCP_CVO_capid_package_name*</block>
  <block id="564565c1364213fe3ffcef055b61947b" category="cell">（選用）容量套件名稱：「Essential」、「Professional」、「Freemium」。預設為「Essential」。</block>
  <block id="ac245610a2b7e434b78946f9ab069afe" category="paragraph">本節包含各種Terraform組態檔案、可在Cloud Volumes ONTAP GCP（Google Cloud Platform）上以高可用度配對部署/設定NetApp CVO（候選）。</block>
  <block id="00c7a940cc525046dc63cee112a8ef2d" category="list-text">更新「vars/gcp_CVO_ha_deployment.tfvars」中的變數值。</block>
  <block id="657426021b9624d6c24fae901c9998c1" category="paragraph">GCP上HA配對中NetApp CVO執行個體的Terraform變數。</block>
  <block id="2a20062f50c253ff821e16ab60e9bd71" category="cell">* GCP_CVO_is_ha*</block>
  <block id="c7d1d567eb3eec5faac1c3efbf5c63d6" category="cell">* GCP_CVO_node1_ZONE *</block>
  <block id="2cb70db8c1982b17ac705ceace5b64ae" category="cell">（選用）節點1的區域。</block>
  <block id="b231cdca0a533a8afcbf95810dcdd937" category="cell">* GCP_CVO_node2_ZONE *</block>
  <block id="2aad8f424dde09a3fb42570367a156de" category="cell">（選用）節點2的區域。</block>
  <block id="7dd3bb55d8d71efcb06fc86bbb29993a" category="cell">* GCP_CVO _中介_區域*</block>
  <block id="767c5594dfa391fbb74bd9360557a0a8" category="cell">（選用）中介區域。</block>
  <block id="4ecd0da4e352bb336bd4c5925e627fbb" category="cell">* GCP_CVO_VPC_id*</block>
  <block id="0a49d29112682612dc74e881a68deed0" category="cell">（選用）VPC的名稱。</block>
  <block id="eedae790807f6f5998c1d5b2eccfcf91" category="cell">* GCP_CVO_SUBNET_ID*</block>
  <block id="dbb13624053bb884443eb3a8a891a35e" category="cell">（選用）Cloud Volumes ONTAP 子網路名稱以供填寫。預設值為：「預設」。</block>
  <block id="5fbbd2383d042b5ab01878b936e467ff" category="cell">* GCP_CVO_vpc0_node_and _data_Connectivity *</block>
  <block id="24239aec58a00d53d32147d2e71cca4d" category="cell">（選用）NIC 1的VPC路徑、節點和資料連線所需。如果使用共享VPC、則必須提供網路網路專案ID。</block>
  <block id="b1dd5e2b134fc3db50406e05c7ae6c38" category="cell">* GCP_CVO_vpc1_cluster連線能力*</block>
  <block id="714e5d0cdfde4cbf4df83df266c672e7" category="cell">（選用）叢集連線所需的NIC路徑。</block>
  <block id="f8d315b03e4b926495b923dfe4b49b23" category="cell">* GCP_CVO_vpc2_ha_Connectivity *</block>
  <block id="5c144c2c76f5d988024f4d7398060d71" category="cell">（選用）NIC 3的VPC路徑、HA連線所需。</block>
  <block id="1366961106ddc181e83c467cf5559a14" category="cell">* GCP_CVO_vpc3_data_repletion*</block>
  <block id="b4be5ce15bf4e51acd3167c47e79955f" category="cell">（可選）用於NIC 4的VPC路徑、資料複寫所需的路徑。</block>
  <block id="065308400ba1fac48f2ca62781d79dff" category="cell">* GCP_CVO_Subnet0_node_and _data_netion*</block>
  <block id="2a33bb449fd47fa1f379b60f3e1473ca" category="cell">（選用）NIC 1的子網路路徑、節點和資料連線所需。如果使用共享VPC、則必須提供網路網路專案ID。</block>
  <block id="da8a35439720c0bc705f001b954bd61e" category="cell">* GCP_CVO_Subnet1_cluster連線能力*</block>
  <block id="01b515c3b8d74ae94df6572b47a3f06d" category="cell">（選用）叢集連線所需的NIC 2子網路路徑。</block>
  <block id="7ea43f4ca8d2a868f20df11b9e0b39b2" category="cell">* GCP_CVO_Subnet2_ha_Connectivity *</block>
  <block id="a35bd275122015b3834d13c0dc72b87f" category="cell">（選用）NIC 3的子網路路徑、HA連線所需的子網路路徑。</block>
  <block id="16c5273854a933d221200af8f06d106a" category="cell">* GCP_CVO_Subnet3_data_replet*</block>
  <block id="b36fab455a4e11803791a090935906af" category="cell">（選用）資料複寫所需的NIC 4子網路路徑。</block>
  <block id="e69179170f564daf56d8694c1c5d35fe" category="cell">* GCP_CVO_GCP_Volume _Size*</block>
  <block id="eb01714b284e762b9c44adfa5575690c" category="cell">（選用）第一個資料Aggregate的GCP Volume大小。若為GB、單位可以是：[100或500]。對於TB、單位可以是：[1、2、4、8]。預設值為「1」。</block>
  <block id="4c767d9b6ddddf4abeaece5590c0b101" category="cell">* GCP_CVO_GCP_Volume _Size_unit*</block>
  <block id="944ce323a5a1ffb09543fd409911cc88" category="open-title">CVS Volume</block>
  <block id="ffcc65b297748299934a184d39035ae4" category="paragraph">本節包含各種Terraform組態檔案、可在GCP（Google Cloud Platform）上部署/設定NetApp CVS（Cloud Volumes Services）Volume。</block>
  <block id="732c3eabba1449281a4fddb59dbddcac" category="paragraph">Terraform文件：<block ref="35b7d5c9a11899e5d5e07079551e8cef" category="inline-link-rx"></block></block>
  <block id="d203294ba4c28418657d90a7f8a7510d" category="list-text">更新「vars/gcp_CVS磁碟區.tfvars」中的變數值。</block>
  <block id="40686c9084c59387baf48000dd09e6ab" category="paragraph">"CVS Volume（CVS Volume）"</block>
  <block id="3efdf9b0e7f4af483444f271367d6361" category="paragraph">NetApp GCP CVS Volume的Terraform變數。</block>
  <block id="0ffdc0b2b4889601b216ab5087650d46" category="cell">* GCP_CVs_name*</block>
  <block id="8ff48dd93ed73eb9adc26090e58ed80b" category="cell">（必填）NetApp CVS Volume的名稱。</block>
  <block id="b6759cef3cfc5890deb6a790f73c8b79" category="cell">* GCP_CVs_PROPON_ID*</block>
  <block id="b0257576709acc899b5376a171c3cd98" category="cell">（必填）要建立CVS Volume的GCP專案ID。</block>
  <block id="447b0e81ae249b907128b7ea83e045c5" category="cell">* GCP_CVs_GCP_service_account_path*</block>
  <block id="820ecb1b7a653c1e2dece0176d15eaed" category="cell">（必填）用於GCP授權的service_account Json檔案本機路徑。此服務帳戶用於在GCP中建立CVS Volume。</block>
  <block id="6cb8bdefdf91cd2d80f6d9849de25fb8" category="cell">* GCP_CVs_region*</block>
  <block id="ec9461de174e3ad866c58b577c94034b" category="cell">（必填）要建立CVS Volume的GCP區域。</block>
  <block id="fc944aa114b94de895d84f5375000c0b" category="cell">* GCP_CVs_network*</block>
  <block id="23a1cb77eeeabfd36bbab18e5de9f0dc" category="cell">（必要）磁碟區的網路VPC。</block>
  <block id="31681a1878caf611cea11e159a4fc1aa" category="cell">* GCP_CVs_Size*</block>
  <block id="a0faef0851b4294c06f2b94bb1cb2044" category="cell">整數</block>
  <block id="6f84d4d0c83121512056657a2dc0e808" category="cell">（必填）Volume大小介於1、024至102400（含GiB）之間。</block>
  <block id="5c1eb3efe4738cb21efadc992aeeef81" category="cell">* GCP_CVs_Volume路徑*</block>
  <block id="bacdc6093d23e2f886b0cb0609418030" category="cell">（選用）Volume的Volume路徑名稱。</block>
  <block id="0467ee670bdb8fff57da77368d6d5385" category="cell">* gcp_CVS傳輸協定類型*</block>
  <block id="b91db1bd1a57ea4c9953036d82a63e95" category="cell">（必要）Volume的傳輸協定類型。對於NFS、請使用「NFSv3」或「NFSv3」、而對於SMB則使用「CIFS」或「SMB」。</block>
  <block id="5c263f30899f93ff7ccd457ad3eb956f" category="list-text">安裝下列套件的RHEL/CentOS機器：</block>
  <block id="7b643b0eef9cf1199195fa05b77fc3c8" category="paragraph">如果您有一部全新的RHEL/CentOS機器、但未安裝上述需求、請依照下列步驟將該機器設定為「Ansible Control Node（可控制節點）」：</block>
  <block id="d2052f202108defaf6afc7831ba59362" category="list-text">啟用RHEL-8/RHEL-7的Ansible儲存庫</block>
  <block id="61fbc2f21db84f17551fda6893429d16" category="list-text">適用於RHEL-8（以root執行下列命令）</block>
  <block id="77cd42f765e6b40764459a64a979f90c" category="list-text">適用於RHEL-7（以root執行下列命令）</block>
  <block id="0d6f6c74055e04156e36ddb127070a54" category="open-title">ANF</block>
  <block id="3f5bad999be275e4e9cf0728a13bf09c" category="paragraph">本節包含各種Terraform組態檔案、可在Azure NetApp Files Azure上部署/設定anf（簡稱「還原」）Volume。</block>
  <block id="61d66a29b98e4203b3fc2ea2884a6c5f" category="paragraph">Terraform文件：<block ref="745f55dd9f8ecc62d59e6b03ca9efbb7" category="inline-link-rx"></block></block>
  <block id="369baedac810ebc745ed2edf7754972b" category="list-text">登入Azure CLI（必須安裝Azure CLI）。</block>
  <block id="443ff7602b19f9692863937e763e1ad2" category="list-text">更新「vars/azure_anf.tfvars」中的變數值。</block>
  <block id="95f6ca118177fad8a1dd7e7abb74ce56" category="admonition">您可以選擇使用現有的vnet和子網路來部署ANF磁碟區、方法是將變數「vnet_creation_bool」和「subnet_creation_bool」值設為假、並提供「subnet_id_for_anf_vol」。您也可以將這些值設為true、然後建立新的vnet和子網路、在這種情況下、子網路ID會自動取自新建立的子網路。</block>
  <block id="cb01f53471a55574a36eafb375d9493a" category="paragraph">單一NetApp ANF Volume的Terraform變數。</block>
  <block id="98bcef9bf5f44342e688bc29fb3fcbca" category="cell">* AZ位置*</block>
  <block id="4b05afb76d83065313c3740cd392a5ca" category="cell">（必填）指定資源所在的受支援Azure位置。變更這項設定會強制建立新資源。</block>
  <block id="861c040d5ed0212e4bc2aa4f92a2b861" category="cell">* AZ_prefix*</block>
  <block id="e6f149d38df85bed35faeca44370c01c" category="cell">（必填）應建立NetApp Volume的資源群組名稱。變更這項設定會強制建立新資源。</block>
  <block id="7aa7ec2fc803d9041e6dfd5e142dcd23" category="cell">* AZ_vnet_address_space*</block>
  <block id="c8b090fd446e4181ed79e8e50bed7b91" category="cell">（必要）新建立的vnet用於ANF Volume部署的位址空間。</block>
  <block id="c5b9420927a71e0bcd6f4c621c66910f" category="cell">* AZ_SUBNET_address_prefix*</block>
  <block id="94c126b468fd9c408abdff2cccd827a4" category="cell">（必填）新建立的vnet用於anf Volume部署的子網路位址首碼。</block>
  <block id="3c3133cb45a10a4ec442a4589636bfe1" category="cell">* AZ Volume路徑*</block>
  <block id="c8fb8ccec1ede566cac7b410b7623186" category="cell">（必要）磁碟區的唯一檔案路徑。用於建立掛載目標。變更這項設定會強制建立新資源。</block>
  <block id="5e51835c1dd28fa3cab3636a6beb8016" category="cell">* AZ容量_Pool_Size*</block>
  <block id="0db20ddc31a427cc02802395aa53db7f" category="cell">（必填）容量資源池大小、以TB為範圍。</block>
  <block id="32c4a6ca695ae0fd3f41efe5ab8d3ffc" category="cell">* AZ vnet_creation_bbool *</block>
  <block id="27226c864bac7454a8504f8edb15d95b" category="cell">布林值</block>
  <block id="55a1cc8d235c0ca9bd0cf384e2db1fb2" category="cell">（必填）如果您要建立新的vnet、請將此布林值設為「true」。將其設為「假」以使用現有的vnet。</block>
  <block id="be85fde9f0fcdf86be8ede4b5939a9bf" category="cell">* AZ子網路_建立_ bool *</block>
  <block id="4b079d5e017c7403047fbbd37df93368" category="cell">（必填）將布林值設為「true」、以建立新的子網路。將其設為「假」以使用現有的子網路。</block>
  <block id="bb74e9c4e24089c59a6af0a7a016b586" category="cell">* AZ子網路_id_for_anf_vol*</block>
  <block id="52c0fe6a129fdcf33be82680a15b2d37" category="cell">（必填）如果您決定使用現有子網路、請提及子網路ID、方法是將「shubnet_creation_bool」設為true。如果設為假、請保留預設值。</block>
  <block id="8376cf4b94c63b51d5e0113c299a75a0" category="cell">* AZ _NetApp_Pool_service_level *</block>
  <block id="061fce6317efb41fcda88b5333cb0cc2" category="cell">（必要）檔案系統的目標效能。有效值包括"Premium"、"tandard"或"Ultra"。</block>
  <block id="cd145efde532a4a27c5b6687f4b5f1c0" category="cell">* AZ _NetApp_vol_service_level *</block>
  <block id="d655c67b837d5b3363d556955802b670" category="cell">* AZ_NetApp_vol_PROPON*</block>
  <block id="9e2a44ac250e0b60bce77fba70ebfd70" category="cell">（選用）以清單形式表示的目標Volume傳輸協定。支援的單一值包括「CIFS」、「NFSv3」或「NFSv4.1」。如果未定義參數、則預設為NFSv3。變更這項設定會強制建立新資源、而且資料將會遺失。</block>
  <block id="cac15590a2775bfeaf5f70c36186a840" category="cell">* AZ_NetApp_vol_SECID_風格*</block>
  <block id="80f43a817b6716a1a82af5fe18f178cd" category="cell">（選用）Volume安全型態、接受的值為「Unix」或「NTFS」。如果未提供、則會建立單一傳輸協定磁碟區、如果是「NFSv3」或「NFSv4.1」磁碟區、如果是「CIFS」、則預設為「NTFS」。如果未提供雙傳輸協定磁碟區、其值將為「NTFS」。</block>
  <block id="b095a46d015fe5581a97472eedb3e645" category="cell">* AZ_NetApp_vol_storage儲存配額*</block>
  <block id="aaff31e02103a31c6f08943798a84789" category="cell">（必填）檔案系統允許的最大儲存配額（GB）。</block>
  <block id="7bc40f4d4f846e8c7177d752ac52b775" category="open-title">ANF資料保護</block>
  <block id="56978261632f1f36ad5f3f3ea6d2cb4b" category="paragraph">本節包含各種Terraform組態檔案、可在Azure NetApp Files Azure上部署/設定含資料保護功能的ANF（還原）Volume。</block>
  <block id="9b3e184737a0a337479622611ba072b7" category="list-text">更新「vars/azure_anf_data_protection」中的變數值。</block>
  <block id="bf052e3d77cd2cde5fa905542df51c46" category="paragraph">「ANF資料保護」</block>
  <block id="c47acd947f63c78f7729c5c176778d53" category="paragraph">啟用資料保護的單一anf Volume的Terraform變數。</block>
  <block id="17745d8782266e5f08c77485447c8727" category="cell">* AZ_Alt_location *</block>
  <block id="3bfeadf4c47a658ca94a6066aee32aaa" category="cell">（必填）要建立次要Volume的Azure位置</block>
  <block id="2558355ccfd79f11c2c7771d473c28a9" category="cell">* AZ_vnet_primer_address_space*</block>
  <block id="cc551875f8711aaffc6141f504677c0b" category="cell">（必要）新建立的vnet用於ANF主要Volume部署的位址空間。</block>
  <block id="ea5f0cd471c631d7531bb7fd3b5bac8a" category="cell">* AZ_vnet_secondary地址空間*</block>
  <block id="fffcb59495331e54049ce33d3dcdf943" category="cell">（必要）新建立的vnet用於ANF次要Volume部署的位址空間。</block>
  <block id="88220764f0745e8a07a6578ee5a34962" category="cell">* AZ_SUBNET_PRIMAR_address_prefix*</block>
  <block id="02b00c599f6c249474a4fa82513b5ae3" category="cell">（必填）新建立的vnet用於ANF主要Volume部署的子網路位址首碼。</block>
  <block id="1bef049d5f330664e35cad0a064c3b9c" category="cell">* AZ_SUBNET_SUBNET_address_prefix*</block>
  <block id="1b60506e52e47ecc443e5be52dca93d7" category="cell">（必填）新建立的vnet用於ANF次要Volume部署的子網路位址首碼。</block>
  <block id="897362b63a34b0eb8e1453709c1f8403" category="cell">* AZ Volume路徑_主要*</block>
  <block id="1240d8345e0d2e3e79133040103d900c" category="cell">（必填）主磁碟區的唯一檔案路徑。用於建立掛載目標。變更這項設定會強制建立新資源。</block>
  <block id="b9dd6d654f6dd5777451c38ccbb3a90f" category="cell">* AZ Volume路徑_次要*</block>
  <block id="2d48913a4e9f87154afa26a5629292ac" category="cell">（必要）次要Volume的唯一檔案路徑。用於建立掛載目標。變更這項設定會強制建立新資源。</block>
  <block id="06c1e84417c5bf369b90b26dd5249917" category="cell">* AZ容量_Pool_Size_primary *</block>
  <block id="3d618d26614058ac7e5a064cbe202b90" category="cell">* AZ容量_Pool_Size_secondary *</block>
  <block id="900391b8f681698a00a1d7681c809eae" category="cell">* AZ_vnet_primer_creation_bool *</block>
  <block id="ee71ed057be46b5303595075681242b3" category="cell">（必填）如果您要為主要Volume建立新的vnet、請將此布林值設為「true」。將其設為「假」以使用現有的vnet。</block>
  <block id="1f3233bfcd515798625102d02489c9c2" category="cell">* AZ _vnet_secondary _creation_bool *</block>
  <block id="8a5a92fb6843cb45a9752dac34d8056a" category="cell">（必填）如果您要為次要Volume建立新的vnet、請將此布林值設為「true」。將其設為「假」以使用現有的vnet。</block>
  <block id="0276da5ab0cbfd3afccac3236ff88906" category="cell">* AZ_SUBNET_PRIMAR_creation_bool *</block>
  <block id="ba2f66ccca4d07fb389900a4c72596a7" category="cell">（必填）將此布林值設為「true」、為主要Volume建立新的子網路。將其設為「假」以使用現有的子網路。</block>
  <block id="78a2830c902a8a1eb6bbedc95b8e859d" category="cell">* AZ子網路_二線建立_ bool *</block>
  <block id="1b869ff43f405cb5056d067f1ce0ea2c" category="cell">（必填）將此布林值設為「true」、為次要Volume建立新的子網路。將其設為「假」以使用現有的子網路。</block>
  <block id="004f2f461ceadcb0d344b03f2f00c53d" category="cell">* AZ_PRIMAR_SUBNET_ID_for_anf_vol*</block>
  <block id="387a4516572f71aa24490f3bbfc695ef" category="cell">（必填）如果您決定使用現有子網路、請將「shubnet_primary _creation_bool」設為true。如果設為假、請保留預設值。</block>
  <block id="2e9685846dda27855273fdf064f9e6ab" category="cell">* AZ_SUBNET_ID_for_anf_vol*</block>
  <block id="bf5c8bfc6d7cc2d5fe6e7931244a30eb" category="cell">（必填）如果您決定使用現有子網路、請提及子網路ID、方法是將「shubnet_secondary _creation_bool」設為true。如果設為假、請保留預設值。</block>
  <block id="ac839f935b4bbb6bed9bda28a8e642c6" category="cell">* AZ _NetApp_Pool_service_level _primary *</block>
  <block id="8cb34f1d64a5bf358b0d3a349ca5bc2f" category="cell">* AZ _NetApp_Pool_service_level _secondary *</block>
  <block id="7ad9306273877be4925eef5c298c8082" category="cell">* AZ_NetApp_vol_service_level主*</block>
  <block id="5614656fa00c06faf1c3484531a679a9" category="cell">* AZ _NetApp_vol_service_level _secondary *</block>
  <block id="4f517398039e7c48806d41487b9419bc" category="cell">* AZ_NETAPP _vol_PROPON_PRIMAR*</block>
  <block id="82b777cb90770b16388fa42e12e046ab" category="cell">* AZ_NETAPP _vol_PROPIDATER_secondary *</block>
  <block id="59783d86d863461df5e6d03ac2bb42df" category="cell">* AZ_NetApp_vol_storage儲存配額_primary *</block>
  <block id="de8fa216337d1b3497efb08ceeb2ba75" category="cell">* AZ_NetApp_vol_storage儲存配額_secondary *</block>
  <block id="0b11ea56e0e5211214ff431c4e076717" category="cell">* AZ_DP_replation_frequency *</block>
  <block id="79ce3fc5fe45b145bb343376fe5351b9" category="cell">（必填）複寫頻率、支援的值為「10分鐘」、「每小時」、「每日」、值區分大小寫。</block>
  <block id="c623b4e11f7cb20ff0b7c24a72d3f0ef" category="open-title">ANF雙協定</block>
  <block id="d25220d03f7afcb6f5edcbc46e369d45" category="paragraph">本節包含各種Terraform組態檔案、可在Azure NetApp Files Azure上啟用雙傳輸協定的情況下部署/設定ANF（還原）Volume。</block>
  <block id="9568461c901e88398bed16e11ad813d3" category="list-text">更新「vars/azure_anf_die_protocol.tfvars」中的變數值。</block>
  <block id="d263b475ab751de671d08455b33997c1" category="paragraph">已啟用雙傳輸協定的單一anf Volume的Terraform變數。</block>
  <block id="b183512797a1d9ea69a8dab9e27df52c" category="cell">* AZ_NetApp_vol_Protocol1*</block>
  <block id="20fd02f6a193c7aeaee651654a332933" category="cell">（必填）目標Volume傳輸協定、以清單形式表示。支援的單一值包括「CIFS」、「NFSv3」或「NFSv4.1」。如果未定義參數、則預設為NFSv3。變更這項設定會強制建立新資源、而且資料將會遺失。</block>
  <block id="cc032be5baf5b9484eb2d659f4e314c6" category="cell">* AZ_NetApp_vol_Protocol2*</block>
  <block id="910944ff76e7b2acfc482a34501df6f5" category="cell">* AZ SMB伺服器使用者名稱*</block>
  <block id="152372e48ac8f85f2e4908c5a1489a78" category="cell">（必填）建立ActiveDirectory物件的使用者名稱。</block>
  <block id="239e5edf090c4c70025b340f651694cc" category="cell">* AZ SMB伺服器密碼*</block>
  <block id="7b05e834084d190fe540481374f4fe0d" category="cell">（必填）建立ActiveDirectory物件的使用者密碼。</block>
  <block id="4e2be381ec92158458ceef11bdf41ef7" category="cell">* AZ SMB伺服器名稱*</block>
  <block id="533dd582bfe3528b9b6ae4ff1889bd8f" category="cell">（必填）建立ActiveDirectory物件的伺服器名稱。</block>
  <block id="f17c01535ba9f04720700d5e0d17172a" category="cell">* AZ SMB DNS伺服器*</block>
  <block id="e70256203c6e23fcee3efa8d56fcfa85" category="cell">（必要）DNS伺服器IP以建立ActiveDirectory物件。</block>
  <block id="bdf618611712c6caa6fd0340470ee9f2" category="open-title">ANF Volume（快照）</block>
  <block id="174e6e8f24023c93c7c470267f4c2376" category="paragraph">本節包含各種Terraform組態檔案、可從Azure NetApp Files Azure上的Snapshot部署/設定anf（簡稱「EF」）Volume。</block>
  <block id="215d5ed09cbe3ca5b10c6d616024053a" category="list-text">更新「vars/azure_anf_volume _from快照.tfvars」中的變數值。</block>
  <block id="a753ff452c91c6e4de63b907e8253e05" category="paragraph">使用Snapshot的單一anf Volume的Terraform變數。</block>
  <block id="57bd49c8f9a43967f48ec8f1f3ca2846" category="cell">* AZ_snapshot _id*</block>
  <block id="ff461cb79e6adda28ae488782f0da97f" category="cell">（必填）將使用哪個Snapshot ID建立新的ANF磁碟區。</block>
  <block id="ca7ce11916c29a2c94b4fd33dc0b6313" category="paragraph">本節包含各種Terraform組態檔案、可在Cloud Volumes ONTAP Azure上部署/設定單一節點CVO（英文）。</block>
  <block id="04107ff6b0460381c55ff620a1021254" category="list-text">更新「vars\azure_CVO_sine_node_deployment.tfvars」中的變數。</block>
  <block id="73b95097cc4819b49af28734c8da85f9" category="paragraph">單節點Cloud Volumes ONTAP 的Terraform變數（CVO）。</block>
  <block id="3226e634f46cb19ab313171144dd34bd" category="cell">*重新整理權杖*</block>
  <block id="d687ff26916f17fd879c87b138961b29" category="cell">（必填）NetApp雲端管理程式的更新權杖。這可從NetApp Cloud Central產生。</block>
  <block id="2c64afa8a46290b632eba256c644932c" category="cell">* AZ連接器名稱*</block>
  <block id="3eb8706ea09733709f78eddf34865fc5" category="cell">* AZ_connector位置*</block>
  <block id="758699b195f5916d500521462cf30da9" category="cell">（必填）建立Cloud Manager Connector的位置。</block>
  <block id="1fab22f54c2298a6c193e9dbf02a5f40" category="cell">* AZ_connector訂購_id*</block>
  <block id="3eaa20b60039584fbaada041b1e9c27b" category="cell">（必填）Azure訂閱的ID。</block>
  <block id="15a22866556f3e50073015243ddd7953" category="cell">* AZ_connector公司*</block>
  <block id="d6da30a455e4a736b78aebafd5a574ec" category="cell">* AZ_connector資源群組*</block>
  <block id="7869ff24b2017b68dfcffe9346969d04" category="cell">（必填）Azure中要建立資源的資源群組。</block>
  <block id="9ddf31c7bd196ef12b5afc14819332ae" category="cell">* AZ連接器_SUBNET_ID*</block>
  <block id="a41a332f5c3dda90835d004d4471e0a8" category="cell">（必填）虛擬機器的子網路名稱。</block>
  <block id="dabe6b258248c0eefb5e7f8ef812c828" category="cell">* AZ連接器_vnet_id*</block>
  <block id="5209c2acb9f23446cfa41482e2ff8ee2" category="cell">（必填）虛擬網路的名稱。</block>
  <block id="d00bbff7436422db546132791ca30dd2" category="cell">* AZ連接器_網路_安全_群組名稱*</block>
  <block id="b5033b19e9c2388be995930fb1c49365" category="cell">（必填）執行個體的安全性群組名稱。</block>
  <block id="54dee4dedf4b10ae9a250e887c349324" category="cell">* AZ連接器_關聯_公用IP位址*</block>
  <block id="c954a4a98e68d0734dcd6d7ad00db3f5" category="cell">（必填）指出是否要將公用IP位址與虛擬機器建立關聯。</block>
  <block id="d363651cb914dfbc47f512db8ce8a9c0" category="cell">* AZ_connector帳戶ID *</block>
  <block id="53b73bbe0bca0a3d51fbda15ecc058db" category="cell">（必填）Connector將與之關聯的NetApp帳戶ID。如果未提供、Cloud Manager會使用第一個帳戶。如果沒有帳戶存在、Cloud Manager會建立新帳戶。您可以在Cloud Manager的帳戶索引標籤中找到帳戶ID、網址為<block ref="ed21e31bd71ab546f26978ff562b5c5d" category="inline-link-rx"></block>。</block>
  <block id="b851f892237fb399ca9999caee142ccf" category="cell">* AZ連接器管理密碼*</block>
  <block id="aa98915ce83ffe89562020e5b4d9a376" category="cell">（必填）Connector的密碼。</block>
  <block id="1b9c1e319401f16966d7280c81cdc8dc" category="cell">* AZ連接器_admin_username*</block>
  <block id="e0f32faffed9caaca61e86caae050f17" category="cell">（必填）Connector的使用者名稱。</block>
  <block id="425624e10c5de04d471a55e4a8b35e31" category="cell">* AZ CVO名稱*</block>
  <block id="52ebf6980a494c352ee150c2b801af6e" category="cell">* AZ _CVO位置*</block>
  <block id="7bd8d7a58d3957cf7697ceb3467bffae" category="cell">（必填）工作環境的建立位置。</block>
  <block id="8da06548b40415fd473a86a6dba80f82" category="cell">* AZ_CVO_SUBNET_ID*</block>
  <block id="a5ab436e757f5af2106d5ed5e5dd9df0" category="cell">（必填）Cloud Volumes ONTAP 該子網路的名稱。</block>
  <block id="f71ced0388b772479b4e5fba15c83077" category="cell">* AZ_CVO_vnet_id*</block>
  <block id="7d2219b61301dda6352db570bb7c5034" category="cell">* AZ_CVO_vnet_resource_group*</block>
  <block id="fecf56abdc6b5472c8da399cad7791b3" category="cell">（必填）Azure中與虛擬網路相關的資源群組。</block>
  <block id="c63d2e90acb0448db277b1b5b8a8d1fa" category="cell">* AZ CVO資料加密類型*</block>
  <block id="e472a1445850887a7f62ae832b27693a" category="cell">（必填）用於工作環境的加密類型：['Azure '、'none'。預設值為「Azure」。</block>
  <block id="a09db82d06138c721102bb24bf44745c" category="cell">* AZ _CVO儲存設備類型*</block>
  <block id="0f0f84813d06e378040fbcf33a733c2c" category="cell">（必填）第一個資料Aggregate的儲存類型：['Premium_LRs'、'tandard_LRs'、'tandardSSD_LRs'。預設值為「Premium_LRS」</block>
  <block id="2dc6453586c69ea950eec68d5ac9658c" category="cell">* AZ_CVO_SVM_Password*</block>
  <block id="404c8599d393a19d0cd6354f8b6ae58c" category="cell">* AZ_CVO_Workby_id*</block>
  <block id="ec0d845babe316d32a485960e8788bd0" category="cell">（必填）您要部署Cloud Volumes ONTAP 的Cloud Manager工作區ID。如果未提供、Cloud Manager會使用第一個工作區。您可以在的「工作區」索引標籤中找到ID<block ref="ed21e31bd71ab546f26978ff562b5c5d" category="inline-link-rx"></block>。</block>
  <block id="868f934d26dc5bf64ab570c48f38be79" category="cell">* AZ_CVO_capize_Tier *</block>
  <block id="e8dcbe7d10f08e94b9057a584009a175" category="cell">（必填）是否為第一個資料Aggregate啟用資料分層：['Blob、'none]。預設值為「BLOB」。</block>
  <block id="25390bc170c676096ec93edd61a5dca6" category="cell">* AZ _CVO寫入速度狀態*</block>
  <block id="b632952868dfa1143652e0c226514318" category="cell">（必填）Cloud Volumes ONTAP 寫入速度設定：['normal'、'High（高速）]。預設值為「正常」。此論點與HA配對無關。</block>
  <block id="52742ffdac7415fc1d35c1a6d0d9fb7a" category="cell">* AZ_CVO_ONTAP_VERV*</block>
  <block id="90e696b73ff714675fc926a955cc68e1" category="cell">（必填）所需ONTAP 的版本。如果「US_Latest版本」設定為true、則會忽略此選項。預設為使用最新版本。</block>
  <block id="39a41303384652e186a359e5d96e8014" category="cell">* AZ _CVO執行個體類型*</block>
  <block id="fb03bbd04a925d04740ba3d3eae2e8b6" category="cell">（必填）要使用的執行個體類型、取決於您選擇的授權類型：Explore：['標準dard_DS3_v2'、標準：['標準dard_DS4_v2、標準_DS13_v2、標準_L8s_v2]、Premium：['標準DS5_v2'、標準dard_DS14_v2'、依「全部」、依使用者類型」、「全部使用者」、「全部」、「全部」、「全部」、「全部」如需更多支援的執行個體類型、請參閱Cloud Volumes ONTAP 《發行說明》。預設值為「tandard_DS4_v2」。</block>
  <block id="c0abbc4097de55ad558bd265d5e19b2e" category="cell">* AZ_CVO授權類型*</block>
  <block id="337fb3a0d6e4f27fa4187c6e10b9d41b" category="cell">（必填）要使用的授權類型。單一節點：[azure-cot-explore-payga]、"azure-cot-Standard-payga"、"azure-cot-payga"、"azure-cot-payol"、"capite-payga"。HA：[azure-ha-cot-Standard-payga]、"azure-ha-cot-payga"、"azure-ha-cot-payol"、"ha-cape-payga"。預設值為「azure-cot-Standard-paygo」。在選擇「自帶授權類型容量型」或「Freemium」時、請使用HA的「cape-paygo」或「ha-cape-paygo」。在選擇「自帶授權類型節點型」時、請使用HA的「azure-cot-Premium byol」或「azure-ha-cot-Premium byol」。</block>
  <block id="5e952a0432dfc8995121e15b76aa554a" category="cell">* AZ_CVO_NSS_ACON*</block>
  <block id="c3ae78309504c231f8afd5bc3790d119" category="cell">（必填）NetApp支援網站帳戶ID、可搭配此Cloud Volumes ONTAP 系統使用。如果授權類型為BYOL、但未提供任何NSS-帳戶、Cloud Manager會嘗試使用第一個現有的NSS-帳戶。</block>
  <block id="e7e63db47174977525dadf7a52fc6b39" category="cell">* AZ租戶ID *</block>
  <block id="66093475775d81b74da52f4377ff5ce5" category="cell">（必填）Azure中註冊之應用程式/服務委託人的租戶ID。</block>
  <block id="7934d010494793aec0f365d710cdf720" category="cell">* AZ_Application_id*</block>
  <block id="587bfaa720a64e832c9eef635797e8d8" category="cell">（必填）在Azure中註冊之應用程式/服務委託人的應用程式ID。</block>
  <block id="67830019a9948cfd51759684b5f8a262" category="cell">* AZ應用程式金鑰*</block>
  <block id="56d6515673e3c08156696c47a943c020" category="cell">（必填）在Azure中註冊之應用程式/服務委託金鑰。</block>
  <block id="353190ef77d18ad13aeb6b4f0f3ddd66" category="paragraph">本節包含各種Terraform組態檔案、可在Cloud Volumes ONTAP Azure上部署/設定CVO（簡稱「還原」）HA（高可用度）。</block>
  <block id="522a4529185faee9fa34a9398ab7263f" category="list-text">更新「vars\azure_CVO_ha_deployment.tfvars」中的變數。</block>
  <block id="e2da3e968f76091801635ce624569dcb" category="paragraph">"HA配對執行個體"</block>
  <block id="86ed32721429fbcc7b5e123836e3ebcd" category="paragraph">HA配對Cloud Volumes ONTAP 的Terraform變數（CVO）。</block>
  <block id="72170ff3a9ca936d7855297f0bbd1eeb" category="cell">（必填）要使用的執行個體類型、取決於您選擇的授權類型：Explore：['標準dard_DS3_v2'、標準：[「標準dard_DS4_v2、標準DS13_v2、標準L8s_v2」]、Premium：['標準DS5_v2'、 「tandard_DS14_v2」、BYOL：為PayGo定義的所有執行個體類型。如需更多支援的執行個體類型、請參閱Cloud Volumes ONTAP 《發行說明》。預設值為「tandard_DS4_v2」。</block>
  <block id="b515d8e49b6ef626aa91dbd970708132" category="cell">（必填）要使用的授權類型。單一節點：['azure-cot-explore-paygo、azure-cot-Standard-paygo、azure-cot-paygo、azure-cot-payol、cape-payga]。對於HA：['azure-ha-cot-Standard-paygo、azure-ha-cot-paygo、azure-ha-cot-payol、ha-cape-payga]。預設值為「azure-cot-Standard-paygo」。在選擇「自帶授權類型容量型」或「Freemium」時、請使用HA的「cape-paygo」或「ha-cape-paygo」。在選擇「自帶授權類型節點型」時、請使用HA的「azure-cot-Premium byol」或「azure-ha-cot-Premium byol」。</block>
  <block id="d82dd9b3245382b365106db0568113e8" category="summary">NetApp解決方案自動化可讓客戶將許多常見的基礎架構和應用程式工作的部署、組態和執行自動化。</block>
  <block id="2aa17d37bd2483f97468ab7653396786" category="paragraph">本節說明在AWX/Ansible Tower中設定參數所需的步驟、這些參數可讓環境做好使用NetApp自動化解決方案的準備。</block>
  <block id="134d501fee5367069f0746f15302ce1f" category="list-text">設定庫存。</block>
  <block id="0fb1db9928d7fc107d96c13f1918b639" category="list-text">瀏覽至「資源」→「庫存」→「新增」、然後按一下「新增庫存」。</block>
  <block id="2623b8eb8fcaecc009c3b78cc6e7d391" category="list-text">提供名稱和組織詳細資料、然後按一下「Save（儲存）」。</block>
  <block id="cc243ac3e015aef331656a4bff40241c" category="list-text">在「Inventory（清單）」頁面中、按一下您剛建立的詳細目錄資源。</block>
  <block id="b0ddb214e9aa4a84bc80e6af8c6b2adf" category="list-text">如果有任何庫存變數、請將其貼到變數欄位。</block>
  <block id="5d7863780eab69b6b968cfc9dc6e66bc" category="list-text">前往「Groups（群組）」子功能表、然後按一下「Add（新增）」</block>
  <block id="ec51931bb91bc912d609f2099974dfd9" category="list-text">提供群組名稱、複製群組變數（如有必要）、然後按一下「Save（儲存）」。</block>
  <block id="8f9cbdc13fdcb31ff345f10ba333ac59" category="list-text">按一下建立的群組、移至「hosts（主機）」子功能表、然後按一下「Add New Host（新增主機）」。</block>
  <block id="98e7a99b463b825a87899d25486e46ea" category="list-text">提供主機的主機名稱和IP位址、貼上主機變數（如有必要）、然後按一下「Save（儲存）」。</block>
  <block id="3caf9a56384a30eb8dee819e3abc14d6" category="list-text">建立認證類型。對於涉及ONTAP 到靜態、元素、VMware或任何其他HTTPS型傳輸連線的解決方案、您必須設定認證類型、使其符合使用者名稱和密碼項目。</block>
  <block id="615b6214c17105ae4915a8c8a632025b" category="list-text">瀏覽至「管理」→「認證類型」、然後按一下「新增」。</block>
  <block id="e6bf632438290fdf98265b2b18943118" category="list-text">提供名稱和說明。</block>
  <block id="846bb9303e5cc4395e96eba0d4c7d50a" category="list-text">將下列內容貼到輸入組態：</block>
  <block id="333a40c5632e0507a83f6a191f0b69b3" category="list-text">將下列內容貼到Injector Configuration：</block>
  <block id="e31908e83a96aee8550446309c4ef7e0" category="list-text">設定認證資料。</block>
  <block id="de06c7b54d4158f81a8c4d4a02b61eb0" category="list-text">瀏覽至「資源」→「認證」、然後按一下「新增」</block>
  <block id="9c78f8d8687776e79018ded982e14c25" category="list-text">輸入名稱和組織詳細資料。</block>
  <block id="e5b5f57b6910910a3f9a486e88088608" category="list-text">選取正確的認證類型；如果您想要使用標準SSH登入、請選取「機器」類型、或選取您建立的自訂認證類型。</block>
  <block id="9256ee926473942ba849050ef0450b7f" category="list-text">輸入其他對應的詳細資料、然後按一下「Save（儲存）」。</block>
  <block id="29d192f714134f2e257058cfcf763722" category="list-text">設定專案。</block>
  <block id="1b892b7661c6a3ae2b57cbf4233c3af5" category="list-text">瀏覽至「資源」→「專案」、然後按一下「新增」。</block>
  <block id="936784ca62c93ca666e77fd10733247c" category="list-text">選取「來源控制認證類型」的Git。</block>
  <block id="9f4fd9b4a4c75c02d1b469e8dd75d9fb" category="list-text">貼上與特定解決方案對應的來源控制URL（或git Clone URL）。</block>
  <block id="95acbbc0424478165cdbe3a62849cbc3" category="list-text">或者、如果Git URL受到存取控制、請在來源控制認證中建立並附加對應的認證資料。</block>
  <block id="7557bd62e953fb4d48f07977151ea94f" category="list-text">按一下儲存。</block>
  <block id="a934d780fa0cb0e8495a0a1cabd0f501" category="list-text">設定工作範本。</block>
  <block id="0fd181172a82ebe5219e9a30e5d97c0d" category="list-text">瀏覽至「資源」→「範本」→「新增」、然後按一下「新增工作範本」</block>
  <block id="10c610c9225adcc92ca1b284b5bbb04b" category="list-text">輸入名稱和說明。</block>
  <block id="e33edf61d02fc69c2087dcc3c42177e1" category="list-text">選取工作類型；執行會根據手冊來設定系統、檢查會執行播放手冊的乾式執行、而不會實際設定系統。</block>
  <block id="57cf64ce7890d12e5a41d18b83979ffd" category="list-text">選取該方針的對應庫存、專案和認證資料。</block>
  <block id="fc6b15b1dd73bb25477aed453b9a02f2" category="list-text">選取您要作為工作範本一部分執行的方針。</block>
  <block id="9a7d90740af07bcdd2c628a6f6ae966c" category="list-text">這些變數通常會在執行時期貼上。因此、若要在執行時間期間收到填入變數的提示、請務必勾選對應於變數欄位的啟動時核取方塊提示。</block>
  <block id="3454f07e6f81a48099e0d144ca38ec7a" category="list-text">視需要提供任何其他詳細資料、然後按一下「Save（儲存）」。</block>
  <block id="31e2568c13fbdaaad088eb3b665dea9d" category="list-text">啟動工作範本。</block>
  <block id="3624b34cb634949984bcb28c79fd327f" category="list-text">瀏覽至資源→範本。</block>
  <block id="56ae7378358ba2b1c55c47283f544991" category="list-text">按一下所需的範本、然後按一下啟動。</block>
  <block id="0b55c84dbc04b54418b0d507f7b8f669" category="list-text">如果啟動時出現提示、請填寫任何變數、然後再按一下「Launch（重新啟動）」。</block>
  <block id="2fbb88fe90f9183c7eab541bc808795f" category="summary">本頁說明使用Terraform在雲端供應商（AWS、Azure、GCP）上部署NetApp Volume的自動化方法。</block>
  <block id="8eece2f5500ed61d5d5d24d6b8cc6da5" category="doc">透過Terraform實現雲端Volume自動化</block>
  <block id="fbd9a83d6df239351ac0498cbaa58065" category="paragraph">本解決方案使用ONTAP Terraform模組、記錄AWS（CVO單一節點、CVO HA和FSX0）和Azure（CVO單一節點、CVO HA和ANF）上的雲端Volume自動化部署。您可以在找到該程式碼<block ref="d07ec9f91b2ccc52b0d628a1b144c1d8" category="inline-link-rx"></block></block>
  <block id="e11da9afe91d381489a365c86cc614ab" category="section-title">先決條件</block>
  <block id="95332f844502bac70e3783f2d906688c" category="list-text">Terraform &gt;= 0.13</block>
  <block id="82410a61f302c6bdce619218d5036674" category="list-text">Cloud Manager帳戶</block>
  <block id="77913a2ff2c55b56fd6d981e7d7d2303" category="list-text">雲端供應商帳戶：AWS、Azure</block>
  <block id="8fdcd620b2871b4f496213f43c8ee21f" category="list-text">主機（Terraform支援的任何作業系統）</block>
  <block id="e5da768f23935e9c380799d86e27d695" category="section-title">供應商文件</block>
  <block id="8443f23dd52e13e75f6a652a7e100fb6" category="inline-link-macro"><block ref="8443f23dd52e13e75f6a652a7e100fb6" category="inline-link-rx"></block></block>
  <block id="b78f34c8bc7d03e88e2a6d7d8907ef93" category="paragraph">Terraform Cloud Manager供應商的文件可在下列網址取得： <block ref="05e9b3cbe087530696c6230448ff6b71" category="inline-link-macro-rx"></block></block>
  <block id="ef335030cde4c62e318574aa31ee49f7" category="section-title">控制供應商版本</block>
  <block id="cc6d892dc2fbac39a7a00c3d822275b8" category="paragraph">請注意、您也可以控制供應商版本。這是由Terraform組態中的必要供應商區塊所控制。</block>
  <block id="bf4e80680b83752f1f57ca7d4e99d09b" category="paragraph">語法如下：</block>
  <block id="c26cc3bad4e19f3604486c6e2d4dee15" category="paragraph">深入瞭解供應商版本控制。</block>
  <block id="c335a311e2b771c143fbe09512d98021" category="section-title">執行特定模組</block>
  <block id="4847e034bb0a55fcbc8a3380d6a3ab80" category="example-title">AWS</block>
  <block id="3a580f142203677f1f0bc30898f63f53" category="example-title">Azure</block>
  <block id="c731f72e1d22a7c5e01a7cb789a8885e" category="example-title">GCP</block>
  <block id="0b79795d3efc95b9976c7c5b933afce2" category="section-title">簡介</block>
  <block id="6c92285fa6d3e827b198d120ea3ac674" category="inline-link">請按這裡</block>
  <block id="b9b07f10c0ce1735548942e3abaa3447" category="summary">本頁提供透過NetApp Cloud Manager收集必要的Refresh Token和CVO和Cloud Manager Connector部署所需的存取/秘密金鑰的詳細資訊。</block>
  <block id="bcc03f70ea2e77a98ddb6e8267e4892f" category="paragraph">若要透過AWX/Ansible Tower使用Ansible教戰手冊來設定CVO和連接器的自動部署、需要下列資訊：</block>
  <block id="193fc1c355935356ecd5d07811792512" category="section-title">從AWS取得存取/秘密金鑰</block>
  <block id="60b6439418495e0d1821d169b7d4b885" category="list-text">若要在Cloud Manager中部署CVO和Connector、我們需要AWS存取/秘密金鑰。啟動IAM -&gt;使用者-&gt;您的使用者名稱-&gt;安全性認證資料-&gt;建立存取金鑰、即可在AWS主控台取得金鑰。</block>
  <block id="ad1cc06192440312813c412c9cf08bc5" category="list-text">複製存取金鑰、並確保其安全、以便在Connector和CVO部署中使用。</block>
  <block id="4ba9f13f5b12512f3651d5ea2d3ffa05" category="admonition">如果遺失金鑰、您可以建立另一個存取金鑰、然後刪除遺失的金鑰</block>
  <block id="ad35fbaef240a8ec1f43e8a0d5e15099" category="image-alt">重新整理權杖</block>
  <block id="89d8fe92eb33da3c73df38422c3fa73e" category="section-title">從NetApp Cloud Central取得更新Token</block>
  <block id="3d7e1d21530a3a98c74b0b7484c84516" category="list-text">使用您的帳戶認證資料登入雲端中央帳戶、網址為<block ref="ddbd83acb6424bbb7fa6878eff0976a1" category="inline-link-rx"></block></block>
  <block id="a95c6d24569073e45c394bcbd6a2c0e4" category="list-text">產生更新Token並儲存以供部署。</block>
  <block id="ecd636681b83fa2697020594594aea14" category="section-title">取得用戶端ID</block>
  <block id="2a1ed6ca97aeb484a26d6e0d625af96b" category="list-text">存取API頁面以複製用戶端ID、網址為<block ref="06324b77583872f7e211b3e7ec3f882f" category="inline-link-rx"></block>。</block>
  <block id="1093ef7993a1f3824edbf581bb54b571" category="list-text">按一下右上角的「瞭解如何驗證」。</block>
  <block id="622dcb1fafb9f30d36b32341e23ae7a0" category="list-text">如果您需要使用者名稱/密碼才能登入、請從彈出的「驗證」視窗、從「一般存取」複製用戶端ID。具有SSO的聯盟使用者應從「重新整理Token索引標籤」複製用戶端ID。</block>
  <block id="76525f0f34b48475e5ca33f71d296f3b" category="image-alt">用戶端ID</block>
  <block id="6090065e2462d5f96ebac132568bdf46" category="section-title">從AWS取得金鑰配對</block>
  <block id="294b903c23e96b98876b04f51502cec4" category="list-text">在AWS主控台中、搜尋「金鑰配對」並建立與「pem」的金鑰配對。請記住您的key_pair名稱、我們會使用它來部署連接器。</block>
  <block id="ddb20e807acdf5ddf189dd213ff6d0cf" category="image-alt">金鑰配對</block>
  <block id="3ce1d7d6e1b4509256dd2574b6b5d290" category="section-title">取得帳戶ID</block>
  <block id="8f19980a36fbde35540547e8f630c9e5" category="list-text">在Cloud Manager中、按一下「Account（帳戶）」-&gt;「Manage Accounts（管理帳戶）」、然後複製帳戶ID以用於AWX的變數。</block>
  <block id="c8d20ce0b6bb23d912f3368f706d5794" category="summary">NetApp解決方案是一套策略與技術功能、強調NetApp產品與服務組合、以支援客戶最關鍵的業務需求。</block>
  <block id="fcf140abed196b8eba71c45f21312bce" category="doc">NetApp解決方案</block>
  <block id="b278438874f41a76068d02368e65aa3e" category="doc">關於此儲存庫</block>
  <block id="404af48e0cb5f84306fbd93fac2ff8be" category="paragraph">NetApp解決方案儲存庫簡介：何處可找到特定解決方案、以及如何使用此儲存庫。</block>
  <block id="45ac6b09a3b8f5ea07ca656ca8dea987" category="section-title">儲存庫導覽</block>
  <block id="c28e40ef527e43509a0fcd3b114ff824" category="paragraph">儲存庫導覽是由頁面左側顯示的主側邊列來管理。解決方案分為較高層級的技術領域、定義為NetApp解決方案的「技術塔」。</block>
  <block id="e9982e506e30915713c7485a2e77633b" category="section-title">技術塔總覽</block>
  <block id="d67372be0bd12a2ddbcf795ccfacc7de" category="cell">*章節*</block>
  <block id="5cd2adc9e2a5254e4c1da803519f298b" category="cell">人工智慧</block>
  <block id="f27edcc7a209983dc37cbcdb0df49ce7" category="cell">虛擬桌面</block>
  <block id="408649df4ac74ae19e47eef7d060c5cb" category="cell">解決方案自動化</block>
  <block id="d83d094e8e3ce7450bf099061814d148" category="cell">使用Red Hat Ansible開始使用解決方案自動化的總覽。</block>
  <block id="6174d88cc7c0409df3e035a5c9d089cb" category="section-title">變更記錄</block>
  <block id="a0067ab2420cbaebc335efc5c2433c45" category="inline-link-macro">變更記錄</block>
  <block id="bea4c2c8eb82d05891ddd71584881b56" category="section-title">意見反應</block>
  <block id="c2e2fce3a995f59900d7afbbe58683f5" category="inline-link-macro">此連結</block>
  <block id="fb6b632cdd61e02434568081cbbf0fae" category="paragraph">請使用 <block ref="a5f81f398e43efd62a061a201309bfa7" category="inline-link-macro-rx"></block> 要求變更內容或提供內容的意見反應。請盡可能具體、確保您的意見反應適當。</block>
  <block id="46b8f9361fae73f13467cd1aaff186ba" category="summary">NetApp解決方案資料最近的變更記錄</block>
  <block id="679ce0aa9d3d54bfddd37e1b78b802de" category="doc">NetApp解決方案變更記錄</block>
  <block id="aceacf14369d872e8cb00f62613f52c6" category="paragraph">最近對NetApp解決方案資料所做的變更。最新的變更會先列出。</block>
  <block id="e63695c4dea40eefb2ef481c7b242192" category="open-title">所有變更</block>
  <block id="6fb2815b4c371ee082a84cc14539d4cb" category="open-title">企業應用程式</block>
  <block id="18a2eb3f7faf7c44e3062e78cbeff089" category="inline-link-macro">SAP解決方案儲存庫</block>
  <block id="412b2ee09f2fbaf8cddb69ee6fe43a2e" category="admonition">如需SAP和SAP HANA更新的詳細資訊、請參閱中每個解決方案的「更新歷史記錄」內容 <block ref="c4ed54a973fb1aa472c2443732d93c13" category="inline-link-macro-rx"></block>。</block>
  <block id="c4ff33edf6e94fb434fb59e4ad2c286b" category="inline-link-macro">混合雲資料庫解決方案SnapCenter 搭配使用</block>
  <block id="fc25c016a8fb35a621842044a8d4f2e7" category="inline-link-macro">將混合雲中的Oracle資料庫基礎架構自動化</block>
  <block id="53cf9d36e61cc97b118ae4cc9589bac3" category="summary">NetApp VDS Cloud Workspace Management Suite入口網站可集中管理各種VDS部署、包括針對內部部署、管理使用者、應用程式目錄及指令碼事件定義站台的部署。管理使用者也會使用此入口網站、視需要手動配置應用程式、並連線至任何機器進行疑難排解。</block>
  <block id="e68a6dedaba6faaba6e7afd9197edc4f" category="doc">管理入口網站</block>
  <block id="76368893e7696218fc60d77f96235f35" category="paragraph">NetApp VDS Cloud Workspace Management Suite入口網站可供使用<block ref="1640f4040bca8395064a2ee51cb5f0ae" category="inline-link-rx"></block> 而且即將推出的版本也隨之推出<block ref="b6375c31f2253ef964d998b5762ba440" category="inline-link-rx"></block>。</block>
  <block id="02655da204b103696191f5d52c33427f" category="paragraph">此入口網站可集中管理各種VDS部署、包括針對內部部署、管理使用者、應用程式目錄及指令碼事件定義站台的部署。管理使用者也會使用此入口網站、視需要手動配置應用程式、並連線至任何機器進行疑難排解。</block>
  <block id="0499b0532cd51452b57a028f3973d9fa" category="paragraph">服務供應商可使用此入口網站新增自己的通路合作夥伴、並允許他們管理自己的客戶。</block>
  <block id="8af19d014b76fa90ffc0c0477bd47be5" category="inline-link-macro">下一步：使用者管理</block>
  <block id="631d677d75a0b47f9fe24a201cc8cb85" category="paragraph"><block ref="631d677d75a0b47f9fe24a201cc8cb85" category="inline-link-macro-rx"></block></block>
  <block id="0581202e42d61d6dfe4875c70d00cdac" category="summary">NetApp虛擬桌面服務提供易於使用的虛擬桌面和應用程式環境、並著重於業務挑戰。透過NetApp HCI 擴充含功能的VDS、您可以在VDS環境中使用強大的NetApp功能、包括即時重複資料刪除、壓縮、精簡配置及壓縮。</block>
  <block id="6f8b794f3246b0c1e1780bb4d4d5dc53" category="doc">結論</block>
  <block id="33491606222aecbfbdfa3fc8f13ffded" category="paragraph">NetApp虛擬桌面服務提供易於使用的虛擬桌面和應用程式環境、並著重於業務挑戰。藉由擴充VDS與內部部署ONTAP 的功能性環境、您可以在VDS環境中使用強大的NetApp功能、包括快速複製、即時重複資料刪除、壓縮、精簡配置、 和壓縮。這些功能可透過All Flash儲存設備來節省儲存成本並提升效能。使用VMware vSphere Hypervisor、透過使用虛擬磁碟區和vSphere API進行陣列整合、將伺服器資源配置時間減至最短。使用混合雲、客戶可以選擇最適合其嚴苛工作負載的環境、並節省成本。內部部署執行的桌面工作階段可根據原則存取雲端資源。</block>
  <block id="b872d0389acf826cc7cf1939cd17a05d" category="inline-link-macro">下一步：何處可找到其他資訊</block>
  <block id="df6f0981c6f92ef3adb9059f5b387e4a" category="paragraph"><block ref="df6f0981c6f92ef3adb9059f5b387e4a" category="inline-link-macro-rx"></block></block>
  <block id="7d37fde7375502ef1013412159477502" category="summary">NetApp提供許多雲端服務、包括利用WVD或遠端應用程式快速配置虛擬桌面、包括快速整合Azure NetApp Files 至效益管理系統。</block>
  <block id="28850fd0c108cc5f990fc4b4b52ab60d" category="doc">NetApp虛擬桌面服務總覽</block>
  <block id="c70675dc3857ae45ab2475f60c0f1f85" category="paragraph">NetApp提供許多雲端服務、包括快速配置虛擬桌面（含WVD或遠端應用程式）、以及快速整合Azure NetApp Files 至效益管理系統。</block>
  <block id="8b32dee3fc7d9223248420cb828c5527" category="paragraph">傳統上、向客戶提供遠端桌面服務需要數週的時間。除了資源配置之外、管理應用程式、使用者設定檔、共用資料及群組原則物件也很困難、難以強制執行原則。防火牆規則可能會增加複雜度、並需要個別的專長類別和工具。</block>
  <block id="0276a1f5f692f2e9635f3733b371cf70" category="paragraph">Microsoft Azure Windows Virtual Desktop服務負責維護遠端桌面服務元件、讓客戶能夠專注於雲端上的資源配置工作區。客戶必須配置及管理完整的堆疊、這需要特殊技能來管理VDI環境。</block>
  <block id="51db16f7b26a08952beb43836ad3f31d" category="paragraph">有了NetApp VDS、客戶就能快速部署虛擬桌面、而不必擔心要在何處安裝架構元件、例如代理商、閘道、代理程式等。需要完全掌控環境的客戶、可以與專業服務團隊合作、以達成目標。客戶使用VDS即服務、因此可以專注於主要的業務挑戰。</block>
  <block id="139562ef7df2deed82d586ebe297a082" category="paragraph">NetApp VDS是一套軟體即服務方案、可集中管理AWS、Azure、GCP或私有雲端環境中的多個部署。Microsoft Windows Virtual Desktop僅適用於Microsoft Azure。NetApp VDS在其他環境中協調Microsoft遠端桌面服務。</block>
  <block id="fd9a0083b0a0e084ce6fb8d2ca64272f" category="paragraph">Microsoft僅針對Azure上的Windows Virtual Desktop環境提供Windows 10上的多工作階段。驗證與身分識別是由虛擬桌面技術處理；WVD需要Azure Active Directory同步（使用AD Connect）至Active Directory、並將工作階段VM加入Active Directory。RDS需要Active Directory來提供使用者身分識別與驗證、以及VM網域加入與管理。</block>
  <block id="416feb9f77def2ffedaab40a538d47e5" category="paragraph">下圖顯示範例部署拓撲。</block>
  <block id="341d84aa26cb4521474864e04ea2a63b" category="inline-image-macro">錯誤：缺少圖形影像</block>
  <block id="e377917f3505cdb9fc72b74164df5928" category="paragraph"><block ref="e377917f3505cdb9fc72b74164df5928" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d271ca257d56879fcc9ed95d82aabaa7" category="paragraph">每個部署都與作用中目錄網域相關聯、並為用戶端提供工作區和應用程式的存取入口點。具有多個Active Directory網域的服務供應商或企業通常會有更多部署。橫跨多個區域的單一Active Directory網域通常具有單一部署與多個站台。</block>
  <block id="9ea3c4f34057d91531ae286e3efe62c3" category="paragraph">對於Azure中的WVD、Microsoft提供由NetApp VDS使用的平台即服務。對於其他環境、NetApp VDS會協調Microsoft遠端桌面服務的部署與組態。NetApp VDS同時支援WVD Classic和WVD ARM 支援、也可用於升級現有版本。</block>
  <block id="3e8cd47ad0ab71d0b3891f85212ccdbc" category="paragraph">每個部署都有自己的平台服務、包括Cloud Workspace Manager（REST API端點）、HTML 5閘道（從VDS管理入口網站連線至VM）、RDS閘道（用戶端存取點）和網域控制器。下圖說明RDS實作的VDS控制面板架構。</block>
  <block id="38606818aeffd06d174e51013afc23a1" category="paragraph"><block ref="38606818aeffd06d174e51013afc23a1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e58cad6a2c8c8ff1a585bf8d6ca94560" category="paragraph">對於RDS實作、NetApp VDS可透過Windows和瀏覽器輕鬆存取、使用可自訂以包含客戶標誌和影像的用戶端軟體。根據使用者認證資料、它可讓使用者存取核准的工作區和應用程式。不需要設定閘道詳細資料。</block>
  <block id="c2dcf4d443be38a737d1e580fb4b86ec" category="paragraph">下圖顯示NetApp VDS用戶端。</block>
  <block id="8e7d56f1d99fdc8080a747bf8b1eda75" category="paragraph"><block ref="8e7d56f1d99fdc8080a747bf8b1eda75" category="inline-image-macro-rx" type="image"></block></block>
  <block id="71110c8ffc8b198bc951f6e587fbcddf" category="paragraph">在Azure WVD實作中、Microsoft會處理用戶端的存取入口點、並可由Microsoft WVD用戶端使用、此用戶端原生可供各種作業系統使用。也可從網路型入口網站存取。用戶端軟體的組態必須由群組原則物件（GPO）或客戶偏好的其他方式來處理。</block>
  <block id="9e4318c1c6ae62544ba67e7c0fe55649" category="paragraph">下圖說明Azure WVD實作的VDS控制面板架構。</block>
  <block id="ba9e4c82a95db68279bffa8ca8a8803f" category="paragraph"><block ref="ba9e4c82a95db68279bffa8ca8a8803f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1d648a5d4acf66674fb86cc7be05bd5e" category="paragraph">除了部署及設定所需元件之外、NetApp VDS也能處理使用者管理、應用程式管理、資源擴充及最佳化等問題。</block>
  <block id="3ea30729e0e7f0d666400ccc1a6f7bc3" category="paragraph">NetApp VDS可建立使用者、或授予現有使用者帳戶存取雲端工作區或應用程式服務的權限。入口網站也可用於密碼重設及委派管理元件子集。服務台管理員或3級技術人員可以陰影複製使用者工作階段、以便進行疑難排解或從入口網站連線至伺服器。</block>
  <block id="061d5215d4dd8b8e2b7d9f2498a4a8c3" category="paragraph">NetApp VDS可以使用您建立的映像範本、也可以使用市場上現有的映像範本進行雲端型資源配置。若要減少要管理的映像數目、您可以使用基礎映像、而且任何其他需要的應用程式都可以使用提供的架構來進行資源配置、以納入任何命令列工具、例如chlicatey、MSIX應用程式附加、PowerShell等。即使是自訂指令碼、也能做為機器生命週期事件的一部分。</block>
  <block id="91d75bd7e517ef4b563021e6d23d8cb9" category="inline-link-macro">下一步：NetApp HCI 概述</block>
  <block id="3806ab54895f78b6c34b626314f84e6e" category="paragraph"><block ref="3806ab54895f78b6c34b626314f84e6e" category="inline-link-macro-rx"></block></block>
  <block id="868ab86f19065016e9a2f077c5ec1ede" category="summary">工作人員可以從提供給他們的應用程式清單中快速啟動應用程式。應用程式服務會從遠端桌面服務工作階段主機發佈應用程式。透過WVD、應用程式群組可從多工作階段Windows 10主機集區提供類似的功能。</block>
  <block id="c775b248c55d253008c58d1ecd60e66f" category="doc">終端使用者運算（EUC）/虛擬桌面基礎架構（VDI）解決方案</block>
  <block id="599725d881295777d3740ac33e953ced" category="paragraph">無論您是在內部部署或雲端部署虛擬桌面、NetApp都有多種EUC/VDI解決方案可滿足您的需求。</block>
  <block id="75fc33fcc3ef968fd3bf30c8da19bf9b" category="section-title">NetApp虛擬桌面服務（VDS）</block>
  <block id="0593c3151fa252cdb4e997dd1255c608" category="paragraph">NetApp虛擬桌面服務（VDS）可在主要公有雲和私有雲上協調遠端桌面服務（RDS）。</block>
  <block id="3b96d802308faf1d6ff7e5563ea3d29b" category="paragraph">VDS的可用解決方案：</block>
  <block id="dede82866780d163734b443c5f4d484e" category="inline-link-macro">採用NetApp虛擬桌面服務的混合雲VDI</block>
  <block id="2ccf8775db4706ac42c0a600eca82163" category="list-text"><block ref="2ccf8775db4706ac42c0a600eca82163" category="inline-link-macro-rx"></block></block>
  <block id="d4a0768ddf4ac449658ace06000fa76e" category="section-title">使用VMware Horizon的終端使用者運算</block>
  <block id="959f3d9cc20e0e9bfbc01c2d36cdc894" category="paragraph">NetApp已驗證VMware Horizon的架構、橫跨數種運算組態。可用的解決方案包括：</block>
  <block id="3acc5e85d752378c6f1b9154f379b475" category="inline-link-macro">使用VMware進行終端使用者運算（設計指南）</block>
  <block id="01606c27121f18cf231b4700ddf252e1" category="list-text"><block ref="01606c27121f18cf231b4700ddf252e1" category="inline-link-macro-rx"></block></block>
  <block id="87e25a8d0e462ac8d7158e587f376605" category="inline-link-macro">使用VMware與NVIDIA GPU進行終端使用者運算（設計指南）</block>
  <block id="4e5b466ff852e362d888b555cdcf62b7" category="list-text"><block ref="4e5b466ff852e362d888b555cdcf62b7" category="inline-link-macro-rx"></block></block>
  <block id="d840a196af6c9e07c3ac3b20b15fb724" category="inline-link-macro">使用VMware與NVIDIA GPU進行終端使用者運算（部署指南）</block>
  <block id="06e0780100d16763670aed1df8526b2e" category="list-text"><block ref="06e0780100d16763670aed1df8526b2e" category="inline-link-macro-rx"></block></block>
  <block id="f93781578174ca3309bd3ac126884af4" category="inline-link-macro">使用VMware for 3D Graphics進行終端使用者運算</block>
  <block id="128fc080215971e783f68c8be31bd85d" category="list-text"><block ref="128fc080215971e783f68c8be31bd85d" category="inline-link-macro-rx"></block></block>
  <block id="0ccea8702c360d2d159b0e8477fe81d6" category="summary">使用H610C或H615C時、GPU的授權必須向授權經銷授權的NVIDIA合作夥伴購買。</block>
  <block id="1f26c520bd4eba393348dedea38da7b7" category="doc">NVIDIA授權</block>
  <block id="b548ee560d6fa4ee980d777df0300d09" category="inline-link">合作夥伴搜尋工具</block>
  <block id="72d760f4e8266e660fa7126e42f63bbe" category="paragraph">使用H610C或H615C時、GPU的授權必須向授權經銷授權的NVIDIA合作夥伴購買。您可以使用找到NVIDIA合作夥伴<block ref="32da44153625c96a28e5bf10161bbc42" category="inline-link-rx"></block>。搜尋虛擬GPU（vGPU）或Tesla等專長能力。</block>
  <block id="7709fb92e99b3458d440c5212792a0de" category="paragraph">NVIDIA vGPU軟體共有四種版本：</block>
  <block id="31473f257c4cfabfcba0c506fefcf4ca" category="list-text">NVIDIA GRID虛擬PC（Grid vPC）</block>
  <block id="75cc5be2167cc23ca9d32aa78a164907" category="list-text">NVIDIA Grid虛擬應用程式（Grid vApp）</block>
  <block id="53b933a69a5adecaa6c8c8817d2d87a5" category="list-text">NVIDIA Quadro虛擬資料中心工作站（Quadro vDWS）</block>
  <block id="2d655109b3aad5a539482617b4aa3b6b" category="list-text">NVIDIA虛擬伺服器（vComputeServer）</block>
  <block id="38f26d9fb2d58dd577140e84010a059d" category="section-title">Grid Virtual PC</block>
  <block id="e43876de331b666ca7fd1c7bbb8a844d" category="paragraph">本產品非常適合想要虛擬桌面的使用者、因為它能為Microsoft Windows應用程式、瀏覽器、高畫質視訊及多重監視器支援提供絕佳的使用者體驗。NVIDIA GRID Virtual PC可在虛擬環境中提供原生體驗、讓您以完整效能執行所有的PC應用程式。</block>
  <block id="06a4851adc711a27ef53d0577d69e210" category="section-title">Grid虛擬應用程式</block>
  <block id="2c20bf668630521a8f76995b0c04c398" category="paragraph">Grid vApp適用於部署遠端桌面工作階段主機（RDSH）或其他應用程式串流或工作階段型解決方案的組織。專為以完整效能提供Microsoft Windows應用程式而設計、Grid vApp也支援Windows Server託管的RDSH桌面。</block>
  <block id="5de115addc6579e1d30075a2a92c9ae7" category="section-title">Quadro虛擬資料中心工作站</block>
  <block id="74fec534073fb87750193748093ada5a" category="paragraph">此版本非常適合主流和高階設計師、他們使用強大的3D內容建立應用程式、例如Dassault CATIA、SOLIDWORKS、3dexitite、Siemens NX、PTC Creo、 Schlumberger Petrel或Autodesk Maya。NVIDIA Quadro vDWS可讓使用者在任何裝置上、都能以完整的功能和效能存取專業的圖形應用程式。</block>
  <block id="fb5cc5533386fd1b00e6b986dec8cba1" category="section-title">NVIDIA虛擬伺服器</block>
  <block id="087877c8284ea313c79d65cb22d48329" category="paragraph">許多組織執行運算密集的伺服器工作負載、例如人工智慧（AI）、深度學習（DL）和資料科學。在這些使用案例中、NVIDIA vComputeServer軟體可將NVIDIA GPU虛擬化、以錯誤修正程式碼、分頁淘汰、透過NVLink點對點、以及多vGPU等功能來加速運算密集的伺服器工作負載。</block>
  <block id="e1f54ed77362f191ac08c4db8d9c44cd" category="admonition">Quadro vDWS授權可讓您使用GRID vPC和NVIDIA vComputerServer。</block>
  <block id="d685cba160011e42327272678904bcbc" category="inline-link-macro">下一步：部署</block>
  <block id="fed95bc65003dcb3d5ee273e3926bb25" category="paragraph"><block ref="fed95bc65003dcb3d5ee273e3926bb25" category="inline-link-macro-rx"></block></block>
  <block id="3887d417240a72ab69f6d0301efd3b2b" category="doc">何處可找到其他資訊</block>
  <block id="7d5b957cd473f6eaf5ad335a9c63c4ff" category="paragraph">若要深入瞭解本文所述資訊、請檢閱下列文件和 / 或網站：</block>
  <block id="b5ed404fa434aeee227f550cddf89892" category="inline-link">NetApp雲端</block>
  <block id="d823edbaf98641c5959f3a596de3df66" category="list-text"><block ref="d823edbaf98641c5959f3a596de3df66" category="inline-link-rx"></block></block>
  <block id="b1eb0510d1bc6ffab71faa53637ecde2" category="inline-link">NetApp VDS產品文件</block>
  <block id="c5b41ed257411dffc1cc80a4c00cf17c" category="list-text"><block ref="c5b41ed257411dffc1cc80a4c00cf17c" category="inline-link-rx"></block></block>
  <block id="272427e7f4e6650df3749f83086acde6" category="inline-link">使用VPN閘道將內部部署網路連線至Azure</block>
  <block id="c460b4e40e6d4709ed15a2e8dba39833" category="list-text"><block ref="c460b4e40e6d4709ed15a2e8dba39833" category="inline-link-rx"></block></block>
  <block id="440e11297e8634c052b1bfd29a90309c" category="inline-link">Azure Portal</block>
  <block id="8284aff5fcde6ba43a0ca21712739cae" category="list-text"><block ref="8284aff5fcde6ba43a0ca21712739cae" category="inline-link-rx"></block></block>
  <block id="8867b143d669949d3948e3816324ec75" category="inline-link">Microsoft Windows虛擬桌面</block>
  <block id="0db816b3393ed224b26131285b4e3dff" category="list-text"><block ref="0db816b3393ed224b26131285b4e3dff" category="inline-link-rx"></block></block>
  <block id="7c033f9cfba6e06ff2ee6cb852ce10f4" category="inline-link">系統資訊登錄Azure NetApp Files</block>
  <block id="aff481c4855a001492901fbefcab7d17" category="list-text"><block ref="aff481c4855a001492901fbefcab7d17" category="inline-link-rx"></block></block>
  <block id="64241e0b33fb869cb12ff8e1ec74f806" category="summary">NetApp VDS使用Azure Active Directory進行身分識別驗證、Azure Active Directory網域服務則進行NTLM/ Kerberos驗證。ADConnect工具可用於將內部Active Directory網域與Azure Active Directory同步。</block>
  <block id="92726ab5faeb2cb9208eaac9af0346bd" category="doc">使用者管理</block>
  <block id="c758de7e1477d6707c6709441d41a5e9" category="paragraph">您可以從入口網站新增新使用者、也可以為現有使用者啟用雲端工作區。工作區和應用程式服務的權限可由個別使用者或群組控制。您可以從管理入口網站定義管理使用者、以控制入口網站、工作區等的權限。</block>
  <block id="b1bb3db86aec5efef6f7cc0d0d7c6331" category="paragraph">下圖說明NetApp VDS中的使用者管理。</block>
  <block id="ed5018356119de97fa1ab09c0eeab65a" category="paragraph"><block ref="ed5018356119de97fa1ab09c0eeab65a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1350c851c78a6cdb31c6fe46ddb499c2" category="paragraph">每個工作區都位於雲端工作區OU下的Active Directory組織單位（OU）中、如下圖所示。</block>
  <block id="a5484d6de39aa020af1aa382d6d52c5e" category="paragraph"><block ref="a5484d6de39aa020af1aa382d6d52c5e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="201e09e85ad81db8a19ef9f20c05d1a5" category="inline-link">這段影片</block>
  <block id="3fad2f68853fae9ef870ed5535896790" category="paragraph">如需詳細資訊、請參閱<block ref="b5d59c719b42a4e7d2b711482aa2f54d" category="inline-link-rx"></block> 關於NetApp VDS中的使用者權限和使用者管理。</block>
  <block id="48a8649f1ce9d97848d70480ce7fea9c" category="paragraph">當Active Directory群組定義為使用資料中心API呼叫的CRAUserGroup時、該群組中的所有使用者都會匯入CloudWorkspace、以便使用UI進行管理。當使用者啟用雲端工作區時、VDS會建立使用者主資料夾、設定權限、使用者內容更新等。</block>
  <block id="9e30d1bf5e5278a123ad0ddab43066b7" category="paragraph">如果核取「啟用VDI使用者」、VDS會建立專供該使用者使用的單一工作階段RDS機器。系統會提示您配置範本和資料存放區。</block>
  <block id="093d2ddf98cacaf853b6f986ca9bd647" category="paragraph"><block ref="093d2ddf98cacaf853b6f986ca9bd647" category="inline-image-macro-rx" type="image"></block></block>
  <block id="46bccf4889fab263d6edc63e631883a7" category="inline-link-macro">下一步：工作區管理</block>
  <block id="e98fdb0b8697a2cf005527be51872d0d" category="paragraph"><block ref="e98fdb0b8697a2cf005527be51872d0d" category="inline-link-macro-rx"></block></block>
  <block id="bf6d8e47240024519d1dbb6f5582ce66" category="summary">繪圖工作站通常用於製造業、醫療業、能源、媒體與娛樂業、教育、 架構等。對於圖形密集型應用程式而言、行動性通常受到限制。</block>
  <block id="942cd85feff07ce32d619d2f724254a8" category="doc">產業解決方案</block>
  <block id="fb987436787e4263bfee440b93703026" category="paragraph">為了解決行動性問題、虛擬桌面服務為所有類型的員工提供桌面環境、從工作人員到專家使用者、使用雲端或NetApp HCI 搭配使用的硬體資源、包括靈活GPU組態的選項。VDS可讓使用者透過筆記型電腦、平板電腦及其他行動裝置、從任何位置存取工作環境。</block>
  <block id="68ae3286d2356ff8dd51c2a397ca20eb" category="paragraph">若要以ANSYS Fluent、ANSYS機械、Autodesk AutoCad、Autodesk Inventor、Autodesk 3ds Max等軟體執行製造工作負載、 Dassault Syst è mes SOLIDWORKS、Dassault Syst è mes CATIA、PTC Creo、Siemens PLM NX等、 下表列出各種雲端上可用的GPU（截至2021年1月為止）。</block>
  <block id="f5168df5bb95078acdfb440f5975a601" category="cell">GPU模型</block>
  <block id="1668ca1bd914c1d847f23b491319ac91" category="cell">Microsoft Azure</block>
  <block id="b314ebdba178173db01ffda8d3a5af67" category="cell">Google運算（GCP）</block>
  <block id="943ca3782b28d89aff2f86a50b332b3c" category="cell">Amazon Web Services（AWS）</block>
  <block id="8df8a98ff17d4d77329f5da80da051e8" category="cell">內部部署（NetApp HCI 僅限內部部署）</block>
  <block id="aaba9e920b39aa997c69800a9e589cd4" category="cell">NVIDIA M60</block>
  <block id="93cba07454f06a4a960172bbd6e2a435" category="cell">是的</block>
  <block id="bafd7322c6e97d25b6299b5d6fe8920b" category="cell">否</block>
  <block id="e095ad80d900786110d53ecd5cbd3e3e" category="cell">NVIDIA T4</block>
  <block id="c909ed1507c6d5537f0cc0966e83d3f1" category="cell">NVIDIA P100</block>
  <block id="c015c1cc95335d3b867c145c056df10b" category="cell">NVIDIA P4</block>
  <block id="e8130bb14c9382769c22861fb54683b3" category="paragraph">也可與其他使用者共用桌面工作階段、以及專屬的個人桌面。虛擬桌面可以有一到四個GPU、或是使用NetApp HCI 部分GPU搭配使用。NVIDIA T4是一款多功能GPU卡、可滿足各種使用者工作負載的需求。每張NetApp HCI GPU卡的每張E64H615C都有16GB的影格緩衝記憶體、每部伺服器有三張卡。單一H615C伺服器上可裝載的使用者數量取決於使用者工作負載。</block>
  <block id="4d8b78a5288c49df59136421211718c9" category="cell">使用者/伺服器</block>
  <block id="704316eb872cbca84a8b30d74c2708a4" category="cell">輕量（4GB）</block>
  <block id="6f3a945a32dd8eba9f2fae42715f7246" category="cell">中型（8GB）</block>
  <block id="adb5e5b63d256f3854fc7276b3e8d14a" category="cell">重磅（16GB）</block>
  <block id="bd40934d28717a37aa4087f1622d8f0b" category="cell">H615C</block>
  <block id="c20ad4d76fe97759aa27a0c99bff6710" category="cell">12.</block>
  <block id="1679091c5a880faf6fb5e6087eb1b2dc" category="cell">6.</block>
  <block id="eccbc87e4b5ce2fe28308fd9f2a7baf3" category="cell">3.</block>
  <block id="8938ba807f25f2cd88559b9f84bbc3de" category="paragraph">若要判斷使用者類型、請在使用者使用執行一般工作的應用程式時、執行GPU剖析工具。GPU剖析器可擷取記憶體需求、顯示器數量及使用者所需的解析度。接著您可以挑選符合需求的vGPU設定檔。</block>
  <block id="1b014a2b6e4c329b9696aae7afac88db" category="paragraph">使用GPU的虛擬桌面可支援高達8K的顯示解析度、公用程式nView可將單一監視器分割成多個區域、以便使用不同的資料集。</block>
  <block id="30f1a84c728d67b9606115a1531aa9c3" category="paragraph">利用檔案儲存功能、您可以實現下列效益：ONTAP</block>
  <block id="826f3d14d0c34cd0f8ced37e07a1537d" category="list-text">單一命名空間可擴充至20PB的儲存容量、內含4、000億個檔案、無需大量的管理輸入</block>
  <block id="1d7ab3c9a162bc81b216bdc0948094f2" category="list-text">可透過全域檔案快取跨越地球的命名空間</block>
  <block id="2d4169e0cb52db60fd11576990b38a54" category="list-text">利用託管NetApp儲存設備實現安全的多租戶共享</block>
  <block id="a44c13ec320997e84b87b0fef150c39f" category="list-text">使用NetApp FabricPool 解決方案將冷資料移轉至物件存放區</block>
  <block id="3749fba0ca78e5e5c70f899da89be2c3" category="list-text">利用檔案系統分析快速建立檔案統計資料</block>
  <block id="63d0ec819ea12b4e83e0ef4a1cd2bb1c" category="list-text">將儲存叢集擴充至最多24個節點、以提升容量與效能</block>
  <block id="818a13118ddb0908ba00c1b7ca18dc2c" category="list-text">能夠使用配額來控制儲存空間、並以QoS限制來保證效能</block>
  <block id="ef94cd0a62341c72316393b1044582f8" category="list-text">以加密保護資料安全</block>
  <block id="c1e36bb7dca3b0da98164eb5956e3f0f" category="list-text">滿足廣泛的資料保護與法規遵循需求</block>
  <block id="6a632279908ad5d56ab46a826de6c9f2" category="list-text">提供靈活的營運不中斷選項</block>
  <block id="254a4a0ddc892d6a01d7e7ef286fbb71" category="inline-link-macro">下一步：結論</block>
  <block id="3c2622109ae4dc55b73e9bb6516e5616" category="paragraph"><block ref="3c2622109ae4dc55b73e9bb6516e5616" category="inline-link-macro-rx"></block></block>
  <block id="2cdacde3c74a59c779ff64324954b86f" category="summary">NetApp虛擬桌面服務（VDS）可在主要公有雲和私有雲上協調遠端桌面服務（RDS）。VDS支援Microsoft Azure上的Windows Virtual Desktop（WVD）。VDS可自動執行部署WVD或RDS之後必須執行的許多工作、包括設定SMB檔案共用（使用者設定檔、共用資料及使用者主磁碟機）、啟用Windows功能、應用程式與代理程式安裝、防火牆及原則等。</block>
  <block id="acb7add6e3cf0ca01c52e60466c321ca" category="doc">TR-4861：混合雲VDI搭配虛擬桌面服務</block>
  <block id="3d564c1c20cf4265a5094ead9dc937f6" category="paragraph">NetApp的Suresh ThopPay</block>
  <block id="bb6a5b934db24610665e58e743983ae4" category="paragraph">使用者會使用專用桌面、共用桌面及遠端應用程式的VDS。VDS提供指令碼事件、可將桌面的應用程式管理自動化、並減少要管理的映像數量。</block>
  <block id="38e3c8e108e8e361d0712cdfe23e0b38" category="paragraph">VDS提供單一管理入口網站、可在公有雲和私有雲環境中處理部署作業。</block>
  <block id="9abac747d764180a5fe55920e00e887d" category="section-title">客戶價值</block>
  <block id="07d07e20c1ad9bd1a3e99e2303879ff9" category="paragraph">2020年的遠端員工人數激增、改變了營運持續性的要求。IT部門面臨快速配置虛擬桌面的新挑戰、因此需要靈活配置、遠端管理、以及混合式雲端的TCO優勢、以便輕鬆配置內部部署和雲端資源。他們需要一套混合雲解決方案、能夠：</block>
  <block id="44ff202cbab5f506b48c6021b19c4b1c" category="list-text">因應COVID後工作空間的實際狀況、以全域動態模式提供靈活的工作模式</block>
  <block id="53f994926861d0a62f2893b66d8b2025" category="list-text">簡化並加速所有員工（從工作人員到進階使用者）的工作環境部署、進而實現工作轉型</block>
  <block id="831955bd9eabf6724f4e4b01acbb833c" category="list-text">無論實體位置為何、都能提供豐富且安全的VDI資源、讓您的工作團隊更具行動力</block>
  <block id="ab02aa4712e65c237e92874eeef51ecd" category="list-text">簡化混合雲部署</block>
  <block id="074890ea8810b95d9b381027ff9baef2" category="list-text">自動化並簡化風險降低管理</block>
  <block id="5eed1e48d8861a1192e8694a3d24021b" category="inline-link-macro">下一步：使用案例</block>
  <block id="60e1de201d0c183e889577e990975f1a" category="paragraph"><block ref="60e1de201d0c183e889577e990975f1a" category="inline-link-macro-rx"></block></block>
  <block id="a3af49b9146a6a36e8bea4c525797782" category="summary">本頁將討論DCConfig Tool、TestVDC工具及記錄檔。</block>
  <block id="d56ee3058d1c4ab634cd3e1e606f2064" category="doc">工具與記錄</block>
  <block id="626b1761e15913fc6f955e1d76a0ac10" category="section-title">DCConfig工具</block>
  <block id="65bbb1c25836b86f699bd2141a545958" category="paragraph">DCCconfig工具支援下列用於新增站台的Hypervisor選項：</block>
  <block id="2c76e52255da65e5fcf88143f91aa431" category="paragraph"><block ref="2c76e52255da65e5fcf88143f91aa431" category="inline-image-macro-rx" type="image"></block></block>
  <block id="da2595b668536baaea606e674ade5181" category="paragraph"><block ref="da2595b668536baaea606e674ade5181" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2eb34c5311117b56d2c8eb33494052a3" category="paragraph">您可以使用GPO來處理工作區專屬的共用資料磁碟機代號對應。專業服務或支援團隊可以使用進階索引標籤自訂Active Directory OU名稱、啟用或停用FSLogix部署的選項、各種逾時值等設定。</block>
  <block id="8688a5dde644921ea673f5bc2dde55c3" category="paragraph"><block ref="8688a5dde644921ea673f5bc2dde55c3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f6c93f3609bb3be799ed32b6a601d5fc" category="section-title">命令中心（先前稱為TestV直流工具）</block>
  <block id="46433f623976c5af8ebdc7ab92816a48" category="inline-link-macro">命令中心總覽</block>
  <block id="bf69b43c185864d35a461d8f1c3ea56e" category="paragraph">若要啟動Command Center和所需的角色、請參閱 <block ref="d7ce3bd63a8a34b9b1630abb82acb951" category="inline-link-macro-rx"></block>。</block>
  <block id="b425cca2998cc4a7041a0baf7681e912" category="paragraph">您可以執行下列作業：</block>
  <block id="b462233b13790bce7e4c6449d02cf930" category="list-text">變更工作區的SMB路徑。</block>
  <block id="ee347a7998de9774369e6853f1ed7bcc" category="paragraph"><block ref="ee347a7998de9774369e6853f1ed7bcc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c524c01ee30f2f1597bb3e90c721dd8c" category="list-text">變更資源配置集合的網站。</block>
  <block id="ccb9931a262a0b169576103526fa2ab2" category="paragraph"><block ref="ccb9931a262a0b169576103526fa2ab2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="af6ba12de0b8c93d5f768c83143c7d99" category="section-title">記錄檔</block>
  <block id="017b9aa293da801da252c728736f02db" category="inline-link-macro">自動化記錄</block>
  <block id="580acc766c3f0e464b462d271028dc32" category="paragraph"><block ref="5f6615a18cd0f2f0bcfb7578db5d1c9e" category="inline-image-macro-rx" type="image"></block>檢查 <block ref="11597d7347faee3da56e0e01d5ba1de2" category="inline-link-macro-rx"></block> 以取得更多資訊。</block>
  <block id="881784d32d0ec795e6fd477e7c0fe8f7" category="paragraph"><block ref="881784d32d0ec795e6fd477e7c0fe8f7" category="inline-link-macro-rx"></block></block>
  <block id="57eae0e26c1c0bbaec9110d010f68f7a" category="summary">VMware是混合雲基礎架構、由儲存節點和運算節點組成。NetApp HCI視機型而定、可提供雙機架單元或單機架單元。部署VM所需的安裝與組態、都是透過NetApp部署引擎（NDE）自動完成。運算叢集是透過VMware vCenter進行管理、而儲存叢集則是透過部署NDE的vCenter外掛程式進行管理。</block>
  <block id="855faa205a8f23993f1a0fe1ac2cde2f" category="doc">概述NetApp HCI</block>
  <block id="95404d16cb98456e438a61d79a0a31d9" category="paragraph">VMware是混合雲基礎架構、由儲存節點和運算節點組成。NetApp HCI視機型而定、可提供雙機架單元或單機架單元。部署VM所需的安裝與組態、都是透過NetApp部署引擎（NDE）自動完成。運算叢集是透過VMware vCenter進行管理、而儲存叢集則是透過部署NDE的vCenter外掛程式進行管理。稱為mNode的管理VM會部署為NDE的一部分。</block>
  <block id="b6ab683d50d83f639ae697569117a54b" category="paragraph">可處理下列功能：NetApp HCI</block>
  <block id="d15278d453245d004f8fd55cff421171" category="list-text">版本升級</block>
  <block id="b783caf332f2c3190dcb6ced64290f5a" category="list-text">將事件推送到vCenter</block>
  <block id="79adeb760f6909dd746e1e7adae6cd58" category="list-text">vCenter外掛程式管理</block>
  <block id="a45e04274259a13dff2a10641a0fd97f" category="list-text">支援的VPN通道</block>
  <block id="227590ca6f7ff3f3cc72e49cf277625f" category="list-text">NetApp Active IQ 的收集器</block>
  <block id="b0088ee645cccd0951013eb53d0b3816" category="list-text">將NetApp Cloud Services延伸至內部部署環境、以實現混合雲基礎架構。下圖說明HCI元件。</block>
  <block id="1a811712e3bea62b6f5bd1851b149fc3" category="paragraph"><block ref="1a811712e3bea62b6f5bd1851b149fc3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4725a4744390b735ea1bb4e3fc99b686" category="section-title">儲存節點</block>
  <block id="65f0d96af236e344bd739fd20df1fa5d" category="paragraph">儲存節點可提供半寬或全寬機架單元。一開始至少需要四個儲存節點、叢集最多可擴充至40個節點。儲存叢集可在多個運算叢集之間共用。所有儲存節點都包含快取控制器、可改善寫入效能。單一節點以4K區塊大小提供50K或100K IOPS。</block>
  <block id="d31f04e865057f7055f2d8287b92ba2d" category="paragraph">執行支援功能的不支援區、可提供最低、最高和尖峰QoS限制。NetApp HCI NetApp Element儲存叢集支援混合式儲存節點、但一個儲存節點不得超過總容量的三分之一。</block>
  <block id="0f66538edca95cf4d42667cfa5d6a362" category="section-title">運算節點</block>
  <block id="449aaf51a6dfa9c0e17423ae5938d674" category="inline-link">VMware相容性指南</block>
  <block id="1046a3e2377d26c40f75eb2cd2f268da" category="admonition">NetApp支援將儲存設備連接至中所列的任何運算伺服器<block ref="72cc7e3e2b2d7f777e05aa309ef5f733" category="inline-link-rx"></block>。</block>
  <block id="bc1a52314ab38efacf0a83e9df0b01cc" category="paragraph">運算節點提供半寬、全寬及兩種機架單元大小。H410C和H610C均以可擴充的Intel Skylake處理器為基礎。NetApp HCIH615C採用第二代可擴充的Intel Cascade Lake處理器。有兩種運算模式包含GPU：H610C包含兩個NVIDIA M10卡、H615C則包含三個NVIDIA T4卡。</block>
  <block id="683876986e8fe1045fa768b4a8675ea9" category="paragraph"><block ref="683876986e8fe1045fa768b4a8675ea9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9667ae1b4be7e4c088e175844fd675e6" category="paragraph">NVIDIA T4有40個RT核心、提供即時光跡追蹤所需的運算能力。設計師和工程師所使用的相同伺服器模式、現在也可讓藝術家使用、建立具有照片般擬真的影像、使表面的光彈射與真實生活一樣。這款支援RTX的GPU可產生高達每秒五個Giga Rays的即時光跡追蹤效能。NVIDIA T4搭配Quadro Virtual Data Center Workstation（Quadro vDWS）軟體、可讓演出者在任何位置的任何裝置上、建立具有精確陰影、反射和反折效果的照片設計。</block>
  <block id="bee5034948808ff859affdc8ba03b52c" category="paragraph">張量核心可讓您執行深入學習的推斷工作負載。執行這些工作負載時、採用Quadro vDWS的NVIDIA T4效能比僅使用CPU的伺服器所驅動的VM快25倍。NetApp H615C在單一機架單元中搭載三個NVIDIA T4卡、是圖形與運算密集工作負載的理想解決方案。</block>
  <block id="1f99f286804bf2f5a91a1cdd1733decf" category="paragraph">下圖列出NVIDIA GPU卡並比較其功能。</block>
  <block id="67c0c3f98979352a9ed10f0de3d551f3" category="paragraph"><block ref="67c0c3f98979352a9ed10f0de3d551f3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b3b4fc2931642829391b479ea5fb1e9d" category="paragraph">M10 GPU仍是知識工作者使用案例的最佳TCO解決方案。但是、T4是理想的替代方案、因為它想要在GPU上標準化、以便在多種使用案例中使用、例如虛擬工作站、圖形效能、即時互動式呈現和推斷。有了T4、IT就能利用相同的GPU資源來執行混合式工作負載、例如在白天執行VDI、並重新規劃資源的用途、以便在夜間執行運算工作負載。</block>
  <block id="bdced20c33601e0149aecb44114cfdc5" category="paragraph">H610C運算節點大小為兩個機架單元、H615C大小為一個機架單元、耗電量較低。H615C支援H.264和H.264（高效視訊編碼[HEVC]）4：4編碼和解碼。它也支援越來越多的主流VP9解碼器、即使YouTube提供的WebM容器套件也會使用VP9轉碼器來播放影片。</block>
  <block id="fe046fc197d12a64da1ea78423a2a809" category="paragraph">運算叢集中的節點數由VMware決定、目前使用VMware vSphere 7.0 Update 1的節點數為96。啟用增強型VMotion相容性（EVC）時、即可在叢集中混合使用不同機型的運算節點。</block>
  <block id="f0bee2b90db3a99440b1a724c49ce1a2" category="inline-link-macro">下一步：NVIDIA授權</block>
  <block id="e0bca2831f4cccfcaebc75e9555a1719" category="paragraph"><block ref="e0bca2831f4cccfcaebc75e9555a1719" category="inline-link-macro-rx"></block></block>
  <block id="18dbdef148da0fb68861cf1b6aeeeb40" category="summary">採用NetApp VDS的混合式VDI可讓服務供應商和企業虛擬桌面系統管理員輕鬆地將資源擴充至其他雲端環境、而不會影響使用者。利用內部資源NetApp HCI 來支援功能、可更好地控制GPU資源、並可根據需求擴充運算或儲存節點。</block>
  <block id="1cf7e301510c711b73d2b182b9dcf084" category="doc">使用案例</block>
  <block id="0fe8a299bf61a0d1bbca5d975dc94fcc" category="paragraph">採用NetApp VDS的混合式VDI可讓服務供應商和企業虛擬桌面系統管理員輕鬆地將資源擴充至其他雲端環境、而不會影響使用者。擁有內部部署資源可更有效地控制資源、並提供多種選擇（運算、GPU、儲存設備及網路）以滿足需求。</block>
  <block id="976894dcc596e37094668684315ccac4" category="paragraph">本解決方案適用於下列使用案例：</block>
  <block id="f9bfa55b1c8ab8884a1452fa3c9cb975" category="list-text">突然進入雲端、讓遠端桌面和應用程式的需求激增</block>
  <block id="6b53dc409ecc50a533e93345ddf1f2ee" category="list-text">利用Flash儲存設備和GPU資源、在內部部署代管長期執行的遠端桌面和應用程式、進而降低TCO</block>
  <block id="f1de7e15d0b0c3caaafa1a47204338c7" category="list-text">輕鬆管理跨雲端環境的遠端桌面和應用程式</block>
  <block id="f9ce5b54f5428c82364a39f17156cc4f" category="list-text">使用軟體即服務模式搭配內部部署資源、體驗遠端桌面和應用程式</block>
  <block id="3190a811a89bc9da4384152bc43d1b94" category="section-title">目標對象</block>
  <block id="549c608b9fe93192110cc2552d28da22" category="paragraph">解決方案的目標對象包括下列群組：</block>
  <block id="675ee473db5bbe3911c19a4e43f8ec3f" category="list-text">EUC/VDI架構設計師想要瞭解混合式VDS的需求</block>
  <block id="a7f381741a2ff77b61bc4b7bc2e3d04f" category="list-text">想要協助客戶滿足遠端桌面和應用程式需求的NetApp合作夥伴</block>
  <block id="efa648658230830c2b9ac1a0647002d7" category="list-text">想NetApp HCI 要滿足遠端桌面和應用程式需求的現有支援客戶</block>
  <block id="2fa4089eb34d18d2b64eaab8eed9692d" category="inline-link-macro">下一步：NetApp虛擬桌面服務總覽</block>
  <block id="bf817f81e35d1d9f2620def86f22dcc3" category="paragraph"><block ref="bf817f81e35d1d9f2620def86f22dcc3" category="inline-link-macro-rx"></block></block>
  <block id="aaca2e6fe88c6861582a8d1a20acfd4f" category="summary">虛擬桌面服務的功能。ONTAP</block>
  <block id="bc9c47c8423d4537fdbf118b09a80084" category="doc">虛擬桌面服務的功能ONTAP</block>
  <block id="472986236003195075a1428fe6103f4c" category="paragraph">下列功能可讓IT成為虛擬桌面服務的理想選擇。ONTAP</block>
  <block id="6128a47ce6baa55dbad9293234f2f65c" category="list-text">*橫向擴充檔案系統* ONTAP FlexGroup 。*不實磁碟區的大小可擴充至20PB以上、而且可在單一命名空間內容納4000多億個檔案。叢集最多可包含24個儲存節點、每個節點可根據所使用的機型靈活調整網路介面卡數量。</block>
  <block id="960f11687b64143d44db7f4ffcb33ef2" category="paragraph">使用者的虛擬桌面、主資料夾、使用者設定檔容器、共用資料等、都能隨需擴充、不需擔心檔案系統的限制。</block>
  <block id="ab7ad572d2251b9b27fa0213fde8531f" category="list-text">*檔案系統分析。*您可以使用XCP工具深入瞭解共享資料。有了支援功能的支援功能、您可以輕鬆查詢及擷取檔案中繼資料資訊、並識別冷資料。ONTAP</block>
  <block id="885f3e34ca03dc8ff35c0bac51b384f7" category="list-text">*雲端分層。*您可以將冷資料移轉至雲端的物件存放區、或移轉至資料中心的任何S3相容儲存區。</block>
  <block id="fb38ee94b865e67571a08316a3baac38" category="list-text">*檔案版本。*使用者可以恢復受NetApp ONTAP SSnapshot複本保護的檔案。由於Snapshot複本只記錄變更的區塊、因此空間效率極高。ONTAP</block>
  <block id="9b7db1dd6f422e5f07ded1d3b7b04d90" category="list-text">* Global namespacy.* ONTAP FlexCache 支援遠端快取檔案儲存設備、因此可更輕鬆地管理包含ONTAP 此功能的各個位置的共享資料。</block>
  <block id="827aa7cb1ad6ddbf99e040efe34725a8" category="list-text">*安全的多租戶支援。*單一實體儲存叢集可呈現為多個虛擬儲存陣列、每個陣列都有自己的磁碟區、儲存傳輸協定、邏輯網路介面、身分識別與驗證網域、管理使用者等。因此、您可以在多個業務單位或環境（例如測試、開發和正式作業）之間共享儲存陣列。</block>
  <block id="6c36afe01468d888b334a4432dcac4b2" category="paragraph">為了保證效能、您可以使用調適性QoS來根據已使用或已分配的空間來設定效能層級、也可以使用配額來控制儲存容量。</block>
  <block id="b1a678f5f86de8ff8a5b9b1c4b3772b8" category="list-text">* VMware整合。* ONTAP VMware vSphere的支援功能可提供vCenter外掛程式、以配置資料存放區、實作vSphere主機最佳實務做法、以及監控ONTAP 各項資源。</block>
  <block id="9b12997ae1d332c9003c444a6ff8918a" category="paragraph">支援用於陣列整合（VAAI）的vStorage API、將SCSI /檔案作業卸載至儲存陣列。ONTAP此外、支援用於儲存感知（VASA）的vStorage API、以及同時支援區塊和檔案傳輸協定的虛擬Volume。ONTAP</block>
  <block id="025e05e390f2d7ef7708bb42d81e1eeb" category="paragraph">VMware vSphere的VMware vCenter外掛程式可讓您使用儲存陣列上的Snapshot功能、輕鬆備份及還原虛擬機器。SnapCenter</block>
  <block id="3452f822915108b5d640f3288959e7fd" category="paragraph">ActiveIQ Unified Manager可在vSphere環境中提供端點對端點儲存網路可見度。系統管理員可以輕鬆識別ONTAP 任何可能在執行於NetApp的虛擬桌面環境中發生的延遲問題。</block>
  <block id="c9559fb9abb51cf76cc973d06c7e730c" category="list-text">*安全性法規遵循*。*有了ActiveIQ Unified Manager、您可以監控多ONTAP 個含有任何違反原則警示的支援系統。</block>
  <block id="875c0a88cb08e888c642bbcc19cb33a2" category="list-text">*多重傳輸協定支援。* ONTAP 支援區塊（iSCSI、FC、FCoE和NVMe/FC）、檔案（NFSv3、 NFSv4.1、SMB2.x和SMB3.x）、以及物件（S3）儲存傳輸協定。</block>
  <block id="4ac79aa8e1431a96a08ba58c1e17a104" category="list-text">*自動化支援。* ONTAP 支援功能提供REST API、Ansible和PowerShell模組、以使用VDS管理入口網站來自動化工作。</block>
  <block id="ba5e495048f0fa35302184aa505386a9" category="inline-link-macro">下一步：資料管理</block>
  <block id="51688bc4609022e20e8c1cb051fb4489" category="paragraph"><block ref="51688bc4609022e20e8c1cb051fb4489" category="inline-link-macro-rx"></block></block>
  <block id="c6aaad7e04b9605d83a2a2aa661fc1b4" category="summary">透過NetApp VDS、系統管理員可以將工作委派給其他人。他們可以連線至已部署的伺服器、以進行疑難排解、檢視記錄及執行稽核報告。在協助客戶的同時、服務台或3級技術人員也能視需要對使用者工作階段進行陰影複製、檢視程序清單及終止程序。</block>
  <block id="d1c59e5cbf684efb4f69f300e72a4ac9" category="doc">營運管理</block>
  <block id="787e198d8fa4e242ef62df0a63fc0f5d" category="inline-link">疑難排解失敗的VDA動作頁面</block>
  <block id="8086a7a818fcf045c7b05845b97629ed" category="paragraph">如需VDS記錄檔的相關資訊、請參閱<block ref="0ecc734e7dc5f9a5685babbaab9faaa5" category="inline-link-rx"></block>。</block>
  <block id="88a80237ffcd0c20f5f4d4e7f9eda875" category="inline-link">VDA元件與權限頁面</block>
  <block id="000ea3efdd5a83f774a0c189fa2dcdc3" category="paragraph">如需所需最低權限的詳細資訊、請參閱<block ref="573c5bde2dc73c6cb4f63bbc5571c0e2" category="inline-link-rx"></block>。</block>
  <block id="81bb80b99b1ba5d80f9ba049cbd0c42f" category="inline-link">複製虛擬機器頁面</block>
  <block id="91aa73f3df8edb27ce6b20c984ff5d3e" category="paragraph">如果您想要手動複製伺服器、請參閱<block ref="837d5521d53fff809b7ef3ad6b17ecfa" category="inline-link-rx"></block>。</block>
  <block id="7d71ba8ea6767ea10d7cd61cbd787f89" category="inline-link">自動增加磁碟空間功能頁面</block>
  <block id="abf872062b9eb23bdf6d671c27508d96" category="paragraph">若要自動增加VM磁碟大小、請參閱<block ref="627eb07506141f4255cfbedd7fe89646" category="inline-link-rx"></block>。</block>
  <block id="cc6d8546c611bac5ab11fa1a5948ac1d" category="inline-link">終端使用者需求頁面</block>
  <block id="e148ddcb2ae92c77834ae7f48df04786" category="paragraph">若要識別閘道位址以手動設定用戶端、請參閱<block ref="3a5e891ac91af8fef1ca1458249fe76e" category="inline-link-rx"></block>。</block>
  <block id="b4f83b03956523a39e8bbbd0895f0f29" category="section-title">Cloud Insights</block>
  <block id="efb9afc2e01262d41bf1fa60ddc36414" category="paragraph">NetApp Cloud Insights 解決方案是一套網路監控工具、可讓您完整掌握NetApp及其他協力廠商基礎架構元件上執行的基礎架構與應用程式。支援私有雲和公有雲、以監控、疑難排解及最佳化資源。Cloud Insights</block>
  <block id="4894eb73d4d2ad7eaebb0968e871cb70" category="paragraph">只有採購單位VM（可以是Windows或Linux）必須安裝在私有雲端上、才能從資料收集器收集度量資料、而不需要代理程式。代理型資料收集器可讓您從Windows效能監視器或任何Telegraf支援的輸入代理程式擷取自訂度量。</block>
  <block id="32e49e2645f559763ede8e346bbcb816" category="paragraph">下圖描述Cloud Insights 了「VDS的功能不整」儀表板。</block>
  <block id="cb9ecf4f0010c9ec12b73a00e06a9237" category="paragraph"><block ref="cb9ecf4f0010c9ec12b73a00e06a9237" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3bd1406c323c740b5b2f2a7615ad62ca" category="paragraph">如需NetApp Cloud Insights 解決方案的詳細資訊、請參閱<block ref="5fdb6e8524eb99916602753c65f2f24e" category="inline-link-rx"></block>。</block>
  <block id="8a883bd6e43add9d94d923704bc177a7" category="inline-link-macro">下一步：工具與記錄</block>
  <block id="28f1e69837c0c21f4dcb8260d6ab5e97" category="paragraph"><block ref="28f1e69837c0c21f4dcb8260d6ab5e97" category="inline-link-macro-rx"></block></block>
  <block id="60ece3fee8421729100872ec44f1cda9" category="summary">在部署過程中、您可以選擇檔案服務方法來裝載使用者設定檔、共用資料及主磁碟機資料夾。可用的選項包括「檔案伺服器」、「Azure檔案」或Azure NetApp Files 「無法」。不過、部署之後、您可以使用Command Center工具修改此選項、以指向任何SMB共用區。使用NetApp ONTAP 功能主機託管有多種優點。</block>
  <block id="568483e9bd85504f3c9dcef24ecd3235" category="doc">資料管理</block>
  <block id="1b8c33cc721641b8b0555f2d7b5c2773" category="inline-link-macro">使用NetApp ONTAP 功能主機託管有多種優點</block>
  <block id="ef9fd867f3eaed93e0806bd027825218" category="inline-link">變更資料層</block>
  <block id="698e77d7e678617a2ae27ca2525bfbf7" category="paragraph">在部署過程中、您可以選擇檔案服務方法來裝載使用者設定檔、共用資料及主磁碟機資料夾。可用的選項包括「檔案伺服器」、「Azure檔案」或Azure NetApp Files 「無法」。不過、部署之後、您可以使用Command Center工具修改此選項、以指向任何SMB共用區。 <block ref="50056d02f0a90e2e837160c093f1b22b" category="inline-link-macro-rx"></block>。若要瞭解如何變更SMB共用區、請參閱<block ref="336429df384a16f14c12cbc8dba62525" category="inline-link-rx"></block>。</block>
  <block id="24e6e2f6171b43a847fe194a9a9b5cd0" category="section-title">全域檔案快取</block>
  <block id="ce29b83c61cdf6a56b49dbde9a4d57e0" category="paragraph">當使用者分散在全域命名空間內的多個站台時、全域檔案快取有助於減少經常存取資料的延遲。全域檔案快取部署可以使用資源配置集合和指令碼事件來自動化。全域檔案快取可在本機處理讀取和寫入快取、並在不同位置維護檔案鎖定。全域檔案快取可與任何SMB檔案伺服器搭配使用、Azure NetApp Files 包括</block>
  <block id="87db7a122a37ab4a28f2223fa123a5be" category="paragraph"><block ref="87db7a122a37ab4a28f2223fa123a5be" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d726de6a27bb533c6c8c44ea508dffa8" category="paragraph">全域檔案快取需要下列項目：</block>
  <block id="2f28046ff208122796d51bafd8d4bc9c" category="list-text">管理伺服器（授權管理伺服器）</block>
  <block id="83168e6cb289d732cc78427b51f93153" category="list-text">核心</block>
  <block id="e7704357fe6a312ecafae725be93b8c2" category="list-text">具有足夠磁碟容量的邊緣、可快取資料</block>
  <block id="d70c88e6a13ca1af40b966d8d7d831c4" category="inline-link">GFC文件</block>
  <block id="154c48fd725e7207d36baa74bba5fd7a" category="paragraph">若要下載軟體並計算Edge的磁碟快取容量、請參閱<block ref="83d5530c5afeb5a227ac8c2985566e4d" category="inline-link-rx"></block>。</block>
  <block id="1afc494dd7d35016d9524e06b68dbf2a" category="paragraph">為了進行驗證、我們在Azure的同一部VM上部署核心與管理資源、並在NetApp HCI 支援上部署邊緣資源。請注意、核心是需要大量資料存取的核心、而邊緣則是核心的子集。安裝軟體之後、您必須先啟動啟動授權、才能使用。若要這麼做、請完成下列步驟：</block>
  <block id="70366038f1d44fef6c71f615b677b9cf" category="list-text">在「License Configuration」（授權組態）區段下、使用「Click here to complete the license activation」（按一下這裡完成授權啟動）連結然後註冊核心。</block>
  <block id="a51a182b58a11b12770fbd2bd9643852" category="paragraph"><block ref="a51a182b58a11b12770fbd2bd9643852" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d666527802938c89b9f895300aea220b" category="list-text">提供要用於全域檔案快取的服務帳戶。如需此帳戶的必要權限、請參閱<block ref="83d5530c5afeb5a227ac8c2985566e4d" category="inline-link-rx"></block>。</block>
  <block id="ab698dd081619e8f6dc264df6c99b73e" category="paragraph"><block ref="ab698dd081619e8f6dc264df6c99b73e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="12b1486d5cfb9e0c5394a50e2515b53c" category="list-text">新增後端檔案伺服器、並提供檔案伺服器名稱或IP。</block>
  <block id="ffeac1f6b14ca75f608539cb6c673f37" category="paragraph"><block ref="ffeac1f6b14ca75f608539cb6c673f37" category="inline-image-macro-rx" type="image"></block></block>
  <block id="643c94b6eb5664ed3cca98d31d7dbd39" category="list-text">在邊緣、快取磁碟機必須有磁碟機代號D如果沒有、請使用diskpart.exe選取磁碟區並變更磁碟機代號。在授權伺服器註冊為Edge。</block>
  <block id="e9b41aa1ac49113064748a9c6e0f48a9" category="paragraph"><block ref="e9b41aa1ac49113064748a9c6e0f48a9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="156666d997fd17a94bed67fe95334273" category="paragraph">如果啟用核心自動組態、核心資訊會自動從授權管理伺服器擷取。</block>
  <block id="891d862f33aaeafcd8ecc43e102febd3" category="paragraph"><block ref="891d862f33aaeafcd8ecc43e102febd3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a2184b1f206fd35eeb448e9937bdabe7" category="paragraph">在任何用戶端機器上、用來存取檔案伺服器上共用區的系統管理員都可以使用「UNC Path」（UNC路徑）、「\&lt;edge server name&gt;\FASTDATA」（主伺服器名稱）、「\」（後端檔案伺服器名稱）、以GFC邊緣存取該共用區。系統管理員可以在使用者登入指令碼或GPO中包含此路徑、以便在邊緣位置進行使用者磁碟機對應。</block>
  <block id="a08e5ca253097ac5ad7741e20d9dd090" category="paragraph">為了讓全球的使用者擁有透明的存取權限、系統管理員可以設定Microsoft分散式檔案系統（DFS),並提供指向檔案伺服器共用和邊緣位置的連結。</block>
  <block id="0c9f570b7b5b34f0fbdab873e122d432" category="paragraph"><block ref="0c9f570b7b5b34f0fbdab873e122d432" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b9e8ad2bf50c8da3a637a8858d3a1391" category="paragraph">當使用者根據與站台相關聯的子網路、使用Active Directory認證登入時、則會由DFS用戶端使用適當的連結來存取資料。</block>
  <block id="6a6b2107f2b5daadfd13df04f769a587" category="paragraph"><block ref="6a6b2107f2b5daadfd13df04f769a587" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8aabec6a7d3f54b83478824808357c91" category="paragraph">檔案圖示會視檔案是否快取而有所變更；未快取的檔案會在圖示左下角顯示灰色的X。邊緣位置的使用者存取檔案後、該檔案會快取、圖示會變更。</block>
  <block id="1014b6d5d432758e9041c845e4da7830" category="paragraph"><block ref="1014b6d5d432758e9041c845e4da7830" category="inline-image-macro-rx" type="image"></block></block>
  <block id="610eee89db61eda57b4b6da39d799845" category="paragraph">當檔案開啟且另一個使用者嘗試從邊緣位置開啟相同的檔案時、系統會提示使用者下列選項：</block>
  <block id="5a31b6c180e91d3c3d3c1053bbab642c" category="paragraph"><block ref="5a31b6c180e91d3c3d3c1053bbab642c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1c6f3b21447f91b42ceee404afc53720" category="paragraph">如果使用者選擇在原始複本可用時接收通知的選項、則會以下列方式通知使用者：</block>
  <block id="922c6f30fa0f74f32df2fac11a3bf378" category="paragraph"><block ref="922c6f30fa0f74f32df2fac11a3bf378" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4b9bc3a03a8ae9cef2c5a66238e5ab25" category="inline-link">Talon與Azure NetApp Files 《部署》影片</block>
  <block id="e725329a19c23f541a0bdbead9c9b1e7" category="paragraph">如需詳細資訊、請參閱<block ref="92818ea025c5b78ace999366164c2c46" category="inline-link-rx"></block>。</block>
  <block id="fc95bd8bc19564339fe05c7bad1b7662" category="section-title">SaaS備份</block>
  <block id="482cadbeebfa6f9c4f062c1f2724d546" category="paragraph">NetApp VDS可為Salesforce和Microsoft Office 365提供資料保護、包括Exchange、SharePoint和Microsoft OneDrive。下圖顯示NetApp VDS如何為這些資料服務提供SaaS備份。</block>
  <block id="0e3aff181138166393e5e5e698c994d2" category="paragraph"><block ref="0e3aff181138166393e5e5e698c994d2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4cde65566156674196c087d89ded5c3b" category="paragraph">如需Microsoft Office 365資料保護的示範、請參閱<block ref="158107d7e819a2ef8c2e8f24519fc9a9" category="inline-link-rx"></block>。</block>
  <block id="a067b7082c28e7dbf856ab55b29d1acb" category="paragraph">如需Salesforce資料保護的示範、請參閱<block ref="dd6e5767407887626a36af7b68defda9" category="inline-link-rx"></block>。</block>
  <block id="2cb2b89213bccd89f81cfbb17b2e070b" category="inline-link-macro">下一步：營運管理</block>
  <block id="1f3d3eae36241941c6f7a1eaf3615eac" category="paragraph"><block ref="1f3d3eae36241941c6f7a1eaf3615eac" category="inline-link-macro-rx"></block></block>
  <block id="56b4cb3c337694fdafc2164dddad87fa" category="summary">GPU通常用於圖形視覺化（呈現）、方法是執行重複的運算計算。這種重複運算功能通常用於AI和深度學習使用案例。</block>
  <block id="ca32c5a534baaf5f6dc3e6e6fed62450" category="doc">GPU考量</block>
  <block id="ceeb28ce3b9ce753f02856fffb7ba66c" category="paragraph">對於圖形密集的應用程式、Microsoft Azure提供以NVIDIA Tesla M60卡為基礎的內華達系列、每部VM有一到四個GPU。每個NVIDIA Tesla M60卡都包含兩個基於Maxwell的GPU、每個GPU都有8GB的GDDR5記憶體、總計16GB。</block>
  <block id="cb433c3099845f0ac8f3ba53d162db7b" category="admonition">NVA系列隨附NVIDIA授權。</block>
  <block id="0f0c98cc175dc7cda319a35afcd199e5" category="paragraph"><block ref="0f0c98cc175dc7cda319a35afcd199e5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ead26a90008a32871b53cb37bbe8431a" category="paragraph">H615C GPU搭配NetApp HCI 使用包含三個NVIDIA Tesla T4卡。每個NVIDIA Tesla T4卡都有一個巡迴顯示GPU、配備16GB的GDDR6記憶體。在VMware vSphere環境中使用時、虛擬機器可以共用GPU、每個VM都有專屬的框架緩衝記憶體。利用位於《不穩定的H615C」上的GPU提供光跡追蹤NetApp HCI 功能、以產生真實影像、包括光反射。請注意、您必須擁有NVIDIA授權伺服器、並取得GPU功能的授權。</block>
  <block id="148811d448421f6a42c549400b7201c0" category="paragraph"><block ref="148811d448421f6a42c549400b7201c0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fc6992cca0b3d14a85c456d0890f3e37" category="paragraph">若要使用GPU、您必須安裝適當的驅動程式、該驅動程式可從NVIDIA授權入口網站下載。在Azure環境中、NVIDIA驅動程式可做為GPU驅動程式擴充。接下來、必須更新下列螢幕快照中的群組原則、才能使用GPU硬體進行遠端桌面服務工作階段。您應該優先設定H.264圖形模式、並啟用編碼器功能。</block>
  <block id="5b0ff68b017720dd46aa6d1923fdfa95" category="paragraph"><block ref="5b0ff68b017720dd46aa6d1923fdfa95" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d7d3d3d6dd94c69620cd3edfb005691c" category="paragraph">使用工作管理員或在執行WebGL範例時使用nvidia-smi CLI來驗證GPU效能監控。請確定GPU、記憶體和編碼器資源已耗用。</block>
  <block id="d13ca37d387c1bb473c0343278d0477d" category="paragraph"><block ref="d13ca37d387c1bb473c0343278d0477d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9f2b53ac98ef55a900849ead654ca636" category="paragraph">為了確保虛擬機器已透過NetApp HCI Virtual Desktop Service部署至VMware View H615C、請使用vCenter叢集資源定義一個具有H615C主機的站台。VM範本必須附加所需的vGPU設定檔。</block>
  <block id="818fad61fba48977b2293819f37e950a" category="paragraph">對於共享的多工作階段環境、請考慮分配多個同質vGPU設定檔。不過、對於高階專業繪圖應用程式、最好讓每個VM都專供使用者使用、以隔離VM。</block>
  <block id="a2db30df8af33b0e661aaed00ce2c1d3" category="paragraph">GPU處理器可由QoS原則控制、而每個vGPU設定檔都可以有專屬的框架緩衝區。不過、編碼器和解碼器會針對每個卡共用。將vGPU設定檔放置在GPU卡上、是由vSphere主機GPU指派原則所控制、可強調效能（分散VM）或整合（群組VM）。</block>
  <block id="9411dea29d318927759a55cff454b3dd" category="inline-link-macro">下一步：產業解決方案。</block>
  <block id="ee3f381f10f3f075a22913a348a89edf" category="paragraph"><block ref="ee3f381f10f3f075a22913a348a89edf" category="inline-link-macro-rx"></block></block>
  <block id="7b0f97bc4856c6b0645650d13b53acb5" category="summary">當內部部署資源與雲端資源之間存在連線時、可將NetApp虛擬桌面服務延伸至內部部署。企業可以使用Express Route或站台對站台IPsec VPN連線、建立Microsoft Azure的連結。您也可以使用專屬連結或使用IPsec VPN通道、以類似方式建立其他雲端的連結。</block>
  <block id="995d0ae58fc48c0007c3a45046221736" category="doc">混合雲環境</block>
  <block id="610e3513c7222cae8d2a7c450741211a" category="paragraph">對於解決方案驗證、我們使用下圖所示的環境。</block>
  <block id="0d9e9a129d4eb3389af12248eb017ef1" category="paragraph"><block ref="0d9e9a129d4eb3389af12248eb017ef1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="60ca94382604fd3deb8a198feed31f1b" category="paragraph">內部部署的管理、遠端桌面工作階段主機等都有多個VLAN。它們位於172.21.146-150.0/24子網路、並使用Microsoft遠端路由存取服務路由傳送至公司網路。我們也執行下列工作：</block>
  <block id="b613a58cb27d96b09550b74a616e43d8" category="list-text">我們注意到Microsoft路由及遠端存取伺服器（由IPchicken.com識別的RAR;）的公有IP。</block>
  <block id="b0aa9d967a62cfeb9427c31c3968fb31" category="list-text">我們在Azure訂閱上建立了虛擬網路閘道資源（路由型VPN）。</block>
  <block id="2db3e884a3b1d82162c06df081b8e8f0" category="list-text">我們建立的連線提供Microsoft RARserver公用IP的本機網路閘道位址。</block>
  <block id="ac7b5e31749488bdca809cc69e83bcec" category="list-text">我們在建立VPN閘道時、已完成在RRAS上的VPN組態、使用預先共用的驗證來建立虛擬介面。如果設定正確、VPN應處於連線狀態。您也可以使用pfSense或其他相關工具來建立站台對站台IPsec VPN通道、而非Microsoft RAR。由於它是以路由為基礎、因此通道會根據所設定的特定子網路來重新導向流量。</block>
  <block id="064b2713bd54ad7c04715d629ea8d77e" category="paragraph">Microsoft Azure Active Directory提供以OAUTH為基礎的身分識別驗證。企業用戶端驗證通常需要以NTLM或Kerberos為基礎的驗證。Microsoft Azure Active Directory網域服務使用ADConnect在Azure Active Directory和內部部署網域控制器之間執行密碼雜湊同步。</block>
  <block id="c9ced395d02e614104c13dc687b8d960" category="paragraph">針對此混合式VDS解決方案驗證、我們最初部署至Microsoft Azure、並在vSphere中新增額外的站台。這種方法的優勢在於平台服務已部署至Microsoft Azure、之後便可使用入口網站輕鬆備份。如此一來、即使站台站台VPN連結中斷、也能從任何地方輕鬆存取服務。</block>
  <block id="759e5787427ba679d146727a04400c46" category="paragraph">為了新增其他站台、我們使用了一個名為DCConfig的工具。該應用程式的捷徑可在Cloud Workspace Manager（WMgr）VM的桌面上使用。啟動此應用程式之後、請瀏覽至DataCenter Sites（資料中心站台）索引標籤、新增資料中心站台、然後填寫所需資訊、如下所示。URL指向vCenter IP。在新增組態之前、請先確認WMgr VM可以與vCenter通訊。</block>
  <block id="ae5bd963078c278284e2aabaefb99232" category="admonition">請確定已安裝CloudWorkspace管理程式上的vSphere PowerCLI 5.1、以啟用與VMware vSphere環境的通訊。</block>
  <block id="e0072a2f037098ba3ee9ec9e1113f1ee" category="paragraph">下圖說明內部部署資料中心站台組態。</block>
  <block id="30efb5f8dd999c0f737bf30327346d6f" category="paragraph"><block ref="30efb5f8dd999c0f737bf30327346d6f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f823fddfaa31c0b2b910c651849fe1e0" category="paragraph">請注意、根據特定叢集、主機名稱或可用RAM空間、有可供運算資源使用的篩選選項。儲存資源的篩選選項包括資料存放區上的最小可用空間或每個資料存放區的最大VM數。可使用規則運算式排除資料存放區。按一下「Save（儲存）」按鈕以儲存組態。</block>
  <block id="40cf95c01dfbdb8adc110507697330bf" category="paragraph">若要驗證組態、請按一下「Test（測試）」按鈕或按一下「Load Hypervisor（載入Hypervisor）」、然後勾選vSphere區段下方的任何下拉式清單。應填入適當的值。對於預設資源配置網站、將主要Hypervisor設為「是」是最佳實務做法。</block>
  <block id="b081b97ab471a870119bb85e196c0d63" category="paragraph">在VMware vSphere上建立的VM範本會作為VDS上的資源配置集合使用。資源配置集合有兩種形式：共享和VDI。共享資源配置集合類型用於將單一資源原則套用至所有伺服器的遠端桌面服務。VDI類型用於個別指派資源原則的WVD執行個體。資源配置集合中的伺服器可指派下列三種角色之一：</block>
  <block id="9a0b479d2d7eaed435c14e20818841d9" category="list-text">* TSDATA。*終端機服務與資料伺服器角色的組合。</block>
  <block id="286b69ba39f77189135fbf4c39786e12" category="list-text">* TS。*終端機服務（工作階段主機）。</block>
  <block id="0b39ab3df8d28606b4bb8f5891022692" category="list-text">*資料。*檔案伺服器或資料庫伺服器。定義伺服器角色時、您必須挑選VM範本和儲存設備（資料存放區）。所選的資料存放區可限制為特定的資料存放區、也可以使用根據資料使用量選擇資料存放區的最少使用選項。</block>
  <block id="fb89cc64fafb0e1626269bc00c07ae73" category="paragraph">每個部署都會根據使用者、固定、伺服器負載或使用者計數、為雲端資源配置設定VM資源預設值。</block>
  <block id="d00f03f39f8119980cb5240353d345b1" category="inline-link-macro">下一步：使用Login VSI進行單一伺服器負載測試</block>
  <block id="af5c949297d5415f4710bd1af3f1e7a7" category="paragraph"><block ref="af5c949297d5415f4710bd1af3f1e7a7" category="inline-link-macro-rx"></block></block>
  <block id="3a1e041969ddc2d8e0e399260d9159a7" category="doc">使用Login VSI進行單一伺服器負載測試</block>
  <block id="12d80b6f529069c8b2bc8d45947a0379" category="paragraph">NetApp虛擬桌面服務使用Microsoft遠端桌面傳輸協定來存取虛擬桌面工作階段和應用程式、而登入VSI工具則決定可裝載於特定伺服器機型上的使用者人數上限。登入VSI會模擬使用者以特定時間間隔登入、並執行使用者作業、例如開啟文件、讀取及撰寫郵件、使用Excel和PowerPoint、列印文件、壓縮檔案及隨機中斷。然後測量回應時間。當伺服器使用率偏低時、使用者回應時間會較短、而且新增更多使用者工作階段時、使用者回應時間會增加。登入VSI會根據初始使用者登入工作階段來決定基準、並在使用者回應超過基準2秒時報告最大使用者工作階段。</block>
  <block id="4be1d7a9b1a8d85ed7d1cf5c72b23928" category="paragraph">NetApp虛擬桌面服務利用Microsoft遠端桌面傳輸協定來存取虛擬桌面工作階段和應用程式。為了判斷特定伺服器機型上可裝載的使用者人數上限、我們使用登入VSI工具。登入VSI會以特定時間間隔模擬使用者登入、並執行使用者作業、例如開啟文件、讀取及撰寫郵件、使用Excel和PowerPoint、列印文件、壓縮檔案、隨機中斷等等。它也會測量回應時間。當伺服器使用率偏低時、使用者回應時間會較短、而且新增更多使用者工作階段時、使用者回應時間會增加。登入VSI會根據初始使用者登入工作階段來決定基準、並在使用者回應超過基準2秒時報告最大使用者工作階段。</block>
  <block id="481e9968651d6bd0d36d67a776a0f32a" category="paragraph">下表包含用於此驗證的硬體。</block>
  <block id="a559b87068921eec05086ce5485e9784" category="cell">模型</block>
  <block id="e93f994f01c537c4e2f7d8528c3eb5e9" category="cell">數</block>
  <block id="b5a7adde1af5c87d7fd797b6245c2a39" category="cell">說明</block>
  <block id="8417ade953d75aa6fa3c64813e005e17" category="cell">H610C NetApp HCI</block>
  <block id="a87ff679a2f3e71d9181a67b7542122c" category="cell">4.</block>
  <block id="ec1d568aa57f1e1231acef5759640fc6" category="cell">叢集內有三個用於啟動器、AD、DHCP等。一台伺服器進行負載測試。</block>
  <block id="5b68b81817d64cfa84c65e2e185efe97" category="cell">H615C NetApp HCI</block>
  <block id="c4ca4238a0b923820dcc509a6f75849b" category="cell">1.</block>
  <block id="c36af9ab64be0b8bd4d5097f58b8a5ba" category="cell">2x24C Intel Xeon Gold 6282@2.1GHz。1.5TB RAM。</block>
  <block id="825c03a9f78635bec804883dde1bd6bf" category="paragraph">下表包含用於此驗證的軟體。</block>
  <block id="f5bf48aa40cad7891eb709fcf1fde128" category="cell">產品</block>
  <block id="f80ee94fe4a9c10f8d85e442e7521687" category="cell">NetApp VDS 5.4</block>
  <block id="d9cc1f843ea62c12a3e59afbbdc2f9ce" category="cell">協調</block>
  <block id="bb15f84d3b96a9b33719b8a71bc62207" category="cell">VM範本Windows 2019 1809</block>
  <block id="f6a3c0d463e2ae697b02a9893e2062a3" category="cell">適用於RDSH的伺服器作業系統</block>
  <block id="5a264c4e5b7b75d4ead67bf3ff7988bc" category="cell">登入VSI</block>
  <block id="5227da0541209a94c7dc0a07cf3e0740" category="cell">4.1.32.1</block>
  <block id="123995603a5e237810bf85a8e3c73f2e" category="cell">VMware vSphere 6.7 Update 3</block>
  <block id="1b21b0d71706897b69f108572c444d40" category="cell">Hypervisor</block>
  <block id="2752fcc90cb7cc7439b827d762e89166" category="cell">VMware vCenter 6.7 Update 3f</block>
  <block id="436bc441be68b676a199df5c1ea02263" category="cell">VMware管理工具</block>
  <block id="9ad541af6dac1be0c6655522128a386c" category="paragraph">登入VSI測試結果如下：</block>
  <block id="17126aef3e415713552604218f448967" category="cell">VM組態</block>
  <block id="084abcce930cefa047af15fc0836639a" category="cell">登入VSI基準</block>
  <block id="8bb9799dff9f679e2305879f7dc1a9f0" category="cell">登入VSI上限</block>
  <block id="e49775052ecbe49b489c84d0b09e916e" category="cell">H610C</block>
  <block id="a9cc7da7b66d8162a44a176bb1109440" category="cell">8個vCPU、48GB RAM、75GB磁碟、8Q vGPU設定檔</block>
  <block id="28267ab848bcf807b2ed53c3a8f8fc8a" category="cell">799</block>
  <block id="8f85517967795eeef66c225f7883bdcb" category="cell">178.</block>
  <block id="4052d2c7017812dc33333a4dc7e83dc9" category="cell">12個vCPU、128GB RAM、75GB磁碟</block>
  <block id="eefc9e10ebdc4a2333b42b2dbb8f27b6" category="cell">763</block>
  <block id="7a614fd06c325499f1680b9896beedeb" category="cell">272.72</block>
  <block id="71c62dd6d64bb960471819c829a777fd" category="paragraph">考慮到子NUMA界限和超執行緒、選擇用於VM測試和組態的八個VM取決於主機上可用的核心。</block>
  <block id="0f57e9c52f3aa2d44da0de48ac87443a" category="paragraph">我們在H610C上使用10個啟動器VM、使用RDP傳輸協定連線至使用者工作階段。下圖說明登入VSI連線資訊。</block>
  <block id="ad1351ac01d5fe0ac5546c8a2fd2d170" category="paragraph"><block ref="ad1351ac01d5fe0ac5546c8a2fd2d170" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1dba4e8b5ffc06c0ccce673fd6f48159" category="paragraph">下圖顯示H610C的登入VSI回應時間與作用中工作階段的比較。</block>
  <block id="8d58d21e6be9e4be37d3c42935a380b5" category="paragraph"><block ref="8d58d21e6be9e4be37d3c42935a380b5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="65f671ed80b2c6f0cc371ab295230a3a" category="paragraph">下圖顯示H615C的登入VSI回應時間與作用中工作階段的比較。</block>
  <block id="72cce33d21386089f9a521f893c14d41" category="paragraph"><block ref="72cce33d21386089f9a521f893c14d41" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5c29ae1e9123280c1975dbc407f3eca3" category="paragraph">下圖顯示在vSphere主機和VM的H615C登入VSI測試期間、來自VMware的效能指標Cloud Insights 。</block>
  <block id="d64755ae2a4094876fbaf88a161ddec2" category="paragraph"><block ref="d64755ae2a4094876fbaf88a161ddec2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1ab628831ed501803e9da2a64f12dd6e" category="inline-link-macro">下一步：管理入口網站</block>
  <block id="20fcc4e371ed448b0d5ffee3f4aecb43" category="paragraph"><block ref="20fcc4e371ed448b0d5ffee3f4aecb43" category="inline-link-macro-rx"></block></block>
  <block id="91af64270656f51ceebeabc4b79ecb07" category="summary">NetApp VDS可根據所需的程式碼、使用可用的設定應用程式部署至Microsoft Azure。</block>
  <block id="ea355214fd4bc7c57f471bd92918879b" category="doc">部署</block>
  <block id="29707848401dd26f02baed07b9a416c1" category="paragraph">NetApp VDS可根據所需的程式碼、使用可用的設定應用程式部署至Microsoft Azure。目前版本可供使用<block ref="deb5bc0c1293f06a53a77d04b921abbd" category="inline-link-rx"></block> 我們也提供即將推出的產品預覽版本<block ref="b5073644bfe6db36c388c6bdbca64b49" category="inline-link-rx"></block>。</block>
  <block id="c4e1987e3c1416cefd772fd61f28dfb4" category="paragraph">請參閱<block ref="f8270911b627accef36841f0608bc58d" category="inline-link-rx"></block> 以取得部署指示。</block>
  <block id="4c9affd9b517fc81a601ea0861dc5399" category="inline-link-macro">下一步：混合雲環境</block>
  <block id="2045518eb8a77a5284f073d0387f9a58" category="paragraph"><block ref="2045518eb8a77a5284f073d0387f9a58" category="inline-link-macro-rx"></block></block>
  <block id="48a2bc9c10adbea95074594015793272" category="summary">工作區包含桌面環境、可在內部部署或任何支援雲端環境中共用遠端桌面工作階段。有了Microsoft Azure、桌面環境就能持續使用Windows Virtual Desktops。每個工作區都與特定組織或用戶端相關聯。</block>
  <block id="1da2374b50f497e208c8dab11e6b2c98" category="doc">工作區管理</block>
  <block id="fb67e63246489555a7e8929a138ced4c" category="paragraph">工作區由桌面環境組成、可在內部部署或任何支援的雲端環境中、共用遠端桌面工作階段。有了Microsoft Azure、桌面環境就能持續使用Windows Virtual Desktops。每個工作區都與特定組織或用戶端相關聯。建立新工作區時可用的選項如下圖所示。</block>
  <block id="42a6c6312ce8b92836d9e74d89998e89" category="paragraph"><block ref="42a6c6312ce8b92836d9e74d89998e89" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2d49083c2604eac2881e01b4acea428e" category="admonition">每個工作區都與特定部署相關聯。</block>
  <block id="2a1fdca12b05c0f5292a8670b24cb478" category="paragraph">工作區包含相關的應用程式和應用程式服務、共用資料夾、伺服器和WVD執行個體。每個工作區都能控制安全選項、例如強制執行密碼複雜度、多因素驗證、檔案稽核等。</block>
  <block id="f29490b04a344e19674ee8d1db337d14" category="paragraph">工作區可控制工作負載排程、以開啟額外的伺服器、限制每個伺服器的使用者人數、或設定特定期間可用資源的排程（永遠開啟/關閉）。也可設定資源以隨需啟動。</block>
  <block id="421b47ffd946ca083b65cd668c6b17e6" category="inline-link">影片</block>
  <block id="5a70681d968007936b9d092ba1a93313" category="paragraph">如果需要、工作區可以覆寫部署VM資源的預設值。對於WVD、也可從雲端工作區管理套件入口網站管理WVD主機集區（包含工作階段主機和應用程式群組）和WVD工作區。如需WVD主機集區的詳細資訊、請參閱此<block ref="283c24f69dac0d05b60b041138870b19" category="inline-link-rx"></block>。</block>
  <block id="ff13351bb4dc0c877064ec1672d6723f" category="inline-link-macro">下一步：應用程式管理</block>
  <block id="bb974af58c318849f0fce8f7c3ecdf37" category="paragraph"><block ref="bb974af58c318849f0fce8f7c3ecdf37" category="inline-link-macro-rx"></block></block>
  <block id="aa08bd8b0522ea3a5e9ace598db7162c" category="doc">應用程式管理</block>
  <block id="f83a66a518ff3f3f44725a09d9666710" category="paragraph">對於辦公室員工或進階使用者而言、他們所需的應用程式可以使用服務板手動配置、也可以使用NetApp VDS中的指令碼事件功能來自動配置。</block>
  <block id="546d3f7d3bb8a664a6ba4a3fb2f68c30" category="inline-link">NetApp應用程式權利頁面</block>
  <block id="175ba74f5b7d0ecd3f531c5fce21a240" category="paragraph">如需詳細資訊、請參閱<block ref="03e02ecfc967e94041a86f599e14ac44" category="inline-link-rx"></block>。</block>
  <block id="fd324b11a163d2dae6bf3f9654381d16" category="inline-link-macro">下一步：ONTAP 虛擬桌面服務的功能</block>
  <block id="25838148a81bcaa2b7e931ef8cd65a13" category="paragraph"><block ref="25838148a81bcaa2b7e931ef8cd65a13" category="inline-link-macro-rx"></block></block>
  <block id="74d542ee52cd8400c9b9307ed9a99c12" category="list-text">Astra DevOps使用案例：</block>
  <block id="3da7df001d5e1f907d2527f52c6ccc00" category="inline-link-macro">透過NetApp Astra Control、輕鬆將保護功能整合至Kubernetes CI/CD傳輸途徑</block>
  <block id="3f1cbb7eb907b7cb7f46877360d4a588" category="list-text"><block ref="3f1cbb7eb907b7cb7f46877360d4a588" category="inline-link-macro-rx"></block></block>
  <block id="fa4bd1682f261cdd55edf3e8e7dbfef6" category="inline-link-macro">DevOps with NetApp：使用Astra Control執行事後分析、並還原應用程式</block>
  <block id="1188d1aaa4a5f54ec1dab3da3576377a" category="list-text"><block ref="1188d1aaa4a5f54ec1dab3da3576377a" category="inline-link-macro-rx"></block></block>
  <block id="ce932b248d7f57bcada97c64dd7429a7" category="inline-link-macro">NetApp Astra Control Center：應用程式資料管理的簡易按鈕</block>
  <block id="0d47bfb381dd96470ac538b5a112db04" category="list-text"><block ref="0d47bfb381dd96470ac538b5a112db04" category="inline-link-macro-rx"></block></block>
  <block id="95e5ff389c2796a171f904ad5b9322f6" category="list-text">NetApp與VMware Cloud Foundation（VCF）</block>
  <block id="81cd1d42ffdb75544144e24cf0f8dc54" category="inline-link-macro">第1部分：入門</block>
  <block id="837bbffc16dc6e344470df1114a13c87" category="list-text"><block ref="837bbffc16dc6e344470df1114a13c87" category="inline-link-macro-rx"></block></block>
  <block id="0437c596200f9be8466a3200f5cf2438" category="inline-link-macro">第2部分：vcf和ONTAP 不完整的主要儲存設備</block>
  <block id="e361fc9a6477c5857207bca25b3d797f" category="list-text"><block ref="e361fc9a6477c5857207bca25b3d797f" category="inline-link-macro-rx"></block></block>
  <block id="14c9e898417d6b3caceb9c60335c4bb3" category="inline-link-macro">第3部分：vcf和Element主要儲存設備</block>
  <block id="aa37de763ea804c1fb3fe637fb6ee5ef" category="list-text"><block ref="aa37de763ea804c1fb3fe637fb6ee5ef" category="inline-link-macro-rx"></block></block>
  <block id="fbbcbe8b70235742e3e6aa656c7815d9" category="inline-link-macro">第4部分ONTAP ：VMware的VMware及補充儲存工具</block>
  <block id="de8f12d6d2f85119918d1bbb774d43c8" category="list-text"><block ref="de8f12d6d2f85119918d1bbb774d43c8" category="inline-link-macro-rx"></block></block>
  <block id="8d7efa937e97b1a8187ff8f122d9732a" category="inline-link-macro">最佳化雲端型VMware部署的儲存設備</block>
  <block id="5a6bd3a9e0048284caf2b5f521d90959" category="list-text"><block ref="5a6bd3a9e0048284caf2b5f521d90959" category="inline-link-macro-rx"></block></block>
  <block id="00d07ce14f227693b9dabba2f52b53a5" category="inline-link-macro">使用NetApp雲端產品開始使用Azure VMware解決方案</block>
  <block id="ac66988ead29ba5f4ed32ec3894527e7" category="list-text"><block ref="ac66988ead29ba5f4ed32ec3894527e7" category="inline-link-macro-rx"></block></block>
  <block id="0fd00a19fb12bb899dfe7cefbcbbcb79" category="inline-link-macro">在Red Hat OpenShift上安裝NetApp Trident–如何解決Docker「TOomanyRequests」問題！</block>
  <block id="43e5d9153d1fc4a35be5f57189605919" category="list-text"><block ref="43e5d9153d1fc4a35be5f57189605919" category="inline-link-macro-rx"></block></block>
  <block id="ec7f98a3714557d87968dc6a898f7912" category="inline-link-macro">使用VMware Tanzu ONTAP 搭配VMware以加速Kubernetes業務發展</block>
  <block id="32e124b0349f41e06bf1e03f11950665" category="list-text"><block ref="32e124b0349f41e06bf1e03f11950665" category="inline-link-macro-rx"></block></block>
  <block id="1dca3067f5c6c2fa6b32ef683fcab56f" category="summary">在此案例中、客戶擁有大型內部部署Hadoop儲存庫、並想要備份以供災難恢復之用。然而、客戶目前的備份解決方案成本高昂、而且備份時間長達24小時以上。</block>
  <block id="817ac2975197bd6c376a7918a798981f" category="doc">使用案例1：備份Hadoop資料</block>
  <block id="8efec9e11b7742f59dbe1af079e1c1d0" category="inline-link-macro">上一篇：Hadoop資料保護使用案例總覽。</block>
  <block id="259b434ecfae95df231c879645a98918" category="paragraph"><block ref="259b434ecfae95df231c879645a98918" category="inline-link-macro-rx"></block></block>
  <block id="54861efdd06fc309e1c9a420feff98eb" category="section-title">案例</block>
  <block id="5f5e12d29ffccf33e8cb5a30f4d2fe8c" category="section-title">需求與挑戰</block>
  <block id="c04f16bb8233216a472d30b6c509b230" category="paragraph">此使用案例的主要要求與挑戰包括：</block>
  <block id="7ffe71c29f8ea391bbd80c1e8441af9a" category="list-text">軟體向下相容性：</block>
  <block id="d96828d85e8cc053407a391bee52257f" category="list-text">建議的替代備份解決方案應與目前在正式作業Hadoop叢集中使用的軟體版本相容。</block>
  <block id="dd5bb530e532c011487ffc3a69e56f57" category="list-text">為了符合承諾的SLA、建議的替代解決方案應達到極低的RPO和RTO。</block>
  <block id="4783ab1f0401dc9c24cc9afa6dc5823e" category="list-text">NetApp備份解決方案所建立的備份可用於本機建置於資料中心的Hadoop叢集、以及在遠端站台的災難恢復位置執行的Hadoop叢集。</block>
  <block id="1dbc869d2df036d4d6e732e9c680ab6b" category="list-text">建議的解決方案必須符合成本效益。</block>
  <block id="7405e6ba4b630f11b88a7976325a95e4" category="list-text">建議的解決方案必須在備份期間降低目前執行中的線上分析工作的效能影響。</block>
  <block id="e3d4f6860e578b28733c41c2c852f821" category="section-title">客戶現有的備份解決方案</block>
  <block id="f350f804f84a5bf788cd78cd4aae7eab" category="paragraph">下圖顯示原始Hadoop原生備份解決方案。</block>
  <block id="2975218bd3c71a4ac4eac95d3529a9cb" category="paragraph"><block ref="2975218bd3c71a4ac4eac95d3529a9cb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="76b8e496c38192b97fdfa6cae2ba2bb4" category="paragraph">正式作業資料會透過中繼備份叢集保護至磁帶：</block>
  <block id="d07ca391addc59b7408fb88541552b43" category="list-text">執行「Hadoop distcp -update &lt;hdfs1&gt;&lt;hdfs2&gt;'命令、將HDFS1資料複製到HDFS2。</block>
  <block id="2c4cadbb7f122d1d0cd988a11681248a" category="list-text">備份叢集做為NFS閘道、資料會透過磁帶庫透過Linux「CP」命令手動複製到磁帶。</block>
  <block id="b73035943c8623cbdb7bd67992201012" category="paragraph">原始Hadoop原生備份解決方案的優點包括：</block>
  <block id="5bdb90a1352ca42ab8dde5b9ab7ffac3" category="list-text">此解決方案以Hadoop原生命令為基礎、讓使用者不必學習新程序。</block>
  <block id="f581d1b5f93adda1865bad95e215a7b9" category="list-text">此解決方案採用業界標準的架構和硬體。</block>
  <block id="ddd131647a4d5e1b5bcb983ec8872ff9" category="paragraph">原始Hadoop原生備份解決方案的缺點包括：</block>
  <block id="2cd5e9eae715f3bb0475ed032bf56190" category="list-text">備份時間過長超過24小時、使正式作業資料容易受到攻擊。</block>
  <block id="b22d500a5624a2c57ec5bda86aa57011" category="list-text">在備份期間、叢集效能大幅降低。</block>
  <block id="69bfe7f4231b0c1d65247d0abfc89cb3" category="list-text">複製到磁帶是手動程序。</block>
  <block id="6ef8e4ec49425ac5ded9c6cc599c17d2" category="list-text">就所需的硬體和人工程序所需的人力時間而言、備份解決方案的成本相當昂貴。</block>
  <block id="1b4d2bf420e7f05ecb82ecf2197ab810" category="section-title">備份解決方案</block>
  <block id="6d977e36854ae6439cbc4fe8e0c1b227" category="paragraph">根據這些挑戰和要求、並考慮到現有的備份系統、建議三種可能的備份解決方案。以下各小節分別說明這三種不同的備份解決方案、分別標示為解決方案A至解決方案C</block>
  <block id="c5a6c012dc14dc7f9d2fa0df0ccb0cdf" category="section-title">解決方案A</block>
  <block id="8ee7b0fbb95cf5b1c98578a7ef03b9eb" category="paragraph">解決方案A將就地分析模組新增至備份Hadoop叢集、可將次要備份至NetApp NFS儲存系統、免除磁帶需求、如下圖所示。</block>
  <block id="411ee6c684ee720eff303771433e41d6" category="paragraph"><block ref="411ee6c684ee720eff303771433e41d6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2813f022c034c63ad3d6efeeb503eb70" category="paragraph">解決方案A的詳細工作包括：</block>
  <block id="0406c5ca05cfb5f7a0c02971c3962460" category="list-text">正式作業Hadoop叢集的HDFS中有客戶的分析資料需要保護。</block>
  <block id="feb7749ff700168c127dfbd8376b35f7" category="list-text">使用HDFS的備份Hadoop叢集可做為資料的中繼位置。在正式作業和備份Hadoop叢集中、只有一堆磁碟（JBOD）可為HDFS提供儲存設備。</block>
  <block id="b3f54540429c806b8cf0080fd78b34bc" category="list-text">執行「Hadoop distcp–update–diff &lt;hdfs1&gt;&lt;hdfs2&gt;'命令、保護Hadoop正式作業資料、使其免受正式作業叢集HDFS對備份叢集HDFS的影響。</block>
  <block id="2de4833848a0b94bd672bdf9bc60d4aa" category="admonition">Hadoop快照可用來保護資料、使其不受正式作業環境的影響、也不受Hadoop叢集的影響。</block>
  <block id="79ef8fc2c565c69b33f5918c3a0bdd9a" category="list-text">NetApp ONTAP 功能區儲存控制器提供NFS匯出的Volume、可配置給備份Hadoop叢集。</block>
  <block id="b0e42779d51b21a745cae08f938ec60a" category="list-text">藉由運用MapReduce和多個mappers執行「Hadoop distcp」命令、分析資料就能使用就地分析模組、從備份Hadoop叢集保護為NFS。</block>
  <block id="738997de22c6371f563f69e1bb57b6e5" category="paragraph">在NetApp儲存系統的NFS中儲存資料之後、NetApp Snapshot、SnapRestore 支援功能和FlexClone技術可視需要備份、還原及複製Hadoop資料。</block>
  <block id="0bd252182290e872b264ad65d369637f" category="admonition">Hadoop資料可透過SnapMirror技術、保護至雲端及災難恢復位置。</block>
  <block id="4a1b9aaeaa6487c6df7072326cf3798e" category="paragraph">解決方案A的優點包括：</block>
  <block id="0843e6a882cae98851adbefb52d05827" category="list-text">Hadoop正式作業資料受到保護、不受備份叢集的影響。</block>
  <block id="522d0cf303cbf1b16ea5cc33480ce02f" category="list-text">HDFS資料是透過NFS保護、可保護雲端和災難恢復位置。</block>
  <block id="298d20d1ae9110668e52c07776f62948" category="list-text">將備份作業卸載到備份叢集、藉此提升效能。</block>
  <block id="4c10451e9e5bf987bc3ab16a9fce3966" category="list-text">免除手動磁帶操作</block>
  <block id="0ff20f264e79e773549ded37f50f4b3b" category="list-text">可透過NetApp工具執行企業管理功能。</block>
  <block id="4c84f95e2dad9b5385151a736e89f0c3" category="list-text">只需對現有環境進行最少的變更。</block>
  <block id="66f3b3a8c99e03a363a88a58fabe03cc" category="list-text">是具成本效益的解決方案。</block>
  <block id="4e941dea7920913a2c3a6d2a11a0936f" category="paragraph">此解決方案的缺點是需要備份叢集和其他地圖來改善效能。</block>
  <block id="0628ac302dce6afb9d95a6b8ebd0d013" category="paragraph">客戶最近部署了解決方案A、因為它的簡易性、成本和整體效能。</block>
  <block id="7a3ba8b554aec9832f399bff2ba17c74" category="paragraph">在本解決方案中、ONTAP 可以使用來自於支援的SAN磁碟來取代JBOD。此選項可將備份叢集儲存負載卸載ONTAP 至Ef2、但缺點是需要SAN光纖交換器。</block>
  <block id="501a1b4ce382e8e2da0089aded30d11e" category="section-title">解決方案B</block>
  <block id="304af2b0b47890c7db8f6097978fdede" category="paragraph">解決方案B將就地分析模組新增至正式作業Hadoop叢集、免除備份Hadoop叢集的需求、如下圖所示。</block>
  <block id="303388aba87d7dcff207a6cd098b0cfe" category="paragraph"><block ref="303388aba87d7dcff207a6cd098b0cfe" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8ca30c628556726e2038c5df9689fd91" category="paragraph">解決方案B的詳細工作包括：</block>
  <block id="e493f6dc701d2253466d5705af2e5bb1" category="list-text">NetApp ONTAP 功能區儲存控制器會將NFS匯出至正式作業Hadoop叢集。</block>
  <block id="3c321f811c173c1f133bdcc77fc81a33" category="paragraph">Hadoop原生「Hadoop distcp」命令可透過就地分析模組、保護Hadoop資料、從正式作業叢集HDFS到NFS。</block>
  <block id="665cfb3949b836c368d9be47d34bcbba" category="list-text">在NetApp儲存系統的NFS中儲存資料之後、將SnapRestore 使用Snapshot、支援功能和FlexClone技術來備份、還原及複製Hadoop資料。</block>
  <block id="4f1aeb2a94e89562b7bef27c368ed9cc" category="paragraph">解決方案B的優點包括：</block>
  <block id="748dc25f775dc78e1da24328f753d1e1" category="list-text">正式作業叢集已針對備份解決方案進行稍微修改、以簡化實作並降低額外的基礎架構成本。</block>
  <block id="a565a40a6656693466a7da18be6d44ca" category="list-text">不需要備份作業的備份叢集。</block>
  <block id="fa6ae9dfac02b933ef93450603114fce" category="list-text">HDFS正式作業資料在轉換為NFS資料時受到保護。</block>
  <block id="cf7952142a1253af6b9394a3f01408b3" category="list-text">此解決方案可透過NetApp工具提供企業管理功能。</block>
  <block id="02946730aaff0e3d8abfa986a2fe949d" category="paragraph">此解決方案的缺點在於它是在正式作業叢集中實作的、這可能會在正式作業叢集中新增額外的系統管理員工作。</block>
  <block id="0a3b8c5fab2a32545423ade2927b1185" category="section-title">解決方案C</block>
  <block id="6c176725a15c1c609d24387ddf6600da" category="paragraph">在解決方案C中、NetApp SAN磁碟區會直接配置給HDFS儲存設備的Hadoop正式作業叢集、如下圖所示。</block>
  <block id="dc460b3501caf17186202576855a6d3c" category="paragraph"><block ref="dc460b3501caf17186202576855a6d3c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c0d09b63c2b939de22a3b5d0f4cb3c87" category="paragraph">解決方案C的詳細步驟包括：</block>
  <block id="35edf0b5a2042b4561d4d499298010e6" category="list-text">NetApp ONTAP 支援SAN儲存設備是在正式作業的Hadoop叢集上配置、以供HDFS資料儲存使用。</block>
  <block id="3b694951a08990d1243da1dd36e6cd07" category="list-text">NetApp Snapshot與SnapMirror技術可用來備份來自正式作業Hadoop叢集的HDFS資料。</block>
  <block id="c32b4eb407751e515d7d037629b66dfb" category="list-text">在Snapshot複本備份程序期間、Hadoop / Spark叢集的正式作業效能不會受到影響、因為備份是在儲存層。</block>
  <block id="ef54974b65426daa87a86290447ed9a6" category="admonition">Snapshot技術提供的備份、無論資料大小為何、都能在數秒內完成。</block>
  <block id="f499d7fd731eb2bb1efe6c4069efcb47" category="paragraph">解決方案C的優點包括：</block>
  <block id="abe0be0b8deb695793caa75a1dcfc4b3" category="list-text">使用Snapshot技術可以建立節省空間的備份。</block>
  <block id="5788267ffe4023e91b333de591766cca" category="inline-link-macro">下一步：使用案例2：從雲端到內部部署的備份與災難恢復。</block>
  <block id="1619284091911820ebd1407554fb6da7" category="paragraph"><block ref="1619284091911820ebd1407554fb6da7" category="inline-link-macro-rx"></block></block>
  <block id="191ea533aa1478d35c965840430fbfe6" category="summary">NetApp現代化資料分析解決方案是一套策略與技術功能、可在AI環境中展現NetApp儲存設備的功能。</block>
  <block id="3f7d09efe0b4d4a65add41ac272194fd" category="doc">NetApp現代化資料分析解決方案</block>
  <block id="663d826f2d39c93c218bb619244537b3" category="summary">我們已使用Kafka的Conflent Platform進行認證、以在NetApp StorageGRID 餐廳進行階層式儲存。</block>
  <block id="5436c2a5438619c1dbe68551a8297494" category="doc">一致驗證</block>
  <block id="b0167c15bc26c48af07aea36aba706fa" category="inline-link-macro">上一篇：技術總覽。</block>
  <block id="0a569fd987814c0464300156b2e26414" category="paragraph"><block ref="0a569fd987814c0464300156b2e26414" category="inline-link-macro-rx"></block></block>
  <block id="0c112d1616223eaa5f0484a9499d587f" category="paragraph">我們在NetApp StorageGRID 的《Consent Platform 6.2多層式儲存設備》中執行驗證。NetApp與Conflent團隊共同進行這項驗證、並執行驗證所需的測試案例。</block>
  <block id="ba5b5ff137c16b8859e6ac90b55d071c" category="section-title">ConFluent平台設定</block>
  <block id="d8802fa9749bdc5ddc844a1f86c9461d" category="paragraph">我們使用下列設定進行驗證。</block>
  <block id="7b5948d7f6534813c3989b6697841566" category="paragraph">為了驗證、我們使用三個zookeepers、五個代理商、五個執行伺服器的測試指令碼、256GB RAM的命名工具伺服器、以及16個CPU。對於NetApp儲存設備、StorageGRID 我們使用的是搭載四個SGF6024s的Sg1000負載平衡器。儲存設備與代理商均透過100GbE連線進行連線。</block>
  <block id="e9f968cb8cc147519310d7290c28f99d" category="paragraph">下圖顯示用於ConFluent驗證的組態網路拓撲。</block>
  <block id="82dc8b1c8f1a6f08261f17b764e74bf4" category="paragraph"><block ref="82dc8b1c8f1a6f08261f17b764e74bf4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b8a85abadadde0e32bd269b5667b6226" category="paragraph">這些工具伺服器可做為將要求傳送至Confluent節點的應用程式用戶端。</block>
  <block id="a0b3c1e592076debe73b163734ed8e2b" category="section-title">一致的階層式儲存組態</block>
  <block id="81082f7982ae1144f7662efde7446f1f" category="paragraph">階層式儲存組態需要卡夫卡的下列參數：</block>
  <block id="c78850251892556ff1c48a03b16cf1bf" category="paragraph">為了驗StorageGRID 證、我們使用了搭配HTTP傳輸協定的功能、但HTTPS也能正常運作。存取金鑰和秘密金鑰會儲存在「confine.Tier .s3.cred.file.path」參數中提供的檔案名稱中。</block>
  <block id="4e19f24a6f1bb774911253be7f9d487f" category="section-title">NetApp物件儲存- StorageGRID 功能</block>
  <block id="2d5dff5c754356b277b47604fee26e79" category="paragraph">我們將單一站台組態設定為StorageGRID 供驗證之用。</block>
  <block id="1ba0fc45020f864c62328d58df2351ef" category="paragraph"><block ref="1ba0fc45020f864c62328d58df2351ef" category="inline-image-macro-rx" type="image"></block></block>
  <block id="829026ce89cdb29d9f59599cb2244752" category="section-title">驗證測試</block>
  <block id="f97246b7185276a5fe91aba0dd7311ae" category="paragraph">我們完成下列五個驗證測試案例。這些測試是在Trogdor架構上執行。前兩項是功能測試、其餘三項是效能測試。</block>
  <block id="4c5791ce7d906a384ff35dab9f635d41" category="section-title">物件存放區正確性測試</block>
  <block id="a0a36b11d315565a64a50eb2a0ed8c35" category="paragraph">此測試可判斷物件存放區API上的所有基本作業（例如、Get/PUT / DELETE）是否能根據階層式儲存設備的需求順利運作。這是一項基本測試、每個物件存放區服務都應該在下列測試之前通過。這是一項堅定的測試、無論通過或失敗。</block>
  <block id="7cf5be835d50b9e5b598a4363e5a1310" category="section-title">分層功能正確性測試</block>
  <block id="afca9446d059f239c7c73699ec215b35" category="paragraph">這項測試可判斷端點對端點階層式儲存功能是否與通過或失敗的權證測試搭配運作良好。測試會建立測試主題、預設設定為啟用分層、並大幅減少熱設定大小。它會產生事件串流至新建立的測試主題、等待代理程式將區段歸檔至物件存放區、然後使用事件串流、並驗證耗用的串流是否符合產生的串流。可設定產生給事件串流的訊息數量、讓使用者根據測試需求產生足夠大的工作負載。減少的熱集大小可確保使用者只能從物件存放區取得作用中區段以外的擷取、這有助於測試物件存放區的讀取正確性。我們已執行這項測試、且不需要進行物件存放區故障注入。我們在StorageGRID 其中一個節點停止服務管理程式服務、並驗證端點對端點功能是否可與物件儲存搭配運作、藉此模擬節點故障。</block>
  <block id="88960bc44aa73a667c97d6168a27332a" category="section-title">階層擷取基準測試</block>
  <block id="777c3235446f781652127bde532a7d6e" category="paragraph">此測試可驗證階層式物件儲存設備的讀取效能、並在基準測試產生的區段負載過重時、檢查範圍擷取讀取要求。在這個基準測試中、Connent開發了自訂用戶端、以滿足層級擷取要求。</block>
  <block id="07b15abc12bd3f43d57ebd95fce23917" category="section-title">產生消耗的工作負載基準測試</block>
  <block id="82ac7c284d524e3dba7699721633a674" category="paragraph">此測試透過區段歸檔、間接在物件存放區上產生寫入工作負載。讀取工作負載（區段讀取）是在使用者群組擷取區段時、從物件儲存區產生的。此工作負載是由測試指令碼產生。此測試會檢查平行執行緒中物件儲存設備的讀取和寫入效能。我們在進行分層功能正確性測試時、測試了是否有物件存放區故障注入。</block>
  <block id="fc8cd6782366e38a4c0191fff79825b0" category="section-title">保留工作負載基準測試</block>
  <block id="c51c74edfaecd19ad2258d1dd18ba5d5" category="paragraph">此測試檢查了物件存放區在繁重主題保留工作負載下的刪除效能。保留工作負載是使用測試指令碼產生、此指令碼會產生許多訊息、並與測試主題平行。測試主題是以積極的大小型和時間型保留設定來設定、導致事件串流持續從物件存放區中清除。然後將區段歸檔。這導致代理程式在物件儲存區中刪除大量內容、並收集物件存放區刪除作業的效能。</block>
  <block id="b2ce010f52b23eb40ba6b51b92837acb" category="inline-link-macro">下一步：效能測試與擴充性。</block>
  <block id="4a94c930da0f9f0974ad6d4f2d17726b" category="paragraph"><block ref="4a94c930da0f9f0974ad6d4f2d17726b" category="inline-link-macro-rx"></block></block>
  <block id="2c755351ada495582a6d9015943de077" category="summary">在此使用案例中、客戶的需求是根據現有的Hadoop叢集、快速且有效率地建置新的Hadoop / Spark叢集、其中包含大量用於DevTest的分析資料、並在同一個資料中心和遠端位置進行報告。</block>
  <block id="acb2dd720b2161405c8cb1ca6035618b" category="doc">使用案例3：在現有Hadoop資料上啟用DevTest</block>
  <block id="aeab228f25b5fbe0b00f83117579246e" category="inline-link-macro">上一篇：使用案例2：從雲端到內部部署的備份與災難恢復。</block>
  <block id="cf44ed74ea7e07a8e4478e43d9537e07" category="paragraph"><block ref="cf44ed74ea7e07a8e4478e43d9537e07" category="inline-link-macro-rx"></block></block>
  <block id="4e19c1aafa6d3711ae619f7e1621a61e" category="paragraph">在此案例中、多個Spark / Hadoop叢集是以內部部署的大型Hadoop資料湖實作以及災難恢復位置所建置而成。</block>
  <block id="5768edca640abf2b08dd5ba0e593dcc7" category="list-text">針對DevTest、QA或任何其他需要存取相同正式作業資料的目的、建立多個Hadoop叢集。這方面的挑戰是、以極具空間效益的方式、即時複製大型Hadoop叢集多次。</block>
  <block id="529c78f9988d342b33707ecaae7d2576" category="list-text">將Hadoop資料同步至DevTest和報告團隊、以提高營運效率。</block>
  <block id="07178cfd87815398d5079e55c257f96c" category="list-text">在正式作業和新叢集之間使用相同的認證資料來散佈Hadoop資料。</block>
  <block id="b26eaa756d7ec14dcec5c25d7d9ad6b6" category="list-text">使用排程的原則來有效率地建立QA叢集、而不會影響正式作業叢集。</block>
  <block id="49b21ad0d38942f635877e7bbc5d7a1e" category="section-title">解決方案</block>
  <block id="6442ec446d11bbd47497299e0ffceed5" category="paragraph">FlexClone技術可用來滿足上述需求。FlexClone技術是Snapshot複本的讀寫複本。它會從父Snapshot複本資料讀取資料、只會消耗新增/修改區塊的額外空間。它既快速又節省空間。</block>
  <block id="51a22383ed7ac5a70a455d81a9bad789" category="paragraph">首先、使用NetApp一致性群組建立現有叢集的Snapshot複本。</block>
  <block id="4b481b20e942087b64c5bb7b07d9dca9" category="paragraph">NetApp System Manager或儲存設備管理提示中的Snapshot複本。一致性群組Snapshot複本是應用程式一致的群組Snapshot複本、而FlexClone Volume則是根據一致性群組Snapshot複本建立。值得一提的是、FlexClone Volume繼承父Volume的NFS匯出原則。建立Snapshot複本之後、必須安裝新的Hadoop叢集以供DevTest和報告之用、如下圖所示。就地分析模組透過就地分析模組使用者和NFS資料的群組授權、從新的Hadoop叢集存取複製的NFS磁碟區。</block>
  <block id="4c490dfedbcc5a021b8a4c823e337d41" category="paragraph">若要擁有適當的存取權、新叢集必須針對在原地分析模組使用者和群組組組態中設定的使用者、擁有相同的UID和GUID。</block>
  <block id="6ee7e035a9c46bb26ee76c40aa671148" category="paragraph">此影像顯示DevTest的Hadoop叢集。</block>
  <block id="4157075925c8c1518cc71d1d0abab403" category="paragraph"><block ref="4157075925c8c1518cc71d1d0abab403" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e10ad11fd299ee6f161f17d772a78a48" category="inline-link-macro">下一步：使用案例4：資料保護與多雲端連線。</block>
  <block id="8109e574f349ced8f667b9389c9189a4" category="paragraph"><block ref="8109e574f349ced8f667b9389c9189a4" category="inline-link-macro-rx"></block></block>
  <block id="a64b3943d4911d301243b8ac8779ba53" category="summary">本節摘要說明NetApp為滿足各種Hadoop資料保護需求所提供的使用案例與解決方案。</block>
  <block id="23496143e5ca83c13eb4d953786abdcd" category="inline-link-macro">上一篇：使用案例5：加速分析工作負載。</block>
  <block id="09b7371b2ae3168a3c54b30e4966e86e" category="paragraph"><block ref="09b7371b2ae3168a3c54b30e4966e86e" category="inline-link-macro-rx"></block></block>
  <block id="ac81718eacd21c51db78a7185a5c0a96" category="paragraph">本節摘要說明NetApp為滿足各種Hadoop資料保護需求所提供的使用案例與解決方案。透過使用NetApp技術的資料架構、客戶可以：</block>
  <block id="ce0bf05854efb234905c751e40774ab5" category="list-text">運用NetApp豐富的資料管理功能、並與Hadoop原生工作流程整合、可靈活選擇適當的資料保護解決方案。</block>
  <block id="925b1719b2db8532854b1de76f928f31" category="list-text">將Hadoop叢集備份時間縮短將近70%。</block>
  <block id="7de96884f777b768ef12e40582f4d816" category="list-text">消除Hadoop叢集備份所造成的任何效能影響。</block>
  <block id="d5235d7ce8947322a12272f0c6dc7e24" category="list-text">同時提供多雲端資料保護、並可從不同雲端供應商存取資料至單一分析資料來源。</block>
  <block id="61e7eb3536cca4c51ae700159e1d247a" category="list-text">使用FlexClone技術建立快速且節省空間的Hadoop叢集複本。</block>
  <block id="4bb047f8c530785002e490ef17fa725e" category="section-title">何處可找到其他資訊</block>
  <block id="64bb4a6337ad7b2efa8dc5d43d492edf" category="paragraph">若要深入瞭解本文所述資訊、請參閱下列文件和/或網站：</block>
  <block id="253914d41704f0f326f6595e14005170" category="list-text">NetApp Big Data分析解決方案</block>
  <block id="85eb07da2e4fd15718f8d05d269a4e30" category="inline-link"><block ref="85eb07da2e4fd15718f8d05d269a4e30" category="inline-link-rx"></block></block>
  <block id="f87d78d98a2357057eba948402e285f0" category="paragraph"><block ref="f87d78d98a2357057eba948402e285f0" category="inline-link-rx"></block></block>
  <block id="b2eb92b872fe536c4a859e695eaf280d" category="list-text">NetApp儲存設備的Apache Spark工作負載</block>
  <block id="a904c9f7327a2cbf0c9411dd8b7551fa" category="inline-link"><block ref="a904c9f7327a2cbf0c9411dd8b7551fa" category="inline-link-rx"></block></block>
  <block id="3db0ab5f6c6b92b8d32d80cb1a83e214" category="paragraph"><block ref="3db0ab5f6c6b92b8d32d80cb1a83e214" category="inline-link-rx"></block></block>
  <block id="1bff250c7118efa9007019415bb2730d" category="list-text">適用於Apache Spark的NetApp儲存解決方案</block>
  <block id="83d445161ea1f91a19d552f783018ea5" category="inline-link"><block ref="83d445161ea1f91a19d552f783018ea5" category="inline-link-rx"></block></block>
  <block id="142c737f7563ed12b8b08b6fc8779b8c" category="paragraph"><block ref="142c737f7563ed12b8b08b6fc8779b8c" category="inline-link-rx"></block></block>
  <block id="df245018c012fa9deefc0e1d65196e46" category="list-text">採用NetApp技術的Data Fabric上的Apache Hadoop</block>
  <block id="143ece864a38e1c8267bd8318d458955" category="inline-link"><block ref="143ece864a38e1c8267bd8318d458955" category="inline-link-rx"></block></block>
  <block id="b890b67174812331efb42656a186fa42" category="paragraph"><block ref="b890b67174812331efb42656a186fa42" category="inline-link-rx"></block></block>
  <block id="49d7c87b66a2b688ec65b1a4fe9b5ddc" category="list-text">NetApp就地分析模組</block>
  <block id="1d669c79bffe95dd384dffb8309a0d40" category="inline-link"><block ref="1d669c79bffe95dd384dffb8309a0d40" category="inline-link-rx"></block></block>
  <block id="fde1cd76fa73f8065aeb8a97c77b40ec" category="paragraph"><block ref="fde1cd76fa73f8065aeb8a97c77b40ec" category="inline-link-rx"></block></block>
  <block id="0407c27180c9b019e644e8ad4c6a9324" category="section-title">感謝</block>
  <block id="c4f052e8512b2541f8154dd256a529d6" category="list-text">Paul Burland、NetApp ANZ Victoria地區銷售代表</block>
  <block id="5d14432aa90b3b3ebfa87b98a1844edb" category="list-text">NetApp業務開發經理Hosub Dermilian</block>
  <block id="929bdc02c2d9943ae8cb52786476e6c6" category="list-text">NetApp MPSG總監Lee Dorier</block>
  <block id="a3ed56594a87e322fbcf5a6e705a4134" category="list-text">NetApp ANZ Victoria District SE系統工程師David Thiessen</block>
  <block id="f6a738f75f76f62a241636eca02cd87d" category="section-title">版本歷程記錄</block>
  <block id="34b6cd75171affba6957e308dcbd92be" category="cell">版本</block>
  <block id="44749712dbec183e983dcd78a7736c41" category="cell">日期</block>
  <block id="8002bc13927c65b5f265b031079ce1d4" category="cell">文件版本歷程記錄</block>
  <block id="3798985ee5e15c84c4263815d5a4d0b7" category="cell">1.0版</block>
  <block id="effdc6a5d743a9db1cd347a2ac8d6b80" category="cell">2018年1月</block>
  <block id="dfd02aef9802f4824ead7c08b8f81f1f" category="cell">初始版本</block>
  <block id="304f30474edd152dc34aef7dbb123607" category="cell">2.0版</block>
  <block id="a5f3f63c2f6e1d6d4605650633b9ce8a" category="cell">2021年10月</block>
  <block id="81d2cd2b484f8c425c2146303b9f1c55" category="cell">使用案例5更新：加速分析工作負載</block>
  <block id="0e0fdc9fc616f1d8648561d150679a8c" category="summary">本節提供使用NetApp XCP設定GPFS並將資料移至NFS所需的詳細步驟。</block>
  <block id="2cf43976b964350d85af88e8c7c56bfc" category="doc">GPFS至NFS的詳細步驟</block>
  <block id="b523cc107fd56956277d38d32b34c938" category="inline-link-macro">上一篇：商業效益。</block>
  <block id="c415260b3bf5ed05c37515a8e4e526f3" category="paragraph"><block ref="c415260b3bf5ed05c37515a8e4e526f3" category="inline-link-macro-rx"></block></block>
  <block id="7f1260d8686ace0468fd1c74b243b7a1" category="section-title">設定GPFS</block>
  <block id="de00400b12b028274700d1385b53c26d" category="list-text">在其中一部伺服器上下載並安裝適用於Linux的Spectrum Scale Data Access。</block>
  <block id="61a030f51cd790deb6f1374ae7e4d88f" category="list-text">在所有節點上安裝必要的套件（包括主廚和核心標頭）。</block>
  <block id="cea532f5e6d51ac7b08d9f6d71886efe" category="list-text">在所有節點中停用SELinux。</block>
  <block id="e116db66dcd3a8a38d53716cdd97c179" category="list-text">設定安裝節點。</block>
  <block id="6021211d885ba9ec28a1dfcdb72b0542" category="list-text">將管理節點和GPFS節點新增至叢集定義檔。</block>
  <block id="8b361b52f2d7d8ddca7c364e1826015d" category="list-text">新增管理節點和GPFS節點。</block>
  <block id="d98e392ead2711bea231821e3cafe06e" category="list-text">新增仲裁節點和GPFS節點。</block>
  <block id="549101fb45a9a42ca05a3b680ea6dcdc" category="list-text">新增NSD伺服器和GPFS節點。</block>
  <block id="0150b7ec1d76a294c8fce802481a2e2d" category="list-text">新增GUI、admin和GPFS節點。</block>
  <block id="5076e582b15cea2e7319261b9eb2dc4e" category="list-text">新增另一個GUI伺服器。</block>
  <block id="65d8f0643532859908a7e9616439572a" category="list-text">新增另一個GPFS節點。</block>
  <block id="8c6e090e52befa2e95e6d658661749dc" category="list-text">驗證並列出所有節點。</block>
  <block id="6a21679cbbcb8a64de6016e8efb6b2ea" category="list-text">在叢集定義檔中指定叢集名稱。</block>
  <block id="0e890aabbc215ad4497b26965a0435ad" category="list-text">指定設定檔。</block>
  <block id="3296b6b95878e4a01015b9d97691cd23" category="list-text">指定GPFS要使用的遠端Shell二進位檔；使用「-r argument」。</block>
  <block id="6b1edec7f7c05cc2bc9fb41ef76dc8c9" category="list-text">指定GPFS要使用的遠端檔案複製二進位檔；使用「-rc引數」。</block>
  <block id="f35c3f5ce8fa5fca13e0eb96082b73fe" category="list-text">指定要在所有GPFS節點上設定的連接埠範圍；使用「-e argument」。</block>
  <block id="84807c9c164a1fd83db3680e7b5a6587" category="list-text">檢視GPFS組態設定。</block>
  <block id="0addd886868e88c985dddc68658e5767" category="list-text">新增管理節點。</block>
  <block id="d6daa755d449b0cec4c1c23153b9a0be" category="list-text">停用資料收集、並將資料套件上傳至IBM支援中心。</block>
  <block id="d2e4082ff74b3d592d15b584ec3e64a9" category="list-text">啟用NTP。</block>
  <block id="bc5f73d061ad4090dd4180838b34fc5a" category="list-text">安裝前請先檢查組態。</block>
  <block id="7f2019dce6ead5054cb5c0d5ccac9d68" category="list-text">設定NSD磁碟。</block>
  <block id="bd625aeaf0eb9674912c4c51a421cdb6" category="list-text">建立NSD磁碟。</block>
  <block id="bfc7a92fefcdbb8be49ae2f09a04c609" category="list-text">檢查NSD磁碟狀態。</block>
  <block id="f54668a02541c80dd54234689ef58ad4" category="list-text">建立GPFS。</block>
  <block id="048c1f8a018373ca436ef1a91fe6be57" category="list-text">掛載GPFS。</block>
  <block id="abe092e554a73bb99bd2fd85086ffdce" category="list-text">檢查並提供GPFS所需的權限。</block>
  <block id="737cdea6c4302200061636f408685896" category="list-text">執行「dd」命令來檢查GPFS的讀取和寫入。</block>
  <block id="83cd36fb568894200fe5f9cf7f7e1193" category="section-title">將GPFS匯出至NFS</block>
  <block id="978d4e591d532e5741bf55bbe09b8672" category="paragraph">若要將GPFS匯出至NFS、請完成下列步驟：</block>
  <block id="d11e3a3b633c68e9cc37f13adcdfd95a" category="list-text">透過「/etc/exports」檔案將GPFS匯出為NFS。</block>
  <block id="c953ca93794388b6266ed8529319d420" category="list-text">安裝所需的NFS伺服器套件。</block>
  <block id="c0d11d4c7c65daa849ff313e229d632c" category="list-text">啟動NFS服務。</block>
  <block id="67ae9e67c637e0c39f8d92303b0a9c01" category="list-text">在GPFS中列出檔案以驗證NFS用戶端。</block>
  <block id="e90c8e55eda7dc2ebdbef5659a22a517" category="section-title">設定NFS用戶端</block>
  <block id="25be8238edbbbd8936c0385098957520" category="paragraph">若要設定NFS用戶端、請完成下列步驟：</block>
  <block id="bc2bba568f2fe74e5616fa8f5953b1bf" category="list-text">在NFS用戶端中安裝套件。</block>
  <block id="64aef4f16c4a9f913379e9668323ed4f" category="list-text">啟動NFS用戶端服務。</block>
  <block id="b7eb10685995437ddaa0df5b09b22fb8" category="list-text">透過NFS用戶端上的NFS傳輸協定掛載GPFS。</block>
  <block id="7e4215ed068d7218ec28fe900e8feb16" category="list-text">驗證NFS掛載資料夾中的GPFS檔案清單。</block>
  <block id="77086f36ad335fd9c2cc6a63c1d21d84" category="list-text">使用XCP將資料從GPFS匯出的NFS移至NetApp NFS。</block>
  <block id="f919d4d761d618912a13cac0895236af" category="list-text">驗證NFS用戶端上的GPFS檔案。</block>
  <block id="96a4b9abe25ad94a1d4ab8e0d2237ef6" category="inline-link-macro">下一步：從MapR-FS移轉ONTAP 到Sfnfs。</block>
  <block id="742eb558b5f30d090f7c3ae58b2a554e" category="paragraph"><block ref="742eb558b5f30d090f7c3ae58b2a554e" category="inline-link-macro-rx"></block></block>
  <block id="55473d705d75e19b6040dbe34242319c" category="summary">本節說明本解決方案所使用的技術。</block>
  <block id="a1f13b9a0674cc0beb81e208dfb68d05" category="doc">技術總覽</block>
  <block id="d7023badac36eeb28bf29785a97c493c" category="inline-link-macro">上一篇：解決方案架構詳細資料。</block>
  <block id="258ee3f437d6a20985ccf4e13065a097" category="paragraph"><block ref="258ee3f437d6a20985ccf4e13065a097" category="inline-link-macro-rx"></block></block>
  <block id="55cf1a0f0fce69fd543500e5761dd26d" category="section-title">NetApp StorageGRID</block>
  <block id="d82d42ad0a2161d02e1d8ce74ffcf0ab" category="paragraph">NetApp StorageGRID 產品是高效能且具成本效益的物件儲存平台。透過階層式儲存設備、儲存在本機儲存設備或代理程式SAN儲存設備上的Confluent Kafka上的大部分資料都會卸載到遠端物件存放區。此組態可減少重新平衡、擴充或縮減叢集或更換故障的代理程式所需的時間與成本、進而大幅改善營運。物件儲存在管理位於物件存放區層的資料方面扮演著重要角色、因此挑選適當的物件儲存非常重要。</block>
  <block id="3fa5e29e13fc3b3448ca388750ef38f0" category="paragraph">利用分散式節點型網格架構、提供智慧型原則導向的全球資料管理功能。StorageGRID它透過無所不在的全域物件命名空間、加上精密的資料管理功能、簡化PB非結構化資料和數十億個物件的管理。單一通話物件存取功能可延伸至各個站台、並簡化高可用度架構、同時確保無論站台或基礎架構停機、都能持續存取物件。</block>
  <block id="30f28784f61df7a2f8e7069cefea91eb" category="paragraph">多租戶功能可在同一個網格內安全地維護多個非結構化雲端和企業資料應用程式、進而提高NetApp StorageGRID 的ROI和使用案例。您可以利用中繼資料導向的物件生命週期原則來建立多個服務層級、以最佳化跨多個地理區的持久性、保護、效能和位置。使用者可以調整資料管理原則、並監控及套用流量限制、以便在瞬息萬變的IT環境中、隨著需求變化而不中斷地重新調整資料環境。</block>
  <block id="dc10add739549f11a9f3d6ac44bf7fcc" category="section-title">利用Grid Manager輕鬆管理</block>
  <block id="494ed2651e6b5b87a49cfe7ab40d5253" category="paragraph">透過瀏覽器型的圖形介面StorageGRID 、您可以在StorageGRID 單一窗口中、設定、管理及監控分散於全球各地的整個系統。</block>
  <block id="a96dbd2aff4998074bc0ca48dc4817d5" category="paragraph"><block ref="a96dbd2aff4998074bc0ca48dc4817d5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3784ac64ff307aaceedbc4045a0d047c" category="paragraph">您可以使用StorageGRID 「資訊網管理程式」介面執行下列工作：</block>
  <block id="57d56613e28a4b5b4e9f351d17e228f7" category="list-text">管理分散在全球各地、PB規模的物件儲存庫、例如影像、視訊和記錄。</block>
  <block id="5865c6ada208cf4e21f121f0d367b25a" category="list-text">監控網格節點和服務、確保物件可用度。</block>
  <block id="52134209a1824af49cd06b67ca3aedc7" category="list-text">使用資訊生命週期管理（ILM）規則、管理物件資料隨時間擺放的位置。這些規則可控制物件擷取後的資料處理方式、資料保護方式、資料儲存位置、以及資料儲存時間。</block>
  <block id="5c578eee23496659cea7dda27021c318" category="list-text">監控系統內的交易、效能和作業。</block>
  <block id="c91fcac1d7192250f9c73d72ad06e051" category="section-title">資訊生命週期管理原則</block>
  <block id="a1d8b1b1990901cd5a97dd0f3dee2da9" category="inline-link-macro">ILM原則</block>
  <block id="37e0a993cc0a3c5aacb623e412befc5b" category="inline-link-macro">ILM規則</block>
  <block id="0beeefc6ac257658ea119788351ad268" category="paragraph">根據特定的效能和資料保護需求、支援靈活的資料管理原則、包括保留物件的複本複本、以及使用EC（銷毀編碼）配置（例如2+1和4+2）來儲存物件。StorageGRID隨著工作負載和需求隨時間變化、ILM原則也必須隨時間而改變、這是很常見的做法。修改ILM原則是一項核心功能、讓StorageGRID 客戶能夠快速輕鬆地因應瞬息萬變的環境。請檢查 <block ref="b2ddd4069e5288685e27e7989fb1a613" category="inline-link-macro-rx"></block> 和 <block ref="7593bc4c70a5537fc14593339f7e6540" category="inline-link-macro-rx"></block> 安裝於此。StorageGRID</block>
  <block id="9446a98ad14416153cc4d45ab8b531bf" category="section-title">效能</block>
  <block id="356760a65d5411f2c9f8647f90e50978" category="inline-link-macro">SG5712、SG5760、SG6060或SGF6024</block>
  <block id="2ec930774314e7709987603c82825f4b" category="paragraph">透過新增更多儲存節點（例如VM、裸機或特定用途的應用裝置）來擴充效能StorageGRID <block ref="585d6d5337b82c3c73a6c04b53fcdd23" category="inline-link-macro-rx"></block>。在我們的測試中、我們使用SGF6024應用裝置、以最小尺寸的三節點網格、超越Apache Kafka的關鍵效能要求。隨著客戶使用額外的代理商來擴充其Kafka叢集、他們可以新增更多儲存節點來提升效能和容量。</block>
  <block id="3eee81ca69cbbee2bec24db63e4dea0d" category="section-title">負載平衡器和端點組態</block>
  <block id="5b42fd120a40ecd7cc8ac5cdedde8ceb" category="paragraph">本功能提供Grid Manager UI（使用者介面）和REST API端點、StorageGRID 以檢視、設定及管理StorageGRID 您的不實系統、以及稽核記錄來追蹤系統活動。為了提供高可用度的S3端點給ConFluent Kafka階層式儲存設備、我們實作StorageGRID 了一套以服務形式在管理節點和閘道節點上執行的負載平衡器。此外、負載平衡器也會管理本機流量、並與GSLB（全域伺服器負載平衡）對話、以協助災難恢復。</block>
  <block id="dca5165744ce2dbf5825f022349ee941" category="section-title">流量分類StorageGRID</block>
  <block id="588db6e460515c5268204303c93a770b" category="paragraph">包含內建QoS功能。StorageGRID流量分類原則可協助監控來自用戶端應用程式的不同類型S3流量。然後您可以建立並套用原則、根據輸入/輸出頻寬、讀取/寫入並行要求數或讀取/寫入要求率來限制此流量。</block>
  <block id="bb2bd99338b18762ef6953ad2cbfafc7" category="section-title">Apache Kafka</block>
  <block id="611f69baa46f691eeeb33645e83f0fcb" category="paragraph">Apache Kafka是以Java和Scala寫入串流處理的軟體匯流排架構實作。它旨在提供統一化、高處理量、低延遲的平台、以處理即時資料饋送。卡夫卡可連線至外部系統、以便透過Kafka Connect匯出及匯入資料、並提供Kafka串流處理程式庫、即Java串流處理程式庫。Kafka使用以TCP為基礎的二進位傳輸協定、針對效率最佳化、並仰賴「訊息集」抽象化、將訊息自然地分組在一起、以降低網路往返的成本。如此一來、就能進行更大的連續磁碟作業、較大的網路封包和鄰近的記憶體區塊、進而讓Kafka將一串爆發性的隨機訊息寫入串流變成線性寫入。下圖說明Apache Kafka的基本資料流程。</block>
  <block id="d1675da945892e06b2f84c42c32b7074" category="paragraph"><block ref="d1675da945892e06b2f84c42c32b7074" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c50889322e9d7d913a4218be06b94d9d" category="paragraph">Kafka儲存的關鍵價值訊息來自於任意數量的稱為「生產商」的程序。資料可分割成不同主題中的不同分割區。在磁碟分割內、訊息會依照偏移量（訊息在磁碟分割內的位置）嚴格排序、並與時間戳記一起索引及儲存。其他稱為「使用者」的程序也可以從分割區讀取訊息。對於串流處理、Kafka提供的STREAMS API可讓您寫入Java應用程式、以使用Kafka的資料、並將結果寫回Kafka。Apache Kafka也可搭配外部串流處理系統使用、例如Apache Apex、Apache Flink、Apache Spark、Apache Storm及Apache NiFI。</block>
  <block id="0f13dfad626acfc5a84f5c6d8127cb93" category="paragraph">Kafka會在一個或多個伺服器（稱為代理程式）的叢集上執行、所有主題的分割區會分散到叢集節點。此外、分割區也會複寫到多個代理程式。此架構可讓Kafka以容錯的方式提供大量訊息串流、並讓它取代一些傳統的訊息系統、例如Java Message Service（JMS）、進階訊息佇列傳輸協定（AMQP）等。自0.11.0.0發行以來、Kafka提供交易式寫入功能、使用STREAMS API提供一次完整的串流處理。</block>
  <block id="a05ab89a0e70d8932f92ff5626b80205" category="paragraph">卡夫卡支援兩種主題：一般主題和精簡主題。一般主題可設定保留時間或空間限制。如果有記錄超過指定的保留時間、或磁碟分割超出空間限制、則Kafka可以刪除舊資料以釋放儲存空間。根據預設、主題的保留時間設定為7天、但也可以無限期儲存資料。對於精簡主題、記錄不會因時間或空間界限而過期。相反地、Kafka會將稍後的訊息視為舊訊息的更新、並保證不會刪除每個金鑰的最新訊息。使用者可以撰寫所謂的tombstone訊息、並針對特定金鑰使用null值、以完全刪除訊息。</block>
  <block id="67510baee28b6897f23f317ea0eec6cd" category="paragraph">卡夫卡有五大API：</block>
  <block id="43437be1fd3e6788160e377194164ab4" category="list-text">*監製API。*允許應用程式發佈記錄串流。</block>
  <block id="d4814db3c767fa7cb8ef858faeb32012" category="list-text">*消費者API。*允許應用程式訂閱主題和處理記錄串流。</block>
  <block id="8e4e76f717f8e282710dbe0549551bbc" category="list-text">*連接器API.*執行可重複使用的生產商與消費者API、這些API可將主題連結至現有的應用程式。</block>
  <block id="32a74767220f0fd870d75199524522d5" category="list-text">*串流API.*此API會將輸入串流轉換成輸出、並產生結果。</block>
  <block id="4bb47a81bc800e1fb57bdde2d0945599" category="list-text">*管理API。*用於管理Kafka主題、代理人及其他Kafka物件。</block>
  <block id="610121f784783393f66b6624cf93dafb" category="paragraph">消費者與製造商API以Kafka訊息傳輸協定為基礎、為Java中的Kafka消費者與製造商用戶端提供參考實作。基礎訊息傳輸協定是一種二進位傳輸協定、開發人員可用來以任何程式設計語言撰寫自己的消費者或生產用戶端。這可讓Kafka從Java虛擬機器（JVM）生態系統中解放。Apache Kafka wikis會維護可用的非Java用戶端清單。</block>
  <block id="3b85a5b4b78ed5de8ac5389862ce3d3f" category="section-title">Apache Kafka使用案例</block>
  <block id="21f595a264810e4537696c1280efad57" category="paragraph">Apache Kafka最受訊息、網站活動追蹤、指標、記錄彙總、串流處理、 事件來源及提交記錄。</block>
  <block id="60f50b920903b4049f776062aa5e6cdc" category="list-text">Kafka的處理量、內建分割區、複寫及容錯能力均有提升、因此是大型訊息處理應用程式的理想解決方案。</block>
  <block id="0ae69072c472e595412163a07084932c" category="list-text">Kafka可以在追蹤管道中重建使用者的活動（頁面檢視、搜尋）、做為一組即時發佈訂閱摘要。</block>
  <block id="6d9673a2fe148c529c3b2051cfe93896" category="list-text">Kafka經常用於營運監控資料。這包括彙總分散式應用程式的統計資料、以產生集中化的作業資料饋送。</block>
  <block id="8b8951c427cfdc3f095bb9d556dce00e" category="list-text">許多人使用Kafka來取代記錄彙總解決方案。記錄集合通常會從伺服器收集實體記錄檔、並將它們放在中央位置（例如檔案伺服器或HDFS）進行處理。Kafka會將檔案詳細資料擷取出來、並將記錄或事件資料當作訊息串流來提供更簡潔的抽象化。如此可降低延遲處理、更輕鬆支援多個資料來源和分散式資料使用。</block>
  <block id="e9b95314420c3704f19bfa0e922f51d1" category="list-text">卡夫卡的許多使用者會處理由多個階段組成的管線資料、其中原始輸入資料會從卡夫卡主題中消耗、然後彙總、豐富或以其他方式轉化為新主題、以供進一步消費或後續處理。例如、推薦新聞文章的處理管道可能會從RSS摘要串流文章內容、然後將其發佈至「文章」主題。進一步處理可能會將此內容正規化或重複資料刪除、並將已清除的文章內容發佈至新主題、最後的處理階段可能會嘗試將此內容推薦給使用者。這類處理管道會根據個別主題、建立即時資料流程的圖表。</block>
  <block id="f2bf506d0e67708783f1bc5c0b518527" category="list-text">事件來源是應用程式設計的一種樣式、其狀態變更會記錄為依時間順序排列的記錄順序。卡夫卡支援非常大的儲存記錄資料、因此對於以這種風格建置的應用程式來說、它是絕佳的後端。</block>
  <block id="6a4fef92874e37e1418ff91ed4fda9cd" category="list-text">Kafka可以做為分散式系統的外部提交記錄。此記錄有助於在節點之間複寫資料、並可做為故障節點還原資料的重新同步機制。Kafka的記錄壓縮功能有助於支援此使用案例。</block>
  <block id="a03d0d99a3287875dda3d19daa736d0c" category="section-title">Confluent</block>
  <block id="ca010f92402f8d9066224231329f1128" category="paragraph">Conflent Platform是企業級平台、具備進階功能、可協助加速應用程式開發與連線、透過串流處理實現轉型、大規模簡化企業營運、並符合嚴苛的架構要求。Conflent是由Apache Kafka原創原創者所打造、以企業級功能擴展Kafka的優勢、同時免除Kafka管理或監控的負擔。如今、超過80%的財星雜誌100大企業都採用資料串流技術、大部分企業都使用Conflent技術。</block>
  <block id="3bcbf4072ba1e23a48434530e19a485d" category="section-title">為何選擇Conflent？</block>
  <block id="0fcb60f8560b74a641f556dbf96faf91" category="paragraph">藉由將歷史與即時資料整合至單一的集中式事實來源、Conflent可讓您輕鬆建置全新類別的現代化事件導向應用程式、取得通用資料管線、並以完整的擴充性、效能與可靠性、釋放強大的新使用案例。</block>
  <block id="f781b7a8a0d145997db9cf8449512bb8" category="section-title">什麼是ConnFluent的用途？</block>
  <block id="6b41836f6be8bfff401751859b6f5561" category="paragraph">Conflent Platform可讓您專注於從資料中獲取商業價值、而非擔心基礎機制、例如資料如何在不同的系統之間傳輸或整合。具體而言、Conflent Platform可簡化資料來源與Kafka之間的連線、建置串流應用程式、以及保護、監控及管理Kafka基礎架構。如今、Conflent Platform可用於金融服務、全通路零售和自主汽車等多種產業的各種使用案例、以及詐欺偵測、 微服務和IoT。</block>
  <block id="774f9746d58ac38abf733a92e4720365" category="paragraph">下圖顯示ConnFluent Kafka平台元件。</block>
  <block id="a4eaf48584aaa7df975a9275a8b4ee24" category="paragraph"><block ref="a4eaf48584aaa7df975a9275a8b4ee24" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0693822e07a3206c53912f33e3d67758" category="section-title">Connent的事件串流技術總覽</block>
  <block id="f6d3df755e538ab85e1dffe4e2ef9966" category="paragraph">在Conflent Platform的核心是<block ref="67718c59f00d7d04e4868dff5b37db2b" category="inline-link-rx"></block>是最受歡迎的開放原始碼分散式串流平台。卡夫卡的主要功能如下：</block>
  <block id="f630f472aeeab8697846e0f1f2f730aa" category="list-text">發佈及訂閱記錄串流。</block>
  <block id="176fc2b349b906f6eb7a8f49c7ce9780" category="list-text">以容錯的方式儲存記錄串流。</block>
  <block id="6026e29e86fd0ddcb6cba3908f85691f" category="list-text">處理記錄串流。</block>
  <block id="f7ec60663c6d3ee6fd5abe343b34f2b4" category="paragraph">隨裝即用的Conflent Platform也包括架構登錄、REST Proxy、總共100多個預先建置的Kafka連接器和ksqlDB。</block>
  <block id="55be5d4d3f7143137050de9374d03f6f" category="section-title">Conflent平台的企業級功能總覽</block>
  <block id="c7d070206c9b11b02bee9b591736971c" category="list-text">* Confluent Control Cent.*一種GUI型系統、用於管理及監控Kafka。它可讓您輕鬆管理Kafka Connect、以及建立、編輯及管理與其他系統的連線。</block>
  <block id="da2f1a857a79ec960671ee4c735cc96e" category="list-text">* Kubernetes的Conflent。* Kubernetes的Connent是Kubernetes營運者。Kubernetes營運者提供特定平台應用程式的獨特功能和需求、藉此擴充Kubernetes的協調功能。對於Conflent Platform、這包括大幅簡化Kubernetes上的Kafka部署程序、以及自動化典型的基礎架構生命週期工作。</block>
  <block id="5488a6660d4f7d32995b983624c2e915" category="list-text">*連接至Kafka的Confluent連接器*連接器使用Kafka Connect API將Kafka連接至其他系統、例如資料庫、金鑰值儲存區、搜尋索引和檔案系統。Conflent Hub提供可下載的連接器、適用於最受歡迎的資料來源和接收器、包括這些連接器的完整測試和支援版本、以及Conflent Platform。如需詳細資料、請參閱<block ref="2f0cdf69523bef6b3b17324f38f83353" category="inline-link-rx"></block>。</block>
  <block id="b47dc18271c0f29d64ce1f45f12a053c" category="list-text">*自我平衡叢集。*提供自動負載平衡、故障偵測及自我修復功能。它支援視需要新增或汰換代理商、無需手動調校。</block>
  <block id="776a13408286748f8c985c409604e8b6" category="list-text">* Confluent叢集連結。*直接將叢集連線在一起、並透過連結橋接器將主題從一個叢集鏡射到另一個叢集。叢集連結可簡化多資料中心、多叢集及混合雲部署的設定。</block>
  <block id="1e5c2c1a7b1c3f9809e2b97438773325" category="list-text">* Confluent自動資料平衡器。*監控叢集的代理程式數量、分割區大小、分割區數目、以及叢集內的領導者數量。它可讓您將資料移轉至整個叢集、以建立平均工作負載、同時節流重新平衡流量、將對正式作業工作負載的影響降至最低、同時重新平衡。</block>
  <block id="0f97179e1bb10c15685ca78b035b4956" category="list-text">* Confluent replicator。*讓您在多個資料中心中維護多個Kafka叢集變得比以往更輕鬆。</block>
  <block id="a409602cf12dbcb436352a95146b6407" category="list-text">*分層儲存。*提供使用您最喜愛的雲端供應商儲存大量Kafka資料的選項、藉此降低營運負擔和成本。透過階層式儲存設備、您只能在需要更多運算資源時、將資料保存在具成本效益的物件儲存設備上、並擴充代理商。</block>
  <block id="ce61411f1780c30f58dd5aed90a77ad3" category="list-text">* Connent Jms用戶端。* Conflent Platform包含適用於Kafka的與Jms相容的用戶端。此Kafka用戶端實作了JMS 1.1標準API、使用Kafka Brokers做為後端。如果您使用的是使用Jms的舊應用程式、而且想要以Kafka取代現有的Jms訊息代理程式、這項功能就很實用。</block>
  <block id="b38f5ff9be3975e499ba273a01035420" category="list-text">* Conflent MQtT Proxy。*提供一種從MQtT裝置和閘道直接發佈資料至Kafka的方法、而不需要中間的MQtT代理程式。</block>
  <block id="ab05a802c02076dd0f0b419529e71ccd" category="list-text">* Confluent安全外掛程式。* Confluent安全外掛程式可用來新增各種Confluent Platform工具和產品的安全功能。目前有一個外掛程式可供Conflent REST Proxy使用、可協助驗證傳入要求、並將驗證的主體傳播至向Kafka的要求。這可讓Conflent REST Proxy用戶端利用Kafka代理程式的多租戶安全功能。</block>
  <block id="4f9143a5adb8a0385a1c660d201ef274" category="inline-link-macro">下一步：流暢驗證。</block>
  <block id="d566a24bfcb09090b96a073132a83173" category="paragraph"><block ref="d566a24bfcb09090b96a073132a83173" category="inline-link-macro-rx"></block></block>
  <block id="b446e9930ab89aa25e7b422c4c23d83f" category="inline-link-macro">上一篇：從MapR-FS移轉ONTAP 至Sfnfs。</block>
  <block id="185bcaf9470b338d9a2b58870d7bd2bd" category="paragraph"><block ref="185bcaf9470b338d9a2b58870d7bd2bd" category="inline-link-macro-rx"></block></block>
  <block id="ca79886b03835c933143f8eb102ac932" category="list-text">NetApp就地分析模組最佳實務做法</block>
  <block id="007fcd4e7f754577cf07e39ab5c8dc1d" category="inline-link"><block ref="007fcd4e7f754577cf07e39ab5c8dc1d" category="inline-link-rx"></block></block>
  <block id="026671d583a546d6b62291e018f78bf7" category="paragraph"><block ref="026671d583a546d6b62291e018f78bf7" category="inline-link-rx"></block></block>
  <block id="f5ac1e3c252855373c7f660dbd89699d" category="list-text">NetApp FlexGroup 《NetApp》《最佳實務做法與實作指南》</block>
  <block id="baf8e9fa2301f45f9abf0b6e9dba3e17" category="inline-link"><block ref="baf8e9fa2301f45f9abf0b6e9dba3e17" category="inline-link-rx"></block></block>
  <block id="f473bc55fb079f0338493530316efc6f" category="paragraph"><block ref="f473bc55fb079f0338493530316efc6f" category="inline-link-rx"></block></block>
  <block id="bc4fe2352063642d68529f2aa0ca7ca3" category="list-text">NetApp 產品文件</block>
  <block id="c9617ae303d0bce89d13bebecca2ea1b" category="paragraph"><block ref="c9617ae303d0bce89d13bebecca2ea1b" category="inline-link-rx"></block></block>
  <block id="46b9839969e4bc429da9cc245c756450" category="cell">3.0版</block>
  <block id="b9365bb9132d1eb8770275a763fc5d69" category="cell">2022年1月</block>
  <block id="e4005842db89b4abb778385f9a8a758f" category="cell">使用NetApp XCP、直接將資料從HDFS和MapR-FS移至NFS。</block>
  <block id="d835981d77534f5f20446d4648ad7e5b" category="cell">2020年1月</block>
  <block id="637f51ce71f8f8cadc4b75dfda96d45c" category="cell">XCP是預設的資料移動工具。將MapR-FS新增至NFS和GPFS以進行NFS資料傳輸。</block>
  <block id="a10ba827ae758dee0e50d44366fd3d6d" category="cell">2018年11月</block>
  <block id="ea9349a37bfee247df0f87cbcacca796" category="cell">初始版本。</block>
  <block id="139709c8a32ed1bcce233da863c5efda" category="summary">本節將說明從本認證中學到的經驗教訓。</block>
  <block id="eab9ac0f00ca7c338d71f9acf8885092" category="doc">最佳實務準則</block>
  <block id="524a5aa4f422c84af378b5418bb1539b" category="inline-link-macro">先前版本：Conflent自我重新平衡叢集。</block>
  <block id="ae7f441436d5c9a5dc4278e4ea2b87e8" category="paragraph"><block ref="ae7f441436d5c9a5dc4278e4ea2b87e8" category="inline-link-macro-rx"></block></block>
  <block id="1bd6648fc95556a0a0fde4774f780085" category="list-text">根據我們的驗證結果、S3物件儲存設備最適合Connent來保存資料。</block>
  <block id="18f3dd1f96633e1c3f4b4473c8f63239" category="list-text">我們可以使用高處理量SAN（特別是FC）來保留代理程式的熱資料或本機磁碟、因為在Conflent階層式儲存組態中、 代理資料目錄中的資料大小取決於資料移至物件儲存設備時的區段大小和保留時間。</block>
  <block id="992e82f9c5ce28bbe0068e8ff7ea8a09" category="list-text">當sege.bytes較高時、物件存放區可提供較佳的效能；我們測試了512MB。</block>
  <block id="f165ec9e9849281afaf2162f6396907c" category="list-text">在Kafka中、針對主題所產生的每筆記錄、其金鑰或值長度（以位元組為單位）是由「length、key、Value」（長度、金鑰、值）參數所控制。針對VMware、S3物件擷取和擷取效能提升至更高的價值。StorageGRID例如、512位元組提供5.8GBps擷取、而1024位元組提供7.5GBps S3擷取、以及提供接近10Gbps的2048位元組。</block>
  <block id="92a9c9d4753636cd8ef8008380f5de9b" category="paragraph">下圖顯示根據「length、key、Value」擷取和擷取S3物件。</block>
  <block id="b50ee24368ac624f2816b9e550167cb9" category="paragraph"><block ref="b50ee24368ac624f2816b9e550167cb9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9432e98ec213778ab349305141050c42" category="list-text">* Kafka調校。*若要提升階層式儲存設備的效能、您可以增加TierFetcherNumThreades和TierArchiverNum執行 緒。一般而言、您想要增加TierFetcherNum執行 緒、以符合實體CPU核心數量、並將TierArchiverNum執行 緒增加到CPU核心數量的一半。例如、在伺服器內容中、如果您的機器有八個實體核心、請將confucere.Tier .etcher。num.thread = 8和puceter.Tier。archiver.nm.thread = 4。</block>
  <block id="ed3ecb8a7183dd06de652f3dc38b1037" category="list-text">*主題刪除的時間間隔。*刪除主題時、不會立即開始刪除物件儲存區中的記錄區段檔案。相反地、在刪除這些檔案之前、會有一個預設值為3小時的時間間隔。您可以修改組態confluent.tier.topic.delete.check.interval.ms來變更此時間間隔的值。如果您刪除主題或叢集、也可以手動刪除個別儲存區中的物件。</block>
  <block id="3833b7b3d2c8a15e32f72248bab1add9" category="list-text">*階層式儲存內部主題的ACL。*內部部署的建議最佳實務做法是讓ACL授權者能夠處理階層式儲存所使用的內部主題。設定ACL規則、僅限代理使用者存取此資料。如此可保護內部主題、防止未獲授權存取階層式儲存資料和中繼資料。</block>
  <block id="ebcb583d4445a2a39076c7fa4627f79a" category="admonition">將使用者「&lt;Kafka&gt;'」取代為部署中的實際代理主體。</block>
  <block id="0ca954cd7923be900c49b3b807caf2b6" category="paragraph">例如、命令「conflexe-層 狀態」會針對階層式儲存設備的內部主題設定ACL。目前只有一個與階層式儲存有關的內部主題。此範例會建立ACL、為內部主題的所有作業提供主要的Kafka權限。</block>
  <block id="c7aa1f1ea2c8ad1712056dd97321d808" category="inline-link-macro">下一步：規模調整。</block>
  <block id="de8a38c4c90ce81d8c4b82c44500e504" category="paragraph"><block ref="de8a38c4c90ce81d8c4b82c44500e504" category="inline-link-macro-rx"></block></block>
  <block id="e0a1057b7f63b9621d22a28a118e4a79" category="summary">本節說明此解決方案的商業效益。</block>
  <block id="7f0cbc7391fd4e971628295e6bff035a" category="doc">商業效益</block>
  <block id="aaff67cd4222a3be5071cf651cab3d48" category="inline-link-macro">上一篇：HDFS和MapR-FS到ONTAP Sfnfs。</block>
  <block id="4e24fd6dd4cc9fa99c4dddfa8f40ee3e" category="paragraph"><block ref="4e24fd6dd4cc9fa99c4dddfa8f40ee3e" category="inline-link-macro-rx"></block></block>
  <block id="239f77225835899839f2d1318d1cc1c4" category="paragraph">將資料從Big Data分析移轉至AI可帶來下列效益：</block>
  <block id="c07548816e2d37db2db301172209009e" category="list-text">能夠從不同的Hadoop檔案系統和GPFS擷取資料至統一化NFS儲存系統</block>
  <block id="17480f22ec6a36806354b84f9824ff80" category="list-text">Hadoop整合式自動化資料傳輸方式</block>
  <block id="626dfcaeea53c1bdef78276b0f594dbf" category="list-text">降低從Hadoop檔案系統移轉資料的程式庫開發成本</block>
  <block id="8576c8e67d6540e2f677340d38ec60e9" category="list-text">透過使用NIPAM、從單一資料來源將多個網路介面的總處理量集合起來、達到最高效能</block>
  <block id="28338c61f9a9de656b504b14a75bb824" category="list-text">排程及隨需傳輸資料的方法</block>
  <block id="3c70d03dd35337605475e972b74654c8" category="list-text">使用ONTAP 效益資料管理軟體、儲存效率與企業管理功能、可用於統一化NFS資料</block>
  <block id="2b602714583b0c6daac65349c0e00e16" category="list-text">使用Hadoop資料傳輸方法、將資料搬移成本降至零</block>
  <block id="a3b97091403bff3b38419087acb1c19e" category="inline-link-macro">下一步：GPFS至NFS詳細步驟。</block>
  <block id="5e982872ec65785f5d685290b9c40026" category="paragraph"><block ref="5e982872ec65785f5d685290b9c40026" category="inline-link-macro-rx"></block></block>
  <block id="9d9b3c1914053d9ff102d01b77ab40a9" category="summary">此使用案例是以需要將雲端型分析資料備份到內部部署資料中心的廣播客戶為基礎。</block>
  <block id="0abf694ae9fa8ac43b805ba39a10d143" category="doc">使用案例2：從雲端到內部部署的備份與災難恢復</block>
  <block id="d05b5b5452aa966fcd3c8947a172f44a" category="inline-link-macro">上一篇：使用案例1 -備份Hadoop資料。</block>
  <block id="d6b3b64a2054103914910c4432cc9e18" category="paragraph"><block ref="d6b3b64a2054103914910c4432cc9e18" category="inline-link-macro-rx"></block></block>
  <block id="733d8d14fe9ffb98d02b33079e3d3db2" category="paragraph">此使用案例是根據需要將雲端型分析資料備份到內部部署資料中心的廣播客戶、如下圖所示。</block>
  <block id="063e138ba69a95a99bd2f908b540e210" category="paragraph"><block ref="063e138ba69a95a99bd2f908b540e210" category="inline-image-macro-rx" type="image"></block></block>
  <block id="26fea23389e404e4cb8cf9be2c100cbd" category="paragraph">在此案例中、IoT感應器資料會擷取至雲端、並使用AWS內的開放原始碼Apache Spark叢集進行分析。這項需求是將處理過的資料從雲端備份到內部部署。</block>
  <block id="bb446485afc21a80bc5f26a9131de160" category="list-text">啟用資料保護不應對雲端上的正式作業Spark/Hadoop叢集造成任何效能影響。</block>
  <block id="dbb6231aec34eed7c53cff2d4a2d43ef" category="list-text">雲端感測器資料必須以有效率且安全的方式移轉及保護至內部部署。</block>
  <block id="848b66ad8aca524142404de79ce64c73" category="list-text">可在不同的情況下、例如隨需、即時和低叢集負載期間、靈活地將資料從雲端傳輸至內部部署。</block>
  <block id="4d8011e28e4ef4359ca7c169e7797091" category="paragraph">客戶使用AWS Elastic Block Store（EBS）作為Spark叢集HDFS儲存設備、透過Kafka從遠端感應器接收及擷取資料。因此、HDFS儲存設備可做為備份資料的來源。</block>
  <block id="e55d60f6f17896ce9b53a0ef23e23413" category="paragraph">為了滿足這些需求、NetApp ONTAP 支援將NetApp支援雲端部署在AWS中、並建立NFS共用區、做為Spark/Hadoop叢集的備份目標。</block>
  <block id="c260f0b6bfdb6eff1473aafbf5bd075a" category="paragraph">建立NFS共用區之後、就會利用就地分析模組、將HDFS EBS儲存區的資料複製到ONTAP 穩定的NFS共用區。當資料位於ONTAP NFS中的SnapMirror Cloud之後、SnapMirror技術可用來將資料從雲端鏡射到內部部署儲存設備、並以安全且有效率的方式進行鏡射。</block>
  <block id="aecad7c5bdfba92aa6cd945a9045c37f" category="paragraph">此影像顯示從雲端到內部部署解決方案的備份與災難恢復。</block>
  <block id="94c7a6b63152038de5e8b2763cdef06c" category="paragraph"><block ref="94c7a6b63152038de5e8b2763cdef06c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bbd6a10b63926b84e9a28da6d4214925" category="inline-link-macro">下一步：使用案例3：在現有Hadoop資料上啟用DevTest。</block>
  <block id="e0f915fb1893e398d54abc6f9d00ca57" category="paragraph"><block ref="e0f915fb1893e398d54abc6f9d00ca57" category="inline-link-macro-rx"></block></block>
  <block id="bc15ae13f16a39532174d0aec78a6432" category="summary">在此設定中、我們會示範如何使用Kafka S3接收器連接器、直接從Kafka讀取和寫入物件儲存區中的主題。在這項測試中、我們使用獨立的ConFluent叢集、但此設定適用於分散式叢集。</block>
  <block id="8b7e627b574df4c4813de77ed2896ad8" category="doc">Connent S3連接器</block>
  <block id="9b154eb37aabb62c75c78bd31457468f" category="inline-link-macro">先前版本：效能測試搭配擴充性。</block>
  <block id="aa4f22f43748e77c4fb71f8cb5333c25" category="paragraph"><block ref="aa4f22f43748e77c4fb71f8cb5333c25" category="inline-link-macro-rx"></block></block>
  <block id="524b95dc71b518ce734757656cf9594c" category="paragraph">Amazon S3 Sink Connector會以Avro、Json或位元組格式、將Apache Kafka主題的資料匯出至S3物件。Amazon S3 Sink連接器會定期輪詢Kafka的資料、然後再將資料上傳至S3。分區工具用於將每個Kafka分區的資料分割成區塊。每一區塊的資料都會以S3物件表示。金鑰名稱會編碼主題、Kafka分割區、以及此資料區塊的起始偏移。</block>
  <block id="b5829317a86f448ffca89934abe420d3" category="list-text">從Conflent網站下載Conflent Kafka。</block>
  <block id="99eec7bbd3416776cb76d9d8f52bfddc" category="list-text">將套件解壓縮至伺服器上的資料夾。</block>
  <block id="2d025d1c11796b49f323ce393e802635" category="list-text">匯出兩個變數。</block>
  <block id="e238a3352503bcd61be91778a307f02e" category="list-text">對於獨立的Conflent Kafka設定、叢集會在「/tmp」中建立一個暫存根資料夾。它也會建立Zookkeeper、Kafka、架構登錄、Connect、ksql-server、 和控制中心資料夾、並從「$Confluent_home'複製各自的組態檔案。請參閱下列範例：</block>
  <block id="fc1644d2d2819b87443b810d963409fa" category="list-text">設定Zookkeeper。如果您使用預設參數、則不需要變更任何內容。</block>
  <block id="ad2d4e5ed593359b5d1fe13997541e6f" category="paragraph">在上述組態中、我們更新了「伺服器」。xxx屬性。根據預設、您需要三位Zooka主管才能選擇Kafka。</block>
  <block id="b7eb15647b54e1bfd5b79f04012f19ce" category="list-text">我們在「/tmp/confine.406980/zookeeper / data」中建立一個具有唯一ID的MyID檔案：</block>
  <block id="78f7f3d70d7fc386cde6a61b7d08bc07" category="paragraph">我們使用最後數量的IP位址作為MyID檔案。我們使用卡夫卡、連線、控制中心、卡夫卡、卡夫卡、 ksql-server和schema-registry組態。</block>
  <block id="5ad6084775d1229b3edcbda0f353315c" category="list-text">啟動Kafka服務。</block>
  <block id="67228b3b71aba311ab74c0946efe35e8" category="paragraph">每個組態都有一個記錄資料夾、有助於疑難排解問題。在某些情況下、服務需要更多時間才能啟動。請確定所有服務均已啟動且正在執行。</block>
  <block id="65272a6acb72513d0bfa2bdd8b0c6d1b" category="list-text">使用「confhube-hub」安裝Kafka Connect。</block>
  <block id="4bdaf464a75dbea14d9240c6722a822a" category="paragraph">您也可以使用「conlume-hub install confluentinc / Kafka-connect：s3：10.0.3」來安裝特定版本。</block>
  <block id="004220cf4b170d47a455040fde149eaf" category="list-text">依預設、「confluentinc、Kafka-connect、S3」安裝於「/data / conflue/conlume-6.2.0/share/conflum-hub-sue-subs/confluentinc、Kafka-Connect、S3」中。</block>
  <block id="fe4b44765b8ad323e0d6a2e6b7325246" category="list-text">使用全新的「confluentinc - Kafka-connect - S3」來更新外掛程式路徑。</block>
  <block id="331885900730ee061e0f6b4f55e62ece" category="list-text">停止Conflent服務並重新啟動。</block>
  <block id="7fe69cf1bb033725fdeb56839e70fe4e" category="list-text">在「/root/.AWS/IDes'檔案中設定存取ID和秘密金鑰。</block>
  <block id="fac7d16b475df7919931f2de707a4a45" category="list-text">確認鏟斗可到達。</block>
  <block id="369f5700a42f83495e179b9e947587fb" category="list-text">設定S3和Bucket組態的S3接收器內容檔。</block>
  <block id="3d3c898205223806be88ccecb8f0598c" category="list-text">將幾筆記錄匯入S3儲存區。</block>
  <block id="50b781543cad31f75eed99b8efb20e79" category="list-text">裝入S3接收器連接器。</block>
  <block id="6e773b2ab9703d3433d0ebfb5a45a3a1" category="list-text">檢查S3接收器狀態。</block>
  <block id="b533fadf7b5ac18085d65eb6814528cf" category="list-text">檢查記錄、確定S3接收器已準備好接受主題。</block>
  <block id="613093505fc60a58e7893af8aee3b7b8" category="list-text">請查看卡夫卡的主題。</block>
  <block id="38f7472ee233ba1cc1a7d724a0ca6542" category="list-text">檢查S3儲存區中的物件。</block>
  <block id="09fa6729fb808be555e2da157c07e47e" category="list-text">若要驗證內容、請執行下列命令、將每個檔案從S3複製到您的本機檔案系統：</block>
  <block id="e8eeb400cc1af7c80b7561572c879a12" category="inline-link">Apache歸檔</block>
  <block id="7d059565bbab6abb5da76e3abcfe6f90" category="list-text">若要列印記錄、請使用avro-tools-1.11.0.1.jar（可在<block ref="55ee52f435d2dbbc99b651e203ff837e" category="inline-link-rx"></block>）。</block>
  <block id="e621a272d292cd32516db52fc07b5855" category="inline-link-macro">下一步：Conflent自我重新平衡叢集。</block>
  <block id="56b9b2115a3169192950ec86c26f6add" category="paragraph"><block ref="56b9b2115a3169192950ec86c26f6add" category="inline-link-macro-rx"></block></block>
  <block id="69fc1008ccb741113af5042f04fcbc8b" category="summary">本文件說明在NetApp儲存控制器上使用Kafka的最佳實務準則。</block>
  <block id="22f51db51c9641d5358726fa5e03f67b" category="doc">TR-4912：NetApp的Conflent Kafka階層式儲存設備最佳實務準則</block>
  <block id="a29b982ab81cd1d74045ee43e3378135" category="paragraph">Karthikeyan Nagalingam、Joseph Kandatilparambil、NetApp Rankesh Kumar、Conflent</block>
  <block id="37281d123cc59a7c05b3ce30b5ea435e" category="paragraph">Apache Kafka是一個社群分散式事件串流平台、能夠每天處理數兆次的事件。最初構想為訊息佇列的Kafka是以分散式提交記錄的抽象化為基礎。自從LinkedIn於2011年建立並開放原始碼之後、Kafka便從訊息佇列發展成功能完善的活動串流平台。Conflent提供Apache Kafka的Conflent Platform發佈版本。Conflent Platform為卡夫卡（Kafka）提供額外的社群和商業功能、旨在提升營運者和開發人員大規模上線的串流體驗。</block>
  <block id="e1c012d650a6912ddb72ab0ee914d169" category="paragraph">本文件說明在NetApp物件儲存產品上使用ConFluent分層儲存設備的最佳實務準則、提供下列內容：</block>
  <block id="2717b4b699259a5e59279aac92d526a2" category="list-text">運用NetApp物件儲存設備進行一致驗證–NetApp StorageGRID 產品特色</block>
  <block id="0939eec6a072b9deba2d6aa39249110d" category="list-text">階層式儲存效能測試</block>
  <block id="7607a859995debe77df0676d09d8270b" category="list-text">NetApp儲存系統上的Conflent最佳實務準則</block>
  <block id="59cb8890508bcaf057fd0360eb8ff783" category="section-title">為何要使用一致的分層儲存設備？</block>
  <block id="7a3966946c615eb57ae930f6948a1c65" category="inline-link-macro">本文作者：Conflent</block>
  <block id="eced8e0ff3a0cd0f66b3a8845f1e08be" category="paragraph">Connent已成為許多應用程式的預設即時串流平台、尤其是巨量資料、分析和串流工作負載。階層式儲存設備可讓使用者在ConFluent平台中、將運算與儲存區分開。它可讓儲存資料更具成本效益、讓您儲存幾乎無限量的資料、並可隨需擴充（或縮減）工作負載、讓資料和租戶重新平衡等管理工作變得更輕鬆。S3相容的儲存系統可利用所有這些功能、在同一個位置將所有事件的資料民主化、免除複雜資料工程的需求。如需瞭解為何應使用卡夫卡階層式儲存設備的詳細資訊、請查看 <block ref="3c87b0bff8160b787f5bf29d10131d5e" category="inline-link-macro-rx"></block>。</block>
  <block id="911086e7904dbc449b09545eba850304" category="section-title">為何選擇NetApp StorageGRID 解決方案來進行階層式儲存？</block>
  <block id="ee6c2a9cd0205695027987ec8da32dfe" category="paragraph">NetApp是領先業界的物件儲存平台。StorageGRID支援業界標準物件API（包括Amazon Simple Storage Service（S3）API）的軟體定義物件式儲存解決方案。StorageGRID可大規模儲存及管理非結構化資料、提供安全且持久的物件儲存。StorageGRID內容會放在適當的位置、適當的時間、以及適當的儲存層、以最佳化工作流程、並降低全球分散式多媒體的成本。</block>
  <block id="5e5ef53b540f19d6746e6645de37cbb4" category="paragraph">與眾不同之處在於StorageGRID 其資訊生命週期管理（ILM）原則引擎、可實現原則導向的資料生命週期管理。原則引擎可以使用中繼資料來管理整個生命週期內的資料儲存方式、以期一開始就最佳化效能、並自動最佳化資料存留期的成本與持久性。</block>
  <block id="a7f9d3e4bde145f56bcbec81a6dc2ef3" category="section-title">實現一致的分層儲存</block>
  <block id="a5cb83c3eb7e8757a8f985f8d935e700" category="paragraph">階層式儲存的基本概念是將資料儲存的工作與資料處理區分開。如此分離之後、資料儲存層和資料處理層就變得更加容易獨立擴充。</block>
  <block id="e963c7bc15c18e21f60a9969d876e3e8" category="paragraph">Conflent的階層式儲存解決方案必須面對兩個因素。首先、IT必須解決或避免常見的物件存放區一致性和可用度內容、例如清單作業不一致、偶爾物件無法使用。第二、IT必須正確處理階層式儲存設備與Kafka複寫與容錯模式之間的互動、包括殭屍領導廠商可能繼續分層調整偏移範圍。NetApp物件儲存設備提供一致的物件可用度和HA模式、讓舊舊儲存設備可用於層級偏移範圍。NetApp物件儲存設備提供一致的物件可用度、以及HA模式、可讓舊舊儲存設備用於層級偏移範圍。</block>
  <block id="104f1daa661d4c74d5bfd4e54946a4f4" category="paragraph">透過階層式儲存設備、您可以使用高效能平台、在串流資料的尾端附近進行低延遲的讀取和寫入、也可以使用更便宜、可擴充的物件存放區（例如NetApp StorageGRID 流通量高的歷史讀取）。我們也提供適用於Spark with NetApp儲存控制器的技術解決方案、詳情請見此處。下圖顯示Kafka如何融入即時分析管道。</block>
  <block id="c7e421673ed217d2262c482dc24d0995" category="paragraph"><block ref="c7e421673ed217d2262c482dc24d0995" category="inline-image-macro-rx" type="image"></block></block>
  <block id="66b784e6401c98dcf152747d22976bf7" category="paragraph">下圖說明NetApp StorageGRID 的物件儲存層如何融入ConFluent Kafka的物件儲存層。</block>
  <block id="f4e981d58b1468737da82402b3cce7f1" category="paragraph"><block ref="f4e981d58b1468737da82402b3cce7f1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2c3dbe3ccb3831e313d1d072656fa861" category="inline-link-macro">下一步：解決方案架構詳細資料。</block>
  <block id="adcb27f49e58936cf868bc3cc2726dd7" category="paragraph"><block ref="adcb27f49e58936cf868bc3cc2726dd7" category="inline-link-macro-rx"></block></block>
  <block id="2ea9ecb649c5974bc03036a15d95f5bf" category="summary">AI的資料移轉解決方案是根據客戶處理AI作業Hadoop資料的需求而打造。NetApp使用NIPAM將資料從HDFS移至NFS。在一種使用案例中、客戶需要將資料移至內部部署的NFS、而另一位客戶則需要將資料從Windows Azure Storage Blob移至Cloud Volumes Service Suse、才能處理來自雲端GPU雲端執行個體的資料。</block>
  <block id="7f10e017358079527e7045a68782eb14" category="doc">AI的資料移動機解決方案</block>
  <block id="2337521acd1f46c410245430b841caa8" category="inline-link-macro">上一篇：資料移動機解決方案。</block>
  <block id="ee202fa3d5706f12ab6d57e9cb4b4cba" category="paragraph"><block ref="ee202fa3d5706f12ab6d57e9cb4b4cba" category="inline-link-macro-rx"></block></block>
  <block id="b6392eaf0ddf0463d633e69aaeeef3ce" category="paragraph">下圖說明資料移動機解決方案的詳細資料。</block>
  <block id="27f83ed51cc554467134084d77b0e050" category="paragraph"><block ref="27f83ed51cc554467134084d77b0e050" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e01b73324e59213b14e79f9d912546bc" category="paragraph">建置資料移轉器解決方案需要執行下列步驟：</block>
  <block id="03337d241355e58cdaa3df5a4bb980ef" category="list-text">支援HDFS的SAN、NAS則透過NIPAM將NFS磁碟區提供給正式作業資料湖叢集。ONTAP</block>
  <block id="0fad6dd0225bf5a5e9c668c30ea5d38a" category="list-text">客戶的資料位於HDFS和NFS中。NFS資料可以是用於Big Data分析和AI作業的其他應用程式的正式作業資料。</block>
  <block id="32477fa182341c04b6e8076232250f76" category="list-text">NetApp FlexClone技術會建立正式作業NFS磁碟區的複本、並將其配置至內部部署的AI叢集。</block>
  <block id="4e7e9a946510d25d1b28cc93a3723e69" category="list-text">使用NIPAM和「Hadoop distcp」命令、將HDFS SAN LUN的資料複製到NFS磁碟區。NIPAM使用多個網路介面的頻寬來傳輸資料。此程序可縮短資料複製時間、以便傳輸更多資料。</block>
  <block id="b0dd56fceeaba1e1db258d1b06d2572d" category="list-text">這兩個NFS磁碟區都會配置至AI叢集、以供AI作業。</block>
  <block id="344c1652d7730f66d822b6ed5d07ff77" category="list-text">若要使用雲端中的GPU來處理內部部署NFS資料、NFS磁碟區會使用NetApp SnapMirror技術鏡射至NetApp私有儲存設備（NPS）、並掛載至GPU的雲端服務供應商。</block>
  <block id="c590e653cde69438d43731b18edd533c" category="list-text">客戶想要處理來自雲端服務供應商之GPU中EC2/EMR、HDInsight或DataProc服務中的資料。Hadoop資料移轉器可利用NIPAM和「Hadoop distcp」命令、將資料從Hadoop服務移至Cloud Volumes Services。</block>
  <block id="8cae7d7989a25f83bf9df9952b16ed2b" category="list-text">透過NFS傳輸協定將支援的資料配置給AI。透過AI處理的資料、除了可透過NIPAM、SnapMirror和NPS傳送NVIDIA叢集之外、也可傳送到內部部署位置進行巨量資料分析。Cloud Volumes Service</block>
  <block id="980894bd0921c687decdf218e89107e2" category="paragraph">在此案例中、客戶在NAS系統的遠端位置擁有大量的檔案數資料、而在內部部署的NetApp儲存控制器上進行AI處理時、則需要這些資料。在此案例中、最好使用XCP移轉工具以更快的速度移轉資料。</block>
  <block id="002cfe6c68deff9c2fcb4fbb3820a5ff" category="paragraph">混合式使用案例客戶可以使用Cloud Sync 支援功能、將內部部署資料從NFS、CIFS和S3資料移轉至雲端、反之亦然、使用GPU（例如NVIDIA叢集）進行AI處理。支援將NFS資料移轉至NetApp支援NFS的功能包括：Cloud Sync ONTAP</block>
  <block id="22033f5439b399254e73f6f3588b9b9e" category="inline-link-macro">下一步：GPFS移轉至NetApp ONTAP Sfnfs。</block>
  <block id="f56cb05715de107bd001dd11a41b0cf6" category="paragraph"><block ref="f56cb05715de107bd001dd11a41b0cf6" category="inline-link-macro-rx"></block></block>
  <block id="e353dbe42c8654f33588d4da0b517469" category="doc">摘要</block>
  <block id="4b3608ccf8a7154699127b487cc49627" category="paragraph">本文件說明如何從巨量資料分析和高效能運算（HPC）系統移轉資料、以便用於人工智慧（AI）工作流程。AI通常透過NFS匯出來處理NFS資料。不過、您的AI資料可能位於巨量資料分析和高效能運算（HPC）平台中。這可能是Hadoop分散式檔案系統（HDFS）、二進位大型物件（Blob）、S3儲存設備、或IBM的通用平行檔案系統（GPFS）。在本文中、我們說明如何使用Hadoop原生命令、NetApp就地分析模組（NIPAM）和NetApp XCP、將資料從巨量資料分析平台和GPFS移至NFS。本文也討論將資料從Big Data和HPC移轉至AI的商業效益。</block>
  <block id="cedd54d52b90b58fb9615e956db81629" category="summary">本文件說明混合雲資料解決方案、使用NetApp AFF 的解決方案、NetApp FAS 的解決方案、NetApp的NetApp連接儲存設備、以及適用於Spark和Hadoop的NetApp FlexClone技術。Cloud Volumes ONTAP這些解決方案架構可讓客戶針對其環境選擇適當的資料保護解決方案。NetApp根據與客戶及其商業使用案例的互動來設計這些解決方案。</block>
  <block id="6a604a825549ac87ecf8a00412ee6365" category="doc">TR-4657：NetApp混合雲資料解決方案：根據客戶使用案例而設計的Spark和Hadoop</block>
  <block id="71932d00608c3a9fe13a866ab35227f6" category="paragraph">NetApp的Karthithkeyan Nagalingam和Sathish Thyagarajan</block>
  <block id="8b6b60ca3f35331d22d686d9c4e12871" category="paragraph">本文件說明混合雲資料解決方案、使用NetApp AFF 的解決方案、NetApp FAS 的解決方案、NetApp的NetApp連接儲存設備、以及適用於Spark和Hadoop的NetApp FlexClone技術。Cloud Volumes ONTAP這些解決方案架構可讓客戶針對其環境選擇適當的資料保護解決方案。NetApp根據與客戶及其商業使用案例的互動來設計這些解決方案。本文件提供下列詳細資訊：</block>
  <block id="d928ac205302ed3d60386e2a4759c6d6" category="list-text">為何我們需要針對Spark和Hadoop環境及客戶挑戰提供資料保護。</block>
  <block id="4444991e618ed955b12fdbcf746ad762" category="list-text">採用NetApp願景及其建置區塊與服務的資料架構。</block>
  <block id="018b3e5bb8ca92450618b4f5ff9719f7" category="list-text">如何使用這些建置區塊來架構靈活的資料保護工作流程。</block>
  <block id="30b68051de2b69f7d6ab186bed865f7c" category="list-text">多種架構的優缺點是以實際客戶使用案例為基礎。每個使用案例均提供下列元件：</block>
  <block id="acf055fa7efae33ce06471f448ae1267" category="list-text">客戶案例</block>
  <block id="2a9dbfa4b74c53d7304fc8b79a1874d3" category="list-text">解決方案</block>
  <block id="cb9825c3c7619f7000c8452d9005aa5b" category="list-text">解決方案摘要</block>
  <block id="40300466f60ef41f731d7fd45a1024e2" category="section-title">為何需要Hadoop資料保護？</block>
  <block id="d54234515a0cb2905eb88ccb03d85491" category="paragraph">在Hadoop和Spark環境中、必須解決下列問題：</block>
  <block id="9ed257b8e8a9504946fcf430ea2e12e3" category="list-text">*軟體或人為故障。*執行Hadoop資料作業時、軟體更新中發生人為錯誤、可能導致錯誤行為、導致工作產生非預期的結果。在這種情況下、我們需要保護資料、以避免失敗或不合理的結果。例如、由於流量訊號分析應用程式的軟體更新執行不良、因此這項新功能無法以純文字格式正確分析流量訊號資料。此軟體仍會分析Json及其他非文字檔案格式、進而產生即時流量控制分析系統、產生遺漏資料點的預測結果。這種情況可能會造成輸出故障、導致交通號誌發生意外。資料保護可提供快速回復至先前工作應用程式版本的功能、藉此解決此問題。</block>
  <block id="38b145294d087c4d733df994e6a7b6c1" category="list-text">*規模與規模。*由於資料來源與磁碟區數量不斷增加、分析資料的大小日增。社群媒體、行動應用程式、資料分析及雲端運算平台是目前巨量資料市場中資料的主要來源、而且資料的成長速度極快、因此資料必須受到保護、才能確保資料作業準確無誤。</block>
  <block id="80908b4b31d37977701d3694fbc636ac" category="list-text">* Hadoop的原生資料保護功能。* Hadoop具有原生命令來保護資料、但此命令無法在備份期間提供一致的資料。它僅支援目錄層級備份。Hadoop建立的快照為唯讀、無法直接重複使用備份資料。</block>
  <block id="e664ca405ed3e90fecf2e085985fe24c" category="section-title">Hadoop和Spark客戶面臨的資料保護挑戰</block>
  <block id="c2d49a2ee903d6d86976c3618079a61d" category="paragraph">Hadoop和Spark客戶的一項常見挑戰是縮短備份時間並提高備份可靠性、而不會在資料保護期間對正式作業叢集的效能造成負面影響。</block>
  <block id="8d54bea5cb89e665d1a703529f703765" category="paragraph">客戶也需要將恢復點目標（RPO）和恢復時間目標（RTO）停機時間降至最低、並控制內部部署和雲端型災難恢復站台、以達到最佳的營運持續性。這項控管措施通常來自於企業層級的管理工具。</block>
  <block id="042be4d2813fd31d6b49e6eeaa1a42c3" category="paragraph">Hadoop和Spark環境非常複雜、因為不僅資料量龐大且不斷成長、而且資料的送達速度也不斷提高。此案例讓您難以從來源資料快速建立有效率且最新的DevTest與QA環境。NetApp瞭解這些挑戰、並提供本白皮書所述的解決方案。</block>
  <block id="1f60e9ce60971dc2129b30c8820ff343" category="inline-link-macro">下一步：採用NetApp技術的Data Fabric、適用於Big Data架構。</block>
  <block id="b8d3f7ee1ffc74c6a96c88a193dc6f1e" category="paragraph"><block ref="b8d3f7ee1ffc74c6a96c88a193dc6f1e" category="inline-link-macro-rx"></block></block>
  <block id="f9fe6a27dc7f13d26e9416153b950597" category="summary">本節提供資料保護使用案例的詳細說明、這是本白皮書的重點。其餘各節將針對每個使用案例提供更多詳細資料、例如客戶問題（情境）、需求與挑戰、以及解決方案。</block>
  <block id="6a15e1dac7cc5c330a1da84c32b3ff2e" category="doc">Hadoop資料保護使用案例總覽</block>
  <block id="d161097dc6596d3807b21a5635856d71" category="inline-link-macro">先前版本：Hadoop資料保護與NetApp。</block>
  <block id="1a5df0b83f496dc00b4a331caac0d5cd" category="paragraph"><block ref="1a5df0b83f496dc00b4a331caac0d5cd" category="inline-link-macro-rx"></block></block>
  <block id="385dae214dc9bab52698dc7cd42632ad" category="paragraph">在此使用案例中、就地分析模組協助大型金融機構將長時間的備份時間從24小時以上縮短至幾小時以內。</block>
  <block id="06b83cb579d9aaf1f26d8c4284a5a42e" category="paragraph">藉由使用NetApp技術的資料架構做為建置區塊、一家大型廣播公司能夠根據不同的資料傳輸模式（例如隨需、即時、 或根據Hadoop / Spark叢集負載。</block>
  <block id="da17b6db6e3e50f66b5bcaee1d74f8b1" category="paragraph">NetApp解決方案協助線上音樂經銷商在不同的分公司快速建置多個節省空間的Hadoop叢集、以使用排程原則來建立報告並執行每日DevTest工作。</block>
  <block id="2268700ee8bd2216d594273e566b0cc9" category="section-title">使用案例4：資料保護與多雲端連線</block>
  <block id="90fc62f886a8c33032d4db8b79ec5814" category="paragraph">一家大型服務供應商使用NetApp技術提供的資料架構、為不同雲端執行個體的客戶提供多重雲端分析功能。</block>
  <block id="0158648474e8dffab94ca58af2257b92" category="section-title">使用案例5：加速分析工作負載</block>
  <block id="67f07a55567ecfc26b3c7b54823a43ee" category="paragraph">最大的金融服務與投資銀行之一使用NetApp網路附加儲存解決方案來縮短I/O等待時間、並加速其量化財務分析平台。</block>
  <block id="2afe208a471bf6c54f0ccc97f4c6508d" category="inline-link-macro">下一步：使用案例1 -備份Hadoop資料。</block>
  <block id="aac250a096aacf9aed26ebbd137818da" category="paragraph"><block ref="aac250a096aacf9aed26ebbd137818da" category="inline-link-macro-rx"></block></block>
  <block id="c877e65bbe37324c3309ace4aa7745d1" category="summary">在巨量資料叢集中、資料會儲存在HDFS或HCFS中、例如MapR-FS、Windows Azure Storage Blob、S3或Google檔案系統。我們使用ONTAP 來自來源的Hadoop distcp命令、使用HDFS、MapR-FS和S3作為來源、在NIPAM的協助下、將資料複製到NetApp的RsNFS匯出。</block>
  <block id="d73e7d11401e9256a0dea0d1e174e1de" category="doc">資料移動機解決方案</block>
  <block id="6d1963202b436934d6b74acc8232dc94" category="inline-link-macro">先前：客戶挑戰。</block>
  <block id="501ee0e125dd4449de2b29015fab6f3e" category="paragraph"><block ref="501ee0e125dd4449de2b29015fab6f3e" category="inline-link-macro-rx"></block></block>
  <block id="013c5604f73da0e909c46aa5d3a670f3" category="paragraph">在巨量資料叢集中、資料會儲存在HDFS或HCFS中、例如MapR-FS、Windows Azure Storage Blob、S3或Google檔案系統。我們使用ONTAP 來自來源的「Hadoop distcp」命令、利用NIPAM的協助、使用HDFS、MapR-FS和S3作為將資料複製到NetApp支援NFS匯出的來源、進行測試。</block>
  <block id="9fabfa5fcba2e539b6d2c5eff5bb2116" category="paragraph">下圖說明一般資料從執行HDFS儲存設備的Spark叢集移至NetApp ONTAP 支援NFS磁碟區、以便NVIDIA處理AI作業。</block>
  <block id="d824b1bb9493b5a6c5a2e74871468633" category="paragraph"><block ref="d824b1bb9493b5a6c5a2e74871468633" category="inline-image-macro-rx" type="image"></block></block>
  <block id="da6616575a7b32d3eb2fa505007a9a4a" category="paragraph">「Hadoop distcp」命令會使用MapReduce程式來複製資料。NIPAM與MapReduce搭配使用、可在複製資料時做為Hadoop叢集的驅動程式。NIPAM可在多個網路介面之間分散負載、以利單一匯出。當您將資料從HDFS或HCFS複製到NFS時、此程序會將資料分散到多個網路介面、藉此將網路處理量最大化。</block>
  <block id="c2cad9f038dfeecd75697cb4bebe4c68" category="admonition">不支援NIPAM、也不通過MapR認證。</block>
  <block id="e68fb74f51fcafb391476c585b1e434d" category="inline-link-macro">下一步：AI的資料移動機解決方案。</block>
  <block id="1f4c259e626baca3c7947e6f3db323d4" category="paragraph"><block ref="1f4c259e626baca3c7947e6f3db323d4" category="inline-link-macro-rx"></block></block>
  <block id="69efde21ccf40f1dda4d665f81bacefe" category="summary">在此案例中、大型金融服務與投資銀行的分析平台已採用NetApp NFS儲存解決方案進行現代化、以大幅改善分析資產管理與量化業務單位的投資風險與衍生工具。</block>
  <block id="c8ea1eda8e0ac121148ac86dee9649a7" category="inline-link-macro">上一篇：使用案例4：資料保護與多雲端連線。</block>
  <block id="87fb2a1eb3f12014af6e5dd36ba66e5e" category="paragraph"><block ref="87fb2a1eb3f12014af6e5dd36ba66e5e" category="inline-link-macro-rx"></block></block>
  <block id="24b0e878b8196875cd088397ac8312a9" category="paragraph">在客戶現有的環境中、用於分析平台的Hadoop基礎架構會利用Hadoop伺服器的內部儲存設備。由於JBOD環境的專屬性質、組織內的許多內部客戶無法利用Monte Carlo量化模型、這是一種仰賴即時資料重複取樣的模擬。對於量化資產管理業務單位而言、無法充分瞭解市場變動不確定性的影響。</block>
  <block id="788ab145281501314f18747a0ab1eaea" category="paragraph">該銀行的量化業務單位需要高效率的預測方法、才能達到準確且及時的預測。為達成此目標、團隊認為必須將基礎架構現代化、縮短現有I/O等待時間、並改善Hadoop和Spark等分析應用程式的效能、以有效模擬投資模式、衡量潛在獲利並分析風險。</block>
  <block id="5ff37557b096819452a25d129a312360" category="paragraph">客戶現有的Spark解決方案擁有JBOD。NetApp的NetApp功能、NetApp功能區和MinIO閘道至NFS、可縮短銀行的量化財務團隊的I/O等待時間、以便針對評估潛在獲利與風險的投資模式、進行模擬與分析。ONTAP StorageGRID此影像顯示採用NetApp儲存設備的Spark解決方案。</block>
  <block id="095ba715431845442ef6bf2f4283ad1c" category="paragraph"><block ref="095ba715431845442ef6bf2f4283ad1c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c3a052314babbb25c995c7b6b2b18d04" category="paragraph">如上圖所示、AFF 我們StorageGRID 部署了S還原A800、A700系統和支援Spark的六節點Hadoop叢集、以及適用於資料分析作業的線紗和Hive中繼資料服務、透過NFS和S3傳輸協定來存取硬地板檔案。</block>
  <block id="bc12facb8aa0a34db56b00fdbc21c351" category="paragraph">客戶舊環境中的直接附加儲存（DAS）解決方案、對於獨立擴充運算與儲存設備而說、有其缺點。有ONTAP 了適用於Spark的NetApp解決方案、該銀行的財務分析業務單位就能將儲存設備與運算分離、並視需要更有效地提供基礎架構資源。</block>
  <block id="582c4aa65d1bd005ddc785db8b807fca" category="paragraph">藉由使用ONTAP 支援NFS的功能、運算伺服器CPU幾乎已完全用於Spark SQL工作、I/O等待時間縮短將近70%、因此能為Spark工作負載提供更好的運算能力和效能提升。之後、CPU使用率的提升也讓客戶能夠運用GPU（例如GPUDirect）來進一步進行平台現代化。此外StorageGRID 、針對Spark工作負載提供低成本的儲存選項、MinIO閘道則透過S3傳輸協定提供對NFS資料的安全存取。對於雲端資料、NetApp建議Cloud Volumes ONTAP 使用「功能性」、Azure NetApp Files 「功能性」和「NetApp Cloud Volumes Service 功能性」。</block>
  <block id="4b774a4819b60036fd16dae7b1618fe7" category="inline-link-macro">下一步：結論。</block>
  <block id="6e362ed6e741056d737b93021ab2f3f9" category="paragraph"><block ref="6e362ed6e741056d737b93021ab2f3f9" category="inline-link-macro-rx"></block></block>
  <block id="df343d31543826a7505d157cf243c96a" category="summary">Hadoop DistCp是一種原生工具、用於大型叢集間和叢集內複製。Hadoop DistCp基本程序是使用Hadoop原生工具（例如MapReduce）將Hadoop資料從HDFS來源複製到對應目標的典型備份工作流程。</block>
  <block id="2a377dc939cca8cab65101c1869d628d" category="doc">Hadoop資料保護與NetApp</block>
  <block id="9445444fbd9e863564ea85ad226c0e80" category="inline-link-macro">上一篇：採用NetApp技術的Data Fabric、適用於Big Data架構。</block>
  <block id="e30c587da81860e05b3f8ecfb5b9965b" category="paragraph"><block ref="e30c587da81860e05b3f8ecfb5b9965b" category="inline-link-macro-rx"></block></block>
  <block id="5f45c95989226891db648114a547a6bd" category="paragraph">Hadoop DistCp是一種原生工具、用於大型叢集間和叢集內複製。下圖所示的Hadoop DistCp基本程序、是使用Hadoop原生工具（例如MapReduce）將Hadoop資料從HDFS來源複製到對應目標的典型備份工作流程。NetApp NFS直接存取可讓客戶將NFS設定為Hadoop DistCp工具的目標目的地、以便透過MapReduce將資料從HDFS來源複製到NFS共用。NetApp NFS直接存取可做為DistCp工具的NFS驅動程式。</block>
  <block id="6369c8cb38b142174d2f84d12d2f0420" category="paragraph"><block ref="6369c8cb38b142174d2f84d12d2f0420" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a4849340a20db94ed712aca71c30b915" category="inline-link-macro">下一步：Hadoop資料保護使用案例總覽。</block>
  <block id="817c6593a9a8efc031ec597b5d11d605" category="paragraph"><block ref="817c6593a9a8efc031ec597b5d11d605" category="inline-link-macro-rx"></block></block>
  <block id="43f0735f931622d61f6837a0eb61f87e" category="summary">此測試是以自我平衡叢集功能為基礎、可根據叢集拓撲變更或負載不均、自動重新平衡。</block>
  <block id="565b2f1bfcd6857afba2efa000b83759" category="doc">ConFluent自我平衡叢集</block>
  <block id="6dec1258fbcccbfaa7098758abb00055" category="inline-link-macro">先前版本：Kafka S3連接器。</block>
  <block id="6e3bea5fe8473b6e884edafaf7fcf1d4" category="paragraph"><block ref="6e3bea5fe8473b6e884edafaf7fcf1d4" category="inline-link-macro-rx"></block></block>
  <block id="d3975bd93d0a2c24b382774d34b5a963" category="paragraph">如果您之前曾管理過Kafka叢集、您可能會熟悉手動將分割區重新指派給不同的代理人所帶來的挑戰、以確保整個叢集的工作負載平衡。對於部署較大Kafka的組織而言、重新安排大量資料可能會令人望而生畏、繁瑣且風險高、尤其是當任務關鍵型應用程式建置於叢集之上時。然而、即使是卡夫卡最小的使用案例、這項程序仍耗時且容易發生人為錯誤。</block>
  <block id="3c404a9102e2cb3ac7b75fa7ff7a2cb2" category="paragraph">在實驗室中、我們測試了Confluent自我平衡叢集功能、此功能可根據叢集拓撲變更或負載不均而自動重新平衡。當節點故障或擴充節點需要跨代理程式重新平衡資料時、「Confluent reBalance」測試有助於測量新增代理程式的時間。在傳統的Kafka組態中、隨著叢集成長、要重新平衡的資料量會隨之增加、但在階層式儲存設備中、重新平衡的資料量僅限於少量資料。根據我們的驗證結果、在傳統的Kafka架構中重新平衡階層式儲存設備需要數秒鐘或數分鐘、並隨著叢集成長線性成長。</block>
  <block id="c9e4cfc44588cc591252c88cad0a3a09" category="paragraph">在自我平衡叢集中、磁碟分割重新平衡已完全自動化、可最佳化Kafka的處理量、加速代理程式擴充、並減輕執行大型叢集的作業負擔。在穩定狀態下、自我平衡叢集會監控所有代理程式的資料偏移、並持續重新分配分割區、以最佳化叢集效能。當垂直或向下擴充平台時、自我平衡叢集會自動辨識新的代理人是否存在、或移除舊的代理人、並觸發後續的分割區重新指派。這可讓您輕鬆新增及取消委任代理人、讓Kafka叢集更具彈性。這些效益不需要手動介入、複雜的數學運算、或是分割區重新指派通常會造成人為錯誤的風險。如此一來、資料重新平衡的完成時間就會大幅縮短、您可以專注於價值更高的事件串流專案、而不需要持續監督叢集。</block>
  <block id="cc87abc70119e2ad833c42a865a33659" category="inline-link-macro">下一步：最佳實務準則。</block>
  <block id="caf8da5a9482899a1495e1e052a4b287" category="paragraph"><block ref="caf8da5a9482899a1495e1e052a4b287" category="inline-link-macro-rx"></block></block>
  <block id="eea7b9fa88f883b7983320cb8dd802ac" category="summary">本頁討論客戶在嘗試從Big Data分析取得AI作業資料時、可能會面臨的挑戰。</block>
  <block id="d4612e7dc1347f1ccbfd5e470dda2295" category="doc">客戶挑戰</block>
  <block id="5231f9fa4d08024f4620b759f83d0e97" category="inline-link-macro">上一篇：簡介。</block>
  <block id="14fd125cf7cc7e6f58e0a07d30ecda87" category="paragraph"><block ref="14fd125cf7cc7e6f58e0a07d30ecda87" category="inline-link-macro-rx"></block></block>
  <block id="b794cc731a2a9499d064b08a32552e78" category="paragraph">客戶在嘗試從Big Data分析中存取資料以進行AI作業時、可能會面臨下列挑戰：</block>
  <block id="593806557377bd8506b6705484962785" category="list-text">客戶資料位於資料湖儲存庫中。資料湖可以包含不同類型的資料、例如結構化、非結構化、半結構化、記錄和機器對機器資料。所有這些資料類型都必須在AI系統中處理。</block>
  <block id="43d7d5ce8487763157eabcf01d1cf6ef" category="list-text">AI與Hadoop檔案系統不相容。典型的AI架構無法直接存取HDFS和HCFS資料、而這些資料必須移至AI可理解的檔案系統（NFS）。</block>
  <block id="e032c722c87677b6dfba13af108c61b8" category="list-text">將資料湖資料搬移至AI通常需要專業的程序。資料湖中的資料量可能很大。客戶必須擁有高效率、高處理量且具成本效益的方法、才能將資料移入AI系統。</block>
  <block id="30bd7dc66c05e60d2ea66d09e568cb06" category="list-text">正在同步資料。如果客戶想要在Big Data平台和AI之間同步資料、有時候透過AI處理的資料可以搭配Big Data一起用於分析處理。</block>
  <block id="02c553e123c56e4cba5728b7e83bb80b" category="inline-link-macro">下一步：資料移動機解決方案。</block>
  <block id="205e8a4d3382497ff57947382c577faa" category="paragraph"><block ref="205e8a4d3382497ff57947382c577faa" category="inline-link-macro-rx"></block></block>
  <block id="5e1ee998c60aed58b6080afc9d8903a3" category="summary">本白皮書提供使用NetApp XCP和NIPAM將巨量資料分析資料和HPC資料移轉至AI的準則。我們也會討論將資料從Big Data和HPC移轉至AI的商業效益。</block>
  <block id="82a406843faa25e62de32fd044584709" category="doc">TR-4732：巨量資料分析資料與人工智慧</block>
  <block id="439be0f3df9ab229e224aa3c8dbeca77" category="paragraph">NetApp的Karthithkeyan Nagalingam</block>
  <block id="bdd40c24689e02e4043333640734a44e" category="paragraph">本文件說明如何將巨量資料分析資料和HPC資料移至AI。AI透過NFS匯出來處理NFS資料、而客戶通常會將AI資料放在大資料分析平台、例如HDFS、Blob或S3儲存設備、以及GPFS等HPC平台。本白皮書提供使用NetApp XCP和NIPAM將巨量資料分析資料和HPC資料移轉至AI的準則。我們也會討論將資料從Big Data和HPC移轉至AI的商業效益。</block>
  <block id="9895310afc8a3755fef2e679c38f32f8" category="section-title">概念與元件</block>
  <block id="8ba5fcae463371ff85de74be48ced059" category="section-title">Big Data分析儲存設備</block>
  <block id="b5b25f8714075ee7aa7cae37cabc6e77" category="paragraph">Big Data分析是HDFS的主要儲存供應商。客戶通常使用Hadoop相容的檔案系統（HCFS）、例如Windows Azure Blob Storage、MapR檔案系統（MapR-FS）和S3物件儲存設備。</block>
  <block id="201dde15c75147909c8154fe3e727aed" category="section-title">通用平行檔案系統</block>
  <block id="432f31a1b9dc5a8ef1f048ea3f4f98c8" category="paragraph">IBM的GPFS是企業級檔案系統、可取代HDFS。GPFS可讓應用程式靈活決定區塊大小和複寫配置、以提供良好的效能和效率。</block>
  <block id="2aff401779cc49866458a642f15c0181" category="inline-link">TR-4382：NetApp就地分析模組。</block>
  <block id="ae1165a7ed0006d2dae65ea849898810" category="paragraph">NetApp就地分析模組（NIPAM）是Hadoop叢集存取NFS資料的驅動程式。它有四個元件：連線集區、NFS輸入串流、檔案處理快取和NFS輸出串流。如需詳細資訊、請參閱<block ref="aedae5b2590b798973be1ab298f44ab7" category="inline-link-rx"></block></block>
  <block id="0be6a753178a606f6e24a10fde5ec644" category="section-title">Hadoop分散式複本</block>
  <block id="3cc73009b533164939781f9f6a4a1aa0" category="paragraph">Hadoop分散式複製（DistCp）是一種分散式複製工具、用於大型叢集間和叢集內的處理工作。此工具使用MapReduce進行資料發佈、錯誤處理及報告。它會展開檔案和目錄清單、並輸入它們來對應工作、以便從來源清單複製資料。下圖顯示HDFS和非HDFS的DistCp作業。</block>
  <block id="1a76b3e0f1199267d461c961d30d07a5" category="paragraph"><block ref="1a76b3e0f1199267d461c961d30d07a5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a8f54af1bdcb54a020503d81bc3b2114" category="paragraph">Hadoop DistCp可在兩個HDFS系統之間移動資料、而無需使用額外的驅動程式。NetApp為非HDFS系統提供驅動程式。對於NFS目的地、NIPAM提供驅動程式、可複製Hadoop DistCp在複製資料時用於與NFS目的地通訊的資料。</block>
  <block id="1a4c7c9b6e3157ccd0101fd0836c0bfc" category="section-title">NetApp Cloud Volumes Service</block>
  <block id="05fc55cae9e8b2a7fb40e978e4971707" category="paragraph">NetApp Cloud Volumes Service 解決方案是雲端原生檔案服務、效能極佳。這項服務可快速將資源上下轉動、並使用NetApp功能來提高生產力並縮短員工停機時間、藉此協助客戶加速上市時間。此產品可減少整體資料中心佔用空間、減少使用原生公有雲儲存設備的成本、因此、此產品是災難恢復與雲端備份的理想替代方案。Cloud Volumes Service</block>
  <block id="6efa8f47d1a76af77ce311b436e4dca9" category="section-title">NetApp XCP</block>
  <block id="a12ce47d330a9ea070b4fd322ca5f890" category="paragraph">NetApp XCP是用戶端軟體、可快速且可靠地進行NetApp與NetApp之間的資料移轉。此工具旨在將大量非結構化NAS資料從任何NAS系統複製到NetApp儲存控制器。XCP移轉工具使用多核心、多通道I/O串流引擎、可平行處理許多要求、例如資料移轉、檔案或目錄清單、以及空間報告。這是預設的NetApp資料移轉工具。您可以使用XCP將資料從Hadoop叢集和HPC複製到NetApp NFS儲存設備。下圖顯示使用XCP從Hadoop和HPC叢集傳輸到NetApp NFS磁碟區的資料。</block>
  <block id="cd7e68aa30250a331c260fee49ff230e" category="paragraph"><block ref="cd7e68aa30250a331c260fee49ff230e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="dc188738e6cc2e9f8314e1b95f18ebfd" category="section-title">NetApp Cloud Sync</block>
  <block id="1bce96270b79327e5daf4c0745d66023" category="paragraph">NetApp Cloud Sync 支援混合式資料複寫軟體即服務、可在內部部署儲存設備與雲端儲存設備之間順暢安全地傳輸及同步NFS、S3與CIFS資料。此軟體可用於資料移轉、歸檔、協同作業、分析等作業。資料傳輸完成後Cloud Sync 、Syncs地 會持續同步來源和目的地之間的資料。接下來、它會傳輸差異。它也能保護您自己網路、雲端或內部部署中的資料安全。本軟體以隨用隨付模式為基礎、提供具成本效益的解決方案、並提供監控與報告功能、方便您傳輸資料。</block>
  <block id="cbba30a09e75669ecb5b3b2d83a25284" category="inline-link-macro">下一步：客戶挑戰。</block>
  <block id="63aa417c654afafebdbdfcaf7a13c8b6" category="paragraph"><block ref="63aa417c654afafebdbdfcaf7a13c8b6" category="inline-link-macro-rx"></block></block>
  <block id="fa7dcae8e4f7d8ecc191c3ce8547a53a" category="summary">此使用案例與負責為客戶的Big Data分析資料提供多雲端連線的雲端服務合作夥伴有關。</block>
  <block id="2c8eccdfa6390b1d09b2527f7d7d2cc5" category="inline-link-macro">上一篇：使用案例3：在現有Hadoop資料上啟用DevTest。</block>
  <block id="fda5cc5b496f5f7aa6de18740227bc15" category="paragraph"><block ref="fda5cc5b496f5f7aa6de18740227bc15" category="inline-link-macro-rx"></block></block>
  <block id="3cec8f6cf1ce867e7f73dd5132b7fbf3" category="paragraph">在此案例中、從不同來源收到的AWS IoT資料會儲存在NPS的中央位置。NPS儲存設備連接至AWS和Azure中的Spark/Hadoop叢集、可讓在多個雲端上執行的Big Data分析應用程式存取相同的資料。</block>
  <block id="bed6436414550585ccb4ac4c67a449a3" category="list-text">客戶想要使用多個雲端在相同的資料上執行分析工作。</block>
  <block id="6af3e1f448b2a56e9bd0fbbd43b31bc8" category="list-text">必須透過不同的感應器和集線器、從內部部署和雲端等不同來源接收資料。</block>
  <block id="e3c7f1ced05166adfc90c26337389e3e" category="list-text">解決方案必須有效率且具成本效益。</block>
  <block id="b320f1b1ab6d0a21e40ee3d444669645" category="list-text">主要挑戰是建置具成本效益且有效率的解決方案、在內部部署和不同雲端之間提供混合式分析服務。</block>
  <block id="0d4b3cfa555ff36cd92fb4e36fb69fbf" category="paragraph">此影像說明資料保護與多雲端連線解決方案。</block>
  <block id="faaf8e6278dc7a68fd1dd98dfe7f525a" category="paragraph"><block ref="faaf8e6278dc7a68fd1dd98dfe7f525a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="14c23633f1ab374f4c801386847ba2f8" category="paragraph">如上圖所示、感應器的資料會透過Kafka串流並擷取至AWS Spark叢集。資料儲存在NPS中的NFS共用區、NPS位於Equinix資料中心內的雲端供應商外部。由於NetApp NPS分別透過Direct Connect和Express Route連線連線至Amazon AWS和Microsoft Azure、因此客戶可以利用就地分析模組、從Amazon和AWS分析叢集存取資料。這種方法可解決跨多個大型擴充系統進行雲端分析的問題。</block>
  <block id="4089db0b43263b1f59a9c2db909edf6e" category="paragraph">因此ONTAP 、由於內部部署和NPS儲存設備都執行了一套功能完善的軟體、SnapMirror可以將NPS資料鏡射到內部部署叢集、在內部部署和多個雲端之間提供混合雲分析功能。</block>
  <block id="d446808fb03b5fae4f2e518cbc7d767f" category="paragraph">為了獲得最佳效能、NetApp通常建議使用多個網路介面和直接連線/快速路由、從雲端執行個體存取資料。</block>
  <block id="1ef541fe0fa79d247c0f1751629bb504" category="inline-link-macro">下一步：使用案例5：加速分析工作負載。</block>
  <block id="7dfabd0b120fe0403ff107668db4094a" category="paragraph"><block ref="7dfabd0b120fe0403ff107668db4094a" category="inline-link-macro-rx"></block></block>
  <block id="7747c0c1913888384e25d3a99b247187" category="summary">本文件提供將Kafka搭配NetApp儲存設備使用的最佳實務準則、包括Connent Kafka認證測試、效能結果、調校、Kafka連接器及自我重新平衡功能。</block>
  <block id="0c7a4422707cf3f11c73c66ea0d5d215" category="inline-link-macro">上一篇：規模調整。</block>
  <block id="f902aefc255b4eb6b31c283ad42816de" category="paragraph"><block ref="f902aefc255b4eb6b31c283ad42816de" category="inline-link-macro-rx"></block></block>
  <block id="d17096a4e247d84eba8c623e8df7bb38" category="paragraph">本文件提供將ConFluent階層式儲存設備與NetApp儲存設備搭配使用的最佳實務準則、包括驗證測試、階層式儲存效能結果、調校、ConFluent S3連接器、以及自我平衡功能。考慮到ILM原則、透過多項驗證效能測試的一致效能、以及業界標準的S3 API、NetApp StorageGRID 物件儲存設備是Confluent階層式儲存設備的最佳選擇。</block>
  <block id="06bf7cdac46014ea728ea73ea94f29ed" category="list-text">什麼是Apache Kafka</block>
  <block id="9411b66537bb375699af4bbf90c682d3" category="inline-link"><block ref="9411b66537bb375699af4bbf90c682d3" category="inline-link-rx"></block></block>
  <block id="a2b6e6fe4a206b71df85cc00f128ef0c" category="paragraph"><block ref="a2b6e6fe4a206b71df85cc00f128ef0c" category="inline-link-rx"></block></block>
  <block id="3cd8b5fe5ca94a9fdb5caaf96875ef7e" category="inline-link"><block ref="3cd8b5fe5ca94a9fdb5caaf96875ef7e" category="inline-link-rx"></block></block>
  <block id="6bfac05f3cc2c0adace9c385ef708fd9" category="paragraph"><block ref="6bfac05f3cc2c0adace9c385ef708fd9" category="inline-link-rx"></block></block>
  <block id="8f74869149421fffb3c139e146a83d10" category="list-text">S3-sink參數詳細資料</block>
  <block id="015ac233ccf3051a25abbbd7f56a39e9" category="inline-link"><block ref="015ac233ccf3051a25abbbd7f56a39e9" category="inline-link-rx"></block></block>
  <block id="26f8d9a8c1177c17a089f9a5c18628f4" category="paragraph"><block ref="26f8d9a8c1177c17a089f9a5c18628f4" category="inline-link-rx"></block></block>
  <block id="14bdc4a7a7b448924b5fe68d2a843973" category="inline-link"><block ref="14bdc4a7a7b448924b5fe68d2a843973" category="inline-link-rx"></block></block>
  <block id="c001bbfb62e45f662fe697182fa82240" category="paragraph"><block ref="c001bbfb62e45f662fe697182fa82240" category="inline-link-rx"></block></block>
  <block id="4f6236b021284cc85e87f1145d34e74b" category="list-text">在Confluent平台上實現無限儲存</block>
  <block id="43a9697f317e04e185bacb99ee76b7fb" category="inline-link"><block ref="43a9697f317e04e185bacb99ee76b7fb" category="inline-link-rx"></block></block>
  <block id="a156036c426dcb5d87fc97e5eacdc183" category="paragraph"><block ref="a156036c426dcb5d87fc97e5eacdc183" category="inline-link-rx"></block></block>
  <block id="a53b0667612f6e25b1d426569d860cac" category="list-text">一致的分層儲存設備：最佳實務做法與規模調整</block>
  <block id="a2e63818a36c6308885f4c0109e99b56" category="inline-link"><block ref="a2e63818a36c6308885f4c0109e99b56" category="inline-link-rx"></block></block>
  <block id="0c2ea24bb29ad03d1f43efe9a08c7da0" category="paragraph"><block ref="0c2ea24bb29ad03d1f43efe9a08c7da0" category="inline-link-rx"></block></block>
  <block id="ee764f7614a20c6500a54f1abc769567" category="list-text">適用於ConFluent Platform的Amazon S3接收器連接器</block>
  <block id="e1ca3ac3d812689b98c4cf79bf597e4b" category="inline-link"><block ref="e1ca3ac3d812689b98c4cf79bf597e4b" category="inline-link-rx"></block></block>
  <block id="ca80d8d3004f0fce6bc195b6b43ccaeb" category="paragraph"><block ref="ca80d8d3004f0fce6bc195b6b43ccaeb" category="inline-link-rx"></block></block>
  <block id="5cbad2383ea03d52c73feba910ccb4a9" category="list-text">Kafka尺寸</block>
  <block id="7a8c563c1b96991ca597759bb447eb65" category="inline-link"><block ref="7a8c563c1b96991ca597759bb447eb65" category="inline-link-rx"></block></block>
  <block id="a2d2c0cad325abb54e33c688d54ce125" category="paragraph"><block ref="a2d2c0cad325abb54e33c688d54ce125" category="inline-link-rx"></block></block>
  <block id="989772944133ad8cd766bbdfe91cb365" category="list-text">規模調整StorageGRID</block>
  <block id="a81a58c7d51f312f40511a68d8e0d40c" category="inline-link"><block ref="a81a58c7d51f312f40511a68d8e0d40c" category="inline-link-rx"></block></block>
  <block id="1e9dcc0360cfc46d71d6e0c3effa6379" category="paragraph"><block ref="1e9dcc0360cfc46d71d6e0c3effa6379" category="inline-link-rx"></block></block>
  <block id="5f750332aea13a67a316c81c03a35752" category="list-text">Kafka使用案例</block>
  <block id="c97a8ddb222f78361f59ac027aa08c70" category="inline-link"><block ref="c97a8ddb222f78361f59ac027aa08c70" category="inline-link-rx"></block></block>
  <block id="58f7c8dd51e4199a8f2caf79409bada1" category="paragraph"><block ref="58f7c8dd51e4199a8f2caf79409bada1" category="inline-link-rx"></block></block>
  <block id="f51439b4d8807e7a73cb24b6f11e16e2" category="list-text">在conf最 合體平台6.0中實現卡夫卡叢集的自我平衡</block>
  <block id="866d1bcab8bac705e171a01e8fe2e717" category="inline-link"><block ref="866d1bcab8bac705e171a01e8fe2e717" category="inline-link-rx"></block></block>
  <block id="b6251e175649ca2d0108725f99fc225f" category="paragraph"><block ref="b6251e175649ca2d0108725f99fc225f" category="inline-link-rx"></block></block>
  <block id="aa3c3c6442ddbda62fd0694691e34122" category="inline-link"><block ref="aa3c3c6442ddbda62fd0694691e34122" category="inline-link-rx"></block></block>
  <block id="f7365ec0514100387d644210374998c1" category="paragraph"><block ref="f7365ec0514100387d644210374998c1" category="inline-link-rx"></block></block>
  <block id="a5091aedd97daf7c5a5297fa5d73a469" category="cell">2021年12月</block>
  <block id="35f99fa939062899487754f637210a25" category="summary">本節涵蓋用於Conflent認證的硬體與軟體。此資訊適用於透過NetApp儲存設備進行的Kafka部署。</block>
  <block id="92672a7a2b909945fbfa9f44f057c7a1" category="doc">規模調整</block>
  <block id="5ffdfbbb428796f516e072e038d107b0" category="inline-link-macro">上一篇：最佳實務準則。</block>
  <block id="49575973ec85e64724d2a45d401f32b3" category="paragraph"><block ref="49575973ec85e64724d2a45d401f32b3" category="inline-link-macro-rx"></block></block>
  <block id="faa5cf9412df3e7266db15b6f1a5070d" category="paragraph">卡夫卡的規模調整可透過四種組態模式執行：簡單、精細、反轉和分割區。</block>
  <block id="1fbb1e3943c2c6c560247ac8f9289780" category="section-title">簡單易用</block>
  <block id="580c6adb23970405f45409b06eb3ba39" category="paragraph">簡易模式適用於首次使用Apache Kafka的使用者或早期狀態使用案例。在此模式下、您需要提供處理量MBps、讀取扇出、保留和資源使用率百分比（預設為60%）等需求。您也可以進入內部部署（裸機、VMware、Kubernetes或OpenStack）或雲端等環境。根據這項資訊、Kafka叢集的規模可提供代理程式、zookeeper、Apache Kafka Connect工作人員、架構登錄、REST Proxy、ksqlDB及Confluent控制中心所需的伺服器數量。</block>
  <block id="ae20e37661048a8d6cd37c4dbacac985" category="paragraph">對於階層式儲存設備、請考慮使用精細的組態模式來調整Kafka叢集的規模。精細模式適用於經驗豐富的Apache Kafka使用者或定義明確的使用案例。本節說明生產商、串流處理器及使用者的規模調整。</block>
  <block id="40d2d6f5a1dfde1a3b5ba2a70377fa0f" category="section-title">製造商</block>
  <block id="05318fa579b7e76a65531afd94250ed3" category="paragraph">若要說明Apache Kafka的生產商（例如原生用戶端、REST Proxy或Kafka連接器）、請提供下列資訊：</block>
  <block id="91be21e4458c6c8f0d6f61c307faf194" category="list-text">*名稱* Spark.</block>
  <block id="0ae6d6b48753e01bf1ae73bb86ee6276" category="list-text">*監製者類型。*應用程式或服務、Proxy（REST、MQTT、其他）、以及現有資料庫（RDBMS、NoSQL、其他）。您也可以選取「我不知道」。</block>
  <block id="3fd4bc385cb0a0f62ae4183f316ff707" category="list-text">*平均處理量。*以每秒事件為單位（例如1、000、000）。</block>
  <block id="14ec4c2c8c9edf10c6aeefaf27f1f713" category="list-text">*尖峰處理量。*每秒事件數（例如400萬）。</block>
  <block id="b4672ddde5cb9c30e0e682084a411123" category="list-text">*平均訊息大小*（以位元組為單位）、未壓縮（最多1MB；例如1000）。</block>
  <block id="dd6d45bc2ad71619bde2260f1776e9b2" category="list-text">*訊息格式。*選項包括Avro、Json、傳輸協定緩衝區、二進位、文字、 「我不知道」和其他。</block>
  <block id="b26274df5f3f47d18e40ee961fa8c5b5" category="list-text">*複寫係數*選項為1、2、3（一致推薦）、4、5、 或6.</block>
  <block id="6320400b940be83033b0ce5ea91a3799" category="list-text">*保留時間*一天（例如）。您想要將資料儲存在Apache Kafka多長時間？在無限時間內輸入-1及任何單位。此計算機假設保留時間為10年、以供無限期保留。</block>
  <block id="eb46bfc819d70448200241a8f1efec72" category="list-text">選取「啟用分層儲存以減少代理計數並允許無限儲存？」核取方塊。</block>
  <block id="d66063041931961a7565ee71f7a7dd67" category="list-text">啟用階層式儲存設備時、保留欄位會控制儲存在本機代理程式上的常用資料集。歸檔保留欄位可控制資料儲存在歸檔物件儲存區的時間長度。</block>
  <block id="13bc2bec2c4039bad2d63b4ccf9611d4" category="list-text">*歸檔儲存保留*一年（例如）。您希望將資料儲存在歸檔儲存設備中多久？在無限期間內輸入-1及任何單位。此計算機假設保留10年、以便無限期保留。</block>
  <block id="841d5d94c8cc645b8a35f0b58d3d5c6d" category="list-text">*成長倍率* 1（例如）。如果此參數的值是根據目前處理量而定、請將其設為1。若要根據額外成長來調整規模、請將此參數設為成長倍頻。</block>
  <block id="5f044353fac0e72b8b68a9608cdfea2d" category="list-text">*產生者執行個體數。* 10（例如）。將執行多少個生產商執行個體？此輸入是將CPU負載併入規模計算所需的。空白值表示CPU負載未納入計算。</block>
  <block id="585e13820ff765aec3c094fbb66fb358" category="paragraph">根據此範例輸入、規模調整對生產商有下列影響：</block>
  <block id="5504abde59477d70ee34b7c970af3ed2" category="list-text">未壓縮位元組的平均處理量：1Gbps。未壓縮位元組的尖峰處理量：4Gbps。以壓縮位元組為單位的平均處理量：400Mbps。尖峰處理量（壓縮位元組）：1.6GBps。這是根據預設的60%壓縮率（您可以變更此值）。</block>
  <block id="fe685c6164262035f3c0407347a3d38d" category="inline-link-macro"><block ref="fe685c6164262035f3c0407347a3d38d" category="inline-link-rx"></block></block>
  <block id="d6730cec7284a7856088b8a49563caef" category="list-text">所需的總代理熱集儲存容量：31、104 TB、包括複寫、壓縮。所需的非代理歸檔儲存設備總數：378、432TB、已壓縮。使用 <block ref="e132e1b42fc350f637835189d38d8bdf" category="inline-link-macro-rx"></block> 以利規模調整。StorageGRID</block>
  <block id="65541f1c1daa682e605090dda4f5581b" category="paragraph">串流處理器必須說明其應用程式或服務、這些應用程式或服務會耗用Apache Kafka的資料、並將資料傳回Apache Kafka。在大多數情況下、這些都是以ksqlDB或Kafka串流建置而成。</block>
  <block id="47bf3a39e68a8e88ad9fff34b58afc0a" category="list-text">*名稱* Spark streamer。</block>
  <block id="23f4b8037342e7943a6f549d7868281e" category="list-text">*處理時間。*此處理器處理單一訊息需要多久時間？</block>
  <block id="0d4a13e2166384d926575e139fe3c68c" category="list-text">1毫秒（簡單、無狀態轉換）[範例]、10毫秒（記憶體內有狀態作業）。</block>
  <block id="a1d2bac0d8ed78c0ce6bb941328bc680" category="list-text">100ms（狀態網路或磁碟作業）、1000ms（第三方REST通話）。</block>
  <block id="8b74c5757b588cdfea993715c0ce3b58" category="list-text">我已對此參數進行基準測試、並確切瞭解所需時間。</block>
  <block id="df8cd4e4488e4a8198132e46fc2beec9" category="list-text">*輸出保留。* 1天（範例）。串流處理器會將輸出傳回Apache Kafka。您希望此輸出資料在Apache Kafka中儲存多久？在無限期間內輸入-1及任何單位。</block>
  <block id="108b072da5b6fab64d55b4f1d69690d4" category="list-text">勾選「啟用分層儲存以減少Broker Count並允許無限儲存？」核取方塊。</block>
  <block id="c4462b25651379530a9eea9b2b478755" category="list-text">*歸檔儲存保留* 1年（例如）。您希望將資料儲存在歸檔儲存設備中多久？在無限期間內輸入-1及任何單位。此計算機假設保留10年、以便無限期保留。</block>
  <block id="6507507d73f33bc3d1077b4454d9d3dd" category="list-text">*輸出傳遞百分比。* 100（例如）。串流處理器會將輸出傳回Apache Kafka。傳入處理量的多少百分比會輸出回Apache Kafka？例如、如果傳入處理量為20Mbps、而此值為10、則輸出處理量將為2Mbps。</block>
  <block id="d1a6a4732f959b58cd8c77edcf10b31b" category="list-text">從哪些應用程式讀取？選取「Spark」，這是在生產廠商類型規模調整中使用的名稱。根據上述輸入、您可以預期調整大小對串流處理程序執行個體和主題分割區預估的影響如下：</block>
  <block id="bbc0ea8f6decb55572d395615cd02a3b" category="list-text">此串流處理器應用程式需要下列數目的執行個體。傳入的主題也可能需要這麼多分割區。請聯絡Conflent以確認此參數。</block>
  <block id="0a206846c82be8eef261c4c686599582" category="list-text">平均處理量為1、000、沒有成長倍頻</block>
  <block id="b032c5d1deed2d1b75c4f8019b5155e3" category="list-text">4、000個尖峰處理量、無成長倍頻</block>
  <block id="5cbe73cfdf68ec8b04b4506b237d8af9" category="list-text">平均處理量1、000個、使用成長倍頻</block>
  <block id="f51843d6cdec756114fb7f153ab79f46" category="list-text">4、000個尖峰處理量、使用成長倍頻</block>
  <block id="1ebe06b1421d14bafea4a4d9a545d956" category="section-title">消費者</block>
  <block id="4d2351cfaa069bdffc56cd73486deacb" category="paragraph">請描述您的應用程式或服務、這些應用程式或服務會耗用Apache Kafka的資料、而不會產生回Apache Kafka；例如、原生用戶端或Kafka Connector。</block>
  <block id="21af20352468dedb23eb4b6fa7362e32" category="list-text">*名稱* Spark消費者。</block>
  <block id="9e3b25cc5e8806da459be0a41ecfce10" category="list-text">*處理時間。*此消費者處理單一訊息所需的時間？</block>
  <block id="39ad97382609f7463897aa49624f20d4" category="list-text">1毫秒（例如、記錄等簡單且無狀態的工作）</block>
  <block id="3d74518bdd6cfa27a42a16145872cc59" category="list-text">10ms（快速寫入資料存放區）</block>
  <block id="9f44c2afdbd671220f00e45494646aa6" category="list-text">100毫秒（緩慢寫入資料存放區）</block>
  <block id="1284667da9611e925a39eee76e44e565" category="list-text">1000毫秒（第三方REST通話）</block>
  <block id="fff6a4b96ed9fb45c7eab95aeb8eb684" category="list-text">已知持續時間的其他基準程序。</block>
  <block id="6490501e3342b6bea241de7194a60bba" category="list-text">*使用者類型。*應用程式、Proxy或接收到現有的資料存放區（RDBMS、NoSQL、其他）。</block>
  <block id="23a444b3f78a63619b03bea8301f4edb" category="list-text">從哪些應用程式讀取？將此參數與先前決定的監製者和串流規模連結起來。</block>
  <block id="2feb2ea8e1991424930eda0c7cdeb393" category="paragraph">根據上述輸入、您必須決定使用者執行個體和主題分割預估的規模。使用者應用程式需要下列執行個體數目。</block>
  <block id="90e1e02e655ca52c281e9b5ac01ca245" category="list-text">平均處理量為2、000、沒有成長倍頻</block>
  <block id="228e2cc32e2eedd0cfaf646cb26ad562" category="list-text">8000個尖峰處理量、無成長倍頻</block>
  <block id="622c202fad5851b4699d8679ec9d3ce4" category="list-text">平均處理量為2、000、包括成長倍率</block>
  <block id="da18372dd9e384fd5a4fd97fa6bdb872" category="list-text">8000個尖峰處理量、包括成長倍頻</block>
  <block id="5992882fb5e2f68b36cbf47d5ffc182a" category="paragraph">傳入的主題也可能需要這個數目的分割區。請聯絡Conflent以確認。</block>
  <block id="152f9b32fca1ce5e9a3fc34e8c9e69c0" category="paragraph">除了對生產商、串流處理器和消費者的要求之外、您還必須提供下列額外要求：</block>
  <block id="aea71dcdb94c855eb0655cb615bdcfe2" category="list-text">*重建時間*例如4小時。如果Apache Kafka Broker主機故障、資料遺失、而且配置了新主機來更換故障主機、那麼這台新主機重建的速度必須有多快？如果值不明、請將此參數留白。</block>
  <block id="3bc49d2594090d023892da5211f6f7a4" category="list-text">*資源使用率目標（百分比）。*例如60。您希望主機在平均處理量期間的使用率為何？除非您使用Conflent自我平衡叢集、否則Conflent建議使用率為60%、在此情況下、使用率可能會較高。</block>
  <block id="9fa691f61c91ce32c6fb2dcc53a9d09c" category="section-title">描述您的環境</block>
  <block id="7e431f8959ae4a79bcfc6e55728ead5a" category="list-text">*您的叢集將在哪些環境中執行？* Amazon Web Services、Microsoft Azure、Google雲端平台、內部部署裸機、內部部署VMware、 內部部署OpenStack或內部部署Kubernates？</block>
  <block id="34946a533795a145eb4c6d66ee12e56b" category="list-text">*主機詳細資料。*核心數：48（例如）、網路卡類型（10GbE、40GbE、16GbE、1GbE或其他類型）。</block>
  <block id="a50ad1bade1c614aa4ceaa766944b0e1" category="list-text">*儲存磁碟區。*主機：12（例如）。每個主機支援多少個硬碟機或SSD？Conflent建議每個主機使用12個硬碟機。</block>
  <block id="bf903fced4e4e598ede3fb2a9dd5427a" category="list-text">*儲存容量/磁碟區（單位：GB）。* 1000（例如）。單一磁碟區可儲存多少GB儲存空間？Connent建議使用1TB磁碟。</block>
  <block id="85a140efdb29007799d7d5e7c16691d5" category="list-text">*儲存組態。*如何設定儲存磁碟區？Conflent建議使用RAID10、以充分發揮所有Conflent功能的優勢。JBOD、SAN、RAID 1、RAID 0、RAID 5、 也支援其他類型。</block>
  <block id="237d14e07eccd0d6535cf69ee4507805" category="list-text">*單一Volume處理量（Mbps）。* 125（例如）。單一儲存磁碟區每秒讀取或寫入MB的速度有多快？Confluent建議使用標準硬碟、通常處理量為125MBps。</block>
  <block id="57499d42a69c4ed9f1e7994a0bad7e9f" category="list-text">*記憶體容量（GB）。* 64（例如）。</block>
  <block id="9db0153ae987c66e360fc7027c7819c8" category="paragraph">確定環境變數之後、請選取「調整叢集大小」。根據上述範例參數、我們針對Connent Kafka決定了下列規模：</block>
  <block id="fc644e6661f2118a6b0733f85424f3fa" category="list-text">* Apache Kafka.* Broker數量：22。您的叢集需要儲存設備。考慮啟用階層式儲存設備、以減少主機數量、並允許無限儲存。</block>
  <block id="689921f4781dfd392aedc0eac4116284" category="list-text">* Apache Zookeeper。*計數：5；Apache Kafka Connect工作人員：數：2；架構登錄：數：2；REST Proxy：數：2；ksqlDB：數：2；ConFluent Control Center：數：1。</block>
  <block id="df1673ed6a212d182bedbf3a4bdc79a7" category="paragraph">不需考量使用案例、即可針對平台團隊使用反轉模式。使用分割模式來計算單一主題所需的分割區數量。請參閱<block ref="d971ea0f6ada2eeb1a618f5145544e00" category="inline-link-rx"></block> 以反轉和分割模式為基礎進行規模調整。</block>
  <block id="4127d3e6d7b548701a1cf83ef1d7a922" category="paragraph"><block ref="4127d3e6d7b548701a1cf83ef1d7a922" category="inline-link-macro-rx"></block></block>
  <block id="16d17bd11d09e7ab044f85f158c4ee5c" category="doc">解決方案架構詳細資料</block>
  <block id="40328f8a932f8ae1964c73c1f2eca76b" category="paragraph"><block ref="40328f8a932f8ae1964c73c1f2eca76b" category="inline-link-macro-rx"></block></block>
  <block id="096d10f0062b97cca959118975fa506a" category="paragraph">本節涵蓋用於ConFluent驗證的硬體與軟體。此資訊適用於透過NetApp儲存設備進行的ConFluent Platform部署。下表涵蓋已測試的解決方案架構和基礎元件。</block>
  <block id="7e897f23ed71aef1c0a8acf1ae54e9e4" category="cell">解決方案元件</block>
  <block id="3ec365dd533ddb7ef3d1c111186ce872" category="cell">詳細資料</block>
  <block id="cd6b218ceb186591718799f941a99fd0" category="cell">Connent Kafka 6.2版</block>
  <block id="8a1732b4cde6f106471a0e6dbb186bed" category="list-text">三位Zookkeepers</block>
  <block id="fde5b2c6fa48108e02c6a3587ce451b4" category="list-text">五個代理伺服器</block>
  <block id="cd2e7d4aa00a79a9a92980e984ec50d7" category="list-text">五種工具伺服器</block>
  <block id="e9617e461b2b6597095fc0d3c26666c5" category="list-text">單一Grafana</block>
  <block id="5d96f98a638cf23ac2f3dfe513198e9a" category="list-text">單一控制中心</block>
  <block id="a2a44121136232f1f2dcfb5e5ce5cf22" category="cell">Linux（Ubuntu 18.04）</block>
  <block id="a0681d05c825936a4afc9d89f305934c" category="cell">所有伺服器</block>
  <block id="cc3bec1f9974aef63e75985fed9c343e" category="cell">適用於StorageGRID 階層式儲存的NetApp解決方案</block>
  <block id="2d4f4568ad652ff08727bc044f1373cc" category="list-text">軟件StorageGRID</block>
  <block id="4ebcee22d98fbad50cf1c7e108dd9541" category="list-text">1個SG1000（負載平衡器）</block>
  <block id="a51cb0f5fd275943954c8d687912e458" category="list-text">4個SGF6024</block>
  <block id="83cc5cf13ad44caf6aa94887d189cd3a" category="list-text">4 x 24 x 800 SSD</block>
  <block id="7ccdc7c1d04d9b48b4b016417504685b" category="list-text">S3傳輸協定</block>
  <block id="e185a6ccd16ce2c64c7e948bbc46f45a" category="list-text">4 x 100GbE（代理StorageGRID 程式與實例之間的網路連線）</block>
  <block id="5ecafb7b42f662438e20bd643feb79c9" category="cell">15部Fujitsu PRIMERGY RX2540伺服器</block>
  <block id="cdb0680ecb0e0ed91d8293e41334b379" category="cell">每個配備：* 2個CPU、總共16個實體核心* Intel Xeon * 256GB實體記憶體* 100GbE雙埠</block>
  <block id="b320345f652aacf7148c76dff24e2f68" category="inline-link-macro">下一步：技術總覽。</block>
  <block id="c88aa001e26103d0ebe4894b3c9ab9f5" category="paragraph"><block ref="c88aa001e26103d0ebe4894b3c9ab9f5" category="inline-link-macro-rx"></block></block>
  <block id="7e936a7640e03dad09e0b76d68277d56" category="summary">我們利用NetApp StorageGRID 的功能進行階層式儲存測試、以三到四個節點進行生產和消費性工作負載的測試。</block>
  <block id="3c2fe55c24192bbec6d6d3aede570213" category="doc">可擴充性的效能測試</block>
  <block id="ef1ee9d1f1e9874aca751251bbce31bf" category="inline-link-macro">上一篇：Confluent驗證。</block>
  <block id="6d08115c54837de983d3ddc9dcd8f038" category="paragraph"><block ref="6d08115c54837de983d3ddc9dcd8f038" category="inline-link-macro-rx"></block></block>
  <block id="7d962aad50ee059cfbd23de23ab5a916" category="paragraph">我們利用NetApp StorageGRID 的支援功能、針對生產與消費型工作負載執行三到四個節點的階層式儲存測試。根據我們的測試、完成時間和效能結果與StorageGRID 各個節點的數量直接成比例。此功能需要至少三個節點。StorageGRID</block>
  <block id="4e6097966a711c7acf606365a2925b64" category="list-text">當儲存節點數量增加時、完成產品和消費者作業的時間會線性縮短。</block>
  <block id="544baf869b5baa766e8839cd33697872" category="paragraph"><block ref="544baf869b5baa766e8839cd33697872" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d098e780afaaad433dd6982bbc5af988" category="list-text">S3擷取作業的效能會根據StorageGRID 各個節點的數量而線性提升。支援多達200個StorgeGRID節點。StorageGRID</block>
  <block id="2cd319a657a7fccb8f747dab6f102dcc" category="paragraph"><block ref="2cd319a657a7fccb8f747dab6f102dcc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2c8105fbc386e60a03fe0cf5390eb0ce" category="inline-link-macro">下一步：Connent S3連接器。</block>
  <block id="40acd085e3c223b35d81906b1c904f46" category="paragraph"><block ref="40acd085e3c223b35d81906b1c904f46" category="inline-link-macro-rx"></block></block>
  <block id="5e524f38cae9a99f3ebbaf012df2894e" category="summary">採用NetApp技術的資料架構可簡化並整合雲端與內部部署環境的資料管理、加速數位轉型。採用NetApp技術的資料架構提供一致且整合的資料管理服務與應用程式（建置區塊）、可提供資料可見度與洞見、資料存取與控制、以及資料保護與安全性。</block>
  <block id="3c2db15f0fee10b08496ec1701f104d8" category="doc">採用NetApp技術的Data Fabric、適用於Big Data架構</block>
  <block id="32e0d2b797e6706a73e8146d103572c7" category="inline-link-macro">上一篇：解決方案總覽。</block>
  <block id="45af7a946606481f9e2b5f0434aa0484" category="paragraph"><block ref="45af7a946606481f9e2b5f0434aa0484" category="inline-link-macro-rx"></block></block>
  <block id="981d357acc471e35d8d150f861ff1828" category="paragraph">採用NetApp技術的資料架構可簡化並整合雲端與內部部署環境的資料管理、加速數位轉型。</block>
  <block id="d5a64464c1e1f9d8be4cafc8b2325fa6" category="paragraph">採用NetApp技術的資料架構提供一致且整合的資料管理服務與應用程式（建置區塊）、可提供資料可見度與洞見、資料存取與控制、以及資料保護與安全性、如下圖所示。</block>
  <block id="22313f8779f9135c9b421ac0d4b320fb" category="paragraph"><block ref="22313f8779f9135c9b421ac0d4b320fb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5083bdadc0fe82e6398670e5dcc6bff9" category="section-title">備受肯定的Data Fabric客戶使用案例</block>
  <block id="3c1223e53bc7b972a018d3e2597e0bfd" category="paragraph">採用NetApp技術的資料架構可為客戶提供下列九個獲證實的使用案例：</block>
  <block id="a6800f5cacde75e6f1cfb931a6f2dba6" category="list-text">加速分析工作負載</block>
  <block id="5b0fa9517345824f19ceddd9d0cd39de" category="list-text">加速DevOps轉型</block>
  <block id="90ed50a34505fc6883bd65c36ed8b810" category="list-text">建置雲端託管基礎架構</block>
  <block id="f3933541659deec9d28aa584238f0468" category="list-text">整合雲端資料服務</block>
  <block id="d70909396aef5247a5a1b17dd15cf43d" category="list-text">保護及保護資料安全</block>
  <block id="7af5a6e7f241b8d284656f20880db36f" category="list-text">最佳化非結構化資料</block>
  <block id="2c63452d476328fa43a39c00bef366f1" category="list-text">提高資料中心效率</block>
  <block id="0f72ba4c2b371e4f9f47e7d8c61468a5" category="list-text">提供資料洞見與控管能力</block>
  <block id="0da79db0a9974fc0002f744165467752" category="list-text">簡化及自動化</block>
  <block id="5d5b69e7e19270db49a42eb4e96be2ee" category="paragraph">本文件涵蓋九種使用案例中的兩種（連同其解決方案）：</block>
  <block id="7adb8b5c573e74594feeb2f74e1ffc96" category="section-title">NetApp NFS直接存取</block>
  <block id="233060aa11b5715000c000e94576cca9" category="paragraph">NetApp NFS直接存取（先前稱為NetApp就地分析模組）（如下圖所示）可讓客戶在現有或新的NFSv3或NFSv4資料上執行巨量資料分析工作、而無需移動或複製資料。它可防止多個資料複本、並免除將資料與來源同步的需求。例如、在金融產業中、資料從一個地方搬移到另一個地方、必須符合法律義務、這不是一項容易的任務。在此案例中、NetApp NFS直接存取會從原始位置分析財務資料。另一項主要優點是使用NetApp NFS直接存取功能、使用原生Hadoop命令來簡化Hadoop資料的保護、並利用NetApp豐富的資料管理產品組合來啟用資料保護工作流程。</block>
  <block id="96e1e6bac181280c42ba5de56a8ef4c2" category="paragraph"><block ref="96e1e6bac181280c42ba5de56a8ef4c2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="aa47c768dc0f007b4606d394be4330c3" category="paragraph">NetApp NFS直接存取可為Hadoop / Spark叢集提供兩種部署選項：</block>
  <block id="cc7514a5b2b35641026a81211ae7fe9a" category="list-text">根據預設、Hadoop / Spark叢集會使用Hadoop分散式檔案系統（HDFS）進行資料儲存、並使用預設的檔案系統。NetApp NFS直接存取可將預設的HDFS取代為預設的NFS儲存系統、以便直接分析NFS資料。</block>
  <block id="5a5dace50e75999dec9323da42fe5410" category="list-text">在另一個部署選項中、NetApp NFS直接存取可在單一Hadoop / Spark叢集中、將NFS設定為額外的儲存設備、以及HDFS。在這種情況下、客戶可以透過NFS匯出來共享資料、並從同一個叢集與HDFS資料一起存取。</block>
  <block id="933871f01596456078e75585ab9480ae" category="paragraph">使用NetApp NFS直接存取的主要效益包括：</block>
  <block id="bc3221e251e23e5ee9782e37b0337c38" category="list-text">從目前位置分析資料、避免將分析資料移至Hadoop基礎架構（例如HDFS）所需的時間與效能。</block>
  <block id="fe5efea0cd6733d158bfb04016f055f0" category="list-text">將複本數量從三個減少為一個。</block>
  <block id="21b00f92397ca3c72f6407dd3a873e23" category="list-text">讓使用者能夠分離運算和儲存設備、以獨立擴充。</block>
  <block id="be7e2eb6e940a1e798db3abedc75b7a8" category="list-text">運用ONTAP 豐富的資料管理功能、提供企業資料保護功能。</block>
  <block id="acc50ec5f7ffe1b08ee357afcb502a0f" category="list-text">通過Hortonworks資料平台認證。</block>
  <block id="be5acbdc2ea462a8345ea92d4c42511c" category="list-text">實現混合式資料分析部署。</block>
  <block id="227afbdb4ab9214131d6ca5ca3df3cd6" category="list-text">運用動態多執行緒功能、縮短備份時間。</block>
  <block id="787364630dc10cfc2657bc82f289a9fb" category="section-title">巨量資料的建置區塊</block>
  <block id="7698deb733ad601844c58f0102d0470c" category="paragraph">採用NetApp技術的資料架構整合了資料管理服務與應用程式（建置區塊）、可用於資料存取、控制、保護及安全性、如下圖所示。</block>
  <block id="f0a67f0f8f389fb239ce107f693a7e68" category="paragraph"><block ref="f0a67f0f8f389fb239ce107f693a7e68" category="inline-image-macro-rx" type="image"></block></block>
  <block id="162f2b2249f4b8bda40b0c01043779b3" category="paragraph">上圖中的建置區塊包括：</block>
  <block id="e64f250539a531b81423d6f3f4729665" category="list-text">* NetApp NFS直接存取。*提供最新的Hadoop和Spark叢集、可直接存取NetApp NFS磁碟區、無需額外的軟體或驅動程式需求。</block>
  <block id="2867a490011894512662b9423698d0e0" category="list-text">* NetApp Cloud Volumes ONTAP 功能與雲端Volume Services。*軟體定義的連線儲存設備、以ONTAP Microsoft Azure NetApp Files Azure雲端服務中Amazon Web Services（AWS）或Sf2（anf）執行的功能為基礎。</block>
  <block id="5d382bdcedb0a9c7aa214b09e129e5e7" category="list-text">* NetApp SnapMirror技術*。在內部部署ONTAP 與不支援的Cloud或NPS執行個體之間提供資料保護功能。</block>
  <block id="e2d911047fad9851fae1d7c4e71b2fab" category="list-text">*雲端服務供應商。*這些供應商包括AWS、Microsoft Azure、Google Cloud和IBM Cloud。</block>
  <block id="486add91df5cb94a1fee5fccffe4f39b" category="list-text">* PaaS *雲端型分析服務、例如AWS中的Amazon Elastic MapReduce（EMR）和Databricks、以及Microsoft Azure HDInsight和Azure Databricks。</block>
  <block id="35848dde21e4a5f344385ead6dec9a43" category="inline-link-macro">下一步：Hadoop資料保護與NetApp。</block>
  <block id="149584f581a09d835c88f233c514412e" category="paragraph"><block ref="149584f581a09d835c88f233c514412e" category="inline-link-macro-rx"></block></block>
  <block id="600c9e3e31c7cdf2c69044801b9ea998" category="summary">本節提供ONTAP 使用NetApp XCP將MapR-FS資料移至支援NFS所需的詳細步驟。</block>
  <block id="6a848946dc9169e87668bb9f057c56c2" category="doc">從MapR-FS移轉ONTAP 到Sfnfs</block>
  <block id="59b0eb4059face89ab060ea59984c8a7" category="inline-link-macro">先前：GPFS到NFS -詳細步驟。</block>
  <block id="13f1dc977877024b0f36272f1af2b238" category="paragraph"><block ref="13f1dc977877024b0f36272f1af2b238" category="inline-link-macro-rx"></block></block>
  <block id="3362be4f8dc0d043bec6bb8bf22a565b" category="list-text">為每個MapR節點配置三個LUN、並賦予所有MapR節點的LUN擁有權。</block>
  <block id="a74eeec8d29cc5a609b980af2aee2fb3" category="list-text">在安裝期間、為MapR叢集磁碟選擇新增的LUN、以用於MapR-FS。</block>
  <block id="f7dc1a091cd04b392f9a99c5390b9ce2" category="inline-link">MapR 6.1文件</block>
  <block id="24cb5309ea8c5a7c3244adf133110ecf" category="list-text">根據安裝MapR叢集<block ref="a38d60fa0425a18b5925139ceca806ea" category="inline-link-rx"></block>。</block>
  <block id="7549eec0595c1177d1a3b1a8c556ea8e" category="list-text">使用MapReduce命令（例如「Hadoop Jar xxx」）檢查基本Hadoop作業。</block>
  <block id="455177bd981566b3ae1e0084e3381b11" category="list-text">將客戶資料保留在MapR-FS中。例如、我們使用Teragen在MapR-FS中產生約1 TB的樣本資料。</block>
  <block id="570bd2111387f5da50ad7d54e23e5fb2" category="list-text">將MapR-FS設定為NFS匯出。</block>
  <block id="4fe9587feb0e4de26dff3d33bbaf046e" category="list-text">停用所有MapR節點上的nLockmanager服務。</block>
  <block id="8c5d6c82648b5d5b2a4c82d33569b1c4" category="list-text">在所有MapR節點的「/opt/MapR/conf/exports」檔案中、從MapR-FS匯出特定資料夾。匯出子資料夾時、請勿以不同權限匯出父資料夾。</block>
  <block id="e78b84d9c1ff3b973293510503e86b95" category="list-text">重新整理MapR-FS NFS服務。</block>
  <block id="341009af7864703863b08f0bd1df43b5" category="list-text">將虛擬IP範圍指派給MapR叢集中的特定伺服器或一組伺服器。然後、MapR叢集會指派IP給特定伺服器、以供NFS資料存取。這些IP可實現高可用度、也就是說、如果某個伺服器或網路發生特定IP故障、IP範圍的下一個IP可用於NFS存取。</block>
  <block id="5165f49b44f610d03a79da336b53e8f2" category="admonition">如果您想要從所有的MapR節點提供NFS存取、則可以將一組虛擬IP指派給每個伺服器、並使用每個MapR節點的資源進行NFS資料存取。</block>
  <block id="fa6899b17d5e71a360316c355d34c8b3" category="paragraph"><block ref="fa6899b17d5e71a360316c355d34c8b3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8cb6de965ede92bf8bb036bb8fea6eba" category="paragraph"><block ref="8cb6de965ede92bf8bb036bb8fea6eba" category="inline-image-macro-rx" type="image"></block></block>
  <block id="031b138609c608ed553a74b2a1c439e1" category="paragraph"><block ref="031b138609c608ed553a74b2a1c439e1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="97532f358124e4f3087e522bb35f2cb8" category="list-text">檢查每個MapR節點上指派的虛擬IP、並將其用於NFS資料存取。</block>
  <block id="d1ed36990409b90ebe749d4e8ddab8b7" category="list-text">使用指派的虛擬IP來掛載NFS匯出的MapR-FS、以檢查NFS作業。不過、使用NetApp XCP進行資料傳輸時、不需要執行此步驟。</block>
  <block id="6288e9b84b4573721ff701d3bdc55fed" category="list-text">設定NetApp XCP、將資料從MapR-FS NFS閘道傳輸到ONTAP 靜態NFS。</block>
  <block id="47bcc9815ee0b47ea9de7729c9c727f7" category="list-text">設定XCP的目錄位置。</block>
  <block id="e125588061821db7957020ded3b976f0" category="list-text">將授權檔案複製到「/opt /NetApp/xFiles/XCP /」。</block>
  <block id="76725a579a117275c078f16fdbe1fd04" category="list-text">使用「XCP activate」命令啟動XCP。</block>
  <block id="07f3313db35fd32ada5426648ae5817d" category="list-text">檢查NFS匯出的來源。</block>
  <block id="7eefcefaba7483a2c7d6c71e934d0f28" category="list-text">使用XCP從多個來源IP和多個目的地IP ONTAP （亦即多個IP）的多個MapR節點傳輸資料。</block>
  <block id="c2cb3a97c34a702522aba4d19b7a1d39" category="list-text">檢查儲存控制器上的負載分配。</block>
  <block id="40a15e6807b47955e7b7a9b1bd330b01" category="inline-link-macro">下一步：何處可找到其他資訊。</block>
  <block id="93a2605b6bf89fdb9970a6dbc77dee03" category="paragraph"><block ref="93a2605b6bf89fdb9970a6dbc77dee03" category="inline-link-macro-rx"></block></block>
  <block id="ae1992b408fce873deb0f11eb017ea19" category="summary">在此驗證中、我們使用四部伺服器做為網路共用磁碟（NSD）伺服器、為GPFS提供實體磁碟。GPFS是在NSD磁碟上建立、以匯出為NFS匯出、讓NFS用戶端可以存取這些磁碟、如下圖所示。我們使用XCP將資料從GPFS匯出的NFS複製到NetApp NFS磁碟區。</block>
  <block id="bc64aad447f072e96947f5d02f7e8134" category="doc">GPFS移轉至NetApp ONTAP 的不整NFS</block>
  <block id="823313a32a4a1131e0469fac26acbdac" category="inline-link-macro">上一篇：AI的資料移動機解決方案。</block>
  <block id="c4e4b7ebe157b09b7d1a0db25078dc45" category="paragraph"><block ref="c4e4b7ebe157b09b7d1a0db25078dc45" category="inline-link-macro-rx"></block></block>
  <block id="9a1bdf4376c8448278cf38263e4da8c7" category="paragraph"><block ref="9a1bdf4376c8448278cf38263e4da8c7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="86339fb1bc11f77d6e48efc42d910f0f" category="section-title">GPFS基本功能</block>
  <block id="d859f99e3b66fbd7305cfd50ba2d4566" category="paragraph">GPFS使用下列節點類型：</block>
  <block id="4ac5c1b5474a4920e2433b8f1610729f" category="list-text">*管理節點。*指定選用欄位、其中包含管理命令用來在節點之間進行通訊的節點名稱。例如、管理節點「mastr-51.netapp.com`」可以將網路檢查傳遞給叢集中的所有其他節點。</block>
  <block id="6659be8d3c5ae97ae05588383a9efb5a" category="list-text">*仲裁節點。*決定節點是否包含在從中衍生仲裁的節點集區中。您至少需要一個節點作為仲裁節點。</block>
  <block id="504f43a7f6382dae9e638f1c396a1779" category="list-text">* Manager Nod.*表示節點是否為節點集區的一部分、可從中選取檔案系統管理程式和權杖管理程式。最好將多個節點定義為管理節點。您指定為管理程式的節點數量取決於工作負載和您擁有的GPFS伺服器授權數量。如果您執行的是大型平行工作、則可能需要比支援Web應用程式的四節點叢集更多的管理節點。</block>
  <block id="48b637b1e31141b7e6faae1b7c6d8be2" category="list-text">* NSD伺服器。*準備每個實體磁碟以搭配GPFS使用的伺服器。</block>
  <block id="8cd64755dc629d6061cef8f3bdddfe8f" category="list-text">*傳輸協定節點。*透過任何安全Shell（SSH）傳輸協定與NFS直接共用GPFS資料的節點。此節點需要GPFS伺服器授權。</block>
  <block id="d1a65ffa2a3768b3a494baba34855023" category="section-title">GPFS、NFS和XCP的作業清單</block>
  <block id="089009e49dc3cafdc4329d07f11c5250" category="paragraph">本節提供建立GPFS、將GPFS匯出為NFS匯出、以及使用XCP傳輸資料的作業清單。</block>
  <block id="1d9da206467eb5273c4b522820cfddb2" category="section-title">建立GPFS</block>
  <block id="454f38a55393f7773c6e59f13eb6fef5" category="paragraph">若要建立GPFS、請完成下列步驟：</block>
  <block id="a69093440b15d387cf13aadb026e36a9" category="list-text">在其中一部伺服器上、下載並安裝Linux版本的頻譜級資料存取。</block>
  <block id="8a3d13c75e4dd8c8cffdf92d8e9dd956" category="list-text">在所有節點上安裝必要的套件（例如主廚）、並在所有節點上停用增強安全性的Linux（SELinux）。</block>
  <block id="9356dbe859ed4334d7e27c641d7dd594" category="list-text">設定安裝節點、並將管理節點和GPFS節點新增至叢集定義檔案。</block>
  <block id="1bdc86658a65033989c8064812818633" category="list-text">新增管理節點、仲裁節點、NSD伺服器和GPFS節點。</block>
  <block id="d55b679ec8a82b729ae03c882f27b80e" category="list-text">新增GUI、admin和GPFS節點、並視需要新增額外的GUI伺服器。</block>
  <block id="f4e47c4647a3dafebf21a5f40cfa7f9c" category="list-text">新增另一個GPFS節點、然後檢查所有節點的清單。</block>
  <block id="303364b5437159140dc70a76a77e8aa8" category="list-text">在叢集定義檔中、指定要在所有GPFS節點上設定的叢集名稱、設定檔、遠端Shell二進位檔、遠端檔案複製二進位檔和連接埠範圍。</block>
  <block id="30d14bbe638530772662c104a30d53d3" category="list-text">檢視GPFS組態設定、並新增額外的管理節點。</block>
  <block id="765ad728fb1bb9eb3c981693321a01ef" category="list-text">啟用NTP並在安裝前預先檢查組態。</block>
  <block id="1deb66562b5d0f8ce755a102f2731d8d" category="list-text">設定、建立及檢查NSD磁碟。</block>
  <block id="18a8260437fd56c8bdc1f994d860e490" category="list-text">驗證並提供GPFS所需的權限。</block>
  <block id="a150a1930bbf429fc0204993b66d46cb" category="list-text">執行「dd」命令來驗證GPFS的讀取和寫入。</block>
  <block id="e2fc86fc4827b925f5cccecdcd51d6b1" category="paragraph">若要將GPFS匯出至NFS、請完成下列步驟：</block>
  <block id="af125b713cb0d82420980798e0276ea7" category="list-text">透過「/etc/exports」檔案將GPFS匯出為NFS。</block>
  <block id="873ad6aeda101f4e6c3a2cb8a46e84ad" category="list-text">列出GPFS中的檔案以驗證NFS用戶端。</block>
  <block id="f9b2649730ae4997f650bc4a2f8c1773" category="section-title">設定NFS用戶端</block>
  <block id="bb8a91cbc28d52ebb4edab31956c7f58" category="list-text">驗證NFS掛載資料夾中的GPFS檔案清單。</block>
  <block id="690b19ed08f992a8a2d6e3e872641b2e" category="list-text">使用XCP將資料從GPFS匯出的NFS移至NetApp NFS。</block>
  <block id="ae2b7fcf15ee142a2de2b3ba9573b414" category="inline-link-macro">下一步：HDFS和MapR-FS移轉ONTAP 到Sfnfs。</block>
  <block id="545d9ad8cb56e65641eb4e8083301a39" category="paragraph"><block ref="545d9ad8cb56e65641eb4e8083301a39" category="inline-link-macro-rx"></block></block>
  <block id="29fb90c4a1468e178582858240052f4c" category="summary">對於此解決方案、NetApp已驗證資料從資料湖（HDFS）和MapR叢集資料移轉至ONTAP 不含NFS的情形。資料存放在MapR-FS和HDFS中。NetApp XCP推出一項新功能、可直接將資料從HDFS和MapR-FS等分散式檔案系統移轉至ONTAP 支援NFS。</block>
  <block id="d233c10a88f93c454d0e84cd34840512" category="doc">HDFS與MapR-FS移轉ONTAP 至不適用NFS</block>
  <block id="9577f33e5dfe124ba394a5c90a123928" category="inline-link-macro">上一篇：GPFS對NetApp ONTAP 的SfNFS。</block>
  <block id="a503c5d00affd8b681837e8b44490492" category="paragraph"><block ref="a503c5d00affd8b681837e8b44490492" category="inline-link-macro-rx"></block></block>
  <block id="9c02792070008c1748647d8bdbe24432" category="paragraph">對於此解決方案、NetApp已驗證資料從資料湖（HDFS）和MapR叢集資料移轉至ONTAP 不含NFS的情形。資料存放在MapR-FS和HDFS中。NetApp XCP推出一項新功能、可直接將資料從HDFS和MapR-FS等分散式檔案系統移轉至ONTAP 支援NFS。XCP使用非同步執行緒和HDFS C API呼叫來通訊和傳輸MapR-FS和HDFS的資料。下圖顯示資料從資料湖（HDFS）和MapR-FS移轉到ONTAP SNFS的資料。有了這項新功能、您不需要將來源匯出為NFS共用區。</block>
  <block id="4581f9b32af32647aa31b2f9d57f6f1f" category="paragraph"><block ref="4581f9b32af32647aa31b2f9d57f6f1f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c11c71088d0987243547dd8fc322c2ad" category="section-title">為何客戶會從HDFS和MapR-FS移轉至NFS？</block>
  <block id="b075c8e6a9009d582333c59e237e3646" category="paragraph">大部分的Hadoop發佈（例如Cloudera和Hortonworks）都使用HDFS、而MapR發佈則使用自己的檔案系統（稱為MapR-FS）來儲存資料。HDFS與MapR-FS資料可為資料科學家提供寶貴的見解、並可用於機器學習（ML）和深度學習（DL）。HDFS和MapR-FS中的資料不會共用、這表示其他應用程式無法使用該資料。客戶正在尋找共享資料、尤其是在銀行部門、客戶的敏感資料會被多個應用程式使用。最新版本的Hadoop（3.x或更新版本）支援NFS資料來源、無需其他協力廠商軟體即可存取。有了全新的NetApp XCP功能、資料可以直接從HDFS和MapR-FS移至NetApp NFS、以便存取多個應用程式</block>
  <block id="fa2772759fe171754d3e04460b417464" category="paragraph">在Amazon Web Services（AWS）中進行測試、將資料從MapR-FS傳輸到NFS、以進行12個MapR節點和4個NFS伺服器的初始效能測試。</block>
  <block id="694e8d1f2ee056f98ee488bdc4982d73" category="cell">數量</block>
  <block id="6f6cb72d544962fa333e2e34ce64f719" category="cell">尺寸</block>
  <block id="5d56dbd20d9ee1ab8a722ff12e331953" category="cell">VCPU</block>
  <block id="4789f23283b3a61f858b641a1bef19a3" category="cell">記憶體</block>
  <block id="8c4aa541ee911e8d80451ef8cc304806" category="cell">儲存設備</block>
  <block id="eec89088ee408b80387155272b113256" category="cell">網路</block>
  <block id="e83e5674ab295a6613b60f5e12d1bfe3" category="cell">NFS 伺服器</block>
  <block id="6215b1525ff41917096b1eb923fe894f" category="cell">i3en.24xLarge</block>
  <block id="26657d5ff9020d2abefe558796b99584" category="cell">96</block>
  <block id="c45b008ff7fe72f83bb47cba575960c7" category="cell">488GiB</block>
  <block id="9f8ce2ff912e3931e4fc14876f3097f2" category="cell">8個7500 NVMe SSD</block>
  <block id="f899139df5e1059396431415e770c6dd" category="cell">100</block>
  <block id="899f7b8a7c3e28d3161a77da8f1c8e33" category="cell">MapR節點</block>
  <block id="6ac0fbf236c6d341a7f2c6c92933f744" category="cell">I3en.12xllarge</block>
  <block id="642e92efb79421734881b53e1e1b18b6" category="cell">48</block>
  <block id="1aa80378346dacbf8ce58aaadcefc35e" category="cell">384GiB</block>
  <block id="3ce58620106227953b9e12e2e0633095" category="cell">4個7500 NVMe SSD</block>
  <block id="c0c7c76d30bd3dcaefc96f40275bdc0a" category="cell">50</block>
  <block id="03e4c674f628169124f81fb7b98f9c92" category="paragraph">根據初始測試結果、我們獲得20Gbps的處理量、而且能夠每天傳輸2PB的資料。</block>
  <block id="fce5332d471cfbe0baf7fa83eb2d427d" category="inline-link">TR-4863：TR-4863：NetApp XCP最佳實務準則：資料移轉、檔案移轉及分析</block>
  <block id="6371d61614d0beaedb75e85d2c297d8f" category="paragraph">如需不將HDFS匯出至NFS的HDFS資料移轉詳細資訊、請參閱中的「部署步驟- NAS」一節<block ref="6a602f6a965c96a94215a45f0077e771" category="inline-link-rx"></block>。</block>
  <block id="aa722a0d50c9e3bfe81a7128f0e649d7" category="inline-link-macro">下一步：商業效益。</block>
  <block id="4e39bc17db35d21d84b6fb1e9786fdb5" category="paragraph"><block ref="4e39bc17db35d21d84b6fb1e9786fdb5" category="inline-link-macro-rx"></block></block>
  <block id="526cee55e2936716b5481f8a933bd217" category="inline-link-macro">如何將vVols與NetApp和VMware Tanzu Basic搭配使用、第1部分</block>
  <block id="c2240101c5a3a188541ce87c59265df9" category="list-text"><block ref="c2240101c5a3a188541ce87c59265df9" category="inline-link-macro-rx"></block></block>
  <block id="2e933c421900ce4ed68883bfdf00a487" category="inline-link-macro">如何搭配NetApp和VMware Tanzu Basic使用vVols、第2部分</block>
  <block id="fe72963b1d3021a9f6d8ae34414601c3" category="list-text"><block ref="fe72963b1d3021a9f6d8ae34414601c3" category="inline-link-macro-rx"></block></block>
  <block id="4c1c4ad5c7782eafb30ad4704dbf4419" category="inline-link-macro">如何搭配NetApp和VMware Tanzu Basic使用vVols、第3部分</block>
  <block id="4d066173d8401c92a19650e99dcaae5d" category="list-text"><block ref="4d066173d8401c92a19650e99dcaae5d" category="inline-link-macro-rx"></block></block>
  <block id="c232cfc0ae9806d3ad6d34a51df58229" category="section-title">Red Hat OpenShift with NetApp</block>
  <block id="9fe0dbff6457627765d03955bd1659be" category="inline-link-macro">影片：利用Astra Control和NetApp FlexClone技術加速軟體開發</block>
  <block id="a0eaa75e3e2b8c6220db02697d4acf1f" category="list-text"><block ref="a0eaa75e3e2b8c6220db02697d4acf1f" category="inline-link-macro-rx"></block></block>
  <block id="5df9589990c71ed42c69a8bcc053d0d4" category="inline-link-macro">影片：運用NetApp Astra Control執行事後分析及還原應用程式</block>
  <block id="bd6059cd679908cdb2d015167d51a3fe" category="list-text"><block ref="bd6059cd679908cdb2d015167d51a3fe" category="inline-link-macro-rx"></block></block>
  <block id="72feee9e055adc523c4c9ca3c1453409" category="inline-link-macro">影片：利用Astra Control在CI/CD傳輸途徑中提供資料保護</block>
  <block id="6dc07ae6ad84b77b5d06f9d3fff5b819" category="list-text"><block ref="6dc07ae6ad84b77b5d06f9d3fff5b819" category="inline-link-macro-rx"></block></block>
  <block id="c0a8420c339dd9d57d40448c30a749df" category="inline-link-macro">影片：使用Astra Trident和SnapMirror進行工作負載移轉-採用NetApp的Red Hat OpenShift</block>
  <block id="77697d49d0c6b79e2642435a36c8c1e0" category="list-text"><block ref="77697d49d0c6b79e2642435a36c8c1e0" category="inline-link-macro-rx"></block></block>
  <block id="762a14964ee1713d320b8beefaf55b17" category="inline-link-macro">影片：安裝OpenShift虛擬化技術-採用NetApp的Red Hat OpenShift</block>
  <block id="60f031c992a9c99aa5413bddb0ecc644" category="list-text"><block ref="60f031c992a9c99aa5413bddb0ecc644" category="inline-link-macro-rx"></block></block>
  <block id="aad993afc3c78a3a38ae471fa2ae1060" category="inline-link-macro">影片：部署採用OpenShift虛擬化技術的虛擬機器-採用NetApp的Red Hat OpenShift</block>
  <block id="13a82ffd84cedcd28833f58d716b4c3c" category="list-text"><block ref="13a82ffd84cedcd28833f58d716b4c3c" category="inline-link-macro-rx"></block></block>
  <block id="dca91c3343cc0ad062506cdd14eb7d41" category="summary">混合雲、桌面虛擬化與容器解決方案的最新補充資料</block>
  <block id="120c02d2aa6cda1e3b75902fb4fc0b53" category="doc">混合雲、桌面虛擬化與容器解決方案的新功能</block>
  <block id="07e257430bade6bc5bce1c2170c6fc0d" category="paragraph">最新的混合雲、桌面虛擬化與容器解決方案與解決方案輔助文件總覽。</block>
  <block id="c1e392a90896851b3319d6075402fd4d" category="cell">*混合雲/私有雲*</block>
  <block id="8ef4e9c7260e8d314760329e07c618ae" category="cell">*虛擬化*</block>
  <block id="2bdc87f51d413e6d2fa23dd26238501f" category="inline-link-macro">VMware vSphere ONTAP for VMware</block>
  <block id="1f23e5de73e650f12cbafec55d8a98cd" category="cell"><block ref="1f23e5de73e650f12cbafec55d8a98cd" category="inline-link-macro-rx"></block></block>
  <block id="236122c6ab4c764632437a76fa95e5c0" category="cell">*桌面虛擬化*</block>
  <block id="4b47c65474ab7fae9b08ddf38d598971" category="inline-link-macro">採用NetApp虛擬桌面服務（VDS）的混合雲VDI</block>
  <block id="dea91bec9e85387a496bb2c228fc7dc3" category="cell"><block ref="dea91bec9e85387a496bb2c228fc7dc3" category="inline-link-macro-rx"></block></block>
  <block id="1ebfe0d8e53e3f7f2c37e8b3835c2adf" category="cell">*容器*</block>
  <block id="4105298f144b4b0e636460eede523df0" category="inline-link-macro">透過Ansible自動安裝Astra Control Center</block>
  <block id="64295ddd382f7876d307bac08ad539fe" category="cell"><block ref="64295ddd382f7876d307bac08ad539fe" category="inline-link-macro-rx"></block></block>
  <block id="6be5bc354916244292cf704d8a451541" category="inline-link-macro">影片：使用Astra Control Center進行工作負載移轉-採用NetApp的Red Hat OpenShift</block>
  <block id="e32276e1eed6ff0e76971afd985cea2d" category="cell"><block ref="e32276e1eed6ff0e76971afd985cea2d" category="inline-link-macro-rx"></block></block>
  <block id="306a916d056a0d0a4b898b9dca9692ee" category="inline-link-macro">NetApp Astra Control Center on Red Hat OpenShift</block>
  <block id="20c49a9a4d903fa259d4f8820b3755d2" category="cell"><block ref="20c49a9a4d903fa259d4f8820b3755d2" category="inline-link-macro-rx"></block></block>
  <block id="4c37a5afd480a0042f69d7628cadd57d" category="inline-link-macro">採用NetApp的Red Hat OpenShift上的Kubernetes進階叢集管理</block>
  <block id="119ad672b0d69ab3f968877b6ec83dd3" category="cell"><block ref="119ad672b0d69ab3f968877b6ec83dd3" category="inline-link-macro-rx"></block></block>
  <block id="65cd53ff19e601ea00bf9688be4dd86a" category="inline-link-macro">Red Hat OpenShift虛擬化搭配NetApp ONTAP 產品</block>
  <block id="ad1cf94aab71c9962e22037ed60d41e9" category="cell"><block ref="ad1cf94aab71c9962e22037ed60d41e9" category="inline-link-macro-rx"></block></block>
  <block id="e6ba927c9d14295015e39be05cf54040" category="inline-link-macro">Red Hat OpenShift with NetApp ONTAP 功能的多租戶共享</block>
  <block id="ab439bcac737f2565970fe2612976b75" category="cell"><block ref="ab439bcac737f2565970fe2612976b75" category="inline-link-macro-rx"></block></block>
  <block id="ad95c47343e102dc30ec33fa6f1ccc55" category="inline-link-macro">NVA-1160：採用NetApp的Red Hat OpenShift</block>
  <block id="1043b5153afff839b84d714aa9127913" category="cell"><block ref="1043b5153afff839b84d714aa9127913" category="inline-link-macro-rx"></block></block>
  <block id="da38226e07ff21f147182bb08be38f6f" category="inline-link-macro">Anthos on裸機與NetApp合作</block>
  <block id="ac1da2af455fc001ba8b58af0e62d151" category="cell"><block ref="ac1da2af455fc001ba8b58af0e62d151" category="inline-link-macro-rx"></block></block>
  <block id="3d45b043c5518eca1e47fb4ba8a813da" category="inline-link-macro">在RHEL / CentOS上設定用於CLI部署的Ansible Control Node</block>
  <block id="2afb5cc3404c6c8162722fd41895c2de" category="inline-link-macro">設定Ansible Control Node、以便在Ubuntu / Debian上部署CLI</block>
  <block id="6b8c64be0bad88fb867c6576ac777b25" category="inline-link-macro">設定Ansible Tower或AWX進行直立式/ AWX部署</block>
  <block id="e9dcec3e531a3cec5ee733f23baab91d" category="inline-link-macro">在ONTAP NFS上自動部署Oracle 19c for Sfor</block>
  <block id="145706f4acca44c289ff5ca8cc5b2b86" category="inline-link-macro">NetApp AI解決方案</block>
  <block id="895a85fc0a1a565ac547acc1bc9740f3" category="inline-link-macro">MLOps</block>
  <block id="ac9bef0f960e3a46befd2d06b223b61d" category="summary">本節說明典型的混合雲架構、適用於開發/測試和災難恢復作業。</block>
  <block id="9f6302143996033ebb94d536b860acc3" category="doc">解決方案架構</block>
  <block id="fece52c505c48f2979e3fa0c8b6bd8bc" category="paragraph"><block ref="fece52c505c48f2979e3fa0c8b6bd8bc" category="inline-link-macro-rx"></block></block>
  <block id="4085a97aa705c0122bbcec0c84dd97d3" category="paragraph">下列架構圖表說明在混合雲中、企業資料庫作業的典型實作方式、適用於開發/測試及災難恢復作業。</block>
  <block id="acb339f710a626679c374df5b90c5416" category="paragraph"><block ref="acb339f710a626679c374df5b90c5416" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3cdc302c6d83b60c8ec7ad0b550e55a8" category="paragraph">在一般業務營運中、雲端中的同步資料庫磁碟區可複製並掛載至開發/測試資料庫執行個體、以供應用程式開發或測試之用。發生故障時、即可啟動雲端中同步的資料庫磁碟區、以進行災難恢復。</block>
  <block id="fbfd3304757c668454a7bdd10f9de200" category="inline-link-macro">下一步：解決方案需求。</block>
  <block id="ae3b1bce66c4c75d8abf9828ec9f2608" category="paragraph"><block ref="ae3b1bce66c4c75d8abf9828ec9f2608" category="inline-link-macro-rx"></block></block>
  <block id="4db58285a0e634acd6843c40f7a6f4e0" category="paragraph">若要深入瞭解本文所述資訊、請參閱下列網站連結：</block>
  <block id="d53a72004974ee8431ee292856c0bba3" category="list-text">解決方案架構、使用Azure NetApp Files 解決方案</block>
  <block id="653ba0610595f0695c3ceb2c59afed59" category="inline-link"><block ref="653ba0610595f0695c3ceb2c59afed59" category="inline-link-rx"></block></block>
  <block id="d5ec9321fb49816034de6b296ef6baa2" category="paragraph"><block ref="d5ec9321fb49816034de6b296ef6baa2" category="inline-link-rx"></block></block>
  <block id="ba110408cece764b57b56f1129b3ba2e" category="list-text">使用支援SQL Server部署的效益Azure NetApp Files</block>
  <block id="62b5dbc436fc2540c46476bd8e484c11" category="inline-link"><block ref="62b5dbc436fc2540c46476bd8e484c11" category="inline-link-rx"></block></block>
  <block id="44594562b4f528fe8d864bd3f48ddff6" category="paragraph"><block ref="44594562b4f528fe8d864bd3f48ddff6" category="inline-link-rx"></block></block>
  <block id="7aa91f5f0414f1488ce2f5324e63d12e" category="list-text">《SQL Server on Azure部署指南》（英文）Azure NetApp Files</block>
  <block id="9021ea474df74856b145a78c58c35e05" category="inline-link"><block ref="9021ea474df74856b145a78c58c35e05" category="inline-link-rx"></block></block>
  <block id="52a5313d9aca117b5d167e6be79c5bc7" category="paragraph"><block ref="52a5313d9aca117b5d167e6be79c5bc7" category="inline-link-rx"></block></block>
  <block id="49217b0d4a68c88899c93d24203a34b4" category="list-text">藉助Azure NetApp Files 於NetApp、實現容錯能力、高可用度和恢復能力</block>
  <block id="9e5e063336d276080a054861016aadd8" category="inline-link"><block ref="9e5e063336d276080a054861016aadd8" category="inline-link-rx"></block></block>
  <block id="7ff89d0ad939652d37cbab9b6f420f65" category="paragraph"><block ref="7ff89d0ad939652d37cbab9b6f420f65" category="inline-link-rx"></block></block>
  <block id="c4053f20c3fe50fe899484a64367439e" category="list-text">設定認證資料。</block>
  <block id="61efb6ce79debd57f1e5eb28b08f94ba" category="list-text">建立認證類型。若為涉及ONTAP 到解決方案的解決方案、您必須設定認證類型以符合使用者名稱和密碼項目、我們也會新增Cloud Central和AWS的項目。</block>
  <block id="c87e3da0a9f8d5eeacea4eac9bef80ea" category="list-text">瀏覽至「管理」→「認證類型」、然後按一下「新增」。</block>
  <block id="5f5a0974b600f86bd4e77595282fcf70" category="list-text">在輸入組態中貼上下列內容：</block>
  <block id="b95cd128bfca5d5c9181a46d0392c360" category="list-text">將下列內容貼到Injector Configuration中、然後按一下「Save（儲存）」：</block>
  <block id="75f3f97810b5eef177a5355b86dabfd0" category="list-text">為ONTAP/CVO/AWS建立認證</block>
  <block id="41dcc8a8aaaa79a511ba0ab4e6bde225" category="list-text">瀏覽至「資源」→「認證」、然後按一下「新增」。</block>
  <block id="0a0aab79fb5a20fa5f830947226ef87c" category="list-text">輸入ONTAP 名稱和組織詳細資料以取得「不完整資訊」認證</block>
  <block id="81999e930ad44af27e84682c3ea1e750" category="list-text">選取在上一步中建立的認證類型。</block>
  <block id="68085bee9e04417d4d9e74101a357a22" category="list-text">在類型詳細資料下、輸入來源和CVO叢集、Cloud Central/Manager、AWS存取/秘密金鑰和Cloud Central Refresh Token的使用者名稱和密碼。</block>
  <block id="c4be718383c8ca0aa17633d911fc38fd" category="list-text">按一下儲存</block>
  <block id="922922f515b0ac072e20128999512b50" category="list-text">建立Oracle認證（來源）</block>
  <block id="7ebca140d5dcaa006aeda44b19cfc52e" category="list-text">輸入Oracle主機的名稱和組織詳細資料</block>
  <block id="9ef3fcc446a5f500717f9b5e9291bce4" category="list-text">選取機器認證類型。</block>
  <block id="9fadc5c4eed350a8a1423628227dad59" category="list-text">在類型詳細資料下、輸入Oracle主機的使用者名稱和密碼。</block>
  <block id="b4ca3125325138b1dbfc309e6bd67b80" category="list-text">選取正確的權限提高方法、然後輸入使用者名稱和密碼。</block>
  <block id="ca530facf78f2112c60ee838d85b9b5b" category="list-text">為Oracle目的地建立認證</block>
  <block id="063e8368b0de123266b00f2c88e317fb" category="list-text">輸入DR Oracle主機的名稱和組織詳細資料</block>
  <block id="0d28c8cc8415971cf2cd02507176bf94" category="list-text">在「Type Details（類型詳細資料）」下、輸入使用者名稱（EC2使用者、或是您已將其從預設輸入）和SSH私密金鑰</block>
  <block id="cb8f433dfb62a17f7a02f4d7a8839b1c" category="list-text">選取正確的權限提高方法（Sudo）、並視需要輸入使用者名稱和密碼。</block>
  <block id="d4c96dcd516adf0c5bde093b0b7b7255" category="summary">本頁說明將Oracle19c部署在NetApp ONTAP 內存上的自動化方法。</block>
  <block id="cb59b87e00d11222bfd9159d0d23836f" category="doc">快速入門</block>
  <block id="def8ebf26c2dec5f6af5a00893fae037" category="paragraph">本解決方案的設計可在AWX/Tower環境中執行、或由CLI在Ansible控制主機上執行。</block>
  <block id="008ba800d97cb969def651e93f0d93fb" category="section-title">AWX/Tower</block>
  <block id="a481f1841043d60245f18522a86731b1" category="paragraph">對於AWX/Tower環境、我們會引導您建立ONTAP 一份關於您的叢集管理和Oracle伺服器（IP和主機名稱）的目錄、建立認證資料、設定從NetApp Automation Github擷取Ansible程式碼的專案、以及啟動自動化的工作範本。</block>
  <block id="5055de7b9d28f88e537f99f34959c80c" category="list-text">填寫環境專屬的變數、然後複製並貼到工作範本中的額外VAR欄位。</block>
  <block id="d116f375db402ba471f519c0a4df15dc" category="list-text">將額外的虛擬檔案新增至工作範本之後、您就可以啟動自動化。</block>
  <block id="8ca0a52cf9938328875e0a8803ae71dd" category="list-text">工作範本會在三個階段中執行、分別為ONTAP_config、Linux組態和Oracle_config指定標籤。</block>
  <block id="da3d0d670ace8a327170aa25ee29f272" category="section-title">透過Ansible控制主機的CLI</block>
  <block id="6a5f01bc22c397ee84e04e48c178e980" category="inline-link-macro">按一下此處以取得RHEL 7/8或CentOS 7/8</block>
  <block id="7946c3996884ee105962c5334bfd9fef" category="inline-link-macro">適用於Ubuntu / DEBIAN</block>
  <block id="f5344fe4d88d29ee79ba6110f60cfa9b" category="list-text">可設定Linux主機、以便用作可控制主機<block ref="8688caf90b0dc445f61be35cbf93ed1a" category="inline-link-macro-rx"></block>或<block ref="2b00e81c1e240a58c4df0e850699511b" category="inline-link-macro-rx"></block></block>
  <block id="28e934ddab7714830f8afe8d3b641dc9" category="list-text">設定好Ansible控制主機之後、您可以複製Ansible Automation儲存庫。</block>
  <block id="f667be8dac02593d217a02ac5bfb18de" category="list-text">使用ONTAP 您的叢集管理和Oracle伺服器管理IP的IP和/或主機名稱編輯hosts檔案。</block>
  <block id="95bd15e6b4a109de659c54c331c06284" category="list-text">填寫您環境的專屬變數、然後複製並貼到「vars.yml」檔案中。</block>
  <block id="ca548be3e5f238d32286d43dc4c89f7b" category="list-text">每個Oracle主機都有一個變數檔、由其主機名稱識別、其中包含主機專屬的變數。</block>
  <block id="87192ebbcab92216d25fd694a282971d" category="list-text">完成所有變數檔案之後、您可以指定「ONTAP_config」、「LINUS_config」和「Oracle_config」的標記、以三個階段執行方針。</block>
  <block id="5a2ebfb8baa378cfcfcba58bbb1380c2" category="section-title">需求</block>
  <block id="0ba29c6a1afacf586b03a26162c72274" category="cell">環境</block>
  <block id="9d5cfca4ad04b54536e5ad15210f7dc2" category="cell">*可環境*</block>
  <block id="eebc1357e7d1e88ed4e4908d5ae86c0b" category="cell">將AWX/Tower或Linux主機當作可控制主機</block>
  <block id="3f0733e14ebf265f0abf4b32371043ac" category="cell">Ansible v.不 包括更新版本</block>
  <block id="3c91a74236fab100f024452f6df13b5e" category="cell">Python 3.</block>
  <block id="215b38d177939de20bbb7b7913ce32c1" category="cell">Python程式庫- NetApp-Lib - xmltodict - jmespath</block>
  <block id="d911b17f4f4cdcca62a04ad77aa9403d" category="cell">*《*》ONTAP</block>
  <block id="0a928fe81d89083ed303ea3d9f1af8c9" category="cell">版本9.3 - ONTAP 9.7</block>
  <block id="10aadda84b1b1da26c3757dfdb59379d" category="cell">兩個資料集合體</block>
  <block id="9f998f9668ffe69c62d78760d1c531f0" category="cell">NFS VLAN和ifgrp已建立</block>
  <block id="ba5f343281b90f0408008806c66bce86" category="cell">* Oracle伺服器*</block>
  <block id="6f1de5f0d7966ebf5f8d255fe28ebffe" category="cell">RHEL 7/8</block>
  <block id="aa596da3b79631d86c0d35e1c4b03aac" category="cell">Oracle Linux 7/8</block>
  <block id="814e8f57514db6134b6ffcd7a4ce20a6" category="cell">網路介面、適用於NFS、公有及選用的管理</block>
  <block id="515f291f3ecc550c5d13cf31fadba91d" category="cell">Oracle伺服器上的Oracle安裝檔案</block>
  <block id="ae9205dab0c26cca7762be5149a93923" category="section-title">自動化詳細資料</block>
  <block id="ba0676e7ae183e2c0bbd54261818154f" category="paragraph">這項自動化部署是以單一的可執行教戰手冊所設計、其中包含三個不同的角色。這些角色適用於ONTAP 支援功能、Linux和Oracle組態。下表說明哪些工作正在自動化。</block>
  <block id="bbbabdbe1b262f75d99d62880b953be1" category="cell">角色</block>
  <block id="ef615563c8e8ea902c7fcac3cd2c4246" category="cell">工作</block>
  <block id="9bb642814808cd0cab510ddfb9e5969c" category="cell">* ONTAP組態*</block>
  <block id="c0563eda0fb9d63778efe04a13a5d744" category="cell">預先檢查ONTAP 整個環境</block>
  <block id="79b814c8267c6b7822e78ab4624db8e0" category="cell">為Oracle建立NFS型SVM</block>
  <block id="0c981d6164da0d8e69cdb199966316b0" category="cell">建立匯出原則</block>
  <block id="99179ac01bbb0236fc540871377c55c4" category="cell">為Oracle建立磁碟區</block>
  <block id="db738705829d97db1e287ad8ea9e5400" category="cell">建立NFS LIF</block>
  <block id="089c4c184b079d771501d8ceb0f3bb05" category="cell">* Linux組態*</block>
  <block id="3ea572544d30a39d236496578f980d13" category="cell">建立掛載點並掛載NFS磁碟區</block>
  <block id="db6c0f994cc39fbf66d58eea6c627e6a" category="cell">驗證NFS裝載</block>
  <block id="6a882e7966e7869ab1d2112a0b1c0074" category="cell">作業系統專屬組態</block>
  <block id="6e6d41d1398fafd8809de20e831c9ce3" category="cell">建立Oracle目錄</block>
  <block id="6f965a5d44e1653dac9825f465f71c84" category="cell">設定Hugepages</block>
  <block id="be577868fe0712b7bbb6d5cb5eae613c" category="cell">停用SELinux和防火牆精靈</block>
  <block id="bb6f16330211bf24baa83db38b11e4a9" category="cell">啟用並啟動同步服務</block>
  <block id="e9e5cefa281d2c696aac82ef9c756f51" category="cell">增加檔案描述元硬限制</block>
  <block id="a4acc779f882208c081f943aedfeab5c" category="cell">建立pam．d工作階段檔案</block>
  <block id="d03021f9e02b9fa9ebac591ad4bfea08" category="cell">* Oracle_config*</block>
  <block id="5e706781d4bf141c80e249a244179235" category="cell">Oracle軟體安裝</block>
  <block id="1a98fce6d77de1126bf3cb8247747621" category="cell">建立Oracle接聽程式</block>
  <block id="841df7bfbef212936073c6d261d4dba9" category="cell">建立Oracle資料庫</block>
  <block id="845a6e024025bb13aafdc167511e5e7d" category="cell">Oracle環境組態</block>
  <block id="666113957f940ba4319b4f0d9c3e86c0" category="cell">儲存pdb狀態</block>
  <block id="264bca6ddd5a16346460d9c21e8f926d" category="cell">啟用執行個體歸檔模式</block>
  <block id="620ca5ae835411d2031ca0fdbbbe61a1" category="cell">啟用DNFS用戶端</block>
  <block id="4d7e6c9b84f6f86cf4817262ad424eeb" category="cell">在作業系統重新開機期間啟用資料庫自動開機和關機</block>
  <block id="bf60025632dd0c4a2cf35e8b33e80619" category="section-title">預設參數</block>
  <block id="ebda2606845855cc07ce0ce15ecf8a00" category="paragraph">為了簡化自動化作業、我們預設了許多必要的Oracle部署參數、預設值為預設值。一般而言、大多數部署都不需要變更預設參數。較進階的使用者可以謹慎變更預設參數。預設參數位於預設目錄下的每個角色資料夾中。</block>
  <block id="452eff11ca6d680a279a3e81b8dc8974" category="section-title">部署指示</block>
  <block id="1cf7ad9cd74067dd3f4aee3c1690ea32" category="paragraph">在開始之前、請先下載下列Oracle安裝與修補檔案、並將其放在「/tmp/archive」目錄中、並針對要部署的每部DB伺服器上的所有使用者、提供讀取、寫入及執行存取權限。自動化工作會在該特定目錄中尋找命名的安裝檔案、以供Oracle安裝與組態之用。</block>
  <block id="794df3791a8c800841516007427a2aa3" category="section-title">授權</block>
  <block id="19adadc497199e16f07f9744d43b2899" category="paragraph">您應該閱讀Github儲存庫中所述的授權資訊。存取、下載、安裝或使用此儲存庫中的內容、即表示您同意所規定的授權條款 <block ref="07d15b3b85718d883b437fb3739e59a7" category="inline-link-macro-rx"></block>。</block>
  <block id="87d624bc8a7f555a711e7214ee002eec" category="paragraph">請注意、對於產生及/或分享任何衍生作品與此儲存庫中的內容有特定限制。請務必閱讀的條款 <block ref="49480c711afcff6aca610d8294731030" category="inline-link-macro-rx"></block> 使用內容之前。如果您不同意所有條款、請勿存取、下載或使用此儲存庫中的內容。</block>
  <block id="5abe869dd828ac1e4527f07db79841a8" category="inline-link-macro">如需詳細的AWX/Tower部署程序、請參閱此處</block>
  <block id="c3bcf861ccc9247a7c0a9b4749747e4e" category="inline-link-macro">此處用於CLI部署</block>
  <block id="f867ea86471dd6849f2c840cf13d1536" category="paragraph">準備好之後、按一下 <block ref="0ecf76284fbf596cdd030af085c16a3b" category="inline-link-macro-rx"></block> 或 <block ref="42cd9508ebf775e8df0efba80be76af7" category="inline-link-macro-rx"></block>。</block>
  <block id="5bbe8264b4d6c6787657c66d4017c183" category="doc">主機VARS組態</block>
  <block id="d0bb28dcc0cc1b523a41bbb46875db9e" category="summary">在安裝Cloud Manager連接器及Cloud Volumes ONTAP 進行SnapMirror的不中斷和設定之前、我們必須先為雲端環境做一些準備。本頁說明需要完成的工作、以及部署Cloud Volumes ONTAP 時的考量事項。</block>
  <block id="8c6fb9ece3bad11d3e76d1344d9ed9ab" category="doc">公有雲的先決條件</block>
  <block id="ac7eeb8ecebe00daa1fdf4fd06cc46de" category="inline-link-macro">先前版本：內部部署的先決條件。</block>
  <block id="70ba5e430ac8eade85f8e01e51412fe4" category="paragraph"><block ref="70ba5e430ac8eade85f8e01e51412fe4" category="inline-link-macro-rx"></block></block>
  <block id="5a2798d22185b0e40ea502bbbb171d38" category="section-title">Cloud Manager與Cloud Volumes ONTAP 解決方案的部署先決條件檢查清單</block>
  <block id="1e094e6477be231098329b0096c7221f" category="list-text">NetApp Cloud Central登入</block>
  <block id="b59e275c4ece2430dff67db92845ab7f" category="list-text">從網頁瀏覽器存取多個端點的網路</block>
  <block id="d2ed5c7ede8a1ce9d218ec60b0f03935" category="list-text">連接器的網路位置</block>
  <block id="0d07862d67097acd517fe27c0de099d7" category="list-text">雲端供應商權限</block>
  <block id="203802866ac2835e79bd76c94a3761c2" category="list-text">個別服務的網路功能</block>
  <block id="c4d5e1cbdfc47a0fdcb4a1a9dddd9e17" category="inline-link">雲端文件</block>
  <block id="1a22a3f7b690b2ec8919c8806633fb26" category="paragraph">如需開始使用所需資訊的詳細資訊、請造訪我們的<block ref="247d95fa755d21bb8790cc6d7a2fc412" category="inline-link-rx"></block>。</block>
  <block id="ea61e2c2ff507048203824add1eb7c21" category="section-title">考量</block>
  <block id="176ca67b83510a1281a4cfc749a3543a" category="section-title">1.什麼是Cloud Manager連接器？</block>
  <block id="1681641037afae45bd6074dcde9eed00" category="paragraph">在大多數情況下、Cloud Central帳戶管理員必須在雲端或內部部署網路中部署連接器。此連接器可讓Cloud Manager管理公有雲環境中的資源和程序。</block>
  <block id="8a78be5d168f00b24bf1625de3d5409c" category="paragraph">如需更多有關連接器的資訊、請造訪我們的<block ref="f39c14bbbbdd46ca70a63fb06046c789" category="inline-link-rx"></block>。</block>
  <block id="fcc2bf38b8157a22b5fc6975b7054acc" category="section-title">2、規模與架構的不二之一Cloud Volumes ONTAP</block>
  <block id="1c09b5154aa1f43cb9ebcbd6fea5eadc" category="paragraph">部署Cloud Volumes ONTAP 時、您可以選擇預先定義的套件、或是建立自己的組態。雖然這些值中有許多可以稍後在不中斷營運的情況下加以變更、但根據要部署到雲端的工作負載、在部署之前仍需做出一些重要決策。</block>
  <block id="331ce28903aee0b30cd3c94e5483edf5" category="inline-link">CVO規模調整工具</block>
  <block id="acaed5d74e38e1779b3831dcf51c7600" category="paragraph">每個雲端供應商都有不同的部署選項、而且幾乎每個工作負載都有自己獨特的屬性。NetApp擁有<block ref="6a71e7e42ab9335484c5530029f79b92" category="inline-link-rx"></block> 這有助於根據容量和效能來正確調整部署規模、但它是以一些基本概念為建置基礎、值得考慮：</block>
  <block id="145c90afb7955854f2371e9decf3de9b" category="list-text">所需容量</block>
  <block id="f1521b662bf51f1af6c2d38bd610afae" category="list-text">雲端虛擬機器的網路功能</block>
  <block id="f75d8ba5edc8017382d5df68baf9e30f" category="list-text">雲端儲存設備的效能特性</block>
  <block id="af9d66ea3132fcfeb46b85557bc1af1b" category="paragraph">關鍵在於規劃的組態不僅能滿足目前的容量與效能需求、也能展望未來成長。這通常稱為容量保留空間和效能保留空間。</block>
  <block id="180f0326dff3a03aecf5e184943d108a" category="paragraph">如果您想要進一步資訊、請閱讀有關正確規劃的文件<block ref="af5d70b69c3436f8bcf6f7b9579c4e83" category="inline-link-rx"></block>、<block ref="c2e85b51d3015b4c720388e64a3de23e" category="inline-link-rx"></block>和<block ref="b1068926334a08925797774f64291db4" category="inline-link-rx"></block>。</block>
  <block id="c50ea1f0c6dcf02fbdd39e1e6b5befc2" category="section-title">3.單一節點或高可用度？</block>
  <block id="eadb13b9c72271dbf16967e78059fea4" category="paragraph">在所有雲端中、都有選項可在單一節點或叢集式高可用度配對中、與兩個節點部署CVO。視使用案例而定、您可能希望部署單一節點以節省成本、或是部署HA配對以提供更高的可用度和備援。</block>
  <block id="9cbd119b18cd836b6020fcfd3bfbe37f" category="paragraph">對於災難恢復使用案例或是將暫用儲存設備轉成開發與測試用途、單一節點是常見的、因為突然發生的分區或基礎架構中斷所造成的影響較低。然而、對於任何正式作業使用案例、如果資料只位於單一位置、或資料集必須擁有更多備援和可用度、則建議使用高可用度。</block>
  <block id="83d2ad0cda1f71c52878284cc7c1f713" category="paragraph">如需每個雲端高可用度版本架構的詳細資訊、請參閱的文件<block ref="4344469628657b2a6a0d147e5e6fbc9a" category="inline-link-rx"></block>、<block ref="28a8305eced80cb5b1351f5cffb268ae" category="inline-link-rx"></block> 和<block ref="1b945d178a8347e94e5c5456dc9e6db8" category="inline-link-rx"></block>。</block>
  <block id="f0d106c1997a933ecb53ee88e83670e7" category="inline-link-macro">下一步：入門概述。</block>
  <block id="fd43d07d375b44f30fde6995279b9265" category="paragraph"><block ref="fd43d07d375b44f30fde6995279b9265" category="inline-link-macro-rx"></block></block>
  <block id="a2810b66f557bf43f1c602ecfe7f52b1" category="summary">本文件涵蓋SQL Server全年無休可用度群組（AOAG）的即時部署、以Azure NetApp Files 利運用Azure虛擬機器。</block>
  <block id="0ecccb1d48727b6da357728efe7b6375" category="doc">TR-4897：Azure NetApp Files 《SQL Server on Real-Deployment View》（英文）</block>
  <block id="4eae423bbc6520b4a8fa4d0d4de28b8a" category="paragraph">NetApp公司Niyazz Mohamed</block>
  <block id="8ae2b9aab28b6c00df7581f99f9211ef" category="paragraph">IT組織正面臨不斷變化的挑戰。Gartner報告、到2022年、將近75%的資料庫都需要雲端型儲存設備。Microsoft SQL Server是領先業界的關係式資料庫管理系統（RDBMS）、是Windows平台設計的應用程式和組織的首選、這些應用程式和組織仰賴SQL Server、從企業資源規劃（ERP）到分析、到內容管理、都能滿足各種需求。SQL Server協助企業革新管理大量資料集的方式、並推動應用程式滿足架構和查詢效能需求。</block>
  <block id="eae371fd2d593d80849fab02c4e8b90b" category="paragraph">大多數IT組織都採用雲端優先方法。處於轉型階段的客戶會評估目前的IT環境、然後根據評估與探索練習、將資料庫工作負載移轉至雲端。促使客戶移轉雲端的因素包括彈性/突發、資料中心結束、資料中心整合、生命週期結束案例、合併、 併購等。移轉的原因可能因組織及其各自的業務優先順序而異。移轉至雲端時、選擇適當的雲端儲存設備是非常重要的、以便釋放SQL Server資料庫雲端部署的威力。</block>
  <block id="f9468c81b3d59ac0030570c4f58e95f1" category="section-title">使用案例</block>
  <block id="cf8b0bda1e058c1f8383f434c4da9b71" category="paragraph">將SQL Server基礎架構移轉至Azure、並將SQL Server與Azure廣泛的平台即服務（PaaS）功能整合、例如Azure Data Factory、Azure IoT Hub和Azure Machine Learning、為支援數位轉型創造了巨大的商業價值。相較於採用CAPEX模式或傳統私有雲端模式、採用雲端也能讓個別業務單位專注於生產力、並更快提供新功能和增強功能（DevTest使用案例）。本文件涵蓋SQL Server全年無休可用度群組（AOAG）的即時部署、以Azure NetApp Files 利運用Azure虛擬機器。</block>
  <block id="239a02aaaf9289a3093f682835f65f88" category="paragraph">提供企業級儲存設備、並提供持續可用的檔案共用。Azure NetApp FilesSMB檔案共用區上的SQL Server正式作業資料庫需要持續可用的共用區、以確保節點永遠可以存取資料庫儲存區、包括在控制器升級或故障等中斷情況下。持續可用的檔案共用可免除在儲存節點之間複寫資料的需求。支援不中斷營運（NDOS）的SMB 3.0橫向擴充、持續處理及透明容錯移轉、以因應計畫性和非計畫性停機事件、包括許多管理工作。Azure NetApp Files</block>
  <block id="f47a858d79de9725a0d6881541748e9b" category="paragraph">規劃雲端移轉時、您應該一律評估最佳的使用方法。應用程式移轉最常見且最簡單的方法是移轉（也稱為移轉和移轉）。本文所提供的範例案例使用重新託管方法。Azure虛擬機器上的SQL Server Azure NetApp Files 搭配使用功能、可讓您在雲端上使用完整版本的SQL Server、而無需管理內部部署的硬體。SQL Server虛擬機器（VM）也能在您隨付隨付的情況下簡化授權成本、並為開發、測試和重新整理資源環境提供彈性和突增功能。</block>
  <block id="ff9d8653752bd48bb6b73cf97f207af1" category="summary">混合雲資料庫解決方案搭配SnapCenter 不含容災功能的工作流程</block>
  <block id="ac2e8778240cb518ee14b1defbf55765" category="doc">災難恢復工作流程</block>
  <block id="461887ca64f2d60da58c130a00656a96" category="inline-link-macro">上一篇：開發/測試爆增至雲端的工作流程。</block>
  <block id="b8499237e1a42a05b5306219f80b35ba" category="paragraph"><block ref="b8499237e1a42a05b5306219f80b35ba" category="inline-link-macro-rx"></block></block>
  <block id="8e84608bd62584b2f262d60fd734714f" category="paragraph">企業已將公有雲視為可行的災難恢復資源和目的地。此程序盡可能順暢無礙。SnapCenter這項災難恢復工作流程與複製工作流程非常類似、但資料庫恢復會透過上次複寫到雲端的可用記錄執行、以恢復所有可能的商業交易。不過、災難恢復還有其他專屬的預先組態和組態後步驟。</block>
  <block id="e230d95c57c5534b3e90b93fddbcb1c9" category="section-title">將內部部署的Oracle正式作業DB複製到雲端以進行災難恢復</block>
  <block id="db9517755259859dbae095126c803544" category="list-text">為了驗證實體複本還原是否透過上次可用的記錄執行、我們建立了一個小型測試表格、並插入一列。測試資料會在完整還原至上次可用的記錄後恢復。</block>
  <block id="39f00f2f1a95739a075844dcffac1441" category="paragraph"><block ref="39f00f2f1a95739a075844dcffac1441" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4fd1337293be82f7472d90bc35f51e90" category="list-text">以SnapCenter Oracle資料庫管理使用者ID登入功能。瀏覽至「Resources（資源）」索引標籤、其中顯示SnapCenter 受支援的Oracle資料庫。</block>
  <block id="1ddb1f7854ac534473544de627fc5289" category="paragraph"><block ref="1ddb1f7854ac534473544de627fc5289" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e795ef17ab8e08159909afe558c32a1c" category="list-text">選取Oracle記錄資源群組、然後按一下「立即備份」以手動執行Oracle記錄備份、以清除雲端中目的地的最新交易。在真正的災難恢復案例中、最後一筆可恢復的交易取決於資料庫記錄的磁碟區複寫頻率、而這又取決於公司的RTO或RPO原則。</block>
  <block id="e3ea77c81b6559a6984aee62074951ec" category="paragraph"><block ref="e3ea77c81b6559a6984aee62074951ec" category="inline-image-macro-rx" type="image"></block></block>
  <block id="44d1c907c1d5302eb896d76cae9b5e7f" category="paragraph"><block ref="44d1c907c1d5302eb896d76cae9b5e7f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d77575716b9cd49ab1453e367c405abe" category="admonition">在災難恢復案例中、非同步SnapMirror會在資料庫記錄備份時間間隔內、遺失尚未將資料移至雲端目的地的資料。為了將資料遺失降至最低、可以排程更頻繁的記錄備份。不過、記錄備份頻率有技術上可達成的限制。</block>
  <block id="c684c2587fa959f3df40953faab1c1a1" category="list-text">選取次要鏡射備份上的最後一個記錄備份、然後掛載記錄備份。</block>
  <block id="4d27921136b62a393650eec8f38c5a39" category="paragraph"><block ref="4d27921136b62a393650eec8f38c5a39" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6784de36878125b88feb4c3192d2aa3d" category="paragraph"><block ref="6784de36878125b88feb4c3192d2aa3d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fbfa0a2a63c1090863dedb14664d443c" category="list-text">選取上次完整資料庫備份、然後按一下「Clone（複製）」以啟動複製工作流程。</block>
  <block id="ecafa568fe2f36fee38130d0f80eeafc" category="paragraph"><block ref="ecafa568fe2f36fee38130d0f80eeafc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3aa765536eeb5bd55823afbb43c9efdc" category="list-text">在主機上選取唯一的實體複本資料庫ID。</block>
  <block id="6d4d1ea488e25d46cd7824491f3f98fb" category="paragraph"><block ref="6d4d1ea488e25d46cd7824491f3f98fb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d57d235b31b66e982ae6d433fa33948e" category="list-text">為Oracle Flash恢復區域和線上記錄檔配置記錄磁碟區、並將其掛載至目標DR伺服器。</block>
  <block id="4ef6ef644cc7510226d8d150ce9cfe73" category="paragraph"><block ref="4ef6ef644cc7510226d8d150ce9cfe73" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4d5730b3167534121e5ac4fcdf84cf1f" category="paragraph"><block ref="4d5730b3167534121e5ac4fcdf84cf1f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6142419cbd2b279a240db52011ea3cab" category="admonition">Oracle複製程序不會建立記錄磁碟區、在複製之前、必須先在DR伺服器上進行資源配置。</block>
  <block id="b20da77a777ef0a84d95f447b254387c" category="list-text">選取目標實體複製主機和位置、以放置資料檔案、控制檔和重作記錄。</block>
  <block id="326062662ffdb461c61b5ddfc54974bc" category="paragraph"><block ref="326062662ffdb461c61b5ddfc54974bc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6b126b14adfdc04f12e6a00531155f4a" category="list-text">選取複本的認證資料。填寫目標伺服器上的Oracle主目錄組態詳細資料。</block>
  <block id="ee4a9d80953ee6db29e5577ef13327ba" category="paragraph"><block ref="ee4a9d80953ee6db29e5577ef13327ba" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c76f59dc52686a71eb5917bbcabfa212" category="list-text">指定要在複製前執行的指令碼。如有需要、可調整資料庫參數。</block>
  <block id="31b131b08153ae34a96d1e17fa891e1f" category="paragraph"><block ref="31b131b08153ae34a96d1e17fa891e1f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7018f70f78c5e3154b2620e31167c12e" category="list-text">選取「直到取消」作為還原選項、讓還原在所有可用的歸檔記錄中執行、以重新執行複寫到次要雲端位置的最後一筆交易。</block>
  <block id="57fa7fef5a8266470204775391a701d3" category="paragraph"><block ref="57fa7fef5a8266470204775391a701d3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6233d74c8f9820a1029624d60ab66049" category="list-text">如有需要、請設定用於電子郵件通知的SMTP伺服器。</block>
  <block id="a563132424d4d3d255697521a0446bc9" category="paragraph"><block ref="a563132424d4d3d255697521a0446bc9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="99a0cd00abfa258b121d480ce7d27e63" category="list-text">災難恢復複製摘要。</block>
  <block id="0f66818ccf8a8dd3d6491b9bcf74c02e" category="paragraph"><block ref="0f66818ccf8a8dd3d6491b9bcf74c02e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b4ff014e6bff5ee06349d607c14fcf9e" category="list-text">複製的DB會在SnapCenter 複製完成後立即以支援功能登錄、並可用於備份保護。</block>
  <block id="18eac7477ab0c6038ec443444677a1eb" category="paragraph"><block ref="18eac7477ab0c6038ec443444677a1eb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="22d74aee547ad10d104f875521cfa6d7" category="section-title">Oracle的災難恢復複製後驗證與組態</block>
  <block id="9d58cce71d4c85948ccecfea105367ed" category="list-text">驗證上次在雲端的DR位置排清、複寫及恢復的測試交易。</block>
  <block id="1db3ba1f62cbb82a66232de851bad3ce" category="paragraph"><block ref="1db3ba1f62cbb82a66232de851bad3ce" category="inline-image-macro-rx" type="image"></block></block>
  <block id="61b3573abc722a493f53ed27503f7eff" category="list-text">設定Flash恢復區域。</block>
  <block id="71ca9fe67f8c3826e171fb227af4f666" category="paragraph"><block ref="71ca9fe67f8c3826e171fb227af4f666" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4005d553f013abc53c6a1a65aed1d65f" category="list-text">設定Oracle接聽程式以供使用者存取。</block>
  <block id="0c79c2a9e4fd1ea908a63d58f1f44917" category="list-text">將複製的磁碟區從複製的來源磁碟區分割開。</block>
  <block id="42e82bb35283d9f2e2b444419f518667" category="list-text">從雲端還原複寫至內部部署、然後重建故障的內部部署資料庫伺服器。</block>
  <block id="4ce2420dd00dd0b543e2e51bf7c1c135" category="admonition">複本分割可能會產生比正常作業高出許多的暫用儲存空間使用率。不過、在內部部署資料庫伺服器重新建置之後、可以釋出額外空間。</block>
  <block id="0e70133bb418f4025b82a6a35301e209" category="section-title">將內部部署SQL正式作業資料庫複製到雲端以進行災難恢復</block>
  <block id="32bfa00a92b9f85d791a43f6d70a35cd" category="list-text">同樣地、為了驗證SQL複製還原是否透過上次可用的記錄執行、我們建立了一個小型測試表格、並插入一列。測試資料會在完整還原至最後可用的記錄後恢復。</block>
  <block id="321bd96e83b00fcd04bfcc72ec4564ff" category="paragraph"><block ref="321bd96e83b00fcd04bfcc72ec4564ff" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a3b7f1fcf93afdd055ec19e230b54347" category="list-text">使用SQL Server的資料庫管理使用者ID登入SnapCenter 支援功能。瀏覽至「資源」索引標籤、此索引標籤會顯示SQL Server保護資源群組。</block>
  <block id="c9673e38d22c239c3b46259620b7b190" category="paragraph"><block ref="c9673e38d22c239c3b46259620b7b190" category="inline-image-macro-rx" type="image"></block></block>
  <block id="608bfa3334f97023b71f6b7a04742bd6" category="list-text">手動執行記錄備份、以清空最後一筆交易、將其複寫至公有雲的次要儲存設備。</block>
  <block id="94ca8d0daf1445cae1bbc5a13d7b0c42" category="paragraph"><block ref="94ca8d0daf1445cae1bbc5a13d7b0c42" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a9b9ced1d8d8e91eb2606cb7d0932fa4" category="list-text">選取上次完整的SQL Server備份以進行複本。</block>
  <block id="f93fa51d605a26ef233b6fb9c5489266" category="paragraph"><block ref="f93fa51d605a26ef233b6fb9c5489266" category="inline-image-macro-rx" type="image"></block></block>
  <block id="82efcc579f2220a65dbe5cdd64f47253" category="list-text">設定Clone Server（Clone伺服器）、Clone Instance（複製執行個體）、Clone Name（複製名稱）及mount（掛載）選項等Clone設定。執行複製的次要儲存位置會自動填入。</block>
  <block id="bb5bdefa03845f9483d1e3fcf8d3b40f" category="paragraph"><block ref="bb5bdefa03845f9483d1e3fcf8d3b40f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9d84ecf0ed314694d6e3ad9b2a96a198" category="list-text">選取要套用的所有記錄備份。</block>
  <block id="79284af3915a1bc3e4d4d3993acd9042" category="paragraph"><block ref="79284af3915a1bc3e4d4d3993acd9042" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6f68fbd76be71ebe267aa207f7bef25f" category="list-text">指定要在複製之前或之後執行的任何選用指令碼。</block>
  <block id="1f29cf99c49ef1910181e451424c3796" category="paragraph"><block ref="1f29cf99c49ef1910181e451424c3796" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0ac43ede08a0b7154673a619b979f17d" category="list-text">如果需要電子郵件通知、請指定一個SMTP伺服器。</block>
  <block id="e8aa5b543b67c22f0a2a205562794787" category="paragraph"><block ref="e8aa5b543b67c22f0a2a205562794787" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f7338d3af995c4a281de85493129cc18" category="list-text">災難恢復複製摘要。複製的資料庫會立即登錄SnapCenter 到支援資料中心、並提供備份保護。</block>
  <block id="332fb27e1cc349fc79252fbfc5de6ad0" category="paragraph"><block ref="332fb27e1cc349fc79252fbfc5de6ad0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8be7490bb89f986a83768e6a71d78ee8" category="paragraph"><block ref="8be7490bb89f986a83768e6a71d78ee8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5f01a56e31a650c5bb83408b5238270e" category="section-title">SQL的災難恢復複製後驗證與組態</block>
  <block id="029640b7bf09578f05703e407e99b8d7" category="list-text">監控複製工作狀態。</block>
  <block id="d5f350d5580b71105a1718557ce88137" category="paragraph"><block ref="d5f350d5580b71105a1718557ce88137" category="inline-image-macro-rx" type="image"></block></block>
  <block id="68236fcee9bee8dbdc1c54b7b2d84b34" category="list-text">驗證上一筆交易是否已複寫、並以所有記錄檔複製與還原進行還原。</block>
  <block id="3ebb58ab28579acf2742808bf95fc07e" category="paragraph"><block ref="3ebb58ab28579acf2742808bf95fc07e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="50159c53d6f87eb33c314abd9f0bd28f" category="list-text">在SnapCenter DR伺服器上設定新的靜態記錄目錄、以進行SQL Server記錄備份。</block>
  <block id="52320018ddc230fda7bdeccfda8b9f0a" category="section-title">哪裡可以取得協助？</block>
  <block id="2d6962c20ba37b34437afc30e6838e0d" category="inline-link-macro">NetApp解決方案自動化社群支援Slack通路</block>
  <block id="50f8c30e062c542679b96127a844db6a" category="paragraph">如果您需要本解決方案和使用案例的協助、請加入 <block ref="f9456f3b54a140d5d3858823c684363f" category="inline-link-macro-rx"></block> 並尋找解決方案自動化通路、以張貼您的問題或詢問。</block>
  <block id="a10998cc3e1dc7f2a013754d935c4f26" category="summary">NetApp SnapCenter 解決方案支援工具使用角色型存取控制（RBAC）來管理使用者資源存取和權限授予、SnapCenter 而安裝此工具則可建立預先填入的角色。您也可以根據自己的需求或應用程式來建立自訂角色。</block>
  <block id="7e3b07f9add4cd78ade3c795a52dfad2" category="doc">內部部署入門</block>
  <block id="32229cff9e0b41c513b3e3b9e19cec88" category="inline-link-macro">上一步：入門概述。</block>
  <block id="6be036b00e3db4159514171a989cacd6" category="paragraph"><block ref="6be036b00e3db4159514171a989cacd6" category="inline-link-macro-rx"></block></block>
  <block id="7146594a919f2b006b1b0911c7b6d7da" category="section-title">內部部署</block>
  <block id="d30e54646ba482722332f48ddc22bde5" category="section-title">1 SnapCenter 、設定資料庫管理員使用者</block>
  <block id="72f706d19ed0d09889b4fbc7578cd1a3" category="paragraph">NetApp SnapCenter 解決方案支援工具使用角色型存取控制（RBAC）來管理使用者資源存取和權限授予、SnapCenter 而安裝過程則會建立預先填入的角色。您也可以根據自己的需求或應用程式來建立自訂角色。針對支援的每個資料庫平台、使用專屬的管理員使用者ID進行SnapCenter 資料庫備份、還原及/或災難恢復是很合理的做法。您也可以使用單一ID來管理所有資料庫。在我們的測試案例和示範中、我們分別為Oracle和SQL Server建立專屬的管理使用者。</block>
  <block id="27733e8f07432bb94ac7621b28d3b2c8" category="paragraph">某些SnapCenter 支援功能資源只能以SnapCenterAdmin角色來配置。然後可以將資源指派給其他使用者ID以供存取。</block>
  <block id="64784aa3cec13e83af6e941f8489cf06" category="paragraph">在預先安裝及設定的內部部署SnapCenter 環境中、下列工作可能已經完成。如果沒有、請執行下列步驟來建立資料庫管理員使用者：</block>
  <block id="c8867eac833e7bb55520105b00139f1a" category="list-text">將管理使用者新增至Windows Active Directory。</block>
  <block id="dd3e743eb52cbe7c2b6104573a9767e0" category="list-text">使用SnapCenterAdmin角色授予的ID登入SnapCenter 功能。</block>
  <block id="a6bd76cb24271ba173d16f01bf4108d0" category="list-text">瀏覽至「設定與使用者」下方的「存取」索引標籤、然後按一下「新增」以新增使用者。新的使用者ID會連結至步驟1中在Windows Active Directory中建立的管理員使用者。。視需要指派適當的角色給使用者。視情況指派資源給管理使用者。</block>
  <block id="6a67bb048bd14dd348cca7f81b62d699" category="paragraph"><block ref="6a67bb048bd14dd348cca7f81b62d699" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5d2c51e83f473f137861a132554d1916" category="section-title">2、安裝此外掛程式的先決條件SnapCenter</block>
  <block id="7bd973d4d28d6fcf5f50379b33a49758" category="paragraph">使用資料庫主機上執行的外掛程式代理程式執行備份、還原、複製及其他功能。SnapCenter它會透過設定和認證索引標籤下設定的認證、連線至資料庫主機和資料庫、以進行外掛程式安裝和其他管理功能。根據目標主機類型（例如Linux或Windows）以及資料庫類型、有特定的權限要求。</block>
  <block id="c342f214098114b90cb67297a2ef5dc3" category="paragraph">資料庫主機認證資料必須先設定、才能SnapCenter 安裝非必要的外掛程式。一般而言、您想要使用資料庫主機上的系統管理員使用者帳戶做為外掛程式安裝的主機連線認證。您也可以使用OS型驗證、將相同的使用者ID授予資料庫存取。另一方面、您也可以使用資料庫驗證搭配不同的資料庫使用者ID來進行DB管理存取。如果您決定使用OS型驗證、則必須將OS管理使用者ID授予DB存取權。對於Windows網域型SQL Server安裝、網域管理帳戶可用於管理網域內的所有SQL Server。</block>
  <block id="19df1192effefad83e57653fd3a47415" category="paragraph">適用於SQL Server的Windows主機：</block>
  <block id="e1cc3ce53d7753e33588201db3d3b147" category="list-text">如果您使用Windows認證來進行驗證、則必須先設定認證、才能安裝外掛程式。</block>
  <block id="a82f1290b72a26d654b93632a1ec50bb" category="list-text">如果您使用SQL Server執行個體進行驗證、則必須在安裝外掛程式之後新增認證。</block>
  <block id="63f74bef6650942c6795f96366a39e6a" category="list-text">如果您在設定認證資料時啟用SQL驗證、則探索到的執行個體或資料庫會顯示紅色鎖定圖示。如果出現鎖定圖示、您必須指定執行個體或資料庫認證、才能將執行個體或資料庫成功新增至資源群組。</block>
  <block id="b61dad3bbbf3270bf2dada5c2ac1f775" category="list-text">當符合下列條件時、您必須將認證指派給沒有Sysadmin存取權的RBAC使用者：</block>
  <block id="34cefb5a19894e4f9b1b068544c0f591" category="list-text">認證資料會指派給SQL執行個體。</block>
  <block id="6707464a5871a6aa26dcf785bea4052c" category="list-text">SQL執行個體或主機會指派給RBAC使用者。</block>
  <block id="4bc8aac02ff00d874ad8b4ccd4d745ed" category="list-text">RBAC DB管理使用者必須同時擁有資源群組和備份權限。</block>
  <block id="9198b455aa67840c7a69c7a54e94301a" category="paragraph">適用於Oracle的UNIX主機：</block>
  <block id="71d53e54a48cfe7de69347bcd854ef30" category="list-text">您必須編輯sshd.conf並重新啟動sshd服務、為root或非root使用者啟用密碼型SSH連線。AWS執行個體上的密碼型SSH驗證預設為關閉。</block>
  <block id="efa873f0464a14d54b066f475ad74480" category="list-text">設定非root使用者的Sudo權限、以安裝及啟動外掛程式程序。安裝外掛程式之後、程序會以有效的root使用者身分執行。</block>
  <block id="82a2174029175f8fbc3f52fea4e18c84" category="list-text">使用Linux驗證模式為安裝使用者建立認證。</block>
  <block id="86b3cc44ebd8e0a9185e48c4f22e81e9" category="list-text">您必須在Linux主機上安裝Java 1.8.x（64位元）。</block>
  <block id="c1e8851d10ecc615c47a47f704569d29" category="list-text">安裝Oracle資料庫外掛程式也會安裝SnapCenter 適用於Unix的支援程式。</block>
  <block id="7efb27733d1fb21feae901a41580dced" category="section-title">3. SnapCenter 安裝支援主機外掛程式</block>
  <block id="37a5c714defad8175b81b4d49eb0544c" category="admonition">在嘗試在SnapCenter 雲端DB伺服器執行個體上安裝時、請先確認所有組態步驟均已完成、如運算執行個體部署的相關雲端區段所列。</block>
  <block id="283aa502c28fe1c9ff8dadd1700955fc" category="paragraph">下列步驟說明如何在SnapCenter 主機上安裝一個支援程式的情況下、將資料庫主機新增至支援程式。SnapCenter此程序適用於新增內部部署主機和雲端主機。下列示範新增位於AWS中的Windows或Linux主機。</block>
  <block id="81ed46777c39c0d0618953601572fc27" category="section-title">設定SnapCenter VMware全域設定</block>
  <block id="2aa8a40dbbfb6b52621408c81aa5373c" category="paragraph">瀏覽至「設定」&gt;「全域設定」。選取Hypervisor設定下的「VM有iSCSI直接附加磁碟或所有主機的NFS」、然後按一下「Update（更新）」。</block>
  <block id="4c120331c9eea223eee675b6588d76ee" category="paragraph"><block ref="4c120331c9eea223eee675b6588d76ee" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1f63a469619859e4cfab52fd63523aca" category="section-title">新增Windows主機、並在主機上安裝外掛程式</block>
  <block id="997da6deedab4436b559e3a8f7f05a2e" category="list-text">使用具有SnapCenterAdmin權限的使用者ID登入SnapCenter 功能。</block>
  <block id="97e7f600216a2e9ae18423777e11ad9c" category="list-text">按一下左側功能表中的「hosts（主機）」索引標籤、然後按一下「Add（新增）」以開啟「Add Host（新增主機）」工作流程。</block>
  <block id="35314bae57d7ff62ab36156211c1cc71" category="list-text">選擇Windows作為主機類型、主機名稱可以是主機名稱或IP位址。主機名稱必須從SnapCenter 該支援主機解析為正確的主機IP位址。選擇在步驟2中建立的主機認證資料。選擇Microsoft Windows和Microsoft SQL Server做為要安裝的外掛套件。</block>
  <block id="b9740ae9eb2ef0fe27e4c541d06a961f" category="paragraph"><block ref="b9740ae9eb2ef0fe27e4c541d06a961f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="31efcd689861354799bb539ab2571ebe" category="list-text">在Windows主機上安裝外掛程式之後、其整體狀態會顯示為「Configure log目錄」。</block>
  <block id="0e15e25c5ee21469698f72cf35caa7bf" category="paragraph"><block ref="0e15e25c5ee21469698f72cf35caa7bf" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d2aeaa4503c6d72513c0dbe0f205ee3b" category="list-text">按一下主機名稱以開啟SQL Server記錄目錄組態。</block>
  <block id="6fc78660a180b747f815b878c89e3cb0" category="paragraph"><block ref="6fc78660a180b747f815b878c89e3cb0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8cb2b40646a77b4f044e7fa04ea20306" category="list-text">按一下「設定記錄目錄」以開啟「設定SQL Server的外掛程式」。</block>
  <block id="5e3bf9ddacfcad12c5cf63614a869ad4" category="paragraph"><block ref="5e3bf9ddacfcad12c5cf63614a869ad4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f7143b5d162d385dfb1af07f61c59f65" category="list-text">按一下「瀏覽SnapCenter 」以探索NetApp儲存設備、以便設定記錄目錄；使用此記錄目錄來彙總SQL Server交易記錄檔。然後按一下「儲存」。</block>
  <block id="50eb49de485da684ac1556947ac46aba" category="paragraph"><block ref="50eb49de485da684ac1556947ac46aba" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b0d88588bdb07dd412a4ba1d08348b29" category="admonition">若要探索配置至資料庫主機的NetApp儲存設備、必須將儲存設備（內部部署或CVO）新增至SnapCenter 支援區、如CVO步驟6所示。</block>
  <block id="d744af12906d55ab51aa932b3ffcd121" category="list-text">設定記錄目錄之後、Windows主機外掛程式的整體狀態會變更為執行中。</block>
  <block id="3f7bfffdbb76fd620b0a31d300415528" category="paragraph"><block ref="3f7bfffdbb76fd620b0a31d300415528" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f41517f2e270a138f4ae92988a4cbdd2" category="list-text">若要將主機指派給資料庫管理使用者ID、請瀏覽至「Settings and Users（設定與使用者）」下的「Access（存取）」索引標籤、按一下資料庫管理使用者ID（在我們的案例中是主機需要指派的sqldba）、然後按一下「Save（儲存）」完成主機資源指派。</block>
  <block id="b21f826d2ea15e58b9c8aadccb566cfe" category="paragraph"><block ref="b21f826d2ea15e58b9c8aadccb566cfe" category="inline-image-macro-rx" type="image"></block></block>
  <block id="021de72edbb0f174ffe954c5e5367b80" category="paragraph"><block ref="021de72edbb0f174ffe954c5e5367b80" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e2fe19c733a6342990513e02264db163" category="section-title">新增Unix主機、並在主機上安裝外掛程式</block>
  <block id="6a0f36be9f208d20c3c1145c3a09b876" category="list-text">按一下左側功能表中的「主機」索引標籤、然後按一下「新增」以開啟「新增主機」工作流程。</block>
  <block id="dd8c6d773e31c4254eb58b4b5e2ae1be" category="list-text">選擇Linux作為主機類型。主機名稱可以是主機名稱或IP位址。不過、主機名稱必須解析、才能從SnapCenter 功能主機修正主機IP位址。選擇在步驟2中建立的主機認證。主機認證資料需要Sudo權限。將Oracle資料庫核取為要安裝的外掛程式、安裝Oracle和Linux主機外掛程式。</block>
  <block id="7d4cdef2144fd1466fae298bd27476d1" category="paragraph"><block ref="7d4cdef2144fd1466fae298bd27476d1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="711730391561a228d41f7fede13ca6e8" category="list-text">按一下「更多選項」、然後選取「跳過預先安裝檢查」。 系統會提示您確認跳過預先安裝檢查。按一下「Yes（是）」、然後按一</block>
  <block id="3511b18d059f3f300b5fbe827f7273ac" category="paragraph"><block ref="3511b18d059f3f300b5fbe827f7273ac" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e095a093138c6b1968d313d5f799255a" category="list-text">按一下「提交」開始安裝外掛程式。系統會提示您確認指紋、如下所示。</block>
  <block id="146c4805beb9310e4554842f776cb88b" category="paragraph"><block ref="146c4805beb9310e4554842f776cb88b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="53dcda6f2c03efbe73ae5eb311852a8d" category="list-text">執行主機驗證和登錄、然後在Linux主機上安裝外掛程式。SnapCenter狀態會從「安裝外掛程式」變更為「執行中」。</block>
  <block id="2636403a6c50748422736d9d84a3e4be" category="paragraph"><block ref="2636403a6c50748422736d9d84a3e4be" category="inline-image-macro-rx" type="image"></block></block>
  <block id="33ea9d9313933c68d640ebb655ec43dc" category="list-text">將新增的主機指派至適當的資料庫管理使用者ID（在我們的案例中為oradba）。</block>
  <block id="2815d2f5e3b49d9332a320ec997271dd" category="paragraph"><block ref="2815d2f5e3b49d9332a320ec997271dd" category="inline-image-macro-rx" type="image"></block></block>
  <block id="eb6a9566891a97e0f8fbaefbd4878bdd" category="paragraph"><block ref="eb6a9566891a97e0f8fbaefbd4878bdd" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2b4c839521fd41e845e6e8c3158b809b" category="section-title">4.資料庫資源探索</block>
  <block id="45e46a9524f23884445bf542bf464b93" category="paragraph">成功安裝外掛程式後、即可立即探索主機上的資料庫資源。按一下左側功能表中的「Resources（資源）」索引標籤。視資料庫平台的類型而定、有許多檢視可供使用、例如資料庫、資源群組等。如果未發現並顯示主機上的資源、您可能需要按一下「Refresh Resources（重新整理資源）」索引標籤。</block>
  <block id="79fca6395972f8079320d3229822e491" category="paragraph"><block ref="79fca6395972f8079320d3229822e491" category="inline-image-macro-rx" type="image"></block></block>
  <block id="66789731e61fd3d4b6024e5fcb0945e1" category="paragraph">初次探索資料庫時、整體狀態會顯示為「未受保護」。 上一個螢幕快照顯示Oracle資料庫尚未受到備份原則的保護。</block>
  <block id="68148a1249ca9110d03c698ae152932a" category="paragraph">設定備份組態或原則並執行備份時、資料庫的整體狀態會顯示備份狀態為「備份成功」、以及上次備份的時間戳記。下列螢幕擷取畫面顯示SQL Server使用者資料庫的備份狀態。</block>
  <block id="2cdfb74ac3aabfde7e1fae347ed5afc7" category="paragraph"><block ref="2cdfb74ac3aabfde7e1fae347ed5afc7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a9c9616324bc00808729d46fba94ad75" category="paragraph">如果資料庫存取認證未正確設定、則紅色鎖定按鈕表示無法存取資料庫。例如、如果Windows認證沒有資料庫執行個體的Sysadmin存取權、則必須重新設定資料庫認證、才能解除鎖定紅色鎖定。</block>
  <block id="dd4606e87689c86d82a694412c5654a5" category="paragraph"><block ref="dd4606e87689c86d82a694412c5654a5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="884f07ad394b89553e7d6d1f90fae584" category="paragraph"><block ref="884f07ad394b89553e7d6d1f90fae584" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0024854a814ddd68bcf3907357c46bc2" category="paragraph">在Windows層級或資料庫層級設定適當的認證之後、紅色鎖定就會消失、SQL Server類型資訊也會收集並檢閱。</block>
  <block id="95c88e08b2fd416b4514ce2454af2038" category="paragraph"><block ref="95c88e08b2fd416b4514ce2454af2038" category="inline-image-macro-rx" type="image"></block></block>
  <block id="864f4d2595d06e5e8b46b08edb3899e6" category="section-title">5.設定儲存叢集對等和資料庫磁碟區複寫</block>
  <block id="785196ec55a9e713ad1a4f962baa31dd" category="paragraph">為了使用公有雲作為目標目的地來保護內部部署資料庫資料、內部部署ONTAP 的叢集資料庫磁碟區會使用NetApp SnapMirror技術複寫至雲端CVO。然後可以複製複寫的目標磁碟區、以供開發/營運或災難恢復之用。下列高層級步驟可讓您設定叢集對等和資料庫磁碟區複寫。</block>
  <block id="1f1927293f04e4cf0fc91a7e389612eb" category="list-text">在內部部署叢集和CVO叢集執行個體上設定叢集間對等關係。此步驟可透過ONTAP 「系統管理員」執行。預設的CVO部署會自動設定叢集間的LIF。</block>
  <block id="9547803d96e78bbc38305e6300f7a800" category="paragraph">內部部署叢集：</block>
  <block id="2ef6da9ba547bc5361495650ac3fc992" category="paragraph"><block ref="2ef6da9ba547bc5361495650ac3fc992" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f3c5b3e342f57b792e2263e69e41677a" category="paragraph">目標CVO叢集：</block>
  <block id="d94586e4cd285619a4f1ef0e06636dd1" category="paragraph"><block ref="d94586e4cd285619a4f1ef0e06636dd1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="79d372933b80ed2ca8ca14d8458828af" category="inline-link-macro">入門指南- AWS公有雲</block>
  <block id="6a87ea28950f9209121872c9d2690049" category="list-text">在設定叢集間生命體之後、您可以使用NetApp Cloud Manager中的拖放功能來設定叢集對等和磁碟區複寫。請參閱 <block ref="28783e162df4af496939d6f9f6f31d5f" category="inline-link-macro-rx"></block> 以取得詳細資料。</block>
  <block id="d1567c6c8f0752cbc7deb6d9f639ba12" category="paragraph">或者、您ONTAP 也可以使用下列功能、使用下列的「系統管理程式」來執行叢集對等和資料庫Volume複寫：</block>
  <block id="494c0b53ff31502c0c1105881e2e389a" category="list-text">登入ONTAP 《系統管理程式》。瀏覽至「叢集」&gt;「設定」、然後按一下「對等叢集」、以設定叢集與雲端中CVO執行個體的對等關係。</block>
  <block id="ba770272a0f634af47a5788634e80d54" category="paragraph"><block ref="ba770272a0f634af47a5788634e80d54" category="inline-image-macro-rx" type="image"></block></block>
  <block id="54de72c782c4b4ccc7f2914a858d5356" category="list-text">前往「Volumes（磁碟區）」索引標籤選取要複寫的資料庫磁碟區、然後按一下「Protect（保護）」。</block>
  <block id="32588f46a47679329b03194fd2e9084f" category="paragraph"><block ref="32588f46a47679329b03194fd2e9084f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b0aace069b478e8b2b0753f855f2be94" category="list-text">將保護原則設為「非同步」。選取目的地叢集和儲存SVM。</block>
  <block id="7dbec53b432ae53f7e454836ad0dad00" category="paragraph"><block ref="7dbec53b432ae53f7e454836ad0dad00" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1a2a64fe8af0790615a9344069794e2e" category="list-text">驗證來源與目標之間的磁碟區是否同步、以及複寫關係是否健全。</block>
  <block id="97edcd79a5e90d9caafde40fcb586185" category="paragraph"><block ref="97edcd79a5e90d9caafde40fcb586185" category="inline-image-macro-rx" type="image"></block></block>
  <block id="36097c4ad6058de288de8992f89adbb8" category="section-title">6.將CVO資料庫儲存SVM新增SnapCenter 至</block>
  <block id="ebcf85d67af3f672ade8bd7b224a8a2b" category="list-text">按一下功能表中的「Storage System（儲存系統）」索引標籤、然後按一下「New（新增）」以新增裝載複寫目標資料庫Volume的CVO儲存SVM SnapCenter 。在Storage System（儲存系統）欄位中輸入叢集管理IP、然後輸入適當的使用者名稱和密碼。</block>
  <block id="41e9c94a0c8cb108959099b8f87adb82" category="paragraph"><block ref="41e9c94a0c8cb108959099b8f87adb82" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a27406b63f99780f65572b95f2f72348" category="list-text">按一下「更多選項」以開啟其他儲存組態選項。在「Platform（平台）」欄位中、選取Cloud Volumes ONTAP 「效益」、選取「次要」、然後按一下「Save（儲存）」。</block>
  <block id="8a60464ab91cb2499a03c722639c3aee" category="paragraph"><block ref="8a60464ab91cb2499a03c722639c3aee" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b474a0a2de59b8e3013112beb48af7b7" category="list-text">如SnapCenter 所示、將儲存系統指派給不實的資料庫管理使用者ID <block ref="8a46cbc3838a53b9205abb25a577bbc8" category="inline-xref-macro-rx"></block>。</block>
  <block id="8691f91a1fe977fd76aa5e53b0f71034" category="paragraph"><block ref="8691f91a1fe977fd76aa5e53b0f71034" category="inline-image-macro-rx" type="image"></block></block>
  <block id="39ec95149453e7bb6b73f1c03228e85c" category="section-title">7. SnapCenter 在VMware中設定資料庫備份原則</block>
  <block id="37d9f685e375f77a2231e13c88ccc606" category="paragraph">下列程序示範如何建立完整資料庫或記錄檔備份原則。然後可以實作原則來保護資料庫資源。恢復點目標（RPO）或恢復時間目標（RTO）決定了資料庫和（或）記錄備份的頻率。</block>
  <block id="739184f368f13e142dd034fcdc853594" category="section-title">建立Oracle的完整資料庫備份原則</block>
  <block id="94b39254a7aba068b68fec64f6331b0b" category="list-text">以SnapCenter 資料庫管理使用者ID登入功能表、按一下「設定」、然後按一下「原則」。</block>
  <block id="90affc4ffbb767a3d1272be5e1ad8f0c" category="paragraph"><block ref="90affc4ffbb767a3d1272be5e1ad8f0c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a1d144b8c78fc8541b57aa9f0ca863a6" category="list-text">按一下「新增」以啟動新的備份原則建立工作流程、或選擇要修改的現有原則。</block>
  <block id="29618ae8465c694d23d68e171fe9d905" category="paragraph"><block ref="29618ae8465c694d23d68e171fe9d905" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8c9dac29c26006ce512153a9bdabcc95" category="list-text">選取備份類型和排程頻率。</block>
  <block id="10e2791563a2891fd7e4e68c5673671b" category="paragraph"><block ref="10e2791563a2891fd7e4e68c5673671b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4df94ad44381c9fb7fe2f8d01dcd16d8" category="list-text">設定備份保留設定。這會定義要保留多少完整資料庫備份複本。</block>
  <block id="6dcc4aa023085480846059b6b1d5e5b3" category="paragraph"><block ref="6dcc4aa023085480846059b6b1d5e5b3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fd634020906b35a41e0ba633eddeb96a" category="list-text">選取次要複寫選項、將本機主要快照備份推送至雲端的次要位置。</block>
  <block id="25ef9e4c73a2da8519e8d232b6a95fcb" category="paragraph"><block ref="25ef9e4c73a2da8519e8d232b6a95fcb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b2e3af55a4355bc46e91425ac5701174" category="list-text">指定在備份執行前後執行的任何選用指令碼。</block>
  <block id="326d50fae4f713cebe97d0f6bb23a2d9" category="paragraph"><block ref="326d50fae4f713cebe97d0f6bb23a2d9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cd009bc210e371d36d466b592179e883" category="list-text">視需要執行備份驗證。</block>
  <block id="0b132e3438f5cf31e90f45e79710f0b9" category="paragraph"><block ref="0b132e3438f5cf31e90f45e79710f0b9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="dba73d3ec3f929ff18665087076291ac" category="list-text">摘要：</block>
  <block id="4f92fa99421beeb9f74ee7613de52706" category="paragraph"><block ref="4f92fa99421beeb9f74ee7613de52706" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b3594f2789840eda9633139ca530384a" category="section-title">為Oracle建立資料庫記錄備份原則</block>
  <block id="be763ec2afcb0358426bb0abcae4dd60" category="list-text">使用資料庫管理使用者ID登入SnapCenter 功能表、按一下「設定」、然後按一下「原則」。</block>
  <block id="b0e663a3d363868d6c71ab9ec37940c6" category="list-text">按一下「新增」以啟動新的備份原則建立工作流程、或選擇要修改的現有原則。</block>
  <block id="fa2687f5a5fbedb43745f649a2e11950" category="paragraph"><block ref="fa2687f5a5fbedb43745f649a2e11950" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0938f6574b189bdac27cdd92abc521c5" category="paragraph"><block ref="0938f6574b189bdac27cdd92abc521c5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="59480846ec23463481d361bf3026235e" category="list-text">設定記錄保留期間。</block>
  <block id="c8df578fbf71151edda735bc81e8511c" category="paragraph"><block ref="c8df578fbf71151edda735bc81e8511c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="04ba33c0584145006ca637b4556aa919" category="list-text">啟用複寫至公有雲中的次要位置。</block>
  <block id="fdbe42a8484a3e984e4aacb6a31cccef" category="paragraph"><block ref="fdbe42a8484a3e984e4aacb6a31cccef" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ab9406cbd3a8f082700523fdac8a0c1d" category="list-text">指定在記錄備份前後執行的任何選用指令碼。</block>
  <block id="5b04423521e56720f1f5d0291db584ef" category="paragraph"><block ref="5b04423521e56720f1f5d0291db584ef" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f4b55e05a9ae89fe14377b98bc8a8166" category="list-text">指定任何備份驗證指令碼。</block>
  <block id="c4dc219fd9466ab86c22ac8e859384ea" category="paragraph"><block ref="c4dc219fd9466ab86c22ac8e859384ea" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2564f2d008c62044da1b7f7397252edf" category="paragraph"><block ref="2564f2d008c62044da1b7f7397252edf" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fe147647227dfec6603bc76daf30463e" category="section-title">建立SQL的完整資料庫備份原則</block>
  <block id="fa726a7e85857bee77ace96dcf7e5316" category="paragraph"><block ref="fa726a7e85857bee77ace96dcf7e5316" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ce2168daff0c9b1a74e59d999d6ead44" category="paragraph"><block ref="ce2168daff0c9b1a74e59d999d6ead44" category="inline-image-macro-rx" type="image"></block></block>
  <block id="30637cfd5a5cc820d6bc4116fccfff7e" category="list-text">定義備份選項和排程頻率。對於使用可用度群組設定的SQL Server、可以設定偏好的備份複本。</block>
  <block id="b520dcfd25c4b29395bb9b12ac643bb2" category="paragraph"><block ref="b520dcfd25c4b29395bb9b12ac643bb2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5f74ada8393aecd40e892de04b5b30f8" category="list-text">設定備份保留期間。</block>
  <block id="4ade95d8122243cda1455b04504d3367" category="paragraph"><block ref="4ade95d8122243cda1455b04504d3367" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f1a67a80a7ad9403781b210983ea778d" category="list-text">啟用備份複本複寫至雲端的次要位置。</block>
  <block id="caf8324e53d9bb41b3ecb64f3e3b7dda" category="paragraph"><block ref="caf8324e53d9bb41b3ecb64f3e3b7dda" category="inline-image-macro-rx" type="image"></block></block>
  <block id="17b7b360fc2163537795a34cd8d14d6a" category="list-text">指定在備份工作之前或之後執行的任何選用指令碼。</block>
  <block id="abbc7de57d2b0d5d1c462b7513199253" category="paragraph"><block ref="abbc7de57d2b0d5d1c462b7513199253" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fb836d972496d965dd2170ed1480917b" category="list-text">指定執行備份驗證的選項。</block>
  <block id="b4dd01df6b310e6b0814328a86bd6ed6" category="paragraph"><block ref="b4dd01df6b310e6b0814328a86bd6ed6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="67cfb8548ccb78172db31d7af494fa02" category="paragraph"><block ref="67cfb8548ccb78172db31d7af494fa02" category="inline-image-macro-rx" type="image"></block></block>
  <block id="02b67ed2348002e614d5a35151577632" category="section-title">建立SQL的資料庫記錄備份原則。</block>
  <block id="b405195aec7cf62440373fcdc490dec6" category="list-text">使用資料庫管理使用者ID登入SnapCenter 功能表、按一下「設定」&gt;「原則」、然後按一下「新增」以啟動新的原則建立工作流程。</block>
  <block id="c236030076b67936a7c1c11d49408838" category="paragraph"><block ref="c236030076b67936a7c1c11d49408838" category="inline-image-macro-rx" type="image"></block></block>
  <block id="acdaf46fc90606d68f3f2b52cca5e95b" category="list-text">定義記錄備份選項和排程頻率。對於使用可用度群組設定的SQL Server、可以設定偏好的備份複本。</block>
  <block id="19ab604707a9384fa4883cedd5a525f9" category="paragraph"><block ref="19ab604707a9384fa4883cedd5a525f9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="da00d968a5d810d846ddc815b8f405a4" category="list-text">SQL Server資料備份原則會定義記錄備份保留；在此接受預設值。</block>
  <block id="783828e5ae6dcfd713966e7301831296" category="paragraph"><block ref="783828e5ae6dcfd713966e7301831296" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d04d89062d3ed67bbc9c4aee35bdba7f" category="list-text">在雲端中啟用次要的記錄備份複寫。</block>
  <block id="b1968bd01bc5c402dcd27c99ce6326cc" category="paragraph"><block ref="b1968bd01bc5c402dcd27c99ce6326cc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="30c50cf9d6726341a29a3caf97dc84e8" category="paragraph"><block ref="30c50cf9d6726341a29a3caf97dc84e8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c4d9b291b4ffaddb50c99313e530077f" category="paragraph"><block ref="c4d9b291b4ffaddb50c99313e530077f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f28f6c36698b3a4cd47cbeead15eddf2" category="section-title">8.實作備份原則以保護資料庫</block>
  <block id="37b889cc1b57f66ae9018b6eacb891ba" category="paragraph">使用資源群組在資料庫資源的邏輯群組中備份資料庫、例如伺服器上裝載的多個資料庫、共用相同儲存磁碟區的資料庫、支援商業應用程式的多個資料庫等。SnapCenter保護單一資料庫會建立自己的資源群組。下列程序示範如何實作第7節所建立的備份原則、以保護Oracle和SQL Server資料庫。</block>
  <block id="0603dbbe978e4cd3ee1c45ba96a1aa6f" category="section-title">建立資源群組以完整備份Oracle</block>
  <block id="5f4e02f34bcd7993867c4b3297a171d0" category="list-text">使用資料庫管理使用者ID登入SnapCenter 功能表、然後瀏覽至「資源」索引標籤。在「檢視」下拉式清單中、選擇「資料庫」或「資源群組」以啟動資源群組建立工作流程。</block>
  <block id="6eac6f96ac8d968dfec8184d16a73d43" category="paragraph"><block ref="6eac6f96ac8d968dfec8184d16a73d43" category="inline-image-macro-rx" type="image"></block></block>
  <block id="98dcf41bcde9cb6c4235a6a7dfe69346" category="list-text">提供資源群組的名稱和標記。您可以定義Snapshot複本的命名格式、並略過備援歸檔記錄目的地（如果已設定）。</block>
  <block id="a75ba82042ae54dd2e68cf6c7a26614c" category="paragraph"><block ref="a75ba82042ae54dd2e68cf6c7a26614c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0cd85a82e6f02b779006b158b9c5f828" category="list-text">將資料庫資源新增至資源群組。</block>
  <block id="3836a8be1f86b6658a7fa6b180e4a72d" category="paragraph"><block ref="3836a8be1f86b6658a7fa6b180e4a72d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cee52cb6702e7590fbef45eccc8fb2df" category="list-text">從下拉式清單中選取第7節所建立的完整備份原則。</block>
  <block id="af900bffdda986bc1db955ae78832742" category="paragraph"><block ref="af900bffdda986bc1db955ae78832742" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8fe872cd84ea2e9051770379e63f9caf" category="list-text">按一下（+）號以設定所需的備份排程。</block>
  <block id="9da504fd8ab60cfcc873608530cf5d56" category="paragraph"><block ref="9da504fd8ab60cfcc873608530cf5d56" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fdc27a4c5d48dbfc04f81ecac85acd64" category="list-text">按一下「Load Locators（載入定位器）」以載入來源和目的地Volume。</block>
  <block id="7242164857e43688f8a7bec97559c36e" category="paragraph"><block ref="7242164857e43688f8a7bec97559c36e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a752afaf144d06159ca3eec8bb23455f" category="list-text">如有需要、請設定用於電子郵件通知的SMTP伺服器。</block>
  <block id="b612dc8868902cf8fbf2b1024ad94e65" category="paragraph"><block ref="b612dc8868902cf8fbf2b1024ad94e65" category="inline-image-macro-rx" type="image"></block></block>
  <block id="95633243861715786b64e1554b629435" category="paragraph"><block ref="95633243861715786b64e1554b629435" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6f7192b9766e6f09c261f3ca3d3bddc8" category="section-title">建立資源群組以記錄Oracle備份</block>
  <block id="1a0cd5de7c84ddbf632838dd9f510d37" category="paragraph"><block ref="1a0cd5de7c84ddbf632838dd9f510d37" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f0ad3d9537c50952c04b71be3f9d4579" category="paragraph"><block ref="f0ad3d9537c50952c04b71be3f9d4579" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c33c31714f671e112fbe52b660d3e7a4" category="paragraph"><block ref="c33c31714f671e112fbe52b660d3e7a4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="03955b73285eab0d68e90c627da9726d" category="list-text">從下拉式清單中選取第7節中建立的記錄備份原則。</block>
  <block id="6286629570d2ca91cf6860e7da6e9073" category="paragraph"><block ref="6286629570d2ca91cf6860e7da6e9073" category="inline-image-macro-rx" type="image"></block></block>
  <block id="88c73129e9a418955658ce5c48d9d8b5" category="list-text">按一下（+）號以設定所需的備份排程。</block>
  <block id="8cdd30063d988671ffa9240fe171b1ce" category="paragraph"><block ref="8cdd30063d988671ffa9240fe171b1ce" category="inline-image-macro-rx" type="image"></block></block>
  <block id="eacfd6f10777b8dfb41199e4d4dfa915" category="list-text">如果已設定備份驗證、則會顯示於此處。</block>
  <block id="69911c1794125b768effca94c8153987" category="paragraph"><block ref="69911c1794125b768effca94c8153987" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1a27fac4b1d49d5468930a56c3a6de56" category="list-text">如有需要、請設定用於電子郵件通知的SMTP伺服器。</block>
  <block id="fd540644538dcedf1f6543455447728f" category="paragraph"><block ref="fd540644538dcedf1f6543455447728f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="554dbe35f6afa38e8232497f5d05d1c1" category="paragraph"><block ref="554dbe35f6afa38e8232497f5d05d1c1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cf688c7a95f421447e84a47fd03f3aa2" category="section-title">建立資源群組以完整備份SQL Server</block>
  <block id="d08ef097ee33c4a3506183adeb51c5e7" category="list-text">使用資料庫管理使用者ID登入SnapCenter 功能表、然後瀏覽至「資源」索引標籤。在「檢視」下拉式清單中、選擇「資料庫」或「資源群組」來啟動資源群組建立工作流程。提供資源群組的名稱和標記。您可以定義Snapshot複本的命名格式。</block>
  <block id="87d2630813d214672697efc01974d64e" category="paragraph"><block ref="87d2630813d214672697efc01974d64e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ec1ace5324d60cb3faa1863efd675149" category="list-text">選取要備份的資料庫資源。</block>
  <block id="15330fe5b8f32032bd3b30c091d7dc4b" category="paragraph"><block ref="15330fe5b8f32032bd3b30c091d7dc4b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2fc1974f486effa4a60bf216e63a88d5" category="list-text">選取在第7節中建立的完整SQL備份原則。</block>
  <block id="dc34bd5487acb7fcd3dcc3f23b2bbc5e" category="paragraph"><block ref="dc34bd5487acb7fcd3dcc3f23b2bbc5e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="12b70beeb570488ba753a620378cacd8" category="list-text">增加準確的備份時間和頻率。</block>
  <block id="8fa0a3897bc03e9b1653d17308464031" category="paragraph"><block ref="8fa0a3897bc03e9b1653d17308464031" category="inline-image-macro-rx" type="image"></block></block>
  <block id="49252579bd8140847f4bbac20ef89b07" category="list-text">如果要執行備份驗證、請選擇驗證伺服器進行次要備份。按一下「Load Locator（載入定位器）」以填入次要儲存位置。</block>
  <block id="355e5eb56524b7365674014ea5868ee6" category="paragraph"><block ref="355e5eb56524b7365674014ea5868ee6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="19e819eadb96ee5769ff4c6309352a62" category="paragraph"><block ref="19e819eadb96ee5769ff4c6309352a62" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0be278d93ec2e64895e31bf440c54b98" category="paragraph"><block ref="0be278d93ec2e64895e31bf440c54b98" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b4dd921984d3a8a89e7df5c97875b923" category="section-title">建立資源群組以記錄SQL Server備份</block>
  <block id="4e94ca9b995e68691b4e67b82b9f5bce" category="list-text">使用資料庫管理使用者ID登入SnapCenter 功能表、然後瀏覽至「資源」索引標籤。在「檢視」下拉式清單中、選擇「資料庫」或「資源群組」來啟動資源群組建立工作流程。提供資源群組的名稱和標記。您可以定義Snapshot複本的命名格式。</block>
  <block id="4e71263f0aec815017fd21a22ddb87d6" category="paragraph"><block ref="4e71263f0aec815017fd21a22ddb87d6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="013faf9f6cde83814469c6d583e10702" category="paragraph"><block ref="013faf9f6cde83814469c6d583e10702" category="inline-image-macro-rx" type="image"></block></block>
  <block id="23e15d7c127e66b1da1d72072a29e9eb" category="list-text">選取在第7節中建立的SQL記錄備份原則。</block>
  <block id="52a8553e4c33eb8353d56286d3845b28" category="paragraph"><block ref="52a8553e4c33eb8353d56286d3845b28" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7e7cac98c16b45d7e4ebec8786b8fda1" category="list-text">新增確切的備份時間和頻率。</block>
  <block id="acfaadb1bfb8a5c0a2c39c1f64291ea3" category="paragraph"><block ref="acfaadb1bfb8a5c0a2c39c1f64291ea3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="68398b6746dde91649e96505d97acc40" category="list-text">如果要執行備份驗證、請選擇驗證伺服器進行次要備份。按一下「Load Locator（載入定位器）」以填入次要儲存位置。</block>
  <block id="3bde998a2436b40589b20d91a713d3ee" category="paragraph"><block ref="3bde998a2436b40589b20d91a713d3ee" category="inline-image-macro-rx" type="image"></block></block>
  <block id="80000e8cb7742af4686df786fdf38249" category="paragraph"><block ref="80000e8cb7742af4686df786fdf38249" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d32fb038efa6b409f8dedd0e02a10f26" category="paragraph"><block ref="d32fb038efa6b409f8dedd0e02a10f26" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a9c72629a46c2e88cf7f6a012167bb16" category="section-title">9.驗證備份</block>
  <block id="d1c55c296cbdaa8d88eda765a6158b62" category="paragraph">建立資料庫備份資源群組以保護資料庫資源之後、備份工作會根據預先定義的排程執行。檢查「監控」索引標籤下的工作執行狀態。</block>
  <block id="5f9af2a4e435e2b39c27f43b580d6d20" category="paragraph"><block ref="5f9af2a4e435e2b39c27f43b580d6d20" category="inline-image-macro-rx" type="image"></block></block>
  <block id="57882e224a8cbe8f694da9b1d8fa503e" category="paragraph">移至「資源」索引標籤、按一下資料庫名稱以檢視資料庫備份的詳細資料、然後在本機複本和鏡射複本之間切換、以驗證Snapshot備份是否已複寫到公有雲的次要位置。</block>
  <block id="f9b40afbdb387dd32b8523c95080a898" category="paragraph"><block ref="f9b40afbdb387dd32b8523c95080a898" category="inline-image-macro-rx" type="image"></block></block>
  <block id="28268d417882b5cf7a3d3ee3a15834c8" category="paragraph">此時、雲端中的資料庫備份複本已準備好複製、以便在發生一線故障時執行開發/測試程序或進行災難恢復。</block>
  <block id="78b29bbf3f07a44b62307ce90b34904e" category="inline-link-macro">下一步：AWS公有雲入門。</block>
  <block id="7d32c0298884bcc4c0211357748d0e6e" category="paragraph"><block ref="7d32c0298884bcc4c0211357748d0e6e" category="inline-link-macro-rx"></block></block>
  <block id="0679a51ae3a4071a6bd3dedbe97fd329" category="summary">本頁說明在NetApp ONTAP 知識庫儲存設備上部署Oracle資料保護的自動化方法。</block>
  <block id="22e3bbd761fbb7ae69b8035eb12f222d" category="paragraph">此解決方案設計為在AWX/Tower環境中執行。</block>
  <block id="ad5310e9dcd8f367be2b92490488d86d" category="list-text">此解決方案設計用於私有雲端環境（內部部署到內部部署）、以及混合式雲端（內部部署到公有雲Cloud Volumes ONTAP ）。</block>
  <block id="4d0c05180ba83e5c8a9bbac094c365e2" category="list-text">自動化作業設定為執行三個階段（設定、Oracle二進位檔的複寫排程、資料庫、記錄及複寫排程（僅適用於記錄）、以及恢復DR站台資料庫的第四階段。</block>
  <block id="936c99ed52ca08a052ebf611285dd998" category="inline-link-macro">收集CVO和Connector部署的先決條件</block>
  <block id="ec329a9106131eb9bf99b0f9e67b0564" category="list-text">如需取得CVO資料保護所需金鑰和權杖的詳細說明、請參訪 <block ref="e21f73de51752f791cddc773d1f38740" category="inline-link-macro-rx"></block></block>
  <block id="13716f12996b882bb4c7e0bd84c7c128" category="open-title">&lt;strong&gt;"Big "&gt;內部部署&lt;/strong&gt;&lt;Strong（高級）&gt;|&lt;/Strong（高級）&gt;</block>
  <block id="72bd33cc372377848ab3bb360deb365e" category="cell">版本9.8 + ONTAP</block>
  <block id="3ca63226b942aff3abcf62934a91e382" category="cell">現有的Oracle來源環境、以及目的地的同等Linux作業系統（DR站台或公有雲）</block>
  <block id="6114118ecf4e8d86a2e7c80bfab462f6" category="open-title">&lt;strong&gt;CVO&lt;/strong&gt;</block>
  <block id="675b1e5a01195fa5d419962701704b96" category="cell">在Oracle EC2執行個體上設定適當的交換空間、預設會以0交換部署部分EC2執行個體</block>
  <block id="2f960df807c8ad51e74c447149eb2033" category="cell">* Cloud Manager/AWS*</block>
  <block id="571f37fae4494df03321c2abe1fcc053" category="cell">AWS存取/秘密金鑰</block>
  <block id="7a5be8c4513f3bd0696db24a6bd977f4" category="cell">NetApp Cloud Manager客戶</block>
  <block id="99e55608ac5f1697eb6804aaf586af09" category="cell">NetApp Cloud Manager更新Token</block>
  <block id="3f9ec2a23fee1cafeb1a700de677caac" category="cell">教戰守則</block>
  <block id="1f959110c5104b300b1a3d5fe3ee80dc" category="cell">* ONTAP_setup*</block>
  <block id="b7ed1e5c864a764f83f035d7f4f774ee" category="cell">在來源叢集上建立叢集間LIF（選用）</block>
  <block id="73ddb5848c16203494697871a4e993cd" category="cell">在目的地叢集上建立叢集間LIF（選用）</block>
  <block id="04a35ce053d611d390fc192544fa4899" category="cell">建立叢集與SVM對等關係</block>
  <block id="4605aea1d05aa2979e72d73dd2c51773" category="cell">建立目的地SnapMirror並初始化指定的Oracle磁碟區</block>
  <block id="0dd4c7b6672d8937b6eb899b454fb7fe" category="cell">* ora_repliting_CG *</block>
  <block id="7187aaa97acef94360159347d76a84c9" category="cell">為/etc/oratab中的每個資料庫啟用備份模式</block>
  <block id="f9198142d6e5690166713858ae8a0cdd" category="cell">Oracle二進位磁碟區和資料庫磁碟區的快照</block>
  <block id="23ba14a0a5cf33c38faec5b66fff712e" category="cell">SnapMirror已更新</block>
  <block id="114debcae141b96db77c72e8a1e8fadb" category="cell">關閉/etc/oratab中每個資料庫的備份模式</block>
  <block id="682094861a79bcba0e0ab2e193198762" category="cell">* ora_repleting_log*</block>
  <block id="1d03ae98454d1c807318a1e29a4e2736" category="cell">切換/etc/oratab中每個資料庫的目前記錄</block>
  <block id="47e4696811eedec695f727189503e8df" category="cell">Oracle記錄磁碟區的快照</block>
  <block id="86836efae3e3d868a96ae69bcbc987ba" category="cell">* ora_recovery *</block>
  <block id="6ceab4515ef4144abed0f0ce5ed3038f" category="cell">中斷SnapMirror</block>
  <block id="a6066c717f63ac99226b48abb4cf1d85" category="cell">啟用NFS並為目的地上的Oracle磁碟區建立交會路徑</block>
  <block id="aa46cdc29b66725a1180f57d02f0cee3" category="cell">設定DR Oracle主機</block>
  <block id="dea9253f9b15f57a0c2161848a3c27a3" category="cell">掛載並驗證Oracle磁碟區</block>
  <block id="ee95819ff53983a149759d555a93ba4b" category="cell">恢復並啟動Oracle資料庫</block>
  <block id="5a6b57bc1fdf2f0e1259ed22f1d027a4" category="cell">* CVO_setup*</block>
  <block id="331c87cd495ffdc9cd55d8b3935a75f5" category="cell">預先檢查環境</block>
  <block id="5f17c8d8d95282db12506044ba4d6ab9" category="cell">AWS設定/AWS存取金鑰ID /秘密金鑰/預設區域</block>
  <block id="cef449920fe163cdd74231266cbdf23d" category="cell">建立AWS角色</block>
  <block id="85a4bcbc96cde90931ad369de96535b2" category="cell">在AWS中建立NetApp Cloud Manager Connector執行個體</block>
  <block id="abe14752834b641e86064c7214f6719c" category="cell">在Cloud Volumes ONTAP AWS中建立例項（CVO）</block>
  <block id="c2a9449cd3b0ae879520f450b65b1621" category="cell">在ONTAP NetApp Cloud Manager中加入Prem來源的叢集</block>
  <block id="fbb54d6efa6ca64af90fbe2289812be8" category="cell">在目的地CVO上啟用NFS並建立Oracle磁碟區的交會路徑</block>
  <block id="3ef6389d9b9aacdce331793dd2a96ce8" category="paragraph">為了簡化自動化、我們預設了許多必要的Oracle參數、並提供預設值。一般而言、大多數部署都不需要變更預設參數。較進階的使用者可以謹慎變更預設參數。預設參數位於預設目錄下的每個角色資料夾中。</block>
  <block id="a98d844e94ad28c8e0fb089e005d6b9f" category="inline-link-macro">請參閱此處以瞭解詳細的AWX/Tower程序</block>
  <block id="7e599865fd1cdad0e26add5715f65267" category="paragraph">準備好之後、按一下 <block ref="d28bc5520349bb0598caaa5132432326" category="inline-link-macro-rx"></block>。</block>
  <block id="d0db3f5a4a306cff20be4187b3ef3445" category="doc">VAR</block>
  <block id="6551468cb4811e7add616eea103efea9" category="doc">逐步部署程序</block>
  <block id="0e6b1c16527d2792d391c578bbf12efe" category="section-title">CLI部署Oracle 19c資料庫</block>
  <block id="57daddd847cdbab22b7363630de48a2f" category="inline-link-macro">「使用入門與需求」一節</block>
  <block id="82ba94e85d91493ea6c88423c0b34605" category="paragraph">本節說明使用CLI準備及部署Oracle19c資料庫所需的步驟。請確定您已檢閱 <block ref="598ea103507880273a5a1840cac102d8" category="inline-link-macro-rx"></block> 並據此準備環境。</block>
  <block id="0f2d7675188dbfc7b9df587588bff71b" category="section-title">下載Oracle19c repo</block>
  <block id="4e2b619426350db7e7d5b09c96b8010b" category="section-title">編輯hosts檔案</block>
  <block id="b183e47af1fa85c93e4a4368205c3249" category="paragraph">部署前請先完成下列事項：</block>
  <block id="c4ab1530ffd8a3306d47c804ca88240c" category="list-text">編輯主機檔案na_oracle19c_deploy目錄。</block>
  <block id="bc1dd0e50a3c20e78cc2d680eaf32378" category="list-text">在[ESI]下ONTAP 、將IP位址變更為叢集管理IP。</block>
  <block id="6475f51ce7ff0a21a5635ea50b1f1a86" category="list-text">在[Oracle]群組下、新增Oracle主機名稱。主機名稱必須透過DNS或主機檔案解析為其IP位址、或必須在主機中指定。</block>
  <block id="5c3f5e9dc815ca28c7cf1ff64cdc61a2" category="list-text">完成這些步驟之後、請儲存任何變更。</block>
  <block id="b27994a7bba852ac9a8f1a262413e68b" category="paragraph">以下範例說明主機檔案：</block>
  <block id="1caa2eee0ed6a6c5c6edcbc0320e8671" category="paragraph">此範例執行方針、並在兩部Oracle資料庫伺服器上同時部署Oracle 19c。您也可以只用一部資料庫伺服器進行測試。在這種情況下、您只需要設定一個主機變數檔案。</block>
  <block id="d11927d6f93a4edaa78dc52c6e34fd5f" category="admonition">無論您部署多少Oracle主機和資料庫、實戰手冊的執行方式都相同。</block>
  <block id="030c98564d5fbd7c8672a76e2a593b21" category="section-title">在host_vars下編輯host_name.yml檔案</block>
  <block id="86c40bb4891f3e6b34a2eece7bb19532" category="paragraph">每個Oracle主機的主機變數檔案都會以主機名稱識別、其中包含主機專屬的變數。您可以為主機指定任何名稱。編輯並複製「Host VARS Config（主機VARS組態）」區段中的「host_vars」、然後貼到您想要的「host_name.yml」檔案中。</block>
  <block id="93be2ec6954884b83ac9df8117967949" category="admonition">必須變更藍色項目、以符合您的環境。</block>
  <block id="44505c1007599884b05c0148599ad1b0" category="section-title">編輯vars.yml檔案</block>
  <block id="41cdd95196e2753968e0d69375c41825" category="paragraph">vars.yml檔案整合了ONTAP 所有環境特定的變數（例如、Linux或Oracle）、以供Oracle部署。</block>
  <block id="271f9ccf9c8189bb1888d25c7f0e025b" category="list-text">編輯並複製VARS區段中的變數、然後將這些變數貼到您的「vars.yml」檔案中。</block>
  <block id="78d77851709e21512097cee585c59d0c" category="section-title">執行教戰手冊</block>
  <block id="8f42d9f703ada5b4f1374ca96a4f1cec" category="paragraph">在完成必要的環境先決條件、並將變數複製到「vars.yml」和「yer_host.yml」之後、您就可以開始部署教戰手冊了。</block>
  <block id="6226590ec5d4a109e4b93317425994c1" category="admonition">必須變更以符合您的環境。</block>
  <block id="24b2767982b51deb19947fb3e94279c6" category="section-title">在相同的Oracle主機上部署額外的資料庫</block>
  <block id="5cc75d1029461de7ddcd02bbc784af26" category="paragraph">每次執行時、實戰手冊的Oracle部分會在Oracle伺服器上建立單一Oracle Container資料庫。若要在同一部伺服器上建立其他容器資料庫、請完成下列步驟：</block>
  <block id="b4a35a2d5c3a4f3efb7c77f6bcd2a905" category="list-text">修改host_vars變數。</block>
  <block id="5641cb71d4e10abef15918c2dd828917" category="list-text">返回步驟3 -在「host_vars」下編輯「host_name.yml」檔案。</block>
  <block id="ffcc6e6df9c3839334c063a9223c65b3" category="list-text">將Oracle SID變更為不同的命名字串。</block>
  <block id="a936a5fabc881eb3591658385409dfb8" category="list-text">將接聽程式連接埠變更為不同的號碼。</block>
  <block id="24f0029973c35b16fc49847b27215915" category="list-text">如果您已安裝EM Express、請將EM Express連接埠變更為不同的編號。</block>
  <block id="365c64de6adc281d7f484029d1356855" category="list-text">將修訂的主機變數複製並貼到Oracle主機變數檔案的「host_vars」下。</block>
  <block id="b64219fd8290ac8a154f733df0825dbb" category="list-text">執行含有「oracle_config」標記的方針、如上所示 <block ref="1c892654e23ff69bf71caefc702aa8b4" category="inline-xref-macro-rx"></block>。</block>
  <block id="0dd197c8abd1f3c3607887dbc615148f" category="section-title">驗證Oracle安裝</block>
  <block id="f673434da0f39c1b4366cbc45f67da8a" category="admonition">如果安裝已如預期完成、且Oracle資料庫已啟動、則會列出Oracle程序</block>
  <block id="91bcd024d07cb33293902b287b0cc68c" category="paragraph">[Oracle@localhost ~]$ sqlplus / AS Sysdba</block>
  <block id="b95bce10ef504692a6d971d3a30ac8c4" category="paragraph">SQL* Plus：19.0．0．0．0版- 5月6日（星期四）上線：12：52：51 2021版本19.8．0．0</block>
  <block id="a2494ba30f29d91ff6876152fc693ab3" category="paragraph">Copyright（c）1982,2019、Oracle。版權所有。</block>
  <block id="ce8b3f5af3f95d98bbbf478e4c37024f" category="paragraph">連線至：Oracle Database 19c Enterprise Edition 19.0.00.0版-正式作業版本19.8.0.0.0</block>
  <block id="28a359e505158300600d776ae9347cac" category="paragraph">SQL&gt;</block>
  <block id="63102463594ac5bd274343651065779d" category="paragraph">SQL&gt;從v$database_mode中選擇名稱、log_mode；名稱log_mode －－－－－－－ CDB2 ARCHIVELOG</block>
  <block id="7d8bf5a6b847068ff3c0eb0ca0892acf" category="paragraph">SQL&gt;顯示PDF</block>
  <block id="33c7676f0bdcf42bed62c146feaf485c" category="paragraph">SQL&gt; col svrname form A30 SQL&gt; col dirname form A30 SQL&gt;從v$dnfs_servers中選取svrname、dirname、nfsversion；</block>
  <block id="d6bee2dc52f5708cd8af49c1c263c714" category="paragraph">SVRNAME目錄NFSVERSion －－－－－－－－－－－－－－－ －－－－－－－ 172.21.126.200 /rhelora03_u02 NFSv3.0 172.21.126.200 /rhelora03_u03 NFSv3.0 172.21.126.200 /rhelora03_u01 NFSv3.0</block>
  <block id="ea12870da72347cdd45bc11ae4d603dc" category="paragraph">[Oracle@localhost ~]$ sqlplus system@//localhost:1523/ cdb2_pdb1.cie.netapp.com</block>
  <block id="aff680efe40afd832819af131e324051" category="paragraph">SQL* Plus：19.0．0．0．0版- 5月6日星期四正式上線13：19：57 2021版本19.8．0．0</block>
  <block id="6c3d252188792733323cf879b5d196cf" category="paragraph">輸入密碼：上次成功登入時間：2021年5月3日下午5：11：11 - 04：00</block>
  <block id="531fea2bb939d7c35cad66fde1640511" category="paragraph">SQL&gt;顯示使用者為「system" SQL&gt;顯示con_name con_name CDB2_PDB1</block>
  <block id="1b6a5f8b328d3175066895d7ff5ea576" category="inline-link-macro">NetApp解決方案自動化社群支援閒散通道</block>
  <block id="12f178498803c606c23e7166dcefb0cb" category="paragraph">如果您需要工具組的協助、請加入 <block ref="f1bb21e2ce6888d898ae31a2098245a1" category="inline-link-macro-rx"></block> 並尋找解決方案自動化通路、以張貼您的問題或詢問。</block>
  <block id="ea490901c403ce2b2a89f80227d0fb90" category="paragraph">排程二進位和資料庫複寫教戰守則</block>
  <block id="2c777d857235f251004d6d8d70c9751d" category="list-text">複製先前建立的工作範本。</block>
  <block id="1eb977b1f69b531db931e9c62c1a0de9" category="list-text">找到ONTAP/CVO設定範本、然後在最右鍵按一下複製範本</block>
  <block id="3c96e57d33780bedfb652def025f39de" category="list-text">按一下複製範本上的「Edit Template（編輯範本）」、然後將名稱變更為「Binary and Database Replication教戰手冊」。</block>
  <block id="b07fb736e8c17cea7e9e3753e7a67fd1" category="list-text">保留相同的範本庫存、專案、認證資料。</block>
  <block id="f42c6e71dcb07b403b8393d5ab7f7fe4" category="list-text">選取ora_replite_CG。yml做為要執行的方針。</block>
  <block id="69fa06239fd734936aac1af5250c7f57" category="list-text">變數將維持不變、但CVO叢集IP必須設定在變數DST_叢 集IP中。</block>
  <block id="ec7445bbcbadd1f11fe1bc3e5e56eef9" category="list-text">排程工作範本。</block>
  <block id="ce0d20e65f0354847807516cbcc696f6" category="list-text">按一下二進位和資料庫複寫教戰手冊範本、然後按一下選項頂端的排程。</block>
  <block id="d9a6405dc4a6cd71f6d77c749070a5e6" category="list-text">按一下「新增」、「新增二進位和資料庫複寫的名稱排程」、選擇一小時開始的開始日期/時間、選擇您的本機時區和「執行頻率」。執行頻率通常會更新SnapMirror複寫。</block>
  <block id="2dc4dec75c83aeb010419dc2a02da40b" category="admonition">將為記錄磁碟區複寫建立個別的排程、以便更頻繁地複寫。</block>
  <block id="c94d29f1f4f8ef37e9d27f30b7d7c67d" category="summary">本節所述的工作必須在內部部署完成、才能準備SnapCenter 好使用混合雲資料庫的工作負載環境。</block>
  <block id="f6a196d9d3a941e76765e4a9395630c4" category="doc">內部部署的先決條件</block>
  <block id="eac55cbc45bfe6b98b8847b3952de7d3" category="inline-link-macro">先前：先決條件組態。</block>
  <block id="e63a288cc25b5c4127d3021b339c9f20" category="paragraph"><block ref="e63a288cc25b5c4127d3021b339c9f20" category="inline-link-macro-rx"></block></block>
  <block id="40931dcd4d9132545ec0faf2c5fb1b64" category="paragraph">下列工作必須在內部部署完成、才能準備SnapCenter 好使用混合雲資料庫的工作負載環境。</block>
  <block id="79daf399b9626cde309801f41a1e2e14" category="section-title">安裝與組態SnapCenter</block>
  <block id="2607530756fefa4173e12cfcd5fbfb01" category="paragraph">NetApp SnapCenter 支援工具是Windows型應用程式、通常可在Windows網域環境中執行、不過也可以部署工作群組。它是以多層架構為基礎、其中包括集中式管理伺服器SnapCenter （即支援還原伺SnapCenter 服器）、以及資料庫伺服器主機上的支援資料庫工作負載的支援功能。以下是混合雲部署的幾個重要考量事項。</block>
  <block id="9f8c0bcd11d7afd1dd2ee818191cb914" category="list-text">*單一執行個體或HA部署。* HA部署可在單SnapCenter 一伺服器故障時提供備援。</block>
  <block id="1bfa2867d5aa49106efbf3ac752f3084" category="list-text">*名稱解析* DNS必須在SnapCenter Sf還原 伺服器上設定、才能解析所有資料庫主機、以及儲存SVM上的資料、以便進行轉送和反向查詢。也必須在資料庫伺服器上設定DNS、以解析SnapCenter 支援轉送和反向查詢的功能。</block>
  <block id="41f54308d86c1d7b525475d6ead22892" category="list-text">*角色型存取控制（RBAC）組態。*對於混合式資料庫工作負載、您可能需要使用RBAC來分隔不同資料庫平台的管理責任、例如Oracle資料庫管理員或SQL Server管理員。必須為DB管理使用者授予必要的權限。</block>
  <block id="5aee5dffd2e329652ec35995add763ae" category="list-text">*啟用原則型備份策略。*以強化備份一致性與可靠性。</block>
  <block id="dde4790e572aa9d01cd58fcfd8498766" category="list-text">*在防火牆上開啟必要的網路連接埠。*讓內部部署SnapCenter 的伺服器能夠與安裝在雲端DB主機上的代理程式進行通訊。</block>
  <block id="e2962676531ebdcf62cb2a7b96042e77" category="list-text">*連接埠必須開放、才能允許內部部署和公有雲之間的SnapMirror流量。* SnapCenter 此伺服器仰賴ONTAP SnapMirror將現場Snapshot備份複寫到雲端CVO儲存SVM。</block>
  <block id="549762060d7242346fa79f39cba51791" category="inline-link-macro">安裝工作流程SnapCenter</block>
  <block id="aec875397d57826c45f7072636026a07" category="paragraph">在仔細規劃安裝前的規劃和考量之後、請按一下此選項 <block ref="f44e9d032441cc842cad02c3aab57d84" category="inline-link-macro-rx"></block> 以取得SnapCenter 有關安裝與組態的詳細資訊。</block>
  <block id="df3fb602185c77a88bab186791d02636" category="section-title">內部部署資料庫伺服器儲存組態</block>
  <block id="f7f3a649be867b87ccb26789453199db" category="paragraph">儲存效能在資料庫和應用程式的整體效能中扮演著重要角色。設計完善的儲存配置不僅能提升資料庫效能、也能輕鬆管理資料庫備份與還原。在定義儲存配置時、應考量多項因素、包括資料庫大小、資料庫預期資料變更率、以及執行備份的頻率。</block>
  <block id="8481231881c8e64b34aa3c7e29510a25" category="paragraph">透過NFS或iSCSI直接將儲存LUN連接至客體VM、以處理虛擬化資料庫工作負載、通常比透過VMDK配置的儲存設備提供更好的效能。NetApp建議將大型SQL Server資料庫的儲存配置放在LUN上、如下圖所示。</block>
  <block id="cc75f443d22e45e490468a8f20689d77" category="paragraph"><block ref="cc75f443d22e45e490468a8f20689d77" category="inline-image-macro-rx" type="image"></block></block>
  <block id="99aea05cf884bfdec230afa5250968b2" category="paragraph">下圖顯示NetApp建議的LUN上小型或中型SQL Server資料庫儲存配置。</block>
  <block id="9fc72535f1113895818f8aa60ef773e7" category="paragraph"><block ref="9fc72535f1113895818f8aa60ef773e7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="76ecde8f778d0dd0676f392793ce4382" category="admonition">記錄目錄專門用於SnapCenter 執行交易記錄彙總以進行資料庫恢復。對於超大型資料庫、可將多個LUN分配給一個磁碟區、以獲得更好的效能。</block>
  <block id="ee9158729a15dbd90d166650ba285d0e" category="paragraph">對於Oracle資料庫工作負載、SnapCenter 支援ONTAP 以實體或虛擬裝置掛載到主機上的支援不受支援的資料庫環境。您可以根據環境的重要性、將整個資料庫裝載在單一或多個儲存裝置上。一般而言、客戶會將專用儲存設備上的資料檔案與所有其他檔案（例如控制檔、重作檔案和歸檔記錄檔）隔離。這有助於系統管理員在ONTAP 數秒到數分鐘內、使用SnapRestore Snapshot技術快速還原（僅需一個檔案即可還原）或複製大型關鍵資料庫（PB規模）。</block>
  <block id="b31fbb7e1a6e863315e431fdf9c00db9" category="paragraph"><block ref="b31fbb7e1a6e863315e431fdf9c00db9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="959a3405dfdfb0469534f5276ffb8e5e" category="paragraph">對於對延遲敏感的關鍵任務工作負載、應將專用儲存磁碟區部署至不同類型的Oracle檔案、以達到最佳的延遲。對於大型資料庫、應將每個磁碟區的多個LUN（NetApp建議最多八個）分配給資料檔案。</block>
  <block id="ac111cbcae2e9eaedafe418acc3a2cab" category="paragraph"><block ref="ac111cbcae2e9eaedafe418acc3a2cab" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2702ce3d59ec94853fa030462b309f2f" category="paragraph">對於較小的Oracle資料庫、SnapCenter 支援共享儲存配置、您可以在同一個儲存磁碟區或LUN上裝載多個資料庫或資料庫的一部分。例如、您可以裝載+data ASM磁碟群組或Volume群組上所有資料庫的資料檔案。其餘的檔案（重作、歸檔記錄和控制檔）可裝載在另一個專用磁碟群組或磁碟區群組（LVM）上。此類部署案例如下所示。</block>
  <block id="6c12e98a6e201f55836390c2a6232e5a" category="paragraph"><block ref="6c12e98a6e201f55836390c2a6232e5a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="93cf45b97655292e0536b810cb248828" category="paragraph">為了方便重新配置Oracle資料庫、Oracle二進位檔應安裝在一般備份原則所包含的個別LUN上。如此可確保在資料庫重新配置至新伺服器主機時、Oracle堆疊可啟動以進行還原、而不會因為Oracle二進位不同步而發生任何潛在問題。</block>
  <block id="1e69a4a8adec0842d1e110e970112268" category="section-title">授權要求</block>
  <block id="7f59934b2c0edd33f0d981f3bc4d12e7" category="paragraph">由NetApp提供授權軟體。SnapCenter通常包含在內部部署ONTAP 的不含程式碼的授權中。不過、在混合雲部署方面、SnapCenter 也需要一份適用於整個市場的雲端授權、才能將CVO新增至SnapCenter 以目標資料複寫目的地為目標的地方。如SnapCenter 需詳細資料、請參閱下列鏈接以取得以容量為基礎的標準授權：</block>
  <block id="9e86ae6c96041e3cb31e88116102ee35" category="inline-link-macro">以容量為基礎的標準授權SnapCenter</block>
  <block id="a1d51b5b5f3258b40cbe392146bc8868" category="paragraph"><block ref="a1d51b5b5f3258b40cbe392146bc8868" category="inline-link-macro-rx"></block></block>
  <block id="85db56d490cdd7a31d40697ad1c9be3c" category="section-title">網路與安全性</block>
  <block id="254215e6d18fb5582ba78464fa468553" category="paragraph">在混合式資料庫作業中、需要內部部署正式作業資料庫、並可將其擴充至雲端以進行開發/測試及災難恢復、因此在設定環境及從內部部署資料中心連線至公有雲時、網路與安全性是必須考量的重要因素。</block>
  <block id="1e356fab450b44971b6cdbd1c25586b8" category="paragraph">公有雲通常使用虛擬私有雲（VPC）來隔離公有雲平台內的不同使用者。在個別VPC中、安全性是透過安全性群組等措施來控制、這些安全性群組可根據使用者鎖定VPC的需求加以設定。</block>
  <block id="5192a6d33c7a0127a67cbd7e07801735" category="paragraph">從內部部署資料中心到VPC的連線可透過VPN通道來保護。在VPN閘道上、可以使用NAT和防火牆規則來強化安全性、以封鎖從網際網路上的主機連線至企業資料中心內主機的嘗試。</block>
  <block id="04a3995237c020c6a587d8a7723af6a6" category="paragraph">如需網路和安全考量、請檢閱您所選公有雲的相關傳入和傳出CVO規則：</block>
  <block id="d15513a147fbd525b88805bee9ea17ea" category="inline-link-macro">CVO - AWS的安全群組規則</block>
  <block id="f8d1f085169118c4d407be16136389c6" category="list-text"><block ref="f8d1f085169118c4d407be16136389c6" category="inline-link-macro-rx"></block></block>
  <block id="39f48b44d100d16ed6e2b931111663b7" category="inline-link-macro">CVO - Azure的安全性群組規則</block>
  <block id="bcde746324630d82052a4fc9861cfea6" category="list-text"><block ref="bcde746324630d82052a4fc9861cfea6" category="inline-link-macro-rx"></block></block>
  <block id="7b20c547f2fd113499deaa3c0e418282" category="inline-link-macro">CVO - GCP的防火牆規則</block>
  <block id="acde731d82a437ab33cb200791f7a197" category="list-text"><block ref="acde731d82a437ab33cb200791f7a197" category="inline-link-macro-rx"></block></block>
  <block id="d9446a69434b7c7fdec5c9e35d222834" category="section-title">使用Ansible Automation在內部部署和雲端之間同步資料庫執行個體、這是選用的</block>
  <block id="1c7c9b49a62ea0dc765d1439120cfc8f" category="paragraph">為了簡化混合雲資料庫環境的管理、NetApp強烈建議您部署Ansible控制器來自動化某些管理工作、例如將內部部署和雲端的運算執行個體保持同步。這一點特別重要、因為雲端中的不同步運算執行個體可能會因為遺失核心套件和其他問題而使雲端中的還原資料庫容易出錯。</block>
  <block id="7468552c7fc3a7ca377b7fc2405a9940" category="paragraph">Ansible控制器的自動化功能也可用於強化SnapCenter 某些工作的功能、例如中斷SnapMirror執行個體以啟動正式作業的DR資料複本。</block>
  <block id="6ac547919eb6ca11f5a8387eaf990843" category="inline-link-macro">RedHat/CentOS Ansible控制器設定</block>
  <block id="c8e133fc33bbdb52f84b3532496f2ac8" category="inline-link-macro">Ubuntu / Debian Ansible控制器設定</block>
  <block id="6f332c2f54a4d49478f9588c5cd6c57c" category="paragraph">請遵循下列指示、為RedHat或CentOS機器設定Ansible控制節點： <block ref="fedce547519117863322cfa54cc2ba7d" category="inline-link-macro-rx"></block>。請遵循下列指示、為Ubuntu或Debian機器設定Ansible控制節點： <block ref="1c50818f5fe40dbc8b2e05138d554fa4" category="inline-link-macro-rx"></block>。</block>
  <block id="d5316785c089f90464e8e683aadd02e1" category="inline-link-macro">下一步：公有雲。</block>
  <block id="d09f79a080b121cb1acc181711b5d02a" category="paragraph"><block ref="d09f79a080b121cb1acc181711b5d02a" category="inline-link-macro-rx"></block></block>
  <block id="8f7280c86689be0a39cdf74aa673040d" category="summary">此解決方案採用混合雲環境設計、可支援內部部署正式作業資料庫、這些資料庫可突發至所有熱門的公有雲、以便進行開發/測試及災難恢復作業。</block>
  <block id="132f2888eb2cfdeef2730212f50c53e3" category="doc">需求SnapCenter</block>
  <block id="e2a7d0854ef572e10255339732bb005d" category="inline-link-macro">先前版本：解決方案架構。</block>
  <block id="b10927905ed5379ba0d73333abdbe06d" category="paragraph"><block ref="b10927905ed5379ba0d73333abdbe06d" category="inline-link-macro-rx"></block></block>
  <block id="6546814199e52492fa0efe5fbff08d5a" category="paragraph">本解決方案支援SnapCenter 目前支援的所有資料庫、不過此處僅展示Oracle和SQL Server資料庫。此解決方案已通過虛擬化資料庫工作負載的驗證、但也支援裸機工作負載。</block>
  <block id="185b108b21dccef917f415be6026c91c" category="paragraph">我們假設正式作業資料庫伺服器是在內部環境中代管、並將DB Volume呈現給ONTAP 來自某個儲存叢集的DB主機。內部部署安裝了支援資料庫備份和資料複寫至雲端的支援軟體。SnapCenter建議使用Ansible控制器、但資料庫部署自動化或OS核心與DB組態、並與待命災難恢復執行個體或公有雲中的開發/測試執行個體同步時、則不需要此控制器。</block>
  <block id="47099d9ea153f8abfa5b6b70da253b3a" category="cell">*內部部署*</block>
  <block id="d36407241494bfc1e84614ad1b0dd6a4" category="cell">支援的任何資料庫和版本SnapCenter</block>
  <block id="8c8c8ca7a4093a1210412a3a5e5ad55f" category="cell">不含更新版本4.4 SnapCenter</block>
  <block id="9d9ebf67dab68c3c892de99e981039cf" category="cell">Ansible v2.09或更新版本</block>
  <block id="62dd4f48e99b13c8a00fbaba684f9592" category="cell">叢集9.x ONTAP</block>
  <block id="d0fdc58e1e05d6cbc8b1beb072bfa235" category="cell">已設定叢集間LIF</block>
  <block id="7135df562bcb25bfdf20e4317b923b88" category="cell">從內部部署到雲端VPC（VPN、互連等）的連線能力</block>
  <block id="8c27863f5ffd0e66a9304eaca2e47fde" category="cell">網路連接埠開啟- ssh 22 - TCP 8145、8146、10000、11104、11105</block>
  <block id="bcb9f3419f724f768e30956a4427261d" category="cell">*雲端- AWS*</block>
  <block id="61c90d44785278f980592f082ef500f1" category="inline-link">Cloud Manager Connector</block>
  <block id="97bc5062dceccb6827b1e3f0522035f0" category="cell"><block ref="97bc5062dceccb6827b1e3f0522035f0" category="inline-link-rx"></block></block>
  <block id="117bdbda976fe8b3212bc3b6327a0a1b" category="inline-link">Cloud Volumes ONTAP</block>
  <block id="2f077494ceff1f33085c5b163c3673b3" category="cell"><block ref="2f077494ceff1f33085c5b163c3673b3" category="inline-link-rx"></block></block>
  <block id="59b2c9424963f98d73ec69c59dde54cb" category="cell">將資料庫OS EC2執行個體與內部部署相符</block>
  <block id="e26786a16da88ee829ab76c48fd3b003" category="cell">*雲端- Azure *</block>
  <block id="c2f8674b07907f393b67a3f9e98d3d56" category="cell"><block ref="c2f8674b07907f393b67a3f9e98d3d56" category="inline-link-rx"></block></block>
  <block id="a8dd724647657a383eb37fd8775ec1a9" category="cell"><block ref="a8dd724647657a383eb37fd8775ec1a9" category="inline-link-rx"></block></block>
  <block id="8bede1f0e559918be01f0646b75b4257" category="cell">將資料庫OS Azure虛擬機器與內部部署配對</block>
  <block id="b2a454fb4ff03b84162c59d674fdae25" category="cell">*雲端- GCP*</block>
  <block id="af072236983e991ab34e773871b10236" category="cell"><block ref="af072236983e991ab34e773871b10236" category="inline-link-rx"></block></block>
  <block id="499477cf7953707f63a1b1313c8c065a" category="cell"><block ref="499477cf7953707f63a1b1313c8c065a" category="inline-link-rx"></block></block>
  <block id="2900c5e1ee191606f20d007194e70edf" category="cell">將資料庫OS Google Compute Engine執行個體與內部部署配對</block>
  <block id="126b29c0beff0884077277115103a374" category="inline-link-macro">下一步：先決條件組態。</block>
  <block id="a6d027dea0e97ba248528210d36e5475" category="paragraph"><block ref="a6d027dea0e97ba248528210d36e5475" category="inline-link-macro-rx"></block></block>
  <block id="c150393fd3b1bd9d801cbd062234f73d" category="section-title">AWX/Tower部署Oracle 19c資料庫</block>
  <block id="32003b051ef9368756d1e9cd79796719" category="section-title">1.為您的環境建立詳細目錄、群組、主機和認證資料</block>
  <block id="2c8b94d570dd5a63a27d112e32a1c799" category="paragraph">本節說明在AWX/Ansible Tower中設定庫存、群組、主機和存取認證資料、為使用NetApp自動化解決方案的環境做好準備。</block>
  <block id="af2c7dd4ecef5e42e9bc8f88213d51d9" category="list-text">瀏覽至「資源」→「庫存」→「新增」、然後按一下「新增庫存」。</block>
  <block id="56fc26ef1c8ae54dced3529eec65fa26" category="list-text">提供名稱和組織詳細資料、然後按一下「Save（儲存）」。</block>
  <block id="fe0981da08a8d2f4fed2006bafd9fb30" category="list-text">在「庫存」頁面上、按一下建立的庫存。</block>
  <block id="3fa16e80574aff03c27de1253474a20f" category="list-text">如果有任何庫存變數、請將其貼到變數欄位中。</block>
  <block id="65d119ae335d9e7c9c798b3e6db1b2d0" category="list-text">瀏覽至「群組」子功能表、然後按一下「新增」。</block>
  <block id="396641e01a7451ca821b5d7d1377b0c7" category="list-text">提供ONTAP 群組名稱以供使用、貼上群組變數（若有）、然後按一下「Save（儲存）」。</block>
  <block id="a4f13b6e4100f2d5db093eb54a3ffe0c" category="list-text">為Oracle的另一個群組重複此程序。</block>
  <block id="6f29f21d5f3e40494291fb357b9f4f73" category="list-text">選取ONTAP 建立的「更新群組」、移至「主機」子功能表、然後按一下「新增主機」。</block>
  <block id="8d92ffd9d0d2b033d05731ec4af50af8" category="list-text">提供ONTAP 叢集管理IP的IP位址、貼上主機變數（如果有）、然後按一下「Save（儲存）」。</block>
  <block id="f1254ecbe57ff98d850d541b8a1ab988" category="list-text">Oracle群組和Oracle主機管理IP/主機名稱必須重複此程序。</block>
  <block id="f11c5853bdca384314b28c9c59f2d6d0" category="list-text">建立認證類型。對於涉及ONTAP 到靜態的解決方案、您必須設定認證類型以符合使用者名稱和密碼項目。</block>
  <block id="1616edbabbc3bbfd22afe144d1929386" category="list-text">將下列內容貼到Injector Configuration：</block>
  <block id="cc865c923bcb1c61acf9985311675b93" category="list-text">輸入ONTAP 名稱和組織詳細資料以供參考。</block>
  <block id="ea314f484653e7f9f25144ea61d34888" category="list-text">選取您為ONTAP 其建立的自訂認證類型。</block>
  <block id="179cae6336461d9f165e8fa87146362a" category="list-text">在類型詳細資料下、輸入使用者名稱、密碼和vsadmin_password。</block>
  <block id="659fb4c811f1a73cf40492056e6d3c3f" category="list-text">按一下「Back to Credential（返回認證）」、然後按</block>
  <block id="3b9c90c4bf202563a3cdeda5ec78fac2" category="list-text">輸入Oracle的名稱和組織詳細資料。</block>
  <block id="51b04d83367483575e89740841d94262" category="section-title">2.建立專案</block>
  <block id="e56fa1e2655db1bc7664a00295bd62a2" category="list-text">前往「資源」→「專案」、然後按一下「新增」。</block>
  <block id="4096a1870a258e9d46585f08d4906f21" category="list-text">在來源控制認證類型欄位中選取Git。</block>
  <block id="784148c4a03cf22250dddc5756684e39" category="list-text">輸入 <block ref="4509731a8f0f86cf7d8a010739dfd7c5" category="inline-link-rx"></block> 做為來源控制URL。</block>
  <block id="99bc2ea435ea8ae0ed38ef3051a4350a" category="list-text">當來源程式碼變更時、專案可能需要偶爾同步。</block>
  <block id="14e017f358e18dd612a468713206093f" category="section-title">3.設定Oracle host_vars</block>
  <block id="05557c38b20e42173356b53f42c92152" category="paragraph">本節中定義的變數會套用至每個個別的Oracle伺服器和資料庫。</block>
  <block id="ac886b852fd1b481e9c7e68c217b5e21" category="list-text">在下列內嵌的Oracle主機變數或host_vars表單中輸入您的環境特定參數。</block>
  <block id="e1847b1a99378b07a0df71cf2baac5da" category="list-text">填寫藍色欄位中的所有變數。</block>
  <block id="741c92ab2429ff59927918c7a07ad9a5" category="list-text">完成變數輸入後、按一下表單上的「複製」按鈕、將所有變數複製到AWX或Tower。</block>
  <block id="1e1ea51549ac2a644a3e965113c1d370" category="list-text">瀏覽至AWX或Tower、前往「Resources（資源）」→「hosts（主機）」、然後選取並開啟Oracle伺服器組態頁面。</block>
  <block id="0d630b14098a793ac4586173286d0805" category="list-text">在「詳細資料」索引標籤下、按一下「編輯」、然後將步驟1中的複製變數貼到「Yaml」索引標籤下的「變數」欄位。</block>
  <block id="c6dca9e669d097298fc6059b27f96e09" category="list-text">對系統中的任何其他Oracle伺服器重複此程序。</block>
  <block id="7890327bd98d1ec932e453254511754d" category="section-title">4.設定全域變數</block>
  <block id="e5cac740ce6bd43e6ff83881e150d0f3" category="paragraph">本節中定義的變數適用於所有Oracle主機、資料庫和ONTAP 叢集。</block>
  <block id="87b55102ec2889891b0258253b739244" category="list-text">在下列內嵌的整體變數或vars表單中輸入您的環境特定參數。</block>
  <block id="7d2a3c2ad9ee2eeb7547d205d30b9335" category="list-text">在藍色欄位中填入所有變數。</block>
  <block id="099f04b51539ed973890f1d1af2d5063" category="list-text">完成變數輸入後、按一下表單上的「複製」按鈕、將所有要傳輸到AWX或Tower的變數複製到下列工作範本。</block>
  <block id="c807b1735c1915c52547b9f7e917b55d" category="section-title">5.設定及啟動工作範本。</block>
  <block id="b1171f0b44b8d9b11ac555972ebc8c3b" category="list-text">建立工作範本。</block>
  <block id="c7fa74fb4cbaab9d336a8e55bf164684" category="list-text">輸入名稱和說明</block>
  <block id="3dcca032e3328f54206079a87830aa27" category="list-text">選取工作類型；執行會根據方針來設定系統、而檢查會執行方針檔的乾式執行、而不會實際設定系統。</block>
  <block id="daefcb84cec2b58089094a64cefb845f" category="list-text">選取相應的資源清冊、專案、方針及方針認證、以供教戰手冊使用。</block>
  <block id="b01c6189ccdc531874f3442803680525" category="list-text">選取all_playbook。yml作為要執行的預設教戰手冊。</block>
  <block id="ce150ce9cfe145db199958e7cd2ecce0" category="list-text">將從步驟4複製的全域變數貼到Yaml索引標籤下的「範本變數」欄位。</block>
  <block id="e8f0426d97d09775fb78bdeb793b0b3e" category="list-text">核取「工作標籤」欄位中的「啟動時提示」方塊。</block>
  <block id="ad7ad1bbc416fda1f9518ff4004d891c" category="list-text">當系統在啟動時提示您輸入「工作標籤」時、請輸入「Requirements _config」。您可能需要按一下「Requirements _config」下方的「Create Job Tag（建立工作標籤）」行、以輸入工作標籤。</block>
  <block id="b9ef793a3db3f07ed7dc808f4709c6ca" category="admonition">Requirements _config可確保您擁有正確的程式庫來執行其他角色。</block>
  <block id="6ac039e55dcf8a249f5122b1fdbbf60e" category="list-text">按一下「Next（下一步）」、然後按「Launch（啟動）」開始工作</block>
  <block id="06f392c8dfb4783859e67f16fed69bc7" category="list-text">按一下「檢視」→「工作」以監控工作輸出和進度。</block>
  <block id="7f6a02c24592bd309f31b5a72a0f8d6d" category="list-text">當系統在啟動時提示您輸入「工作標籤」時、請輸入ONTAP_config。您可能需要按一下ONTAP_config下方的「Create "Job Tag"（建立「工作標籤」）行、以輸入工作標籤。</block>
  <block id="18c003af9ed29d295877baabf7b42ce1" category="list-text">按一下「檢視」→「工作」以監控工作輸出和進度</block>
  <block id="c0029d5cdcaae1ceef3bed244b3ab3c6" category="list-text">在ONTAP_config角色完成後、再次執行Linux組態的程序。</block>
  <block id="fc71758268fe1c3aba4b75df3ee0560f" category="list-text">選取所需的範本、然後按一下「啟動」。</block>
  <block id="bbe073bafc2875db8b48e59284636931" category="list-text">在Linux組態中、當系統在啟動時提示您輸入「工作標籤」類型時、您可能需要選取Linux組態下方的「建立工作標籤」行、以輸入工作標籤。</block>
  <block id="bc43b7acafead2cdee67de733ae10b13" category="list-text">選取「檢視」→「工作」以監控工作輸出和進度。</block>
  <block id="e73718535637e07111f6a4925685c0bd" category="list-text">Linux組態角色完成後、請再次執行Oracle_config的程序。</block>
  <block id="574f8726a5cc088da32ab84269c8e0f8" category="list-text">前往資源→範本。</block>
  <block id="252b85bc679cb8ecdccbcd127c65b795" category="list-text">當系統在啟動時提示您輸入「工作標籤」時、請輸入oracle_config。您可能需要選取Oracle_config下方的「Create "Job Tag"（建立「工作標籤」）行、以輸入工作標籤。</block>
  <block id="6757805f64ddba2566927ece0d9f30e1" category="section-title">6.在相同的Oracle主機上部署額外的資料庫</block>
  <block id="4edc1d4492ab93edbbb0a67c0c265b84" category="paragraph">每次執行時、實戰手冊的Oracle部分會在Oracle伺服器上建立單一Oracle Container資料庫。若要在同一部伺服器上建立其他容器資料庫、請完成下列步驟。</block>
  <block id="a12a0fa7fe728658376da87df04fa7c2" category="list-text">修改host_var變數。</block>
  <block id="ba52bf2d165115d60675d61a4b84b0c6" category="list-text">返回步驟2：設定Oracle host_vars。</block>
  <block id="d9fa63a6f267402d4cf6068165e04a38" category="list-text">如果您要安裝EM Express、請將EM Express連接埠變更為不同的編號。</block>
  <block id="23f5c9b4f57b3075f9890f1bc1896ebe" category="list-text">將修訂的主機變數複製並貼到「主機組態詳細資料」索引標籤的「Oracle主機變數」欄位。</block>
  <block id="4d4426a703dd8227727fef5758b680d8" category="list-text">僅使用oracle_config標記啟動部署工作範本。</block>
  <block id="cb2418c01859c7704da751aa5a7d2421" category="doc">解決方案總覽</block>
  <block id="9ce6d30135c2644ff34390c65af4061b" category="paragraph">組織正在將環境自動化、以提高效率、加速部署、並減少手動作業。Ansible等組態管理工具正用於簡化企業資料庫作業。在本解決方案中、我們將示範如何使用Ansible來自動化Oracle 19c with NetApp ONTAP 供應與組態。藉由讓儲存管理員、系統管理員及DBA能夠一致且快速地部署新的儲存設備、設定資料庫伺服器、以及安裝Oracle 19c軟體、您將獲得下列效益：</block>
  <block id="5291cb8e681983247b899ce2364188f2" category="list-text">消除設計複雜性和人為錯誤、並實作可重複執行的一致部署和最佳實務做法</block>
  <block id="a90516bf4597e04e1a97bd9cb37087d8" category="list-text">縮短儲存資源配置、DB主機組態及Oracle安裝的時間</block>
  <block id="a54e59b6b063d8a2bf18acffab877d09" category="list-text">提高資料庫管理員、系統和儲存管理員的生產力</block>
  <block id="d18d76441366273feb36bde890ad5e1c" category="list-text">輕鬆擴充儲存設備和資料庫</block>
  <block id="7d85c5a5f016aefeda6b89687f1307bb" category="paragraph">NetApp為客戶提供通過驗證的Ansible模組和角色、以加速Oracle資料庫環境的部署、組態和生命週期管理。本解決方案提供說明及可接受的方針代碼、協助您：</block>
  <block id="547b893b7cd300d6a8335f5b179ad12e" category="list-text">建立及設定ONTAP Oracle資料庫的靜態NFS儲存設備</block>
  <block id="36bb01ec9f02292fb44b9f10f57ceae7" category="list-text">在RedHat Enterprise Linux 7/8或Oracle Linux 7/8上安裝Oracle 19c</block>
  <block id="548bf87c41c9d3bb76981decbd599c90" category="list-text">在ONTAP 不支援的NFS儲存設備上設定Oracle 19c</block>
  <block id="950496934d91d07bb089d6ed0999b5a9" category="paragraph">如需更多詳細資料或要開始、請參閱下方的總覽影片。</block>
  <block id="b923f56ad2a53fa1a3ca1160e48f141e" category="section-title">AWX/Tower部署</block>
  <block id="ab81e47672e89830ec16c581f44cb23c" category="list-text">第1部分：入門、需求、自動化詳細資料及初始AWX/Tower組態</block>
  <block id="cf7bbd18f18fdc73ee49ffea888126c7" category="list-text">第2部分：變數與執行教戰手冊</block>
  <block id="f5e227cfa54c5693c512c6adf41a3772" category="section-title">CLI部署</block>
  <block id="0b8a09b5974336d1f5e510d18205c03c" category="list-text">第1部分：入門、需求、自動化詳細資料和可控制主機設定</block>
  <block id="d83342bb55cac062a4841a3b7a62a7fd" category="summary">本節摘要說明必須完成的工作、以符合上一節所述的先決條件要求。下節提供內部部署和公有雲作業的高層級工作清單。按一下相關連結即可存取詳細的程序和程序。</block>
  <block id="21475c5fe4cf73cfbf7756ed71e43375" category="doc">快速入門總覽</block>
  <block id="fa952e93a2f3bc19270cbedd1510f523" category="inline-link-macro">先前版本：公有雲的先決條件。</block>
  <block id="f50eb88fd106752cf99e25d4a7259bb7" category="paragraph"><block ref="f50eb88fd106752cf99e25d4a7259bb7" category="inline-link-macro-rx"></block></block>
  <block id="f0e69ccbb7ad96f546f7924206944bfa" category="section-title">內部部署</block>
  <block id="b2e7ae8381268c9d97dc3576aa67da04" category="list-text">設定SnapCenter 資料庫管理員使用者</block>
  <block id="e1c4efcd7b5b155c8a6e57d348b6c071" category="list-text">安裝外掛程式的必要條件SnapCenter</block>
  <block id="cf69df8da81eda7b468d606f3e9aff06" category="list-text">安裝主機外掛程式SnapCenter</block>
  <block id="2a6faa57bc6cc0f7a4c90cebd5e63344" category="list-text">資料庫資源探索</block>
  <block id="2a36af746a3cc41f6964edac717b5206" category="list-text">設定儲存叢集對等和DB Volume複寫</block>
  <block id="a227a5da83d0a04e6e8e7e76a89eba09" category="list-text">將CVO資料庫儲存SVM新增SnapCenter 至SVM</block>
  <block id="c615eed91e2ab578525394d0ff0138d9" category="list-text">設定資料庫備份原則SnapCenter</block>
  <block id="8ecb914dad4186dafb38268be6fc8a1f" category="list-text">實作備份原則以保護資料庫</block>
  <block id="3041fe5faf49efefd030e278790b4faf" category="list-text">驗證備份</block>
  <block id="8a3f037eef48de78bfe13d14e3d7cdfa" category="section-title">AWS公有雲</block>
  <block id="0bcf61b20ebca1ef90cb7982284867a6" category="list-text">機前檢查</block>
  <block id="c27b238e54d27696cafed4684c6f1335" category="list-text">在Cloud Volumes ONTAP AWS中部署Cloud Manager和功能不全的步驟</block>
  <block id="2bb50575568fc6429e2c1cef751d40f4" category="list-text">為資料庫工作負載部署EC2運算執行個體</block>
  <block id="bc2dcb446bec0ecd131a2e612dbd1ecd" category="paragraph">如需詳細資料、請按一下下列連結：</block>
  <block id="21aa279d0a145dcaab5feaa02df2c02a" category="inline-link-macro">公有雲- AWS</block>
  <block id="fd0476c0c92270df2d75402a67cfe0f4" category="paragraph"><block ref="8f0e2d08c6bad9ef491c2061921b9d90" category="inline-link-macro-rx"></block>、 <block ref="11145243f1982fd305768240bff5daad" category="inline-link-macro-rx"></block></block>
  <block id="75b7d47e2aa19968e092ab7ddb108a3f" category="summary">無論您的目標是採用彈性資料庫的全雲端或混合雲、Azure NetApp Files 透過無縫接軌的應用程式層資料需求、提供絕佳的選項來部署及管理資料庫工作負載、同時降低總體擁有成本。</block>
  <block id="d8d2e6021f496c4e4a31a3d5d51c0a97" category="paragraph">本文件涵蓋規劃、設計、最佳化及擴充Microsoft SQL Server部署的建議Azure NetApp Files 、而這些建議在不同實作之間可能有很大差異。正確的解決方案取決於實作的技術細節、以及推動專案的業務需求。</block>
  <block id="56925354251a536c23de1174d3001595" category="section-title">重點摘要</block>
  <block id="033e6e43f2148e187e072dc7e6585802" category="paragraph">本文件的重點包括：</block>
  <block id="b2b363e230905b04f6e9c7263aa93f42" category="list-text">您現在可以使用Azure NetApp Files 支援功能來裝載SQL Server叢集的資料庫和檔案共用見證。</block>
  <block id="4d6ec76303888bc681d543d1f4593c55" category="list-text">您可以大幅縮短應用程式回應時間、並提供99.9999%的可用度、以便在需要時隨時隨地存取SQL Server資料。</block>
  <block id="408e4b7fbec4ba85e097b9393d2b27a7" category="list-text">只要簡單且即時地調整大小、就能簡化SQL Server部署和後續管理的整體複雜度、例如RAID分拆。</block>
  <block id="41642b38214243168d907d92759dde36" category="list-text">您可以仰賴智慧型作業功能、在幾分鐘內協助您部署SQL Server資料庫、並加速開發週期。</block>
  <block id="61a32d891a5f7bca599a014bc56eec61" category="list-text">如果您的目的地是Azure Cloud、Azure NetApp Files 那麼適用於最佳化部署的理想儲存解決方案就是。</block>
  <block id="47373f46adef617d17665b0b94be8f67" category="paragraph">排程記錄複寫教戰手冊</block>
  <block id="048f2ee27b8617cb0e13b6a0b7da956f" category="list-text">按一下複製範本上的「Edit Template（編輯範本）」、然後將名稱變更為「記錄複寫教戰手冊」。</block>
  <block id="d4a86123c8e623e35eaa51ab9583e03b" category="list-text">選取ora_replite_logs.yml作為要執行的方針。</block>
  <block id="d6e504930da1d0732ea4162514a38e8e" category="list-text">按一下記錄複寫教戰手冊範本、然後按一下頂端選項集的排程。</block>
  <block id="1c03188c731004905466903c2eb763c4" category="list-text">按一下「新增」、「新增記錄複寫的名稱排程」、選擇一小時開始的開始日期/時間、選擇您的本機時區和「執行頻率」。執行頻率通常會更新SnapMirror複寫。</block>
  <block id="d23bfe090a9fd09613c7a6573f619c02" category="admonition">建議您設定每小時更新一次的記錄排程、以確保恢復到上次每小時更新。</block>
  <block id="50d33cb309a9ea4bacb0a5541498b670" category="list-text">建立認證類型。對於涉及ONTAP 到靜態的解決方案、您必須設定認證類型以符合使用者名稱和密碼項目。</block>
  <block id="c048e95ab07253cc1cb87bef130c410b" category="list-text">將下列內容貼到Injector Configuration、然後按一下「Save（儲存）」：</block>
  <block id="9302fe5c60a983a24bb8787c00db4862" category="list-text">建立ONTAP 認證以供使用</block>
  <block id="1546222d368538c25b5704b5fcf160f5" category="list-text">在類型詳細資料下、輸入來源和目的地叢集的使用者名稱和密碼。</block>
  <block id="39f6f9fe82cbf0c0970d13b6a043ad84" category="list-text">建立Oracle認證</block>
  <block id="30d4be106e7fb63befec4c8c7c815ad0" category="list-text">輸入Oracle的名稱和組織詳細資料</block>
  <block id="61d6c643401e4a602f3c8b4b6fc0a93c" category="list-text">如有需要、請為DR_Oracle主機重複此程序、以取得不同的認證資料。</block>
  <block id="d89002d36151bd13d2bba69f3533ee5f" category="summary">本解決方案提供NetApp現場人員與客戶指示與指引、協助他們在SnapCenter 公有雲中使用NetApp支援GUI的工具和NetApp儲存服務CVO、將資料庫設定、操作及移轉至混合雲環境。</block>
  <block id="8269707c3930f3cbcd49193be33bc125" category="doc">TR-4908：SnapCenter 混合式雲端資料庫解決方案、含更新概述</block>
  <block id="7c4d94e1b484fb577b0aeafbec788ea1" category="paragraph">NetApp的Alan Cao、FellIX Melligan</block>
  <block id="268a30b4d0cad062acd42967ce0fab50" category="paragraph">本解決方案提供NetApp現場人員與客戶指示與指引、協助他們在SnapCenter 公有雲中使用NetApp支援GUI的工具、以及NetApp儲存服務CVO、在下列使用案例中設定、操作及移轉資料庫至混合雲環境：</block>
  <block id="e88a2467c8ad8bf481854b1a745a875b" category="list-text">混合雲中的資料庫開發/測試作業</block>
  <block id="3c9552536897a076f75b078a5e2a3703" category="list-text">混合雲中的資料庫災難恢復</block>
  <block id="a1ac690c228caf22f3228d3a4d8b5cab" category="paragraph">目前、許多企業資料庫仍位於私有企業資料中心、因為效能、安全性及/或其他原因。這套混合雲資料庫解決方案可讓企業在現場操作主要資料庫、同時使用公有雲進行開發/測試資料庫作業、以及進行災難恢復、以降低授權與營運成本。</block>
  <block id="d900d125b3be40bcb79452d624c38561" category="paragraph">許多企業資料庫、例如Oracle、SQL Server、SAP HANA等、 帶來高昂的授權與營運成本。許多客戶會根據其資料庫環境中的運算核心數量、支付一次性授權費用、以及年度支援成本、無論核心是用於開發、測試、正式作業或災難恢復。其中許多環境在整個應用程式生命週期內可能無法充分運用。</block>
  <block id="1f49cc83c5c3735827e3353f320f5f7f" category="paragraph">這些解決方案可讓客戶選擇將開發、測試或災難恢復專用的資料庫環境移至雲端、藉此降低可授權核心的數量。使用公有雲規模、備援、高可用度及消費型計費模式、可大幅節省授權與營運成本、同時不會犧牲任何應用程式的使用性或可用度。</block>
  <block id="1a197dd926608052c7d43edfd09556fa" category="paragraph">除了潛在的資料庫授權成本節約效益之外、NetApp容量型CVO授權模式可讓客戶以每GB為單位來節省儲存成本、同時賦予他們高層級的資料庫管理能力、這是競爭對手的儲存服務無法提供的功能。下表顯示公有雲中常見儲存服務的儲存成本比較。</block>
  <block id="810fba7bc9a3829eb522ebbc24326a08" category="paragraph"><block ref="810fba7bc9a3829eb522ebbc24326a08" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8e222eb27a0002f2960d1cf1e14bbf7d" category="paragraph">本解決方案說明SnapCenter 、透過使用以圖形化GUI為基礎的軟體工具和NetApp SnapMirror技術、混合雲資料庫作業可輕鬆設定、實作及操作。</block>
  <block id="26cc8c416b5c9fd6bec3dc68e6f2f0c8" category="paragraph">下列影片展示SnapCenter 了《實作中的參考》：</block>
  <block id="edc6673fe24c4867029921bbe72f25cb" category="inline-link">使用SnapCenter 支援技術、跨混合雲備份Oracle資料庫</block>
  <block id="b10d6cd72b187359c3769fbf5ff10e4c" category="list-text"><block ref="0d160cec2141981b284cd9986321651e" category="inline-link-rx"></block></block>
  <block id="68d9033a95c0ed286c9b7e0e7454cd86" category="inline-link">將開發/測試複製到AWS Cloud、以供Oracle資料庫使用SnapCenter</block>
  <block id="da8d0116fa67f0499837675277668911" category="list-text"><block ref="da8d0116fa67f0499837675277668911" category="inline-link-rx"></block></block>
  <block id="3b04263461ad5a7b57aa872e093ec9fa" category="paragraph">值得注意的是、雖然本文中的圖例顯示CVO是公有雲中的目標儲存執行個體、但該解決方案也已針對ONTAP AWS的新版FSX更新儲存引擎進行完整驗證。</block>
  <block id="c5a6d2f45fc4352f35e95d92c804b6f2" category="paragraph">若要為自己測試解決方案和使用案例、請至下列連結申請NetApp實驗室隨需SL10680：https://labondemand.netapp.com/lod3/labtest/request?nodeid=68761&amp;destination=lod3/testlabs[TL_AWS_004 HCoD：AWS - NW、SnapCenter（OnPrem）^。</block>
  <block id="d31314285161c777a09609cc4fb2d07a" category="inline-link-macro">下一步：解決方案架構。</block>
  <block id="0830319fc7a6b051bbb0602c2778e67c" category="paragraph"><block ref="0830319fc7a6b051bbb0602c2778e67c" category="inline-link-macro-rx"></block></block>
  <block id="467bda78c0e1adcc5ed650843fbfbdf5" category="summary">本節說明在Cloud Volumes ONTAP AWS中部署Cloud Manager和更新功能的程序。</block>
  <block id="298a4809d5445df75b6c4a9fb94074a4" category="doc">AWS公有雲入門</block>
  <block id="b8f5ff8c1ae69fa5befe459d3f34b68a" category="inline-link-macro">上一篇：內部部署入門。</block>
  <block id="19f84106226ff97c314f55dd621bbd98" category="paragraph"><block ref="19f84106226ff97c314f55dd621bbd98" category="inline-link-macro-rx"></block></block>
  <block id="87aa698992e009d04733c9906225592c" category="admonition">為了更容易追蹤、我們根據AWS部署建立了這份文件。不過、Azure和GCP的程序非常類似。</block>
  <block id="39845311263ccad04c0d4f0b9aa9d4c6" category="section-title">1、飛行前檢查</block>
  <block id="12ed93944854c12caa37886d620f16db" category="paragraph">在部署之前、請先確定基礎架構已就緒、以便在下一階段進行部署。這包括下列項目：</block>
  <block id="c6368ae044df0f7bb26ed60afda5c591" category="list-text">AWS帳戶</block>
  <block id="4019c185756035c18c03fabfccd7d4b2" category="list-text">您所在地區的VPC</block>
  <block id="fca5d2fece6e360f78dff4573ba04a20" category="list-text">可存取公共網際網路的子網路</block>
  <block id="e3e5c3dadc3e70d536645a3be9744f79" category="list-text">將IAM角色新增至AWS帳戶的權限</block>
  <block id="bd5c82fb0e0371a168f609848b11e92a" category="list-text">AWS使用者的秘密金鑰和存取金鑰</block>
  <block id="c3d1ff3c88148b2246bb0972916da82a" category="section-title">2、在Cloud Volumes ONTAP AWS中部署Cloud Manager與功能不全的步驟</block>
  <block id="6d0eb695a99109617b806676e9610075" category="inline-link">NetApp雲端文件</block>
  <block id="593581e466784760a050bceaea5e0c48" category="admonition">部署Cloud Manager和Cloud Volumes ONTAP NetApp有許多方法；這種方法最簡單、但需要最大權限。如果此方法不適用於您的AWS環境、請參閱<block ref="97a20614f8c0e53f461a9353634e5e51" category="inline-link-rx"></block>。</block>
  <block id="bb3e779fdf877143137572122cf424e3" category="section-title">部署Cloud Manager連接器</block>
  <block id="49fc376ed35249f3841846ede4dab884" category="inline-link">NetApp Cloud Central</block>
  <block id="4c6e32ff373dc3ce5b49202f92f01b08" category="list-text">瀏覽至<block ref="143fea272f01f72dbdc942451156df21" category="inline-link-rx"></block> 並登入或註冊。</block>
  <block id="356cf5e12d635c19d987b1b195ff5a40" category="paragraph"><block ref="356cf5e12d635c19d987b1b195ff5a40" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2300b8579a8761e452d89a2af6636b7d" category="list-text">登入之後、您應該會被帶到Canvas.</block>
  <block id="af93b0b88e1db5f3aa229d2336fedb3c" category="paragraph"><block ref="af93b0b88e1db5f3aa229d2336fedb3c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a3fbf2c408ce86ff3403990e7e32dcb3" category="list-text">按一下「Add Working Environment」（新增工作環境）、然後在Cloud Volumes ONTAP AWS中選擇「您也可以在此選擇要部署單一節點系統或高可用度配對。我選擇部署高可用度配對。</block>
  <block id="bb18ff1ebac7ea2039aa297469c76b76" category="paragraph"><block ref="bb18ff1ebac7ea2039aa297469c76b76" category="inline-image-macro-rx" type="image"></block></block>
  <block id="016aa0c0a7322975ec4b8eeac805f2c0" category="list-text">如果尚未建立連接器、則會出現快顯視窗、要求您建立連接器。</block>
  <block id="a05691eb0d806668c3796d3d6fe01157" category="paragraph"><block ref="a05691eb0d806668c3796d3d6fe01157" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4fc3362a0d8ab63cc8fa21bbd0fb07db" category="list-text">按一下「讓我們開始」、然後選擇「AWS」。</block>
  <block id="55f5adc74d49945abd7798742f307124" category="paragraph"><block ref="55f5adc74d49945abd7798742f307124" category="inline-image-macro-rx" type="image"></block></block>
  <block id="deae4c054bb3102bbf634b14534da9bf" category="inline-link">NetApp原則頁面</block>
  <block id="651d429a2b6cfcd93f6adb1d4825a214" category="list-text">輸入您的秘密金鑰和存取金鑰。請確定您的使用者擁有上所述的正確權限<block ref="fb0c65a047527c32e46baadcaacb4fe2" category="inline-link-rx"></block>。</block>
  <block id="94497191b0b0c6d05a2df7d2175e87f5" category="paragraph"><block ref="94497191b0b0c6d05a2df7d2175e87f5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d8d59b60a74630e45f83fd3c48207b47" category="list-text">為連接器命名、並使用預先定義的角色、如所述<block ref="fb0c65a047527c32e46baadcaacb4fe2" category="inline-link-rx"></block> 或請Cloud Manager為您建立角色。</block>
  <block id="1e64ebe4af05f5d4a8b8c6542e7a09e9" category="paragraph"><block ref="1e64ebe4af05f5d4a8b8c6542e7a09e9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="02d395705fb063ad8d33d8c83c856e6f" category="list-text">提供部署連接器所需的網路資訊。確認已啟用傳出網際網路存取：</block>
  <block id="8215126360cbe5d8f5566c7ffc8cf224" category="list-text">為連接器提供公有IP位址</block>
  <block id="22adb619c008bfd7495288573093ae44" category="list-text">為連接器提供可處理的Proxy</block>
  <block id="58a149795bbe86e4e0d4ab8f10413219" category="list-text">透過網際網路閘道將連接器分配給公共網際網路</block>
  <block id="5908ad1cf5bd748238e305dd5fc52fac" category="paragraph"><block ref="5908ad1cf5bd748238e305dd5fc52fac" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7c58ebc9f032dc8d2e5c4f522cedbe0b" category="list-text">提供安全群組或建立新的安全群組、以透過SSH、HTTP和HTTPS與連接器進行通訊。我已啟用從IP位址存取連接器的功能。</block>
  <block id="1d39d9c13f50dd25f7e54173c87c633a" category="paragraph"><block ref="1d39d9c13f50dd25f7e54173c87c633a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cb444cfaba774437ecdbbb95856d94cd" category="list-text">檢閱摘要頁面上的資訊、然後按一下「新增」以部署連接器。</block>
  <block id="5576df68e3720f55e585e7e091d5b9e3" category="paragraph"><block ref="5576df68e3720f55e585e7e091d5b9e3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4255ace47c9ad7f2907c18df7512bb9f" category="list-text">連接器現在使用雲端形成堆疊進行部署。您可以從Cloud Manager或透過AWS監控其進度。</block>
  <block id="ff7fb4bedc0d09880f85d9745ec258a5" category="paragraph"><block ref="ff7fb4bedc0d09880f85d9745ec258a5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ca320cc147e2b9fac2dd7379e91012b6" category="list-text">部署完成後、會顯示成功頁面。</block>
  <block id="f5bbadf1ed57058e80e27764684e6314" category="paragraph"><block ref="f5bbadf1ed57058e80e27764684e6314" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6382283fd45b13b5c983745731fec990" category="section-title">部署 Cloud Volumes ONTAP</block>
  <block id="5fe90897c7135ba3020c4a397f55adb6" category="list-text">根據您的需求選擇AWS和部署類型。</block>
  <block id="63b636f2002a2e7b7c2e2420cd64ff73" category="paragraph"><block ref="63b636f2002a2e7b7c2e2420cd64ff73" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ccf1300c5621fdebe8c1a70fade44f3b" category="list-text">如果尚未指派訂閱、且您想要與PAYGO一起購買、請選擇「編輯認證」。</block>
  <block id="b893bded7e1bd3419a443758a8ef410f" category="paragraph"><block ref="b893bded7e1bd3419a443758a8ef410f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="88eb84b1a8f0417c9de6e1202125df56" category="list-text">選擇「新增訂閱」。</block>
  <block id="0b5d3e3d1a9347ff4a7395d09208a8f4" category="paragraph"><block ref="0b5d3e3d1a9347ff4a7395d09208a8f4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="052208bafdfe08bc8f0735a78226e541" category="list-text">選擇您要訂閱的合約類型。我選擇了隨用隨付。</block>
  <block id="4d5ab1ed0682fe644e831558598d4638" category="paragraph"><block ref="4d5ab1ed0682fe644e831558598d4638" category="inline-image-macro-rx" type="image"></block></block>
  <block id="65577508f7897e730adb501d0db73913" category="list-text">您會重新導向至AWS、請選擇「Continue（繼續）」以訂閱。</block>
  <block id="ac33260d1e06f504f1dcac229aeb269c" category="paragraph"><block ref="ac33260d1e06f504f1dcac229aeb269c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="439c4fb23c120f0a99894c630cedaabd" category="list-text">訂閱之後、您將被重新導向回NetApp Cloud Central。如果您已訂閱但未重新導向、請選擇「按一下此處」連結。</block>
  <block id="a90c8b1fc04a41aff490fd2b269f5932" category="paragraph"><block ref="a90c8b1fc04a41aff490fd2b269f5932" category="inline-image-macro-rx" type="image"></block></block>
  <block id="14b9e98d2b57da92c29826ce7de32c32" category="list-text">您會重新導向至Cloud Central、在其中必須為訂閱命名、並將其指派給Cloud Central帳戶。</block>
  <block id="c89376fd9624f6ebda7959df6176ef34" category="paragraph"><block ref="c89376fd9624f6ebda7959df6176ef34" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4508f5994d1b34ff85cd1e8a1884d6c1" category="list-text">成功時、會出現核取標記頁面。瀏覽返回Cloud Manager索引標籤。</block>
  <block id="2b206bbd8f3b20e3282b660a356d90be" category="paragraph"><block ref="2b206bbd8f3b20e3282b660a356d90be" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b3294e5fb9ec1c42cde7ebf9b206c583" category="list-text">訂購內容現在會顯示在Cloud Central中。按一下「套用」繼續。</block>
  <block id="37ce5c33a55d907edabe632c39a2707c" category="paragraph"><block ref="37ce5c33a55d907edabe632c39a2707c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9f7927b068a5dddb4852b2e7dc256544" category="list-text">輸入工作環境詳細資料、例如：</block>
  <block id="0dbae4d42c7a0db53e2eb32adee12892" category="list-text">叢集名稱</block>
  <block id="0c191ee206a91460fd94e2ff976a38e7" category="list-text">叢集密碼</block>
  <block id="53aa18427d1e2c7b7113c668561a62d2" category="list-text">AWS標籤（選用）</block>
  <block id="d3b6ff1e8c6317d132d3a5e974f1374c" category="paragraph"><block ref="d3b6ff1e8c6317d132d3a5e974f1374c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4fb5b261ae3a3581304a283ef70a5246" category="inline-link">NetApp Cloud首頁</block>
  <block id="e7b29c75e71a48483734401322ef6e92" category="list-text">選擇您要部署的其他服務。若要深入瞭解這些服務、請造訪<block ref="1bb1213784e04e4f47d06f252d1ba164" category="inline-link-rx"></block>。</block>
  <block id="88e71a2c19d98c79d2ed51a753c8a4c2" category="paragraph"><block ref="88e71a2c19d98c79d2ed51a753c8a4c2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e0dffa77d5644a3816ba69e24ce813ff" category="list-text">選擇是部署在多個可用度區域（重新設定三個子網路的組權、每個子網路位於不同的AZ）、還是部署單一可用度區域。我選擇了多個AZs。</block>
  <block id="6e4a3fe2b0629dae504d8e727147f709" category="paragraph"><block ref="6e4a3fe2b0629dae504d8e727147f709" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4b889b7255c34e7f230e392668605860" category="list-text">為要部署的叢集選擇區域、VPC和安全性群組。在本節中、您也可以指派每個節點（和中介）的可用度區域、以及它們所佔用的子網路。</block>
  <block id="9ad68c9f72863557931a8569462bff52" category="paragraph"><block ref="9ad68c9f72863557931a8569462bff52" category="inline-image-macro-rx" type="image"></block></block>
  <block id="be43ebbf5380089f153e4f1b13e35e6f" category="list-text">選擇節點和中介器的連線方法。</block>
  <block id="8bf6da8b537127466c4421c1ae3169be" category="paragraph"><block ref="8bf6da8b537127466c4421c1ae3169be" category="inline-image-macro-rx" type="image"></block></block>
  <block id="204bd52e1d13052712299779cf041df6" category="admonition">中介者需要與AWS API通訊。只要在部署了中介EC2執行個體之後、API就能連線、就不需要公有IP位址。</block>
  <block id="52fade87431f9acc43b7bf6e4c5fd2f1" category="inline-link">NetApp雲端文件</block>
  <block id="0c79e4a46253eeb94ba6b8218928aa99" category="list-text">浮動IP位址可用來存取Cloud Volumes ONTAP 各種使用的IP位址、包括叢集管理和資料服務IP。這些位址必須是網路中無法路由傳送的位址、而且必須新增至AWS環境中的路由表。在容錯移轉期間、必須啟用一致的HA配對IP位址。如需浮動IP位址的詳細資訊、請參閱<block ref="72cde540b4f97efa19e071f729439801" category="inline-link-rx"></block>。</block>
  <block id="fd4a46ceddfb2402b7e37177af575e04" category="paragraph"><block ref="fd4a46ceddfb2402b7e37177af575e04" category="inline-image-macro-rx" type="image"></block></block>
  <block id="95ca6b5e9b64aed9132a6be07d061f3b" category="list-text">選取要新增浮動IP位址的路由表。這些路由表可供用戶端用來與Cloud Volumes ONTAP 無法分享的資料。</block>
  <block id="3453ab81a2f04d5c39ae750fb79ece2a" category="paragraph"><block ref="3453ab81a2f04d5c39ae750fb79ece2a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="af918e519f9c0db1ed5ab4fd4b6e9e05" category="list-text">選擇是啟用AWS託管加密、還是啟用AWS KMS來加密ONTAP 支援的支援、以加密整個過程中的所有資料磁碟。</block>
  <block id="058eaefa711702bd45c5f6650cf01e4c" category="paragraph"><block ref="058eaefa711702bd45c5f6650cf01e4c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="01bd54fa77587425fca4a6c352309b5c" category="list-text">選擇您的授權模式。如果您不知道該選擇哪一項、請聯絡您的NetApp代表。</block>
  <block id="e5e49184799594a9fa690c9122eb883e" category="paragraph"><block ref="e5e49184799594a9fa690c9122eb883e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="04110b24d1459a6e21e35ad976a8f10e" category="list-text">選取最適合您使用案例的組態。這與「必要條件」頁面所涵蓋的規模調整考量有關。</block>
  <block id="e19584159c9c3791a9e3c462cb0aa451" category="paragraph"><block ref="e19584159c9c3791a9e3c462cb0aa451" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3ed47788a525c6d08246bfa2f90922da" category="list-text">也可以建立Volume。這是不必要的、因為後續步驟使用SnapMirror、為我們建立磁碟區。</block>
  <block id="01da9401385484b72ba9c016ac6c19ab" category="paragraph"><block ref="01da9401385484b72ba9c016ac6c19ab" category="inline-image-macro-rx" type="image"></block></block>
  <block id="76011f95c4e1b3f68fa5829dab0fb786" category="list-text">請檢閱所做的選擇、並勾選方塊、確認您瞭解Cloud Manager已將資源部署到AWS環境。準備好後、按一下「Go（執行）</block>
  <block id="7b78e746aa55ffe6fee1f3e0b65b8cca" category="paragraph"><block ref="7b78e746aa55ffe6fee1f3e0b65b8cca" category="inline-image-macro-rx" type="image"></block></block>
  <block id="13b7f009673a469e5482a96832be1473" category="list-text">現在、即可開始部署程序。Cloud Volumes ONTAPCloud Manager使用AWS API和雲端形成堆疊來部署Cloud Volumes ONTAP 功能。然後將系統設定為符合您的規格、讓您立即使用隨裝即用的系統。此程序的時間取決於所做的選擇。</block>
  <block id="11d15d8a4bb9195b48d5010fa30fa547" category="paragraph"><block ref="11d15d8a4bb9195b48d5010fa30fa547" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5e63d2329924bb302fb012e7916b3614" category="list-text">您可以瀏覽至時間軸來監控進度。</block>
  <block id="77405312cc4c1e96d3f7f796e838bf89" category="paragraph"><block ref="77405312cc4c1e96d3f7f796e838bf89" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4b4df7cc92b3ee31f5d95082a78c7903" category="list-text">時間軸可稽核Cloud Manager中執行的所有動作。您可以檢視Cloud Manager在設定AWS和ONTAP 支援叢集期間所發出的所有API呼叫。這也可有效用來疑難排解您所面臨的任何問題。</block>
  <block id="8c17e020c76595308d57605fa71dc7af" category="paragraph"><block ref="8c17e020c76595308d57605fa71dc7af" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4c5674ad1910f0a25455fdeb0f3f097a" category="list-text">部署完成後、CVO叢集會顯示在目前容量的畫版上。目前狀態下的整個叢集已經過完整設定、可提供真正的隨裝即用體驗。ONTAP</block>
  <block id="db044bc640be9fc8227b7ada891f279d" category="paragraph"><block ref="db044bc640be9fc8227b7ada891f279d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="28d2e01957d5845ff59688f17bd34339" category="section-title">設定SnapMirror從內部部署到雲端</block>
  <block id="081494b1a178710486921a42e2bdfa87" category="paragraph">現在ONTAP 您已部署來源的一套來源系統和目的地ONTAP 的一套系統、您可以將包含資料庫資料的磁碟區複寫到雲端。</block>
  <block id="cb3269c2496a99fb03bebe82b6a3e4bc" category="inline-link">SnapMirror相容性對照表</block>
  <block id="46aad6288d89ba29f38b4742bf018aca" category="paragraph">如需ONTAP SnapMirror相容的版本資訊指南、請參閱<block ref="f75a4f2138bf92eb17ef87cad85a9e34" category="inline-link-rx"></block>。</block>
  <block id="36c5350a8474f2212fecc811eb77df57" category="list-text">按一下來源ONTAP 支援系統（內部部署）、然後將其拖放到目的地、選取「Replication（複製）」&gt;「Enable（啟用）」、或選取「Replication（複製）」&gt;「Menu（功能表）」&gt;「Replicate（複製）」。</block>
  <block id="5dbe69ec28d70286f46385336e96d003" category="paragraph"><block ref="5dbe69ec28d70286f46385336e96d003" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8771a8fdaa9e84a7eef7540edcca5f40" category="paragraph">選取「啟用」。</block>
  <block id="ac21962f3f0ae9f9c17b26196452f903" category="paragraph"><block ref="ac21962f3f0ae9f9c17b26196452f903" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a6a8dc55f6f333187a100f6ed328bdc0" category="paragraph">或選項。</block>
  <block id="949fa0a5e194cf44c9e08903cb914566" category="paragraph"><block ref="949fa0a5e194cf44c9e08903cb914566" category="inline-image-macro-rx" type="image"></block></block>
  <block id="066bf779660ad446aa9b0d4021c4bf40" category="paragraph">複寫：</block>
  <block id="deafbb4908c633cb93a7f7e76b31da08" category="paragraph"><block ref="deafbb4908c633cb93a7f7e76b31da08" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5a803b2a55429f981d25fbb8da94aef7" category="list-text">如果您沒有拖放、請選擇要複寫的目的地叢集。</block>
  <block id="630e74180bc1b6c0c0c866d5478ff029" category="paragraph"><block ref="630e74180bc1b6c0c0c866d5478ff029" category="inline-image-macro-rx" type="image"></block></block>
  <block id="761124dc5e0730086556a7d33d43418c" category="list-text">選擇您要複寫的磁碟區。我們複寫了資料和所有記錄磁碟區。</block>
  <block id="7bec2596a51a0d4a808a37dec9e6c540" category="paragraph"><block ref="7bec2596a51a0d4a808a37dec9e6c540" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bde4e8497f5ecaef866c0f049aada776" category="list-text">選擇目的地磁碟類型和分層原則。對於災難恢復、我們建議使用SSD做為磁碟類型、並維持資料分層。資料分層將鏡射資料分層儲存至低成本的物件儲存設備、並節省您在本機磁碟上的成本。當您中斷關係或複製磁碟區時、資料會使用快速的本機儲存設備。</block>
  <block id="a7d9908d0f610b3db167c894d109d1ec" category="paragraph"><block ref="a7d9908d0f610b3db167c894d109d1ec" category="inline-image-macro-rx" type="image"></block></block>
  <block id="52f06f2f09c024b69ef3944a8cd78ad9" category="list-text">選擇目的地Volume名稱：我們選擇了「[SOUR資料_ Volume名稱]_DR。</block>
  <block id="6f8ba85bc89d216799431f124e48b25f" category="paragraph"><block ref="6f8ba85bc89d216799431f124e48b25f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2882a0dbc1a6ad74198ac2cb6316870d" category="list-text">選取複寫的最大傳輸率。這可讓您在連線至雲端（例如VPN）的頻寬過低時、節省頻寬。</block>
  <block id="041263f562a9058ae414685962469951" category="paragraph"><block ref="041263f562a9058ae414685962469951" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f81dd66e0f0847d4cb1d2d12fadcc2f3" category="list-text">定義複寫原則。我們選擇了鏡射、它會將最新的資料集複寫到目的地Volume中。您也可以根據需求選擇不同的原則。</block>
  <block id="d0b86e2934c870915aaa77674d1d79d7" category="paragraph"><block ref="d0b86e2934c870915aaa77674d1d79d7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4db5384e8d04b01ff24a9178b3efaf6a" category="list-text">選擇觸發複寫的排程。NetApp建議針對資料磁碟區設定「每日」排程、並針對記錄磁碟區設定「每小時」排程、不過可根據需求加以變更。</block>
  <block id="c6715d4de4d68a1f8eb9cb8acb63b097" category="paragraph"><block ref="c6715d4de4d68a1f8eb9cb8acb63b097" category="inline-image-macro-rx" type="image"></block></block>
  <block id="02e3a269661e3c96a86a075872a1b269" category="list-text">檢閱輸入的資訊、按一下「Go（執行）」以觸發叢集對等端點和SVM對等端點（如果這是您第一次在兩個叢集之間複寫）、然後實作並初始化SnapMirror關係。</block>
  <block id="75c2d297cd7282b30ce0400170110307" category="paragraph"><block ref="75c2d297cd7282b30ce0400170110307" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3c160366cab97ee8f1a35416d1294ddb" category="list-text">繼續執行資料磁碟區和記錄磁碟區的此程序。</block>
  <block id="64853c47f4f907262466c1e5ad154c8c" category="list-text">若要檢查所有關係、請瀏覽至Cloud Manager中的「Replication（複寫）」索引標籤。您可在此管理關係、並查看其狀態。</block>
  <block id="641e620fe8c714d7381775d20a707726" category="paragraph"><block ref="641e620fe8c714d7381775d20a707726" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c88bec52f9e24233a78b6a90efa32ec6" category="list-text">複寫完所有磁碟區之後、您會處於穩定狀態、準備好繼續進行災難恢復和開發/測試工作流程。</block>
  <block id="86fb3ee49ae2f8c0ee121c551a8f08c2" category="section-title">3：為資料庫工作負載部署EC2運算執行個體</block>
  <block id="91ba52045df2b9244f28270482f749c9" category="inline-link">EC2執行個體類型</block>
  <block id="33aaa72e62140af9cecb2c48f836b84b" category="paragraph">AWS已針對各種工作負載預先設定EC2運算執行個體。執行個體類型的選擇決定了CPU核心數量、記憶體容量、儲存類型和容量、以及網路效能。在使用案例中、除了OS分割區之外、用於執行資料庫工作負載的主儲存區是從CVO或FSX ONTAP 還原儲存引擎配置。因此、要考量的主要因素是CPU核心、記憶體和網路效能等級的選擇。典型的AWS EC2執行個體類型可在這裡找到：<block ref="9334d5b9e602c5921b4f295f6041489b" category="inline-link-rx"></block>。</block>
  <block id="0af43c3d809d6e56a6a7a0d1ed039bbc" category="section-title">調整運算執行個體規模</block>
  <block id="0b6e77aedd6bd733f979314fef2a98d7" category="list-text">根據所需的工作負載、選取適當的執行個體類型。需要考量的因素包括要支援的商業交易數量、並行使用者數量、資料集規模調整等。</block>
  <block id="c421d122321bec48d6b30858f4e7b515" category="inline-link">Amazon EC2</block>
  <block id="ed4b68006572e288530a2152f7fbe5fe" category="list-text">EC2執行個體部署可透過EC2儀表板啟動。確切的部署程序不在本解決方案的範圍之內。請參閱<block ref="3a5862dd365e3998013717e9cf118a9a" category="inline-link-rx"></block> 以取得詳細資料。</block>
  <block id="708991723f71fa1bd7b8081be442552c" category="section-title">適用於Oracle工作負載的Linux執行個體組態</block>
  <block id="5c17b7d75ff16063f772234e1ea8eeb1" category="paragraph">本節包含部署EC2 Linux執行個體之後的其他組態步驟。</block>
  <block id="39d786446455bb2b3017b793805fc902" category="list-text">將Oracle待命執行個體新增至DNS伺服器、以便SnapCenter 在支援範圍內解析名稱。</block>
  <block id="385a2a4f5305fe5ce8017f18fb7eabd4" category="list-text">新增Linux管理使用者ID作為SnapCenter 不含密碼的Sudo權限的Sudo OS認證。在EC2執行個體上啟用具有SSH密碼驗證的ID。（依預設、EC2執行個體的SSH密碼驗證和無密碼Sudo會關閉。）</block>
  <block id="a2b4677d7a72840a78373c600441681a" category="list-text">設定Oracle安裝、使其符合內部部署的Oracle安裝、例如OS修補程式、Oracle版本和修補程式等。</block>
  <block id="66b65364302a847feb2630bfd7974256" category="inline-link">Oracle 19c自動化部署</block>
  <block id="fa470598a181c1ed905bace243e46aa3" category="list-text">NetApp Ansible DB自動化角色可用於設定EC2執行個體、以用於資料庫開發/測試和災難恢復使用案例。自動化程式碼可從NetApp Public GitHub網站下載：<block ref="437f8b44ff65600fb5697e9d369a0c54" category="inline-link-rx"></block>。目標是在EC2執行個體上安裝及設定資料庫軟體堆疊、以符合內部部署作業系統和資料庫組態。</block>
  <block id="97875b4799caf4c948118e7b4776c9fb" category="section-title">SQL Server工作負載的Windows執行個體組態</block>
  <block id="c63751cfdcf8c0b4e26635a47c7f0d97" category="paragraph">本節列出最初部署EC2 Windows執行個體之後的其他組態步驟。</block>
  <block id="5f44e6a78874f9f49acae3caa71cc14d" category="list-text">擷取Windows系統管理員密碼、以透過RDP登入執行個體。</block>
  <block id="eabafc642b0901afd6622ab0f19d9ef0" category="list-text">停用Windows防火牆、將主機加入Windows SnapCenter 支援網域、然後將執行個體新增至DNS伺服器以進行名稱解析。</block>
  <block id="08bf2d7ff3ac9ab37cfa8dc449b3c8da" category="list-text">配置SnapCenter 一個可儲存SQL Server記錄檔的流通記錄磁碟區。</block>
  <block id="f97ac9d1946c873247af15165559b47a" category="list-text">在Windows主機上設定iSCSI、以掛載磁碟區並格式化磁碟機。</block>
  <block id="6c2a9c611f48cae767f6ebea6fca0457" category="inline-link">NetApp自動化</block>
  <block id="6dea6226167bd38268de4c4d948d72de" category="list-text">同樣地、許多先前的工作都可以透過適用於SQL Server的NetApp自動化解決方案來自動化。如需最新發表的角色與解決方案、請參閱NetApp自動化公有GitHub網站：<block ref="8cafb3a3b1222d318fcd262791229701" category="inline-link-rx"></block>。</block>
  <block id="752c08adf364adb2721c9a373759f8f6" category="inline-link-macro">下一步：開發/測試爆增至雲端的工作流程。</block>
  <block id="4e3fc3c2eb04754fcac9e4e23b6de054" category="paragraph"><block ref="4e3fc3c2eb04754fcac9e4e23b6de054" category="inline-link-macro-rx"></block></block>
  <block id="012b603d852affe4779f095a5c59f0c5" category="summary">公有雲的敏捷度、實現價值所需時間、成本節約、都是企業採用公有雲進行資料庫應用程式開發與測試的有意義價值主張。沒有比SnapCenter 這個更好的工具能讓這個工具在倉促中實現。不僅可在內部保護正式作業資料庫、也能快速複製複本、以便在公有雲中進行應用程式開發或程式碼測試、同時只需花費極少的額外儲存空間。SnapCenter以下是使用此工具的逐步程序詳細資料。</block>
  <block id="38da6679588aeb2754e14dd58994685e" category="doc">開發/測試爆增至雲端的工作流程</block>
  <block id="5b9681a3caf5db6230c17718122074d3" category="inline-link-macro">上一篇：AWS公有雲入門指南。</block>
  <block id="e9e59a2a982f81f5f964248f351b2446" category="paragraph"><block ref="e9e59a2a982f81f5f964248f351b2446" category="inline-link-macro-rx"></block></block>
  <block id="4d8a5b6bc9c43ab79e376d1aa4d83217" category="paragraph">公有雲的敏捷度、實現價值所需的時間、以及成本節約、都是企業採用公有雲進行資料庫應用程式開發與測試的重要價值主張。沒有什麼比SnapCenter 這個更好的工具能讓這個事實成真。不僅可保護內部環境中的正式作業資料庫、也能快速複製複本、以便在公有雲中進行應用程式開發或程式碼測試、同時只需佔用極少的額外儲存空間。SnapCenter以下是使用此工具的逐步程序詳細資料。</block>
  <block id="b47b42841be2e173707ab5884714970b" category="section-title">從複寫的Snapshot備份複製Oracle資料庫以進行開發/測試</block>
  <block id="8d90529d1117b8d3781bd6781acf4e91" category="list-text">使用Oracle的資料庫管理使用者ID登入SnapCenter 支援功能。瀏覽至「Resources（資源）」索引標籤、其中顯示SnapCenter 受支援的Oracle資料庫。</block>
  <block id="a95ff2a2ae2905b0bb3bd0efa211a040" category="paragraph"><block ref="a95ff2a2ae2905b0bb3bd0efa211a040" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8d539d2e9659870aa79747206fac4769" category="list-text">按一下備份拓撲的預期內部部署資料庫名稱和詳細檢視。如果已啟用次要複寫位置、則會顯示連結的鏡像備份。</block>
  <block id="20111f4a74a9c065157aa13379000a73" category="paragraph"><block ref="20111f4a74a9c065157aa13379000a73" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d4a9c1f33e524696d6f3adebf89947bb" category="list-text">按一下鏡射備份、切換至鏡射備份檢視。接著會顯示次要鏡射備份。</block>
  <block id="e1cbaea95bcc154ccf9e8aece7fc73b3" category="paragraph"><block ref="e1cbaea95bcc154ccf9e8aece7fc73b3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4726a244c3941457e8f62b49c83d35d1" category="list-text">選擇要複製的鏡射二線資料庫備份複本、然後根據時間和系統變更編號或SCN來判斷恢復點。一般而言、還原點應拖曳完整的資料庫備份時間、或是要複製的SCN。在決定恢復點之後、必須掛載必要的記錄檔備份以供還原。記錄檔備份應掛載到要裝載複製資料庫的目標DB伺服器。</block>
  <block id="81d132cd1ae26e007bb608e5f8609288" category="paragraph"><block ref="81d132cd1ae26e007bb608e5f8609288" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b2dc441031605bf54d78fde13b3efc3c" category="paragraph"><block ref="b2dc441031605bf54d78fde13b3efc3c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="22a17e5abcfc4b5e70ebdea098cd1891" category="admonition">如果已啟用記錄剪除功能、且恢復點已延伸到上次的記錄剪除之後、則可能需要掛載多個歸檔記錄備份。</block>
  <block id="e9606676533bbe916f4b4b6824eac195" category="list-text">反白顯示要複製的完整資料庫備份複本、然後按一下「Clone（複製）」按鈕以啟動資料庫複製工作流程。</block>
  <block id="48493c19ee97a291cd320501daf5c721" category="paragraph"><block ref="48493c19ee97a291cd320501daf5c721" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6c06d82b497809fcc0fd06d00c6d91a5" category="list-text">為完整的容器資料庫或CDB複製選擇適當的實體複製DB SID。</block>
  <block id="f6ee6a459784097119ec1eee6224152e" category="paragraph"><block ref="f6ee6a459784097119ec1eee6224152e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e2c50a030b1c5313fca09568edf8c0f9" category="list-text">選取雲端中的目標實體複製主機、然後由實體複製工作流程建立資料檔案、控制檔和重作記錄目錄。</block>
  <block id="323554a005f5e77dfaa765ea81e645be" category="paragraph"><block ref="323554a005f5e77dfaa765ea81e645be" category="inline-image-macro-rx" type="image"></block></block>
  <block id="701f017aeafb71656cf2bc3a9bd34862" category="list-text">「無」認證名稱用於OS型驗證、這會使資料庫連接埠變得不相關。填寫目標實體複製資料庫伺服器中所設定的適當Oracle Home、Oracle OS User和Oracle OS Group。</block>
  <block id="c5237b674d4a9cd38d44c5e546cc51d4" category="paragraph"><block ref="c5237b674d4a9cd38d44c5e546cc51d4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="26a911f3c85fc3c73d79253e65bf30e3" category="list-text">指定要在複製作業之前執行的指令碼。更重要的是、資料庫執行個體參數可在此調整或定義。</block>
  <block id="56774e452bc62021e52de3e3fea844a2" category="paragraph"><block ref="56774e452bc62021e52de3e3fea844a2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="09d7240367714707474d63a3a574222b" category="list-text">依日期和時間或SCN指定恢復點。直到「取消」將資料庫恢復到可用的歸檔記錄為止。從掛載歸檔記錄磁碟區的目標主機指定外部歸檔記錄檔位置。如果目標伺服器Oracle擁有者與內部部署正式作業伺服器不同、請確認目標伺服器Oracle擁有者可讀取歸檔記錄目錄。</block>
  <block id="6cb86841376102e5b8924f9909b8f570" category="paragraph"><block ref="6cb86841376102e5b8924f9909b8f570" category="inline-image-macro-rx" type="image"></block></block>
  <block id="70b171a9c984de6358afb3557fe84586" category="paragraph"><block ref="70b171a9c984de6358afb3557fe84586" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b30b70196320d22207ea0d5d95d2c841" category="paragraph"><block ref="b30b70196320d22207ea0d5d95d2c841" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0421be6f676ac1ddace9e39eeeb54f0f" category="list-text">複製摘要：</block>
  <block id="a930a442bf914f516109fbb28bf2fbd1" category="paragraph"><block ref="a930a442bf914f516109fbb28bf2fbd1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="69d929881b22cd699e243e2343bd707d" category="list-text">您應該在複製後驗證、以確保複製的資料庫正常運作。有些額外的工作、例如啟動接聽程式或關閉資料庫記錄歸檔模式、可以在開發/測試資料庫上執行。</block>
  <block id="9991775de6f914e5a41601ba523e3193" category="paragraph"><block ref="9991775de6f914e5a41601ba523e3193" category="inline-image-macro-rx" type="image"></block></block>
  <block id="58732c8d9b1293bb6666ef2284840fd3" category="section-title">從複寫的Snapshot備份複製SQL資料庫以進行開發/測試</block>
  <block id="605f2bb9d099f78e26260848db117df7" category="list-text">使用SQL Server的資料庫管理使用者ID登入SnapCenter 支援功能。瀏覽至「Resources（資源）」索引標籤、其中顯示SnapCenter 受支援的SQL Server使用者資料庫、以及公有雲中的目標待命SQL執行個體。</block>
  <block id="d238acd8e02d4df70c9b55828a4b8801" category="paragraph"><block ref="d238acd8e02d4df70c9b55828a4b8801" category="inline-image-macro-rx" type="image"></block></block>
  <block id="39c34a717e197c67b1fc8d678db5815b" category="list-text">按一下所需的內部部署SQL Server使用者資料庫名稱、以取得備份拓撲和詳細檢視。如果已啟用次要複寫位置、則會顯示連結的鏡像備份。</block>
  <block id="8c57a9d29ca9640330e03e6edca2b6e5" category="paragraph"><block ref="8c57a9d29ca9640330e03e6edca2b6e5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a5910fa5df5b6482c00b15ae683eef0f" category="list-text">按一下鏡射備份、切換至鏡射備份檢視。接著會顯示次要鏡射備份。由於將SQL Server交易記錄備份到專用磁碟機以進行還原、因此此處僅顯示完整的資料庫備份。SnapCenter</block>
  <block id="f8d3ed6786c765a87cec8464a574076a" category="paragraph"><block ref="f8d3ed6786c765a87cec8464a574076a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="368014bae8201ab49d2207a53c907069" category="list-text">選擇備份複本、然後按一下「Clone（複製）」按鈕以啟動「Clone from Backup（從備份複製）」工作流程。</block>
  <block id="87dbbaf733c71b9d4e0027ad4a85e709" category="paragraph"><block ref="87dbbaf733c71b9d4e0027ad4a85e709" category="inline-image-macro-rx" type="image"></block></block>
  <block id="75c22c861d423e3f3450da18d56f0599" category="paragraph"><block ref="75c22c861d423e3f3450da18d56f0599" category="inline-image-macro-rx" type="image"></block></block>
  <block id="44258030a87117191bde6d62511ddb9a" category="list-text">選取雲端伺服器做為目標實體複製伺服器、複製執行個體名稱、以及複製資料庫名稱。選擇自動指派掛載點或使用者定義的掛載點路徑。</block>
  <block id="7841eed97c9a860bcb6a46b08ea08c11" category="paragraph"><block ref="7841eed97c9a860bcb6a46b08ea08c11" category="inline-image-macro-rx" type="image"></block></block>
  <block id="18145dc97ae06034ae9aafa8b98cb36e" category="list-text">根據記錄備份時間或特定日期與時間來判斷恢復點。</block>
  <block id="b2798123b4d42e447362355b510a424c" category="paragraph"><block ref="b2798123b4d42e447362355b510a424c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0b9becceddf802cada91d9e2aa84ac5a" category="list-text">指定在複製作業前後執行的選用指令碼。</block>
  <block id="adee0219db450497bd0f545df8d862c7" category="paragraph"><block ref="adee0219db450497bd0f545df8d862c7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e41b01ffd717fd3d0b5788e608e50b52" category="list-text">如果需要電子郵件通知、請設定一個SMTP伺服器。</block>
  <block id="9b758c550d5da3ecb44f04ae804293d4" category="paragraph"><block ref="9b758c550d5da3ecb44f04ae804293d4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fc89ae2ec0203249b8e60785a63ca258" category="list-text">複製摘要：</block>
  <block id="ab74d2d908acf5c3e01544cd4b871b73" category="paragraph"><block ref="ab74d2d908acf5c3e01544cd4b871b73" category="inline-image-macro-rx" type="image"></block></block>
  <block id="28725828580a55d904e8b2a39f377eb9" category="list-text">監控工作狀態、並驗證目標使用者資料庫是否已附加至雲端實體複製伺服器中的目標SQL執行個體。</block>
  <block id="766259946fc034002a24d5f23655c73e" category="paragraph"><block ref="766259946fc034002a24d5f23655c73e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d512bf68b17268adfe539f9722d869b4" category="section-title">複製後組態</block>
  <block id="50d9180ea26c89fbe6506d71d81d3fb1" category="list-text">內部部署的Oracle正式作業資料庫通常以記錄歸檔模式執行。開發或測試資料庫不需要此模式。若要關閉記錄歸檔模式、請以Sysdba登入Oracle資料庫、執行記錄模式變更命令、然後啟動資料庫以供存取。</block>
  <block id="b205237d51ff9525496f4b2252942213" category="list-text">設定Oracle接聽程式、或向現有的接聽程式登錄新複製的資料庫以供使用者存取。</block>
  <block id="800699a04cdaa75b2219988799b0a048" category="list-text">對於SQL Server、請將記錄模式從「完整」變更為「簡易」、以便在SQL Server開發/測試記錄檔填滿記錄磁碟區時、能夠立即壓縮。</block>
  <block id="89e018d207fd292a4926870904035c18" category="section-title">重新整理實體複本資料庫</block>
  <block id="d84550ba9a340ebf4fa6698dff5ba344" category="list-text">丟棄複製的資料庫、並清理雲端資料庫伺服器環境。然後依照先前的程序、以最新資料複製新的資料庫。複製新資料庫只需幾分鐘的時間。</block>
  <block id="1170d6f09309cb8dc382034a34680937" category="inline-link-macro">重新整理實體複本</block>
  <block id="fef062eeb7771b01e620bb2460b1bf9a" category="list-text">關閉複製資料庫、使用CLI執行複製重新整理命令。如SnapCenter 需詳細資訊、請參閱下列功能表文件： <block ref="1e4035dee07650c706f8f0714c384872" category="inline-link-macro-rx"></block>。</block>
  <block id="7b88d7d11804db6b079e226a6f043ea7" category="paragraph">如果您需要本解決方案和使用案例的協助、請加入 <block ref="f9456f3b54a140d5d3858823c684363f" category="inline-link-macro-rx"></block> 並尋找解決方案自動化通路、以張貼您的問題或詢問。</block>
  <block id="e2a76301a4117f21d6192304aa650018" category="inline-link-macro">下一步：災難恢復工作流程。</block>
  <block id="28a87ee64d4675e6c24cd960fe71d9bf" category="paragraph"><block ref="28a87ee64d4675e6c24cd960fe71d9bf" category="inline-link-macro-rx"></block></block>
  <block id="d798c6a829fee4b3d8316144e8769e91" category="paragraph">組織正在將環境自動化、以提高效率、加速部署、並減少手動作業。Ansible等組態管理工具正用於簡化企業資料庫作業。在本解決方案中、我們將示範如何使用Ansible來自動化Oracle with NetApp ONTAP 的資料保護。藉由讓儲存管理員、系統管理員及DBA能夠一致且快速地設定資料複寫至異地資料中心或公有雲、您將獲得下列效益：</block>
  <block id="1d4694b7ed077df8b2c51d4ef956ce0c" category="list-text">縮短叢集間複寫、CVO具現化及Oracle資料庫恢復的設定時間</block>
  <block id="60bcf8682ddc3583a74e6cd2d95e1ccb" category="list-text">提供資料庫還原工作流程、以便輕鬆測試災難恢復案例。</block>
  <block id="7fa4d3428dbef9829f6325b288c071bc" category="section-title">在Prem到on prem複寫上</block>
  <block id="911a9e8dd85bfeeba31c1ed049e41e1c" category="list-text">在來源與目的地上建立叢集間生命體</block>
  <block id="2f4eb56dd9301fc33f559b4345b90eb3" category="list-text">建立叢集與Vserver對等關係</block>
  <block id="2b71f4136dce37491ef0f319f5d1fbd9" category="list-text">建立並初始化Oracle Volume的SnapMirror</block>
  <block id="20f4a46f5b12b0533f7a2268c4c2bf41" category="list-text">透過AWX/Tower建立Oracle二進位檔、資料庫和記錄的複寫排程</block>
  <block id="6ef1c2ae7c9ca61a54d88de28349a772" category="list-text">在目的地上還原Oracle資料庫、並使資料庫上線</block>
  <block id="f4ec61d9ffa147f621f854609523a0fb" category="section-title">在AWS的Prem到CVO上</block>
  <block id="3f155aa6a9345b3e25f3bb44ecccfc0a" category="list-text">建立AWS連接器</block>
  <block id="1531cb3c2d4db27dcd3bfa2ad4711ec5" category="list-text">在AWS中建立CVO執行個體</block>
  <block id="2f159b717f78e9925b219e87cbd20f9a" category="list-text">將內部部署的叢集新增至Cloud Manager</block>
  <block id="df16a1e23dbbcc2f19f07ab1af741617" category="list-text">在來源上建立叢集間LIF</block>
  <block id="d1f660bb2bff2f31a46c751115155999" category="list-text">第1部分：待定</block>
  <block id="1ee2253d8fe666dbea54ab3648a62511" category="list-text">第2部分：待定</block>
  <block id="68eff5f8d34b801d40ab55f098bc6478" category="inline-link-macro">請參閱此處以瞭解解決方案的使用入門</block>
  <block id="e5dec240e8be4a30564a7e8ddc0d568a" category="list-text">準備好之後、按一下 <block ref="a171481e1cde5211da297c03090cb7ce" category="inline-link-macro-rx"></block>。</block>
  <block id="64899c745691f41e5b1dc01d3a4487d2" category="summary">本節說明Azure NetApp Files 當在雲端使用SQL Server時、您應該考慮的不同問題。</block>
  <block id="bb4695a70b92668f0a7927d04580db60" category="doc">需要考量的因素</block>
  <block id="4dd91c7652639dacea041fe6033e2627" category="section-title">VM效能</block>
  <block id="e6ac657ee6eac68b739c5cc437863922" category="inline-link">記憶體最佳化</block>
  <block id="68e5d4a238cdfe033afa141123484499" category="paragraph">選取適當的VM大小、對於公有雲中的關聯式資料庫達到最佳效能非常重要。Microsoft建議您繼續使用適用於內部部署伺服器環境中SQL Server的相同資料庫效能調校選項。使用<block ref="187f54af8632f4f6696d6052e8b74aec" category="inline-link-rx"></block> VM大小可提供SQL Server工作負載的最佳效能。收集現有部署的效能資料、以識別RAM和CPU使用率、同時選擇適當的執行個體。大多數部署都是在D、E或M系列之間選擇。</block>
  <block id="fcbd19b726fdd6160dfe2ab43f285a55" category="paragraph">* 附註： *</block>
  <block id="8b2db846b8ed65b2919d93a68b819a43" category="list-text">若要獲得SQL Server工作負載的最佳效能、請使用記憶體最佳化的VM大小。</block>
  <block id="32a3b4d7b7e6cf1ecde48636119e0288" category="list-text">NetApp與Microsoft建議您先找出儲存效能需求、再以適當的記憶體對VCORE比率選擇執行個體類型。這也有助於選擇具有適當網路頻寬的較低執行個體類型、以克服VM的儲存處理量限制。</block>
  <block id="0abdff1d9e33eca61c14ccafe8012cd5" category="section-title">VM備援</block>
  <block id="9fecd525b2d9ad39ac38bbfc4d05ee17" category="inline-link">可用度設定</block>
  <block id="26075dbb6cfad683e0d9bd0d29c570b8" category="inline-link">可用度區域</block>
  <block id="e936e004eab3eccfc1e7f46a3187dfd1" category="paragraph">若要增加備援和高可用度、SQL Server VM應該是相同的<block ref="47fe032b9b8e985355e53596ae7973ec" category="inline-link-rx"></block> 或不同的<block ref="ef39442dc7c0eb954c4472567a9ca1e3" category="inline-link-rx"></block>。建立Azure VM時、您必須在設定可用度集與可用度區域之間做出選擇、Azure VM無法同時參與兩者。</block>
  <block id="05807e454c19f244770adae059b3c330" category="section-title">高可用度</block>
  <block id="94eeeae1e60f97a446e8c4f69d6d6f43" category="paragraph">若要獲得高可用度、最佳選項是設定SQL Server AOAG或永遠在容錯移轉叢集執行個體（FCI）。對於AOAG而言、這涉及虛擬網路中Azure虛擬機器上的多個SQL Server執行個體。如果資料庫層級需要高可用度、請考慮設定SQL Server可用度群組。</block>
  <block id="6e8775bd755a8835ce86806d669677ea" category="section-title">儲存組態</block>
  <block id="fa32aac4116ce1980c311f004157a133" category="paragraph">Microsoft SQL Server可以部署SMB檔案共用區做為儲存選項。從SQL Server 2012開始、系統資料庫（master、model、msdbb或Tempdb）、 和使用者資料庫可搭配伺服器訊息區（SMB）檔案伺服器作為儲存選項來安裝。這適用於SQL Server獨立式和SQL Server FCI。</block>
  <block id="250548ef00796e6a203215b1d550bb0d" category="admonition">SQL Server資料庫的檔案共用儲存設備應支援持續可用的內容。如此可不中斷地存取檔案共用資料。</block>
  <block id="45a6af9c92529e3da9ccdbeae9d692ac" category="paragraph">與區塊儲存解決方案相比、支援高效能的檔案儲存設備、可滿足任何嚴苛的工作負載、並降低SQL Server的TCO。Azure NetApp Files有了區塊儲存設備、虛擬機器已對磁碟作業的I/O和頻寬設定限制、僅針對Azure NetApp Files 不支援的情況套用網路頻寬限制。換句話說Azure NetApp Files 、不將VM層級的I/O限制套用至功能表。如果沒有這些I/O限制、則SQL Server可在連接Azure NetApp Files 至支援的較小VM上執行、也可在較大VM上執行SQL Server。可降低運算與軟體授權成本、進而降低SQL Server部署成本。Azure NetApp Files如需使用Azure NetApp Files VMware for SQL Server部署的詳細成本分析與效能優勢、請參閱<block ref="458fda910151e8d66385b2aabb6cd60e" category="inline-link-rx"></block>。</block>
  <block id="e654f7a86a4458b9cd662267e0f29b52" category="section-title">效益</block>
  <block id="9d2b7eb8bc76e60b0d9cd237d67a34fb" category="paragraph">使用支援SQL Server的功能包括Azure NetApp Files ：</block>
  <block id="8ee22743237d82e9adc18a596977a138" category="list-text">使用支援功能可讓您使用較小的執行個體、進而降低運算成本。Azure NetApp Files</block>
  <block id="3de639403ea86ae87a5883d359deb4ab" category="list-text">此外、還能降低軟體授權成本、進而降低整體TCO。Azure NetApp Files</block>
  <block id="46790c8fe72176f6262b4b5531482ee5" category="list-text">Volume重新塑造和動態服務層級功能可調整穩定狀態工作負載的規模、避免過度資源配置、藉此最佳化成本。</block>
  <block id="860d93b2ef30525111fa6440bf4d5bd7" category="list-text">若要增加備援和高可用度、SQL Server VM應該是相同的<block ref="47fe032b9b8e985355e53596ae7973ec" category="inline-link-rx"></block> 或是在不同的環境中<block ref="ef39442dc7c0eb954c4472567a9ca1e3" category="inline-link-rx"></block>。如果需要使用者定義的資料檔案、請考量檔案路徑需求；在這種情況下、請選取SQL FCI over SQL AOAG。</block>
  <block id="c6fbfcd868e29e37e88eaeff82a7f430" category="inline-link">\ANFSMB/b4ca .anf.test\SQLDB和\ANFSMB - b4ca .anf.test\SQLDB\</block>
  <block id="e2bed4e218692d056237b3ae3d24293c" category="list-text">支援下列的UNC路徑：<block ref="cb8cdd6ee3ebeed12086142f1a66cc3e" category="inline-link-rx"></block>。</block>
  <block id="0b4d3828f5dae91cd27e48bffa786d91" category="list-text">不支援環回的UNC路徑。</block>
  <block id="db3d2f4f54b992af225801eb51ea7387" category="list-text">若要調整規模、請使用內部部署環境中的歷史資料。在OLTP工作負載中、使用平均和尖峰時間的工作負載、以及磁碟讀取/秒和磁碟寫入/秒效能計數器、將目標IOPS與效能需求配對。對於資料倉儲和報告工作負載、請使用平均和尖峰時間的工作負載、以及每秒磁碟讀取位元組和磁碟寫入位元組來比對目標處理量平均值可與Volume重新塑形功能搭配使用。</block>
  <block id="da3259c6aa3dafdc8ca15c687022a5cd" category="section-title">建立持續可用的共享區</block>
  <block id="f7ee3eee4fa679986e37911272d13a29" category="inline-link">建立持續可用的共用區</block>
  <block id="de7d92d6f4ac1f140ac05886ec017f09" category="paragraph">與Azure入口網站或Azure CLI建立持續可用的共用區。在入口網站中、選取「Enable Continuous Availability」（啟用持續可用度）內容選項。對於Azure CLI、請使用「AZ netappfiles volume create with smbs-連續aVl」選項設為「$True」、將共用區指定為持續可用的共用區。若要深入瞭解如何建立啟用持續可用度的新Volume、請參閱<block ref="86e4b436e8054cc83fccec640f98e218" category="inline-link-rx"></block>。</block>
  <block id="9a3932b7bdfdbb892087fd595ec7acb9" category="list-text">如下圖所示、為SMB Volume啟用持續可用度。</block>
  <block id="c012fe8c05a3d9875a4f87cee09d1ca9" category="list-text">如果使用非系統管理員網域帳戶、請確定該帳戶已指派必要的安全權限。</block>
  <block id="762783478495f0889d01a59db256f92c" category="list-text">在共用層級設定適當的權限、以及適當的檔案層級權限。</block>
  <block id="bfb74db6a55528f52e8ecb83a507a043" category="inline-link">將現有的SMB磁碟區轉換成使用持續可用度</block>
  <block id="3cad4a4fcd378074292bfc2ff45fd4ca" category="list-text">無法在現有的SMB磁碟區上啟用持續可用的內容。若要轉換現有磁碟區以使用持續可用的共用區、請使用NetApp Snapshot技術。如需詳細資訊、請參閱<block ref="25dc0603f84029cfd15a97a37903a54c" category="inline-link-rx"></block>。</block>
  <block id="015dd90c833178044ff327aee63f72ec" category="paragraph"><block ref="015dd90c833178044ff327aee63f72ec" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ee38206503545cf54ad072dee7f8ab1a" category="paragraph">支援三種服務層級：標準（每TB 16Mbps）、高級（每TB 64MBps）和超高（每TB 12MBps）Azure NetApp Files 。配置適當的磁碟區大小、對於資料庫工作負載的最佳效能而言非常重要。利用VMware、磁碟區效能和處理量限制取決於下列因素的組合：Azure NetApp Files</block>
  <block id="b87f5218989e854f2889f939a4e2ec06" category="list-text">磁碟區所屬之容量集區的服務層級</block>
  <block id="9320cce40e9ab4d677bfcc78eddc64d5" category="list-text">指派給磁碟區的配額</block>
  <block id="2d98af90367bed299b95066a85be0a17" category="list-text">容量集區的服務品質（QoS）類型（自動或手動）</block>
  <block id="a6f08c2897faaf4d449d71d87f473ff1" category="inline-link">服務層級Azure NetApp Files</block>
  <block id="ac56170d8576092b90989d467f2d383e" category="paragraph">如需詳細資訊、請參閱<block ref="1e8ed0f384e427209ce2e9dfbaed249d" category="inline-link-rx"></block>。</block>
  <block id="79bcc7c0be7625b4b6b95ac8189ec45e" category="paragraph"><block ref="79bcc7c0be7625b4b6b95ac8189ec45e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1eb24bd760e508043a3cfdfe91ba9489" category="section-title">效能驗證</block>
  <block id="af3948d0fe6860f3a865cd04abebc009" category="inline-link">SQL Server儲存基準測試（小型企業）工具</block>
  <block id="01384acc34d886b9383610a7494ca75a" category="paragraph">如同任何部署、測試VM和儲存設備是非常重要的。對於儲存驗證、例如HammerDB、Apploader<block ref="df8d6ca8d2831e94c0812b2b971f8958" category="inline-link-rx"></block>或任何具有適當讀寫組合的自訂指令碼或FIO。不過請記住、大部分的SQL Server工作負載、甚至是忙碌的OLTP工作負載、讀取率接近80%–90%、寫入率接近10%–20%。</block>
  <block id="10fde396dd4a669ec17689dd7cf8b599" category="paragraph">為了展現效能、我們使用優質服務層級、針對某個磁碟區執行快速測試。在此測試中、磁碟區大小已從100GB即時增加至2TB、而不會中斷應用程式存取、也不會進行資料移轉。</block>
  <block id="6fab14b7b6a90422e865a3b09497edaa" category="paragraph"><block ref="6fab14b7b6a90422e865a3b09497edaa" category="inline-image-macro-rx" type="image"></block></block>
  <block id="eedfe317eed7692e9d95ba36177a80e9" category="paragraph">以下是針對本白皮書所涵蓋的部署、執行HammerDB即時效能測試的另一個範例。在這項測試中、我們使用的是一個小型執行個體、其中包含八個vCPU、一個500GB Premium SSD和一個500GB SMB Azure NetApp Files 不支援磁碟區。HammerDB配置有80個倉庫和8個使用者。</block>
  <block id="c365893719ad3de45f14fa9c19408eca" category="paragraph">下表顯示Azure NetApp Files 、使用同級大小的Volume（500GB）時、由於延遲時間縮短4倍、所以每分鐘的交易量只有2.6倍。</block>
  <block id="d50d666921da97fdc14e35f752474e41" category="paragraph">另一項測試是將32個vCPU和16TB Azure NetApp Files 的容量調整為較大的執行個體、以執行額外的測試。每分鐘交易量大幅增加、延遲一致1毫秒。HammerDB已設定80個倉儲和64個使用者進行此測試。</block>
  <block id="3b38e0407e747349840c72259c5da930" category="paragraph"><block ref="3b38e0407e747349840c72259c5da930" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a39ae09f8be4327fc176cfeb76a0e366" category="section-title">成本最佳化</block>
  <block id="892725223bbd64ebec595545eeaf8c28" category="paragraph">支援不中斷、透明的Volume大小調整、並能在零停機的情況下變更服務層級、而不會對應用程式造成任何影響。Azure NetApp Files這是一項獨特的功能、可進行動態成本管理、避免使用尖峰度量來執行資料庫規模調整。您可以使用穩定狀態的工作負載、避免前期成本。Volume重新塑形和動態服務層級變更、讓您Azure NetApp Files 幾乎即時調整需求時的支援頻寬和服務層級、而無需暫停I/O、同時保留資料存取。</block>
  <block id="44aaafbc17f2a4fcbd6d52e1c8ee0cae" category="paragraph">Azure PaaS產品（例如、LogicApp或功能）可根據特定的網路掛機或警示規則觸發、輕鬆調整磁碟區大小、以滿足工作負載需求、同時動態處理成本。</block>
  <block id="d613d5e1ef7a7f52eed191ef1066a08a" category="paragraph">例如、假設某個資料庫需要250Mbps才能進行穩定狀態作業、但它也需要400Mbps的尖峰處理量。在這種情況下、部署應在Premium服務層級內以4TB磁碟區執行、以符合穩定狀態的效能需求。若要處理尖峰工作負載、請使用Azure功能將該特定期間的磁碟區大小增加至7TB、然後縮減磁碟區大小、使部署更具成本效益。此組態可避免過度配置儲存設備。</block>
  <block id="8e43fbf8e210fdbb3e1d59ca59cde628" category="list-text">按一下複製範本上的「Edit Template（編輯範本）」、然後將名稱變更為「Restore and Recovery Playbook（還原與還原教戰守則）」</block>
  <block id="42f2159b893bbf4b6bf098ba9a026a1c" category="list-text">選取ora_recovery .yml作為要執行的方針。</block>
  <block id="0a3fe9b740fe79971ae2379eaec4822c" category="admonition">在您準備好在遠端站台還原資料庫之前、系統不會執行本方針。</block>
  <block id="9b64a6dfae1f3fa326b750c2790c79fe" category="summary">本節說明使用Azure NetApp Files SSMB Volume在AOAG組態中即時部署SQL資料庫基礎架構。</block>
  <block id="5ca1071c67ab704b04ed27747f213551" category="doc">即時的高層參考設計</block>
  <block id="bb0357d1c0b3b8ebd31a43c9b30f3745" category="list-text">節點數：4.</block>
  <block id="7f4f30d96e1d0a820a6962ad6ac994ee" category="list-text">資料庫數量：21個</block>
  <block id="f28735e3e5e57049aa575b3f0ec83c61" category="list-text">可用度群組數量：4.</block>
  <block id="96fb94ba9fad0b4452c212b21df61eab" category="list-text">備份保留：7天</block>
  <block id="a8d1485807d36562316fb8b2254bca57" category="list-text">備份歸檔：365天</block>
  <block id="4afa49afd4ebc3638f3e000d65825370" category="admonition">將FCI與SQL Server部署在具備Azure NetApp Files VMware®共享功能的Azure虛擬機器上、只需一份資料複本、就能提供具成本效益的模式。如果檔案路徑與次要複本不同、此解決方案可避免發生新增檔案作業問題。</block>
  <block id="ab030ea777250278c4f110a497eeef88" category="paragraph"><block ref="ab030ea777250278c4f110a497eeef88" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4822d9597460a9166778308da312709c" category="paragraph">下圖顯示AOAG內分散於各個節點的資料庫。</block>
  <block id="af316199cc8e77dcbb6fb560cbc4c44c" category="paragraph"><block ref="af316199cc8e77dcbb6fb560cbc4c44c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d22a890163762fcf7a4cb7605c29b7e6" category="section-title">資料配置</block>
  <block id="35c33dd0c5565dbdba04dc2b313d7a2e" category="paragraph">使用者資料庫檔案（.mdf）和使用者資料庫交易記錄檔（.ldf）以及Tempdb都儲存在同一個磁碟區中。服務層級為「超高」。</block>
  <block id="9b7d6479a15395afefc6d7f9e38a4f17" category="paragraph">組態包含四個節點和四個AG。所有21個資料庫（動態AX、SharePoint、RDS連線代理程式和索引服務的一部分）都儲存在Azure NetApp Files 這個版本上。資料庫會在AOAG節點之間平衡、以有效使用節點上的資源。WSFC中新增四個D32 v3執行個體、參與AOAG組態。這四個節點都是在Azure虛擬網路中配置、不會從內部部署移轉。</block>
  <block id="09a10f0ab048cde1d7b704392ba05d9a" category="list-text">如果記錄需要更高的效能和處理量、視應用程式的本質和執行的查詢而定、資料庫檔案可以放在Premium服務層級、而且記錄可以儲存在Ultra服務層級。</block>
  <block id="51368a236b969e288242f0b0b615cf74" category="list-text">如果將Tempdb檔案放在Azure NetApp Files 了還原上、Azure NetApp Files 則應將該磁碟區與使用者資料庫檔案分開。以下是在AOAG中發佈資料庫檔案的範例。</block>
  <block id="2e66f3d288799e6f4235b883bb2f693c" category="list-text">為了保留Snapshot複本型資料保護的優點、NetApp建議您不要將資料與記錄資料合併到同一個磁碟區。</block>
  <block id="1452bcdb4aeb229a2c2e503f9bbba753" category="list-text">如果次要資料庫的檔案路徑與對應主要資料庫的路徑不同、則在主要複本上執行的附加檔案作業可能會在次要資料庫上失敗。如果主要和次要節點上的共用路徑不同（因為不同的電腦帳戶）、就可能發生這種情況。此故障可能會導致二線資料庫暫停。如果無法預測成長或效能模式、而計畫稍後再新增檔案、則使用Azure NetApp Files VMware的SQL Server容錯移轉叢集是可接受的解決方案。在大多數部署Azure NetApp Files 中、VMware均符合效能要求。</block>
  <block id="19f59b74448f6a27519db281a44e4b12" category="section-title">移轉</block>
  <block id="cd6b4503e07d15cebc0842bb8da7b765" category="paragraph">有幾種方法可將內部部署SQL Server使用者資料庫移轉至Azure虛擬機器中的SQL Server。移轉可以是線上或離線。選擇的選項取決於SQL Server版本、業務需求及組織內定義的SLA。為將資料庫移轉程序期間的停機時間降至最低、NetApp建議使用AlwaysOn選項或交易複寫選項。如果無法使用這些方法、您可以手動移轉資料庫。</block>
  <block id="2d4221f1ee93c102ca047daac1fba4a7" category="paragraph">在機器之間移動資料庫的最簡單且經過徹底測試的方法是備份與還原。一般而言、您可以從資料庫備份開始、然後再將資料庫備份複本複本複製到Azure。然後即可還原資料庫。為獲得最佳資料傳輸效能、請使用壓縮備份檔案將資料庫檔案移轉至Azure VM。本文所提及的高階設計、使用Azure檔案同步的Azure檔案儲存設備備份方法、然後還原Azure NetApp Files 到原地。</block>
  <block id="623f8382f97ee8df2d7af54439833812" category="admonition">Azure移轉可用於探索、評估及移轉SQL Server工作負載。</block>
  <block id="fbc25f1c70f1a9c133715cac6d66b21b" category="paragraph">若要執行移轉、請完成下列高層級步驟：</block>
  <block id="d807caa187d2fea33bab50ed1e1c79bb" category="list-text">根據您的需求、設定連線功能。</block>
  <block id="59f59f1aebe4fc18ab054480b3a1098a" category="list-text">將完整資料庫備份至內部部署檔案共用位置。</block>
  <block id="4891d727582d5df766ee6737fe7fb761" category="list-text">使用Azure檔案同步將備份檔案複製到Azure檔案共用區。</block>
  <block id="135899cc34886eb6ce9baf7211d4adb5" category="list-text">使用所需的SQL Server版本來配置VM。</block>
  <block id="fbef0b11b7ee9e0d709d3d1c6efbd4d4" category="list-text">使用命令提示字元中的「copy」命令、將備份檔案複製到VM。</block>
  <block id="b9786aca69df61c5165147929b4ced89" category="list-text">將完整資料庫還原至Azure虛擬機器上的SQL Server。</block>
  <block id="e937691d64dcb1188cbbcbcd83d87d2f" category="admonition">若要還原21個資料庫、大約需要9小時。此方法是針對此案例而設計。不過、下列其他移轉技術可根據您的情況和需求來使用。</block>
  <block id="2b9d85faa379ef985ae3851810db1403" category="paragraph">將資料從內部部署SQL Server移轉至Azure NetApp Files 支援的其他移轉選項包括：</block>
  <block id="90248308f9c24bd3bf817ee129838603" category="list-text">將資料和記錄檔分離、複製到Azure Blob儲存設備、然後將其附加到Azure VM中的SQL Server、並從URL掛載Anf檔案共用區。</block>
  <block id="82ce70205698ed956d1fce48af1360c0" category="inline-link">新增Azure複本精靈</block>
  <block id="e5e07f1ff84f0082089e4fec71ed43a4" category="list-text">如果您使用的是「全年無休」群組內部部署、請使用<block ref="aea558e3371e9956f5e03828309464a0" category="inline-link-rx"></block> 在Azure中建立複本、然後執行容錯移轉。</block>
  <block id="eedc53c13a9992999dba36bda1b62255" category="inline-link">交易複寫</block>
  <block id="47a43d904457c52da2918f290a0ae5cb" category="list-text">使用SQL Server<block ref="21bf5f41b40b598aae9dd55aa9dcb960" category="inline-link-rx"></block> 若要將Azure SQL Server執行個體設定為訂閱者、請停用複寫功能、然後將使用者指向Azure資料庫執行個體。</block>
  <block id="bf4614882fd1000329cfcb76f98f6c17" category="list-text">使用Windows匯入/匯出服務來運送硬碟。</block>
  <block id="be062cdcabbb3055334e8f19b4bdf378" category="section-title">備份與還原</block>
  <block id="b855582b6472c4fbe2a5f606191e66d6" category="paragraph">備份與還原是任何SQL Server部署的重要層面。我們必須擁有適當的安全網、以便與高可用度解決方案（例如AOAG）一起快速從各種資料故障和遺失案例中恢復。SQL Server資料庫靜止工具、Azure備份（串流）或任何協力廠商備份工具（例如CommVault）、均可用於執行資料庫的應用程式一致備份、</block>
  <block id="3896e1102f68b0bc974f324bb134f6e6" category="inline-link">SCSQLAPI工具</block>
  <block id="e372173044ccba12657b2e3dbff1879b" category="paragraph">利用Snapshot快照技術、您可以輕鬆建立使用者資料庫的時間點（pit）複本、而不會影響效能或網路使用率。Azure NetApp Files這項技術也可讓您將Snapshot複本還原至新的Volume、或將受影響的Volume快速還原至使用還原Volume功能建立Snapshot複本時所處的狀態。不像Azure備份所提供的串流備份、此功能可讓您快速且有效率地執行多個每日備份。Azure NetApp Files在指定的一天內可以有多個Snapshot複本、因此RPO和RTO時間可大幅縮短。若要新增應用程式一致性、以便在Snapshot複本開始之前、將資料完整且正確地排清到磁碟、請使用SQL Server資料庫靜止工具 <block ref="b800e9e09a17fc5b41967404ec8e47ac" category="inline-link-rx"></block>；存取此連結需要NetApp SSO登入認證）。此工具可在PowerShell內執行、這會使SQL Server資料庫靜止不動、進而取得應用程式一致的儲存Snapshot複本來進行備份。</block>
  <block id="04666a337d02195d17089298f5773f4c" category="paragraph">*附註：*</block>
  <block id="a4d5ac6087b7ce119cfe6b7ad4d77ee5" category="list-text">SCSQLAPI工具僅支援2016和2017版本的SQL Server。</block>
  <block id="fdcb10d4c2db07cf930247a4f9898ec5" category="list-text">SCSQLAPI工具一次只能與一個資料庫搭配使用。</block>
  <block id="2f65ae42dc3aa8b735406a2d56ceb6fb" category="list-text">將每個資料庫的檔案放在個別Azure NetApp Files 的卷中、以隔離檔案。</block>
  <block id="879351e17b2cd6d740ac0974e9ff8a5a" category="inline-link">Azure備份</block>
  <block id="794b24c8957eec03a1402459d32f6810" category="paragraph">由於SCSQL API的巨大限制、<block ref="10a72c6743c3c6714e03b5537ec15603" category="inline-link-rx"></block> 用於資料保護、以符合SLA要求。它針對在Azure Virtual Machines和Azure NetApp Files VMware中執行的SQL Server、提供串流式備份。Azure備份可讓您以15分鐘的RPO進行記錄備份、並將資料備份和資料堆恢復時間縮短至一秒。</block>
  <block id="423e555c5ec3885f2bb5d9d2d6627f63" category="section-title">監控</block>
  <block id="fe58430a0bb00057a08eed382c5d82b2" category="paragraph">利用Azure Monitor整合時間序列資料、提供已配置儲存設備、實際儲存使用量、Volume IOPS、處理量、磁碟讀取位元組/秒、Azure NetApp Files 磁碟寫入位元組/秒、磁碟讀取/秒和磁碟寫入/秒、以及相關延遲。此資料可用於識別警示瓶頸、並執行健全狀況檢查、以驗證SQL Server部署是否以最佳組態執行。</block>
  <block id="48419e90c914ae5fa935283404de8a2a" category="paragraph">在本HLD中、ScienceLogic可利用Azure NetApp Files 適當的服務主體來揭露指標、藉此監控功能的功能。下列影像為Azure NetApp Files 「不含任何功能的鏡像」選項範例。</block>
  <block id="2bede5da6907dcdcebc6a8f407f07467" category="paragraph"><block ref="2bede5da6907dcdcebc6a8f407f07467" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6fe292df6373534e554d5a7938bc3c3b" category="section-title">使用複雜複本進行DevTest</block>
  <block id="652f67778e6d02c7b5bfe46a3e579f7f" category="paragraph">有了VMware、您可以建立即時的資料庫複本、以測試應用程式開發週期中應使用目前資料庫結構和內容來實作的功能、以便在填入資料倉儲時使用資料擷取和操作工具、Azure NetApp Files 或甚至恢復錯誤刪除或變更的資料。此程序不涉及從Azure Blob容器複製資料、因此非常有效率。磁碟區還原後、即可用於讀寫作業、大幅縮短驗證時間和上市時間。這需要與SCSQLAPI搭配使用、以確保應用程式一致性。這種方法提供另一種持續成本最佳化技術、Azure NetApp Files 同時運用還原至新Volume選項來實現效益。</block>
  <block id="e4665dd99280634e4b44ff82666fbb9f" category="list-text">使用「還原新磁碟區」選項從Snapshot複本建立的磁碟區會消耗容量資源池中的容量。</block>
  <block id="0031911d8ba66a79d06b9819afd4f082" category="list-text">您可以使用REST或Azure CLI刪除複製的磁碟區、以避免額外成本（如果必須增加容量資源池）。</block>
  <block id="cb4d46fdcb0881652013c495d90ae732" category="section-title">混合式儲存選項</block>
  <block id="e6a1767911a937e11cc1750fcc4256c3" category="paragraph">雖然NetApp建議SQL Server可用度群組中的所有節點使用相同的儲存設備、但在有些情況下、您可以使用多個儲存選項。此案例適用於Azure NetApp Files 以下情況：AOAG中的節點連接Azure NetApp Files 到一個Sb SMB檔案共用、而第二個節點連接到Azure Premium磁碟。在這些情況下、請確定Azure NetApp Files 使用者資料庫的主複本為「Sof the Sof SMB共享區」、而「Premium磁碟」則作為次要複本。</block>
  <block id="009d3d51226fdccd09052934b65100db" category="list-text">在這類部署中、為了避免任何容錯移轉問題、請確定SMB磁碟區已啟用持續可用度。如果沒有持續可用的屬性、資料庫可能會在儲存層進行任何背景維護時失敗。</block>
  <block id="918e9d895272e6a326c6585e05ae4c08" category="list-text">將資料庫的主要複本保留在Azure NetApp Files 「支援SMB」檔案共享區上。</block>
  <block id="1a5c3601eda1cd38072323e418968743" category="section-title">營運不中斷</block>
  <block id="064ea84d2e6072b28bfd7a8b36aed3db" category="paragraph">災難恢復通常是任何部署的事後考量。不過、災難恢復必須在初始設計與部署階段處理、以避免對您的業務造成任何影響。有了NetApp、跨區域複寫（CRR）功能可用於將區塊層級的Volume資料複寫到配對區域、以處理任何非預期的區域中斷。Azure NetApp Files啟用CRR的目的地Volume可用於讀取作業、因此是災難恢復模擬的理想選擇。此外、CRR目的地可指派最低的服務層級（例如Standard）、以降低整體TCO。在發生容錯移轉時、複寫作業可能會中斷、使各自的磁碟區能夠讀寫。此外、磁碟區的服務層級也可以使用動態服務層級功能來變更、以大幅降低災難恢復成本。這是Azure NetApp Files 另一項獨特功能、可在Azure中進行區塊複寫。</block>
  <block id="86258094262f66b30d10068d1d9c29d4" category="section-title">長期Snapshot複本歸檔</block>
  <block id="65bd92a3b5fcfea7efeb973a0a2483d8" category="inline-link">AzCopy</block>
  <block id="e6bf440e9e7e787ce92e6f8661daf9e9" category="paragraph">許多組織必須執行長期保留資料庫檔案中的快照資料、作為強制性法規遵循要求。雖然此HLD並未使用此程序、但只要使用簡單的批次指令碼、就能輕鬆完成<block ref="f326c7b047cd071718d141dba06c550f" category="inline-link-rx"></block> 可將Snapshot目錄複製到Azure Blob容器。批次指令碼可透過排程工作、根據特定排程觸發。程序很簡單、包括下列步驟：</block>
  <block id="dfdc6514d824f948d82ee2ac6515603f" category="list-text">下載AzCopy V10執行檔。沒有什麼可安裝的、因為它是一個「exe」檔案。</block>
  <block id="5434519f37049a19d388fb3edabd08f7" category="list-text">在具有適當權限的容器層級使用SAS權杖來授權AzCopy。</block>
  <block id="73facdc1e77927e1c0d4c2f66c6fedf9" category="list-text">在AzCopy獲得授權之後、資料傳輸就會開始。</block>
  <block id="a2c31034ac77c6ad0ce6dae2a7882d73" category="list-text">在批次檔中、請務必轉義SAS權杖中出現的%字元。您可以在SAS權杖字串的現有%字元旁新增額外%字元來完成此作業。</block>
  <block id="0eed577952fd376af1fa48aa241e3df7" category="inline-link">需要安全傳輸</block>
  <block id="b2f731ca364e7df30cd69650bdc19d46" category="list-text">。<block ref="7e9be5c7f255e20f7f3a81046108dcad" category="inline-link-rx"></block> 儲存帳戶的設定會決定是否使用傳輸層安全性（TLS）來保護儲存帳戶的連線安全。此設定預設為啟用。下列批次指令碼範例會將資料從Snapshot複本目錄以遞歸方式複製到指定的Blob容器：</block>
  <block id="f2c225fb316953652d9040f71e76717c" category="paragraph">在PowerShell中執行下列cmd範例：</block>
  <block id="e7cc24e4ddff469c6304653aea869597" category="list-text">我們即將推出類似的長期保留備份功能。Azure NetApp Files</block>
  <block id="03930ecbc2c505278298d571631e23bb" category="list-text">批次指令碼可用於需要將資料複製到任何區域的Blob容器的任何案例。</block>
  <block id="07ecdeff0f5a70968e882eb4ace6f576" category="paragraph">由於Volume重新調整和動態服務層級變更對資料庫完全透明、Azure NetApp Files 因此可在Azure中持續最佳化成本。此HLD廣泛使用此功能、以避免過度配置額外的儲存設備來處理工作負載尖峰。</block>
  <block id="bf511e8b678dd2ecee162930e6c8c9e6" category="paragraph">您可以透過建立Azure功能搭配Azure警示記錄、輕鬆調整Volume大小。</block>
  <block id="cc335cb73dc47f7a9b404288e3b4330f" category="paragraph">BIOS和CVO設定ONTAP</block>
  <block id="6bc14a28f101e9d80ecc643ef13ef7fb" category="list-text">輸入名稱ONTAP/CVO Setup</block>
  <block id="a7244f663b97629084f004e6c89b4a75" category="list-text">選取「工作類型」；「執行」會根據方針來設定系統。</block>
  <block id="57344b3bd58c0e451513e303e45d49b7" category="list-text">針對內部部署環境選取ONTAP_setup.yml方針、或選取CVO_setup.yml以複寫至CVO執行個體。</block>
  <block id="41c1d72990c270d0221458749497c3e6" category="admonition">我們將使用此範本、並將其複製到其他教戰手冊中。</block>
  <block id="0f22160e43c900ef7426d8a19e9f482d" category="summary">在執行混合雲資料庫工作負載之前、必須先在內部部署和雲端中設定某些先決條件。下節提供此程序的高層摘要、下列連結提供必要系統組態的進一步資訊。</block>
  <block id="1dad826770c4d2c619351c974f725b36" category="doc">先決條件組態</block>
  <block id="ce38f65c711e7e3047c9350abe42c0c3" category="inline-link-macro">先前：解決方案需求。</block>
  <block id="d3fe0eebddd46d46399cb319c7219427" category="paragraph"><block ref="d3fe0eebddd46d46399cb319c7219427" category="inline-link-macro-rx"></block></block>
  <block id="4df40e141b0559f15db8f84f78aed013" category="section-title">內部部署</block>
  <block id="761883c0d5c55fba5b200ac8ac0d86e5" category="section-title">公有雲</block>
  <block id="37aa83a33297d9d16b4423be342598bb" category="list-text">連接器的網路位置</block>
  <block id="74c043a4451dd260729a23ce96aa1550" category="paragraph">重要考量：</block>
  <block id="7aee27c83b5e3622c1d8cbd5c2098c60" category="list-text">Cloud Manager Connector的部署位置為何？</block>
  <block id="43fd5c6fa3d9ba8a215c31f3bf0a9859" category="list-text">Cloud Volume ONTAP 可實現規模調整與架構</block>
  <block id="7a0e00d70e3b0ff06476a52565f923c4" category="list-text">單一節點或高可用度？</block>
  <block id="2d0b46fff3ae203a435b167c7111b389" category="paragraph">下列連結提供更多詳細資料：</block>
  <block id="cfd98f49422c4fba755a2ff74c55a4a0" category="paragraph"><block ref="cfd98f49422c4fba755a2ff74c55a4a0" category="inline-link-macro-rx"></block></block>
  <block id="704849d56e695ab8f9df0b106e0d7e33" category="inline-link-macro">公有雲</block>
  <block id="96e41b2b281ca4b71edf4ed16e46a2be" category="paragraph"><block ref="96e41b2b281ca4b71edf4ed16e46a2be" category="inline-link-macro-rx"></block></block>
  <block id="7c12725837ee75c4c0a9bbc14f99934d" category="inline-link-macro">下一步：內部部署的先決條件。</block>
  <block id="bc57dd30a9059d494c9d76e4b0a9ce8f" category="paragraph"><block ref="bc57dd30a9059d494c9d76e4b0a9ce8f" category="inline-link-macro-rx"></block></block>
  <block id="261e91a1afdfe1123497b1b9ba5ab3e1" category="section-title">AWX/Tower Oracle資料保護</block>
  <block id="db2b28449b6d868d910cd53527934988" category="list-text">為第一個群組提供Oracle名稱、然後按一下「Save（儲存）」。</block>
  <block id="200e1fa09608b23de5cd04d22d3a5bdb" category="list-text">針對第二個群組（稱為DR_Oracle）重複此程序。</block>
  <block id="1e29c17b60e9145858da82263315e402" category="list-text">選取已建立的Oracle群組、移至「hosts」子功能表、然後按一下「Add New Host（新增主機）」。</block>
  <block id="250d5368537e295251f9ccf63f950087" category="list-text">提供來源Oracle主機管理IP的IP位址、然後按一下「Save（儲存）」。</block>
  <block id="22dcd973cf7a10ed9d03c5b959e65807" category="list-text">此程序必須針對DR_Oracle群組重複、並新增DR/目的地Oracle主機的管理IP/主機名稱。</block>
  <block id="1a4eca6a53be80f21117669b80a5dbc8" category="admonition">以下說明如何在ONTAP AWS上建立適用於Prem with憑據或CVO的認證類型和認證。</block>
  <block id="cea575677c47839fde1e59dbfc9ad5bb" category="open-title">內部部署</block>
  <block id="f7fc367b5de87581ac78fc80805439af" category="open-title">CVO</block>
  <block id="791ef966f9be349751448b9066bdd8fa" category="list-text">輸入 <block ref="1881636a0f344e587cc2202e2db4c5ac" category="inline-link-rx"></block> 做為來源控制URL。</block>
  <block id="285a3bb8fb6f692046facadb3c0984cf" category="paragraph">有四本獨立的教戰手冊需要執行。</block>
  <block id="37472723bc7712fedddee6d02e29228d" category="list-text">教戰手冊、用於設定環境、內部部署或CVO。</block>
  <block id="5138c89250c5086accf2d1a5961c9b17" category="list-text">教戰手冊、可依照排程複寫Oracle二進位檔和資料庫</block>
  <block id="3e552d6e5b2c316c63eb1fc2081d42a8" category="list-text">教戰手冊、可在排程中複寫Oracle記錄</block>
  <block id="33f4f1514dc2ceb963af16685f4de58c" category="list-text">用於在目的地主機上還原資料庫的教戰手冊</block>
  <block id="17ae7167fac3c2364c6ad7b58819a920" category="open-title">ONTAP/CVO設定</block>
  <block id="16f928d0ebd67060f6b3b2abf0481928" category="open-title">二進位磁碟區和資料庫磁碟區的複寫</block>
  <block id="b723f9a72bec39ac17d89e51ff0ba336" category="open-title">記錄磁碟區的複寫</block>
  <block id="f76dbca531ab83300165aacf97e1b7ff" category="open-title">還原及還原資料庫</block>
  <block id="b8a177e5fd059f33473cad4d1d073d38" category="list-text">內部部署正式作業的Oracle資料庫資料Volume可透過NetApp SnapMirror複寫、保護至ONTAP 二線資料中心的備援式叢集或ONTAP 公有雲的Cloud Volume。在完整設定的災難恢復環境中、二線資料中心或公有雲中的還原運算執行個體都是待命狀態、可在發生災難時恢復正式作業資料庫。待命運算執行個體會在OS核心修補程式上執行半連結更新、或在鎖定步驟中進行升級、以保持與內部部署執行個體的同步。</block>
  <block id="57d8ad774cb4fef3d53ee8836bfee761" category="list-text">在本解決方案中、Oracle二進位磁碟區會複寫到目標執行個體、並掛載到目標執行個體、以啟動Oracle軟體堆疊。這種恢復Oracle的方法比在發生災難的最後一刻重新安裝Oracle更具優勢。它保證Oracle安裝與目前的內部正式作業軟體安裝和修補程式層級等完全同步。不過、視軟體授權與Oracle的結構化方式而定、這可能會也可能不會對恢復站台上的複寫Oracle二進位磁碟區產生額外的軟體授權影響。建議使用者先洽詢其軟體授權人員、以評估可能的Oracle授權需求、再決定採用相同方法。</block>
  <block id="74eaa493ffed695592003e0844d93c46" category="list-text">目的地的備用Oracle主機是以Oracle必要組態設定。</block>
  <block id="0be4357ac224d44b11800179b23eb202" category="list-text">Snap模式 會中斷、磁碟區會設為可寫入、並掛載至備用Oracle主機。</block>
  <block id="69504b415e8aad20e18beca0de96ab6a" category="list-text">在待命運算執行個體掛載所有DB磁碟區之後、Oracle恢復模組會在恢復站台執行下列工作來恢復及啟動Oracle。</block>
  <block id="5e52a9563e31960cdf02c7b83e6495e7" category="list-text">同步控制檔：我們在不同的資料庫Volume上部署重複的Oracle控制檔、以保護關鍵資料庫控制檔。其中一個位於資料磁碟區、另一個位於記錄磁碟區。由於資料和記錄磁碟區會以不同頻率複寫、因此在恢復時、它們會不同步。</block>
  <block id="26b9a788a0ef0527f25f68892b364d19" category="list-text">重新連結Oracle二進位檔：由於Oracle二進位檔已重新配置至新主機、因此需要重新連結。</block>
  <block id="b66ad18a7982f7c233e9d0af2f867856" category="list-text">恢復Oracle資料庫：恢復機制會從控制檔擷取Oracle記錄Volume上一個可用的歸檔記錄中的上次系統變更編號、並恢復Oracle資料庫、以便在故障時恢復所有可複寫至DR站台的商業交易。接著、資料庫會以新的轉世模式啟動、以便在恢復站台進行使用者連線和商業交易。</block>
  <block id="861503fb33ea04fecb13449e713e8ac6" category="admonition">在執行恢復的教戰手冊之前、請確定您擁有下列內容：請務必將其複製到來源Oracle主機的/etc/oratab和/etc/oraInst.loc</block>
  <block id="34d54070f7d06f04159ffbc3d9a3e082" category="doc">設定工作環境</block>
  <block id="8302b607de31151e5500de556070d9b9" category="paragraph">將「Notebook」（筆記型電腦）的「set_env-example.ipynb」複製為「set_env.ipynb」。開啟並編輯「set_env.ipynb」。此筆記型電腦可設定認證資料、檔案位置及執行驅動程式的變數。</block>
  <block id="3dc3cffc26096b89061a452cc7d16b6a" category="paragraph">如果您依照上述指示進行、下列步驟是您唯一要做的變更：</block>
  <block id="26448fec50e405fb230427686eeb11f4" category="list-text">從Iguazio服務儀表板取得此值：「Docker_registry」</block>
  <block id="837784ac15c5cac463a4d016bac63db1" category="paragraph">範例：「Docker-registry.default-tenant.app.clusterq.iguaziodev.com:80`</block>
  <block id="04dca9f72f7dfc6f87034c574f821a12" category="list-text">將「admin」變更為您的Iguazio使用者名稱：</block>
  <block id="b2dea33f1195135f6905b7dd0ee58713" category="paragraph">「IGZ_container路徑='/user/admin'」</block>
  <block id="0ddaf8f981ee966dc3533de490c7ee4e" category="paragraph">以下ONTAP 是有關「系統連線」的詳細資料。包括安裝Trident時所產生的Volume名稱。下列設定適用於內部部署ONTAP 的內部部署的叢集：</block>
  <block id="dada97be0cb81e6518d92aa7112fa356" category="paragraph">下列設定適用於Cloud Volumes ONTAP 下列項目：</block>
  <block id="586d20125924bc57624aaacc07973d5a" category="section-title">建立基礎Docker映像檔</block>
  <block id="0ab24923db4855b821917446711104c9" category="paragraph">Iguazio平台包含建置ML管線所需的一切。開發人員可以定義執行管線所需的Docker映像規格、以及從Jupyter Notebook建立映像。開啟筆記型電腦「create- images.ipynb」、然後執行「All」儲存格。</block>
  <block id="3dc4e8abb0e99c6cf29451a16a891524" category="paragraph">這款筆記型電腦會建立兩個我們在銷售管道中使用的映像。</block>
  <block id="5446cc82e4c165e2700af830f8428d63" category="list-text">《iguazio/NetApp》 用於處理ML工作。</block>
  <block id="61145f9d17e187b69bc41525b10aafe6" category="paragraph"><block ref="61145f9d17e187b69bc41525b10aafe6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="62e9956426227f62abc9692954a5ad39" category="list-text">「NetApp/Pipeline」。包含處理NetApp Snapshot複本的公用程式。</block>
  <block id="4050f795a12d7f83a545999c8a0d1905" category="paragraph"><block ref="4050f795a12d7f83a545999c8a0d1905" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6677daf583d4c0cf5860927a024f278d" category="section-title">檢閱個別的Jupyter筆記型電腦</block>
  <block id="6414e1c23e017075a375d3a531eab90c" category="paragraph">下表列出我們用來建置此工作的程式庫和架構。所有這些元件都已與Iguazio的角色型存取與安全控制功能完全整合。</block>
  <block id="da292beca00e0b352eade7a070855fd3" category="cell">程式庫/架構</block>
  <block id="124d604ba0d3fd8e3d31c821b2a332f5" category="cell">MLRun</block>
  <block id="1c1491d01d96c08951ae2ac55fadf443" category="cell">由Iguazio管理、可讓您組裝、執行及監控ML/AI傳輸途徑。</block>
  <block id="a2580bd6e044f86f4e39be2f59ee91da" category="cell">Nuclio</block>
  <block id="2d753cbb7762fe25d15a2cda2ff84790" category="cell">與Iguazio整合的無伺服器功能架構。也可作為由Iguazio管理的開放原始碼專案。</block>
  <block id="bb643a3a76aab569f9245a19f77d4b65" category="cell">Kubeflow</block>
  <block id="0bbee378f2697a1d0c184e76d2b206c6" category="cell">以Kubernetes為基礎的架構、用於部署管線。這也是Iguazio所貢獻的開放原始碼專案。它與Iguazio整合、可提升安全性、並與其他基礎架構整合。</block>
  <block id="c5fd214cdd0d2b3b4272e73b022ba5c2" category="cell">Docker</block>
  <block id="849efb47ec760eb7c3c6b5848e740c3b" category="cell">Docker登錄是以服務形式在Iguazio平台上執行。您也可以變更此設定以連線至登錄。</block>
  <block id="a38f73277b7341a709cf0cb57ebc4434" category="cell">NetApp Cloud Volumes</block>
  <block id="7279bb663993b77e219b4ca813326d77" category="cell">在AWS上執行的Cloud Volumes可讓我們存取大量資料、並可將Snapshot複本複製到訓練所用的資料集版本。</block>
  <block id="10f0fa4079121b371145e16713fdbb44" category="cell">Trident</block>
  <block id="9953e13b783f3ad45d99187c955cb9f9" category="cell">Trident是由NetApp管理的開放原始碼專案。它有助於整合Kubernetes的儲存與運算資源。</block>
  <block id="5fa4506d691373039fd2834939e582b3" category="paragraph">我們使用數個筆記型電腦來建構ML管線。每一部筆記型電腦都能在整合到銷售管道之前進行個別測試。我們會依照此示範應用程式的部署流程、分別說明每一部筆記型電腦。</block>
  <block id="06a86c2506db8ef5fdac675c1352e3cf" category="paragraph">所需的結果是一條管道、會根據資料的Snapshot複本來訓練模型、並部署模型以供參考。下圖顯示完整MLRun管線的區塊圖。</block>
  <block id="1d79eb753e06f2122a118408a14d6c51" category="paragraph"><block ref="1d79eb753e06f2122a118408a14d6c51" category="inline-image-macro-rx" type="image"></block></block>
  <block id="51b666fe429f998144ea4f2ce818cd60" category="section-title">部署資料產生功能</block>
  <block id="034015442bf8bf34c0e7e8149d35dae6" category="paragraph">本節說明我們如何使用Nuclio無伺服器功能來產生網路裝置資料。使用案例可從部署管線的Iguazio用戶端進行調整、並使用Iguazio服務來監控和預測網路裝置故障。</block>
  <block id="2d024dd4dc0601ff2e4d0b81fcaec60a" category="inline-link">Nuclio網站</block>
  <block id="59009d367371847f2042c59338282f4b" category="paragraph">我們模擬來自網路裝置的資料。執行Jupyter筆記型電腦「data- gener.ipynb」可建立無伺服器功能、每10分鐘執行一次、並產生含有新資料的Parquet檔案。若要部署此功能、請執行此筆記型電腦中的所有儲存格。請參閱<block ref="a9d48e85369982160b96d90770d878d1" category="inline-link-rx"></block> 檢閱此筆記型電腦中任何不熟悉的元件。</block>
  <block id="fa0c06ebcd647f13ce81472307615ee3" category="paragraph">產生函數時會忽略具有下列註解的儲存格。筆記型電腦中的每個儲存格都會被視為功能的一部分。匯入Nuclio模組以啟用「%nuclio fic」。</block>
  <block id="c2b253a6bc491b37027772dba5f0b4e7" category="paragraph">在該函數的規格中、我們定義了執行該函數的環境、觸發方式、以及它所耗用的資源。</block>
  <block id="95b0eb5f892f7b0bcb3ec7dbb9058c02" category="paragraph">初始化功能時、Nuclio架構會叫用「init_context」功能。</block>
  <block id="1aab9637db54631d95ec5901bfda0947" category="paragraph">當函數初始化時、會叫用任何不在函數中的程式碼。當您叫用它時、會執行處理常式功能。您可以變更處理常式的名稱、並在函數規格中加以指定。</block>
  <block id="94be7a657ecb54ef7337030d9dd78b70" category="paragraph">您可以在部署之前、先從筆記型電腦測試功能。</block>
  <block id="01237c05459839293bfcd5a3beb1364f" category="paragraph">此功能可從筆記型電腦部署、也可從CI/CD管道部署（修改此程式碼）。</block>
  <block id="c697561ec27606d29683f7fc5fb3846d" category="section-title">管道筆記型電腦</block>
  <block id="83041c5547fb0ad965936febfc41508d" category="paragraph">這些筆記型電腦不應個別執行此設定。這只是對每個筆記型電腦的審查。我們將它們視為管道的一部分。若要個別執行、請檢閱MLRun文件、以Kubernetes工作的形式執行。</block>
  <block id="c16b208e4ffb938f4008373dea5fb4ec" category="section-title">Snap_CV.ipynb</block>
  <block id="eeb06194a969eee5616e56b449a99306" category="paragraph">此筆記型電腦會在管線開始時處理Cloud Volume Snapshot複本。它會將磁碟區名稱傳遞給管線內容。此筆記型電腦會叫用Shell指令碼來處理Snapshot複本。在管線中執行時、執行內容會包含變數、以協助找出執行所需的所有檔案。撰寫此程式碼時、開發人員不必擔心執行程式碼的容器中的檔案位置。如稍後所述、此應用程式會隨其所有相依性一起部署、而且是提供執行內容的管線參數定義。</block>
  <block id="dc82b570ec10aa261c20bf4828af24c1" category="paragraph">建立的Snapshot複本位置會放置在MLRun內容中、供管線中的步驟使用。</block>
  <block id="7f609b3599e86a8f1b83bde97709ba37" category="paragraph">接下來的三部筆記型電腦會平行執行。</block>
  <block id="d1839287f93e09936af234173d03d6b7" category="section-title">資料準備：ipynb</block>
  <block id="dbe6ca7c47e3dc8cbd3a4956e684b761" category="paragraph">原始指標必須轉變為功能、才能進行模型訓練。此筆記型電腦會從Snapshot目錄讀取原始指標、並將模型訓練功能寫入NetApp Volume。</block>
  <block id="dab65fbdf0ed5ce626558d99e83c618f" category="paragraph">在管線內容中執行時、輸入「DAAT_DIR」會包含Snapshot複本位置。</block>
  <block id="4636df8c7ba383c5f135c7ae8f2ef772" category="section-title">描述.ipynb</block>
  <block id="43099d46867c7c0cc922fdd3e026d029" category="paragraph">為了視覺化傳入的度量、我們部署了一個管線步驟、提供可透過Kubeflow和MLRun UI取得的繪圖和圖表。每次執行都有其專屬版本的視覺化工具。</block>
  <block id="7fd47125b80c0e6241052a47dcb41b98" category="section-title">Deploy功能.ipynb</block>
  <block id="684eb641c7a322c328f8ea91cd482b0d" category="paragraph">我們持續監控指標、以尋找異常狀況。這款筆記型電腦會建立一個無伺服器功能、產生在傳入度量上執行預測所需的功能。此筆記型電腦會啟動功能的建立。功能代碼位於筆記型電腦「data- prep.ipynb」中。請注意、我們使用同一部筆記型電腦做為此目的的管道步驟。</block>
  <block id="1c475141d16ada0e53ddb14047963024" category="section-title">訓練.ipynb</block>
  <block id="43b6984a9b2a7863061833c96be2b851" category="paragraph">建立這些功能之後、我們便開始進行模型訓練。此步驟的輸出是用於推斷的模型。我們也會收集統計資料、以追蹤每次執行（實驗）。</block>
  <block id="a6858cae929a8eed6e9c9d6cfa9befac" category="paragraph">例如、下列命令會在該實驗的內容中輸入準確度分數。此值可在Kubeflow和MLRun中看到。</block>
  <block id="9d1126b5d7690c0eb46dd7713822680e" category="section-title">deploy推論函數.ipynb</block>
  <block id="827ebf8bb3ee1798b5394ecd2a8bb3ae" category="paragraph">管道的最後一步是將模型部署為無伺服器功能、以便持續推斷。此筆記型電腦會啟動建立在「nuclio-inertere-fuite.ipynb」中定義的無伺服器功能。</block>
  <block id="4d2c908b5247626d682903dc9527bd05" category="section-title">審查及建置管道</block>
  <block id="6c8673acfb6249793bed69954ca16a9b" category="paragraph">在管線中執行所有的筆記型電腦、可持續執行實驗、根據新的指標來重新評估模型的準確度。首先、開啟「pipe.ipynb」筆記型電腦。我們將帶您詳細瞭解NetApp與Iguazio如何簡化這項ML管線的部署。</block>
  <block id="50d4decae4f0f08e83a1bd8342bd6ef1" category="paragraph">我們使用MLRun為管線的每個步驟提供背景資料並處理資源分配。MLRun API服務在Iguazio平台上執行、是與Kubernetes資源互動的點。每個開發人員都無法直接要求資源；API會處理要求並啟用存取控制。</block>
  <block id="c7c5ccf69a87e301b134dcfdf46ab307" category="paragraph">該管道可與NetApp Cloud Volumes和內部部署Volume搭配使用。我們打造此示範影片來使用Cloud Volumes、但您可以在程式碼中看到可在內部部署執行的選項。</block>
  <block id="ce16d064e13fffda0ff2a07c50276f33" category="paragraph">將Jupyter筆記型電腦轉變成Kubeflow步驟所需的第一個行動、就是將程式碼變成功能。某項功能具備執行該筆記型電腦所需的所有規格。當您向下捲動筆記本時、您會看到我們為管道中的每個步驟定義了功能。</block>
  <block id="8bbbd384e919f705f071525a96cdfaec" category="cell">筆記型電腦的一部分</block>
  <block id="5d75cd50687084d681964f5c6ee8a73a" category="cell">&lt;code_to功能&gt;（MLRun模組的一部分）</block>
  <block id="eef456f018469b2d403742d05e33a5dd" category="cell">功能名稱：專案名稱。用於組織所有專案成品。這可在MLRun UI中看到。種類。在此案例中、Kubernetes工作。這可能是dask、MPI、走勢8等等。如需詳細資訊、請參閱MLRun文件。檔案：筆記型電腦的名稱。這也可以是Git（HTTP）中的位置。</block>
  <block id="78805a221a988e79ef3f42d7c5bfd418" category="cell">映像</block>
  <block id="d0161cbbc56081c803c919679b76b846" category="cell">我們在這個步驟中使用的Docker映像檔名稱。我們先前使用cree-image.ipynb系列筆記型電腦來建立這個應用程式。</block>
  <block id="28bb8862d962b462f621d9098de311cd" category="cell">Volume_掛 載與磁碟區</block>
  <block id="a6841da965bfb59838d367b9fdc30a8c" category="cell">執行時掛載NetApp Cloud Volume的詳細資料。</block>
  <block id="5d9261bc63dfeef8d26c807e36a9daa4" category="paragraph">我們也定義步驟的參數。</block>
  <block id="fcd242cd0d87d4de3be34f843180bdb0" category="paragraph">為所有步驟定義功能之後、您就可以建構管線。我們使用「kfp"模組來定義這個定義。使用MLRun與自行建置的差異在於編碼的簡化與縮短。</block>
  <block id="f02b57d2fbd61d7629e76438ba68f7a1" category="paragraph">我們定義的功能會使用MLRun的「AS步驟」功能、變成步驟元件。</block>
  <block id="8859e75c5bfd3a8ea5a783296d71b795" category="section-title">Snapshot步驟定義</block>
  <block id="dabb827ac33da3a8d8a2384874221aab" category="paragraph">啟動Snapshot功能、輸出及掛載v3io作為來源：</block>
  <block id="3225a10b07f1580f10dee4abc3779e6c" category="cell">參數</block>
  <block id="422ac26927e8ad3d6b30617226e26c2a" category="cell">新工作</block>
  <block id="b954691c9a06ef7281bf4c836e7684f1" category="cell">newtask是函數執行的定義。</block>
  <block id="7871261404e7a8d93339696184b243b9" category="cell">（MLRun模組）</block>
  <block id="4522319a8fbbe0a85c82e604047dfe6c" category="cell">處理常式：要叫用的Python函數名稱。我們在筆記型電腦中使用名稱處理常式、但這不是必要的。參數。傳遞給執行的參數。在程式碼中、我們使用context.Get_param（「參數」）來取得值。</block>
  <block id="6cebb60f71d9de65143ade7a8388e27a" category="cell">AS步驟</block>
  <block id="070faabab806ce863279f5bd38452cc4" category="cell">名稱。Kubeflow管道步驟名稱。輸出。這些是步驟在完成時新增至字典的值。請參閱Snap_CV.ipynb系列筆記型電腦。mount_v3io()。這會設定執行管線之使用者要掛載/User的步驟。</block>
  <block id="a8aff967e1649a1c82ea607c881e8091" category="cell">輸入</block>
  <block id="6f1ba99c8ee685047e0fa3c32349a01f" category="cell">您可以將前一個步驟的輸出傳送到一個步驟。在這種情況下、snap.outputs [snapVolume Details]是我們在Snapshot步驟上建立的Snapshot複本名稱。</block>
  <block id="a399d9e54dd5dc35c6b455d995702175" category="cell">Out_path</block>
  <block id="026446ea82508e4c9f41609b3484b4cb" category="cell">放置使用MLRun模組log_act件 產生成品的位置。</block>
  <block id="2fe8889e7fb9545ea383ff3c0451cabf" category="paragraph">您可以從上到下執行「pipele.ipynb」。然後、您可以從Iguazio儀表板前往「Pipines」（管路）索引標籤、以監控Iguazio儀表板「Pipines」（管路）索引標籤中顯示的進度。</block>
  <block id="74dec5a93e3c1ccb06f26ebc6f9401fb" category="paragraph"><block ref="74dec5a93e3c1ccb06f26ebc6f9401fb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f47db69a9e60b47a1c8f7800753f6b57" category="paragraph">由於我們在每次路跑中都記錄訓練步驟的準確度、因此每次實驗都有精準度的記錄、如訓練準確度記錄所示。</block>
  <block id="5bb7a1a5b810ce843cd4d41a7137ce26" category="paragraph"><block ref="5bb7a1a5b810ce843cd4d41a7137ce26" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a9ebd260b4ed60a239b8228fe68b2dbc" category="paragraph">如果您選取Snapshot步驟、就會看到用於執行此實驗的Snapshot複本名稱。</block>
  <block id="1d231b2e1da6122607105ce52f87a763" category="paragraph"><block ref="1d231b2e1da6122607105ce52f87a763" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9fc578a2d3b019d646da18c9172282dc" category="paragraph">所述步驟具有視覺成品、可用來探索我們使用的指標。您可以展開以檢視完整繪圖、如下圖所示。</block>
  <block id="ffb599ed438d33d337e7cca9a1fbaf07" category="paragraph"><block ref="ffb599ed438d33d337e7cca9a1fbaf07" category="inline-image-macro-rx" type="image"></block></block>
  <block id="89238f00748675db057567546f67c2c5" category="paragraph">MLRun API資料庫也會追蹤各專案所組織之每個執行的輸入、輸出和成品。下列影像提供每個掃描的輸入、輸出和成品範例。</block>
  <block id="a8baa83f88edfb0fceafeda75819cb5f" category="paragraph"><block ref="a8baa83f88edfb0fceafeda75819cb5f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3c6050fe85d7b5528bc8356c88eab725" category="paragraph">我們會針對每項工作儲存其他詳細資料。</block>
  <block id="8683624a37c6626765321b5cc2f60954" category="paragraph"><block ref="8683624a37c6626765321b5cc2f60954" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9f02f72c9470e67a8b3c5f9054b0a32c" category="inline-link">MLRun GitHub網站</block>
  <block id="01661b1e0825da7434573266df1672e0" category="paragraph">關於MLRun的資訊比本文件所涵蓋的資訊更多。所有成品（包括步驟和功能的定義）都可儲存至API資料庫、版本控制、個別或完整的專案來叫用。專案也可儲存並推送至Git供日後使用。我們鼓勵您在上深入瞭解<block ref="92ae596fd8e402850e22f59a73ed3a44" category="inline-link-rx"></block>。</block>
  <block id="43486dfb907f148e40f3719f314caeb4" category="inline-link-macro">下一步：部署Grafana儀表板</block>
  <block id="0670d6ac4e77f5862afcc2fde43bcc72" category="paragraph"><block ref="0670d6ac4e77f5862afcc2fde43bcc72" category="inline-link-macro-rx"></block></block>
  <block id="9a50201aa3bf66a7a0337ccf29d20c90" category="doc">解決方案技術</block>
  <block id="c701c7fe143bef79cc6eebc32606262e" category="paragraph">若要深入瞭解本文所述資訊、請參閱下列資源：</block>
  <block id="ff9caff469d56a572a569942ca24c8b4" category="list-text">NVIDIA DGX系統</block>
  <block id="b69073c22b4269568fd577ea090ce638" category="list-text">NVIDIA DGX-1系統<block ref="45a310b0e4b087b75cb073303044f6f9" category="inline-link-rx"></block></block>
  <block id="fe287c518b9b1345defadacdc6a9ecbf" category="list-text">NVIDIA V100 Tensor Core GPU<block ref="fad8218d69ce01748faed5492aa5d3ef" category="inline-link-rx"></block></block>
  <block id="d6a8716635a5681cde357a465953bc72" category="list-text">NVIDIA NGC<block ref="5c75bfead88762783d54deaaa3d62735" category="inline-link-rx"></block></block>
  <block id="11bdb18e1c5e7d1e4362c9d2f6956fc8" category="list-text">RUN：AI Container協調解決方案</block>
  <block id="5afc85c81e76f427a293dd861e0109a3" category="list-text">RUN：AI產品簡介<block ref="64b899832bfcad18bb426fb355a0d03b" category="inline-link-rx"></block></block>
  <block id="9acfbb098f0d9b45b5897b44ae347ee9" category="list-text">執行：AI安裝文件<block ref="cb05a776556ca5a25aec417185ef6863" category="inline-link-rx"></block>
<block ref="b2e8533fae57aa9047d7731db51b6dfe" category="inline-link-rx"></block></block>
  <block id="b0d8a6d0eebdc42ac243c16f9137118d" category="list-text">在Run:AI CLI中提交工作<block ref="97ec6c214f99d7e6a39194a167aeecc8" category="inline-link-rx"></block>
<block ref="d75350381b5fda5cc9c9a1ce34c24299" category="inline-link-rx"></block></block>
  <block id="9bd35f4f3f6faa9e9330c54fd2086967" category="list-text">在Run:AI CLI中分配GPU分數<block ref="e343516de5fb56c6a0d652bcdfceaab7" category="inline-link-rx"></block></block>
  <block id="543ca2d3d9aa63e1a63c69dd219d5f2a" category="list-text">NetApp AI Control Plane</block>
  <block id="ddb27cb97146c8f5964eaf368feb4ce0" category="list-text">技術報告<block ref="3ce56c027572d1908d65b63056be024f" category="inline-link-rx"></block></block>
  <block id="2273cd603e277bb35f96881a557b0608" category="list-text">簡短示範<block ref="61e3673018126d9a106032d9ff691322" category="inline-link-rx"></block></block>
  <block id="45f26b752dfae88ec8c7def446162521" category="list-text">GitHub儲存庫<block ref="f9a4909739179bedfa8ba1d225598979" category="inline-link-rx"></block></block>
  <block id="b2412d3528eff2c1e191154bf1ecfd60" category="list-text">NetApp AFF 產品</block>
  <block id="c36e36ff8b7edf8dd17781148ed57337" category="list-text">NetApp AFF A系列產品型錄<block ref="9a84c14d2692222552174943486e7136" category="inline-link-rx"></block></block>
  <block id="ffc4c8e8bc10afc438d9c590f44e3b51" category="list-text">適用於All Flash FAS 的NetApp Flash優勢<block ref="9dcd8a7bfc88cf6bbca4b422861950bf" category="inline-link-rx"></block></block>
  <block id="7843ce52c43038d88c2f54d85f3f764d" category="list-text">資訊庫ONTAP<block ref="974aeb47ab8fd0a635d02d8ac80b9eb1" category="inline-link-rx"></block></block>
  <block id="5f1b8a708e16776ca4372c71dc377653" category="list-text">NetApp ONTAP FlexGroup 《銷售區》技術報告<block ref="1ab29fc7fde3319a82a477ec308cf820" category="inline-link-rx"></block></block>
  <block id="af2063646dcea30a4bac90a1c51b14aa" category="list-text">NetApp ONTAP AI</block>
  <block id="062d7e5979c653f33e03cb0aaeaec6e9" category="list-text">《採用DGX-1與Cisco Networking設計指南的AI》ONTAP<block ref="b141781260425e95eee945147e2f0d99" category="inline-link-rx"></block></block>
  <block id="59086e50189644b7c19947dfa68f8395" category="list-text">《採用DGX-1和Cisco Networking部署指南的AI》ONTAP<block ref="921f17c41dea89b0a711f380e9864e09" category="inline-link-rx"></block></block>
  <block id="062afad089226e62b53e77ba2af24574" category="list-text">《採用DGX-1和Mellanox網路設計指南的AI》ONTAP<block ref="f2345b2674d3976c091d4af042c36a8f" category="inline-link-rx"></block></block>
  <block id="e6b737f0513721f0a8024f538058333e" category="list-text">《採用DGX-2設計指南的AI》ONTAP<block ref="b38db7c217c396412f601b87dfc58a8c" category="inline-link-rx"></block></block>
  <block id="e1196fc000d661461f32bcaab7319c6a" category="doc">針對零售使用案例自訂狀態和流程</block>
  <block id="1e3ecab57c1572b4a25412b1e395562a" category="paragraph">您可以針對特定使用案例自訂對話管理程式的狀態和流程。在我們的零售範例中、我們有下列四個yaml檔案、可根據不同的意圖來引導對話。</block>
  <block id="608f6d7dfd7bc98630446f0c601cc730" category="paragraph">請參閱下列每個檔案的檔案名稱和說明清單：</block>
  <block id="77d10e2958e3d21f89adae8647e8d0d2" category="list-text">「MAIN_flow：yml」：定義主要對話流程和狀態、並在必要時將流程導向其他三個yaml檔案。</block>
  <block id="96b445ea5c6b049dfc1250466b6bdf2e" category="list-text">「REtail_flow。yml」：包含與零售或興趣點相關的狀態。系統會提供最近的零售店資訊、或是特定項目的價格。</block>
  <block id="17a0ea5055e6be908d7e2f6f983aa471" category="list-text">「Weather（天氣）」流程：包含與天氣問題相關的狀態。如果無法判斷位置、系統會詢問後續問題以釐清。</block>
  <block id="ade7d8cc2b23f24add45c4096dd41795" category="list-text">「error_flow。yml」：處理使用者意圖不屬於上述三個yaml檔案的案例。顯示錯誤訊息後、系統會重新路由回接受使用者問題。下列各節包含這些yaml檔案的詳細定義。</block>
  <block id="ef7c28f5093b59a07761555c8914df26" category="section-title">main_flow</block>
  <block id="dfc9a806326d590aa4ccf49aa6909cda" category="section-title">零售_流.yml</block>
  <block id="6e08d9d65c68d5f447f4fd239052c12e" category="section-title">We天氣_流.yml</block>
  <block id="b7dc1d2ced2caa9352158983c5ffeda1" category="section-title">錯誤_流.yml</block>
  <block id="c6496825f1a87696b60935af9416283a" category="inline-link-macro">下一步：將第三方API連線為履約引擎</block>
  <block id="3a9d38bca913120b9d3638cb194cd7e6" category="paragraph"><block ref="3a9d38bca913120b9d3638cb194cd7e6" category="inline-link-macro-rx"></block></block>
  <block id="ccc33823c0dc5e9ee0838a5eaa86f076" category="doc">第4.9節的測試詳細資料</block>
  <block id="c83553858a60514501e9751c0747dea0" category="inline-link-macro">基本資源配置公平性</block>
  <block id="ed8e4613850a4014b0e6ef830982caf2" category="paragraph">本節包含本節的測試詳細資料 <block ref="26be59a535445b1fffeef12f5e70f3e6" category="inline-link-macro-rx"></block>。</block>
  <block id="f354c9a7a0a52e7a5a3514252ea5f8b7" category="paragraph">依下列順序提交工作：</block>
  <block id="9e727fdd3aec8274f46685441900280d" category="cell">專案</block>
  <block id="b3428404a5be1cf95d4e53b2ddc8288a" category="cell"># GPU</block>
  <block id="96b0141273eabab320119c467cdcaf17" category="cell">總計</block>
  <block id="0be8406951cdfda82f00f79328cf4efc" category="cell">留言</block>
  <block id="ae7ccf7b1a6a1a023f611a294572a900" category="cell">團隊</block>
  <block id="c81e728d9d4c2f636f067f89cc14862c" category="cell">2.</block>
  <block id="17b3673d5c28fb72e7cc48549f489dd4" category="cell">6/8.</block>
  <block id="ffe090618e54b7916fa47cf8881019b1" category="cell">team b/c/ c工作負載暫停並移至「待處理」。</block>
  <block id="f82056dbbe3376b10ac622b0bdaae914" category="cell">8/8.</block>
  <block id="bccfe4ac65004fb31c146d17003d00e8" category="cell">其他團隊（b / c）工作負載暫停、移至「待處理」。</block>
  <block id="be46ffa9e65cb964fc3236de02c41e4e" category="paragraph">請參閱下列執行的命令順序：</block>
  <block id="3bf38f884fd74f6e6f1ec3d80018edd8" category="paragraph">此時、您應具備下列狀態：</block>
  <block id="e55f05703a3e04fbd9e10f76ae925cc9" category="cell">已分配的GPU</block>
  <block id="26cc9c6ccae01f319282379c339cd90b" category="cell">已排入佇列的工作負載</block>
  <block id="9320270de4ff6824ae7a21f729fb7d44" category="cell">團隊A</block>
  <block id="36d2df43ead992a1e3c86acd0cec69f9" category="cell">4/4.</block>
  <block id="6adf97f83acf6453d4a6a4b1070f3754" category="cell">無</block>
  <block id="238ff8d9192e9c01e50a8d6d21f1607b" category="cell">團隊b</block>
  <block id="867c7d7d65c50ae3679fabce2eab87a3" category="cell">2/2.</block>
  <block id="3b40d1328b825dda4b761a8e534669b7" category="cell">團隊</block>
  <block id="3b099141b6a7e4e8804c3fda5ed4f440" category="paragraph">請參閱一節 <block ref="26be59a535445b1fffeef12f5e70f3e6" category="inline-link-macro-rx"></block> 以討論後續測試案例。</block>
  <block id="5d52789e4f8028aca21d5650bed8273b" category="inline-link-macro">下一步：第4.10節的測試詳細資料</block>
  <block id="61a1556247485f1d0fbb34dbe36d1503" category="paragraph"><block ref="61a1556247485f1d0fbb34dbe36d1503" category="inline-link-macro-rx"></block></block>
  <block id="2fb227f90ebf269423fe0cf1a15b8111" category="doc">定義持續Volume宣告</block>
  <block id="8f5da11015f2baf835f0e8b421c1cfe9" category="list-text">將下列Yaml儲存至檔案、以建立Basic類型的PVc。</block>
  <block id="04c58cdb1d0c073dd558caf87f2b8ed1" category="list-text">將Yaml檔案套用至您的Iguazio Kubernetes叢集。</block>
  <block id="f685fdfcc5aedb3ccc237a4020b69cd8" category="section-title">將NetApp Volume附加至Jupyter筆記型電腦</block>
  <block id="dc4b8e255a77b2c73f89b702dbb7acc5" category="inline-link">Iguazio應用程式服務與工具總覽</block>
  <block id="11eb1e24a14c1d15ee5e287b4338b764" category="paragraph">Iguazio提供多種託管服務、可為資料科學家提供完整的端點對端堆疊、以供開發及部署AI / ML應用程式。如需這些元件的詳細資訊、請參閱<block ref="2cf4dcc22fda31f66959754df93d6196" category="inline-link-rx"></block>。</block>
  <block id="3591be3d07a4f8a37d218b9e92bea432" category="paragraph">其中一項託管服務是Jupyter Notebook。每個開發人員都能自行部署筆記型電腦容器、並提供開發所需的資源。若要讓他們存取NetApp Cloud Volume、您可以將Volume指派給他們的容器、並在下列映像中顯示持續Volume Claims的資源配置、執行中的使用者及環境變數設定。</block>
  <block id="31bbf80f0649d07d3e8340123f1a6963" category="inline-link">TR-4798</block>
  <block id="e0d870d503aeb797f7626b14c9acb4ae" category="paragraph">如需內部部署組態、請參閱<block ref="7ccf7acaa308282d5274101157fd43e5" category="inline-link-rx"></block> 在Trident設定中啟用NetApp ONTAP 的支援資料管理功能、例如為資料或模型製作Snapshot複本以進行版本控制。在Trident後端組態檔中新增下列行、以顯示Snapshot目錄：</block>
  <block id="12ce9751e0e6d2a7d593d46e19211984" category="inline-link">Trident命令</block>
  <block id="71f8fa2d01d0c5a2d9af72f90f65e379" category="paragraph">您必須以Json格式建立Trident後端組態檔、然後執行下列命令<block ref="1dce3ee9e9ff2b59caf27104be259d37" category="inline-link-rx"></block> 若要參考：</block>
  <block id="2842c07cfacaf614e63dc1f2afef93b2" category="paragraph"><block ref="2842c07cfacaf614e63dc1f2afef93b2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d47cd04a0ddb5c3e6a2d9b9bc5c6a120" category="inline-link-macro">下一步：部署應用程式</block>
  <block id="fafac2eb9a7c4fcf46778865a22a00d2" category="paragraph"><block ref="fafac2eb9a7c4fcf46778865a22a00d2" category="inline-link-macro-rx"></block></block>
  <block id="337f05fad2de58e4a8b74cb25536b52d" category="doc">設定總覽</block>
  <block id="666f45aef7a28ef5ba6e4bfb2f71bcee" category="section-title">Iguazio安裝</block>
  <block id="b681b0e4b3576aa1cd854e2b66c16dcd" category="paragraph">Iguazio可安裝在內部部署或雲端供應商上。資源配置可做為服務、並由Iguazio或客戶進行管理。在這兩種情況下、Iguazio都提供部署應用程式（Provazio）來部署及管理叢集。</block>
  <block id="3b31e2e4387e938056251a113831e6da" category="inline-link">NVA-1121.</block>
  <block id="8334797b9b3383d4f48d98178b8845ea" category="inline-link">本頁</block>
  <block id="ade8a7efee71036d2ca57676a54b31e3" category="paragraph">如需內部部署安裝、請參閱<block ref="c37aff28e1a25306bf31a11e21ff2c71" category="inline-link-rx"></block> 適用於運算、網路和儲存設備設定。Iguazio提供內部部署Iguazio、客戶無需支付額外成本。請參閱<block ref="d273dd0a16e6003b56381a70823807f7" category="inline-link-rx"></block> 適用於DNS和SMTP伺服器組態。Provazio安裝頁面如下所示。</block>
  <block id="8e72dced5918c4009ff80044ba6f44db" category="paragraph"><block ref="8e72dced5918c4009ff80044ba6f44db" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c16d8d5e717cd029389f76abddf769b7" category="inline-link-macro">下一步：設定Kubernetes叢集</block>
  <block id="1d42e0b2a8893ff00a35554162554936" category="paragraph"><block ref="1d42e0b2a8893ff00a35554162554936" category="inline-link-macro-rx"></block></block>
  <block id="0a1bc6b4024485ff9b55c99c1237e175" category="doc">最佳叢集與GPU使用率搭配Run:AI</block>
  <block id="612edeb05f6d237e20f3d843d6e7eba4" category="paragraph">下列各節提供執行：AI安裝、測試案例及此驗證所執行結果的詳細資料。</block>
  <block id="2df14da3d7db15550e8eafc892e89d8e" category="paragraph">我們使用業界標準基準測試工具（包括TensorFlow基準測試）來驗證此系統的運作和效能。ImageNet資料集用於訓練ResNet-50、這是著名的Convolutional Neuriency Network（CNN/有線新聞網路）DL影像分類模式。ResNet-50提供準確的訓練結果、並加快處理時間、讓我們能夠為儲存設備帶來足夠的需求。</block>
  <block id="a89cd2a9c8244dab756ec04aeb8247e9" category="inline-link-macro">下一步：執行AI安裝</block>
  <block id="13bb3aa52565b3e3f517764c0e88c324" category="paragraph"><block ref="123704fec3ddad892d7c2ae5c4de301b" category="inline-link-macro-rx"></block>。</block>
  <block id="84ffd62e595c9d0122e136c3b255f4df" category="doc">感謝</block>
  <block id="74f47434914d29c7ec7d7d42593303b7" category="list-text">Mike Oglesby、NetApp技術行銷工程師</block>
  <block id="94a8512f59eafd68b470105fc3269fd4" category="list-text">NetApp資深技術總監Santosh Rao</block>
  <block id="17e1dd6389643aeecf567ba08bf1df2c" category="paragraph"><block ref="17e1dd6389643aeecf567ba08bf1df2c" category="inline-link-macro-rx"></block></block>
  <block id="8383a1cf96c028a0986b7371049c8495" category="doc">網路裝置故障預測使用案例摘要</block>
  <block id="dea416ff04e558b0d76cce896b618880" category="paragraph">此使用案例是以亞洲電信領域的Iguazio客戶為基礎。由於每年有10萬家企業客戶和125萬次網路中斷事件、因此必須預測並採取主動行動、避免網路故障影響客戶。此解決方案提供給他們下列效益：</block>
  <block id="feb68271e6d14db0b1ff524f3eb47a27" category="list-text">預測性網路故障分析</block>
  <block id="70e00676492bea584fb8e7d551515eb5" category="list-text">與票務系統整合</block>
  <block id="6de8d1444549249c0161228a7b7c1d27" category="list-text">採取主動行動預防網路故障因為這項Iguazio實作的結果、60%的故障都是主動預防的。</block>
  <block id="fd80dbb606385d62c59605ec96147d3f" category="inline-link-macro">下一步：設定總覽</block>
  <block id="d31627f0c8fea1236773b2420ab9cd39" category="paragraph"><block ref="d31627f0c8fea1236773b2420ab9cd39" category="inline-link-macro-rx"></block></block>
  <block id="a8a1e11a906a27bd156606bf4717e8e8" category="summary">此支援中心解決方案的架構以NVIDIA預先建置的工具和NetApp DataOps Toolkit為核心。NVIDIA的工具可用於使用預先建置的機型和管線、快速部署高效能AI解決方案。NetApp DataOps Toolkit可簡化各種資料管理工作、加速開發。</block>
  <block id="2d242bb36ec91b32005f9296ff03a912" category="doc">架構</block>
  <block id="d51083e81cbf0ec7828af24692206315" category="inline-link-macro">先前：使用案例。</block>
  <block id="beff34f173af198016bee889c9f9ed7a" category="paragraph"><block ref="beff34f173af198016bee889c9f9ed7a" category="inline-link-macro-rx"></block></block>
  <block id="8f4c7939e8a42e023939df947aba54f6" category="section-title">解決方案技術</block>
  <block id="c779b37f861deb44744634dea201514f" category="inline-link-macro">NVIDIA Riva</block>
  <block id="ccfdc9ae99a97b7a6b8ad83a329bcdc8" category="paragraph"><block ref="eb3a0fd60dc608626ce6d809beb18359" category="inline-link-macro-rx"></block> 是GPU加速的SDK、可用於建置多式對話AI應用程式、在GPU上提供即時效能。NVIDIA訓練、調適及最佳化（TAO）工具套件提供更快速、更簡單的方法來加速訓練、並快速建立高度準確且效能優異的網域專屬AI模型。</block>
  <block id="600ff5755ecd6aa4213eb806162b679e" category="paragraph">NetApp DataOps Toolkit是Python程式庫、可讓開發人員、資料科學家、DevOps工程師及資料工程師輕鬆執行各種資料管理工作。這包括近乎即時地配置新的資料磁碟區或JupyterLab工作區、近乎即時地複製資料磁碟區或JupyterLab工作區、以及近乎即時的資料磁碟區快照或JupyterLab工作區、以供追蹤及建立基準。</block>
  <block id="2b0d957e4ad1bdfd446155ff5bb8a9b2" category="section-title">架構圖</block>
  <block id="1c8bd88c9d2cb845c6c27915f4a3fe8e" category="paragraph">下圖顯示解決方案架構。有三大環境類別：雲端、核心和邊緣。每個類別都可以分散在不同的地理位置。例如、雲端包含的物件儲存區位於不同區域的儲存區、音訊檔案則位於不同區域、而核心則可能包含透過高速網路或NetApp Cloud Sync 還原連結的資料中心。邊緣節點表示個人人力代理商的日常工作平台、其中提供互動式儀表板工具和麥克風、可視覺化感受、並從與客戶的對話中收集音訊資料。</block>
  <block id="be5acbec67071810913f6782071a73eb" category="inline-link-macro">儲存設計</block>
  <block id="5d103a663d28ddc9aa2af5f7b958e52c" category="inline-link">Riva</block>
  <block id="cc7a5a83afae781789c3a002465500b5" category="inline-link">TAO工具套件</block>
  <block id="74bef786b12cb9d03a6c04df1f605181" category="inline-link">NetApp DataOps工具套件</block>
  <block id="9595827147dc1170c44979ae1fcabaa6" category="paragraph">在GPU加速的資料中心中、企業可以使用NVIDIA<block ref="cfd3aefe24e0725c1b0424dd8b503dc1" category="inline-link-rx"></block> 構建對話式AI應用程式的架構<block ref="ccdd6931e40e98163a0ae3c3c3bfb185" category="inline-link-rx"></block> 運用轉介L型學習技術、連接模型的微調和再訓練。這些運算應用程式和工作流程均由提供支援<block ref="5d9fb1d86d92052bc5dca8ba91d13ff2" category="inline-link-rx"></block>、實現ONTAP 最佳的資料管理功能。此工具組可讓企業資料團隊透過快照和複本、快速建立模型原型、並建立相關的結構化和非結構化資料、以利追蹤、版本管理和A/B測試、進而提供安全性、治理、 以及法規遵循。請參閱一節 <block ref="3f1432f6921bc0c51d34759cb0d748ab" category="inline-link-macro-rx"></block> 以取得更多詳細資料。</block>
  <block id="816c3453eeba98af344f96d7eefe8834" category="paragraph">本解決方案說明音訊檔案處理、NLP模式訓練、傳輸學習及資料管理詳細步驟。最終端點對端點的傳輸途徑會產生即時顯示在人力支援代理程式儀表板上的意見摘要。</block>
  <block id="b6fb1598d37d2537eed4160a485b790e" category="paragraph"><block ref="b6fb1598d37d2537eed4160a485b790e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="47dee50ad0138b8f5ca70e40e86e6c04" category="section-title">硬體需求</block>
  <block id="d993b502abe38cef7c7256291e3ffa8e" category="paragraph">下表列出實作解決方案所需的硬體元件。在解決方案的任何特定實作中使用的硬體元件、可能會因客戶需求而異。</block>
  <block id="62519b55e4debcf57caf02c89620de61" category="cell">回應延遲測試</block>
  <block id="b763dc0a5ffab97a986c74098214cae6" category="cell">時間（毫秒）</block>
  <block id="08fa9c0a2e18301dd14e18c393fb4280" category="cell">資料處理</block>
  <block id="d3d9446802a44259755d38e6d163e820" category="cell">10.</block>
  <block id="08db96f19d3c99c2b42fd180d9d81580" category="cell">推斷</block>
  <block id="212e6da10eee5f14935bd37b84fe9684" category="paragraph">這些回應時間測試是針對560個對話中超過50、000個音訊檔案執行。每個音訊檔案的大小約為100 KB、轉換成wav時約為1 MB。資料處理步驟會將mp3轉換成wav檔案。推斷步驟會將音訊檔案轉換成文字、並從文字擷取內容。這些步驟彼此獨立、可平行化以加速程序。</block>
  <block id="c18e24981c583441c6975f2116288cb7" category="paragraph">考慮到在各直營店之間傳輸資料的延遲、經理應能在句子結尾的一秒內看到即時情緒分析的更新。</block>
  <block id="1c4968697a5851a64ad0fbf1b594e919" category="section-title">NVIDIA Riva硬體</block>
  <block id="3c02a379965ab0dfcd77b1c484450433" category="cell">硬體</block>
  <block id="17bc10091293fdc562a6db69940ee924" category="cell">作業系統</block>
  <block id="4c8be35e5fe3d8471f378a69f74c0ab6" category="cell">Linux x86_64</block>
  <block id="4d240f00b5a82cfaaf594cdc72f552f3" category="cell">GPU記憶體（ASR）</block>
  <block id="3fa503e0bb3bf46423ef9176821a1f6c" category="cell">串流模式：約5600 MB非串流機型：約3100 MB</block>
  <block id="6345afe417f42d9e0cf6a269bff00b4c" category="cell">GPU記憶體（NLP）</block>
  <block id="217941fb2e441b0bae1b5fec0b454c31" category="cell">每個Bert機型約500MB</block>
  <block id="7e04ebd38c78635d1f8aa53de0dde49b" category="section-title">NVIDIA TAO工具套件硬體</block>
  <block id="03282e46abfd7449ab38bb851caf2c8d" category="cell">系統RAM</block>
  <block id="edaf98e5dae9931cbd74a93b3dd93849" category="cell">32GB</block>
  <block id="6ddfc451ef4f9a7613468cd288d2ab3e" category="cell">GPU RAM</block>
  <block id="2b55387dd066c5bac646ac61543d152d" category="cell">CPU</block>
  <block id="04911a799cc8712b473ed5a3cb2b8904" category="cell">8核心</block>
  <block id="52f9ec21735243ad9917cda3ca077d32" category="cell">GPU</block>
  <block id="fceec3562665d08f1dd24689f68f0f29" category="cell">NVIDIA（A100、V100和RTX 30x0）</block>
  <block id="34df20bab5e85dc75bfc94ef569cced9" category="cell">SSD</block>
  <block id="2f9289dfcac06a2ba95650d7e24ea9e8" category="cell">100GB</block>
  <block id="19aa61315132dbea1d19c7aeeef5f5b2" category="section-title">Flash儲存系統</block>
  <block id="a5119a6bd0f4d733e0f1f4c10f9d063b" category="section-title">NetApp ONTAP 產品9.</block>
  <block id="fd5487a1e906d6cd514dbbc16f17a489" category="paragraph">NetApp最新一代的儲存管理軟體- NetApp 9.9、可讓企業將基礎架構現代化、並移轉至雲端就緒的資料中心。ONTAP利用領先業界的資料管理功能ONTAP 、無論資料位於何處、只要使用一組工具、即可管理及保護資料。您也可以自由地將資料移至任何需要的位置：邊緣、核心或雲端。支援眾多功能、可簡化資料管理、加速及保護關鍵資料、並在混合雲架構中提供新一代基礎架構功能。ONTAP</block>
  <block id="e367efbc26bd12c0d6ae37dd6a55ef9b" category="inline-link">Cloud Sync</block>
  <block id="78a2efe59d4ad6ad51556ea77f5fdec3" category="paragraph"><block ref="f0ec1a9d50acb3759e364a1cdfa9961d" category="inline-link-rx"></block> 是一項NetApp服務、可讓您在內部部署NFS或SMB檔案共用之間傳輸檔案至下列任一目標、以實現快速且安全的資料同步：</block>
  <block id="df2c24964ca3e99761acc48b2c8a75c9" category="list-text">NetApp ONTAP 產品S3</block>
  <block id="7450cfde7058dc5e1f7909d0280fd7ae" category="list-text">Azure NetApp Files</block>
  <block id="ddcf3699b41cd4c4ee5be4b9dd95c1e6" category="list-text">Amazon簡易儲存服務（Amazon S3）</block>
  <block id="8224436b00c48149c863f4b17219a19d" category="list-text">Amazon Elastic File System（Amazon EFS）</block>
  <block id="52745271323ee9ea30e3a37d0338d118" category="list-text">Azure Blob</block>
  <block id="833c2c211a541e50ad94433664e4b5c1" category="list-text">Google Cloud Storage</block>
  <block id="5446a6bee3301e1f52824fc0affa6299" category="list-text">IBM Cloud 物件儲存設備</block>
  <block id="1b238365e840da0711b49e8f646e2fdf" category="paragraph">協助您快速安全地將檔案移至所需的位置。Cloud Sync資料傳輸完成後、即可在來源和目標上完全使用。根據預先定義的排程、不間斷地同步資料、只移動差異、將資料複寫所花費的時間和金錢減至最低。Cloud Sync不只是一種簡單易用的軟體即服務（SaaS）工具。Cloud Sync由資料代理人執行由功能不整所觸發的資料傳輸Cloud Sync 。您可以在Cloud Sync AWS、Azure、Google Cloud Platform或內部部署中部署不實資料代理程式。</block>
  <block id="a5c952f5be43013a024d778712474fbc" category="paragraph">由軟體定義的物件儲存套件可無縫支援各種公有、私有及混合式多雲端環境的使用案例。StorageGRIDNetApp StorageGRID 支援領先業界的創新技術、可儲存、保護及保留非結構化資料、以供多種用途使用、包括長期的自動化生命週期管理。如需詳細資訊、請參閱<block ref="7660f0463c83c682b9f091117b07c3b3" category="inline-link-rx"></block> 網站。</block>
  <block id="7ddb33edf227a18eb76201fcb9e2c9db" category="section-title">軟體需求</block>
  <block id="6ffce2da93d4b296032f30d7b2adea01" category="paragraph">下表列出實作此解決方案所需的軟體元件。在解決方案的任何特定實作中使用的軟體元件、可能會因客戶需求而異。</block>
  <block id="d20072ce64f4d9efd57e036d2b7c30ec" category="cell">主機</block>
  <block id="7915eebeca25d928212b5d457786a549" category="cell">Riva（前身為JARVIS）</block>
  <block id="1bf6e69c18341244d990250bf5aa3ce0" category="cell">1.4.0</block>
  <block id="7a2cd4790985cbbb0b362dfe8e59d991" category="cell">TAO工具套件（前身為TransferLearning Toolkit）</block>
  <block id="55c82b601deae028c1c5e87fd820923d" category="cell">3.0</block>
  <block id="253b40ae359ba25b56231803430c4873" category="cell">ONTAP</block>
  <block id="67c6ecbcd91c613e8659b3f0c4b01510" category="cell">9.9.1</block>
  <block id="8bec4fb7fbc1430e393d3f41063748e7" category="cell">DGX OS</block>
  <block id="43ff194f410f3e93a8680bef5ba51e50" category="cell">5.1</block>
  <block id="1b13fe3d4acac980a061d9efb92000d5" category="cell">DOTK</block>
  <block id="d233662f9c26d1a06118c93ef2fd1de9" category="cell">2.0.00.0</block>
  <block id="76e535c7d7533499b0d86f60a0d15b84" category="section-title">NVIDIA Riva軟體</block>
  <block id="719d067b229178f03bcfa1da4ac4dede" category="cell">軟體</block>
  <block id="5d7bf724a19463b3251c61a94a446c4c" category="cell">&gt;19.02（安裝NVIDIA泊塢視窗）&gt;=19.03（若未使用DGX）</block>
  <block id="3ff6010d41ffb33d6f0971a202e76ad7" category="cell">NVIDIA驅動程式</block>
  <block id="616120c1963dd46f2321dd37e823f8a0" category="cell">465.19.01 + 418.40 +、440.33 +、450.51 +、460.27 +（適用於資料中心GPU）</block>
  <block id="88f8128d405513d54a3e9831c73f87a0" category="cell">Container作業系統</block>
  <block id="73611f9a837b7a25dad3a9c5d1a98658" category="cell">Ubuntu 20.04</block>
  <block id="a33b7755e5f9b504d2d038eaca4ff28d" category="cell">CUDA</block>
  <block id="a26b47ba45087eadbeaa7c4802b3a8c8" category="cell">11.3.0</block>
  <block id="d92ef06e9564a9db573d075b4220057e" category="cell">cublas</block>
  <block id="a8a364c27ce7406b7be591b4f973d5bb" category="cell">11.5.1.101.</block>
  <block id="9bfd6cd63a5597c998aa2d96564f5c34" category="cell">CUDNN</block>
  <block id="15daa8f1432fd7e2b07f63097623dfab" category="cell">8.2.0.41</block>
  <block id="1ed15cc4178fd8ec4d845042a8f1ead0" category="cell">NCCL</block>
  <block id="f10585a0c5c8f535143471006baef867" category="cell">2.9.6</block>
  <block id="61918500e2bc645b2aea3f447086a8a5" category="cell">TensorRT</block>
  <block id="086934e5e95d3c797fc75f38fb3d086c" category="cell">7.2.3.4</block>
  <block id="d024876954df77538311467564f00917" category="cell">Triton Inference伺服器</block>
  <block id="0d6f7e6ce6f1553544acb14682c8eb07" category="cell">2.9.0</block>
  <block id="2efc85a476098fde0ecbf8d81505b612" category="section-title">NVIDIA TAO Toolkit軟體</block>
  <block id="cb6c22f673a55391483c7f040d8cf637" category="cell">Ubuntu 18.04 LTS</block>
  <block id="4077fabc9a8b0e761cfd9bf752e03c8a" category="cell">18.04</block>
  <block id="23eeeb4347bdd26bfc6b7ee9a3b755dd" category="cell">Python</block>
  <block id="c80362c25c18981fcf433e78dda5de78" category="cell">&gt;=3.6.9</block>
  <block id="aec7ff22e2f74b581cffbfa59e63f347" category="cell">Docker</block>
  <block id="21ca3af3ea5e6a282911a64dbf5ced7a" category="cell">&gt;19.03.5</block>
  <block id="0cf76d9b00333f4396d0424ae164dd07" category="cell">Docker API</block>
  <block id="ca2b7e7213f7ba5d4b3923e807af27df" category="cell">1.40</block>
  <block id="ad2f80b0463af47fcb7430e0e1789841" category="cell">nvidia-container工具套件</block>
  <block id="12b58130c1d9383cf3bf63391bd04721" category="cell">&gt;1.3.0-1</block>
  <block id="cec57b9746d41fd1c1749d591dbd7baf" category="cell">nvidia-container執行時間</block>
  <block id="68b90d96e3d934d65890ff695d37f354" category="cell">3.4.0-1</block>
  <block id="f235b98dbe494fca328354abf0b52858" category="cell">nvidia-docker2</block>
  <block id="10439f6f665bce43173e2871a0b7bfc6" category="cell">2.5.0-1</block>
  <block id="fd3811d814e856dc6a43152673bb6753" category="cell">NVIDIA驅動程式</block>
  <block id="06c61cdd8c93e750b3e0d4e2537416ea" category="cell">&gt;455</block>
  <block id="b6da1806d8ccb5327c3d80bbcfea4737" category="cell">Python-pip</block>
  <block id="7b043cb99d00fe56df3fead569b1a4de" category="cell">&gt;21.06.</block>
  <block id="3bdf92e45d10e51e2bdc2b16cf33f345" category="cell">nvidia-pyindex</block>
  <block id="9ca445b9db010a99239196af5ac3a8b9" category="cell">最新版本</block>
  <block id="cf87f69879c53ebf670ee8bd793ad7ba" category="section-title">使用案例詳細資料</block>
  <block id="3d1aa46be43bf2f29633e829d42082af" category="list-text">語音對文字</block>
  <block id="7cb906d40b2e5bad2205a60ef8b6a019" category="list-text">情緒分析</block>
  <block id="52a38da70697d6c80e3b6a204f64263f" category="paragraph"><block ref="52a38da70697d6c80e3b6a204f64263f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a8ff4a485cc084b2a4b5bb829cf18055" category="paragraph">語音對文字的使用案例、是從擷取支援中心的音訊檔案開始。然後處理此音訊、以符合Riva所需的結構。如果音訊檔案尚未分割成分析單位、則必須先將音訊傳送至Riva。音訊檔案處理完畢後、會以API呼叫的形式傳送至Riva伺服器。伺服器採用其託管的眾多機型之一、並傳回回應。此語音對文字（自動語音辨識的一部分）會傳回音訊的文字呈現。之後、管線會切換至「意見分析」部分。</block>
  <block id="230007c23660d290efdea5586b1716aa" category="paragraph">對於情緒分析、自動語音辨識的文字輸出可做為文字分類的輸入。文字分類是NVIDIA元件、可將文字分類為任何類別。支援中心對話的感受類別從正面到負面、您可以使用套管套件來評估模型的效能、以判斷微調步驟是否成功。</block>
  <block id="3390cebd79348bc76a1e5eb5f169bedf" category="paragraph"><block ref="3390cebd79348bc76a1e5eb5f169bedf" category="inline-image-macro-rx" type="image"></block></block>
  <block id="952b3f5758e644ef2558d59d3aace0b1" category="inline-link">NVIDIA NGC目錄</block>
  <block id="4fa0a0d712258621946173068bf4f7e0" category="paragraph">TAO工具套件中的語音對文字和情緒分析也使用類似的管道。主要差異在於使用標籤來微調模型。TAO工具套件管道從資料檔案的處理開始。然後是預先訓練的模型（來自<block ref="aaddb3bb47bcb0ca6e2a55cdce808e9b" category="inline-link-rx"></block>）使用支援中心資料進行微調。系統會根據其對應的效能指標來評估微調模型、如果它們的效能比預先訓練的模型更高、則會部署到Riva伺服器。</block>
  <block id="587796d49571c1c4d5c89993d7ed01dd" category="inline-link-macro">下一步：設計考量。</block>
  <block id="1165e49145cd3a7ebc2b75e325d8797a" category="paragraph"><block ref="1165e49145cd3a7ebc2b75e325d8797a" category="inline-link-macro-rx"></block></block>
  <block id="4b737f96f31f513a87adcf43b83ec3a1" category="summary">本頁說明設定高效能叢集所需的步驟。</block>
  <block id="a81532d943508d42466c22d8d87bb4b8" category="doc">安裝及設定高效能叢集</block>
  <block id="ce3e1770b7ff86cfbc3a30a3e3ea87da" category="inline-link-macro">上一步：點選率預測使用案例摘要。</block>
  <block id="80bf56f9bff31f7459309b983fbf8116" category="paragraph"><block ref="80bf56f9bff31f7459309b983fbf8116" category="inline-link-macro-rx"></block></block>
  <block id="50f7d8213ee52350926ec407074e68f1" category="inline-link">建立一個高效能叢集</block>
  <block id="40e1cc9f8d9321cbe9c1ef090f926a2b" category="paragraph">若要安裝及設定AKS叢集、請參閱網頁<block ref="77c1c334ebc4c997080bda32aa569d69" category="inline-link-rx"></block> 然後完成下列步驟：</block>
  <block id="ad4af0825dd4979b7f48ae5ba031b23a" category="list-text">選取節點類型（系統[CPU]或工作者[GPU]節點）時、請選取下列項目：</block>
  <block id="5a244a81080ee9fc08696fcbd45284e5" category="list-text">主系統節點應為標準DS2v2（「agentpool」預設三個節點）。</block>
  <block id="f3449ebebbf547282aa0562015bd360d" category="list-text">然後為名為「gp池」的使用者群組（GPU節點）新增工作節點Standard_NC6s_v3集區（最少三個節點）。</block>
  <block id="d3d648c68589ef99efb6ad3ec15d1beb" category="paragraph"><block ref="d3d648c68589ef99efb6ad3ec15d1beb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d2efc2b95642d4bcc76c710a3826225c" category="list-text">部署需要5到10分鐘。完成後、按一下「Connect to Cluster（連線至叢集）」。</block>
  <block id="31797d7013400422e5d589ae3d91c79a" category="list-text">若要連線至新建立的高層叢集、請從您的本機環境（筆記型電腦/電腦）安裝下列項目：</block>
  <block id="87e009e80a344ecb598be4c4bbe01c79" category="inline-link">針對您的特定作業系統所提供的說明</block>
  <block id="13a6d4f4230d0a1569b719c15884d447" category="list-text">Kubernetes命令列工具使用<block ref="ad2337a31b7d16867fc954b03de661bd" category="inline-link-rx"></block></block>
  <block id="24a109d7bba4f8808eeb0bcf64d4357b" category="inline-link">安裝Azure CLI</block>
  <block id="7feed8a8a6c680e7beeca052b9fc9ed0" category="list-text">Azure CLI、如文件所述、<block ref="8e2043d81b680dba324c5a2abbee7b3f" category="inline-link-rx"></block></block>
  <block id="d33a4b8acf4001a4b35a2186fd020432" category="list-text">若要從終端機存取高層叢集、請輸入「AZ登入」並輸入認證資料。</block>
  <block id="3394029cd334ed00686c86c088d73c24" category="list-text">執行下列兩個命令：</block>
  <block id="402ff6cff3671c1f49dc4af765835c14" category="list-text">輸入「Azure CLI：kubecl Get nodes」。</block>
  <block id="4e5d89028ffbf65df6693ef1affd6573" category="list-text">如果所有六個節點都已啟動並執行、如下列範例所示、則您的高效能叢集已就緒並連線至本機環境</block>
  <block id="6b935f22371497abfe5378d4446df0da" category="paragraph"><block ref="6b935f22371497abfe5378d4446df0da" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e57b7e32f49f0297d6c7524d1da1b3c0" category="inline-link-macro">下一步：建立Azure NetApp Files 委派子網路以供使用。</block>
  <block id="46b5942a33ef6a130ca5fee3f6017bec" category="paragraph"><block ref="46b5942a33ef6a130ca5fee3f6017bec" category="inline-link-macro-rx"></block></block>
  <block id="9dc7cfc5bd8fb85bad9fdab5cdded288" category="doc">執行：AI安裝</block>
  <block id="c1b7d088e01f6ec6ec89bf69437e4bb1" category="paragraph">若要安裝Run：AI、請完成下列步驟：</block>
  <block id="7ad0483bc07dbde29ffd404af83f8305" category="list-text">使用DeepOps安裝Kubernetes叢集、並設定NetApp預設儲存類別。</block>
  <block id="16d20d34f759cd25fd7486bbc4046a50" category="list-text">準備GPU節點：</block>
  <block id="d3eff3861b26ba61222bacaa41bc0fa7" category="list-text">確認GPU節點上已安裝NVIDIA驅動程式。</block>
  <block id="3683aa7fe695a205b8e40e9589c94a2e" category="list-text">確認「nvidia-Docker」已安裝並設定為預設的泊塢視窗執行時間。</block>
  <block id="cef990020518a58fb1e70a90b5df80fe" category="list-text">安裝執行：AI：</block>
  <block id="e2d6778a342979b567501f951e36118a" category="inline-link">執行：AI管理UI</block>
  <block id="6fc7ea9b01c6028f691aac2aeac528f1" category="list-text">登入<block ref="668d940d94d02be49a88c4cfd2736fa9" category="inline-link-rx"></block> 以建立叢集。</block>
  <block id="fe8f08cfda6726e2dcc5d0b85ed2c67d" category="list-text">下載建立的「runai-oper-&lt;clustername&gt;.yaml」檔案。</block>
  <block id="b428155da5c27d208abd6c179c7669d3" category="list-text">將操作員組態套用至Kubernetes叢集。</block>
  <block id="fac4447e0ea2e4cd1a2d9e2fefeab694" category="list-text">驗證安裝：</block>
  <block id="d63ebd1b7a89c0dad6259299d710b16e" category="inline-link"><block ref="d63ebd1b7a89c0dad6259299d710b16e" category="inline-link-rx"></block></block>
  <block id="2d14c64dc5dfa79a68cd6965fbf9e4b7" category="list-text">前往<block ref="115d2727bd1dc614110a31f98c029830" category="inline-link-rx"></block>。</block>
  <block id="feb48a27d95fc7a7e0c6db496c54d2fa" category="list-text">前往「總覽」儀表板。</block>
  <block id="09fa3891e2b39bb62217c6d097310577" category="inline-link">在內部部署Kubernetes叢集上安裝Run:AI</block>
  <block id="45d7be937e1eddf966adaf68562966d4" category="inline-link">安裝Run:AI CLI</block>
  <block id="728f8fd776de1dc47f318473052286db" category="list-text">確認右上角的GPU數量反映出GPU的預期數量、而GPU節點全都列在伺服器清單中。如需執行：AI部署的詳細資訊、請參閱<block ref="089aa48f8d7b3b135b035765dd1e17ba" category="inline-link-rx"></block> 和<block ref="f2f48a2074c9edc0c2dea174863a4f6e" category="inline-link-rx"></block>。</block>
  <block id="db9d1f740f050b1d20ab43a459bb225a" category="inline-link-macro">下一步：執行AI儀表板和檢視</block>
  <block id="c56b5d251d18e9b020f95696fef9f0b9" category="paragraph"><block ref="c56b5d251d18e9b020f95696fef9f0b9" category="inline-link-macro-rx"></block></block>
  <block id="e2b5e920360785877a1831ff4b128520" category="summary">NetApp設定</block>
  <block id="ad2376beebecdcf7846ba973fa1a005b" category="doc">設定</block>
  <block id="9af8334f3fca73145524498c2f49ee10" category="inline-link-macro">下一步：總覽</block>
  <block id="02e8a07ffc2e2c5240049e5214d70427" category="paragraph"><block ref="02e8a07ffc2e2c5240049e5214d70427" category="inline-link-macro-rx"></block></block>
  <block id="c2ae2e58baf01933984b63bbfd58c6c2" category="summary">本節說明在Kubernetes叢集中部署氣流時、必須完成的工作。</block>
  <block id="7d2a9e50f39ee00c2b180900e7bacc92" category="doc">Apache Airflow部署</block>
  <block id="f23c532f744716d23270b963c3eca570" category="paragraph">NetApp建議在Kubernetes上執行Apache Airflow。本節說明在Kubernetes叢集中部署氣流時、必須完成的工作。</block>
  <block id="1874d60ac69d2a867825b1b7ab0f9297" category="admonition">您可以在Kubernetes以外的平台上部署氣流。在Kubernetes以外的平台上部署氣流、不在本解決方案的範圍之內。</block>
  <block id="ee68e5b99222bbc29a480fcb0d1d6ee2" category="section-title">先決條件</block>
  <block id="e5595c75c723712666f834213ee6568f" category="paragraph">在您執行本節所述的部署練習之前、我們假設您已經執行下列工作：</block>
  <block id="c7a7dda60a4edd19d3b5bad13d43d605" category="list-text">您已經擁有有效的Kubernetes叢集。</block>
  <block id="e59b39fd5c122dde3747561247eb2888" category="list-text">您已經在Kubernetes叢集中安裝並設定NetApp Trident、如「NetApp Trident部署與組態」一節所述。</block>
  <block id="ead9806c164633fcb334dc844a3d588f" category="section-title">安裝Helm</block>
  <block id="7586dbf5f3ac1a66383f6c201a17a341" category="inline-link">安裝說明</block>
  <block id="f9093f3279eca680041e957a2a0505dd" category="paragraph">我們使用適用於Kubernetes的常用套件管理程式Helm來部署氣流。部署氣流之前、您必須先在部署跨接主機上安裝Helm。若要在部署跳接主機上安裝Helm、請遵循<block ref="cf3f65305f288242c9d49061d26ec8ec" category="inline-link-rx"></block> 在官方Helm文件中。</block>
  <block id="72727333279dd1f9e8b63f969075bca8" category="section-title">設定預設Kubernetes StorageClass</block>
  <block id="124793fd2a85b1699a94b12bf4661758" category="inline-link-macro">Kubeflow部署</block>
  <block id="678c0949a1824bf54eba73ab0a2609d8" category="paragraph">在部署氣流之前、您必須在Kubernetes叢集中指定預設StorageClass。氣流部署程序會嘗試使用預設StorageClass來配置新的持續磁碟區。如果沒有將StorageClass指定為預設StorageClass、則部署將會失敗。若要在叢集內指定預設StorageClass、請遵循一節中所述的指示 <block ref="b868c02e3d390c0001190527c8f4ba0b" category="inline-link-macro-rx"></block>。如果您已在叢集內指定預設StorageClass、則可以跳過此步驟。</block>
  <block id="c7feb8d7350bb5372c4dd0dfc1383865" category="section-title">使用Helm來部署氣流</block>
  <block id="a781e1f3dbd7b5f15c3257febe820528" category="paragraph">若要使用Helm在Kubernetes叢集中部署氣流、請從部署跨接主機執行下列工作：</block>
  <block id="014e85e7f3bbdad1ad6f193e82d21755" category="inline-link">部署指示</block>
  <block id="fe1b26293aba127732d69bdc90866794" category="list-text">請遵循、使用Helm來部署氣流<block ref="e4140084ec840191180d755827375d89" category="inline-link-rx"></block> 以取得雜訊中心的官方氣流圖表。以下命令範例顯示如何使用Helm部署氣流。視您的環境和所需組態而定、視需要修改、新增及/或移除「custom-vales.yaml」檔案中的值。</block>
  <block id="fa7edbfc4d9facbb8db918116ff0ae46" category="list-text">確認所有的氣流網墊都已啟動且正常運作。所有Pod可能需要幾分鐘的時間才能啟動。</block>
  <block id="9bb040ffef8c89d0861be81732ca17de" category="list-text">請依照步驟1中使用Helm部署氣流時列印至主控台的指示、取得氣流Web服務URL。</block>
  <block id="0db6a8f601b49c6c3780b668eac398a8" category="list-text">確認您可以存取氣流Web服務。</block>
  <block id="6a8e19652a540e359304ba812d39ea8e" category="paragraph"><block ref="6a8e19652a540e359304ba812d39ea8e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="99c61a2c4480337fdf852f9dbe8a8863" category="inline-link-macro">下一步：Apache氣流工作流程範例。</block>
  <block id="d719776b249ed9e7109b922484d474a2" category="paragraph"><block ref="d719776b249ed9e7109b922484d474a2" category="inline-link-macro-rx"></block></block>
  <block id="3642f282b12269091ab196a3aabf0858" category="summary">Trident作業範例</block>
  <block id="7f41e102595a65d30401b887b75060a4" category="paragraph">本節包含您可能想要使用Trident執行的各種作業範例。</block>
  <block id="5a95bc44d2d93c77b65585a52a71d631" category="section-title">匯入現有Volume</block>
  <block id="37e60d34ab15afa59aac0989309fc77a" category="paragraph">如果您的NetApp儲存系統/平台上有您要掛載到Kubernetes叢集內的容器上的現有磁碟區、但這些磁碟區並未繫結到叢集中的PVCS、則您必須匯入這些磁碟區。您可以使用Trident Volume匯入功能匯入這些Volume。</block>
  <block id="f363c1a10e150fdee0f4f310a06acb5e" category="inline-link-macro">Trident後端範例、適用於ONTAP AI部署</block>
  <block id="8f811f6151a10e9d15de57c2af8fcfed" category="inline-link">Kubernetes官方文件</block>
  <block id="40ef3fb23e015d9b4b46a16fa50f10d3" category="inline-link">Trident文件</block>
  <block id="4330c34147b36030c50afe1d04ec2213" category="paragraph">以下的命令範例顯示兩次匯入同一個磁碟區、名稱為「PB_FP_ALL」、一次匯入在本節範例中建立的每個Trident後端 <block ref="5ce2b96729b1637e197bdd36eb4db4ee" category="inline-link-macro-rx"></block>步驟1.以這種方式匯入相同的磁碟區兩次、可讓您在FlexGroup 不同的生命週期內多次掛載該磁碟區（現有的一套）、如一節所述 <block ref="5ce2b96729b1637e197bdd36eb4db4ee" category="inline-link-macro-rx"></block>步驟1.如需PVCS的詳細資訊、請參閱<block ref="ca589c3cf5b20ae0a636e2b7691f2873" category="inline-link-rx"></block>。如需Volume匯入功能的詳細資訊、請參閱<block ref="e6b3671f5db59046617458d31ef4f50b" category="inline-link-rx"></block>。</block>
  <block id="313da63dfeb95842dd6a105fdcf40ebc" category="paragraph">在範例的PVc規格檔案中、會指定「存取模式」值「ReadOnlyMany」。如需「存取模式」欄位的詳細資訊、請參閱<block ref="ca589c3cf5b20ae0a636e2b7691f2873" category="inline-link-rx"></block>。</block>
  <block id="6631bf64346739a9880a9789a941a8d6" category="inline-link-macro">Kubernetes StorageClass範例ONTAP 、可用於進行AI部署</block>
  <block id="e6d82e60d43fe02e01930addfe670e8f" category="admonition">下列匯入命令範例中所指定的後端名稱、會對應至本節範例中所建立的後端 <block ref="5ce2b96729b1637e197bdd36eb4db4ee" category="inline-link-macro-rx"></block>步驟1.下列範例PVc定義檔中所指定的StorageClass名稱、會對應至本節範例中所建立的StorageClass <block ref="6d8c8eb29a4e4c3a50119b70d2e8171e" category="inline-link-macro-rx"></block>步驟1.</block>
  <block id="533fff63e0b7486b2768ad15b5e2981c" category="section-title">配置新Volume</block>
  <block id="e149d2e1fdb31ad28f79dd3d2c7ee8ff" category="paragraph">您可以使用Trident在NetApp儲存系統或平台上配置新磁碟區。下列命令範例顯示新FlexVol 的供應功能。在此範例中、磁碟區是使用本節範例中所建立的StorageClass進行資源配置 <block ref="6d8c8eb29a4e4c3a50119b70d2e8171e" category="inline-link-macro-rx"></block>步驟2：</block>
  <block id="78b7c8c28867630a421236d6f1ff9ba3" category="paragraph">以下範例的PVc定義檔中指定「存取模式」值「ReadWriteMany」。如需「存取模式」欄位的詳細資訊、請參閱<block ref="ca589c3cf5b20ae0a636e2b7691f2873" category="inline-link-rx"></block>。</block>
  <block id="c515da31cebf8cf63b394c59f3f5f2c0" category="inline-link-macro">下一步：ONTAP 適用於AI部署的高效能工作範例總覽。</block>
  <block id="5c11e6d83807487f2c41bd48dc524734" category="paragraph"><block ref="5c11e6d83807487f2c41bd48dc524734" category="inline-link-macro-rx"></block></block>
  <block id="3ad0505876550699ce505845f96683a7" category="doc">使用NetApp Cloud Sync 解決方案將對話記錄歸檔</block>
  <block id="5b7a8a379330d9d43907b47a6d7ee306" category="inline-link-macro">使用Nemo訓練來擴充Intent模式</block>
  <block id="a7e4c14a726c28e6cb4b935701ac2899" category="paragraph">透過將對話歷史記錄一天轉存至CSV檔案一次、我們就能利用Cloud Sync 效益分析將記錄檔下載至本機儲存設備。下圖顯示將JARVIS部署在內部部署和公有雲中的架構、同時使用Cloud Sync 效益分析功能將對話記錄傳送給Nemo訓練。如需Nemo訓練的詳細資料、請參閱一節 <block ref="14a0a4dd1a1c18cba42b2036fe4dfc33" category="inline-link-macro-rx"></block>。</block>
  <block id="e60c4461b2b4dcf3aa8535e3aab780b3" category="paragraph"><block ref="e60c4461b2b4dcf3aa8535e3aab780b3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="00717575e300ae9f18fa0a24d97bcca5" category="inline-link-macro">下一步：使用Nemo訓練來擴充Intent模式</block>
  <block id="7ee8a10f8da0d566f0c5cccb9528b186" category="paragraph"><block ref="7ee8a10f8da0d566f0c5cccb9528b186" category="inline-link-macro-rx"></block></block>
  <block id="33204bfa9ee287508f03782fd7ad512e" category="summary">您必須先建立一或多個Kubernetes StorageClass、才能使用Trident在Kubernetes叢集中動態配置儲存資源。本頁的範例說明在ONTAP 將NetApp AI Control Plane解決方案部署到AI Pod上時、您可能會想要建立的不同類型StorageClass。</block>
  <block id="d9206a5144976221af82df78ad3d7977" category="paragraph">您必須先建立一或多個Kubernetes StorageClass、才能使用Trident在Kubernetes叢集中動態配置儲存資源。以下範例代表在ONTAP 將NetApp AI Control Plane解決方案部署到AI Pod上時、您可能會想要建立的不同類型StorageClass。如需StorageClass的詳細資訊、請參閱<block ref="e6b3671f5db59046617458d31ef4f50b" category="inline-link-rx"></block>。</block>
  <block id="993143e7434e63409a07cf3e8c422505" category="list-text">NetApp建議為您在本節中建立的每個啟用FlexGroup的Trident後端、建立個別的StorageClass <block ref="5ce2b96729b1637e197bdd36eb4db4ee" category="inline-link-macro-rx"></block>步驟1.這些精細的StorageClass可讓您新增對應於特定LIF（建立Trident後端時所指定的LIF）的NFS掛載、做為StorageClass規格檔案中指定的特定後端。以下命令範例顯示建立兩個StorageClass的方式、這兩個類別對應於本節中建立的兩個範例後端 <block ref="5ce2b96729b1637e197bdd36eb4db4ee" category="inline-link-macro-rx"></block>步驟1.如需StorageClass的詳細資訊、請參閱<block ref="e6b3671f5db59046617458d31ef4f50b" category="inline-link-rx"></block>。</block>
  <block id="d9348d075dc7b3c91cff99d56dfc327b" category="inline-link">Kubernetes文件</block>
  <block id="a596fcc71d1c43e3ba86b1557ac7af81" category="paragraph">因此當刪除對應的PersistentVolume Claim（PVc）時、不會刪除持續磁碟區、以下範例使用「回收原則」值「保留」。如需「回收政策」欄位的詳細資訊、請洽相關官員<block ref="2b8f9bbf9efeff879b3debc5484f0056" category="inline-link-rx"></block>。</block>
  <block id="f053cb3a491d2bc48d41230b10a9b164" category="list-text">NetApp也建議您建立與您在本節中建立的具有FlexVol功能的Trident後端相對應的StorageClass <block ref="5ce2b96729b1637e197bdd36eb4db4ee" category="inline-link-macro-rx"></block>步驟2：以下命令範例顯示建立FlexVol 單一StorageClass for the餐廳。</block>
  <block id="99608a01905f0e69895bbb864a0deba3" category="paragraph">在下列範例中、由於只建立一個具有FlexVol功能的Trident後端、因此不會在StorageClass定義檔案中指定特定的後端。當您使用Kubernetes來管理使用此StorageClass的磁碟區時、Trident會嘗試使用任何使用「ONTAP-NAS」驅動程式的可用後端。</block>
  <block id="ee1d27a4ae3e30ff30ef72e305b029e7" category="list-text">NetApp也建議建立FlexGroup 通用StorageClass以供參考Volume使用。下列命令範例顯示建立FlexGroup 單一通用StorageClass for the餐廳。</block>
  <block id="d4a43a35c5d5a5ce3aefe77ceaa73a5c" category="paragraph">請注意、StorageClass定義檔案中未指定特定的後端。因此、當您使用Kubernetes來管理使用此StorageClass的磁碟區時、Trident會嘗試使用任何使用「ONTAP-NAS-flexgroup」驅動程式的可用後端。</block>
  <block id="b569e24403ad128c09e2d0dbd0116463" category="inline-link-macro">下一步：Kubeflow部署總覽。</block>
  <block id="66f5564ed29f37f0b81d2dde741b9c8f" category="paragraph"><block ref="66f5564ed29f37f0b81d2dde741b9c8f" category="inline-link-macro-rx"></block></block>
  <block id="354967c7509f48d7d8a6d2845803bfbc" category="summary">您可以調整用於驗證的設定、以符合其他使用案例。</block>
  <block id="c4236be1a211aab0c15476d08b3e7e0c" category="doc">架構規模調整選項</block>
  <block id="ac0ec60d36dfa69ed9c33bff90080b23" category="inline-link-macro">上一篇：測試結果。</block>
  <block id="389a3124af7d4b9dc7165b05fd96a378" category="paragraph"><block ref="389a3124af7d4b9dc7165b05fd96a378" category="inline-link-macro-rx"></block></block>
  <block id="9d8c4ebebb4b789e6ec48dda7ac54406" category="section-title">運算伺服器</block>
  <block id="1b3bfec82c01730e4379631c5f74db2d" category="paragraph">我們使用Intel Xeon D-2123IT CPU、這是SE350支援的最低CPU層級、有四個實體核心和60W TDP。雖然伺服器不支援更換CPU、但可以訂購更強大的CPU。支援的最高CPU是Intel Xeon D-2183IT、採用16核心、100W執行速度為2.20GHz。如此可大幅提升CPU的運算能力。雖然CPU本身並不是執行推斷工作負載的瓶頸、但它有助於資料處理及其他與推斷相關的工作。目前、NVIDIA T4是唯一適用於邊緣使用案例的GPU、因此目前無法升級或降級GPU。</block>
  <block id="928fe421f0c735b90f3b3ec353741235" category="section-title">共享儲存設備</block>
  <block id="ba49c21e7aa335a8ea452042c02f306a" category="paragraph">在測試與驗證方面AFF 、NetApp RandomC190系統的儲存容量上限為50.5 TB、循序讀取的處理量為4.4GBps、小型隨機讀取的處理量為230K IOPS、經證實非常適合邊緣推斷工作負載。</block>
  <block id="25297dbc8df2aecff2fa2e9e47638d35" category="inline-link">NetApp AFF 產品-A250</block>
  <block id="44114b1635cead15f56735bad0467251" category="inline-link">NetApp EF300</block>
  <block id="bb33c803e43b816786d862bbbbf2c824" category="paragraph">不過、如果您需要更多儲存容量或更快的網路速度、您應該使用NetApp AFF 知識庫A220或<block ref="03f94a30ec5c979321fdd9a1ba99a1c6" category="inline-link-rx"></block> 儲存系統：此外、NetApp EF280系統的最大容量為1.5PB、頻寬為10Gbps、也用於本解決方案驗證。如果您偏好以更高頻寬提供更多儲存容量、<block ref="ab4f2e0c1e56faa457a7a1f93253a647" category="inline-link-rx"></block> 可以使用。</block>
  <block id="fdd5191dcc2e7fa6e2ec4d0618cf2a40" category="paragraph"><block ref="fdd5191dcc2e7fa6e2ec4d0618cf2a40" category="inline-link-macro-rx"></block></block>
  <block id="9d2ca817bb7dd69d6f7dc09932a53524" category="summary">NetApp人工智慧解決方案是一套策略性與技術解決方案、可在所有AI/ML空間中展現NetApp儲存設備的功能。</block>
  <block id="b54a1e289898cf21f63715dfe64025b7" category="doc">NetApp人工智慧解決方案</block>
  <block id="321cf11d6ad313e01614cfa7817893fb" category="doc">JARVIS部署</block>
  <block id="24a0684c018bf0ed5e7001773d8df2c5" category="inline-link">JARVIS早鳥方案</block>
  <block id="55ce258288b89404cc493de8c839e20a" category="paragraph">您可以註冊<block ref="de4a7b23900edb1996cbcb27f4a65904" category="inline-link-rx"></block> 以存取NVIDIA GPU Cloud（NGC）上的JARVIS容器。從NVIDIA接收認證之後、您可以使用下列步驟來部署JARVIS：</block>
  <block id="e5a6dabbbe3f9144d9f6e72b568893cd" category="list-text">登入NGC。</block>
  <block id="a668e3da095eca41ef93e0c494a6ebad" category="list-text">將您的組織設在NGC：「ea - 2-jarvis」。</block>
  <block id="f3b0315f8d213517a6076eb7aff49cb6" category="list-text">找到JARVIS EA v0.2資產：JARVIS Container位於「Private登錄」&gt;「Organization Container」中。</block>
  <block id="6db8e9899d42bcac6aeb824da5e952ef" category="list-text">選取「JARVIS：導覽至「模型指令碼」、然後按一下「JARVIS快速入門」</block>
  <block id="737af365257800065a6412e56d652acc" category="list-text">確認所有資產都能正常運作。</block>
  <block id="8a5fd124171d01a74b1af73e73ab7761" category="list-text">尋找建立您自己應用程式的文件：PDF可在「模型指令碼」&gt;「JARVIS文件」&gt;「檔案瀏覽器」中找到。</block>
  <block id="f3e3b1e7550f6cf9fe883b01695163b7" category="inline-link-macro">下一步：針對零售使用案例自訂狀態和流程</block>
  <block id="3ae7e712d75bd01d43546679548a28a1" category="paragraph"><block ref="3ae7e712d75bd01d43546679548a28a1" category="inline-link-macro-rx"></block></block>
  <block id="37e875b843ef9539c02d09d3bbee6668" category="doc">第4.8節的測試詳細資料</block>
  <block id="638c2d891d4e85bcfae409499fba817c" category="inline-link-macro">透過過度配額GPU配置、實現高叢集使用率</block>
  <block id="d9ed812c8dd9083f1fb345425b8ce100" category="paragraph">本節包含本節的測試詳細資料 <block ref="fdc629b29ea94e672f68b28bf3b661b4" category="inline-link-macro-rx"></block>。</block>
  <block id="be53a0541a6d36f6ecb879fa2c584b08" category="cell">映像</block>
  <block id="c6e328a3639bc00374d81e681f89f609" category="cell">Jupyter</block>
  <block id="ff8bed43ac09b1148fc7648f5845f698" category="cell">1/4</block>
  <block id="37ce74088416f28dc9bb04355c2e5a28" category="cell">–</block>
  <block id="cfaa375bf6c7f9fcc1bc04d4f30c9154" category="cell">NetApp</block>
  <block id="6408e079aefee9702aa00f77228dd941" category="cell">2/4.</block>
  <block id="00833fac70036c049bd75443869cacb5" category="cell">執行：AI</block>
  <block id="d2313e844e73fe4a8f63d93f4df355fc" category="cell">使用所有配額</block>
  <block id="e95e1ca27d0e39aa03eb5a611ce4122f" category="cell">0.6</block>
  <block id="e4275e3860ed32f489dbb6a5d4a10f5f" category="cell">0.6/2.</block>
  <block id="8457d97e0a0f74a5926d1dee27e53541" category="cell">部分GPU</block>
  <block id="54fbf38cf649866815e0fefc46a1f6c7" category="cell">0.4</block>
  <block id="975ca8804565c1a569450d61090b2743" category="cell">1/2</block>
  <block id="c3a4885d143dc5b306446fb380c6cfda" category="cell">4/2.</block>
  <block id="411472b1216ec08457e653eac42d7bbd" category="cell">超過配額2個</block>
  <block id="d310cb367d993fb6fb584b198a2fd72c" category="cell">0.5</block>
  <block id="76169512ef5ca1abe70b32c0993856af" category="cell">0.5/2.</block>
  <block id="e85b79abfd76b7c13b1334d8d8c194a5" category="cell">0.3</block>
  <block id="5c2b079fc9750c2995852b8fb354aae3" category="cell">0.8/2.</block>
  <block id="3d522deaf85577451c01974654b36ad3" category="cell">0.2</block>
  <block id="00fd1da21e8b4ef31d987665dc575099" category="cell">3/2.</block>
  <block id="0375b76ff57435094e28e94015a5f052" category="cell">一個超出配額</block>
  <block id="ecdb9acc2db02134680a9c49abe3e991" category="cell">4/8.</block>
  <block id="30c006c71ada68e2273b128bc2e6831b" category="cell">使用一半配額</block>
  <block id="36cf0dc9f04c54214fa577ec66ff53fc" category="paragraph">命令結構：</block>
  <block id="7b3a4ccf5e0cc7918cd458f7e46b9c8e" category="paragraph">測試中使用的實際命令順序：</block>
  <block id="478eb1c4e698b325048b6bccfb8974f6" category="cell">4/4（軟配額/實際分配）</block>
  <block id="2df6f557cc57e6d4044b9611b1f56439" category="inline-link-macro">透過過度配置GPU來實現高叢集使用率</block>
  <block id="3667ebc7f28f59fc13bfcf314c67de05" category="paragraph">請參閱一節 <block ref="dee5d16c649661a62d3a765af5b1a963" category="inline-link-macro-rx"></block> 以討論後續的測試案例。</block>
  <block id="ac8466404b94a669f51a3d2db2401cf0" category="inline-link-macro">下一步：第4.9節的測試詳細資料</block>
  <block id="84b7d04f598931bc149a92c543d3146f" category="paragraph"><block ref="84b7d04f598931bc149a92c543d3146f" category="inline-link-macro-rx"></block></block>
  <block id="3993b517d983222c5b766976180367f0" category="inline-link-macro">上一步：何處可找到其他資訊。</block>
  <block id="7d5fc90090e6ef28f1b090f458e3bb91" category="paragraph"><block ref="7d5fc90090e6ef28f1b090f458e3bb91" category="inline-link-macro-rx"></block></block>
  <block id="248f830b158797f9c038ea35ea266b89" category="cell">2021年8月</block>
  <block id="0a37acabf89826767b5a5fcb8dacffa3" category="summary">本頁說明在Kubernetes叢集中部署Kubeflow所需完成的工作。</block>
  <block id="e560b8ed748180150ee1a196f2247fce" category="paragraph">本節說明在Kubernetes叢集中部署Kubeflow時、必須完成的工作。</block>
  <block id="7236436bac67d8eaadbf52811774b916" category="inline-link">官方Kubeflow文件</block>
  <block id="f48269a81318d4bd2dd9e57a8239fe56" category="list-text">您已經有一個正常運作的Kubernetes叢集、而且您正在執行Kubernetes支援的Kubernetes版本。如需支援版本的清單、請參閱<block ref="01b2e82a7080cdbeb934280240df876e" category="inline-link-rx"></block>。</block>
  <block id="3429b7e0331de8d2f8d377b034ca6855" category="inline-link-macro">Trident部署與組態</block>
  <block id="9fc644d78f21555decceeddf5b691fa4" category="list-text">您已在Kubernetes叢集中安裝及設定NetApp Trident、如所述 <block ref="ec7700e2b8d95edf2f2700b590eab273" category="inline-link-macro-rx"></block>。</block>
  <block id="e1be30d98edccc10974d5d339832197c" category="paragraph">在部署Kubeflow之前、您必須在Kubernetes叢集中指定預設StorageClass。Kubeflow部署程序會嘗試使用預設StorageClass來配置新的持續磁碟區。如果沒有將StorageClass指定為預設StorageClass、則部署將會失敗。若要在叢集內指定預設StorageClass、請從部署跨接主機執行下列工作。如果您已在叢集內指定預設StorageClass、則可以跳過此步驟。</block>
  <block id="e3e4fbe325df2b20670ca04ad0c2a517" category="list-text">將現有的其中一個StorageClass指定為預設StorageClass。以下命令範例顯示名為「ONTAP-AI - FlexVols - Retain」的StorageClass為預設StorageClass。</block>
  <block id="f830a6eea70ae3a0e7af4606462ad281" category="admonition">「ontap-non-flexgroup」Trident後端類型的最小PVc尺寸相當大。根據預設、Kubeflow會嘗試配置大小只有幾GB的PVCS。因此、您不應將使用「ONTAP-NAAS-Flexgroup」後端類型的StorageClass指定為Kubefflow部署的預設StorageClass。</block>
  <block id="f12aad36b1ab9194dd8bc67542366bff" category="section-title">使用NVIDIA DeepOps部署Kubeflow</block>
  <block id="3e1922d78dd7bdb1e8d7e7bd8f5aa92c" category="paragraph">NetApp建議使用NVIDIA DeepOps提供的Kubeflow部署工具。若要使用DeepOps部署工具在Kubernetes叢集中部署Kubeflow、請從部署跳接主機執行下列工作。</block>
  <block id="3ede8bc1f55c95b9a16b2429e0b9bbcc" category="admonition">或者、您也可以依照手動部署Kubeflow<block ref="c75d7e23bc80ca81cea11fe427173cb3" category="inline-link-rx"></block> 在正式的Kubeflow文件中</block>
  <block id="a73d6d865f72179145299c720c53d39c" category="inline-link">Kubeflow部署指示</block>
  <block id="04e3c704baa1b4c23cd48a18c10fcf39" category="list-text">遵循、在叢集中部署Kubeflow<block ref="5e7f04c1dfa70dd058d2720be031c44b" category="inline-link-rx"></block> 在NVIDIA DeepOps GitHub網站上。</block>
  <block id="2efdbab31c5d41a149e5092f4b8d7e48" category="list-text">記下DeepOps Kubeflow部署工具所輸出的Kubeflow儀表板URL。</block>
  <block id="b714a06d49f16f8b7f988d95734d177f" category="list-text">確認Kubeflow命名空間內部署的所有Pod均顯示「執行中」的「狀態」、並確認命名空間內未部署任何元件處於錯誤狀態。所有Pod可能需要幾分鐘的時間才能啟動。</block>
  <block id="d6049afd6b1943d1e98ca6347dd907c5" category="list-text">在網頁瀏覽器中、瀏覽至您在步驟2中記下的URL、即可存取Kubeflow中央儀表板。</block>
  <block id="64f559cf2e77f73aca6bd3dc9649f62c" category="paragraph">預設使用者名稱為「admin@kubeflow.org」、預設密碼為「12341234」。若要建立其他使用者、請遵循中的指示<block ref="f529217f090b2c9cc3764f14abdec5f7" category="inline-link-rx"></block>。</block>
  <block id="2d84920115f9dc91fe2d35c4dc07eaf0" category="paragraph"><block ref="2d84920115f9dc91fe2d35c4dc07eaf0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="defd49beb1345ee37b446e866e8b3420" category="inline-link-macro">下一步：Kubeflow作業與工作範例。</block>
  <block id="2ecf31480279823ef2aed30a0fc061f2" category="paragraph"><block ref="2ecf31480279823ef2aed30a0fc061f2" category="inline-link-macro-rx"></block></block>
  <block id="677b450634b1a6a563206526cb4d9075" category="doc">TR-4858：NetApp協調解決方案搭配Run:AI</block>
  <block id="0959ee1db60e15d1e8e42d1206ca6a19" category="paragraph">Rick Huang、David Arignette、Sung-HAN LIN、NetApp Yaron Goldberg、Run：AI</block>
  <block id="c87cafeb37457343ef978bbf8cad88b5" category="paragraph">NetApp AFF 供應極致效能與領先業界的混合雲資料管理功能。NetApp與Run：AI合作展示NetApp ONTAP SAI解決方案的獨特功能、適用於人工智慧（AI）與機器學習（ML）工作負載、提供企業級效能、可靠性與支援。執行：AI工作負載的AI協調功能可新增Kubernetes型排程與資源使用平台、協助研究人員管理及最佳化GPU使用率。NetApp、NVIDIA和Run:AI的結合解決方案結合NVIDIA DGX系統、提供專為企業AI工作負載所打造的基礎架構堆疊。本技術報告提供指引、協助客戶建立對話式AI系統、以支援各種使用案例和產業垂直市場。其中包含有關Run：AI和NetApp AFF Sof A800儲存系統部署的資訊、並可做為參考架構、以提供最簡單的方法、協助您快速成功地部署AI方案。</block>
  <block id="cae36004793b7131e0fc2323f598e7bb" category="list-text">企業架構設計師設計解決方案、以開發適用於Kubernetes型使用案例的AI模型和軟體、例如容器化微服務</block>
  <block id="5d138e1f42e31fb645a3e3f5a8d37929" category="list-text">資料科學家正在尋求高效率的方法、以便在具有多個團隊和專案的叢集環境中達成有效的模型開發目標</block>
  <block id="0d43a0c7aeec219a746e836746c0b208" category="list-text">負責維護和執行正式作業模式的資料工程師</block>
  <block id="00d764d2e91381a99d6f2c7b108e7c8e" category="list-text">想要創造最佳Kubernetes叢集資源使用體驗、並從AI計畫中獲得最快上市時間的高階主管與IT決策者及企業領導者</block>
  <block id="7a83f363d45e73d7915a600e1bbc92ba" category="inline-link-macro">下一步：解決方案總覽</block>
  <block id="29d90e44a805022079f5ad8bc748f89f" category="paragraph"><block ref="29d90e44a805022079f5ad8bc748f89f" category="inline-link-macro-rx"></block></block>
  <block id="dbb4dd9a11f48db13d63eedaae717fe5" category="doc">為Data科學團隊建立專案並分配GPU</block>
  <block id="22d09d229a06f294b0f45804f8e639d3" category="paragraph">研究人員可以透過Run:AI CLI、Kubeflow或類似程序來提交工作負載。為了簡化資源配置並建立優先順序、Run:AI引進專案概念。專案是配額實體、可將專案名稱與GPU配置和偏好設定建立關聯。這是管理多個資料科學團隊的簡易方法。</block>
  <block id="c0bd05e9d88cf015eac684873bfd14c7" category="paragraph">提交工作負載的研究人員必須將專案與工作負載要求建立關聯。Run:AI排程器會將要求與目前的配置和專案進行比較、並決定是否可以分配資源給工作負載、或是否應保持擱置狀態。</block>
  <block id="800f40fa67f69116bf6f38cd07456608" category="paragraph">身為系統管理員、您可以在「執行：AI專案」索引標籤中設定下列參數：</block>
  <block id="9c429f2284a95aaa299c7d85ccb16734" category="list-text">*模型專案。*設定每個使用者的專案、設定每個使用者小組的專案、以及針對真正的組織專案設定專案。</block>
  <block id="6b4330df9a37bcfef1faecd1e8973464" category="inline-link">過度配額的公平性</block>
  <block id="b2f1422cf0d082a495bbf865b9a5621d" category="list-text">*專案配額。*每個專案都會與GPU配額相關聯、以便同時分配給此專案。這是一個保證配額、因為無論叢集的狀態為何、使用此專案的研究人員都能獲得此數量的GPU。一般而言、專案配置的總和應等於叢集中的GPU數量。除此之外、此專案的使用者可能會收到過度配額。只要未使用GPU、使用此專案的研究人員就能取得更多GPU。我們在中示範過配額測試案例和公平考量<block ref="9563fd9ab6978412dc97d80a70e51786" category="inline-link-rx"></block>、<block ref="a8ad108feafc827856baa28b0b9070ed" category="inline-link-rx"></block>和<block ref="be867f64efefe193012b1dfc6c82f783" category="inline-link-rx"></block>。</block>
  <block id="20a3a45fbbd9502add12fd216350d569" category="list-text">建立新專案、更新現有專案、以及刪除現有專案。</block>
  <block id="3bf13b237342258b6ddb3f167d679a3b" category="inline-link">執行：AI文件</block>
  <block id="77332641abf52ec5dc1af8b23b2339f3" category="list-text">*限制在特定節點群組上執行工作*。您可以指派特定專案、僅在特定節點上執行。當專案團隊需要專用的硬體（例如有足夠的記憶體）時、此功能非常實用。或者、專案團隊可能是以專業預算購買的特定硬體擁有者、或是當您需要將建置或互動式工作負載導向較弱的硬體、並將較長的訓練或無人管理的工作負載導向較快的節點時。如需群組節點及設定特定專案關聯性的命令、請參閱 <block ref="eae60ce89b8727160634b52e7654bf73" category="inline-link-rx"></block>。</block>
  <block id="2bd802cca9bf193b441123437f5d39ca" category="list-text">*限制互動工作的持續時間*。研究人員經常忘了關閉互動工作。這可能會導致資源浪費。有些組織偏好限制互動工作的持續時間、並自動關閉。</block>
  <block id="10c2495ded559d79de96be22751712dc" category="paragraph">下圖顯示建立了四個團隊的專案檢視。每個團隊都會指派不同數量的GPU來處理不同的工作負載、GPU總數等於由兩個DGX-1組成的叢集中可用GPU總數。</block>
  <block id="9ba047faa1d241a6153be986be27097f" category="paragraph"><block ref="9ba047faa1d241a6153be986be27097f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c4804b15e4766599ceade052b5ca8af9" category="inline-link-macro">下一步：在Run AI CLI中提交工作</block>
  <block id="9c6088fad9917e07026030c1d3eaad09" category="paragraph"><block ref="9c6088fad9917e07026030c1d3eaad09" category="inline-link-macro-rx"></block></block>
  <block id="0e85d8fd0ce7acdba87f57325a14b3fb" category="summary">如前一節所述、只要有兩個或多個機器學習模式依序執行、錯誤就會傳播到整個管線中。對於此解決方案、句子的意涵是衡量公司股票風險等級的最重要因素。語音對文字模式雖然對管道至關重要、但在預測意見之前、仍是預先處理單位。</block>
  <block id="6700d3710d10e74d6e48f994b760d48b" category="doc">驗證結果</block>
  <block id="ee4eec78ae095f539af53c130e976afa" category="inline-link-macro">上一篇：部署支援中心意見分析。</block>
  <block id="ac96c8f3af95b93c2683c2124998e668" category="paragraph"><block ref="ac96c8f3af95b93c2683c2124998e668" category="inline-link-macro-rx"></block></block>
  <block id="2e10a4ae90aad11c07592a14fbf8c5c6" category="paragraph">如前一節所述、只要有兩個或多個機器學習模式依序執行、錯誤就會傳播到整個管線中。對於此解決方案、句子的意涵是衡量公司股票風險等級的最重要因素。語音對文字模式雖然對管道至關重要、但在預測意見之前、仍是預先處理單位。真正重要的是、基本真理句子與預測句子之間的情緒差異。這可做為字錯誤率（WER）的Proxy。語音對文字的準確度很重要、但WER並未直接用於最終的傳輸途徑指標。</block>
  <block id="0fc4c7871adf5db8dd2b13fc4c381da8" category="paragraph">這些情緒指標可針對每個句子的F1分數、回收和精準度進行計算。然後可以將結果彙總並顯示在混淆對照表中、以及每個指標的可信度間隔。</block>
  <block id="66554c8f1474c5658d17e23710901f98" category="paragraph">使用轉移學習的好處在於、模型效能的提升只需一小部分的資料需求、訓練時間和成本。此外、還應將微調模型與基礎版本進行比較、以確保傳輸學習能提升效能、而非損害效能。換句話說、微調模式應該比預先訓練的模式更能在支援中心資料上執行。</block>
  <block id="6e979ee914c9401fddd049d16cdef66a" category="section-title">管道評估</block>
  <block id="7f109f66c71a1fd15436d1c413354c41" category="cell">測試案例</block>
  <block id="e7f1ec3a5f35af805407a8a531eefb79" category="cell">測試編號</block>
  <block id="6bf1af9a7f1b6dd6cca4b7434097ad94" category="cell">管道觀感指標</block>
  <block id="beed3529b961c63b785104d7a17cf5f4" category="cell">測試先決條件</block>
  <block id="c7320b1f70fd8a9831e530d17a82f34d" category="cell">針對語音對文字和情緒分析模式進行微調</block>
  <block id="9d5b1bc6dcdedf0c8750e543fab75738" category="cell">預期結果</block>
  <block id="74015a89b882f01e94433a9c1f1c904c" category="cell">微調模型的觀感指標比原始的預先訓練模型更好。</block>
  <block id="68d279a19e31962e0ab0b648f25c07ee" category="list-text">計算基礎模式的感受指標。</block>
  <block id="b6168629c9e5a47b0637aa362112642d" category="list-text">計算微調模型的感受指標。</block>
  <block id="97ae5da5f745d90cf815a206b3549e0a" category="list-text">計算這些指標之間的差異。</block>
  <block id="fc997f472d1b5e66aadb364e10c29f4f" category="list-text">平均所有句子的差異。</block>
  <block id="c6b3b1378b2e31169a4a1cd4c20691c8" category="inline-link-macro">下一步：影片和示範。</block>
  <block id="6016219a0b0ad0bb3594f964b5e6396d" category="paragraph"><block ref="6016219a0b0ad0bb3594f964b5e6396d" category="inline-link-macro-rx"></block></block>
  <block id="c4c3630750312520bc4b93c16056bfd7" category="doc">NetApp EF系列AI搭配NVIDIA</block>
  <block id="e6ee072aeeb0647d8c0cfe75e4cde51d" category="paragraph">NetApp與NVIDIA的EF系列AI融合式基礎架構解決方案總覽。</block>
  <block id="0c3efd7c1aae12456ab9935ae5fd15e0" category="section-title">EF系列AI搭配NVIDIA DGX A100系統和BeeGFS</block>
  <block id="e7f098b026755d10f2c3f16d0ff0b1db" category="inline-link-macro">設計指南</block>
  <block id="f512fcc18626023378bfe28dce07116d" category="list-text"><block ref="f512fcc18626023378bfe28dce07116d" category="inline-link-macro-rx"></block></block>
  <block id="dfb1e9c5f4c5835e6e1a4173130a49c9" category="inline-link-macro">部署指南</block>
  <block id="ae02a3224f15623423f197426c44a26d" category="list-text"><block ref="ae02a3224f15623423f197426c44a26d" category="inline-link-macro-rx"></block></block>
  <block id="8ce1a272bf4c47418ea6d69083f2df4f" category="inline-link-macro">BeeGFS部署指南</block>
  <block id="7991adac41b3f0e292dee61e87c39052" category="list-text"><block ref="7991adac41b3f0e292dee61e87c39052" category="inline-link-macro-rx"></block></block>
  <block id="b8b9eab8c1ed7b79387652490f5724ec" category="doc">安裝Trident</block>
  <block id="4b022a47bb6a38cb1b05a5cbec618ccd" category="inline-link-macro">上一篇：Peer aks vnet和Azure NetApp Files vernet。</block>
  <block id="fec5fee1adce318e5e2f9ce6a66ccc02" category="paragraph"><block ref="fec5fee1adce318e5e2f9ce6a66ccc02" category="inline-link-macro-rx"></block></block>
  <block id="999aa3cd55c654beafcfa7653b65d339" category="paragraph">若要使用Helm安裝Trident、請完成下列步驟：</block>
  <block id="36cd38f49b9afa08222c0dc9ebfe35eb" category="inline-link">來源</block>
  <block id="9c5f8711af47a869d4ef82db9e55eda5" category="list-text">安裝Helm（如需安裝指示、請造訪<block ref="adf15389dc6d5fe4bd9024075437080f" category="inline-link-rx"></block>）。</block>
  <block id="f7c078ec85c617d77dfa95c309e4df1b" category="list-text">下載並解壓縮Trident 20.01.1安裝程式。</block>
  <block id="7ee913d1a8b01e1a461f9eb99b0bba74" category="list-text">將目錄變更為「Trident安裝程式」。</block>
  <block id="5729bb69ffc852a2e2757d743b7cb833" category="list-text">將「tridentctl」複製到系統「$path」中的目錄。</block>
  <block id="d7fc4d1537e4623fdcebe9b8ba333cbb" category="list-text">在Kubernetes（K8s）叢集上使用Helm（<block ref="cbc920955683fc4acb62f9ea7099333f" category="inline-link-rx"></block>）：</block>
  <block id="f515d7de4d597c284ba8042f699a0eab" category="list-text">將目錄變更為「helm」目錄。</block>
  <block id="27b4c36cae8d1c4fd515d289942c87cc" category="list-text">安裝Trident。</block>
  <block id="6ee4094e2c3617e3e298ec79f9dc2898" category="list-text">檢查Trident Pod的狀態。</block>
  <block id="30f93734da9765d3bc7d49ca89932736" category="paragraph">如果所有的Pod都已啟動並正在執行、則會安裝Trident、您可以繼續前進。</block>
  <block id="cde865911fa15995bc83db30d852300b" category="list-text">設定Azure NetApp Files 適用於高效能的不中斷端和儲存類別。</block>
  <block id="476fdb61358f28988640245a33bd9199" category="list-text">建立Azure服務原則。</block>
  <block id="5cdfb88cd634d9d0eb47237e3251d4bd" category="paragraph">服務宗旨是Trident如何與Azure溝通、以操控Azure NetApp Files 您的整套資源。</block>
  <block id="7c794fc1e683a6843753158bb92cab75" category="paragraph">輸出應如下所示：</block>
  <block id="253a9ccb0f0696ed79c174b388867829" category="list-text">建立Trident後端json檔案、例如名稱「anf-backend.json」。</block>
  <block id="c17b83e07524acc467ac01e42fa0ebdb" category="list-text">使用您偏好的文字編輯器、在「anf-backend.json」檔案中填寫下列欄位：</block>
  <block id="1197f8dc56b70115d87008dd2ecd3fca" category="list-text">請替換下列欄位：</block>
  <block id="b0b2134849d44712e969d6872e7245e5" category="list-text">《訂閱ID》。您的Azure訂閱ID。</block>
  <block id="7b42dbe86adeab0d66f36221b33bb0f4" category="list-text">「TenantId」。您的Azure租戶ID、來自上一步「AZ廣告服務」的輸出。</block>
  <block id="5a8bb8e509b4a424a1df50ef0bb41d89" category="list-text">"clientID"。您的應用程式ID來自前一步驟的「AZ廣告服務」輸出。</block>
  <block id="6334b606a5807346a083767eaab3934f" category="list-text">「客戶機密」。您的密碼來自上一步「AZ廣告服務」的輸出。</block>
  <block id="12104fe8975b3ce95324ec3cab160ffc" category="list-text">指示Trident使用Azure NetApp Files 「anf-backend.json」作為組態檔、在「Trident」命名空間中建立支援功能的後端：</block>
  <block id="d6d34c355bcd6b2efe2795a2aeedd247" category="paragraph"><block ref="d6d34c355bcd6b2efe2795a2aeedd247" category="inline-image-macro-rx" type="image"></block></block>
  <block id="004530c3d3b3f442f56243625372db1d" category="list-text">建立儲存類別。Kubernetes使用者透過PVCS來配置磁碟區、這些PVCS會依名稱指定儲存類別。指示K8s建立儲存類別「azurenetappfiless」、以參照上一步建立的Trident後端。</block>
  <block id="e777b114d6f12bc1190a60eaf8498e37" category="list-text">建立Yaml（「anf-storage - class.yaml」）檔案、以供儲存類別和複製。</block>
  <block id="01d45e8c6af153b1a477537e02466b5c" category="list-text">驗證是否已建立儲存類別。</block>
  <block id="445895be8456b7de5e864fc09994551a" category="paragraph"><block ref="445895be8456b7de5e864fc09994551a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2d3fec4cfe088bc80c2c2930f051b60b" category="inline-link-macro">下一步：使用Helm在高峰上設定dask、並進行快速部署。</block>
  <block id="f2d1f2f412dd744c26a147e39bfa708f" category="paragraph"><block ref="f2d1f2f412dd744c26a147e39bfa708f" category="inline-link-macro-rx"></block></block>
  <block id="d8b778c81ae11eb5edbd4291a3cf8fff" category="doc">技術總覽</block>
  <block id="91c847ff0ec1e96ccc74039eaf1b5bf3" category="section-title">NetApp總覽</block>
  <block id="d30aa8861afaf98888c2367f107a8bc6" category="paragraph">NetApp是混合雲的資料權威。NetApp提供全系列的混合雲資料服務、可簡化跨雲端和內部部署環境的應用程式與資料管理、加速數位轉型。NetApp與我們的合作夥伴一起、讓全球組織能夠充分發揮資料的完整潛能、以擴大客戶接觸點、促進更多創新、並最佳化營運。</block>
  <block id="ee86473f0dbd191846077276ce455778" category="paragraph">NetApp ONTAP 支援NVIDIA DGX系統與NetApp雲端連線的All Flash儲存設備、能夠可靠地簡化資料流、並利用從邊緣到核心到雲端的資料架構、加速分析、訓練和推斷。它為IT組織提供以下優點的架構：</block>
  <block id="9c6bd300c8cf3ca98c8548bbb27cc34a" category="list-text">消除設計複雜性</block>
  <block id="cee5abf75433f502c31530bc72eecd6a" category="list-text">可獨立擴充運算與儲存設備</block>
  <block id="eccaf37681e446d183db0332d1e50552" category="list-text">讓客戶從小規模開始、並無縫擴充</block>
  <block id="6cb062d50ca0d4a2bfa0caec33fea16f" category="list-text">提供多種儲存選項、適用於各種效能與成本點NetApp ONTAP 支援融合式基礎架構堆疊、結合NVIDIA DGX-1、Petaflop等級AI系統、以及NVIDIA Mellanox高效能乙太網路交換器、可統一處理AI工作負載、簡化部署並加速ROI。我們在ONTAP 本技術報告中運用包含一個DGX-1和NetApp AFF 的NetApp供應系統的AI技術。下圖顯示ONTAP 本驗證所使用之DGX-1系統的支援範本。</block>
  <block id="3eedc2d7451e7ff0440f17c9e61227dc" category="paragraph"><block ref="3eedc2d7451e7ff0440f17c9e61227dc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e71e852dc96d4d0e2da95de923a6f8ff" category="inline-link">NetApp Trident</block>
  <block id="e1fc355cf7f97dbf25407695f8852241" category="paragraph">NetApp AI Control Plane提供極佳的擴充性、簡化的部署、以及不中斷的資料可用度、讓您充分發揮AI和ML的威力。AI Control Plane解決方案將Kubernetes和Kubeflow與NetApp支援的資料架構整合。Kubernetes是適用於雲端原生部署的業界標準容器協調平台、可提供工作負載擴充性與可攜性。Kubeflow是開放原始碼的機器學習平台、可簡化管理與部署作業、讓開發人員能以更短的時間完成更多的資料科學工作。採用NetApp技術的資料架構可提供毫不妥協的資料可用度與可攜性、確保您的資料可在整個通路中存取、從邊緣到核心到雲端。本技術報告使用MLRun管道中的NetApp AI Control Plane。下圖顯示Kubernetes叢集管理頁面、您可以在其中為每個叢集設定不同的端點。我們將NFS持續磁碟區連線至Kubernetes叢集、下列映像顯示連接至叢集的持續磁碟區、位於何處<block ref="33155b45dbdad2f412212744fbe6f8dc" category="inline-link-rx"></block> 提供持續的儲存支援與資料管理功能。</block>
  <block id="b058638c35435549e77a90b91abd3305" category="paragraph"><block ref="b058638c35435549e77a90b91abd3305" category="inline-image-macro-rx" type="image"></block></block>
  <block id="eee185b539f0e52d8b64916066463222" category="paragraph"><block ref="eee185b539f0e52d8b64916066463222" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7d371ade9f9702601a7e2f8f57c8b013" category="paragraph"><block ref="7d371ade9f9702601a7e2f8f57c8b013" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a1dc271f7d3ae88e2a019314b7e4fd8e" category="section-title">Iguazio概述</block>
  <block id="0c9fe13fe6a660070e99a54151edd7c3" category="paragraph">Iguazio Data科學平台是完全整合且安全的資料科學平台即服務（PaaS）、可簡化開發、加速效能、促進協同作業、並解決營運挑戰。此平台整合了下列元件、Iguazio Data科學平台以下列影像呈現：</block>
  <block id="2137518d79f0a3dfe335e8c02312cf96" category="list-text">資料科學工作平台、包括Jupyter筆記型電腦、整合式分析引擎和Python套件</block>
  <block id="68ed19bfa85e4c4677e50979864e169b" category="list-text">利用實驗追蹤和自動化管道功能來建立模型管理</block>
  <block id="37a28d84cd653345f1f2c036cb732f2d" category="list-text">透過可擴充的Kubernetes叢集來管理資料和ML服務</block>
  <block id="77fdda1a79199ac02cde44b4249cb509" category="list-text">Nuclio是即時無伺服器功能架構</block>
  <block id="96a6f4a99a7526e82a294d44ed005701" category="list-text">極為快速且安全的資料層、支援SQL、NoSQL、時間序列資料庫、檔案（簡單物件）和串流</block>
  <block id="00a48f02675717eaf6082c4ba536a366" category="list-text">與第三方資料來源整合、例如NetApp、Amazon S3、HDFS、SQL資料庫、串流或訊息傳輸協定</block>
  <block id="901630ad39a688431a68dc119f5378a3" category="list-text">以Grafana為基礎的即時儀表板</block>
  <block id="887fce38ef8ddd8546748bb746ed7e5a" category="paragraph"><block ref="887fce38ef8ddd8546748bb746ed7e5a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="961027a0ac9a1d9515fa54a5d5372c79" category="inline-link-macro">下一步：軟體與硬體需求</block>
  <block id="a10e3ee0949323f601d4c9624980eb47" category="paragraph"><block ref="a10e3ee0949323f601d4c9624980eb47" category="inline-link-macro-rx"></block></block>
  <block id="48fe531f68f98f9f6afcf79da6d3b1b3" category="doc">TR-4834：適用於MLRun Pipeline的NetApp和Iguazio</block>
  <block id="a0e5bba9c75f65c1d58c6a238316bd2b" category="paragraph">Rick Huang、David Arette、NetApp Marcelo Lettovsky、Iguazio</block>
  <block id="dd9508a891c15cc4bb34f03dc870ab6c" category="paragraph">本文件涵蓋採用NetApp ONTAP AI、NetApp AI Control Plane、NetApp Cloud Volumes軟體及Iguazio Data Science Platform的MLRun管線詳細資料。我們使用Nuclio無伺服器功能、Kubernetes持續磁碟區、NetApp Cloud Volumes、NetApp Snapshot複本、Grafana儀表板、 以及Iguazio平台上的其他服務、以建置端點對端點資料傳輸途徑來模擬網路故障偵測。我們整合了Iguazio和NetApp技術、可在內部部署和雲端上實現快速的模型部署、資料複寫和正式作業監控功能。</block>
  <block id="d431a0ad3e0e99cf99c08fda529884bd" category="paragraph">資料科學家的工作重點應放在機器學習（ML）和人工智慧（AI）模式的訓練和調校。不過、根據Google的研究結果、資料科學家將約80%的時間花在研究如何讓他們的模型與企業應用程式搭配運作、並以大規模方式執行、如以下影像所示、說明AI/ML工作流程中的模型開發。</block>
  <block id="f08b641e59dba6d999dc1bc2085bcd2c" category="paragraph"><block ref="f08b641e59dba6d999dc1bc2085bcd2c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1eec0363d19df86d30ecefc2e44170fa" category="paragraph">若要管理端點對端點的AI/ML專案、需要更深入瞭解企業元件。雖然DevOps已接管這些類型元件的定義、整合及部署、但機器學習作業的目標是類似流程、包括AI/ML專案。若要瞭解企業中端點對端點的AI/ML傳輸途徑、請參閱下列必要元件清單：</block>
  <block id="a5fa5746370b608090b994a97b49e98b" category="list-text">網路</block>
  <block id="ea2ef9b0d095bf991f4973633b485340" category="list-text">資料庫</block>
  <block id="3b18b13f059019d19211f8a9f36f7e4e" category="list-text">檔案系統</block>
  <block id="d6c823008f20bbfce5f39b30ec9fa918" category="list-text">持續整合與持續部署（CI/CD）管道</block>
  <block id="52681719ec1296447ae0e357c4781415" category="list-text">開發整合式開發環境（IDE）</block>
  <block id="2fae32629d4ef4fc6341f1751b405e45" category="list-text">安全性</block>
  <block id="bd0992d43bb2d0ca676184502e14754e" category="list-text">資料存取原則</block>
  <block id="c8e2277ecfb1427838c488c217f99466" category="list-text">雲端</block>
  <block id="a9353b1bd1eeedb788a74090b5f8d0bc" category="list-text">資料科學工具集與程式庫</block>
  <block id="2f0ff7df4fd6fa99bbf249af2ea4c3a5" category="paragraph">在本白皮書中、我們將示範NetApp與Iguazio之間的合作關係如何大幅簡化端點對端點AI/ML管線的開發。這項簡化可加速所有AI / ML應用程式的上市時間。</block>
  <block id="253411380ba9cde08bcfafbd516ad585" category="paragraph">資料科學的世界涉及資訊技術和商業的多個領域。</block>
  <block id="cddde51824956f407b4c02c1e4bc8004" category="list-text">資料科學家需要靈活運用所選的工具和程式庫。</block>
  <block id="310a768ecb4689bcaf80072231d73e83" category="list-text">資料工程師需要知道資料的流通方式及存放位置。</block>
  <block id="c12281f5ea7b17e370414efbf3f26c30" category="list-text">DevOps工程師需要工具、將新的AI/ML應用程式整合至其CI/CD管道。</block>
  <block id="f1a4e0eca545ebe9e3c32f1fde407410" category="list-text">企業使用者想要存取AI / ML應用程式。我們說明NetApp和Iguazio如何協助這些角色、讓我們的平台為企業帶來價值。</block>
  <block id="00cc9e5c959e62a9132baca479060db3" category="paragraph">此解決方案遵循AI / ML應用程式的生命週期。我們從資料科學家的工作開始著手、定義準備資料、以及訓練和部署模型所需的不同步驟。我們會依照所需的工作來建立完整的管道、以便追蹤成品、實驗執行、以及部署至Kubeflow。為了完成整個週期、我們將管線與NetApp Cloud Volumes整合、以啟用資料版本管理功能、如下圖所示。</block>
  <block id="ddd4a11ec23c52d3f0831809bc4d7c8f" category="paragraph"><block ref="ddd4a11ec23c52d3f0831809bc4d7c8f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c7c8cd7998e5c4a67923acf8580d94e2" category="inline-link-macro">下一步：技術總覽</block>
  <block id="b9023dede6231d8f57593d31db930bf6" category="paragraph"><block ref="b9023dede6231d8f57593d31db930bf6" category="inline-link-macro-rx"></block></block>
  <block id="8fcbbd73e86fa0b56d72d6127c318c85" category="paragraph">資料爆炸性增長、機器學習（ML）和人工智慧（AI）的指數成長已融合在一起、創造出新的經濟環境、並面臨獨特的開發與實作挑戰。大量的資料通常儲存在低成本的資料湖中、因為GPU等高效能AI運算資源無法有效存取資料。在本報告中、我們提出了一套新穎的解決方案、讓資料科學工作者能夠實作資料中心、只要按一下滑鼠、就能在資料集的運算資源附近（無論資料集位於何處）建立快取。因此、AI從業者可以透過新的資料集版本中樞強化協同作業、更輕鬆地執行高效能模式訓練。</block>
  <block id="c6a4d485e7c4cefa4c121ce6c59b28dc" category="inline-link-macro">下一步：感謝</block>
  <block id="0c8a89e4d7937b03d3adc0f1d6530b08" category="paragraph"><block ref="0c8a89e4d7937b03d3adc0f1d6530b08" category="inline-link-macro-rx"></block></block>
  <block id="c1579c333c7c7a4e52136c7f58a7efc6" category="summary">本技術報告所建議的解決方案已證實可支援提供如此優異的客戶體驗、現在的挑戰是確保企業採取行動、將AI基礎架構和工作流程現代化。</block>
  <block id="9c5e72cb1709251063c12e4bddb1ba12" category="inline-link-macro">上一篇：影片和示範。</block>
  <block id="2f6461cd01fcb0c2d85704a563bd7c19" category="paragraph"><block ref="2f6461cd01fcb0c2d85704a563bd7c19" category="inline-link-macro-rx"></block></block>
  <block id="50d6e8cef34560d1d68c6688a12b1cb8" category="paragraph">隨著客戶體驗逐漸被視為關鍵競爭戰場、人工智慧擴充的全球支援中心已成為幾乎每個產業的公司都無法忽視的關鍵元件。本技術報告所建議的解決方案已證實可支援提供如此優異的客戶體驗、現在的挑戰是確保企業採取行動、將AI基礎架構和工作流程現代化。</block>
  <block id="f6e349295b2165b25a412793116b8675" category="paragraph">AI在客戶服務中的最佳實作方式、不是取代人工代理程式。相反地、AI可透過即時情緒分析、爭議升級及多式多式模式關聯運算、偵測口頭、非口頭和面向等暗示、讓他們有能力創造出卓越的客戶體驗、讓全方位的AI模式能夠大規模提出建議、並補充個別的人力代理商可能缺乏的內容。AI也能讓特定客戶與目前可用的代理程式更符合需求。企業可以利用AI、從他們對供應商產品、服務和品牌形象的想法和印象中、汲取寶貴的客戶意見。</block>
  <block id="eb5cb6f03236a80f7ddd5085afa95729" category="paragraph">此解決方案也可用來建構支援代理程式的時間序列資料、做為客觀的效能評估指標。傳統的客戶滿意度調查通常缺乏足夠的回應。藉由收集長期的員工與客戶意見、雇主可以根據充分資訊、針對支援代理商的績效做出決策。</block>
  <block id="aa20fc291fbb8ceda8651d8d8ee9dba6" category="paragraph">NetApp、SFL Scientific、開放原始碼協調架構與NVIDIA的結合、將最新技術整合為託管服務、提供絕佳的靈活度、可加速技術採用、並縮短新的AI/ML應用程式的上市時間。這些進階服務是在內部部署、可輕鬆移轉至雲端原生環境及混合式部署架構。</block>
  <block id="71fd14327d5bf7e725ab97e00192b238" category="paragraph"><block ref="71fd14327d5bf7e725ab97e00192b238" category="inline-link-macro-rx"></block></block>
  <block id="8708911de20cfce9bafb315fd0cde0a2" category="summary">我們執行多項測試、以評估所建議架構的效能。共有六種不同的工作負載（影像分類、物件偵測[小]、物件偵測[大]、醫療影像、語音對文字、 和自然語言處理[NLP]）、您可以在三種不同的情況下執行：離線、單一串流和多重串流。</block>
  <block id="3274a50ba9f0d3c0adefdfa11c5094be" category="doc">測試結果</block>
  <block id="5e2777e1d5ba6adfeabc55064de508f5" category="inline-link-macro">上一步：測試程序。</block>
  <block id="3ee9fa6b3e5baa3db7a7d6587d8d590b" category="paragraph"><block ref="3ee9fa6b3e5baa3db7a7d6587d8d590b" category="inline-link-macro-rx"></block></block>
  <block id="507b481f4f0fb36b82f97222c73fb91d" category="section-title">測試結果AFF</block>
  <block id="817fbb6103e6cb6855c19a5c1b25f817" category="paragraph">我們執行多項測試、以評估所建議架構的效能。共有六種不同的工作負載（影像分類、物件偵測[小]、物件偵測[大]、醫療影像、語音對文字、 和自然語言處理[NLP]）、您可以在三種不同的情況下執行：離線、單一串流和多重串流。</block>
  <block id="aaabb57453387e4d8fdae92cdf5d558b" category="admonition">最後一個案例只能用於影像分類和物件偵測。</block>
  <block id="e7b8f9d880e5e20f44e5277ba99d101b" category="paragraph">這可提供15種可能的工作負載、這些工作負載都是在三種不同的設定下進行測試：</block>
  <block id="6beb824a1e58582d2c0c733600244087" category="list-text">單一伺服器/本機儲存設備</block>
  <block id="0ce03975d1039901bae5d17f67b2ac39" category="list-text">單一伺服器/網路儲存設備</block>
  <block id="ffac1c611ceb8a0bd6268359872e3e68" category="list-text">多伺服器/網路儲存設備</block>
  <block id="f5b98cda08f17c4b221c6ef2fbf7217f" category="paragraph">以下各節將說明結果。</block>
  <block id="18d566b8a783b6684a78fc2924714180" category="section-title">AI在離線情境中推斷AFF 以供參考</block>
  <block id="0aee493b887954641c1ba2e779adcf85" category="paragraph">在此案例中、所有資料都可供伺服器使用、並測量處理所有樣本所需的時間。我們會將頻寬報告為每秒取樣數、做為測試結果。當使用多部運算伺服器時、我們會報告所有伺服器的總頻寬。下圖顯示所有三種使用案例的結果。在兩部伺服器的案例中、我們會報告兩部伺服器的總頻寬。</block>
  <block id="d39bc80b598327ae50c15f64c44bb6ea" category="paragraph"><block ref="d39bc80b598327ae50c15f64c44bb6ea" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a0d89c8c627ec0463d3f82a6cbbc04bd" category="paragraph">結果顯示、網路儲存設備不會對效能造成負面影響、因為這項變更很小、而且對於某些工作、找不到任何項目。新增第二部伺服器時、總頻寬可能會精確加倍、或是最糟的情況下、變更量會低於1%。</block>
  <block id="d0be2e7e62dc4b0bdbb35ded9b6d842e" category="section-title">AI在單一串流情境中推斷AFF 以供參考</block>
  <block id="fbbf5a4ee90b9175f00f7c8cab5a0670" category="paragraph">此基準測試可測量延遲。針對多個運算伺服器案例、我們會報告平均延遲。工作套件的結果如下圖所示。在兩部伺服器的案例中、我們會報告兩部伺服器的平均延遲。</block>
  <block id="01f3906715186988e276bc34ebc661c0" category="paragraph"><block ref="01f3906715186988e276bc34ebc661c0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9ef9ced66e0746938556409b4c473052" category="paragraph">結果再次顯示、網路儲存設備足以處理工作。在單一伺服器案例中、本機與網路儲存設備之間的差異最小或無。同樣地、當兩部伺服器使用相同的儲存設備時、兩部伺服器的延遲時間會維持不變、或是變更量會非常小。</block>
  <block id="64a84459b695510c92164965941ad8f1" category="section-title">AI在多重串流情境中推斷AFF 以供參考</block>
  <block id="22ca0fa830d8fd46fe137f6748374c21" category="paragraph">在這種情況下、結果是系統可以處理的串流數量、同時滿足QoS限制。因此、結果永遠是整數。對於多部伺服器、我們會報告在所有伺服器上總計串流的總數。並非所有的工作負載都支援這種情況、但我們已經執行了這些工作負載。我們的測試結果摘要如下圖所示。在兩部伺服器的案例中、我們會報告來自兩部伺服器的串流總數。</block>
  <block id="758b60f43cbc650fded1dcf9be428fa5" category="paragraph"><block ref="758b60f43cbc650fded1dcf9be428fa5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f3eefb9cc4232b7df67a3c63566ae707" category="paragraph">結果顯示設定的完美效能：本機與網路儲存設備的結果相同、而新增第二台伺服器的資料流數量是建議設定所能處理的資料流數量的兩倍。</block>
  <block id="4ecb5ff41d7f3bd6f1c92bc183f1cb32" category="section-title">EF的測試結果</block>
  <block id="ee7c693721c881b091fdb1adf8a37707" category="paragraph">我們執行多項測試、以評估所建議架構的效能。共有六種不同的工作負載（影像分類、物件偵測[小]、物件偵測[大]、醫療影像、語音對文字、 和自然語言處理（NLP]）、這是在兩種不同的情況下執行：離線和單一串流。以下各節將說明結果。</block>
  <block id="010bb9776a194ae73e567f4812c8be99" category="section-title">EF離線情境中的AI推斷</block>
  <block id="f4fc0d2711e472dedfd5d2952191989c" category="paragraph">在此案例中、所有資料都可供伺服器使用、並測量處理所有樣本所需的時間。我們會將頻寬報告為每秒取樣數、做為測試結果。對於單一節點執行、我們會報告兩部伺服器的平均執行量、而對於兩部伺服器執行、則會報告所有伺服器的總頻寬總和。使用案例的結果如下圖所示。</block>
  <block id="8e793f971410e2b57df427d1305ee0a2" category="paragraph"><block ref="8e793f971410e2b57df427d1305ee0a2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fb71ae4a7513a21f0771b9aa65aeef9c" category="section-title">EF單一串流案例中的AI推斷</block>
  <block id="ca0aa5c3a448e511d9334d94174b8b85" category="paragraph">此基準測試可測量延遲。在所有情況下、我們都會報告執行中所有伺服器的平均延遲時間。會提供工作套件的結果。</block>
  <block id="5656e3a262dfb3d6e1cba96551717de0" category="paragraph"><block ref="5656e3a262dfb3d6e1cba96551717de0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f02eaec2bc90de6689765cffde92e809" category="paragraph">結果再次顯示、網路儲存設備足以處理工作。在單一伺服器的情況下、本機與網路儲存設備之間的差異最小或無。同樣地、當兩部伺服器使用相同的儲存設備時、兩部伺服器的延遲時間會維持不變、或是變更量會非常小。</block>
  <block id="516a608926718d1a912cf9404f1a63ac" category="inline-link-macro">下一步：架構規模調整選項。</block>
  <block id="9cedf0fb8faddf365d88f523ae482015" category="paragraph"><block ref="9cedf0fb8faddf365d88f523ae482015" category="inline-link-macro-rx"></block></block>
  <block id="9e59f01034d2c132fac901b9c14a5d88" category="summary">NetApp DataOps Toolkit for Kubernetes可將儲存資源與Kubernetes工作負載抽象化、直到資料科學工作區層級。這些功能均以簡單易用的介面進行封裝、專為資料科學家和資料工程師所設計。</block>
  <block id="7aee811c7e891ab94bb5be40b333faaf" category="doc">使用NetApp DataOps Toolkit的資料集與模型版本管理</block>
  <block id="f7136197d3b16131979b9319c4acce63" category="inline-link-macro">上一篇：使用Prometheus和Grafana監控dask和水流。</block>
  <block id="402dae1972461d7e7ba986ab6728df6c" category="paragraph"><block ref="402dae1972461d7e7ba986ab6728df6c" category="inline-link-macro-rx"></block></block>
  <block id="fd2d048a9ec0f96d89493b98f72cbe34" category="paragraph">NetApp DataOps Toolkit for Kubernetes可將儲存資源與Kubernetes工作負載抽象化、直到資料科學工作區層級。這些功能均以簡單易用的介面進行封裝、專為資料科學家和資料工程師所設計。使用熟悉的Python程式形式、工具套件可讓資料科學家和工程師在短短數秒內配置及銷毀JupyterLab工作區。這些工作區可包含TB甚至PB的儲存容量、讓資料科學家能夠將所有訓練資料集直接儲存在專案工作區中。現在已經不再需要分別管理工作區和資料磁碟區了。</block>
  <block id="4a6c7893abd7ef92fb09d3359e17324d" category="inline-link">GitHub儲存庫</block>
  <block id="eb0d40310a9cc0432fac66dc97652c39" category="paragraph">如需詳細資訊、請參閱工具套件<block ref="64134ca6239d4056f34489b42f2baeed" category="inline-link-rx"></block>。</block>
  <block id="1d1983037d4fd7beac963697b84f82bd" category="paragraph"><block ref="1d1983037d4fd7beac963697b84f82bd" category="inline-link-macro-rx"></block></block>
  <block id="aa364e0963e38930007df2b60bdba067" category="doc">將資料儲存至Trident佈建的PersistentVolume</block>
  <block id="ef1fb51957f2aa894de5476a9a0112a2" category="paragraph">NetApp Trident是完全受支援的開放原始碼專案、旨在協助您滿足容器化應用程式的複雜持續需求。您可以將資料讀寫至Trident佈建的Kubernetes PeristentVolume（PV）、並享有NetApp ONTAP 供應的資料分層、加密、NetApp Snapshot技術、法規遵循及高效能等額外優點。</block>
  <block id="a821f368daf439d909bfed3c8e95d4b9" category="section-title">重新使用現有命名空間中的PVCS</block>
  <block id="be3455a34c69a26df1a5f04a6245249b" category="inline-link">NetApp Trident文件</block>
  <block id="15040fc521e7fa5e8ef42694ca89e53d" category="paragraph">對於較大型的AI專案、不同的容器可能會更有效率地讀取資料並將資料寫入相同的Kubernetes PV。若要重複使用Kubernetes持續Volume宣告（PVc）、使用者必須已建立一個PVc。請參閱<block ref="5b6274adc29653ed1820027957bdb4e2" category="inline-link-rx"></block> 以取得建立永久虛擬基礎資料的詳細資料。以下是重複使用現有的永久虛擬資料的範例：</block>
  <block id="743520c366f0d11ca817811dda85fcf1" category="paragraph">執行下列命令、查看專案「團隊A」的「PVC-TEST」工作狀態：</block>
  <block id="7d4c508442c775f946e3d9318b75b1a0" category="paragraph">您應該會看到PV /tmp/pvc1mount掛載到「team A」工作「PVC-test」。如此一來、多個容器就能從同一個磁碟區讀取、當開發或正式作業中有多個相競的模型時、此功能非常實用。資料科學家可以建立一組模型、然後以多數投票或其他技術來結合預測結果。</block>
  <block id="dae81aa45b8ce281aabbd1402afe277b" category="paragraph">使用下列項目存取Container Shell：</block>
  <block id="bc63da8fa87210da818596598e359427" category="paragraph">然後、您可以檢查掛載的Volume、並存取容器內的資料。</block>
  <block id="fc180b17e3fccb2beb46854f71d31406" category="paragraph">這項可重複使用PVCS的功能可搭配NetApp FlexVol 的功能、以及NetApp ONTAP FlexGroup 的NetApp功能、讓資料工程師擁有更靈活、更健全的資料管理選項、以充分運用NetApp技術所提供的資料架構。</block>
  <block id="2e203cb5454e63a32bcdb87dc9cb77ad" category="paragraph"><block ref="2e203cb5454e63a32bcdb87dc9cb77ad" category="inline-link-macro-rx"></block></block>
  <block id="27d597678185c0988ffb2dbb0c1b941d" category="doc">ResNet-50搭配ImageNet資料集基準測試摘要</block>
  <block id="3c97b4929008c9f4091a8070f570ccd4" category="paragraph">我們使用業界標準基準測試工具TensorFlow基準測試、來驗證此系統的運作和效能。ImageNet資料集用於訓練ResNet-50、這是著名的Convolutional Neurition Network（CNN）DL影像分類模式。ResNet-50提供準確的訓練結果、並可加快處理時間、讓我們能夠滿足對儲存設備的充分需求。</block>
  <block id="123704fec3ddad892d7c2ae5c4de301b" category="paragraph"><block ref="123704fec3ddad892d7c2ae5c4de301b" category="inline-link-macro-rx"></block></block>
  <block id="3bb420314fa4b29837c4b0528524000f" category="section-title">NetApp ONTAP 的AI與AI控制平面</block>
  <block id="3cfbc3bac23f6bb9e7ebdc6deefeaf1d" category="paragraph">NetApp ONTAP 與NVIDIA開發並驗證的NetApp AI架構、採用NVIDIA DGX系統與NetApp雲端連線儲存系統。此參考架構可為IT組織提供下列優勢：</block>
  <block id="5116c5071beb9f4f5b673c988c417c71" category="list-text">可獨立擴充運算與儲存設備</block>
  <block id="410a2fbd85ad3d74051034eac2b94889" category="list-text">提供多種儲存選項、可滿足各種效能與成本效益</block>
  <block id="6fa0f6cc1d5d12069641e73217a17be2" category="paragraph">NetApp ONTAP W人工 智慧將DGX系統與NetApp AFF 的Arde-A800儲存系統與先進的網路技術緊密整合。NetApp ONTAP 採用AI和DGX系統、可免除設計複雜度和猜測、簡化AI部署。客戶可以從小規模開始、以不中斷的方式擴充系統、同時以智慧方式管理從邊緣到核心到雲端及後端的資料。</block>
  <block id="bdc094a519f73076386a8bf2948832a6" category="paragraph">NetApp AI Control Plane是適用於資料科學家和資料工程師的完整堆疊AI、ML和深度學習（DL）資料與實驗管理解決方案。隨著企業組織增加AI使用率、他們面臨許多挑戰、包括工作負載擴充性和資料可用度。NetApp AI Control Plane透過各種功能來解決這些挑戰、例如像Git repo一樣快速複製資料命名空間、以及定義及實作AI訓練工作流程、將近乎即時的資料建立與模型基準、以利追蹤及版本管理。有了NetApp AI Control Plane、您就能在不同站台和區域之間順暢複寫資料、並迅速配置Jupyter筆記型電腦工作區、存取大量資料集。</block>
  <block id="9783bbad26249ed7f40d89e12ba42020" category="section-title">Run：AI工作負載協調的AI平台</block>
  <block id="22101b8498dea1c2e2e35bd4868847a4" category="paragraph">RUN：AI為AI基礎架構建置了全球第一個協調與虛擬化平台。執行：AI將工作負載從基礎硬體中抽離、建立可動態配置的GPU資源共享資源池、有效協調AI工作負載、並最佳化GPU的使用。資料科學家可以無縫地消耗大量GPU電力來改善及加速研究、同時IT團隊也能在資源配置、佇列及使用率方面、維持集中化的跨站台控制及即時可見度。Run：AI平台建置於Kubernetes之上、可與現有的IT和資料科學工作流程輕鬆整合。</block>
  <block id="ae00256db8d45ecdaf9c364a96821417" category="paragraph">Run：AI平台提供下列優點：</block>
  <block id="d472807c15e94ef6053e95521ff7e838" category="list-text">*縮短創新時間。*藉由搭配使用Run:AI資源池、佇列及優先順序機制、再搭配NetApp儲存系統、研究人員將不再受基礎架構管理的困擾、而且只能專注於資料科學。RUN：AI與NetApp客戶可在不產生運算或資料傳輸途徑瓶頸的情況下、視需要執行任意數量的工作負載、進而提高生產力。</block>
  <block id="2707d068deb9b46967615c70c806e0d8" category="list-text">*提高團隊生產力。*執行：AI公平演算法可確保所有使用者和團隊都能獲得公平的資源共享。您可以預設優先專案的相關原則、而平台可將資源從一個使用者或團隊動態分配給另一個使用者或團隊、協助使用者及時存取令人夢寐以求的GPU資源。</block>
  <block id="faa5854c7e84507b88cba1c0ec1a9aaf" category="list-text">*提升GPU使用率。* Run:AI排程器可讓使用者輕鬆使用部分GPU、整型GPU及GPU的多個節點、進行Kubernetes的分散式訓練。如此一來、AI工作負載就會根據您的需求而非容量來執行。資料科學團隊能夠在相同的基礎架構上執行更多AI實驗。</block>
  <block id="5960deb1522a82336a7a31213acea4b0" category="inline-link-macro">下一步：解決方案技術</block>
  <block id="d9533ea5c6cb975dff314dace88f2aa4" category="paragraph"><block ref="d9533ea5c6cb975dff314dace88f2aa4" category="inline-link-macro-rx"></block></block>
  <block id="3ff1a758f526c5ceb434059efe27020a" category="summary">Apache氣流工作流程範例</block>
  <block id="6e4cd672cd8bd06c42a9e4ba697c61de" category="inline-link">適用於Kubernetes的NetApp Data科學工具套件</block>
  <block id="c5da96d7204df28dd9fdc33139c8a776" category="paragraph">。<block ref="42224cf159df1ff428bf611c27a06039" category="inline-link-rx"></block> 可搭配氣流一起使用。運用NetApp Data科學工具套件搭配氣流、您可以將NetApp資料管理作業整合到由氣流協調的自動化工作流程中。</block>
  <block id="dee957e8ec77b256b931e812220f0553" category="inline-link">氣流範例</block>
  <block id="9fc322b3a5bb56d2d6ac18c15773d1c2" category="paragraph">請參閱<block ref="c50bba54faf39c027cd571674d44a9c0" category="inline-link-rx"></block> NetApp Data科學工具套件GitHub儲存庫中的一節、詳細瞭解如何搭配氣流使用此工具組。</block>
  <block id="64b0abe7a29610e134041ed793101fce" category="inline-link-macro">下一步：Trident作業範例。</block>
  <block id="f6c488122d476f1d213cf78dc2ee84d2" category="paragraph"><block ref="f6c488122d476f1d213cf78dc2ee84d2" category="inline-link-macro-rx"></block></block>
  <block id="4ac9fa791a6d1c7c97bbae134dd22586" category="paragraph">真正的對話式AI系統會進行類似人的對話、瞭解情境、並提供智慧型回應。這類AI模式通常非常龐大且極為複雜。有了NVIDIA GPU和NetApp儲存設備、就能訓練並最佳化大規模的先進語言模式、以迅速執行推斷。這是邁向結束AI模式的重大進展、而這種模式與大型且複雜的AI模式相比、速度更快。GPU最佳化的語言理解模式可整合至AI應用程式、適用於醫療、零售和金融服務等產業、為智慧型喇叭和客戶服務線中的進階數位語音助理提供支援。這些高品質的對話AI系統可讓垂直市場的企業在與客戶互動時、提供先前無法達成的個人化服務。</block>
  <block id="45d5663acc501eba25058f8956035e9a" category="paragraph">JARVIS可部署虛擬助理、數位虛擬助理、多式模式感測Fusion 器等使用案例（CV融合了ASR/NLP/TS）、或任何ASR/NLP/TTS/CV獨立使用案例、例如複本。我們建立了虛擬零售助理、可回答有關天氣、興趣點和庫存定價的問題。我們也示範如何利用Cloud Sync 介紹新資料的功能、將對話歷史記錄歸檔、並訓練Nemo模型、藉此改善對話AI系統的自然語言理解能力。</block>
  <block id="38a609a97a676f2cc28ccec3d3097d4b" category="paragraph"><block ref="38a609a97a676f2cc28ccec3d3097d4b" category="inline-link-macro-rx"></block></block>
  <block id="1a17b23dd49d997677e18c9b9fe29935" category="summary">本頁說明如何使用原生工作串流儀表板來監控dask。</block>
  <block id="3268570ddd540695f3e92ff79d8f4684" category="doc">使用原生工作串流儀表板監控dsask</block>
  <block id="1e80a6d70a902d1dae25d26917a5b490" category="inline-link-macro">上一篇：在dask中載入第15天、並訓練dask cuML隨機樹系模型。</block>
  <block id="3898f5ae37dfd830af10cdc128236b50" category="paragraph"><block ref="3898f5ae37dfd830af10cdc128236b50" category="inline-link-macro-rx"></block></block>
  <block id="9eeb55820f49a600fa229f23cfe9e5b5" category="inline-link">dask分散式排程器</block>
  <block id="99b248c7005783fe2682ad82217e9a24" category="paragraph">。<block ref="7df0d90bf997a373bfe85bbe10a2d2c8" category="inline-link-rx"></block> 提供兩種形式的即時回饋：</block>
  <block id="d8516bf5d94a38a1fa1d7a8c3b92dee7" category="list-text">互動式儀表板包含許多繪圖和含有即時資訊的表格</block>
  <block id="d22ebe91c5dc1499387785da997fbe7d" category="list-text">進度列適合在主控台或筆記型電腦中互動使用</block>
  <block id="6e35e4c1cc9332ebc8028df451bc4f06" category="paragraph">在我們的案例中、下圖顯示如何監控工作進度、包括儲存的位元組、詳細細分串流數量的工作串流、以及執行相關功能的工作名稱進度。在我們的案例中、因為我們有三個工作節點、所以串流有三個主要區塊、而且色彩代碼會在每個串流中指出不同的工作。</block>
  <block id="5743e70224503025dacaa77fae253c4f" category="paragraph"><block ref="5743e70224503025dacaa77fae253c4f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7a5c7a858f05434bf6637c3995959f49" category="paragraph">您可以選擇分析個別工作、以毫秒為單位檢查執行時間、或找出任何障礙或阻礙。例如、下圖顯示隨機樹系模型擬合階段的工作串流。執行的功能相當多、包括用於DataFrame處理的獨特區塊、用於調整隨機樹系的_Constrature_RF等。大多數時間都花在DataFrame作業上、因為Criteo Click記錄中一天資料的大小（45GB）太大。</block>
  <block id="816ff133aaa3d2f46ca0c7842f5fdaab" category="paragraph"><block ref="816ff133aaa3d2f46ca0c7842f5fdaab" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f5eca1492a19a4c24071ed91262666cf" category="inline-link-macro">下一步：訓練時間比較。</block>
  <block id="d5d929f175d4a2062c661e45b9656f32" category="paragraph"><block ref="d5d929f175d4a2062c661e45b9656f32" category="inline-link-macro-rx"></block></block>
  <block id="4c2588a1e3dbf6824a4f05095df75f83" category="paragraph">雖然目前所有的應用程式都不是AI驅動的、但這些應用程式仍在不斷演變、讓他們能夠存取AI的巨大效益。為了支援採用AI、應用程式需要一個基礎架構、為他們提供最佳運作所需的資源、並支援他們持續演進。</block>
  <block id="31965de7c735983bb41a0b7e70361db2" category="paragraph">對於AI導向的應用程式、邊緣位置是主要的資料來源。在一段時間內從多個邊緣位置收集可用的資料、以構成訓練資料集時、可用於訓練。然後、訓練完成的模型便可部署回收集資料的邊緣位置、以便更快速地進行推斷、而不需要重複將正式作業資料傳輸到專用的推斷平台。</block>
  <block id="9e53c147a93fed13d4349cba2a35e36b" category="paragraph">採用NetApp H615c運算節點、搭配NVIDIA T4 GPU和NetApp雲端連線儲存系統的NetApp H615c運算解決方案NetApp HCI 、由NetApp和NVIDIA開發驗證。此解決方案可解決模稜兩可的問題、消除設計的複雜性、並結束猜測、進而簡化邊緣資料中心的AI推斷解決方案部署。NetApp HCI此解決方案為IT組織提供規範性架構、可：</block>
  <block id="9c4a53996590c74a0de3bba81f878254" category="list-text">在邊緣資料中心啟用AI推斷</block>
  <block id="20c3f996d396cc8c92788bb3585a6e86" category="list-text">最佳化GPU資源的使用量</block>
  <block id="06e81c54cb9157aa59541289f1163daf" category="list-text">提供Kubernetes型推斷平台、以提供靈活度與擴充性</block>
  <block id="ba37c372c4a9119e45c7f525f4743cfc" category="paragraph">邊緣資料中心可在離產生點非常近的位置管理及處理資料。這種接近性可提高效率、並減少處理資料所需的延遲時間。許多垂直市場已實現邊緣資料中心的效益、並正大力採用這種分散式資料處理方法。</block>
  <block id="b501a0f0a3e7d559cecfad08c330227e" category="paragraph">下表列出邊緣垂直市場和應用程式。</block>
  <block id="06ce2a25e5d12c166a36f654dbea6012" category="cell">垂直</block>
  <block id="1ddf333c6654f7f89c739dddfb4cc429" category="cell">應用程式</block>
  <block id="077262cc53a1fb1b5f651d31b6bf81ba" category="cell">醫療</block>
  <block id="9da98fbc1c3d290fefb743a2df8914b4" category="cell">電腦輔助診斷可協助醫務人員偵測早期疾病</block>
  <block id="fa0a7aa1622ad105e9cdf5a706058333" category="cell">石油與天然氣</block>
  <block id="55dae4e2e7f267e43e5768e66c7c3771" category="cell">自動檢查遠端正式作業設施、影片和影像分析</block>
  <block id="252ddb15657f2c60bddc73633a7bf8c0" category="cell">航空</block>
  <block id="7a84f6faf76fd3533ae6ca65d28c53eb" category="cell">空中交通控制協助和即時視訊饋送分析</block>
  <block id="81ea9456adf225bcf11b668b427fd4f2" category="cell">媒體與娛樂</block>
  <block id="5015819e58d425b19f8acc93866e76fa" category="cell">音訊/視訊內容篩選功能可提供適合家庭的內容</block>
  <block id="616e90f12cb95950bc1c75396902393a" category="cell">商業分析</block>
  <block id="3e4c06851690089d4952320e9df36dc2" category="cell">品牌知名度：在即時串流的電視活動中分析品牌外觀</block>
  <block id="a9f7ecebb493e129aafb4cbfd73e85df" category="cell">電子商務</block>
  <block id="5df4fc692c9317012855d6935bf10310" category="cell">聰明搭售供應商優惠、尋找理想的商家與倉儲組合</block>
  <block id="053e0bc8b9627b28e2ed8029a34b35bd" category="cell">零售</block>
  <block id="7cf7816e39e6e0c259a79dc29c5a5e7c" category="cell">自動結帳功能可辨識客戶置於購物車中的項目、並促進數位付款</block>
  <block id="165f5687ea9050fba239731810d0abe8" category="cell">智慧城市</block>
  <block id="a47b360ffbe39c5a39c7e12e2ae8fdf5" category="cell">改善交通流量、優化停車、並強化行人與自行車安全</block>
  <block id="e86883c7cfc07afcf1e5ad8dffd7e1cc" category="cell">製造業</block>
  <block id="f4d790a35097fa97c2687ac573b25338" category="cell">品質控制、組裝線路監控及瑕疵識別</block>
  <block id="2273d1167a6212812d95dc8fadbae78e" category="cell">客戶服務</block>
  <block id="bf4948e47ea0d77a86e639979879262d" category="cell">客戶服務自動化、可分析及分類查詢（電話、電子郵件及社群媒體）</block>
  <block id="8e54e9aa508ea37f7fe734e86ba9da27" category="cell">農業</block>
  <block id="7fb956270d49b22c3226bc1db2b0269f" category="cell">智慧型農場營運與活動規劃、以最佳化施肥與除草劑應用</block>
  <block id="134481f7bea652a34fa2ada120d250e5" category="list-text">資料科學家</block>
  <block id="8d26f0555c7ace3d4b297da8c12fb31b" category="list-text">IT架構設計師</block>
  <block id="c114d2813b0041352b49187ebc28b62b" category="list-text">現場顧問</block>
  <block id="2d6d0cc18609f97853f883c1891397d2" category="list-text">專業服務</block>
  <block id="467f739adb5605167109d76676b44696" category="list-text">IT經理</block>
  <block id="dcfa1c08d3b0126217af0b8690305c08" category="list-text">任何其他需要在邊緣位置提供IT創新及健全資料與應用程式服務的基礎架構的人</block>
  <block id="ad54e6f7d665098e981d7e41732ce4c2" category="inline-link-macro">下一步：架構</block>
  <block id="dcea35e5c6c7dfb5a3d0b5083bb4bb90" category="paragraph"><block ref="dcea35e5c6c7dfb5a3d0b5083bb4bb90" category="inline-link-macro-rx"></block></block>
  <block id="5648f06cc2dff861e557e088190ccbe2" category="paragraph">在本節和各節中 <block ref="26be59a535445b1fffeef12f5e70f3e6" category="inline-link-macro-rx"></block>和 <block ref="2783e1454358e180d4e2876ef9492c64" category="inline-link-macro-rx"></block>我們設計了進階測試案例、以展示Run:AI協調功能、適用於複雜的工作負載管理、自動優先排程、以及過度配額GPU資源配置。我們這樣做是為了在ONTAP 整個AI環境中、達到高叢集資源使用率、並最佳化企業級資料科學團隊的生產力。</block>
  <block id="fed09193953a2a2d15bfba4063981f8c" category="paragraph">在這三個區段中、設定下列專案和配額：</block>
  <block id="d2d5c3e087f684e56b5b81d6212d7ccb" category="cell">配額</block>
  <block id="c9f0f895fb98ab9159f51fd0297e236d" category="cell">8.</block>
  <block id="207b738b6cd0e1cf6ac4a405dc72102f" category="paragraph">此外、這三個區段還使用下列容器：</block>
  <block id="cc6f12794ea24a191cb4f699f1b95036" category="list-text">Jupyter Notebook：《jupyter/base筆記型電腦》</block>
  <block id="b8d0bb7e356bfdd7e018a7c62f9343fa" category="list-text">RUN：AI quickstart：「GCR.IO/RUN–AI-DEMO / quickstart」</block>
  <block id="c9582d103b2fe8050364d3e629c4e80e" category="paragraph">我們為此測試案例設定下列目標：</block>
  <block id="c2d51205301247cd0aa0eca284d3889b" category="list-text">展現資源配置的簡易性、以及如何從使用者中抽取資源</block>
  <block id="dfd4af458e74e30246827532e692dca7" category="list-text">示範使用者如何輕鬆配置GPU的一部分和GPU的整數數目</block>
  <block id="d7bf7c7f0d7884bd8fe07da4f6a8aba3" category="list-text">示範系統如何排除運算瓶頸、讓團隊或使用者在叢集中有可用的GPU時、可以跳過資源配額</block>
  <block id="f93609e9c7f7c826e6c83bb1f8416207" category="list-text">示範如何在執行運算密集工作（例如NetApp容器）時、使用NetApp解決方案來消除資料管線瓶頸</block>
  <block id="8ac218f5a62c8021756a192ac737a7f2" category="list-text">示範多種容器如何使用系統執行</block>
  <block id="802125395813e0bec35472d0403ab94e" category="list-text">Jupyter筆記型電腦</block>
  <block id="91c4a4ef606f959264719f8d084aab0e" category="list-text">執行：AI Container</block>
  <block id="23edbe937c996eb973ab4c69f9648893" category="list-text">叢集已滿時顯示高使用率</block>
  <block id="815a27a2c38741e36d920cbea5587384" category="paragraph">如需測試期間實際執行命令順序的詳細資料、請參閱 <block ref="3a65193f11bb9f699d19b0e9a996cd93" category="inline-link-macro-rx"></block>。</block>
  <block id="9d020ce52f8e9ff0d2f2defe3942d660" category="paragraph">提交所有13項工作負載時、您會看到已分配的容器名稱和GPU清單、如下圖所示。我們有七項訓練和六項互動工作、模擬四個資料科學團隊、每個團隊都有自己的執行或開發模式。對於互動工作、個別開發人員使用Jupyter Notebooks來撰寫或偵錯其程式碼。因此、它適合在不使用太多叢集資源的情況下配置GPU分數。</block>
  <block id="5deafc9e56279ca519f1e3c351856aa8" category="paragraph"><block ref="5deafc9e56279ca519f1e3c351856aa8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1aa04853a58b1b9ab0033c7e24b9d929" category="paragraph">此測試案例的結果顯示下列項目：</block>
  <block id="dbaf41fcdcf0aa8cd93bfdf0e7f916f2" category="list-text">叢集應已滿：使用16/16 GPU。</block>
  <block id="25421e793bda820f3023762c547a2495" category="list-text">叢集使用率高。</block>
  <block id="fdf3de6e0502b5404d2e0b379421f759" category="list-text">由於分數分配、實驗量比GPU多。</block>
  <block id="68cf93a70e0f0fe62bc0428ce8a8b348" category="list-text">因爲，“Team d”並沒有全部使用配額，所以“team－b”和“team－c”可以使用額外的GPU進行實驗，從而縮短創新時間。</block>
  <block id="9083e59932e59a6f85524ab956fcf772" category="inline-link-macro">下一步：基本資源配置公平性</block>
  <block id="654c44d69d64b0a5a656dd7b1375ac03" category="paragraph"><block ref="654c44d69d64b0a5a656dd7b1375ac03" category="inline-link-macro-rx"></block></block>
  <block id="d577549f9b3a229c338e203a433489f6" category="summary">本節說明如何將網路上的高層網路對等於Azure NetApp Files 此。</block>
  <block id="e61e6d340ad05dc2e1ad0982f6857d7d" category="doc">Peer aks vnet和Azure NetApp Files vernet</block>
  <block id="1c45d541f316a23589217be5991b1545" category="inline-link-macro">上一步：建立委派子網路Azure NetApp Files 以供使用。</block>
  <block id="786730f8769009abf0bf6400157dd16b" category="paragraph"><block ref="786730f8769009abf0bf6400157dd16b" category="inline-link-macro-rx"></block></block>
  <block id="e6ef5f0946a89d073a8f360de1038061" category="paragraph">若要將網路上的高階客戶端與Azure NetApp Files the整套系統對等、請完成下列步驟：</block>
  <block id="87c2d6c506d0bf65d2c5d773474f9c0f" category="list-text">在搜尋欄位中輸入「Virtual Networks（虛擬網路）」。</block>
  <block id="7680f3bc49a836c67a8b0e7d2d9ccb44" category="list-text">選取「vnet aks：vnet-name。」 按一下搜尋欄位、然後輸入產品。</block>
  <block id="fc3bb6a018a8f599cab21678959f92b0" category="list-text">按一下「+新增」。</block>
  <block id="1991ef5bd8e165e42c56ccaefa2f640f" category="list-text">輸入下列描述元：</block>
  <block id="51e5b9c0a583a9afbc2f998e622fd30d" category="list-text">對等連結名稱為「aks-vnet-name_to_anf"。</block>
  <block id="14ac6521e2758ba95fe7be9ca6a82cd1" category="list-text">SubscriptionID和Azure NetApp Files 以vnet對等合作夥伴身分執行的功能。</block>
  <block id="70b58cb057d859d4da9f17e43ffd238c" category="list-text">保留所有非星號區段的預設值。</block>
  <block id="1bb250fbf1946dd1bd7ad228032f8803" category="list-text">按一下「新增」</block>
  <block id="12eee9bf8836d675f26602260016f7da" category="inline-link">建立、變更或刪除虛擬網路對等關係</block>
  <block id="50e3209c871e4867931ef51a9344a921" category="paragraph">如需詳細資訊、請參閱<block ref="f81943721c88f7efe9b8252470f9ea43" category="inline-link-rx"></block>。</block>
  <block id="fd3c95528aa9718948de8d4e38b2fa2c" category="inline-link-macro">下一步：安裝Trident。</block>
  <block id="18337fe57049583a9c04a79f64a2088f" category="paragraph"><block ref="18337fe57049583a9c04a79f64a2088f" category="inline-link-macro-rx"></block></block>
  <block id="b481424c052310e67a9b67a931165509" category="summary">本節說明驗證此解決方案所使用的測試程序。</block>
  <block id="3562305aa864cd56d3e2840eb5071caa" category="doc">測試程序</block>
  <block id="e46c1f341c1cea1321f4c00d15e90b0d" category="inline-link-macro">上一步：測試組態。</block>
  <block id="ed760d2dffd7d011a7870619f7884005" category="paragraph"><block ref="ed760d2dffd7d011a7870619f7884005" category="inline-link-macro-rx"></block></block>
  <block id="bff816e8e8ddbe2a3b705d92abba6627" category="paragraph">我們在此驗證中使用下列測試程序。</block>
  <block id="1b0981f820949c10d68daad3fdf03976" category="section-title">作業系統與AI推斷設定</block>
  <block id="c13367945d5d4c91047b3b50234aa7ab" category="inline-link">程式碼</block>
  <block id="fe03e7fb4a8d3a1afb24c94c4c88d32f" category="paragraph">在支援NVIDIA GPU的情況下、我們使用Ubuntu 18.04搭配NVIDIA驅動程式和Docker、並使用MLPerf AFF<block ref="72ea1359ddbf7a99cdb0a438fda3e022" category="inline-link-rx"></block> 在Lenovo提交給MLPerf Inference v0.7的過程中提供。</block>
  <block id="504812acf44740b8f536a0d166375734" category="paragraph">對於EF280、我們使用Ubuntu 20.04搭配NVIDIA驅動程式和Docker、支援NVIDIA GPU和MLPerf<block ref="7dc141edfa21f33dbd4b0757be1ad69f" category="inline-link-rx"></block> 在Lenovo提交給MLPerf Inference v1.1的過程中提供。</block>
  <block id="fbd2228a821a8ab1948d4a8c3121fb0e" category="paragraph">若要設定AI推斷、請遵循下列步驟：</block>
  <block id="9177ba75c6dc50d818c52360f10e2fe1" category="list-text">下載需要登錄的資料集、ImageNet 2012驗證集、Criteo TB資料集、以及Brat 2019訓練集、然後解壓縮檔案。</block>
  <block id="12dda17fb1d76556387dceb2e85a9290" category="list-text">建立至少1TB的工作目錄、並定義環境變數「MarlFF_Scrate_path」（指目錄）。</block>
  <block id="342ecacc441a9548b60eae46065039f8" category="paragraph">您應該在共用儲存設備上共用此目錄、以供網路儲存設備使用、或在測試本機資料時共用本機磁碟。</block>
  <block id="7c5f7553ff57e0548889000668d1cf39" category="list-text">執行make「prebuild」命令、此命令會建立及啟動泊塢視窗容器、以執行必要的推斷工作。</block>
  <block id="9cfc451dfe052c5c3835b0355375b1b7" category="admonition">下列命令都是從執行中的Docker容器中執行：</block>
  <block id="b25e1e6ba392fe4c0e0da7617a67fa4d" category="list-text">下載預先訓練的AI模型以執行MLPerf推斷工作：「make download_model」</block>
  <block id="ed43016366915f1fc65fe332de60965f" category="list-text">下載其他可免費下載的資料集：「make download_data」</block>
  <block id="41165a10471c0644aef30b976f113946" category="list-text">預先處理資料：製作「preprocure_data」</block>
  <block id="f0bacb5df46d2e8bed3d6d0d863fce01" category="list-text">RUN：「make build」。</block>
  <block id="189eed4566c6894d64b4d4f8bc9df94c" category="list-text">在運算伺服器中建置專為GPU最佳化的推斷引擎：「make general_引擎」</block>
  <block id="4efea18a74f8c5a6fa0f4b239ff2d734" category="list-text">若要執行推斷工作負載、請執行下列（一個命令）：</block>
  <block id="9ce2624cb32bec75a2ad4e276fa594f6" category="section-title">AI推斷會執行</block>
  <block id="2a71d3fa50a14f6fa9c62d9fe3935d5d" category="paragraph">執行了三種類型的執行：</block>
  <block id="3a4a320ee019614122e99baebf056b86" category="list-text">使用本機儲存設備的單一伺服器AI推斷</block>
  <block id="adf25fe660bba733a104887732393fdd" category="list-text">使用網路儲存設備的單一伺服器AI推斷</block>
  <block id="34e4c32e4097a70208139be85d5dc892" category="list-text">使用網路儲存設備的多伺服器AI推斷</block>
  <block id="7dc96590f7bab3379a7a79986056d22a" category="inline-link-macro">下一步：測試結果。</block>
  <block id="697d202c2969580ba0434be04d39a929" category="paragraph"><block ref="697d202c2969580ba0434be04d39a929" category="inline-link-macro-rx"></block></block>
  <block id="7580f940c2b73a449943bf14cfdb743e" category="summary">本頁說明如何組態雲端資源Azure NetApp Files 以利執行功能。</block>
  <block id="9ab9ef31301ca94d2090a6ac7e5141f0" category="doc">雲端資源需求</block>
  <block id="1cee510209f529b7ddd8911bbc6e3ee2" category="inline-link-macro">先前版本：軟體需求。</block>
  <block id="abab2b04b3822b72d0eeb7b61dd84730" category="paragraph"><block ref="abab2b04b3822b72d0eeb7b61dd84730" category="inline-link-macro-rx"></block></block>
  <block id="00130c4c20e30be7264c0ff0d085261b" category="section-title">設定Azure NetApp Files 功能</block>
  <block id="d696f60435e09b1c41d1db77b458999b" category="inline-link">快速入門：設定Azure NetApp Files 功能以建立NFS磁碟區</block>
  <block id="b955f251da04c8c868b22cbe7663a4f5" category="paragraph">如Azure NetApp Files 所述設定功能<block ref="f8525997ced72f3cfd70e1aecf287af9" category="inline-link-rx"></block>。</block>
  <block id="4ee734214d7dd4e522f2aab3d8e3d349" category="paragraph">您可以跳過「Create NFS volume for Azure NetApp Files the Sfor the Sfor the」一節、因為您要透過Trident建立Volume。在繼續之前、請先完成下列步驟：</block>
  <block id="2a304a1348456ccd2234cd71a81bd338" category="inline-link">連結</block>
  <block id="b1d13ce152415787185b9f596f9635e1" category="list-text">註冊Azure NetApp Files 以取得NetApp資源供應商（透過Azure Shell）（<block ref="7a85c4f09a460b2978e2b516b5474576" category="inline-link-rx"></block>）。</block>
  <block id="4c21364a09ae3c9dab758e383fcae62d" category="list-text">在Azure NetApp Files 以下網頁建立帳戶<block ref="27e1abf4e17aeb1c0d418f5fee2f2b5f" category="inline-link-rx"></block>）。</block>
  <block id="97f203356061531d1acaf022df0d4c3c" category="list-text">設定容量資源池（最低4TB標準或Premium、視您的需求而定）（<block ref="16f1daa909eef5f1fe1f552d6b28d086" category="inline-link-rx"></block>）。下表列出在雲端設定的網路組態需求。dask叢集與Azure NetApp Files VMware必須位於同一個Azure虛擬網路（vnet）或對等虛擬網路中。</block>
  <block id="ddcf50c29294d4414f3f7c1bbc892cb5" category="cell">資源</block>
  <block id="3e19b1ddc4033d0c6c439dad720f730d" category="cell">類型/版本</block>
  <block id="f938809a358080d4c7a941e59abfca40" category="cell">Azure Kubernetes服務</block>
  <block id="f2d1dd8f39098da402272f7606fd2638" category="cell">1.18.14</block>
  <block id="21b6b0c072968b7235d21d8ec72be5dc" category="cell">代理節點</block>
  <block id="e5262abb96ddec17ecbca3557e70ea26" category="cell">3倍Standard_DS2_v2</block>
  <block id="c64f4eaffc33134095fd3105b3d63832" category="cell">GPU節點</block>
  <block id="11fed615c3da90add7abe544e965fa14" category="cell">3倍Standard_NC6s_v3</block>
  <block id="238f4027146f2469c7d1209e594471e4" category="cell">標準容量資源池</block>
  <block id="9163995275052e5abd777ae389b15dfd" category="cell">容量（以TB為單位）</block>
  <block id="a6a0cae93cb8ecdef629c6de5f05989c" category="inline-link-macro">下一步：點選率預測使用案例摘要。</block>
  <block id="a5efee0d52d97830d344cded6ac0bf5c" category="paragraph"><block ref="a5efee0d52d97830d344cded6ac0bf5c" category="inline-link-macro-rx"></block></block>
  <block id="e88a70d67e9de42d391fd019f2d06484" category="summary">若要深入瞭解本文所述資訊、請檢閱下列文件與網站。</block>
  <block id="0f68b904e33d9ac04605aecc958bcf52" category="doc">其他資訊</block>
  <block id="b49efd5b259d6a3bceda1ebb8e34064a" category="list-text">資料集：TuSimple</block>
  <block id="61554b11b65c50bf7a094a86d699c8d5" category="inline-link"><block ref="61554b11b65c50bf7a094a86d699c8d5" category="inline-link-rx"></block></block>
  <block id="b150fd9c1d7740c871626031a398c8a3" category="paragraph"><block ref="b150fd9c1d7740c871626031a398c8a3" category="inline-link-rx"></block></block>
  <block id="a3a3504f7b11916e352125a598e15797" category="list-text">深度學習網路架構：空間凸狀神經網路</block>
  <block id="6467a460cb421335f9f5b0523c38c9a6" category="inline-link"><block ref="6467a460cb421335f9f5b0523c38c9a6" category="inline-link-rx"></block></block>
  <block id="35527148b08f99f1d85797af833430dc" category="paragraph"><block ref="35527148b08f99f1d85797af833430dc" category="inline-link-rx"></block></block>
  <block id="cc1881adebe7ddf5b873966741a32ef1" category="list-text">分散式深度學習訓練架構：Horovod</block>
  <block id="732f85d0d5eaa9222831dd5290518ff2" category="inline-link"><block ref="732f85d0d5eaa9222831dd5290518ff2" category="inline-link-rx"></block></block>
  <block id="655c281079d0281fcf4b8f2f08634c16" category="paragraph"><block ref="655c281079d0281fcf4b8f2f08634c16" category="inline-link-rx"></block></block>
  <block id="934b1fbd011b584c4878284f454f812e" category="list-text">RUN：AI Container協調解決方案：RUN：AI產品簡介</block>
  <block id="64b899832bfcad18bb426fb355a0d03b" category="inline-link"><block ref="64b899832bfcad18bb426fb355a0d03b" category="inline-link-rx"></block></block>
  <block id="b78ec84f003a4d277e318031a163e191" category="paragraph"><block ref="b78ec84f003a4d277e318031a163e191" category="inline-link-rx"></block></block>
  <block id="275dbaaa3169640f82917075918df905" category="list-text">執行：AI安裝文件</block>
  <block id="1173c05ffb489483ec926c6c1dbc3c26" category="inline-link"><block ref="1173c05ffb489483ec926c6c1dbc3c26" category="inline-link-rx"></block></block>
  <block id="517046a8acf2e7fa61798debc5b6e25e" category="inline-link"><block ref="517046a8acf2e7fa61798debc5b6e25e" category="inline-link-rx"></block></block>
  <block id="b8b2e04f115b148d49a8cb477ed86af9" category="paragraph"><block ref="f03e58e4917966d9b82995c8ce69643b" category="inline-link-rx"></block><block ref="3530112fad5ba376549c9e0750df83f3" category="inline-link-rx"></block></block>
  <block id="8787c0bfc5af7ce34db56c9a5739f788" category="list-text">在RUN（執行）中提交工作：AI CLI</block>
  <block id="99a4cc6ec01bd067dc6642e6fd5efa0a" category="inline-link"><block ref="99a4cc6ec01bd067dc6642e6fd5efa0a" category="inline-link-rx"></block></block>
  <block id="ca4ef6cf830a9de78ea71279d0d5417c" category="paragraph"><block ref="ca4ef6cf830a9de78ea71279d0d5417c" category="inline-link-rx"></block></block>
  <block id="984fd97f526f8afe9d2472b0894b84c2" category="inline-link"><block ref="984fd97f526f8afe9d2472b0894b84c2" category="inline-link-rx"></block></block>
  <block id="65640a241681656a4410cd7184278c9b" category="paragraph"><block ref="65640a241681656a4410cd7184278c9b" category="inline-link-rx"></block></block>
  <block id="33a756969a35b0a9029bf2a2c10e6d67" category="list-text">Azure Cloud資源Azure NetApp Files</block>
  <block id="99ac98f589f6b551211f31e86cb9a212" category="inline-link"><block ref="99ac98f589f6b551211f31e86cb9a212" category="inline-link-rx"></block></block>
  <block id="3085d4407b575d4a8938814c7db17d92" category="paragraph"><block ref="3085d4407b575d4a8938814c7db17d92" category="inline-link-rx"></block></block>
  <block id="21d0acc34f6416d6ebd8074617c57439" category="inline-link"><block ref="21d0acc34f6416d6ebd8074617c57439" category="inline-link-rx"></block></block>
  <block id="91c4b230ded9b13564b447ba71304aeb" category="paragraph"><block ref="91c4b230ded9b13564b447ba71304aeb" category="inline-link-rx"></block></block>
  <block id="d9d650693b25d0540fbb606b1d1fbe4e" category="list-text">Azure VM SKU</block>
  <block id="08318cbecd61665ab1824d118c1029a5" category="inline-link"><block ref="08318cbecd61665ab1824d118c1029a5" category="inline-link-rx"></block></block>
  <block id="3e05fd8f7e2e0ac6116dd746a8823eaa" category="paragraph"><block ref="3e05fd8f7e2e0ac6116dd746a8823eaa" category="inline-link-rx"></block></block>
  <block id="b9a1a7c8f2194407b24183f7826d2e44" category="list-text">搭載GPU SKU的Azure VM</block>
  <block id="6046df9266bb79e1d99f9c232c1835e3" category="inline-link"><block ref="6046df9266bb79e1d99f9c232c1835e3" category="inline-link-rx"></block></block>
  <block id="d0bf246853f6f35070f6a8231d468c87" category="paragraph"><block ref="d0bf246853f6f35070f6a8231d468c87" category="inline-link-rx"></block></block>
  <block id="43a545df8285ba2aba289a52824f250d" category="inline-link"><block ref="43a545df8285ba2aba289a52824f250d" category="inline-link-rx"></block></block>
  <block id="944823ac69152177e369bd5d9a61a02f" category="paragraph"><block ref="944823ac69152177e369bd5d9a61a02f" category="inline-link-rx"></block></block>
  <block id="a9359a0f51034e1b1972f7690fe03f71" category="list-text">採用NetApp技術的Data Fabric</block>
  <block id="781262103885a96ffc9275431a7ef132" category="inline-link"><block ref="781262103885a96ffc9275431a7ef132" category="inline-link-rx"></block></block>
  <block id="93e35e3e458c1d81846aa83c346e240e" category="paragraph"><block ref="93e35e3e458c1d81846aa83c346e240e" category="inline-link-rx"></block></block>
  <block id="cb39fb629a91fdf37928a15d38e05318" category="list-text">加快創新速度。透過使用Run：AI資源集合、佇列及優先順序機制搭配NetApp儲存系統、可讓研究人員擺脫基礎架構管理的麻煩、專注於資料科學。RUN：AI與NetApp客戶可在不產生運算或資料傳輸途徑瓶頸的情況下、視需要執行任意數量的工作負載、進而提高生產力。</block>
  <block id="8df86cf2931aab70fd9ad1f919f40449" category="list-text">提高團隊生產力。RUN：AI公平演算法保證所有使用者和團隊都能獲得公平的資源共享。您可以預設優先專案的相關原則、而平台可將資源從一個使用者團隊動態分配到另一個使用者團隊、協助使用者及時存取令人夢寐以求的GPU資源。</block>
  <block id="c835378d4be1896f62ef5d2760340909" category="list-text">提升GPU使用率。Run:AI排程器可讓使用者輕鬆使用分數GPU、整數GPU及GPU的多個節點、以進行Kubernetes的分散式訓練。如此一來、AI工作負載就會根據需求而非容量來執行。資料科學團隊能夠在相同的基礎架構上執行更多AI實驗。</block>
  <block id="dde440f8f7c47863e65c2d82a820b8a5" category="paragraph"><block ref="d9533ea5c6cb975dff314dace88f2aa4" category="inline-link-macro-rx"></block>。</block>
  <block id="4ed0a51bc1c995651eec6f50591eec1a" category="section-title">NetApp ONTAP 產品AI與Cloud Sync 產品</block>
  <block id="bff183f31dd9706bece9767f4388a819" category="paragraph">NetApp ONTAP 採用NVIDIA DGX系統和NetApp雲端連線儲存系統的NetApp AI架構、是由NetApp和NVIDIA開發與驗證的。此參考架構可為IT組織提供下列優勢：</block>
  <block id="88acd7d612f76d7928b6b0448806e1ea" category="list-text">提供多種儲存選項、適用於各種效能與成本點NetApp ONTAP AI將DGX系統與NetApp AFF 推出先進的網路功能、緊密整合在一起。NetApp ONTAP 採用AI和DGX系統、可免除設計複雜度和猜測、簡化AI部署。客戶可以從小規模開始、以不中斷的方式擴充系統、同時以智慧方式管理從邊緣到核心到雲端及後端的資料。</block>
  <block id="69be3bc10a1ad78dbe823def1907c730" category="paragraph">NetApp Cloud Sync 支援您在各種傳輸協定之間輕鬆移動資料、無論資料是在兩個NFS共用區、兩個CIFS共用區或一個檔案共用區、以及Amazon S3、Amazon Elastic File System（EFS）或Azure Blob儲存區之間。雙主動式作業表示您可以繼續同時使用來源和目標、並在必要時逐步同步資料變更。透過讓您在任何來源與目的地系統之間移動及逐步同步資料、Cloud Sync 無論是內部部署或雲端型、都能開啟各種新的資料使用方式。在內部部署系統、雲端內建與雲端移轉、或是協同作業與資料分析之間移轉資料、都能輕鬆達成。下圖顯示可用的來源和目的地。</block>
  <block id="1e01782ef13699818c9eb9eab796bffc" category="paragraph">在對話式AI系統中、開發人員可以利用Cloud Sync 支援功能將對話歷史記錄從雲端歸檔至資料中心、以便進行自然語言處理（NLP）模式的離線訓練。透過訓練模式來辨識更多意圖、對話式AI系統將能更妥善地管理終端使用者提出的更複雜問題。</block>
  <block id="45f2cdf50f8bb89b245e814009b4244c" category="section-title">NVIDIA JARVIS多模式架構</block>
  <block id="7e3a7922ac3cd73ae37b26c0b9c99ee3" category="paragraph"><block ref="7e3a7922ac3cd73ae37b26c0b9c99ee3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7ad66827309f61fd22dc58cbbb2f8273" category="inline-link">NVIDIA JARVIS</block>
  <block id="241d985aedf9124840f9adfa9496755d" category="paragraph"><block ref="9f89431954623c8e5c580e4350b427e7" category="inline-link-rx"></block> 是用於建立對話式AI服務的端點對端點架構。其中包括下列GPU最佳化服務：</block>
  <block id="bb3e7af8136880e3a92118c172aed302" category="list-text">自動語音辨識（ASR）</block>
  <block id="3c07089a439435a2998f14ea97f90825" category="list-text">自然語言理解（NLU）</block>
  <block id="8375cc1d63ce172363c4ed9c3cddd508" category="list-text">與網域專屬履約服務整合</block>
  <block id="84fb561f92aa70d5e118f429e98ee99b" category="list-text">文字轉換語音（TTS）</block>
  <block id="9478a4e1be70e1be0fdd56f3929bbdc2" category="list-text">以電腦視覺（CV）JARVIS為基礎的服務採用最先進的深度學習模式、以因應即時對話AI的複雜且具挑戰性的工作。為了與終端使用者進行即時且自然的互動、這些模型需要在300毫秒內完成運算。自然互動是一項挑戰、需要多式模式的感測整合。模型管線也很複雜、需要在上述服務之間進行協調。</block>
  <block id="c29efa8b1d5c9d6d647a8ce72bef1b74" category="paragraph">JARVIS是一個完全加速的應用程式架構、可用來建置多式對話AI服務、並使用端點對端深度學習管道。JARVIS架構包括預先訓練的對話AI模型、工具、以及針對語音、願景和NLU工作所提供的最佳化端對端服務。除了AI服務之外、JARVIS還能讓您同時融合視覺、音訊及其他感應器輸入、在虛擬助理、多位使用者的資訊化和客服中心助理等應用程式中、提供多重使用者、多重內容對話等功能。</block>
  <block id="dfcc0491fc5a6e738ca8b5ef3a258093" category="section-title">NVIDIA Nemo</block>
  <block id="dc3652fc64a2a6ea2a3cfd5c40443b16" category="paragraph"><block ref="4282ee73b9eecd67e90ed51f4f36b077" category="inline-link-rx"></block> 是開放原始碼的Python工具套件、使用易於使用的應用程式設計介面（API）、建置、訓練及微調GPU加速的最新對話AI模型。Nemo使用NVIDIA GPU中的Tensor Cores執行混合式精密運算、可輕鬆擴充至多個GPU、以提供最高的訓練效能。Nemo可用於建置即時ASR、NLP及TTS應用程式的模型、例如視訊通話轉譯、智慧型視訊助理、以及跨不同產業垂直市場（包括醫療、金融、零售及電信）的自動化呼叫中心支援。</block>
  <block id="4e5ae683e2a399c166a1724b0aa6952e" category="paragraph">我們使用Nemo來訓練模型、以辨識歸檔對話記錄中使用者問題的複雜意圖。這項訓練將零售虛擬助理的能力延伸到JARVIS所提供的支援之外。</block>
  <block id="053bc62e92a61e44afd338bcb27c422f" category="section-title">零售使用案例摘要</block>
  <block id="8b6b761738b93e745ffa4f73dd233c08" category="paragraph">我們使用NVIDIA JARVIS打造虛擬零售助理、接受語音或文字輸入、並回答有關天氣、興趣點和庫存定價的問題。對話式AI系統能夠記住對話流程、例如、如果使用者未指定天氣或興趣點的位置、請詢問後續問題。系統也能辨識複雜的實體、例如「泰國菜」或「筆記型電腦記憶體」。 它瞭解自然語言問題、例如「下週洛杉磯會下雨嗎？」 您可以在中找到零售虛擬助理的示範<block ref="0ba395e7fb59bace5ff35ab3c02ad737" category="inline-link-rx"></block>。</block>
  <block id="af8f881c5074e5e10cd7a34ccbaa9e57" category="paragraph"><block ref="af8f881c5074e5e10cd7a34ccbaa9e57" category="inline-link-macro-rx"></block></block>
  <block id="65f63f96295566cd4278775eef1b4c8c" category="doc">部分GPU配置、適用於要求較低或互動性較差的工作負載</block>
  <block id="1b3d285072ee60a98cde2f66b6e47fde" category="paragraph">當研究人員和開發人員在開發、超參數調校或偵錯階段、都在研究他們的模型時、這類工作負載通常需要較少的運算資源。因此、配置部分GPU和記憶體的效率較高、因此同一個GPU可同時分配給其他工作負載。RUN：AI的協調化解決方案為Kubernetes上的容器化工作負載提供部分GPU共享系統。系統支援執行CUDA程式的工作負載、特別適合輕量化AI工作、例如推斷和建構模型。部分GPU系統可讓資料科學和AI工程團隊在單一GPU上同時執行多個工作負載。如此一來、公司就能在同一個硬體上執行更多工作負載、例如電腦視覺、語音辨識和自然語言處理、進而降低成本。</block>
  <block id="5db1fcd5bb529fa2475aaf893414d2e4" category="paragraph">RUN：AI的部分GPU系統可有效建立虛擬化邏輯GPU、並提供其專屬的記憶體與運算空間、讓容器如同獨立的處理器一樣使用及存取。如此一來、多個工作負載就能在同一個GPU的容器中並排執行、而不會互相干擾。此解決方案透明、簡單且可攜、不需變更容器本身。</block>
  <block id="71cdf780e37cc9571b5fcd0bf89958b1" category="paragraph">典型的usecase可以看到在同一個GPU上執行兩到八個工作、也就是說、您可以使用相同的硬體來執行八倍的工作。</block>
  <block id="0a1f69603a47f75f701f92ad7d94e3c5" category="paragraph">從下圖中的項目"team d（團隊d）"的"Fract05（分裂05）"工作中可以看出，分配給GPU的數量是0.5。「nvidia-smi」命令可進一步驗證、顯示容器可用的GPU記憶體為16255MB：DGX-1節點每V100 GPU 32GB的一半。</block>
  <block id="e6d9743072cdc6867ea2980c7db7e7fd" category="paragraph"><block ref="e6d9743072cdc6867ea2980c7db7e7fd" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9afb11deef37d75cf56adc6e1a2f4020" category="inline-link-macro">下一步：使用過度配額GPU配置來實現高叢集使用率</block>
  <block id="15968f671ef08561726e3064358c707b" category="paragraph"><block ref="15968f671ef08561726e3064358c707b" category="inline-link-macro-rx"></block></block>
  <block id="2e240897109c5037e05afe0bf035d177" category="inline-link-macro">上一篇：結論。</block>
  <block id="d3202b7eec66185e032fcad76b4c2aa3" category="paragraph"><block ref="d3202b7eec66185e032fcad76b4c2aa3" category="inline-link-macro-rx"></block></block>
  <block id="27a5a0a02525fbb66788e119b829fe28" category="list-text">產品特色：Azure NetApp Files</block>
  <block id="45bd81d391ee3bd9831a237bff32b2c1" category="list-text">解決方案架構頁Azure NetApp Files 面</block>
  <block id="57b815cb2da0c842a09d5ef586792c0a" category="inline-link"><block ref="57b815cb2da0c842a09d5ef586792c0a" category="inline-link-rx"></block></block>
  <block id="02508d077a7c6fbe1035568c37610d22" category="paragraph"><block ref="02508d077a7c6fbe1035568c37610d22" category="inline-link-rx"></block></block>
  <block id="f42fced7b7a9bfef49a209632add6f80" category="list-text">Trident持續儲存容器：</block>
  <block id="158e66cfa121c58b072656402170ca60" category="list-text">可與Trident一起使用Azure NetApp Files</block>
  <block id="d9fe72ef646d82c8372b45ff009726a2" category="inline-link"><block ref="d9fe72ef646d82c8372b45ff009726a2" category="inline-link-rx"></block></block>
  <block id="e3c781df174a80c19c70a938b96db93a" category="paragraph"><block ref="e3c781df174a80c19c70a938b96db93a" category="inline-link-rx"></block></block>
  <block id="145f2a04d99fdbd7a450ef83e82d471b" category="list-text">DASK和水流：</block>
  <block id="df5eb1591e808e358e02221e1e0111e6" category="list-text">dask</block>
  <block id="7db6639777894f081a3d7c055b97900a" category="inline-link"><block ref="7db6639777894f081a3d7c055b97900a" category="inline-link-rx"></block></block>
  <block id="4846c68fb34aec3b1b7b7de96d27e71f" category="paragraph"><block ref="4846c68fb34aec3b1b7b7de96d27e71f" category="inline-link-rx"></block></block>
  <block id="41563f9620e92fbfd1e105e32ac297e4" category="list-text">安裝dsask</block>
  <block id="8659b02378fc9b47aac4428f69411abc" category="inline-link"><block ref="8659b02378fc9b47aac4428f69411abc" category="inline-link-rx"></block></block>
  <block id="972dffc891589785367dd3581a5abcef" category="paragraph"><block ref="972dffc891589785367dd3581a5abcef" category="inline-link-rx"></block></block>
  <block id="3ba7abeba4fd0f5d5ca9072155319afd" category="list-text">DAsk API</block>
  <block id="f7673aa4f6b36ba9952cef7c98115776" category="inline-link"><block ref="f7673aa4f6b36ba9952cef7c98115776" category="inline-link-rx"></block></block>
  <block id="d43a23bd530cae7ba37a2e0ed6513bad" category="paragraph"><block ref="d43a23bd530cae7ba37a2e0ed6513bad" category="inline-link-rx"></block></block>
  <block id="1bfabf7fb7bf05567331dfc3d20c4921" category="list-text">DAsk機器學習</block>
  <block id="9e480c1539fe5b14bbbcefb9676dc031" category="inline-link"><block ref="9e480c1539fe5b14bbbcefb9676dc031" category="inline-link-rx"></block></block>
  <block id="d05f63d77306100c615132f350f3fafe" category="paragraph"><block ref="d05f63d77306100c615132f350f3fafe" category="inline-link-rx"></block></block>
  <block id="90223e93e145939c9954970520e1767a" category="list-text">DAsk分散式診斷</block>
  <block id="e7252fe9d67234e05be7dc251c48cf74" category="inline-link"><block ref="e7252fe9d67234e05be7dc251c48cf74" category="inline-link-rx"></block></block>
  <block id="925c8b588cf5ae5fc486494a21fba8ac" category="paragraph"><block ref="925c8b588cf5ae5fc486494a21fba8ac" category="inline-link-rx"></block></block>
  <block id="193721fbb9ea3851cafcea43a4d95f73" category="list-text">ML架構與工具：</block>
  <block id="1b2766572fa1896116e3c218eb697113" category="list-text">TensorFlow：適用於所有人的開放原始碼機器學習架構</block>
  <block id="c8c2399b3aef347e9bdc7ab4ff8da4e0" category="inline-link"><block ref="c8c2399b3aef347e9bdc7ab4ff8da4e0" category="inline-link-rx"></block></block>
  <block id="d97adf46c9b097cad5eff54e3b65a21f" category="paragraph"><block ref="d97adf46c9b097cad5eff54e3b65a21f" category="inline-link-rx"></block></block>
  <block id="4c3db4ae25b5f5aaa206a7fedd201322" category="inline-link"><block ref="4c3db4ae25b5f5aaa206a7fedd201322" category="inline-link-rx"></block></block>
  <block id="528d52adf23d34a248f0b9bf684c1832" category="paragraph"><block ref="528d52adf23d34a248f0b9bf684c1832" category="inline-link-rx"></block></block>
  <block id="30136395f01879792198317c11831ea4" category="list-text">Kubernetes</block>
  <block id="9b4643ea7f05b216a0cf56ceddb43241" category="inline-link"><block ref="9b4643ea7f05b216a0cf56ceddb43241" category="inline-link-rx"></block></block>
  <block id="6bd14be39aedfe96ceacec2caaac0532" category="paragraph"><block ref="6bd14be39aedfe96ceacec2caaac0532" category="inline-link-rx"></block></block>
  <block id="a33d91971f7757996ab0eb8eb0362814" category="inline-link"><block ref="a33d91971f7757996ab0eb8eb0362814" category="inline-link-rx"></block></block>
  <block id="6771540ad76dbed724cb9025978b8510" category="paragraph"><block ref="6771540ad76dbed724cb9025978b8510" category="inline-link-rx"></block></block>
  <block id="cc68740519bf7afc9dc5c17acc7db61e" category="list-text">Jupyter筆記型電腦伺服器</block>
  <block id="c90a0598d42425e6ec2dfb3058534b35" category="inline-link"><block ref="c90a0598d42425e6ec2dfb3058534b35" category="inline-link-rx"></block></block>
  <block id="ef9e62eeb81c0987fbe61de48635886a" category="paragraph"><block ref="ef9e62eeb81c0987fbe61de48635886a" category="inline-link-rx"></block></block>
  <block id="a43c7ca8f7e6a4a034f6a940ec7566f5" category="inline-link-macro">下一步：版本歷程記錄。</block>
  <block id="5f751f93279ebf35ea83b9aa80ef02df" category="paragraph"><block ref="5f751f93279ebf35ea83b9aa80ef02df" category="inline-link-macro-rx"></block></block>
  <block id="cff4cbb413623685c446a2632974cf62" category="summary">本頁比較使用傳統Pandas的模型訓練時間與dask。對於Pandas而言、由於處理時間變慢、因此載入的資料量較少、以避免記憶體溢位。因此、我們將結果插補以提供公平的比較。</block>
  <block id="014020acc8f97c1da58961d44b6301eb" category="doc">訓練時間比較</block>
  <block id="76c5145913d13d6c3105c4265a78047e" category="inline-link-macro">上一步：使用原生工作串流儀表板監控dask。</block>
  <block id="a871e4d194e2df9c65b061a5fc7cb154" category="paragraph"><block ref="a871e4d194e2df9c65b061a5fc7cb154" category="inline-link-macro-rx"></block></block>
  <block id="c8ed0bb49061765f5f30ba006ea7c5c0" category="paragraph">本節比較使用傳統Pandas的模型訓練時間與dask。對於Pandas而言、由於處理時間變慢、因此載入的資料量較少、以避免記憶體溢位。因此、我們將結果插補以提供公平的比較。</block>
  <block id="5b5214524edbd74fb721da08e61c8a41" category="paragraph">下表顯示隨機樹系模型使用的資料大幅減少時的原始訓練時間比較（資料集的20億個資料集中、有500萬列的資料）。此範例僅使用所有可用資料的0.25%以下。而對於dASK CUML、我們則針對所有200億個可用資料列、訓練隨機樹系模型。這兩種方法可提供相當的訓練時間。</block>
  <block id="40a68b5da4b9b224764558bb02ecd028" category="cell">方法</block>
  <block id="0e90ab0d7d04d2a878961f8d40071c83" category="cell">訓練時間</block>
  <block id="24cc88af022e13431f8005b38f74e0fd" category="cell">科學套件學習：在第15天只使用50M列做為訓練資料</block>
  <block id="26e394f0b8009246698f4844db682015" category="cell">47分21秒</block>
  <block id="ed536b2798ed9f16a79fb8f772601548" category="cell">「激流勇進」：將第15天的全部20B列當作訓練資料</block>
  <block id="8809f6d1a4b5cbd872b52f83e378e527" category="cell">1小時12分鐘11秒</block>
  <block id="57093fade268287629c2720356ecac57" category="paragraph">如果我們以線性方式插補訓練時間結果、如下表所示、則搭配使用dask的分散式訓練將有顯著的優勢。傳統的「大作大作」學習方法需要13天的時間來處理和訓練45GB的資料、只需一天的點擊記錄、而「大浪」方法則能以相同數量的資料處理速度快262.39倍。</block>
  <block id="36ebc33745cb5ac06238c615c8aaebdc" category="cell">科學套件-學習：將第15天的所有20B列當作訓練資料</block>
  <block id="b2ab615236e8c7812b0ab7dff59c552f" category="cell">13天、3小時、40分鐘及11秒</block>
  <block id="0d7cda3e89555f27bf26cf0c0c4f4fed" category="paragraph">在上表中、您可以看到、透過使用配備DASK的PRUs將資料處理和模型訓練分散到多個GPU執行個體、相較於使用sciker-Learn模型訓練的傳統Pandas DataFrame處理、執行時間大幅縮短。此架構可在多節點、多GPU叢集內、在雲端及內部部署中進行橫向擴充。</block>
  <block id="fbd52cffa97d6ec5e0230516fc61f14c" category="inline-link-macro">接下來：使用Prometheus和Grafana監控dask和水流。</block>
  <block id="78117011d88a8971f2eadbeee6ac6474" category="paragraph"><block ref="78117011d88a8971f2eadbeee6ac6474" category="inline-link-macro-rx"></block></block>
  <block id="7661400c51b9fc184bdec46eb5577ff9" category="doc">從GitHub取得程式碼</block>
  <block id="1a3652d661d6b73b6aa57aff1fa5e4d4" category="paragraph">現在NetApp Cloud Volume或NetApp Trident Volume可用於Iguazio叢集和開發人員環境、您就可以開始檢閱應用程式。</block>
  <block id="ae53ae826cc9a587fbaee0e834dd75ca" category="paragraph">使用者擁有自己的工作區（目錄）。在每個筆記型電腦上、使用者目錄的路徑都是「/使用者」。Iguazio平台負責管理目錄。如果您依照上述指示操作、NetApp Cloud Volume可在「/NetApp」目錄中找到。</block>
  <block id="754e85a9ea7f4fbb718080a73790abdb" category="paragraph">使用Jupyter終端從GitHub取得程式碼。</block>
  <block id="1d706cc291efb1d79274befd6f9dd64c" category="paragraph"><block ref="1d706cc291efb1d79274befd6f9dd64c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="12d0e4b8ba8db4e6a7aa1dda942a1ed4" category="paragraph">在Jupyter終端機提示字元下、複製專案。</block>
  <block id="d4095d9e0ab52b6d683ace00b5cbea55" category="paragraph">現在您應該可以在Jupyter工作區的檔案樹狀結構中看到「netops-netapp'」資料夾。</block>
  <block id="f8161ff446bbd6f76b0d99d6f34a1d7f" category="inline-link-macro">下一步：設定工作環境</block>
  <block id="48dd929a2f5f248856ce2768950aff4e" category="paragraph"><block ref="48dd929a2f5f248856ce2768950aff4e" category="inline-link-macro-rx"></block></block>
  <block id="a7fbadb37067070a61a3da62b548ba3c" category="paragraph">NVIDIA Nemo是NVIDIA專為建立對話式AI應用程式所打造的工具套件。此工具套件包含預先訓練的ASR、NLP和TS模組集合、可讓研究人員和資料科學家輕鬆建立複雜的神經網路架構、並將更多焦點放在設計自己的應用程式上。</block>
  <block id="1a56a4858eeec63d31bc890d38325b84" category="paragraph">如上例所示、Nara只能處理有限類型的問題。這是因為預先訓練的NLP模式只會訓練這些類型的問題。如果我們想要讓Nara能夠處理更廣泛的問題、就必須重新訓練自己的資料集。因此、我們在此示範如何使用Nemo來延伸NLP模式、以滿足需求。首先、我們會將從Nara收集的記錄轉換成Nemo格式、然後與資料集一起訓練、以強化NLP模式。</block>
  <block id="4e19d1e300ea3cd63472939c24caf65d" category="paragraph">我們的目標是讓Nara根據使用者偏好來排序項目。例如、我們可能會請Nara推薦評價最高的壽司餐廳、或是想要Nara以最低價格尋找這款牛仔褲。為此、我們使用Nemo提供的意向偵測和插槽填滿模式做為訓練模式。此模式可讓Nara瞭解搜尋偏好的意圖。</block>
  <block id="5cb83e5ef3cd25eb53fa55d635a7758f" category="section-title">資料準備</block>
  <block id="807cace7b07fcded06b9d106c4dd4d2d" category="paragraph">為了訓練模型、我們會收集此類問題的資料集、並將其轉換為Nemo格式。在此列出我們用來訓練模型的檔案。</block>
  <block id="dc1d3747ed1059f234cbe4a104700abd" category="section-title">dict.intents.csv</block>
  <block id="e803005a5c3a99889733e9c8e8bba406" category="paragraph">此檔案列出我們希望Nemo瞭解的所有目標。在此、我們有兩個主要目的和一個意圖、只用於將不符合任何主要目的的問題分類。</block>
  <block id="ce2440c5074ba6a1e30fa2ec906dafb4" category="section-title">dict.slots.csv</block>
  <block id="a3fc542c51797c85b30365ba9b2d12c5" category="paragraph">此檔案列出我們訓練問題上可標示的所有插槽。</block>
  <block id="795cab38744084526a62914e47789fbe" category="section-title">訓練：tsv</block>
  <block id="8a5ae45ea3762f79d1a520bcf61275d5" category="paragraph">這是主要的訓練資料集。每一行開頭都是檔案dict.intent.csv中列出的Intent類別之後的問題。從零開始列舉標籤。</block>
  <block id="db487d8daea13e36203f660d46b3cdfc" category="section-title">訓練插槽.tsv</block>
  <block id="73ade6fc5004174d2abe822c85cdfbef" category="section-title">訓練模型</block>
  <block id="c764142480a5daa39ac98125503352e8" category="paragraph">然後使用下列命令啟動容器。在此命令中、我們限制容器使用單一GPU（GPU ID = 1）、因為這是輕量化的訓練練習。我們也會將本機工作區/Works/nemo/對應至Container /nemo內的資料夾。</block>
  <block id="a712c52af847db1e143ca43fdd44bd39" category="paragraph">在容器內、如果我們想要從原本訓練好的Bert模型開始、可以使用下列命令來開始訓練程序。data_dir是設定訓練資料路徑的引數。Work目錄可讓您設定儲存檢查點檔案的位置。</block>
  <block id="9e654b2215e90d20951b3ddd67a15bc6" category="paragraph">如果我們有新的訓練資料集、而且想要改善先前的模式、我們可以使用下列命令、從停止點繼續進行。Checkpoint目錄會將路徑移至先前的檢查點資料夾。</block>
  <block id="87eea49f703666c49da2d7987ba093b2" category="section-title">推斷模型</block>
  <block id="484c4e9e4a0a20bf41551f65663fa9d2" category="paragraph">我們需要在經過一定次數的時間後、驗證受過訓練的模型的效能。下列命令可讓我們逐一測試查詢。舉例來說、在這個命令中、我們想要檢查我們的模式是否能正確識別查詢「哪裡可以找到最好的義大利麵」的意圖。</block>
  <block id="de558a28e6333ac9f453a42631f44c12" category="paragraph">接著、以下是推斷的輸出。在輸出中、我們可以看到我們訓練過的模型能夠正確預測future_the_store的意圖、並傳回我們感興趣的關鍵字。有了這些關鍵字、我們就能讓Nara搜尋使用者想要的內容、並進行更精確的搜尋。</block>
  <block id="5b7f09a1d5da38512130330f4d38fd32" category="paragraph"><block ref="5b7f09a1d5da38512130330f4d38fd32" category="inline-link-macro-rx"></block></block>
  <block id="45ce76bfe721ca13d37ca15fdbebd391" category="paragraph">作者非常感謝NVIDIA尊敬的同事們對本白皮書所做的貢獻：Davide Onosfio、Alex Qi、Sicong Ji、Marty Jain和Robert Sohigian。作者也要感謝NetApp主要團隊成員的貢獻：Santosh Rao、David Arnette、Michael Oglesby、Brent Davis、Andy Sayare、 Erik Minder和Mike McNamara。</block>
  <block id="81fbc4247f2c3a990b090cef6b9ebe03" category="paragraph">我們衷心感謝所有這些提供見解與專業知識的人員、協助他們建立本白皮書。</block>
  <block id="bc2f62a5c14dc9d16f38cc32c304164c" category="paragraph"><block ref="bc2f62a5c14dc9d16f38cc32c304164c" category="inline-link-macro-rx"></block></block>
  <block id="d68d11ee3f69a45d681f78c744cae498" category="summary">您可以將磁碟區移至另一個容量集區、使用您要的磁碟區服務層級、藉此變更現有磁碟區的服務層級。此解決方案可讓客戶從標準層級的小型資料集和少量GPU開始著手、並隨著資料量和GPU增加而橫向擴充或垂直擴充至優質層級。</block>
  <block id="2fe5665064f07acc8afc830f911c09a5" category="doc">效能等級Azure NetApp Files</block>
  <block id="d84e339c1d1265f11e2f217f8d04354a" category="inline-link-macro">上一篇：使用Helm在高峰上設定dask、並部署快速部署。</block>
  <block id="1be55e0d10ba600a3d66b1f73f978b9f" category="paragraph"><block ref="1be55e0d10ba600a3d66b1f73f978b9f" category="inline-link-macro-rx"></block></block>
  <block id="de524ca3fc83ef426bc329e1a8b712ea" category="paragraph">您可以將磁碟區移至另一個容量集區、使用您要的磁碟區服務層級、藉此變更現有磁碟區的服務層級。此解決方案可讓客戶從標準層級的小型資料集和少量GPU開始著手、並隨著資料量和GPU增加而橫向擴充或垂直擴充至優質層級。頂級層提供的處理量是標準層級的四倍、而垂直擴充則無需移動任何資料即可變更磁碟區的服務層級。</block>
  <block id="5e2ff0b5dc3206032a81aa3aecb7c462" category="section-title">動態變更磁碟區的服務層級</block>
  <block id="5f92df8a2ac38644ed8ba20e16791602" category="paragraph">若要動態變更磁碟區的服務層級、請完成下列步驟：</block>
  <block id="3f19b438418ed162387a3050b304c89b" category="list-text">在「Volumes（磁碟區）」頁面上、以滑鼠右鍵按一下您要變更其服務層級的磁碟區。選取變更資源池。</block>
  <block id="8c83c4957baac2f6fea18f9d77767e3a" category="paragraph"><block ref="8c83c4957baac2f6fea18f9d77767e3a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="21ec2eabbe87e02cad1b0d4279ea00a7" category="list-text">在「變更資源池」視窗中、選取您要將磁碟區移至的容量資源池。</block>
  <block id="ef3a0105bad35ad4c385d92daf6496a6" category="paragraph"><block ref="ef3a0105bad35ad4c385d92daf6496a6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="18d0ad44a1e563aaf9f5871e32535a6c" category="list-text">按一下「確定」。</block>
  <block id="32ae33eea9c6b04002778d814c344fb5" category="section-title">自動化效能層級變更</block>
  <block id="1c9506694c5a6fe83d1a0389d1d24564" category="paragraph">下列選項可用於自動化效能層級變更：</block>
  <block id="54a3bcd89041e8f96766dcb598b15511" category="list-text">動態服務層級變更目前仍在「公開預覽」中、預設不會啟用。若要在Azure訂閱上啟用此功能、請參閱本說明文件、瞭解如何使用<block ref="773d4c9e90e7325c5fcf35857900af6e" category="inline-link-rx"></block>。</block>
  <block id="0b01c5f61940e864222c5b29615a7eeb" category="inline-link">Volume Pool變更文件</block>
  <block id="265eed4df59633a830c9da49505786fc" category="list-text">中提供Azure CLI Volume Pool變更命令<block ref="db78b725076ccf0203288c6620e52eb9" category="inline-link-rx"></block> 以及下列範例：</block>
  <block id="4455e376dc005ca0a99be0491b917ce7" category="inline-link">Set-AzNetAppFilesVolume Pool Cmdlet</block>
  <block id="a5bce2f378011f6036711869a5e8073b" category="list-text">PowerShell<block ref="45dc9ea5ce8eabd60a14674d792889e0" category="inline-link-rx"></block> 變更Azure NetApp Files 一個聲音區的資源池、如下例所示：</block>
  <block id="b79b50d5bff47e3a668f266c7b9dbc7b" category="inline-link-macro">下一步：用於資料處理和模型訓練的程式庫。</block>
  <block id="edd770dcbb857ec8f0871955fb2f7d5d" category="paragraph"><block ref="edd770dcbb857ec8f0871955fb2f7d5d" category="inline-link-macro-rx"></block></block>
  <block id="1f9a7430deed674d394796eaea14138f" category="paragraph">本技術報告針對擁有小型至大型資料科學/工程團隊的客戶、提供準則、讓他們使用Run:AI CLI和NetApp ONTAP SAI上的系統儀表板、將Kubernetes叢集與GPU使用最佳化。其中也包括Run:AI平台安裝資訊、測試案例、以及驗證測試案例的詳細命令。Run：AI協調解決方案搭配NetApp AI Control Plane、可透過最佳資源使用率來提升開發人員生產力、進而加快創新速度。</block>
  <block id="892726726d592ee18c9ee8ad25a088ae" category="inline-link-macro">下一步：執行摘要</block>
  <block id="e6c479abab08e982bd2f0efd6e3e405a" category="paragraph"><block ref="e6c479abab08e982bd2f0efd6e3e405a" category="inline-link-macro-rx"></block></block>
  <block id="48c4dc7fbfa1197490124f13eb565bd2" category="doc">支援AI部署ONTAP</block>
  <block id="70d5c23ad68d59b2546133efdd1c3267" category="inline-link">NVA-1121-Deploy：採用ONTAP NVIDIA技術的NetApp支援</block>
  <block id="b393f072bc6b17085b75486a2abbcf97" category="paragraph">部署AI需要安裝和組態網路、運算和儲存硬體。ONTAP關於部署AI基礎架構的具體指示ONTAP 不在本文的討論範圍之內。如需詳細的部署資訊、請參閱<block ref="8c03c9c25bc6aba17e86c510148a3423" category="inline-link-rx"></block>。</block>
  <block id="03e335ae74b1356b294af55e07eb6b70" category="paragraph">針對此解決方案驗證、已建立單一磁碟區並掛載至DGX-1系統。然後將該掛載點掛載到容器中、以便進行訓練時存取資料。對於大規模部署、NetApp Trident會自動建立及安裝磁碟區、以免除管理成本、並讓終端使用者能夠管理資源。</block>
  <block id="328d9c8854162b6d9dae70c57baa7505" category="inline-link-macro">下一步：Kubernetes部署</block>
  <block id="5102c02ef61bdeaa79904c17f58ca7e3" category="paragraph"><block ref="5102c02ef61bdeaa79904c17f58ca7e3" category="inline-link-macro-rx"></block></block>
  <block id="19075a93ccd90f3ea7019f0572778b2a" category="summary">本頁列出本解決方案所需的軟體需求。</block>
  <block id="440b940924209e1d417ef7c4ef9bce34" category="paragraph"><block ref="440b940924209e1d417ef7c4ef9bce34" category="inline-link-macro-rx"></block></block>
  <block id="793d18702a236e0e3b768917638f0ba2" category="paragraph">下表列出此解決方案所需的軟體需求。</block>
  <block id="8ab697a4168b5fb33603a98d6bc9a436" category="cell">水流和dask容器影像</block>
  <block id="9ab6289633c326d69a377cbb29bd81a3" category="cell">儲存庫：「rapidsai/rapidsai」標記：0.17-sula11.0- rime-ubuntu18.04</block>
  <block id="44adee2c140fc723412bae93732e5993" category="cell">20.01.1</block>
  <block id="152090ff5e9a05ea7e1cf0c248449638" category="cell">掌舵</block>
  <block id="272f0a04b740763e0a29316bc4af89a4" category="cell">3.0.00.0</block>
  <block id="6e1b77cc3b83d87aaee751e2eaed5044" category="inline-link-macro">下一步：雲端資源需求。</block>
  <block id="58bc7690a5a3a5a1aa5dc70739fd0b53" category="paragraph"><block ref="58bc7690a5a3a5a1aa5dc70739fd0b53" category="inline-link-macro-rx"></block></block>
  <block id="1d22ea3c852f35081a408a42b1caa719" category="doc">Cnvrg-IO部署</block>
  <block id="e1d91df1cfd0e5839c45e06d0504c9d6" category="section-title">使用Helm部署cnvrg核心</block>
  <block id="7e9e2a4317009b27ebfc0b4cd222ba30" category="paragraph">使用任何叢集、內部部署、Minikube,或任何雲端叢集（例如、KS、EKS和GKE）、Helm是快速部署cnvrg的最簡單方法。本節說明如何在安裝Kubernetes的內部部署（DGX-1）執行個體上安裝cnvrg。</block>
  <block id="ea6de3fdf29035cd2d521949527c2a44" category="paragraph">在完成安裝之前、您必須先在本機機器上安裝並準備下列相依項目：</block>
  <block id="6f49e891fdb1bb11823492f4d315b2fd" category="list-text">Kubecl</block>
  <block id="5e6cef7c129d4703b20be420ac32145c" category="list-text">helm 3.x</block>
  <block id="93fafc2be5db6c259030d6d8dc989752" category="list-text">Kubernetes叢集1.15以上</block>
  <block id="116efea8faeef9714de76fe9f81d9b82" category="section-title">使用Helm進行部署</block>
  <block id="237800170a9b824a7de8c08766ea114e" category="list-text">若要下載最新的cnvrg helm圖表、請執行下列命令：</block>
  <block id="9b821098b02043dada6b07b924f4ef5f" category="list-text">部署cnvrg之前、您需要叢集的外部IP位址、以及要部署cnvrg的節點名稱。若要在內部部署的Kubernetes叢集上部署cnvrg、請執行下列命令：</block>
  <block id="1d1eb4e0da8bac1b4eaa79c1f0be9e04" category="list-text">執行「helm install」命令。所有服務和系統都會自動安裝在叢集上。此程序最多可能需要15分鐘。</block>
  <block id="e269e5751f8883222b6d2f55da7ed811" category="list-text">「helm install」命令最多可能需要10分鐘。部署完成後、請前往新部署的cnvrg的URL、或將新叢集新增為組織內部的資源。「helm」命令會通知您正確的URL。</block>
  <block id="ac0cc75e8d4f0df818dd93a00041897a" category="list-text">當所有容器的狀態都在執行或完成時、表示已成功部署cnvrg。其外觀應類似於下列輸出範例：</block>
  <block id="3e82668da957bceb0d0c7024273ab624" category="section-title">ResNet50和Chest X射線資料集的電腦願景模型訓練</block>
  <block id="c9c734dfca60f137a58e1a5cb9c89b62" category="inline-link">NIH下載網站</block>
  <block id="0c7f26c15912f9f5d0e0473bb21cb9a2" category="paragraph">Cnvrg-IO AI OS部署在Kubernetes設定上ONTAP 、採用NVIDIA DGX系統的NetApp AI架構上。為了進行驗證、我們使用NIH Chest X光資料集、其中包含已取消識別的胸前X光影像。影像採用的是PNG格式。資料由NIH臨床中心提供、可透過取得<block ref="4e3f11b94ad47864cbd9c6049036ac93" category="inline-link-rx"></block>。我們使用250 GB的資料樣本、在15個類別中使用627、615個影像。</block>
  <block id="de53b795a18176edb91a88632f621868" category="paragraph">此資料集已上傳至cnvrg平台、並從NetApp AFF S16A800儲存系統快取至NFS匯出。</block>
  <block id="ec948f075c372d4beb7d19a5266f22d5" category="section-title">設定運算資源</block>
  <block id="42af2f71dc8561eb9cfe43d45664ecb3" category="paragraph">Cnvrg架構和中繼排程功能可讓工程師和IT專業人員將不同的運算資源附加至單一平台。在我們的設定中、我們使用的叢集cnvrg與執行深度學習工作負載所部署的叢集cnvrg相同。如果您需要附加其他叢集、請使用GUI、如下面的快照所示。</block>
  <block id="df25fca4c07e68ed339b0e1974a9d59f" category="paragraph"><block ref="df25fca4c07e68ed339b0e1974a9d59f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f541774a08fc687f6e2016c77a6ebca5" category="section-title">負載資料</block>
  <block id="564bfd33ed32c02158989dfcee59ae89" category="paragraph">若要將資料上傳至cnvrg平台、您可以使用GUI或cnvrg CLI。對於大型資料集、NetApp建議使用CLI、因為它是強大、可擴充且可靠的工具、可處理大量檔案。</block>
  <block id="41ad6001e0d3c17bd4a7957e18bd8bab" category="paragraph">若要上傳資料、請完成下列步驟：</block>
  <block id="192b006166881688d04f398db712aaeb" category="inline-link">Cnvrg CLI</block>
  <block id="8e9fbcfb57e26d7a14f0292c11fae122" category="list-text">下載<block ref="d3ae4cf97b77cb5805c16205cd459ce4" category="inline-link-rx"></block>。</block>
  <block id="5cea56fcf2481a021f3d93843a22c319" category="list-text">瀏覽至X光目錄。</block>
  <block id="1c5a650f398227a4f97ed81accfbbb4b" category="list-text">使用「cnvrg data init」命令、在平台中初始化資料集。</block>
  <block id="5c48f13a3d988e0d618145098a829e3a" category="list-text">使用「cnvrg data sync」命令、將目錄的所有內容上傳至中央資料湖。資料上傳至中央物件存放區StorageGRID （例如、S3或其他）之後、您就可以使用GUI瀏覽。下圖顯示已載入的胸前X光纖維化影像PNG檔案。此外、cnvrg會將資料版本轉換成資料版本、以便您建置的任何模型都能複製到資料版本。</block>
  <block id="935b6e25167b65d839bc1487ebb2fa6e" category="paragraph"><block ref="935b6e25167b65d839bc1487ebb2fa6e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="308e9394a715dc64aa4e48e0054775ed" category="section-title">Cach資料</block>
  <block id="556cde11a66a789acb7e62b934c1a88c" category="paragraph">為了加快訓練速度、避免為每個模型訓練和實驗下載超過60萬個檔案、我們在資料一開始上傳至中央資料湖物件存放區之後、就使用了資料快取功能。</block>
  <block id="3d163413cac9b6cc4726a9c83d37fed3" category="paragraph"><block ref="3d163413cac9b6cc4726a9c83d37fed3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d006c100d76e7d21d64055ce3cfe6a24" category="paragraph">使用者按一下「Cache（快取）」後、cnvrg會從遠端物件存放區下載其特定提交的資料、並將其快取至ONTAP 「SflexNFS Volume（更新資料）」。資料完成後、即可立即接受訓練。此外、如果資料未使用數天（例如模型訓練或探索）、cnvrg會自動清除快取。</block>
  <block id="53ad459d9bb7a65de3d1cc839b75c19f" category="section-title">利用快取資料建立ML管道</block>
  <block id="db226c80bcb6098ce2f47dd3982cca26" category="paragraph">Cnvrg流程可讓您輕鬆建立正式作業ML管線。流程很靈活、可用於任何類型的ML使用案例、並可透過GUI或程式碼建立。流程中的每個元件都能以不同的Docker映像檔在不同的運算資源上執行、因此能夠建置混合雲和最佳化的ML管線。</block>
  <block id="6b0eae96748d48b032362774a6467411" category="paragraph"><block ref="6b0eae96748d48b032362774a6467411" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e1f18dfff2566b35d7d0e528565c43aa" category="section-title">建立胸前X光流程：設定資料</block>
  <block id="adec555cb8cd4de3f288baed510d1163" category="paragraph">我們將資料集新增至新建立的流程。新增資料集時、您可以選取特定版本（提交）、並指出是否要使用快取版本。在此範例中、我們選取了快取的commit。</block>
  <block id="6dd780034ed574b328dbc16a6b485b79" category="paragraph"><block ref="6dd780034ed574b328dbc16a6b485b79" category="inline-image-macro-rx" type="image"></block></block>
  <block id="13e0789c536fc18ddcdc32b4ca598b58" category="section-title">建立胸前X光流程：設定訓練模式：ResNet50</block>
  <block id="fa3c48d58d8e9fd17365fd986906dd52" category="paragraph">在管道中、您可以新增任何類型的自訂程式碼。在cnvrg中、還有AI程式庫、可重複使用的ML元件集合。AI程式庫中有演算法、指令碼、資料來源及其他解決方案、可用於任何ML或深度學習流程。在此範例中、我們選擇了預先建置的ResNet50模組。我們使用預設參數、例如batch_Size:128、epochs：10等。這些參數可在AI程式庫文件中檢視。下列螢幕快照顯示新流程、其中X光資料集已連線至ResNet50。</block>
  <block id="defe5cc08faaa501eeb5fc5500664d29" category="paragraph"><block ref="defe5cc08faaa501eeb5fc5500664d29" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bf9bb479506589dfd719446fe3e054c7" category="section-title">定義ResNet50的運算資源</block>
  <block id="943cb3f5c7789c68e811b0accdb6c5d9" category="paragraph">cnvrg流程中的每個演算法或元件都可以在不同的運算執行個體上執行、並使用不同的Docker映像檔。在我們的設定中、我們想要在採用NetApp ONTAP AI架構的NVIDIA DGX系統上執行訓練演算法。在下圖中、我們選擇了「GPU實際」、這是內部部署叢集的運算範本和規格。我們也建立了範本佇列、並選取多個範本。如此一來、如果無法分配「GPU實際」資源（例如其他資料科學家正在使用該資源）、您就可以新增雲端供應商範本來啟用自動雲端資源爆增功能。下列螢幕快照顯示如何使用GPU Real做為ResNet50的運算節點。</block>
  <block id="27c8450e6f62877ec794262ae4c5a713" category="paragraph"><block ref="27c8450e6f62877ec794262ae4c5a713" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bee38713f37ae72239f6bda08384dfbb" category="section-title">追蹤及監控結果</block>
  <block id="546b7da7049f1d7fdf35cdb57fa96c7c" category="paragraph">執行流程之後、cnvrg會觸發追蹤與監控引擎。每次流程執行都會自動記錄並即時更新。超參數、度量、資源使用率（GPU使用率等）、程式碼版本、成品、記錄、 「實驗」區段會自動提供這些功能、如下圖所示。</block>
  <block id="8fabeb8b8d143d509bb92087cbbf953c" category="paragraph"><block ref="8fabeb8b8d143d509bb92087cbbf953c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fdbd22304f732000189e44de22498da1" category="paragraph"><block ref="fdbd22304f732000189e44de22498da1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="debe391efc3dc12a7d87720a4cf068a5" category="paragraph"><block ref="debe391efc3dc12a7d87720a4cf068a5" category="inline-link-macro-rx"></block></block>
  <block id="74b3e84bf9817092a6f26ddf10a2f3f8" category="summary">本頁概述本解決方案所使用的技術。</block>
  <block id="dd5a70c15c985f455edb59eebf8d3eaa" category="paragraph"><block ref="dd5a70c15c985f455edb59eebf8d3eaa" category="inline-link-macro-rx"></block></block>
  <block id="4b2eedb67d8fb9da01af759e6e722a13" category="section-title">Microsoft與NetApp</block>
  <block id="09e4ef7b38fea4a7bdf4341b588176d6" category="paragraph">自2019年5月起、Microsoft針對企業NFS和SMB檔案服務提供Azure原生的第一方入口網站服務、以NetApp ONTAP 的更新技術為基礎。這項開發是由Microsoft與NetApp之間的策略合作關係所推動、進一步將世界級ONTAP 的流向資料服務延伸至Azure。</block>
  <block id="851e5baafa3bd23201e65e29f2fdf06a" category="paragraph">此功能是一項企業級的高效能計量檔案儲存服務。Azure NetApp Files支援任何工作負載類型、預設為高可用度。Azure NetApp Files您可以選擇服務和效能層級、並透過服務設定Snapshot複本。NetApp是Azure第一方服務、可在雲端移轉及執行最嚴苛的企業檔案工作負載、包括資料庫、SAP及高效能運算應用程式、而且不需變更程式碼。Azure NetApp Files</block>
  <block id="f014a6e06480ef33e3f1ab027f7065ca" category="paragraph">此參考架構可為IT組織提供下列優勢：</block>
  <block id="5e6e9a1ee378cf26b50e61d8bd46d54d" category="list-text">提供多種儲存層、以滿足各種效能與成本效益</block>
  <block id="295f4f6daaf50c87d2639d407c47f357" category="section-title">DAsk與NVIDIA的水流總覽</block>
  <block id="a9dcf931a9aad845de3c5b908d562955" category="paragraph">dask是一款開放原始碼的平行運算工具、可在多部機器上擴充Python程式庫、並提供更快的大量資料處理速度。它提供的API類似於單執行緒傳統Python程式庫、例如pandas、Numbery和sciKit學習。因此、原生Python使用者不會被迫在現有程式碼中大幅變更、以使用整個叢集的資源。</block>
  <block id="955647f3573b932f8596ba04ed80b7b6" category="paragraph">NVIDIA Nirps是一套開放原始碼程式庫、可在GPU上執行端點對端點ML和資料分析工作流程。搭配dask、您可以輕鬆地從GPU工作站（垂直擴充）擴充至多節點、多GPU叢集（橫向擴充）。</block>
  <block id="7a9ece70a2d60d73203e927718fd8454" category="paragraph">若要在叢集上部署dask、您可以使用Kubernetes進行資源協調。您也可以根據程序需求來垂直擴充或向下擴充工作節點、如此有助於最佳化叢集資源使用量、如下圖所示。</block>
  <block id="b3951b803e4010ed575c9238d2803949" category="paragraph"><block ref="b3951b803e4010ed575c9238d2803949" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c2e194dd3ce5b4d001a02991ef567211" category="inline-link-macro">下一步：軟體需求。</block>
  <block id="23704e1baeed350311b18c3583ad89e9" category="paragraph"><block ref="23704e1baeed350311b18c3583ad89e9" category="inline-link-macro-rx"></block></block>
  <block id="1703cadf8e847114fb353feaaf03beb9" category="summary">本節包括在ONTAP 將Kubernetes部署在AI Pod上時、可執行的各種高效能工作範例。</block>
  <block id="639ce1b23959b4470d67802f0e5e412a" category="doc">適用於AI部署的高效能工作範例ONTAP</block>
  <block id="b7cd12d2dd9ac8e3414514a02e5df6f4" category="inline-link-macro">下一步：執行單節點AI工作負載。</block>
  <block id="6ee8519e7493385361c9afcfd675c8d0" category="paragraph"><block ref="6ee8519e7493385361c9afcfd675c8d0" category="inline-link-macro-rx"></block></block>
  <block id="1a7fa7cc4c79d5163f691ff60e6fc34d" category="doc">執行：AI儀表板和檢視</block>
  <block id="5051a9eb1fad38f876a260ba0a4850af" category="inline-link"><block ref="5051a9eb1fad38f876a260ba0a4850af" category="inline-link-rx"></block></block>
  <block id="3473dab452c5446b1a01a923e9879461" category="paragraph">在Kubernetes叢集上安裝Run:AI並正確設定容器之後、您會在上看到下列儀表板和檢視<block ref="2af90fde6f4d8ae5947b005d1208e742" category="inline-link-rx"></block> 下圖所示。</block>
  <block id="f977554b7762214959db36c20484c697" category="paragraph"><block ref="f977554b7762214959db36c20484c697" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8dfd99441ce89d4be896e4fc9757f7d2" category="paragraph">叢集中共有16個GPU、由兩個DGX-1節點提供。您可以查看節點數量、可用的GPU總數、指派給工作負載的已分配GPU、執行中工作的總數、擱置中工作、以及閒置配置的GPU。右側的長條圖顯示每個專案的GPU、其中摘要說明不同的團隊如何使用叢集資源。中間是目前執行中工作的清單、其中包含工作詳細資料、包括工作名稱、專案、使用者、工作類型、 每個工作所在的節點、為該工作分配的GPU數量、工作目前的執行時間、工作進度百分比、以及該工作的GPU使用率。請注意、叢集使用率偏低（GPU使用率為23%）、因為單一團隊（「team A」）只提交三個執行中工作。</block>
  <block id="67545e2efac33412706ff883eff2e1c4" category="paragraph">在下一節中、我們將示範如何在「專案」索引標籤中建立多個團隊、並為每個團隊分配GPU、以便在每個叢集有許多使用者時、將叢集使用率最大化並管理資源。測試案例模擬企業環境、在這些環境中、訓練、推斷及互動式工作負載之間共享記憶體與GPU資源。</block>
  <block id="73eea118e4762640a7f60136f3e5c1a0" category="inline-link-macro">下一步：為Data科學團隊建立專案並分配GPU</block>
  <block id="7c2c470385b4f61a9e9b5b0881d2f061" category="paragraph"><block ref="7c2c470385b4f61a9e9b5b0881d2f061" category="inline-link-macro-rx"></block></block>
  <block id="74c071ff3c1d6d6fc39b72d617aefdf8" category="doc">解決方案部署與驗證詳細資料</block>
  <block id="b122830b8b8edd9e76690ea23b0c4cbd" category="paragraph">下列各節將討論解決方案部署與驗證的詳細資料。</block>
  <block id="ebe48d794d8ada5d4e067cd5993bdd3e" category="inline-link-macro">下一步：ONTAP 支援AI部署</block>
  <block id="3b103491115e62f2388d69086a2eff9d" category="paragraph"><block ref="3b103491115e62f2388d69086a2eff9d" category="inline-link-macro-rx"></block></block>
  <block id="0dff6955889d5634f0212efb574ef815" category="doc">點選率預測資料處理與模型訓練</block>
  <block id="ecb81ab37e1d2a7ed6dfce3807622e3d" category="summary">本節詳細說明如何設定平台、以便使用RUN AI Orchestrator大規模執行線道偵測分散式訓練。</block>
  <block id="0714a752696f8feed939bbf52a6214f7" category="doc">線道偵測–採用RUN：AI的分散式訓練</block>
  <block id="dbf10b854b8b7fc90297279e7ad0f745" category="paragraph">本節詳細說明如何使用RUN：AI Orchestrator設定平台、以大規模執行線上偵測分散式訓練。我們將討論如何在上述平台上安裝所有解決方案元素、以及執行分散式訓練工作。使用與RUN：AI實驗連結的NetApp SnapshotTM來完成ML版本管理、以實現資料與模型的可重複性。ML版本管理在追蹤模型、團隊成員之間的共享工作、結果的重現性、將新的模型版本推向正式作業、以及資料來源等方面扮演著重要角色。NetApp ML版本控制（Snapshot）可擷取與每個實驗相關的資料、訓練模型和記錄的時間點版本。它提供豐富的API支援、可輕鬆與RUN：AI平台整合、您只需根據訓練狀態觸發事件即可。您也必須擷取整個實驗的狀態、而不需變更程式碼或在Kubernetes（K8s）上執行的容器中的任何內容。</block>
  <block id="25d19977e35c6d286c5b051982ae3f3c" category="paragraph">最後、本技術報告會在各個高架（大量）的多個GPU節點上進行效能評估、以做為總結。</block>
  <block id="1987a7039dccb848f2e8ce693ba3faff" category="section-title">使用TuSimple資料集的線道偵測使用案例分散式訓練</block>
  <block id="f75a7cb3d80e7be148c1ce86a4347011" category="paragraph">在本技術報告中、我們會在TuSimple資料集上執行分散式訓練、以偵測線道。Horovod用於訓練程式碼、可在Kubernetes叢集中的多個GPU節點上同時透過高層管理程式進行資料分散式訓練。程式碼會封裝成容器映像、以便下載及處理TuSimple資料。已處理的資料儲存在NetApp Trident外掛程式所配置的持續磁碟區上。在訓練過程中、會再建立一個容器映像、並使用下載資料時所建立之持續磁碟區中儲存的資料。</block>
  <block id="58b4798157820b4e4415d8136cf60fe9" category="paragraph">若要提交資料和訓練工作、請使用RUN：AI來協調資源分配和管理。RUN：AI可讓您執行Horovod所需的訊息傳遞介面（MPI）作業。此配置可讓多個GPU節點彼此通訊、以便在每次訓練迷你批次後更新訓練權重。它也能透過UI和CLI監控訓練、讓您輕鬆監控實驗進度。</block>
  <block id="ecbeff08f5ec15c6952355b518d4ae02" category="paragraph">NetApp Snapshot已整合於訓練程式碼中、可擷取每個實驗的資料狀態和訓練模式。此功能可讓您追蹤所使用的資料和程式碼版本、以及所產生的相關訓練模型。</block>
  <block id="63addc90b28c066bd235c900fed65314" category="section-title">設定與安裝</block>
  <block id="55b295c729173e8c0c745bb036b03270" category="paragraph">如需設定及安裝AKS叢集、請前往<block ref="77c1c334ebc4c997080bda32aa569d69" category="inline-link-rx"></block>。接著、請遵循下列一系列步驟：</block>
  <block id="8f9d847fad9782b080de76b0161b1c45" category="list-text">選取節點類型（無論是系統（CPU）或工作（GPU）節點）時、請選取下列項目：</block>
  <block id="957d1a35f975177c3fd161490f3e2d83" category="list-text">在「tandard_DS2_v2」大小新增名為「agentpool」的主要系統節點。使用預設的三個節點。</block>
  <block id="8853a13db2e2a03cb5b2f1186fbcd0a6" category="list-text">使用「Standard_NC6s_v3」資源池大小新增工作節點「gp池」。GPU節點至少使用三個節點。</block>
  <block id="5085043d6dea89934a2e516fc46f891a" category="paragraph"><block ref="5085043d6dea89934a2e516fc46f891a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="633b880bff72a9f1c1114df31dec55bf" category="admonition">部署需要5–10分鐘。</block>
  <block id="f55bb34768c41f91318fb57b85c1def9" category="inline-link">安裝工具</block>
  <block id="6369fc9d36c9d56cbebefdeccda5fbff" category="list-text">部署完成後、按一下「Connect to Cluster（連線至叢集）」。若要連線至新建立的高層叢集、請從本機環境（筆記型電腦/電腦）安裝Kubernetes命令列工具。請造訪<block ref="bcd577f96ff7023ec6fd5c904f040896" category="inline-link-rx"></block> 以根據您的作業系統進行安裝。</block>
  <block id="811c47e56617f97db3579bc32a9085c9" category="inline-link">在您的本機環境中安裝Azure CLI</block>
  <block id="ea5d45554a3e9cb9cbc0ddea4c228b28" category="list-text"><block ref="2db79c584144175dd0bb69b6c7045fc9" category="inline-link-rx"></block>。</block>
  <block id="825ca3bff78c42ec87920dfbce105fae" category="list-text">若要從終端機存取高層叢集、請先輸入「AZ登入」、然後輸入認證資料。</block>
  <block id="193937b265ce655417f00a79334d3937" category="list-text">在Azure CLI中輸入此命令：</block>
  <block id="cbf78d8bb0be543834c56e61560773b0" category="admonition">如果這六個節點都已啟動並執行、則您的高效能叢集已準備就緒並連線至本機環境。</block>
  <block id="e8085ec7505cfe6f3cfbe2c2628386dc" category="paragraph"><block ref="e8085ec7505cfe6f3cfbe2c2628386dc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0143a2caee1b9ab090de587206b65fe6" category="section-title">建立委派子網路Azure NetApp Files 以供使用</block>
  <block id="450cf7e7f8262fdaa3454c2e11aad687" category="paragraph">若要建立Azure NetApp Files 委派的子網路以供使用、請依照下列一系列步驟操作：</block>
  <block id="0ca30ab1eb5e523356720465eb7439c8" category="list-text">瀏覽至Azure入口網站內的虛擬網路。尋找您新建立的虛擬網路。它應該有一個前置詞、例如：在此處看到的；按一下虛擬網路的名稱。</block>
  <block id="ce0c628aca3577055043c7f8364600d9" category="paragraph"><block ref="ce0c628aca3577055043c7f8364600d9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="25157709e5a253560f5ec68b8262563c" category="list-text">按一下子網路、然後從頂端工具列選取+子網路。</block>
  <block id="d9bf5876b80dbf558587f06630e3915c" category="paragraph"><block ref="d9bf5876b80dbf558587f06630e3915c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6a07ef5dbc59d5ba150de82d519fb4f8" category="list-text">在子網路委派標題下、輸入名稱「anf.sn」、然後選取Microsoft.NetApp/volumes。請勿變更任何其他項目。按一下「確定」。</block>
  <block id="a8ccea52e17d54aea1295a99ab4d5c2e" category="paragraph"><block ref="a8ccea52e17d54aea1295a99ab4d5c2e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d182b62071ada1a29e4f9c26487c1121" category="paragraph">將實體磁碟區分配給應用程式叢集、並作為Kubernetes中的持續磁碟區宣告（PVCS）使用。Azure NetApp Files而這項配置則可讓我們靈活地將磁碟區對應到不同的服務、無論是Jupyter筆記型電腦、無伺服器功能等等</block>
  <block id="a74ff852d3b3b8447b0306018a76c4f1" category="paragraph">服務使用者可從平台使用多種儲存設備。此功能的主要優點Azure NetApp Files 包括：</block>
  <block id="a7c5a83cc4ccf14374e496bcbb4363f5" category="list-text">提供使用者使用快照的能力。</block>
  <block id="ea437fe76a4bba5bf335daccbbd24b50" category="list-text">可讓使用者將大量資料儲存在Azure NetApp Files 功能區上。</block>
  <block id="cedebf66380d43f58c07dfb1d4d686a6" category="list-text">在Azure NetApp Files 大量檔案上執行機型時、請取得效能優勢。</block>
  <block id="75ab13308585f62c3cd57a246d0e0c64" category="section-title">系統設定Azure NetApp Files</block>
  <block id="8c060d9ae24c7bc4518e54cd5ed13098" category="inline-link">快速入門：設定Azure NetApp Files 功能以建立NFS磁碟區</block>
  <block id="fd01c32c80d631ed4bebff78fa83b23e" category="paragraph">若要完成Azure NetApp Files 設定、您必須先依照中所述進行設定<block ref="2f4e63e538c7dd311b18db058621cef8" category="inline-link-rx"></block>。</block>
  <block id="e26f032bd6f7f5636860d6b94ac84859" category="paragraph">不過、您可以略過建立Azure NetApp Files NFS Volume以供使用的步驟、因為您將透過Trident建立Volume。在繼續之前、請確定您已：</block>
  <block id="e953b5e281d40c5db3cc047889eec4f2" category="inline-link">已註冊Azure NetApp Files 為NetApp資源供應商（透過Azure Cloud Shell）</block>
  <block id="3b46d13fb20fe6a92456f742b5732774" category="list-text"><block ref="527fb205c939c551ed93f597562513fb" category="inline-link-rx"></block>。</block>
  <block id="d0652e942d3d4b469179248d72ccaa5c" category="inline-link">在Azure NetApp Files 不執行任何作業的情況下建立帳戶</block>
  <block id="82a51bbfec23ca7366c216813caeacc8" category="list-text"><block ref="874637dbfce24ba5a63adadd91968dc9" category="inline-link-rx"></block>。</block>
  <block id="02209b9e3a221b39bf0ce87641e7afc6" category="inline-link">設定容量資源池</block>
  <block id="7b4cb99ad8c150ff95b1a65d0f0524cc" category="list-text"><block ref="0fa33cef09dfad4c8795f42dd9dd5248" category="inline-link-rx"></block> （視您的需求而定、最低4TiB標準或Premium）。</block>
  <block id="1c7c9057bf4f7aee40c5a117c160c0fd" category="section-title">利用虛擬網路和Azure NetApp Files 虛擬化網路來對等化</block>
  <block id="998069ab494c49ade2cc77591c02d9fa" category="paragraph">接下來、Azure NetApp Files 請依照下列步驟、將使用者虛擬網路（vnet）與該虛擬網路（vnet）對等：</block>
  <block id="bf12dce8dcc6febfeddec5ed2570e7d7" category="list-text">在Azure入口網站頂端的搜尋方塊中、輸入虛擬網路。</block>
  <block id="3f961f79effdf0aa37042e1733ee53ef" category="list-text">按一下vnet aks-vnet-name、然後在搜尋欄位中輸入「服務」。</block>
  <block id="0249aa06ef3e10e8754106189b542be4" category="list-text">按一下「+新增」、然後輸入下表所提供的資訊：</block>
  <block id="6f16a5f8ff5d75ab84c018adacdfcbb7" category="cell">欄位</block>
  <block id="88645c17102d75583e93db9aa716b012" category="cell">價值或說明</block>
  <block id="f80824cb9ab9f704542dec0c71c5f38b" category="cell">對等連結名稱</block>
  <block id="5d43607a5a0ebb50f3ea9348485daa15" category="cell">aks-vnet-name_to_anf</block>
  <block id="62912b52e584278e26870d9e5092e723" category="cell">訂閱ID</block>
  <block id="7d97336a164d9ce685e88a121141b189" category="cell">訂閱Azure NetApp Files 您所要登入的物件網</block>
  <block id="82a60e720574cf435dda0a03976e8323" category="cell">vnet對等合作夥伴</block>
  <block id="d2ade9376eb8b87db099330d20c4f180" category="cell">網版Azure NetApp Files</block>
  <block id="5b92ad691782a9e4cc701e479c90997f" category="admonition">保留所有非星號區段的預設值</block>
  <block id="0e5883528161213f3edc02dd718e1693" category="list-text">按一下「新增」或「確定」、將對等新增至虛擬網路。</block>
  <block id="fa1f15d2aebd0592f338ea9f49e06377" category="paragraph">如需詳細資訊、請造訪<block ref="610fa6db13a2eefe4a391b16732fbbf0" category="inline-link-rx"></block>。</block>
  <block id="91d2f55da5f23abbcf1a0656897d101b" category="paragraph">Trident是NetApp為應用程式容器持續儲存所維護的開放原始碼專案。Trident已實作為外部資源配置程式控制器、以Pod本身的形式執行、監控磁碟區、並將資源配置程序完全自動化。</block>
  <block id="4088b2a65b2a3182209479dced5e78c5" category="paragraph">NetApp Trident可建立及附加持續容量、以儲存訓練資料集和訓練模型、順利與K8s整合。這項功能可讓資料科學家和資料工程師更輕鬆地使用K8s、而不需費心手動儲存和管理資料集。Trident也不需要資料科學家學習管理新的資料平台、因為它透過邏輯API整合來整合資料管理相關工作。</block>
  <block id="77dc68d199719a4b8f5eba742ecb7056" category="paragraph">若要安裝Trident軟體、請完成下列步驟：</block>
  <block id="2f2e9ef9449e2f31756b1d3683a207b3" category="inline-link">第一次安裝Helm</block>
  <block id="089f0e488d4e2b1a4b02d6d6b638c9d3" category="list-text"><block ref="b3c10ddb3b7f0e3e121ce123f60cc497" category="inline-link-rx"></block>。</block>
  <block id="e12559703ec38e80de7b94fecc84a043" category="list-text">下載並解壓縮Trident 21.01.1安裝程式。</block>
  <block id="8ad5650fb94bff45b328581838d836fd" category="list-text">將「tridentctl」複製到系統「$path」中的目錄</block>
  <block id="6da8d48465deb31425595b33a9172acf" category="list-text">使用Helm在K8s叢集上安裝Trident：</block>
  <block id="7b09729551ddb1a7445f559eb1186978" category="list-text">將目錄變更為helm目錄。</block>
  <block id="cea04f1ceb2ba2472ec50de3a03a689c" category="list-text">以一般的K8s方法檢查Trident Pod的狀態：</block>
  <block id="6ac3c5fc780260af91dd10523188e6fd" category="list-text">如果所有的Pod都已啟動且正在執行、則會安裝Trident、您可以繼續向前邁進。</block>
  <block id="7862dabe13bf66a99fcfd3a6b1af4d94" category="section-title">設定Azure NetApp Files 不中斷的後端與儲存類別</block>
  <block id="7e98dce86779e84763b71398d851f7bb" category="paragraph">若要設定Azure NetApp Files 不完整的後端與儲存類別、請完成下列步驟：</block>
  <block id="dadab4bead78e450739c0f56bad40cda" category="list-text">切換回主目錄。</block>
  <block id="65b8f7db2e9a3793e76d2ec3787f71fa" category="inline-link">專案儲存庫</block>
  <block id="03636accad716972f761628ea21e43f6" category="list-text">複製<block ref="2b240ffa21ddbdc99d1706dee4302f7e" category="inline-link-rx"></block> 「lane detection-SCNN-Horovod」。</block>
  <block id="0ea725833b806058fe7810e6be91f9c0" category="list-text">移至「trident組態」目錄。</block>
  <block id="c51fa2034e7d5d97ec8c31248fc18e98" category="list-text">建立Azure服務原則（服務原則是Trident如何與Azure通訊以存取Azure NetApp Files 您的整套資源）。</block>
  <block id="203565dfd87ac32927ce5a828d45babd" category="list-text">建立Trident的「後端json」檔案。</block>
  <block id="d7e47f31bf1c921dd5e28ee7e6f5cd34" category="list-text">使用偏好的文字編輯器、從「anf-backend.json」檔案中的下表填寫下列欄位。</block>
  <block id="689202409e48743b914713f96d93947c" category="cell">價值</block>
  <block id="8c443e170595ba0feac007ffb92cb49a" category="cell">訂閱ID</block>
  <block id="deb6a9aaa10be6bb24feea6a3540128c" category="cell">您的Azure訂閱ID</block>
  <block id="bc54592d6183695b841c6d1880ec0bf8" category="cell">TenantId</block>
  <block id="b147f00fa948b22faa89aa8044904495" category="cell">您的Azure租戶ID（上一步AZ廣告服務輸出）</block>
  <block id="93c5bebdea9c94a0740fe6fd9bb250f0" category="cell">ClientID</block>
  <block id="5760e6800c58c7dc9ee68efdc6db38de" category="cell">您的應用程式ID（從上一步AZ廣告服務輸出）</block>
  <block id="2b53761249254ce6b502f521e5cc0683" category="cell">用戶端機密</block>
  <block id="0571f76a94493cb2020d6c3b7453a367" category="cell">您的密碼（取自上一步AZ廣告服務的輸出）</block>
  <block id="25e6b7ea847b31b4f88b60acd65052db" category="paragraph">檔案應如下所示：</block>
  <block id="49356331b94221561b7751ae1f5343a9" category="list-text">指示Trident在Azure NetApp Files 「Trident」命名空間中建立「支援」後端、使用「anf-backend.json」做為組態檔、如下所示：</block>
  <block id="bd9c5e9bd5f130a6fbdbcaeb04656652" category="list-text">建立儲存類別：</block>
  <block id="a9fa0a3d8bf1bce76ef654f0a047b8fe" category="list-text">K8使用者使用以名稱指定儲存類別的PVCS來配置磁碟區。指示K8s建立儲存類別「azurenetappfiless」、以參照Azure NetApp Files 上一步建立的「背後」、使用下列項目：</block>
  <block id="5e121b263b32950e629eaf774c12da78" category="list-text">使用下列命令檢查是否已建立儲存類別：</block>
  <block id="202ed88f7ec48eda708f6c062786f474" category="paragraph"><block ref="202ed88f7ec48eda708f6c062786f474" category="inline-image-macro-rx" type="image"></block></block>
  <block id="72611a189b0331f709788d99912a1bd7" category="section-title">在高效能上部署及設定Volume Snapshot元件</block>
  <block id="3ea90db69187da57e9739e033add6801" category="paragraph">如果叢集未預先安裝正確的Volume Snapshot元件、您可以執行下列步驟、手動安裝這些元件：</block>
  <block id="c3987ca9f11aad20ef5d2ae0dd30f9cb" category="admonition">若為AKS 1.18.14、則不會預先安裝Snapshot控制器。</block>
  <block id="312e34d756f6ef39f0bd74e2f844773f" category="list-text">使用下列命令安裝Snapshot Beta客戶需求日：</block>
  <block id="529616f838a47cade6e5fac6f879ce5a" category="list-text">使用GitHub提供的下列文件來安裝Snapshot控制器：</block>
  <block id="90a2427d3a3145723cd2a130c5372865" category="inline-link">Volume Snapshot類別</block>
  <block id="8f2838f14b6a64dd466dc23bcf7e3c01" category="list-text">設定K8s「volumesnapshotClass」：在建立Volume Snapshot之前、請先<block ref="cba124de563550c68e57cf9a6641a5d1" category="inline-link-rx"></block> 必須設定。建立適用於Azure NetApp Files 功能不全的Volume Snapshot類別、並使用NetApp Snapshot技術來達到ML版本管理。建立「volumesnapshotClass NetApp-csi快照類別」、並將其設為預設的「volumesnapshotClass」、例如：</block>
  <block id="adc3a39a071327998da9cc6708ef4fe8" category="paragraph"><block ref="adc3a39a071327998da9cc6708ef4fe8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="770bec683fa99c1a917babb074d95e66" category="list-text">使用下列命令檢查是否已建立Volume Snapshot複本類別：</block>
  <block id="99b5a364457d91999df6ca6488b800f2" category="paragraph"><block ref="99b5a364457d91999df6ca6488b800f2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2d9a6cca62c9095cbae70692ef82741c" category="section-title">執行：AI安裝</block>
  <block id="d1d2b81816d977b7a9d3480a495beda5" category="paragraph">若要安裝RUN：AI、請完成下列步驟：</block>
  <block id="7899a1a12ecf76a5676a6d5ddb64842f" category="inline-link">安裝RUN：AI叢集於AKS上</block>
  <block id="54437101a8cdfe297499d517331ced60" category="list-text"><block ref="400679f1b873ae4a832f018613d486cc" category="inline-link-rx"></block>。</block>
  <block id="5f854e827ba37f66f45f8e47643e23ea" category="list-text">前往app.runai.ai、按一下「Create New Project（建立新專案）」、然後將其命名為「lane detection（線道偵測）它將在K8s叢集上建立命名空間、開頭為「Runai」、後面接著專案名稱。在這種情況下、建立的命名空間將會是Runae-lane偵測。</block>
  <block id="e699d582d1b58a9a23ebd74cab11d5bc" category="paragraph"><block ref="e699d582d1b58a9a23ebd74cab11d5bc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="546524b2c8ed6fd083c9286159ebd55a" category="inline-link">安裝RUN：AI CLI</block>
  <block id="f3a9807f54199fd5dbad651af2ea853a" category="list-text"><block ref="6291ffcd5a23a3d0b996bc90930ef0b3" category="inline-link-rx"></block>。</block>
  <block id="08d1d73b27232763a82ef46a413779ce" category="list-text">在終端機上、使用下列命令將lane偵測設為預設執行：AI project：</block>
  <block id="0ca589f93fd9565aa5fc097fd66437ae" category="paragraph"><block ref="0ca589f93fd9565aa5fc097fd66437ae" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4cd1a85dd18a7a0b8f1d07b4240fafcf" category="list-text">為專案命名空間（例如「lane detection」）建立ClusterRole和Cluster勞力 綁定、因此屬於「Runae-lane detection」命名空間的預設服務帳戶、在工作執行期間有權執行「volumesnapshot」作業：</block>
  <block id="351495b134e625df33dfb5230d6eab7b" category="list-text">使用以下命令列出命名空間、檢查是否存在「Runae-lane偵測」：</block>
  <block id="bd546162071f28fd50f8c977ac61149e" category="paragraph">輸出應如下所示：</block>
  <block id="8c33c9910dfecb6260489cd05f43b275" category="paragraph"><block ref="8c33c9910dfecb6260489cd05f43b275" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f23930532ba19f8970c6dcb4b6ad778f" category="list-text">使用下列命令建立ClusterRole「netappsnapshot（netappsnapshot）、和Cluster勞力 綁定「netappsnapshot（netappsnapshot））：</block>
  <block id="7e3ec6f763cd8a13380162aba60c47e0" category="section-title">下載並處理TuSimple資料集、做為RUN：AI工作</block>
  <block id="c0cc307d9f63d0a096f8d6e3193cd561" category="paragraph">下載和處理TuSimple資料集的流程為RUN：AI工作是選用的。其中包括下列步驟：</block>
  <block id="52eeaf7bac6d3e2111d129a11d0bafed" category="list-text">建置並推送Docker映像檔、或是如果您想要使用現有的Docker映像檔（例如「muneer7589/download-tuSimple：1.0」）、請省略此步驟</block>
  <block id="0d5647db76048e129c1146a822abbdd8" category="list-text">切換至主目錄：</block>
  <block id="02c403c221afbdccdc4f7182e2eb5cb7" category="list-text">前往「lane detection-SCNN-Horovod」專案的資料目錄：</block>
  <block id="eed104c2f8af7c3526ec55b8cc69dde7" category="list-text">修改「build」（建置）「image」（映像）「sh」（sh）Shell指令碼、並將Docker儲存庫變更為您的。例如、將「muneer7589」取代為您的泊塢視窗儲存庫名稱。您也可以變更泊塢視窗的影像名稱和標記（例如「下載tusimple」和「1.0」）：</block>
  <block id="689ff7d72d2cc0f0d595b0c8ace1cdfa" category="paragraph"><block ref="689ff7d72d2cc0f0d595b0c8ace1cdfa" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6ed49e04589e6c9071bbd1af307f83a0" category="list-text">執行指令碼以建立泊塢視窗映像、並使用下列命令將其推送到泊塢視窗儲存庫：</block>
  <block id="8ebf5e70d0ed304519c7c9b525d80af1" category="list-text">提交RUN：AI工作以下載、擷取、預先處理及儲存TuSimple lane偵測資料集至「PVC'」、這是由NetApp Trident動態建立的：</block>
  <block id="050d58b165aef32cad86839521b721b2" category="list-text">使用下列命令提交RUN：AI工作：</block>
  <block id="83b4fb868b7505e293871c3e5accc98c" category="list-text">輸入下表中的資訊、以提交RUN：AI工作：</block>
  <block id="e50d72d773874b2be58530daec43900c" category="cell">-name</block>
  <block id="37e9bb74490b0ac510effff5a546f11d" category="cell">工作名稱</block>
  <block id="5503ed8f71ae365eb6f5e8221562a0eb" category="cell">-PVC</block>
  <block id="626299ff067d1e6a178beced1631ab43" category="cell">格式為[StorageClassName]的PVc：大小：ContainerMountPath在上述工作提交中、您將使用Trident搭配儲存類別azurenetappFiles、根據需求建立一個PVc。持續磁碟區容量為100Gi、安裝於路徑/mnt.</block>
  <block id="0247d7fb481075907b9eb467cfe90e3a" category="cell">映像</block>
  <block id="b30f1ca8b35fd6ccab829a959f414a51" category="cell">建立此工作的容器時要使用的Docker影像</block>
  <block id="22a55ba6c8590fa98f1b3234141f2848" category="paragraph"><block ref="22a55ba6c8590fa98f1b3234141f2848" category="inline-image-macro-rx" type="image"></block></block>
  <block id="af270e479cd849e4a9cb6d17b76585ef" category="list-text">列出提交的RUN：AI工作。</block>
  <block id="f740410b6ea33d3ffc740140cc23a0e2" category="paragraph"><block ref="f740410b6ea33d3ffc740140cc23a0e2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="51869a860c4af748ec2815d406929a17" category="list-text">檢查提交的工作記錄。</block>
  <block id="ab353387b0e5276e03aecae4cc95d150" category="paragraph"><block ref="ab353387b0e5276e03aecae4cc95d150" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d84dd51baa0cf15db0a639dbb6d5d8ee" category="list-text">列出所建立的「PVC'」。請使用這個「PVC'」命令進行下一步的訓練。</block>
  <block id="cc2e05fe54a847aee415a2deb0b7f13e" category="paragraph"><block ref="cc2e05fe54a847aee415a2deb0b7f13e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b20e4749f78095f0b9adf5c3cad36f81" category="list-text">檢查執行中的工作：AI UI（或「app.run.ai`」）。</block>
  <block id="ced39410c19f3968638fc81e16743f32" category="paragraph"><block ref="ced39410c19f3968638fc81e16743f32" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3dee54cb181d3bfde644600fb15bbac4" category="section-title">使用Horovod執行分散式線道偵測訓練</block>
  <block id="645e2c981858a720c673c6a782efd9ea" category="paragraph">使用Horovod進行分散式通道偵測訓練是一項選擇性程序。不過、以下是相關步驟：</block>
  <block id="04e568eec6dda4a0cfb1fc6680509d35" category="list-text">建置並推送泊塢視窗映像、或是如果您想要使用現有的泊塢視窗映像（例如「muneer7589/der-lane detection:3.1」）、請跳過此步驟</block>
  <block id="b01fdc5088b4a04549ed5e7cc71f898b" category="list-text">切換到主目錄。</block>
  <block id="14e21ef8495bc1dd543db0aebbe06c5b" category="list-text">轉到專案目錄「lane detection-SCNN-Horovod.」</block>
  <block id="0a27aa824e245e7b31f5f8d990636ead" category="list-text">修改「build」（建置）「image」（映像）「sh」（sh）Shell指令碼、並將泊塢視窗儲存庫變更為您的（例如、將「muneer7589」取代為您的泊塢視窗儲存庫名稱）。您也可以變更泊塢視窗的影像名稱和標記（例如「dist-lane detection」和「3.1」）。</block>
  <block id="c9ce95c3d4cf96d5e894e4a834754cb6" category="paragraph"><block ref="c9ce95c3d4cf96d5e894e4a834754cb6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2776d43d1e635424496622f14cfd745c" category="list-text">執行指令碼以建立泊塢視窗映像、然後推送至泊塢視窗儲存庫。</block>
  <block id="b9bcfd06c5cdfc67a00ffe8a0c846318" category="list-text">提交RUN：AI工作以執行分散式訓練（MPI）：</block>
  <block id="f3b76b64a9761cfb85f0ddc37d910fef" category="list-text">使用提交執行：AI在上一步（用於下載資料）自動建立永久虛擬基礎架構、僅允許您存取Rwo、這不允許多個Pod或節點存取相同的永久虛擬基礎架構以進行分散式訓練。將存取模式更新為ReadWriteMany、並使用Kubernetes修補程式來執行此作業。</block>
  <block id="2874172b683ddc4047fd63f29baf543d" category="list-text">首先、請執行下列命令來取得PVc的Volume名稱：</block>
  <block id="bcc0952c2970bfd6c85cd65050e00533" category="paragraph"><block ref="bcc0952c2970bfd6c85cd65050e00533" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f64ac0e4e6343f4593e210b98f9c91de" category="list-text">修補磁碟區、並將存取模式更新為ReadWriteMany（以下列命令取代Volume名稱）：</block>
  <block id="7a9d347cf2f324e82478a9cf243448f7" category="list-text">提交RUN：AI MPI工作、以便使用下表中的資訊來執行分散式訓練工作：</block>
  <block id="b068931cc450442b63f5b3d276ea4297" category="cell">名稱</block>
  <block id="e4580c1854231c935f0cf2eb4609d97a" category="cell">分散式訓練工作的名稱</block>
  <block id="384dd16a327b7f16278642f008c27fab" category="cell">大型shm</block>
  <block id="fc9fed4d0a3cb207102499ba041f2603" category="cell">掛載大型的開發/ shm裝置這是安裝在RAM上的共享檔案系統、提供足夠大的共享記憶體、讓多個CPU工作者能夠處理批次並將其載入CPU RAM。</block>
  <block id="530968b205d33b3869aa32e2933fbfad" category="cell">程序</block>
  <block id="403e4aa48fedb1c5777ee913b2f2bedb" category="cell">分散式訓練程序的數量</block>
  <block id="0aa0be2a866411d9ff03515227454947" category="cell">GPU</block>
  <block id="031492a2d708ca774bd08c099eb4dd79" category="cell">要分配給此工作的GPU /程序數目、有三個GPU工作程序（--Processes=3）、每個都分配一個GPU（-GPU 1）</block>
  <block id="642542e40351edbd731ebad352b31317" category="cell">PVC</block>
  <block id="c50723a53a74a682495f8c3810ce4a65" category="cell">使用先前工作（download-tuSimple資料）所建立的現有持續磁碟區（PVC-download-tuSimple、data、PVC-download-tue-tuSimple）、並安裝在路徑/mnt</block>
  <block id="8c236f63f205a50942b609a6d45734a7" category="cell">定義要在容器中設定的環境變數</block>
  <block id="61dcf83940f915d0c5fe5b985eed7be8" category="cell">使用工作者</block>
  <block id="f84e120605e14d9755a1ed2e8e03cea6" category="cell">將引數設為true會開啟多重程序資料載入</block>
  <block id="90b186f5d2a6890e77373c8aa60461e7" category="cell">員工人數</block>
  <block id="a10574eb8e119b847fb5ab95b788e723" category="cell">資料載入器工作程序的數目</block>
  <block id="61c67ea819106ff81c08249014791d3b" category="cell">批次大小</block>
  <block id="243f7fe32e2dbb7748c1a018fe60016e" category="cell">訓練批次大小</block>
  <block id="d07f4474a5e5996da9b6e57abb250331" category="cell">US_VAL</block>
  <block id="919bc92a851c1d3e2c467e844398b751" category="cell">將引數設為true可進行驗證</block>
  <block id="c4407b612c3b5e2c00c1b5522c686c84" category="cell">Val_batch_size</block>
  <block id="597765782da042e86019b4c919a86248" category="cell">驗證批次大小</block>
  <block id="18e0d33045db50bb37e6f2fcd5c0b842" category="cell">啟用快照</block>
  <block id="67c5deea68dff022b0f807ffb3bf56e2" category="cell">將引數設為true可取得資料和訓練模型快照、以利ML版本管理</block>
  <block id="cdd7dd1603420ef6c3efe7b264205137" category="cell">PVC_name</block>
  <block id="d95926771c9100db9ba3e3247c86a192" category="cell">要擷取快照的PVc名稱。在上述提交工作時、您將取得PVC-download-tuSimple資料0的快照、其中包含資料集和訓練模型</block>
  <block id="b302d66ab7f3f0c94236ff26c8ead4d9" category="inline-image-macro">錯誤：缺少圖形影像</block>
  <block id="d52f66f6b7bb9cf3c7382d8ce6f6b9ea" category="paragraph"><block ref="d52f66f6b7bb9cf3c7382d8ce6f6b9ea" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3299ed00d03beff0cc2ebaf178a91786" category="list-text">列出已提交的工作。</block>
  <block id="2e593aa2ccf62807184e56a543d23e97" category="paragraph"><block ref="2e593aa2ccf62807184e56a543d23e97" category="inline-image-macro-rx" type="image"></block></block>
  <block id="82abe908a319245230ef0f3ec84c263f" category="list-text">提交的工作記錄：</block>
  <block id="dab56217fc48a1919fee48434a7c7204" category="paragraph"><block ref="dab56217fc48a1919fee48434a7c7204" category="inline-image-macro-rx" type="image"></block></block>
  <block id="981528b0e4cd4a19c56310c6b9c915ce" category="list-text">請在RUN（執行）中檢查訓練工作：AI GUI（或app.runai.ai): RUN：AI儀表板）、如下圖所示。第一張圖詳細說明分配給分散式訓練工作的三個GPU、分別位於下列三個節點上、以及第二個RUN：AI工作：</block>
  <block id="d8cbd4299e4baf5de5572bf6af32dd52" category="paragraph"><block ref="d8cbd4299e4baf5de5572bf6af32dd52" category="inline-image-macro-rx" type="image"></block></block>
  <block id="90fdc4068f0b660d1d6b102946986bd1" category="paragraph"><block ref="90fdc4068f0b660d1d6b102946986bd1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9e8bb0b427c33dd6cf63d1a3a37c7022" category="list-text">訓練完成後、請查看已建立並連結RUN：AI job.的NetApp Snapshot複本。</block>
  <block id="6c94f812a836696605e3e2b6bd5ca768" category="paragraph"><block ref="6c94f812a836696605e3e2b6bd5ca768" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e4c0a1395081fc81855e465c493f4967" category="section-title">從NetApp Snapshot複本還原資料</block>
  <block id="ec8de1dcfce51c9d877901e2f6f5971e" category="paragraph">若要從NetApp Snapshot複本還原資料、請完成下列步驟：</block>
  <block id="5adc4d7860e7ad0f78ada0bb1f0eaca6" category="list-text">轉到項目目錄"lane detection-SCNN-Horovod"。</block>
  <block id="6344772f26907403fed713060f33b8f4" category="list-text">修改「REstore-snaphot-PVC.yaml」、並將「data來源」「名稱」欄位更新為您要從中還原資料的Snapshot複本。您也可以變更要將資料還原到的PVc名稱、例如「restore-tuSimple」。</block>
  <block id="b3b5448c329ac882bc890a1be1a1b369" category="paragraph"><block ref="b3b5448c329ac882bc890a1be1a1b369" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8f8efb3d1b86c88cfab193291776b6ad" category="list-text">使用「REstore-snapshot -PVC.yaml」建立新的PVc。</block>
  <block id="34c7c2e95019754701182fe2ab194499" category="paragraph"><block ref="34c7c2e95019754701182fe2ab194499" category="inline-image-macro-rx" type="image"></block></block>
  <block id="070856555a817dbf9a4061542b2098ca" category="list-text">如果您想要使用剛還原的資料進行訓練、則提交工作內容與之前相同；提交訓練工作時、只能以還原的「PVC_name」取代「PVC_name」、如下列命令所示：</block>
  <block id="e945ddc4d35a9c49a17bd00c53db05a6" category="section-title">效能評估</block>
  <block id="3451b157ef07ae84bfaba5fb6639c1ba" category="paragraph">為了顯示解決方案的線性擴充性、我們針對兩種情境進行了效能測試：一種GPU和三種GPU。GPU配置、GPU和記憶體使用率、在TuSimple lane偵測資料集的訓練中、已擷取不同的單節點和三節點測量數據。資料增加五倍、只是為了在訓練過程中分析資源使用率。</block>
  <block id="b8077d533d2f9918c47d330cbac4392d" category="inline-link-macro">服務層級Azure NetApp Files</block>
  <block id="da9b7dc2993c3c848d5d9a9a15806d8c" category="paragraph">此解決方案可讓客戶從小型資料集和幾個GPU開始著手。當資料量和GPU需求增加時、客戶可以在標準層中動態橫向擴充TB、並快速擴充至頂級層、以獲得每TB 4倍的處理量、而無需移動任何資料。本節將進一步說明此程序： <block ref="bdbab4daa7de478307acc7147c869853" category="inline-link-macro-rx"></block>。</block>
  <block id="090a231c840a0cb23aa29c8d1afc7832" category="paragraph">單一GPU的處理時間為12小時45分鐘。三個節點上的三個GPU處理時間約為4小時30分鐘。</block>
  <block id="49eca64b9f03702167beb48ebd38587b" category="paragraph">本文件其餘部分所顯示的數字、說明根據個別業務需求而提供的效能與擴充性範例。</block>
  <block id="abfc10c2bc00a990735e6d27797295a8" category="paragraph">下圖說明1 GPU配置與記憶體使用率。</block>
  <block id="8d7e3abab70510c3f4636ff7bf953250" category="paragraph"><block ref="8d7e3abab70510c3f4636ff7bf953250" category="inline-image-macro-rx" type="image"></block></block>
  <block id="31a3d2def4927574922946c38f043c0b" category="paragraph">下圖說明單一節點GPU使用率。</block>
  <block id="58cf0f270760f08ac96254402d0696dc" category="paragraph"><block ref="58cf0f270760f08ac96254402d0696dc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="dcca9cfd87d9f2087d720ef187655cea" category="paragraph">下圖說明單一節點記憶體大小（16GB）。</block>
  <block id="e22d39f2830d0f3e3944644d0f605d41" category="paragraph"><block ref="e22d39f2830d0f3e3944644d0f605d41" category="inline-image-macro-rx" type="image"></block></block>
  <block id="576c0843e21d5ee884a067aa7b6a1a40" category="paragraph">下圖說明單一節點GPU數（1）。</block>
  <block id="ef855771be83c072ebaafc60d2d1933f" category="paragraph"><block ref="ef855771be83c072ebaafc60d2d1933f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a2c50f1b8fc86c36cc0df94dd14b46b9" category="paragraph">下圖說明單一節點GPU配置（%）。</block>
  <block id="e295f84458327d01315b814d8deb2aea" category="paragraph"><block ref="e295f84458327d01315b814d8deb2aea" category="inline-image-macro-rx" type="image"></block></block>
  <block id="54b2b7f256373eac14419bfec5b84b21" category="paragraph">下圖說明三個節點的三個GPU：GPU配置與記憶體。</block>
  <block id="e763ef0e4b7cb9d022bf6db49319c570" category="paragraph"><block ref="e763ef0e4b7cb9d022bf6db49319c570" category="inline-image-macro-rx" type="image"></block></block>
  <block id="94ab4242b167972f7a9f0513ca772555" category="paragraph">下圖說明三個節點使用率的三個GPU（%）。</block>
  <block id="d786146ae56597413fa5be548126cda9" category="paragraph"><block ref="d786146ae56597413fa5be548126cda9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="45c31ecb239228cac5e96860d42f9a4d" category="paragraph">下圖說明三個節點的三個GPU記憶體使用率（%）。</block>
  <block id="2224958fd5113068ac8a3b55a336661b" category="paragraph"><block ref="2224958fd5113068ac8a3b55a336661b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="79f05e8f99917560625d1cf3f2d4fc5d" category="inline-link">服務層級</block>
  <block id="07c1fda2408980b5d53ea06ad3cc5ed1" category="paragraph">您可以將磁碟區移至另一個使用的容量集區、以變更現有磁碟區的服務層級<block ref="bc9fbd5fd43d884f02abe6a6f9b51339" category="inline-link-rx"></block> 您想要的磁碟區。此磁碟區現有的服務層級變更不需要移轉資料。這也不會影響對磁碟區的存取。</block>
  <block id="58e691ddc6184f73e5d6b513ca5a3c49" category="paragraph">若要變更Volume的服務層級、請執行下列步驟：</block>
  <block id="5acf521dbc5099b2ec33a64efac89595" category="paragraph"><block ref="5acf521dbc5099b2ec33a64efac89595" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6533c4186062235d8b7f47e232e92597" category="list-text">在「變更資源池」視窗中、選取您要將磁碟區移至的容量資源池。然後按一下「OK（確定）」。</block>
  <block id="3f0874d07ce6ae728a6dcdda7903f9cd" category="paragraph"><block ref="3f0874d07ce6ae728a6dcdda7903f9cd" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cb935c59f24539e0966b7ab5c761e862" category="section-title">自動化服務層級變更</block>
  <block id="1391028ed384c93fd59fd5a0097f9181" category="paragraph">動態服務層級變更目前仍在「公開預覽」中、但預設不會啟用。若要在Azure訂閱上啟用此功能、請依照文件中提供的步驟執行<block ref="5c3671452d40598396b030d5c9c6dc27" category="inline-link-rx"></block>。」</block>
  <block id="407443b5508c517acd825fbcddb7ab4c" category="inline-link">AZ netappFiles Volume：管理Azure NetApp Files fz（anf）Volume資源</block>
  <block id="1d3afb31c5d2a81fca940ae760671a1c" category="list-text">您也可以針對Azure使用下列命令：CLI。如需變更Azure NetApp Files 資源池大小的詳細資訊、請造訪<block ref="8b45caafcc8d758d5c37edb19f8a2761" category="inline-link-rx"></block>。</block>
  <block id="ebd5b070cb8457b94f1916baa92c3c7d" category="inline-link">變更Azure NetApp Files 適用於某個需求量的資源池</block>
  <block id="d5460fd5fbfbf643b9a4bc1d1de279d0" category="list-text">此處顯示的「set-aznetappfilesvolumepool」指令程式可變更Azure NetApp Files 一個現象區的集區。如需變更Volume Pool大小和Azure PowerShell的詳細資訊、請參閱<block ref="70c8d95cde8b63eae0d37a8b81a31482" category="inline-link-rx"></block>。</block>
  <block id="ae6f5747bf29f889c1d28208afab2a1a" category="doc">部署應用程式</block>
  <block id="cef52206f11ced919c8d0dd4b2c791a4" category="paragraph">下列各節將說明如何安裝及部署應用程式。</block>
  <block id="d0954433c0b62861850b87d9cba7599f" category="inline-link-macro">下一步：從GitHub取得程式碼</block>
  <block id="255a6bf7e1d34563f76daaf2b6cd6184" category="paragraph"><block ref="26e27ac56fb4c03c9632ab9bd4fc068b" category="inline-link-macro-rx"></block>。</block>
  <block id="2e52c56d063752bbfeda9c8f9d2fee41" category="summary">本頁說明在Kubernetes叢集中安裝及設定NetApp Trident所需完成的工作。</block>
  <block id="7c4090c7fa7a91e8c7fed182401dbf6b" category="doc">NetApp Trident部署與組態</block>
  <block id="e539ec743b02403b5ba74b884d117a5a" category="paragraph">本節說明在Kubernetes叢集中安裝及設定NetApp Trident所需完成的工作。</block>
  <block id="14ede02439184c7c75e53410ffa40370" category="list-text">您已經擁有Trident支援的有效NetApp儲存設備、軟體定義執行個體或雲端儲存服務。</block>
  <block id="984b69562391cb8032fd50ded03a29a6" category="paragraph">若要在Kubernetes叢集中安裝及設定NetApp Trident、請從部署跨接主機執行下列工作：</block>
  <block id="07d8795f785e6495307106596d07402e" category="list-text">使用下列其中一種方法部署Trident：</block>
  <block id="040d3466a6f1c45ca2e523c9354dfdc7" category="inline-link">Trident部署指示</block>
  <block id="bb6989644edf59b8c5e0de0c25b6f8b6" category="list-text">如果您使用NVIDIA DeepOps來部署Kubernetes叢集、也可以使用NVIDIA DeepOps在Kubernetes叢集中部署Trident。若要部署Trident with DeepOps、請遵循<block ref="77e542aaaac8c5d2482c94ca2d79c997" category="inline-link-rx"></block> 在NVIDIA DeepOps GitHub網站上。</block>
  <block id="7cfdcb466d040b6c8f9c85e9981b9652" category="inline-link-macro">Kubernetes Storageclasses範例、可用於ONTAP 進行AI部署</block>
  <block id="180b707bbdd9c2fc8001a966c6c7d029" category="admonition">如果您要在ONTAP 一個AI Pod上部署NetApp AI Control Plane解決方案、請參閱 <block ref="5ce2b96729b1637e197bdd36eb4db4ee" category="inline-link-macro-rx"></block> 如需您可能想要建立和的不同Trident後端的一些範例 <block ref="d495c2f5a68f6923824470c0096419c8" category="inline-link-macro-rx"></block> 如需您可能想要建立的不同Kubernetes StorageClass範例。</block>
  <block id="4fe6ae61b2ccf0bd553bc2c0f15cf803" category="inline-link-macro">下一步：Trident後端範例、適用於ONTAP AI部署。</block>
  <block id="8de05380035e6d3c48105e0b80ca2e32" category="paragraph"><block ref="8de05380035e6d3c48105e0b80ca2e32" category="inline-link-macro-rx"></block></block>
  <block id="00a9f41b5383bf6bcb5b7f6540d427b4" category="summary">有了NVIDIA、AWS、Google及其他廠商所發佈的最先進、預先訓練的建模工具、現在可以相對輕鬆地備份和自訂具有複雜模型的端點對端點管線。</block>
  <block id="2a3b399798aa16ecfbc1425cc560bfad" category="doc">使用案例</block>
  <block id="14e5cae1e8e56eca8add5bdcedfe2335" category="inline-link-macro">上一篇：支援中心分析。</block>
  <block id="d39a6e05d58eb4f71cae7257dc52a1d0" category="paragraph"><block ref="d39a6e05d58eb4f71cae7257dc52a1d0" category="inline-link-macro-rx"></block></block>
  <block id="710217ef02bea8d1d76bc6fc0e7bc056" category="paragraph">由於這些支援中心處理的通話數眾多、如果手動執行、則評估通話效能可能需要相當長的時間。傳統方法、例如字彙數和其他方法、可以實現某種自動化、但這些方法無法擷取更細微的動態語言內容和語意。AI建模技術可用於以自動化方式執行這些更細微的分析。此外、隨著NVIDIA、AWS、Google等廠商所發佈的最先進預訓練模型工具、現在可以相對輕鬆地備份和自訂具有複雜模型的端點對端點管線。</block>
  <block id="dd4541bcdb4728a1a380e825494f08e2" category="paragraph">支援中心意見分析的端點對端管道、可在員工與來電者交談時即時擷取音訊檔案。然後、這些音訊檔案會被處理成語音對文字元件、以將其轉換成文字格式。對話中的每一句話都會貼上標籤、指出感受（正面、負面或中立）。</block>
  <block id="cfc9b6a29659e2208f66d876bd355200" category="paragraph">情緒分析可為對話提供重要的層面、以評估通話效能。這些想法讓員工與來電者之間的互動更加深入。AI協助的意見儀表板可讓經理即時追蹤對話中的意見、並回顧分析員工過去的通話情況。</block>
  <block id="2357d01362feabb1716e49b27d23f9cf" category="inline-link">NVIDIA Maxine</block>
  <block id="a2415fcdba82ba111e08286b17d98943" category="paragraph">有許多預先建置的工具可以以強大的方式結合、以快速建立端點對端點AI管線來解決此問題。在此案例中、NVIDIA Riva程式庫可用於執行兩項系列工作：音訊複本和意見分析。第一種是受監控的學習訊號處理演算法、第二種是受監控的學習NLP分類演算法。這些隨裝即用的演算法可利用NVIDIA TAO工具套件、針對任何相關的商業相關資料使用案例進行微調。如此一來、我們就能針對成本與資源的一小部分、打造出更準確且功能更強大的解決方案。客戶可以整合<block ref="2aa9e1b3ec0ddf7f0bf09cdb2976222a" category="inline-link-rx"></block> 支援中心設計中的GPU加速視訊會議應用程式架構。</block>
  <block id="076dd41fe8ba902e5439b5ba07f330ee" category="paragraph">本解決方案的核心是下列使用案例。這兩種使用案例都使用TAO工具套件進行模型微調、而Riva則用於模型部署。</block>
  <block id="bc176e8f914533ec222bba678e13955f" category="paragraph">為了分析員工與客戶之間的支援中心互動、每次客戶對話都可以透過管道進行音訊通話、藉此擷取句子層級的感受。然後、人類可以驗證這些想法、以證明這些想法是正確的、或是視需要加以調整。接著、標記的資料會傳送到微調步驟、以改善情緒預測。如果已存在標記的情緒資料、則可加速模型微調。無論是哪一種情況、管道都可通用於其他需要擷取音訊和分類句子的解決方案。</block>
  <block id="91fa9ce0e0cb723f35d6cc55f796be7e" category="paragraph"><block ref="91fa9ce0e0cb723f35d6cc55f796be7e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8836d456396ee0865c317994c018a24b" category="paragraph">AI認列輸出會上傳至外部雲端資料庫或公司管理的儲存系統。這類結果會從這個較大的資料庫傳輸到本機儲存設備、以便在儀表板內使用、以便為經理顯示意見分析。儀表板的主要功能是即時與客戶服務員工溝通。經理可在電話中即時更新每句話的感受、以及對員工過去績效或客戶反應的歷史審查、以評估並提供員工意見回饋。</block>
  <block id="586779135ffb596b1f1844ada64164b6" category="paragraph"><block ref="586779135ffb596b1f1844ada64164b6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="539788a6fdaffc74393f282739bdd3e2" category="paragraph">。 <block ref="95472f01c3cd86dddef6619dbb9af815" category="inline-link-macro-rx"></block> 即使在Riva推論管道產生「氣氛」標籤之後、仍可繼續管理資料儲存系統。這些AI結果可上傳至由NetApp DataOps Toolkit管理的資料儲存系統。資料儲存系統必須能夠管理數百個插件、並每分鐘選取一次。本機裝置儲存系統會即時查詢較大的資料儲存設備以供擷取。您也可以查詢較大的資料儲存執行個體、以取得歷史資料、進一步提升儀表板體驗。NetApp DataOps工具套件可快速複製資料、並在所有使用資料的儀表板上發佈資料、藉此協助這兩種用途。</block>
  <block id="679db67ee98260ef471da732862ed356" category="list-text">員工經理</block>
  <block id="7e6beec614d536589c47de8f77fa1b1a" category="list-text">資料工程師/資料科學家</block>
  <block id="a2ce7e25564bee3c78076bcff87d1329" category="list-text">IT管理員（內部部署、雲端或混合式）</block>
  <block id="8dcd09ac05ad9012a6ff01f7b5fc337b" category="paragraph">追蹤對話過程中的情緒、是評估員工績效的寶貴工具。經理可以使用AI儀表板、即時查看員工和來電者的感受如何改變、以便進行即時評估和指導課程。此外、企業也能從參與聲音對話、文字聊天機器人程式和視訊會議的客戶身上獲得寶貴的客戶見解。這類客戶分析使用現代化、最先進AI模式和工作流程的大規模多式模式處理功能。</block>
  <block id="b7c29e65097b6ed45e464f6492ff670d" category="paragraph">在資料方面、支援中心每天都會處理大量的音訊檔案。NetApp DataOps工具套件可協助您定期微調模型和意見分析儀表板、以處理資料。</block>
  <block id="1da289b166db713f9283c5be78ef5b96" category="paragraph">IT管理員也能從NetApp DataOps Toolkit獲益、因為它可讓他們在部署與正式作業環境之間快速搬移資料。NVIDIA環境和伺服器也必須加以管理和散佈、才能即時推斷。</block>
  <block id="d463f48696e58e286e9c0d594169b395" category="inline-link-macro">下一步：架構。</block>
  <block id="7179915e029316714169ac136027ef31" category="paragraph"><block ref="7179915e029316714169ac136027ef31" category="inline-link-macro-rx"></block></block>
  <block id="bf8b135ff3c775c5b9bbba1b2f7a61ce" category="doc">本解決方案所使用的硬體</block>
  <block id="a4ec49885c617f2b2500789af7e6eebf" category="paragraph">此解決方案已通過ONTAP 驗證、採用了一套支援整個AI參考架構、其中兩個DGX-1節點和一個AFF 支援完善的資料中心A800儲存系統。請參閱<block ref="c37aff28e1a25306bf31a11e21ff2c71" category="inline-link-rx"></block> 如需此驗證所使用基礎架構的詳細資訊、請參閱。</block>
  <block id="6c4fbfa85e86ba1acd8a66b367a3b2c4" category="paragraph">下表列出實作已測試解決方案所需的硬體元件。</block>
  <block id="fe59cdcdefd7c53625e1e745b9c5be09" category="cell">DGX-1系統</block>
  <block id="53270fbfda62583949b287e08ae3d063" category="cell">解答800 AFF</block>
  <block id="6da64488bfb7f3216610e30ced34ff23" category="cell">Nexus 3232C交換器</block>
  <block id="4c2db3e48f4f33a355c8e493453b53c2" category="inline-link-macro">下一步：軟體需求</block>
  <block id="54870296c311c566be3a76b4a4df8e8c" category="paragraph"><block ref="43a6574de87222e6a8a22c8138fc4c45" category="inline-link-macro-rx"></block>。</block>
  <block id="f521e3eae9fd2145ce8aeede6602641d" category="summary">本節說明本解決方案不同元件的設計考量。</block>
  <block id="648bdcd0b9a0f83d7b068dbed3c21c07" category="doc">設計考量</block>
  <block id="5b1c62f1e35074e19185d9341b492c54" category="inline-link-macro">上一篇：架構。</block>
  <block id="b180067c966e23ba80c92f3bb1bf6745" category="paragraph"><block ref="b180067c966e23ba80c92f3bb1bf6745" category="inline-link-macro-rx"></block></block>
  <block id="35ff22a5291df56d5075c29d8dc65044" category="section-title">網路與運算設計</block>
  <block id="49d41bdb2234e0a4330f0c9d7d03853a" category="paragraph">視資料安全性的限制而定、所有資料都必須保留在客戶的基礎架構或安全環境中。</block>
  <block id="5a20c2b759137410d60f5ce368ca45d2" category="paragraph"><block ref="5a20c2b759137410d60f5ce368ca45d2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4d6e133bd239a98d559f693ee2ff5ecc" category="section-title">儲存設計</block>
  <block id="3051d856c7b26f6d385279d67a8a532b" category="paragraph">NetApp DataOps Toolkit是管理儲存系統的主要服務。DataOps Toolkit是Python程式庫、讓開發人員、資料科學家、DevOps工程師和資料工程師能夠輕鬆執行各種資料管理工作、例如近乎即時地配置新的資料Volume或JupyterLab工作區、近乎即時地複製資料Volume或JupyterLab工作區、 以及近乎即時的資料磁碟區快照或JupyterLab工作區快照、以提供可追蹤性或基準化。此Python程式庫可做為命令列公用程式或可匯入任何Python程式或Jupyter Notebook的函數庫。</block>
  <block id="6f9e8585e5f750b8ceb149639b1e25e6" category="section-title">Riva最佳實務做法</block>
  <block id="7ecab6bd65c2f169e987be2f59219357" category="inline-link">最佳資料實務做法</block>
  <block id="f51b8fa6c731ea53318149e50e826ddb" category="paragraph">NVIDIA提供多項一般功能<block ref="f6aee1daf7f2fd9cd207fcd26f08d8be" category="inline-link-rx"></block> 若使用Riva：</block>
  <block id="20430e77ba2ecbe15261761c8f4fa2c4" category="list-text">*如果可能、請使用無損音訊格式。*使用失真轉碼器（例如mp3）可能會降低品質。</block>
  <block id="8b3e389f067f32da1e1ab7df2b8d8155" category="list-text">*強化訓練資料。*在音訊訓練資料中加入背景雜訊、一開始就能降低準確度、同時提高健全度。</block>
  <block id="b37d69a795b4d7bb6e0f28a42c3ef8ae" category="list-text">*如果使用剪貼的文字、請限制詞彙大小。*許多線上來源包含錯字或輔助詞彙、以及不常見的詞彙。移除這些項目可改善語言模式。</block>
  <block id="6afe4c71ada39a70da349380efbad345" category="list-text">*如果可能、請使用最低16Khz取樣率。*不過、請盡量不要重新取樣、因為這樣會降低音訊品質。</block>
  <block id="cab3977e4ad163e19ab6245a9b09f541" category="paragraph">除了這些最佳實務做法之外、客戶還必須優先收集代表範例資料集、並針對管路的每個步驟提供正確的標籤。換句話說、範例資料集應按比例反映目標資料集中所示的特定特性。同樣地、資料集註釋者也有責任在準確度和標籤速度之間取得平衡、以使資料的品質和數量達到最大化。例如、此支援中心解決方案需要音訊檔案、標示文字和內容標記。此解決方案的連續性意味著從管線一開始的錯誤會一直傳播到最後如果音訊檔案品質不佳、文字轉譯和翻譯意指標籤也會一樣。</block>
  <block id="0b6b65c9613285433178682e3550355c" category="paragraph">此錯誤傳播同樣適用於受過此資料訓練的模型。如果情緒預測是100%準確、但語音對文字模式的效能不佳、則最終管道將受到初始音訊對文字轉譯的限制。開發人員必須個別考量每種模式的效能、並將其視為較大型管線的元件。在這個特定案例中、最終目標是開發可準確預測感受的管道。因此、評估管道的整體指標是感受的準確度、而這種觀點會直接影響到語音對文字的複本。</block>
  <block id="f3b552e561f520013398b3be885a4420" category="paragraph"><block ref="f3b552e561f520013398b3be885a4420" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ac1ce31a9f2a1a3a478bb69589e180bd" category="paragraph">NetApp DataOps Toolkit透過近乎即時的資料複製技術來輔助資料品質檢查管道。每個標示的檔案都必須進行評估、並與現有標示的檔案進行比較。在各種資料儲存系統之間散佈這些品質檢查、可確保這些檢查作業快速且有效率地執行。</block>
  <block id="6d61a746e66a6545c5c9faf68668e013" category="inline-link-macro">下一步：部署支援中心意見分析。</block>
  <block id="58a113e09ecc7941870d9bcc2d2ee3df" category="paragraph"><block ref="58a113e09ecc7941870d9bcc2d2ee3df" category="inline-link-macro-rx"></block></block>
  <block id="84860cc77161e23e44eccd05430c00ea" category="doc">在Run:AI CLI中提交工作</block>
  <block id="68c9d249f35c91dfcc4a11e209ccbdba" category="paragraph">本節提供基本Run:AI命令的詳細資訊、可用於執行任何Kubernetes工作。它根據工作負載類型分為三個部分。AI / ML / DL工作負載可分為兩種一般類型：</block>
  <block id="754edd5bae16b4a2ed8e6673821d3339" category="list-text">*無人蔘與的訓練課程*。有了這些類型的工作負載、資料科學家就能準備好自行執行的工作負載、然後將其傳送執行。執行期間、客戶可以檢查結果。這類工作負載通常用於正式作業、或是在不需要人為介入的階段進行模型開發。</block>
  <block id="fdfda155b7c1021ae5e73d2ab01c0129" category="list-text">*互動式建置工作階段*。有了這些類型的工作負載、資料科學家就能開啟與Bash、Jupyter Notebook、遠端PyCharm或類似的IDE互動式工作階段、並直接存取GPU資源。我們在第三個案例中、使用連接埠執行互動式工作負載、以向容器使用者展示內部連接埠。</block>
  <block id="6ec08732676824c58d76b0ecdc2aed24" category="section-title">無人管理的訓練工作負載</block>
  <block id="18cb2734d0533ff093ddcb1b3005e216" category="paragraph">設定專案並分配GPU之後、您可以在命令列使用下列命令來執行任何Kubernetes工作負載：</block>
  <block id="68e667063c4711033bbf6b7f8b312e1f" category="paragraph">此命令會為團隊A開始無人值守的訓練工作、並分配單一GPU。工作是以「GCR.IO/RUN -AI DEMO / quickstart」樣本泊塢視窗影像為基礎。我們將工作命名為「hyper1」。然後您可以執行下列命令來監控工作的進度：</block>
  <block id="cbae10285b6d282e740369a59fd25aaf" category="paragraph">下圖顯示「Runai list」命令的結果。您可能會看到下列一般狀態：</block>
  <block id="e749e4e3bf7ed6d5368f336ba6ceeead" category="list-text">「ContainerCreating」。Docker容器正在從雲端儲存庫下載。</block>
  <block id="f5231f23820da3ad520bb16a9dfe97a7" category="list-text">「待處理」。工作正在等待排程。</block>
  <block id="411497b40a902afd2813d3c7af137ffb" category="list-text">《執行中》。工作正在執行中。</block>
  <block id="c0801feb8216aa6b36a769e14c3bc138" category="paragraph"><block ref="c0801feb8216aa6b36a769e14c3bc138" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4f5f0c8fb5ec5bccf18cfd167b1d3bc5" category="paragraph">若要取得工作的其他狀態、請執行下列命令：</block>
  <block id="db0b192c9c9b9885b435e466b9ac861c" category="paragraph">若要檢視工作記錄、請執行「Runai logs &lt;job-name&gt;」命令：</block>
  <block id="280782f59c990a941b600c998427a52c" category="paragraph">在此範例中、您應該會看到正在執行的DL工作階段記錄、包括目前的訓練時期、ETA、Loss Function Value、Accuracy、以及每個步驟所經過的時間。</block>
  <block id="848ad760ae00e3eca33445cd09cfdf34" category="paragraph">您可以在的Run:AI UI上檢視叢集狀態<block ref="115d2727bd1dc614110a31f98c029830" category="inline-link-rx"></block>。在「儀表板」&gt;「總覽」下、您可以監控GPU使用率。</block>
  <block id="f899123d07ffe99c3d97952ae96017ed" category="paragraph">若要停止此工作負載、請執行下列命令：</block>
  <block id="1f979b6140776c287d458036805ad8aa" category="inline-link">啟動無人管理的訓練工作負載</block>
  <block id="637552715214e8c0c87022bac459e824" category="paragraph">此命令可停止訓練工作負載。您可以再次執行「Runai list」（Runai清單）來驗證此動作。如需詳細資訊、請參閱<block ref="e5fbbc266c1fd3a9a029581f5747622d" category="inline-link-rx"></block>。</block>
  <block id="7afece97948db40e546138d81dd343e1" category="section-title">互動式建置工作負載</block>
  <block id="30330792601ba24e9ad5f4f5ee0d5151" category="paragraph">設定專案並分配GPU之後、您可以在命令列使用下列命令來執行互動式建置工作負載：</block>
  <block id="ca57038d87e3f48eb98329e6fd449824" category="paragraph">工作是以範例Docker影像python為基礎。我們將工作建置命名為「1」。</block>
  <block id="39fd96ce47a2aa757eb5cc98cd910730" category="admonition">「互動」旗標表示工作沒有開始或結束研究人員有責任完成這項工作。系統管理員可以定義互動工作的時間限制、之後系統會終止這些工作。</block>
  <block id="d39d9c693980c2af510d4a58be6f2620" category="paragraph">「-g 1」旗標會將單一GPU配置給此工作。提供的命令與引數是「-command sleep- args infinity」。您必須提供命令、否則容器會立即啟動並結束。</block>
  <block id="aedc6bf8e3cb52af4a660584c69353ca" category="paragraph">下列命令的運作方式與中所述的命令類似 <block ref="a09c3ced87a580a4004dfa2429aba9c7" category="inline-xref-macro-rx"></block>：</block>
  <block id="1d2bac5ee25c12c0ee793df98c1b4d49" category="list-text">「Runai list」：顯示名稱、狀態、年齡、節點、映像、 專案、使用者及GPU的工作。</block>
  <block id="6b5b5fdb13c8b8af02a41b296af91a2e" category="list-text">「Runai Get build1」：在工作建置1上顯示其他狀態。</block>
  <block id="9c1e129aa488b11d05275f016f42dda5" category="list-text">"Runai DELETE build1"：停止互動式工作負載建置1。若要將Bash Shell移至容器、請執行下列命令：</block>
  <block id="ac97b61bdc50cfc22ffd507de190d00c" category="paragraph">這可直接在電腦中提供Shell。然後、資料科學家可以在容器內開發或微調模型。</block>
  <block id="c7fdd5fcf033fb9395c27ecbf2e54fc9" category="inline-link">啟動及使用互動式建置工作負載</block>
  <block id="ff53dc42327d97c7410a6ac241222ffe" category="paragraph">您可以在的Run:AI UI上檢視叢集狀態<block ref="29f2b88109b12c4db8e875d3f5ba7aae" category="inline-link-rx"></block>。如需詳細資訊、請參閱<block ref="f3d6ab8050b43c83f452779c7622ab1d" category="inline-link-rx"></block>。</block>
  <block id="1028c65994f7201e0f43b3bf5d3c6b41" category="section-title">互動式工作負載與連接的連接埠</block>
  <block id="7d05c708b92b4809bfe9bf66edf8f765" category="inline-link">入侵</block>
  <block id="34274fcc13408f06acfe43c4065c3f3b" category="paragraph">作為互動式建置工作負載的延伸、您可以在使用Run:AI CLI啟動容器時、向容器使用者顯示內部連接埠。這對於雲端環境、使用Jupyter筆記型電腦或連線至其他微服務都很有用。<block ref="fd51448530c36b6101cc67fbacf525b9" category="inline-link-rx"></block> 允許從Kubernetes叢集外部存取Kubernetes服務。您可以建立規則集合來定義哪些傳入連線可到達哪些服務、藉此設定存取。</block>
  <block id="e7f72a2c9a0cb7337eb00a3093f846da" category="paragraph">為了更妥善管理叢集中的外部服務存取、建議叢集管理員安裝<block ref="fd51448530c36b6101cc67fbacf525b9" category="inline-link-rx"></block> 並設定負載平衡器。</block>
  <block id="16d79943625573d5b80809fe2a7ddbdd" category="paragraph">若要使用Ingress做為服務類型、請執行下列命令、在提交工作負載時設定方法類型和連接埠：</block>
  <block id="79fcc0299f1a85ebab053926e2222bca" category="paragraph">容器成功啟動後、執行「Runai list」（執行清單）以查看用來存取Jupyter Notebook的「服務URL（S）」。URL由入口端點、工作名稱和連接埠組成。例如、請參閱<block ref="0309fbe8f364c8f6dfe6f383da8c46c2" category="inline-link-rx"></block>。</block>
  <block id="451b08ed1bf6f7f0a8931cff52c4c45e" category="inline-link">使用連接的連接埠啟動互動式建置工作負載</block>
  <block id="b524842923f8cb1e38064fadc680893f" category="paragraph">如需詳細資料、請參閱<block ref="414875add8a18a03ddddfb14fb1c47f4" category="inline-link-rx"></block>。</block>
  <block id="5bb97c2dd089da990a792356c72a6128" category="inline-link-macro">下一步：實現高叢集使用率</block>
  <block id="8f87de13e6ff3dd2fc164bdb930759bb" category="paragraph"><block ref="8f87de13e6ff3dd2fc164bdb930759bb" category="inline-link-macro-rx"></block></block>
  <block id="9d273bd32c1fceb91b7d6a4d40e98bdd" category="doc">軟體需求</block>
  <block id="142f782bb2b326679982208fe40cec31" category="inline-link">NVIDIA DeepOps</block>
  <block id="8e926487edd9348114ada5fa88a732df" category="paragraph">此解決方案已通過基本Kubernetes部署驗證、並已安裝Run:AI操作員。Kubernetes是使用部署的<block ref="1c894f7463797b81796e78efc8345fb0" category="inline-link-rx"></block> 部署引擎、可部署正式作業就緒環境所需的所有元件。DeepOps會自動部署<block ref="ca1c90879f9a0e8dc4ff805fb398f7ff" category="inline-link-rx"></block> 為了持續與k8s環境整合儲存設備、我們建立了預設的儲存類別、讓容器能夠利用AFF 來自於該系統的儲存設備。如需ONTAP 有關Trident with Kubernetes on AI的詳細資訊、請參閱<block ref="7ccf7acaa308282d5274101157fd43e5" category="inline-link-rx"></block>。</block>
  <block id="5acec1d6c6e07042eb0c19bc926d2633" category="cell">版本或其他資訊</block>
  <block id="5339d389f2f896062fb28b05454dc94a" category="cell">NetApp ONTAP 資料管理軟體</block>
  <block id="a2525584dd9d2a9522ddea95841c06b3" category="cell">9.6p4.</block>
  <block id="efdec37786e687a58664ebd4ef6bdba4" category="cell">Cisco NX-OS交換器韌體</block>
  <block id="976d6c35e21478ef03ca2cec2a74dc71" category="cell">7.0（3）I6（1）</block>
  <block id="a62649c559be1634e22dd7df0b58ad32" category="cell">NVIDIA DGX OS</block>
  <block id="4a5be8fea83a32ad5c7fc31b02ef1028" category="cell">4.0.4 - Ubuntu 18.04 LTS</block>
  <block id="80afba45eb055fc9bdc48c90d1debd06" category="cell">Kubernetes版本</block>
  <block id="4bbe90408850f459864a71c8054732f1" category="cell">1.17</block>
  <block id="f1112223b41fddc71fd6a626582dfb78" category="cell">Trident版本</block>
  <block id="43d66966083b0e0feac8fb9be14ba5b8" category="cell">20.04.0</block>
  <block id="e993176eed424766bc6bd4758eaf2cb6" category="cell">執行：AI CLI</block>
  <block id="5e6305186adf6e7dcf03f5cbfc802c49" category="cell">v2.1.13</block>
  <block id="f3eeed8e4b2791f80e2f123c4720aef5" category="cell">RUN：AI Orchestration Kubernetes運算子版本</block>
  <block id="bf8c2933a2f54ce25fe986f66d3bffa3" category="cell">1.0.39</block>
  <block id="44769dc982b2126503d2d014bcf7c15a" category="cell">Docker Container平台</block>
  <block id="0cc9a8e76e0a79d0e0072e0a0d675fe5" category="cell">18.06.1-CE [e68fc7a]</block>
  <block id="076ca75e2fc5b6ea85d72b0a9adc8844" category="inline-link">執行：AI GPU叢集先決條件</block>
  <block id="eaec7f01752b17abf6125d8f29a8543c" category="paragraph">有關Run:AI的其他軟體需求、請參閱<block ref="98bb21d82bcd499a183c82dcfc9b02f3" category="inline-link-rx"></block>。</block>
  <block id="cc352f05f03c970b081b8afa29693b60" category="inline-link-macro">下一步：以Run AI實現最佳叢集與GPU使用率</block>
  <block id="f7235eb2146d800446cbbbac3a57548c" category="paragraph"><block ref="b1b09355c9538fe149372d3728c98bb1" category="inline-link-macro-rx"></block>。</block>
  <block id="60f89129c6220bfb3de5a84b4f6471ca" category="summary">本頁說明我們如何使用Pandas和dask DataFrames從Criteo Terabyte資料集中載入Click記錄資料。使用案例與數位廣告有關、可預測是否要點選廣告、或是Exchange未在自動化管道中使用準確的模式、藉此建立使用者的設定檔。</block>
  <block id="efdbc2f24f0a87c559175250c645b26b" category="doc">Load Criteo按一下「日誌第15天」（日誌第15天）、然後訓練sci套 件學習隨機樹系模式</block>
  <block id="2979440f06f7cfcab78b9a92ca964f28" category="inline-link-macro">上一篇：資料處理與模型訓練的程式庫。</block>
  <block id="f2982e3861753bd206faa379a769d904" category="paragraph"><block ref="f2982e3861753bd206faa379a769d904" category="inline-link-macro-rx"></block></block>
  <block id="f82859e215621220b9aae984f796ef24" category="paragraph">本節說明我們如何使用Pandas和dask DataFrames從Criteo Terabyte資料集載入Click記錄資料。使用案例與數位廣告有關、可預測是否要點選廣告、或是Exchange未在自動化管道中使用準確的模式、藉此建立使用者的設定檔。</block>
  <block id="f08833dbbe310e84a1ba564838776db2" category="paragraph">我們從Click Logs資料集載入第15天的資料、總計45GB。在Jupyter筆記型電腦「CTer-andasRF-collated .ipynb」中執行下列儲存格、會建立一個包含前5、000萬列的大圓子資料框架、並產生scipit-記憶 隨機樹系模型。</block>
  <block id="f9964b2f8f54a1422ac46bab70fd1216" category="inline-link">正式的sci套 件學習文件</block>
  <block id="5646953e1414498e1ddf2eb3ab488e27" category="paragraph">若要使用受過訓練的隨機樹系模型來執行預測、請執行本筆記型電腦的下一段。我們從第15天開始採用最後一百萬列作為測試集、以避免任何重複資料。儲存格也會計算預測的準確度、定義為模型準確預測使用者是否點選廣告的發生百分比。若要檢閱此筆記型電腦中任何不熟悉的元件、請參閱<block ref="27e4d9ca2442a6439517a3ec2c7a4e73" category="inline-link-rx"></block>。</block>
  <block id="4e5653c75e720212b79703e8083de2a8" category="inline-link-macro">下一步：在dask中載入第15天、並訓練dask cuML隨機樹系模型。</block>
  <block id="8c9976282cff1b15934d937349911c30" category="paragraph"><block ref="8c9976282cff1b15934d937349911c30" category="inline-link-macro-rx"></block></block>
  <block id="dfcb1d1644aa3be367d0ca7761be62ad" category="summary">本頁說明建立委派子網路以Azure NetApp Files 利執行哪些步驟。</block>
  <block id="d991c79e9311d59d4e38f3115d9c5b24" category="inline-link-macro">上一步：安裝並設定高效能叢集。</block>
  <block id="5dd65debe44935eb5866a15b9a62237e" category="paragraph"><block ref="5dd65debe44935eb5866a15b9a62237e" category="inline-link-macro-rx"></block></block>
  <block id="8bffe528b31ee595be868b5a4af3d25a" category="paragraph">若要建立Azure NetApp Files 委派的子網路以供使用、請完成下列步驟：</block>
  <block id="1aa0034de6393efa24703b8a479a5aa6" category="list-text">瀏覽至Azure入口網站內的虛擬網路。尋找您新建立的虛擬網路。它應該有一個前置詞、例如「pak vnet」。</block>
  <block id="f1621549bc319674bb9e859babb2a671" category="list-text">按一下vnet的名稱。</block>
  <block id="c536871a8fac3a4390226f6e485cf662" category="paragraph"><block ref="c536871a8fac3a4390226f6e485cf662" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d5025fbb3995af8640cab85f4f91126b" category="list-text">按一下子網路、然後按一下頂端工具列的+子網路。</block>
  <block id="22307856839205c5209cc8ce1f4ed0df" category="paragraph"><block ref="22307856839205c5209cc8ce1f4ed0df" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e45b350630c9a3b31bf0c1a1f03dffb0" category="list-text">提供子網路名稱、例如「anf.sn」、然後在「Subnet委派」標題下選取「microsoft.Netapp/volumes`」。請勿變更任何其他項目。按一下「確定」。</block>
  <block id="3621b1bf0075cb659f152966504dfc0d" category="paragraph"><block ref="3621b1bf0075cb659f152966504dfc0d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e8034fc216ae23edc69bb75430f3de2f" category="paragraph">將實體磁碟區分配給應用程式叢集、並作為Kubernetes中的持續磁碟區宣告（PVCS）使用。Azure NetApp Files而這個程序也能讓您靈活地將它們對應到不同的服務、例如Jupyter筆記型電腦、無伺服器功能等。</block>
  <block id="ac3654eb11c3b0cfc94c6c1abdc6767a" category="paragraph">服務使用者可從平台使用多種儲存設備。在本技術報告討論NFSs的同時、Azure NetApp Files 本產品的主要優點是：</block>
  <block id="42ba8b77b788a422a7e4ba2d8bb2d45e" category="list-text">讓使用者能夠使用Snapshot複本。</block>
  <block id="a51448debe1bbe5bb229b849d4057e09" category="list-text">讓使用者能夠將大量資料儲存在Azure NetApp Files 功能區上。</block>
  <block id="b7c10d399d058ef3538882e444459ba5" category="list-text">在Azure NetApp Files 大量檔案上執行模型時、請善用效能優勢。</block>
  <block id="4b15c9979e20dd7eb0c0263e9d5ab1db" category="inline-link-macro">下一步：Peer aks vnet和Azure NetApp Files vernet。</block>
  <block id="a9f725be439e4752193d45f7e7f41851" category="paragraph"><block ref="a9f725be439e4752193d45f7e7f41851" category="inline-link-macro-rx"></block></block>
  <block id="2bbac71d034e7a7a1fca44c7500e187b" category="doc">NetApp ONTAP 採用NVIDIA技術的AI</block>
  <block id="4618b9225719de309c0b0f5aa4718c7b" category="paragraph">NetApp與NVIDIA提供的整合式基礎架構解決方案總覽ONTAP 。</block>
  <block id="ab9d770eb05e7725141740f508566fce" category="section-title">NetApp ONTAP 採用NVIDIA DGX A100系統的AI</block>
  <block id="1027b152cc3e8165ce099ede9548be95" category="list-text"><block ref="1027b152cc3e8165ce099ede9548be95" category="inline-link-macro-rx"></block></block>
  <block id="983044e3ba861493c43c08b9285c3125" category="list-text"><block ref="983044e3ba861493c43c08b9285c3125" category="inline-link-macro-rx"></block></block>
  <block id="7c962be0dc8fdf28c1c4279fe5256a22" category="section-title">NetApp ONTAP 採用NVIDIA DGX A100系統和Mellanox Spectrum乙太網路交換器的AI</block>
  <block id="d91f70a15d40fe5795af6ded9555e095" category="list-text"><block ref="d91f70a15d40fe5795af6ded9555e095" category="inline-link-macro-rx"></block></block>
  <block id="8e9465b5d4318c8ef9039dfe684619d5" category="list-text"><block ref="8e9465b5d4318c8ef9039dfe684619d5" category="inline-link-macro-rx"></block></block>
  <block id="efbb4ade01a09771413f4c09880e800a" category="paragraph">在本節中、我們將展開多個團隊提交工作負載並超過其配額的案例。如此一來、我們就能示範Run：AI的公平演算法如何根據預設配額的比率來配置叢集資源。</block>
  <block id="3bd5af2e3a75651c4b9c45d26400fbaa" category="paragraph">本測試案例的目標：</block>
  <block id="cc9e23eb4fe1626d97a5dfeab7cf0d25" category="list-text">當多個團隊要求GPU超出配額時、顯示佇列機制。</block>
  <block id="050060785f2852b203c9e82254f2946a" category="list-text">示範系統如何根據配額之間的比率、在多個超出配額的團隊之間分配公平的叢集共用區、讓具有較大配額的團隊獲得較大的備用容量份額。</block>
  <block id="9e06f625a31670e60f0a8a09917c3ba0" category="paragraph">結束時 <block ref="26be59a535445b1fffeef12f5e70f3e6" category="inline-link-macro-rx"></block>有兩個工作負載排入佇列：一個用於「team b」、一個用於「team c」。在本節中、我們會排入其他工作負載的佇列。</block>
  <block id="286cda6cf9e9438a2cff2827773cfe7a" category="inline-link-macro">第4.10節的測試詳細資料</block>
  <block id="0e7a9992269080ceaf2b90c188cbb861" category="paragraph">如需工作提交、使用的容器映像及執行命令順序等詳細資料、請參閱 <block ref="37da92aa18d307c3afbe514e0c6c1f90" category="inline-link-macro-rx"></block>。</block>
  <block id="b1df8ade330dd8e3c0962d87a58c1ba9" category="paragraph">當所有工作都根據區段提交時 <block ref="37da92aa18d307c3afbe514e0c6c1f90" category="inline-link-macro-rx"></block>系統儀表板顯示：“team－a（團隊A）”、“team－b（團隊b）”和“team－c（團隊c）”都比預設配額多出GPU。與預設的軟配額（4個）相比、「團隊A」（team A）佔據4個GPU、而「團隊b」（team b）和「團隊c」（team c）則各佔2個GPU、而非軟配額（2個）。分配的配額過多GPU比例等於預設配額的比例。這是因為當多個團隊要求更多GPU、超過配額時、系統會使用預設配額作為優先順序的參考資料、並據此進行資源配置。當企業資料科學團隊積極參與AI模式的開發與正式作業時、這種自動負載平衡可提供公平性和優先順序。</block>
  <block id="6effcb49094093af4699b050b9994a58" category="paragraph"><block ref="6effcb49094093af4699b050b9994a58" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b3be1869ca88e0b5881bc6d1da583426" category="list-text">系統開始將其他團隊的工作負載取消佇列。</block>
  <block id="d2325970b5cec6b47eb2c10267e3a599" category="list-text">根據公平演算法決定取消佇列的順序、例如「team-b」和「team-c」獲得相同數量的配額GPU（因為配額相似）、 而A組的配額比B組和C組的配額高出兩倍、因此獲得兩倍的GPU數量。</block>
  <block id="e2cc28c61aaa6ca7e38bd7ed9de398f1" category="list-text">所有分配都會自動完成。</block>
  <block id="c21d5f3e7c1336258c406bddcde6e0f8" category="paragraph">因此、系統應穩定在下列狀態：</block>
  <block id="8f2185cd998019e76038f11669cfbfb0" category="cell">已分配的GPU</block>
  <block id="3b55c08436be9e1008bb19488c139c88" category="cell">8/4.</block>
  <block id="f532ced5959572a93091758c821d7ff1" category="cell">超過配額的四個GPU。空佇列。</block>
  <block id="b0713292a73176f9754bd528cecde2d1" category="cell">超過配額的兩個GPU。一個工作負載已排入佇列。</block>
  <block id="1f0189591d8d7dc1d3db367398fb49c5" category="cell">0/8.</block>
  <block id="7c0de9de98eb6577a96694238e533915" category="cell">完全不使用GPU、沒有排入佇列的工作負載。</block>
  <block id="948c32bf5f56f7dd6f3b2baab5f6d89d" category="paragraph">下圖顯示各區段的「執行：AI分析」儀表板中、隨著時間推移、每個專案的GPU配置 <block ref="fdc629b29ea94e672f68b28bf3b661b4" category="inline-link-macro-rx"></block>、 <block ref="26be59a535445b1fffeef12f5e70f3e6" category="inline-link-macro-rx"></block>和 <block ref="2783e1454358e180d4e2876ef9492c64" category="inline-link-macro-rx"></block>。圖中的每一行都會指出任何時間為特定資料科學團隊配置的GPU數量。我們可以看到、系統會根據提交的工作負載動態配置GPU。如此一來、當叢集中有可用的GPU時、團隊就能跳過配額、然後根據公平原則預先部署工作、最後才會達到四個團隊的穩定狀態。</block>
  <block id="d7fc0f82166b3a8fb5cbc55d2fb5efb0" category="paragraph"><block ref="d7fc0f82166b3a8fb5cbc55d2fb5efb0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e94097f9836d70dc64016728992696a0" category="inline-link-macro">下一步：將資料儲存至Trident佈建的PersistentVolume</block>
  <block id="14718f3c808034f0e3239dbaf832a478" category="paragraph"><block ref="14718f3c808034f0e3239dbaf832a478" category="inline-link-macro-rx"></block></block>
  <block id="bd3114e9e2000f42e265a067e98b0d25" category="doc">將第三方API連線為履約引擎</block>
  <block id="1aea646cd3c044dd0758af18e73cfef3" category="paragraph">我們將下列第三方API連線為履行引擎、以回答問題：</block>
  <block id="94c494471216991658782a32f1e3ef37" category="inline-link">WeatherStack API</block>
  <block id="f7eb24e530470f21243c27770bd2c549" category="list-text"><block ref="c8600f69e922164a09610e481537b92d" category="inline-link-rx"></block>：返回給定位置的天氣、溫度、雨和雪。</block>
  <block id="1c96228fa1453bf3f691d5081cbd6adb" category="inline-link">Yelp Fusion 功能API</block>
  <block id="55a3b552be8202b066ea237b831186f4" category="list-text"><block ref="8af0de0530d799485b6d6a2d146ab784" category="inline-link-rx"></block>：傳回指定位置中最近的商店資訊。</block>
  <block id="114e8180b93cb1b21cd00067e446e5f0" category="inline-link">eBay Python SDK</block>
  <block id="da6816adc86546982065d9aef78845e5" category="list-text"><block ref="3d046b40b6d382ee41dd02d3b6ab007c" category="inline-link-rx"></block>：傳回指定項目的價格。</block>
  <block id="3f7ba19f5b656e6cf8db9c69330a6d6e" category="inline-link-macro">下一步：NetApp零售助理示範</block>
  <block id="23e96dc8693037c8fa1d7c0587a2d5eb" category="paragraph"><block ref="23e96dc8693037c8fa1d7c0587a2d5eb" category="inline-link-macro-rx"></block></block>
  <block id="28b9eb1a9ba550cf23239eb33610203e" category="doc">軟體與硬體需求</block>
  <block id="dce011ea921230b4e3061bb70569c598" category="section-title">網路組態</block>
  <block id="5c56d5a342310a4d1ead67adc85adcab" category="paragraph">以下是在雲端設定的網路組態需求：</block>
  <block id="df97d4ea35e2febbb06b9bd1ba29b50e" category="list-text">Iguazio叢集和NetApp Cloud Volumes必須位於相同的虛擬私有雲中。</block>
  <block id="a8f3c1a7fc956bcddef483bc8797e742" category="list-text">雲端管理員必須能夠存取Iguazio應用程式節點上的連接埠6443。</block>
  <block id="0d1562d43d3c0d4c52eef4a841896eba" category="list-text">我們在本技術報告中使用Amazon Web Services。不過、使用者可以選擇在任何雲端供應商中部署解決方案。為了在ONTAP 採用NVIDIA DGX-1的AI中進行內部部署測試、我們使用Iguazio代管DNS服務、以方便使用。</block>
  <block id="820de5e74a90f4dbc17e37b78258c35b" category="paragraph">用戶端必須能夠存取動態建立的DNS網域。客戶可視需要使用自己的DNS。</block>
  <block id="930dd6e7cbd550494f96b487d9d38ec8" category="section-title">硬體需求</block>
  <block id="43ad77bf4f253415b4e90ea4aa41a2d7" category="paragraph">您可以在自己的叢集內建安裝Iguazio。我們已使用ONTAP NVIDIA DGX-1系統、驗證NetApp的解決方案。下表列出用於測試此解決方案的硬體。</block>
  <block id="7b6f2acc1b4489fd971965be635ea987" category="cell">NetApp AFF 產品系列A800系統</block>
  <block id="55552614d2dd18f2d6c40759f2de9e22" category="cell">1個高可用度（HA）配對、包括2個控制器和48個NVMe SSD（3.8TB或以上）</block>
  <block id="413400218c4c262991ad8483b3be0a04" category="cell">Cisco Nexus 3232C網路交換器</block>
  <block id="72f23e74ab545a9064f74aca4d904bf4" category="paragraph">下表列出內部部署測試所需的軟體元件：</block>
  <block id="f82f50748d06cc9643330a4a8297ba43" category="cell">9.7</block>
  <block id="751601035b4077a9c6f7280ab1d3369c" category="cell">4.4 - Ubuntu 18.04 LTS</block>
  <block id="bb3121464976ef0c6b6b2b81fc75f3c5" category="cell">19.03.5</block>
  <block id="2a820a07d05055e147221622557f34b9" category="cell">Container版本</block>
  <block id="6f3d0f773f6be20d70e6bbbafca93de9" category="cell">20.01-tF1-py2.</block>
  <block id="46b6cc5d90605df4689002387db99128" category="cell">機器學習架構</block>
  <block id="f060e908e90b13cff9447e18fbb6bb20" category="cell">TensorFlow 1.15.0</block>
  <block id="4ec1f03a0b910370451392d8af8cd05a" category="cell">Iguazio</block>
  <block id="80b1aaf85493db4117fca57135bec077" category="cell">版本2.8+</block>
  <block id="20de768bd6142b858c4e99c64e19f37b" category="cell">ESX Server</block>
  <block id="f884cc5c56f9c9a8d4d61568ff64db9c" category="cell">6.5</block>
  <block id="95b4a53c1023a65c982b077b13be4b96" category="paragraph">此解決方案已通過Iguazio 2.5版和NetApp Cloud Volumes ONTAP 的AWS版完整測試。Iguazio叢集和NetApp軟體都在AWS上執行。</block>
  <block id="efbef76fea5d52b17e66f66b7fbdb1be" category="cell">版本或類型</block>
  <block id="1f2c90c0f9931b94eab6d9d2d3a640c9" category="cell">應用程式節點</block>
  <block id="8f33b30dd333b320c87f038f61e17523" category="cell">M5.4xLarge</block>
  <block id="b8f3b98512c841c7f30ce704570ac0b6" category="cell">資料節點</block>
  <block id="ea93f0324aaeaa177497ea41b52cb9ff" category="cell">I3.4xLarge</block>
  <block id="870032d2d605939c0c8a813ac8534e80" category="inline-link-macro">下一步：網路裝置故障預測使用案例摘要</block>
  <block id="6b90a2e4861b0a6faf4f640ece131282" category="paragraph"><block ref="6b90a2e4861b0a6faf4f640ece131282" category="inline-link-macro-rx"></block></block>
  <block id="fb1290be14b9bc3c64a2c3c9ace6c065" category="doc">使用案例總覽與問題陳述</block>
  <block id="aa04a8198c7c60df7adcd6cd49bec6f8" category="paragraph">資料集與資料集版本通常位於資料湖中、例如NetApp StorageGRID 以物件為基礎的儲存設備、可降低成本及提供其他營運優勢。資料科學家會將這些資料集拉出、並以多個步驟來進行設計、以準備好使用特定模型進行訓練、通常會在過程中建立多個版本。下一步、資料科學家必須挑選最佳化的運算資源（GPU、高階CPU執行個體、內部部署叢集等）來執行模型。下圖說明ML運算環境中資料集的鄰近度不足。</block>
  <block id="cc054601488581e80cc1d19c227126f6" category="paragraph"><block ref="cc054601488581e80cc1d19c227126f6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="88515fca547c502286d6f2a9081fc734" category="paragraph">然而、多項訓練實驗必須在不同的運算環境中平行執行、每項都需要從資料湖下載資料集、這是一項昂貴且耗時的程序。無法保證資料集與運算環境的距離（尤其是混合雲）。此外、在同一個資料集上執行自己實驗的其他團隊成員、也必須經歷同樣艱鉅的程序。除了明顯緩慢的資料存取速度之外、還有難以追蹤資料集版本、資料集共用、協同作業和可重複性等挑戰。</block>
  <block id="30b64502c0cb2f8a9bf951993e0abbac" category="section-title">客戶需求</block>
  <block id="5243f720d7e440d7746f03df97ef885f" category="paragraph">客戶的需求可能會有所不同、以便在有效率地使用資源的情況下執行高效能ML；例如、客戶可能需要下列項目：</block>
  <block id="1735cf11ce0034dbb80c297fb204bc21" category="list-text">從執行訓練模式的每個運算執行個體快速存取資料集、而不會產生昂貴的下載和資料存取複雜度</block>
  <block id="80085a846f90523080cf086e66561d52" category="list-text">在雲端或內部部署中使用任何運算執行個體（GPU或CPU）、而不需擔心資料集的位置</block>
  <block id="de79912b1ab8764406a232888aab85e5" category="list-text">在同一個資料集上同時執行多項訓練實驗、並使用不同的運算資源、而不會產生不必要的延遲和資料延遲、進而提升效率和生產力</block>
  <block id="5211203793a223f02322b88b2e698a82" category="list-text">將運算執行個體成本降至最低</block>
  <block id="6a6fcee71b4e22ac6a4afdfdb5940b67" category="list-text">利用工具來記錄資料集、其資料類型、版本及其他中繼資料詳細資料、藉此改善可重複性</block>
  <block id="930d18875813298018f8364069441eee" category="list-text">增強共享與協同作業、讓團隊中的任何授權成員都能存取資料集並執行實驗</block>
  <block id="5f700d00ad72470694a5aa06cd515c8b" category="paragraph">若要使用NetApp ONTAP 支援資料集快取管理軟體來實作資料集快取、客戶必須執行下列工作：</block>
  <block id="41fac0272180c0141b5cd7ad6ad85a44" category="list-text">設定和設定最接近運算資源的NFS儲存設備。</block>
  <block id="25a3a7ee3cfbb4afc291cd5b94dec000" category="list-text">判斷要快取的資料集和版本。</block>
  <block id="dbffd2a20c35c06fbb6ba0cd17e54ef6" category="list-text">監控已認可給快取資料集的總記憶體、以及可用於其他快取認可的NFS儲存容量（例如快取管理）。</block>
  <block id="61d5e7050cbe037ad5adeaf246e6be19" category="list-text">如果資料集在某段時間內未使用、則會在快取中逾時。預設值為一天、其他組態選項則可供使用。</block>
  <block id="36691dc48fac4774974c970e3bfa1a7d" category="paragraph"><block ref="36691dc48fac4774974c970e3bfa1a7d" category="inline-link-macro-rx"></block></block>
  <block id="b8b025dc1895637326d2420e912751e0" category="summary">您必須先建立一或多個Trident後端、才能使用Trident在Kubernetes叢集中動態配置儲存資源。本頁的範例代表在ONTAP 將NetApp AI Control Plane解決方案部署到AI Pod上時、您可能會想要建立的不同類型後端。</block>
  <block id="c0fe00dd01499e23426b850b65782c77" category="paragraph">您必須先建立一或多個Trident後端、才能使用Trident在Kubernetes叢集中動態配置儲存資源。以下範例代表在ONTAP 將NetApp AI Control Plane解決方案部署到AI Pod上時、您可能會想要建立的不同類型後端。如需後端的詳細資訊、請參閱<block ref="e6b3671f5db59046617458d31ef4f50b" category="inline-link-rx"></block>。</block>
  <block id="1e698f68960fb964df99e73068c9377c" category="list-text">NetApp建議針對您想要在NetApp AFF 供應系統上使用的每個資料LIF（提供資料存取的邏輯網路介面）、建立具有FlexGroup功能的Trident後端。這可讓您在所有生命期之間平衡Volume掛載</block>
  <block id="327a3876126e4773cfcc5e30649c9483" category="paragraph">以下命令範例顯示為兩個不同的資料LIF建立兩個啟用FlexGroup的Trident後端、這些資料LIF與相同ONTAP 的物件儲存虛擬機器（SVM）相關聯。這些後端使用「ontap-nas flexgroup」儲存驅動程式。支援兩種主要資料Volume類型：功能完善和功能完善。ONTAP FlexVol FlexGroup由於資料不多（本文所述的最大大小取決於特定部署）、因此不受支援。FlexVol另一方面、由於支援的資料量可線性擴充至20PB和4000億個檔案、因此單一命名空間可大幅簡化資料管理。FlexGroup因此FlexGroup 、對於仰賴大量資料的AI和ML工作負載而言、此功能是最佳選擇。</block>
  <block id="ba9f56aafb45a750a8dffe5de6d2ed78" category="paragraph">如果您使用的是少量資料、想要使用FlexVol 不FlexGroup 含「orfvolume」的「orfvolume」、您可以建立使用「ontap-nas」儲存驅動程式而非「ontap-nas flexgroup」儲存驅動程式的「Trident後端」。</block>
  <block id="d04adbc45ec06c05c1826745b8f4ddf2" category="list-text">NetApp也建議您建立一個或多個FlexVol 啟用了功能不全的Trident後端。如果您使用FlexGroup 支援資料集儲存設備的功能來進行測試、您可能會想要使用FlexVol 支援資料集的功能來儲存結果、輸出、偵錯資訊等。如果您想要使用FlexVol 「資料不全」、您必須建立一個或多個FlexVol 啟用「功能不全」的「資料不全」後端。以下的命令範例顯示如何建立FlexVol 使用單一資料LIF的單一啟用了功能不全的Trident後端。</block>
  <block id="f8bc0cf277b3c4424978d08f10f9df70" category="inline-link-macro">下一步：Kubernetes Storageclasses範例、適用於ONTAP 進行AI部署。</block>
  <block id="a58ef634a291d01e3abec43e5619294a" category="paragraph"><block ref="a58ef634a291d01e3abec43e5619294a" category="inline-link-macro-rx"></block></block>
  <block id="2625fb6375d503af481868caf90606c9" category="summary">本節連結至兩本技術報告相關的Jupyter筆記型電腦。</block>
  <block id="91409fc3ebd20becb4eb816cbcceb02e" category="doc">Jupyter筆記型電腦供參考</block>
  <block id="53ffd6a9e0049c8cbf7f940c2b8bc793" category="inline-link-macro">上一篇：使用NetApp DataOps Toolkit的資料集與模型版本管理。</block>
  <block id="01643859d7e5dff013d2acd6a02af35e" category="paragraph"><block ref="01643859d7e5dff013d2acd6a02af35e" category="inline-link-macro-rx"></block></block>
  <block id="cdd5560e07964d04d88721f16446a3b6" category="paragraph">本技術報告有兩部Jupyter筆記型電腦：</block>
  <block id="1490d9a5ddbc6bcbe6cedaa01eb50f99" category="inline-link-macro">* CTR - pastasRF-collated .ipynb.*</block>
  <block id="562c7333f0fea5590cfeb818a55e6557" category="list-text"><block ref="6f686a9606ae64621340ea0a5e72dfde" category="inline-link-macro-rx"></block> 這款筆記型電腦會從Criteo TB Click日誌資料集載入第15天的資料、將資料處理及格式化為子網頁資料框架、訓練科學套件學習隨機樹系模型、執行預測並計算準確度。</block>
  <block id="c0cb1f1199ae4e4bdfa626e26a5a25cd" category="inline-link-macro">* criteo_dASk_RF.ipynb.*</block>
  <block id="fa93cb17bf7778768ccae778487bf90d" category="list-text"><block ref="01d86d8522c2722466fcbda71181d3ff" category="inline-link-macro-rx"></block> 本筆記型電腦會從Criteo TB載入第15天的內容、按一下「記錄資料集」、將資料處理及格式化為dask couDF、訓練dask cuML隨機樹系模型、執行預測並計算準確度。藉由運用GPU來運用多個工作節點、這種分散式資料與模型處理與訓練方法效率極高。您處理的資料越多、相較於傳統的ML方法、所節省的時間就越多。您可以將此筆記型電腦部署在雲端、內部部署或混合式環境、其中Kubernetes叢集包含不同位置的運算和儲存設備、只要您的網路設定能夠自由移動資料和模型發佈。</block>
  <block id="a905494ad30a6d54678a2122c04bfd54" category="summary">Jupyter Notebooks和Kubeflow Pipines範例</block>
  <block id="80e94617849fe0b057f3edcc76a6ac72" category="doc">筆記型電腦和管線範例</block>
  <block id="3da57858cd6a76521b38784effc6a06f" category="paragraph">。<block ref="42224cf159df1ff428bf611c27a06039" category="inline-link-rx"></block> 可與Kubeflow搭配使用。搭配Kubeflow使用NetApp Data科學工具套件可提供下列效益：</block>
  <block id="624a53dc5871ce49612a285ee2bf367e" category="list-text">資料科學家可直接從Jupyter筆記型電腦執行進階NetApp資料管理作業。</block>
  <block id="1c7d37cb415e8b7777b071784911a77a" category="list-text">進階NetApp資料管理作業可透過Kubeflow Pipes架構整合至自動化工作流程中。</block>
  <block id="5e646a4ae4330cb948544333980f9f49" category="inline-link">Kubeflow範例</block>
  <block id="987823970c7b662272fb9e0058bf5ff1" category="paragraph">請參閱<block ref="3eb5d4ffd5360858e22dfb9799f211d7" category="inline-link-rx"></block> NetApp Data科學工具套件GitHub儲存庫中的一節、詳細說明如何搭配Kubeflow使用此工具組。</block>
  <block id="52a739b78342bd0cef8801d4c5c193b6" category="inline-link-macro">下一步：Apache Airflow部署。</block>
  <block id="6564dd7688129caf4acb63587998eb65" category="paragraph"><block ref="6564dd7688129caf4acb63587998eb65" category="inline-link-macro-rx"></block></block>
  <block id="8b6327b93d10679b1f412976af9d3bba" category="summary">利用Docker和Kubernetes等協調工具、加速並簡化大型ML處理與訓練的部署。Azure NetApp Files透過統一化端點對端點資料傳輸途徑、此解決方案可降低許多進階運算工作負載固有的延遲與複雜度、有效地彌補開發與營運之間的落差。</block>
  <block id="7527b11aa1f9aa169a9d6103e9c4c417" category="paragraph">藉由整合Docker和Kubernetes等協調工具、可加速並簡化大規模ML處理與訓練的部署。Azure NetApp Files透過統一化端點對端點資料傳輸途徑、此解決方案可降低許多進階運算工作負載固有的延遲與複雜度、有效地彌補開發與營運之間的落差。資料科學家可以在大型資料集上執行查詢、並在訓練階段與其他使用者安全地共用資料和演算法模型。</block>
  <block id="bd9091c7320e4b1069eed28f04839354" category="paragraph">在建置自己的AI / ML管道時、設定架構中元件的整合、管理、安全性及存取能力、是一項艱鉅的任務。讓開發人員存取及控制其環境是另一組挑戰。</block>
  <block id="a93fc9ba708498e20819f22e22ecfa5c" category="paragraph">透過在雲端建置端點對端點分散式訓練模式和資料傳輸途徑、相較於未採用GPU加速資料處理和運算架構的傳統開放原始碼方法、我們在工作流程完成時間總計方面、表現出兩大進步。</block>
  <block id="fcceee9f9e65e4b0d089c6c433f6c191" category="paragraph">NetApp、Microsoft、開放原始碼協調架構和NVIDIA的結合、將最新的技術整合為託管服務、提供絕佳的靈活度、可加速技術採用、並縮短新的AI/ML應用程式的上市時間。這些進階服務是在雲端原生環境中提供、可輕鬆移轉至內部部署和混合式部署架構。</block>
  <block id="eee817389517c17ec810d52f22a8222d" category="paragraph"><block ref="eee817389517c17ec810d52f22a8222d" category="inline-link-macro-rx"></block></block>
  <block id="431db7b0dc79bb29f07c20c6060c3338" category="summary">本節列出Jupyter筆記型電腦及其他對本解決方案有用的資源。</block>
  <block id="de42653a3a04e4aefa258105632011d4" category="doc">影片與示範</block>
  <block id="eeb22c31d24f52a9b8225da48c32dd15" category="inline-link-macro">先前：驗證結果。</block>
  <block id="234bbb7420397102b6a782bcaafff71a" category="paragraph"><block ref="234bbb7420397102b6a782bcaafff71a" category="inline-link-macro-rx"></block></block>
  <block id="4b8db041d93aa27fd0cc94a261e224ca" category="inline-link-macro">「支援中心-意見分析- Pipele.ipynb」</block>
  <block id="4e336784d7218f9fd7024470cba6b522" category="inline-link">「Support-Center-Model-Transfer-Learning and精細調校.ipynb」</block>
  <block id="46e3dcdd2c6c30a1d9fcf40d37f0deb3" category="paragraph">有兩部筆記型電腦包含意見分析管道：<block ref="8ed620ac9482ce00db4c0f6de7250148" category="inline-link-rx"></block> 和 <block ref="ff8619e3bd3fbeea07c38337a7b773f7" category="inline-link-macro-rx"></block>。這些筆記型電腦一起示範如何利用最先進的深度學習模式、針對使用者的資料進行微調、來開發管道來擷取支援中心資料、並從每一句話中擷取意見。</block>
  <block id="fa8c0b2056c13341c1455ad44cc91889" category="section-title">支援中心：情緒分析Pipeline.ipynb</block>
  <block id="6b3450c2b921c398bbf90a1aee0b016c" category="paragraph">這份筆記型電腦內含用於擷取音訊、將音訊轉換成文字、以及擷取用於外部儀表板的想法的Riva預估管道。如果尚未下載及處理資料集、則會自動下載及處理。筆記型電腦的第一部分是「語音對文字」、負責將音訊檔案轉換成文字。接下來是「意見分析」區段、該區段會擷取每個文字句子的意見、並以類似建議儀表板的格式顯示這些結果。</block>
  <block id="63abda3d2c420172da9a3a20c7f64dda" category="admonition">此筆記型電腦必須在模型訓練和微調之前執行、因為必須下載並轉換成正確格式的mp3資料集。</block>
  <block id="33e7b29c6dc1bb2252ba04ad52f5b1aa" category="paragraph"><block ref="33e7b29c6dc1bb2252ba04ad52f5b1aa" category="inline-image-macro-rx" type="image"></block></block>
  <block id="295c2feb943bbe2efca238849828084e" category="section-title">支援中心：模型訓練與微調.ipynb</block>
  <block id="6efbeb8cfc7e387edbf91bad41170349" category="paragraph">在執行筆記型電腦之前、必須先設定TAO Toolkit虛擬環境（請參閱命令總覽中的TAO Toolkit一節以取得安裝說明）。</block>
  <block id="a9d805c9ddfdf62e60632a9754e29404" category="paragraph">這款筆記型電腦仰賴TAO工具套件來微調客戶資料的深度學習模式。如同先前的筆記型電腦、此筆記分為兩個區段、分別用於語音對文字和情緒分析元件。每個區段都會進行資料處理、模型訓練和微調、結果評估和模型匯出。最後、我們會提供一個端點來部署您專為Riva所設計的兩種調校模型。</block>
  <block id="b40454c57dd60f999f3243514cd90ede" category="paragraph"><block ref="b40454c57dd60f999f3243514cd90ede" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f89bf51287609a0c0cf7563b31265c06" category="paragraph"><block ref="f89bf51287609a0c0cf7563b31265c06" category="inline-link-macro-rx"></block></block>
  <block id="0de039e647bc53dcce6e7bceb8605cbf" category="paragraph">各種規模的公司和組織、以及所有產業、紛紛轉向人工智慧（AI）、機器學習（ML）和深度學習（DL）、以解決實際問題、提供創新產品和服務、並在競爭日益激烈的市場中獲得優勢。隨著企業組織增加AI、ML和DL的使用率、他們面臨許多挑戰、包括工作負載擴充性和資料可用度。這些挑戰可透過使用NetApp AI Control Plane解決方案來解決。</block>
  <block id="cae02473f4798da0fdd40f4f598b1d96" category="paragraph">此解決方案可讓您快速複製資料命名空間。此外、它還可讓您定義及實作AI、ML及DL訓練工作流程、並整合近乎即時的資料建立與模型基準、以利追蹤及版本管理。有了這套解決方案、您可以追蹤每個模型訓練、並將其重新傳回模型訓練及/或驗證的確切資料集。最後、此解決方案可讓您迅速配置Jupyter Notebook工作區、並存取大量的資料集。</block>
  <block id="9f1cc947f3e0236f8d5bc32d8d33509a" category="inline-link">cloud.netapp.com</block>
  <block id="696dba9a093d4ac7b67234745dd57835" category="paragraph">由於本解決方案的目標對象是資料科學家和資料工程師、ONTAP 因此需要最少的NetApp或NetApp的支援專業知識。有了這套解決方案、您就能使用簡單且熟悉的工具和介面來執行資料管理功能。此外、此解決方案還充分運用開放原始碼和免費元件。因此、如果您的環境中已經有NetApp儲存設備、現在就可以實作此解決方案。如果您想試用此解決方案、但尚未擁有NetApp儲存設備、請造訪<block ref="d72e38e0d1c5ca8869f2dd987734920b" category="inline-link-rx"></block>而且您可以立即使用雲端型NetApp儲存解決方案來啟動和執行。</block>
  <block id="10dedd24e41d2fa9b5a5e681dd5b4882" category="summary">本頁包含瞭解NetApp如何推動AI專案的背景、包括有關Container、Kubernetes、NetApp Trident等項目的資訊。</block>
  <block id="0b7e964d1176d21b9ba3eceec8ed95ac" category="doc">概念與元件</block>
  <block id="c2fabc0982aa161064ff2b73f50800d5" category="paragraph">AI是一項電腦科學訓練、訓練電腦模擬人類思維的認知功能。AI開發人員訓練電腦、以類似甚至優於人類的方式學習及解決問題。深度學習和機器學習是AI的子領域。企業組織越來越採用AI、ML和DL來支援其關鍵業務需求。以下是一些範例：</block>
  <block id="b3e764d3292b880c63140b20b9a90e6c" category="list-text">分析大量資料、發掘先前未知的商業洞見</block>
  <block id="30512c04b26c269ec31ecd09f1f3a208" category="list-text">使用自然語言處理功能直接與客戶互動</block>
  <block id="4ee20869dbb821d3744d87176797401f" category="list-text">自動化各種業務流程與功能</block>
  <block id="5919922c658bd2a4f33f0cf546be3ea9" category="paragraph">現代化的AI訓練和推斷工作負載需要大量平行運算功能。因此、GPU越來越常用於執行AI作業、因為GPU的平行處理能力遠優於通用CPU。</block>
  <block id="2154bae452b2343b649ee4b088b399f6" category="paragraph">容器是獨立的使用者空間執行個體、可在共享主機作業系統核心上執行。容器的採用率正在迅速增加。Container提供許多與虛擬機器（VM）相同的應用程式沙箱效益。不過、由於虛擬機器所仰賴的Hypervisor和客體作業系統層已經被淘汰、因此容器的重量遠較輕。下圖說明虛擬機器與容器的視覺化。</block>
  <block id="91945d3c9ebb2261142b9c7fc516b559" category="inline-link">Docker網站</block>
  <block id="da28cd415837c7f3d1d6221ff490b84b" category="paragraph">容器也能直接透過應用程式、有效封裝應用程式相依性、執行時間等項目。最常用的容器包裝格式是Docker容器。以Docker Container格式容器化的應用程式、可在任何能夠執行Docker Container的機器上執行。即使應用程式的相依性並不存在於機器上、也一樣、因為所有相依性都封裝在容器本身。如需詳細資訊、請參閱<block ref="f3aa778c455b7c9002cc51cdc41e7924" category="inline-link-rx"></block>。</block>
  <block id="9c3d617029ed075512781527983e01e4" category="paragraph"><block ref="9c3d617029ed075512781527983e01e4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1304134d4f70b5d09af5fb5a8bda1de8" category="inline-link">Kubernetes網站</block>
  <block id="7a1446916a360f9c8ae3b94a97ad8c86" category="paragraph">Kubernetes是開放原始碼的分散式容器協調平台、最初由Google設計、現在由Cloud Native Computing Foundation（CNCF）維護。Kubernetes可將容器化應用程式的部署、管理及擴充功能自動化。近年來、Kubernetes已成為主要的容器協調平台。雖然支援其他容器封裝格式和執行時間、但Kubernetes通常是Docker容器的協調系統。如需詳細資訊、請參閱<block ref="b99a36b6d7a8af9ad1172136115f0275" category="inline-link-rx"></block>。</block>
  <block id="6ea70a0ecace7daa9dfbbc8ff3282de1" category="inline-link">Trident網站</block>
  <block id="f9b736ec48694a34e744a1a0309602bd" category="paragraph">Trident是NetApp開發與維護的開放原始碼儲存協調工具、可大幅簡化Kubernetes工作負載的持續儲存設備建立、管理與使用。Trident本身是Kubernetes原生應用程式、直接在Kubernetes叢集內執行。Kubernetes使用者（開發人員、資料科學家、Kubernetes系統管理員等）可以使用他們已經熟悉的標準Kubernetes格式、建立、管理及與持續儲存磁碟區互動。同時、他們也能善用NetApp先進的資料管理功能、以及採用NetApp技術的資料架構。Trident將持續儲存設備的複雜度抽象化、使其易於使用。如需詳細資訊、請參閱<block ref="ad5406ed69f3fe0de810f757310402c9" category="inline-link-rx"></block>。</block>
  <block id="47bbe104ad41e6af2ee0dba5dc76d74d" category="inline-link">DeepOps網站</block>
  <block id="b1c5aef0d1e7ec0339ca5caa48c1b3e3" category="paragraph">DeepOps是NVIDIA的開放原始碼專案、使用Ansible可根據最佳實務做法、自動部署GPU伺服器叢集。DeepOps是模組化的、可用於各種部署工作。本文件及其所說明的驗證作業中、DeepOps用於部署Kubernetes叢集、其中包含GPU伺服器工作節點。如需詳細資訊、請參閱<block ref="640792bfd91bad987ba8fd5d776a2824" category="inline-link-rx"></block>。</block>
  <block id="173c35c4ef789d6956a0cd6fbd9a0cfc" category="inline-link">Kubeflow網站</block>
  <block id="ea77b50ef31a778a66411b993d6cb7d1" category="paragraph">Kubeflow是Kubernetes的開放原始碼AI和ML工具套件、最初由Google開發。Kubeflow專案讓Kubernetes上的AI和ML工作流程部署變得簡單、可攜且可擴充。Kubeflow將Kubernetes複雜的資料擷取出來、讓資料科學家能夠專注於他們最瞭解的資料科學。如需視覺化功能、請參閱下圖。由於企業IT部門越來越標準化Kubernetes、Kubeflow的發展也越來越顯著。如需詳細資訊、請參閱<block ref="bbfd4ba68f44e2ff98f04ea32205485d" category="inline-link-rx"></block>。</block>
  <block id="a2b0a43dcae6386929654b652393e691" category="paragraph"><block ref="a2b0a43dcae6386929654b652393e691" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e569c07c88fe6f8af1f63410c200abd1" category="section-title">Kubeflow Pipines</block>
  <block id="384873a621d99250018cd7ce1768f8af" category="paragraph">Kubeflow Pipines是Kubeflow的重要元件。Kubeflow Pipines是定義及部署可攜式且可擴充的AI和ML工作流程的平台和標準。如需詳細資訊、請參閱<block ref="6de5a235a0c43df48d05588e1b69b959" category="inline-link-rx"></block>。</block>
  <block id="a0b0430a41f582a12dac8f4d63ab450d" category="inline-link">Jupyter網站</block>
  <block id="3cecf3b7bbdb1a67a537c65bfd6fd529" category="paragraph">Jupyter Notebook Server是開放原始碼的網路應用程式、可讓資料科學家建立名為Jupyter Notebooks的維基類文件、其中包含即時程式碼和描述性測試。Jupyter筆記型電腦在AI和ML社群中廣為使用、可用來記錄、儲存及分享AI和ML專案。Kubeflow簡化了Kubernetes上Jupyter筆記型電腦伺服器的資源配置與部署。如需Jupyter筆記型電腦的詳細資訊、請參閱<block ref="412a2c3f2a7af96a2a4f6a512ee2088e" category="inline-link-rx"></block>。如需Kubeflow內容中Jupyter Notebooks的詳細資訊、請參閱<block ref="c5d2218884acd101e6deb4d8c7d39370" category="inline-link-rx"></block>。</block>
  <block id="385904ba8ac27bcacafadf2113386df4" category="section-title">Apache Airflow</block>
  <block id="c01fb6f699235f8c5d36bdda9e155c77" category="paragraph">Apache Airflow是開放原始碼的工作流程管理平台、可針對複雜的企業工作流程、進行程式化的撰寫、排程及監控。它通常用於自動化ETL和資料管線工作流程、但不限於這些類型的工作流程。氣流專案是由Airbnb發起、但後來在業界廣受歡迎、現在由Apache Software Foundation贊助。氣流是以Python撰寫、氣流工作流程是透過Python指令碼建立、氣流是以「組態為程式碼」的原則設計。 許多企業氣流使用者現在都在Kubernetes上執行氣流。</block>
  <block id="8fb4a72500791f0bea82c5c9b4c33772" category="section-title">定向Acyclic圖表（DAG）</block>
  <block id="afd712bbacf94fbaf2852bd23c6b1a84" category="paragraph">在氣流中、工作流程稱為「導向Acyclic Graphs（DAG）（導向型Acyclic Graphs（DAG））」。DAG是由依順序、平行或兩者組合執行的工作所組成、視DAG定義而定。氣流排程器會在一組工作人員上執行個別工作、並遵循DAG定義中指定的工作層級相依性。DAG是透過Python指令碼來定義和建立。</block>
  <block id="0b83cba78e13ee67f3ada794b1e8edb8" category="paragraph">NetApp ONTAP 支援NetApp的最新一代儲存管理軟體、可讓像您這樣的企業將基礎架構現代化、並移轉至雲端就緒的資料中心。藉由領先業界的資料管理功能、ONTAP 無論資料位於何處、您都能使用單一工具組來管理及保護資料。您也可以自由地將資料移至任何需要的位置：邊緣、核心或雲端。包含許多功能、可簡化資料管理、加速並保護關鍵資料、以及跨越混合雲架構的符合未來需求的基礎架構。ONTAP</block>
  <block id="849f9e6e3176f7bb2abaf1dfdda6f4de" category="section-title">簡化資料管理</block>
  <block id="5d0a72b50313f5f3615263a7d19ee676" category="paragraph">資料管理對企業IT營運至關重要、因此您可以將適當的資源用於應用程式和資料集。包含下列功能、可簡化及簡化作業、並降低營運總成本：ONTAP</block>
  <block id="30490e1b1bd18c329c3b28df91914ffe" category="list-text">*即時資料壓縮與擴充重複資料刪除技術。*資料壓縮技術可減少儲存區塊內的空間浪費、重複資料刪除技術則可大幅提升有效容量。</block>
  <block id="c5b25bb449b07e8b863f41dbe3b90a2a" category="list-text">*服務品質（QoS）的最低、最大和調適性。*精細的QoS控制可協助維持高共享環境中關鍵應用程式的效能等級。</block>
  <block id="d9a5709ce7afa0856dd86539f75c8087" category="list-text">*此功能可將冷資料自動分層至公有雲和私有雲儲存選項、包括Amazon Web Services（AWS）、Azure和NetApp以物件為基礎的儲存設備。ONTAP FabricPool StorageGRID</block>
  <block id="ddb2f8d78c57d5743fdee9e17ae053c9" category="section-title">加速並保護資料</block>
  <block id="4994fe58be1734616de0863809040200" category="paragraph">提供優異的效能與資料保護、並透過下列功能來延伸這些功能：ONTAP</block>
  <block id="b109ecc7b4570bf3dbb9f8d082595075" category="list-text">*高效能與低延遲。ONTAP *</block>
  <block id="9e184f7b8847a390232c0163d45ab461" category="list-text">* NetApp ONTAP FlexGroup 功能* FlexGroup 。*一個功能強大的資料容器、可線性擴充至高達20PB和4000億個檔案、提供簡化資料管理的單一命名空間。</block>
  <block id="ef9770ee572f97c59254dc0d022afda8" category="list-text">*資料保護* ONTAP 效能*功能提供內建的資料保護功能、並可在所有平台上進行通用管理。</block>
  <block id="493a7caad772a79b06f5d4a7dd98afcd" category="list-text">* NetApp Volume Encryption。ONTAP *支援內建和外部金鑰管理、提供原生Volume層級的加密功能。</block>
  <block id="0950833529b7822458a242631cce3b3b" category="section-title">符合未來需求的基礎架構</block>
  <block id="ba5b61620e18b71a8644dbc382c0c4f1" category="paragraph">支援需求嚴苛且瞬息萬變的企業需求：ONTAP</block>
  <block id="d9d73747d25ab5e9c5de8f1f61c9ec7c" category="list-text">*無縫擴充與不中斷營運。* ONTAP 支援在不中斷營運的情況下、為現有控制器和橫向擴充叢集增加容量。您可以升級至最新技術、例如NVMe和32GB FC、而不需進行昂貴的資料移轉或中斷運作。</block>
  <block id="512a65c054e8b5d06216e0eae55abedb" category="list-text">* Cloud connection。* ONTAP 效能不只是雲端連線能力最強的儲存管理軟體之一、ONTAP Select 還可在Cloud Volumes Service 所有公有雲中選擇軟體定義儲存（英文）和雲端原生執行個體（NetApp邊）。</block>
  <block id="5ca60f373401802dfa44501cfa4f5cc7" category="list-text">*整合新興應用程式。* ONTAP 使用支援現有企業應用程式的相同基礎架構、即可為OpenStack、Hadoop和MongoDB等新一代平台和應用程式提供企業級資料服務。</block>
  <block id="49a023178611b07475bac0823fc2dd53" category="section-title">NetApp Snapshot複本</block>
  <block id="42884680ea9780d61f4cce71fdc606b1" category="paragraph">NetApp Snapshot複本是磁碟區的唯讀時間點映像。此映像會佔用最小的儲存空間、並產生可忽略的效能負荷、因為它只會記錄自上次建立Snapshot複本以來所建立的檔案變更、如下圖所示。</block>
  <block id="13455e6dd452fcc850acd6696e670600" category="paragraph">Snapshot複本的效率歸功於核心ONTAP 的不穩定儲存虛擬化技術WAFL 、亦即Write Anywhere File Layout（簡稱「Write Anywhere File Layout」、簡稱「Write Anywhere」）。如同資料庫、WAFL 利用中繼資料指向磁碟上的實際資料區塊。但是WAFL 、不像資料庫、不像是使用什麼功能來覆寫現有的區塊。它會將更新的資料寫入新的區塊、並變更中繼資料。這是因為ONTAP 當我們建立Snapshot複本時、不需要複製資料區塊、而是參考中繼資料、所以Snapshot複本非常有效率。如此可免除其他系統在尋找要複製的區塊時所需的搜尋時間、以及複本本身的成本。</block>
  <block id="921d0d1d37872e6233bf4da3688b03ef" category="paragraph">您可以使用Snapshot複本來還原個別檔案或LUN、或還原磁碟區的完整內容。此功能可將Snapshot複本中的指標資訊與磁碟上的資料進行比較、以重建遺失或損壞的物件、而不會造成停機或重大效能成本。ONTAP</block>
  <block id="9787a3a5983c64cfaf3029a721aab4f0" category="paragraph"><block ref="9787a3a5983c64cfaf3029a721aab4f0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="76a33b697177fedefd70387e86214ebd" category="section-title">NetApp FlexClone技術</block>
  <block id="78e8cd917c99154d22a94ba80186ac33" category="paragraph">NetApp FlexClone技術會參考Snapshot中繼資料、以建立磁碟區的可寫入時間點複本。複本會與父實體共用資料區塊、除非中繼資料需要的資料、否則不會佔用任何儲存空間、直到將變更寫入複本為止、如下圖所示。在傳統複本需要數分鐘甚至數小時才能建立的地方、FlexClone軟體可讓您幾乎即時複製最大的資料集。這使得它非常適合您需要多個相同資料集複本（例如開發工作區）或資料集暫存複本（針對正式作業資料集測試應用程式）的情況。</block>
  <block id="423c2edb645c178257ba9d79bd9ac684" category="paragraph"><block ref="423c2edb645c178257ba9d79bd9ac684" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f67824f4f94415299484432a092f76b1" category="section-title">NetApp SnapMirror資料複寫技術</block>
  <block id="553416a55e03cc49df61e631d17b8011" category="paragraph">NetApp SnapMirror軟體是一款具成本效益且易於使用的統一化複寫解決方案、適用於整個資料架構。它可透過LAN或WAN高速複寫資料。它可為各種應用程式提供高資料可用度及快速資料複寫、包括虛擬與傳統環境中的業務關鍵應用程式。當您將資料複寫到一或多個NetApp儲存系統、並持續更新次要資料時、資料會保持最新狀態、而且隨時可供使用。不需要外部複寫伺服器。請參閱下圖、瞭解運用SnapMirror技術的架構範例。</block>
  <block id="5a12ba5d186c9ffcce65438f531e7c47" category="paragraph">SnapMirror軟體透過ONTAP 網路僅傳送變更的區塊、充分發揮NetApp的效能。SnapMirror軟體也使用內建的網路壓縮功能來加速資料傳輸、並減少高達70%的網路頻寬使用率。有了SnapMirror技術、您可以利用單一精簡複寫資料串流來建立單一儲存庫、同時維護作用中鏡像和先前的時間點複本、最多可減少50%的網路流量。</block>
  <block id="423eee692f81241addaf586841d0c66a" category="paragraph"><block ref="423eee692f81241addaf586841d0c66a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2e386ef1ace3f8ea71edbaa6f9cbbd00" category="paragraph">NetApp提供快速安全的資料同步服務。Cloud Sync無論您是需要在內部部署NFS或SMB檔案共享之間傳輸檔案、NetApp StorageGRID 支援、NetApp ONTAP 支援S3、NetApp Cloud Volumes Service 支援、Azure NetApp Files 支援、支援、支援、支援、支援、支援、 Google Cloud Storage或IBM Cloud Object Storage Cloud Sync 可快速安全地將檔案移至您需要的位置。</block>
  <block id="c1bea6c8c836c6911127e6fe3fde762a" category="paragraph">資料傳輸完成後、即可在來源和目標上完全使用。當觸發更新或根據預先定義的排程持續同步資料時、可視需要同步資料。Cloud Sync無論怎樣、Cloud Sync 由於不支援功能只會移動差異、因此資料複寫所花費的時間與金錢都會減至最低。</block>
  <block id="18c24ab391d7e12f4abcfea370fb4e81" category="paragraph">不只是軟體即服務（SaaS）工具、設定與使用極為簡單。Cloud Sync由資料代理人執行由功能不整所觸發的資料傳輸Cloud Sync 。可在AWS、Azure、Google Cloud Platform或內部部署中部署資料代理程式。Cloud Sync</block>
  <block id="0e4fcaf78d0d4feda27a31ecb6944b58" category="paragraph">NetApp XCP是以用戶端為基礎的軟體、適用於任何對NetApp和NetApp對NetApp的資料移轉及檔案系統洞見。XCP的設計旨在利用所有可用的系統資源來處理大量資料集和高效能移轉、以擴充並達到最大效能。XCP可讓您利用產生報告的選項、全面掌握檔案系統。</block>
  <block id="9a3914e340e4b09762f8231f9fd0ddaa" category="paragraph">NetApp XCP可在單一套件中取得、支援NFS和SMB傳輸協定。XCP包含適用於NFS資料集的Linux二進位檔、以及適用於SMB資料集的Windows執行檔。</block>
  <block id="adc911d4d2f4e0008e765523cff39824" category="paragraph">NetApp XCP檔案分析是以主機為基礎的軟體、可偵測檔案共用、在檔案系統上執行掃描、並提供檔案分析儀表板。XCP檔案分析可與NetApp和非NetApp系統相容、並可在Linux或Windows主機上執行、以提供NFS和SMB匯出檔案系統的分析功能。</block>
  <block id="957e30f73566564bd8a99a6fac13e015" category="section-title">NetApp ONTAP FlexGroup 產品區</block>
  <block id="22bd32dacc144ffc2601e6685260b4c3" category="paragraph">訓練資料集可能是數十億個檔案的集合。檔案可以包含文字、音訊、視訊及其他形式的非結構化資料、這些資料必須儲存和處理才能並行讀取。儲存系統必須儲存大量的小型檔案、而且必須平行讀取這些檔案、才能執行連續和隨機I/O</block>
  <block id="6d7d8c1311f5ac7d2ed289e012822f78" category="paragraph">例如下圖所示、一個包含多個組成成員磁碟區的單一命名空間。FlexGroup從儲存管理員的觀點來看、FlexGroup 可管理一個不實的功能、就像NetApp FlexVol 的一套功能。將某個資料區中的檔案FlexGroup 分配給個別成員磁碟區、而不會跨磁碟區或節點進行等量分佈。這些功能可實現下列功能：</block>
  <block id="28f25e3d6de5d5fe801c8d194234f0a5" category="list-text">支援多PB容量、可預測低延遲的高中繼資料工作負載。FlexGroup</block>
  <block id="82b42713e1be50bb140b7e85eecdd91f" category="list-text">在同一個命名空間中支援高達4000億個檔案。</block>
  <block id="50af21bd57d5360eb9ffc8dbc4b9a5bd" category="list-text">它們支援跨CPU、節點、集合體及組成FlexVol 的等量資料磁碟區、在NAS工作負載中進行平行化作業。</block>
  <block id="07e40bce6e02494c0af7b6a5f2aeaad8" category="paragraph"><block ref="07e40bce6e02494c0af7b6a5f2aeaad8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="96e1c56a273105095d8b5e23e670f72f" category="inline-link-macro">下一步：硬體與軟體需求。</block>
  <block id="1c3ce2e5bdbf1449bbeba4ecbd124676" category="paragraph"><block ref="1c3ce2e5bdbf1449bbeba4ecbd124676" category="inline-link-macro-rx"></block></block>
  <block id="729d72c073b607d370c067152cc53a10" category="doc">驗證結果</block>
  <block id="25edd21a28cb2fca00ab6f30e47c6d79" category="paragraph">若要執行範例推斷要求、請完成下列步驟：</block>
  <block id="cb11a85322b32a7615367d2523718b49" category="list-text">取得用戶端容器/ Pod的Shell。</block>
  <block id="b489ec265fd981ff7aa78a7721bd3101" category="list-text">執行範例推斷要求。</block>
  <block id="15c5e1ffe753f0365f39e7b508ce5ae0" category="paragraph"><block ref="15c5e1ffe753f0365f39e7b508ce5ae0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b5bf2ae3a2d0d1dd1e0740744c9ebb1b" category="paragraph">這項推斷要求會呼叫用於影像辨識的「REsnet50_netdef」模型。其他用戶端也可以遵循類似方法並呼叫適當的模型、同時傳送推斷要求。</block>
  <block id="a301641e2c9595a0c9c39ee7986f7ca8" category="paragraph"><block ref="a301641e2c9595a0c9c39ee7986f7ca8" category="inline-link-macro-rx"></block></block>
  <block id="290612199861c31d1036b185b4e69b75" category="doc">摘要</block>
  <block id="ee0e2e290e4e02a3860382ef2cc42ca0" category="paragraph">許多新興的應用程式案例（例如進階驅動程式輔助系統（ADAS）、Industry 4.0、智慧城市和物聯網（IoT））、都需要在接近零延遲的情況下處理持續的資料流。本文件說明運算與儲存架構、可在符合這些需求的邊緣環境中、於NetApp儲存控制器和Lenovo ThinkSystem伺服器上部署GPU型人工智慧（AI）提示。本文件也提供業界標準MLPerf推斷基準測試的效能資料、以評估配備NVIDIA T4 GPU之邊際伺服器上的各種推斷工作。我們會調查離線、單一串流和多重串流推斷案例的效能、並顯示採用具成本效益的共享網路儲存系統的架構具有高效能、可為多個邊緣伺服器提供資料和模型管理的集中點。</block>
  <block id="b831e128b8fd177e9c80396ed741b7c1" category="doc">硬體與軟體需求</block>
  <block id="afee48a46dd68b9618cec81a8ee5ba86" category="paragraph">本節涵蓋ONTAP 有關整個解決方案的技術要求。</block>
  <block id="e96b7604f8b75ae786c6c0e1016e46fd" category="inline-link">AI網站ONTAP</block>
  <block id="929f5f13d86d1be55b96dba26e773c6f" category="paragraph">雖然硬體需求取決ONTAP 於特定的客戶工作負載、但從單一GPU到機架規模的組態、都能以任何規模部署、以進行資料工程、模型訓練及正式作業提示、以利大規模的ML/DL作業。如需ONTAP 更多關於AI的資訊、請參閱<block ref="7ec9b089c41da1b986bad97e1099df1c" category="inline-link-rx"></block>。</block>
  <block id="41e840b508d9e839f95d16dd582af8d6" category="paragraph">此解決方案已通過DGX-1系統的運算驗證、NetApp AFF 支援A800儲存系統、以及Cisco Nexus 3232C的網路連線能力驗證。本驗證所使用的功能豐富、最多可支援10個DGX-1系統、以滿足大多數ML/DL工作負載的需求。AFF下圖顯示ONTAP 此驗證中用於模型訓練的AI解決方案。</block>
  <block id="bc2eb92d1e1797a759b677c38f619a8f" category="paragraph"><block ref="bc2eb92d1e1797a759b677c38f619a8f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d98e5c43e7b3be89fe8a9076f89f1e99" category="paragraph">為了將此解決方案延伸至公有雲、Cloud Volumes ONTAP 可將其與雲端GPU運算資源一起部署、並整合至混合雲資料架構中、讓客戶能夠使用適合任何特定工作負載的任何資源。</block>
  <block id="4dc70b997a39a64b2def3ef74a96fdb4" category="paragraph">下表顯示本解決方案驗證所使用的特定軟體版本。</block>
  <block id="2cb05e4bb7830be982f0922fed86b4cd" category="cell">元件</block>
  <block id="3d945423f8e9496c429a5d8c65b4604f" category="cell">Ubuntu</block>
  <block id="d173e10eb6a0fc7969fe540c987e0c7d" category="cell">18.04.4 LTS</block>
  <block id="9b4bffa460105781f82b1d463bde8200" category="cell">4.4.0</block>
  <block id="3c1d47ba5c1ada327abd4532ff9f4437" category="cell">20.02.1</block>
  <block id="0083e57a258edd18b949d3afbf6cfc2a" category="cell">1.15</block>
  <block id="232de5556d4148d75b55012e1230616c" category="cell">3.1.0</block>
  <block id="e5e8ab661917b89b4161959c7dc28442" category="cell">cnvrg-io</block>
  <block id="7b02ea300aef2e0bff0d7f6111053284" category="cell">NetApp ONTAP</block>
  <block id="d8a31094f88724af6834c47a6697dc56" category="cell">9.6P4</block>
  <block id="9909115a4f9fe32731077286c367501c" category="paragraph">在本解決方案驗證中、Kubernetes已部署為DGX-1系統上的單節點叢集。對於大規模部署、應部署獨立的Kubernetes主節點、以提供高可用度的管理服務、並為ML和DL工作負載保留寶貴的DGX資源。</block>
  <block id="1c428dd76324aae91879799ae73fbc37" category="inline-link-macro">下一步：解決方案部署與驗證詳細資料</block>
  <block id="5e5761a91dc25c881f4ca86678634b1b" category="paragraph"><block ref="5e5761a91dc25c881f4ca86678634b1b" category="inline-link-macro-rx"></block></block>
  <block id="17a9b27c376a8a5f5e184b2ebce41164" category="summary">部署所有項目之後、請針對新資料執行推斷。這些模型會根據瀏覽活動來預測使用者是否點選廣告。預測結果會儲存在dask couDF中。您可以使用Prometheus監控結果、並在Grafana儀表板中以視覺化的方式呈現結果。</block>
  <block id="af4d0cbb3c6dcf4f3a5e831b08e40ace" category="doc">利用Prometheus和Grafana監控dask和水流</block>
  <block id="a5d741c60ca9280a87382bcc2667207c" category="inline-link-macro">上一篇：訓練時間比較。</block>
  <block id="8162cd02e2793715a1b14265f2bfb54b" category="paragraph"><block ref="8162cd02e2793715a1b14265f2bfb54b" category="inline-link-macro-rx"></block></block>
  <block id="23c1612202d19b502b3701f893fb2557" category="inline-link">中速漂流</block>
  <block id="9fed5c9f0dab5b88ba96d45cf450079f" category="paragraph">如需詳細資訊、請參閱<block ref="47200b727ab2088d205d11a973529202" category="inline-link-rx"></block>。</block>
  <block id="a5705f3e27851573a7eafd2a00a523b5" category="inline-link-macro">下一步：使用NetApp DataOps Toolkit的資料集與模型版本管理。</block>
  <block id="db75fb5c1fef47405a8df61e726e3c66" category="paragraph"><block ref="db75fb5c1fef47405a8df61e726e3c66" category="inline-link-macro-rx"></block></block>
  <block id="3b878279a04dc47d60932cb294d96259" category="doc">總覽</block>
  <block id="f68b67869778246b8f0d8a98ed043512" category="paragraph">本節詳細說明虛擬零售助理的實作方式。</block>
  <block id="02216530e0245f79b0b7448e14bffbce" category="inline-link-macro">下一步：JARVIS部署</block>
  <block id="a9ca2532d8607b5827969961f314249e" category="paragraph"><block ref="a9ca2532d8607b5827969961f314249e" category="inline-link-macro-rx"></block></block>
  <block id="1e92efa8f46c28a3c3a1c03ababfa7be" category="doc">NetApp零售助理示範</block>
  <block id="bb07f1ff94c6f99bf48a403706bea4ca" category="paragraph">我們錄製了NetApp零售助理（Nara）的示範影片。按一下<block ref="c1305d6e7f2e06345748f63e36abba33" category="inline-link-rx"></block> 開啟下圖並播放影片示範。</block>
  <block id="088070f65f454d6b38e8e40e332e70a8" category="paragraph"><block ref="088070f65f454d6b38e8e40e332e70a8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3d81ccbd202a60c621000abca3f6f3de" category="inline-link-macro">下一步：使用NetApp Cloud Sync 解決方案將對話記錄歸檔</block>
  <block id="a165baa9089720dc90e8baf16267821f" category="paragraph"><block ref="a165baa9089720dc90e8baf16267821f" category="inline-link-macro-rx"></block></block>
  <block id="adb2100439d02c2978c4a5670cda87b8" category="summary">本頁列出用來建置此工作的程式庫和架構。所有這些元件均已與Azure的角色型存取與安全控管功能完全整合。</block>
  <block id="235ff38f40d20846e27b4c64e964ce28" category="doc">用於資料處理和模型訓練的程式庫</block>
  <block id="542e61809d35e9c83a99b29c87aa40fb" category="inline-link-macro">上一篇：Azure NetApp Files 不一樣的效能等級。</block>
  <block id="b7fe935ab4f924b870ae1983e3f3a271" category="paragraph"><block ref="b7fe935ab4f924b870ae1983e3f3a271" category="inline-link-macro-rx"></block></block>
  <block id="c4e831049faaa8b89e89eebd0a105dab" category="paragraph">下表列出用來建置此工作的程式庫和架構。所有這些元件均已與Azure的角色型存取與安全控管功能完全整合。</block>
  <block id="faeae27c134f5193efb923d2492daa47" category="cell">程式庫/架構</block>
  <block id="b540cdb28de9a6c72ef1a92504e69423" category="cell">dask cuML</block>
  <block id="1fc1b4b6567949aab2cb7e6fecb1e68f" category="inline-link">CUML程式庫</block>
  <block id="efe85bbaa5690074ea98a2bfef62d930" category="cell">若要讓ML在GPU上運作、請使用<block ref="514c908f6fc3f426a00e1dabdf37831f" category="inline-link-rx"></block> 提供使用dask存取水流立方ML套件的功能。藉由以GPU為基礎的高效能實作、讓您在處理CPU的基礎上、能夠以高達100倍的速度加速、藉由使用NetApp的功能來實作熱門的ML演算法、包括叢集、維度減量及回歸方法。</block>
  <block id="ede0db3d6c9043439d0762ee99543654" category="cell">dask coudf</block>
  <block id="a9c380d6e09cc11f858b53d56cf69da4" category="inline-link">dAsk擁抱程式庫</block>
  <block id="13a7d0199f9797a3533ff335da46b446" category="cell">CUDF包含多種其他功能、可支援GPU加速擷取、轉換、負載（ETL）、例如資料子設定、轉換、單一熱編碼等。水流團隊維持<block ref="836818db4e43067816d31d2b73198787" category="inline-link-rx"></block> 這包括使用dask和cuDF的輔助程式方法。</block>
  <block id="0c9c2e873df681f1ab5b13053be78af7" category="cell">科學套件學習</block>
  <block id="cd1235fc9b090edba051d73dbc6f66bf" category="inline-link">預估工具</block>
  <block id="1977c9daa1d67de51a4651abdb160c09" category="inline-link">適合</block>
  <block id="4f54da5a2c4a796e8215f20eb95fddcc" category="cell">SciPKit學習提供數十種內建的機器學習演算法和模型、稱為評估工具。每個<block ref="855747fa3f470c1754852d09071dd101" category="inline-link-rx"></block> 可搭配使用的部分資料<block ref="e52e604a9dbe357e0fb9bc58f4b62add" category="inline-link-rx"></block> 方法。</block>
  <block id="0dd4d530afb3c99ab869350770d7bebd" category="paragraph">我們使用兩部筆記型電腦來建構ML管線進行比較、其中一部是傳統的「大大管」學習方法、另一部則是以「急水流」和「dask」進行分散式訓練。每一部筆記型電腦均可個別測試、以瞭解其在時間與擴充方面的效能表現。我們會個別介紹每一部筆記型電腦、以展示使用「水流」和「dask」進行分散式訓練的優點。</block>
  <block id="7dd297826f91c438fab12307224d2c40" category="inline-link-macro">下一步：Load Criteo按一下「日誌第15天、在大作中記錄」、然後訓練sci套 件學習隨機樹系模式。</block>
  <block id="ade9906123700a8bf734457510b6b3c8" category="paragraph"><block ref="ade9906123700a8bf734457510b6b3c8" category="inline-link-macro-rx"></block></block>
  <block id="6f7f6c0b1054487e622896990b1d6d55" category="doc">TR-4841：混合雲AI作業系統、含資料快取</block>
  <block id="1b55e21d5b19a6ba57ae9bbd6f3a0630" category="paragraph">Rick Huang、David Arnette、NetApp Yochay Ettun、cnvrg-io</block>
  <block id="28d9fd6fa10254fdcc59aa182ae32dc9" category="paragraph">資料爆炸性成長、以及ML和AI的指數成長、已融合在一起、創造出一個具有獨特開發與實作挑戰的字節經濟。</block>
  <block id="eb35f773ff882afb6d6d67613a4701ee" category="paragraph">雖然大家都知道、ML模型需要大量資料、而且需要近端的高效能資料儲存設備來處理運算資源、但實際上實作這種模式並不太直接、尤其是混合雲和彈性運算執行個體。大量資料通常儲存在低成本的資料湖中、因為GPU等高效能AI運算資源無法有效存取資料。在混合雲基礎架構中、有些工作負載會在雲端上運作、有些工作負載則位於內部部署環境或完全位於不同的HPC環境中、這種情況更形嚴重。</block>
  <block id="2b8ab86ccf473cca225e50ddb8c47e25" category="paragraph">在本文件中、我們提供一款新穎的解決方案、讓IT專業人員和資料工程師能夠建立真正的混合雲AI平台、並具備拓撲感知資料中心、讓資料科學家能夠在運算資源附近、立即自動建立資料集快取、 無論位於何處。因此、不僅能完成高效能模式訓練、還能創造更多效益、包括多位AI從業人員的協同作業、他們可以立即存取資料集版本中樞內的資料集快取、版本和線路。</block>
  <block id="3bc3b194b0ef70e2e6ce113f819619c4" category="inline-link-macro">下一步：使用案例總覽與問題陳述</block>
  <block id="3eb8a6b81400ec3a497fb59a7e6f4360" category="paragraph"><block ref="3eb8a6b81400ec3a497fb59a7e6f4360" category="inline-link-macro-rx"></block></block>
  <block id="ed4a202c34987f40d5e245e76a65a243" category="paragraph">下圖說明提議的對話式AI系統架構。您可以透過語音訊號或文字輸入與系統互動。如果偵測到口頭輸入、則JARVIS AIN-AS服務（AIIaaS）會執行ASR、為對話管理程式產生文字。對話管理程式會記住對話狀態、將文字路由傳送至對應的服務、並將命令傳送至Fulfillment Engine。JARVIS NLP服務會輸入文字、辨識意向和實體、並將這些意向和實體插槽輸出回對話方塊管理程式、然後將「行動」傳送至Fulfillment Engine。Fulfillment Engine由第三方API或SQL資料庫組成、可回應使用者查詢。在收到Fulfillment Engine的結果之後、對話管理程式會將文字路由傳送至JARVIS TS IaaS、以產生終端使用者的音訊回應。我們可以將對話記錄歸檔、使用Intents和插槽註釋句子以進行Nemo訓練、讓NLP服務在更多使用者與系統互動時有所改善。</block>
  <block id="308a0722262fbc3adde5d5d900ad0c36" category="paragraph"><block ref="308a0722262fbc3adde5d5d900ad0c36" category="inline-image-macro-rx" type="image"></block></block>
  <block id="863eef2617ffc374c485389aabdd8a24" category="paragraph">此解決方案已使用一個DGX Station和一個AFF VA220儲存系統進行驗證。JARVIS需要T4或V100 GPU才能執行深度神經網路運算。</block>
  <block id="71c9e70899509bff35197ba9da10dafc" category="cell">T4或V100 GPU</block>
  <block id="8f452959667e7665cddf2484ddca1724" category="cell">NVIDIA DGX工作站</block>
  <block id="f7a05af899e536cde0a9c8476c2da0a1" category="paragraph">下表列出實作已測試解決方案所需的軟體元件。</block>
  <block id="eaf2f97729e8d5e4d205672da8afc9a5" category="cell">9.6</block>
  <block id="0664d9eb73230b2a0b514b0facae8ade" category="cell">NVIDIA JARVIS架構</block>
  <block id="cc5f21cb121669006a19c9fde049f048" category="cell">企業版0.2</block>
  <block id="317fe32bf712dffb43ddc0ee8dde8c3c" category="cell">nvcr.io/nvidia/nemo:v0.10</block>
  <block id="3032d0de2852f0bb1e13142c2c47cd5b" category="inline-link-macro">下一步：使用JARVIS、Cloud Sync VMware及Nemo Overview建立虛擬助理</block>
  <block id="5cefb81f0324c44ec13c02fa7700924b" category="paragraph"><block ref="5cefb81f0324c44ec13c02fa7700924b" category="inline-link-macro-rx"></block></block>
  <block id="2034cc978abb3057c4cf27e92b16ee74" category="doc">Kubernetes部署</block>
  <block id="47302a7393e0a038a150e679c9b3e80d" category="paragraph">若要使用NVIDIA DeepOps部署及設定Kubernetes叢集、請從部署跳接主機執行下列工作：</block>
  <block id="5c51dc3fcfdd9653809e90fa3948c2f4" category="inline-link">入門頁面</block>
  <block id="21f937997adb0cac073e2458491f2c2f" category="list-text">依照上的指示下載NVIDIA DeepOps<block ref="a94c3c17b923443c927cfa8fe7a2482a" category="inline-link-rx"></block> 在NVIDIA DeepOps GitHub網站上。</block>
  <block id="76ada3ea43b0e44772967793fe69b1bd" category="inline-link">Kubernetes部署指南</block>
  <block id="03628142cdc704dd6ffe5d7d13573999" category="list-text">依照上的指示、在叢集中部署Kubernetes<block ref="cdf0a6d71dcbe898357c0e37010d30de" category="inline-link-rx"></block> 在NVIDIA DeepOps GitHub網站上。</block>
  <block id="2dfe8bb84d94f23030d91e315d7899bc" category="admonition">若要讓DeepOps Kubernetes部署正常運作、所有Kubernetes主節點和工作節點上都必須有相同的使用者。</block>
  <block id="c6fff1434177c1b95244b5300314f730" category="paragraph">如果部署失敗、請在「depops/config/group_vars/k8s-cluster．yml」中、將「kubecl_localhost」的值變更為「假」、然後重複步驟2。只有當值為「kubecl_localhost」時、「Copy kubectl二進位到Ansible host」工作才會執行、這項工作仰賴已知記憶體使用問題的擷取Ansible模組。這些記憶體使用量問題有時可能導致工作失敗。如果工作因為記憶體問題而失敗、則部署作業的其餘部分將無法成功完成。</block>
  <block id="24e1fa4c913dcdc975e022f921d4d603" category="paragraph">如果在您將「kubecl_localhost」的值變更為「假」之後、成功完成部署、則必須手動將「kubecl二進位」從Kubernetes主節點複製到部署跳接主機。您可以在特定主節點上直接執行「that kubecll」命令、找到「kubecl二進位」的位置。</block>
  <block id="a185054da23018c3578742c41141312b" category="inline-link-macro">下一步：Cnvrg-IO部署</block>
  <block id="c18b567a6a5397941715c30a00a97395" category="paragraph"><block ref="c18b567a6a5397941715c30a00a97395" category="inline-link-macro-rx"></block></block>
  <block id="66bc9494be0116470b223f2e07873f77" category="summary">本頁說明部署Kubernetes叢集所需完成的工作、以實作NetApp AI Control Plane解決方案。如果您已經有Kubernetes叢集、則只要您執行Kubernetes版本、且Kubeflow和NetApp Trident均支援此版本、就可以跳過本節。</block>
  <block id="7c1ab988344d6a8d8cd9a30d6240955a" category="paragraph">本節說明部署Kubernetes叢集所需完成的工作、以實作NetApp AI Control Plane解決方案。如果您已經有Kubernetes叢集、則只要您執行Kubernetes版本、且Kubeflow和NetApp Trident均支援此版本、就可以跳過本節。如需Kubernetes支援版本的清單、請參閱<block ref="01b2e82a7080cdbeb934280240df876e" category="inline-link-rx"></block>。如需Trident支援的Kubernetes版本清單、請參閱<block ref="e6b3671f5db59046617458d31ef4f50b" category="inline-link-rx"></block>。</block>
  <block id="ef8333b35fd982099a6ca0c7799b5618" category="paragraph">對於採用裸機節點的內部部署Kubernetes、採用NVIDIA GPU、NetApp建議使用NVIDIA的DeepOps Kubernetes部署工具。本節概述如何使用DeepOps部署Kubernetes叢集。</block>
  <block id="612cba744b0eac9a7f153d2c4b8975da" category="list-text">您已根據ONTAP 標準組態指示、設定任何裸機Kubernetes節點（例如、NVIDIA DGX系統是整個AI Pod的一部分）。</block>
  <block id="5a881e8e37e19924ac592136b5e7cfd3" category="inline-link">DeepOps GitHub網站</block>
  <block id="452f5f6e8da4512f6cce223a76ae3558" category="list-text">您已在所有Kubernetes主節點和工作節點、以及部署跨接主機上安裝支援的作業系統。如需DeepOps支援的作業系統清單、請參閱<block ref="253a2cf380d7db7eaadb375aa91e2221" category="inline-link-rx"></block>。</block>
  <block id="a711e4ccced882d1762a8c653be8e921" category="section-title">使用NVIDIA DeepOps來安裝及設定Kubernetes</block>
  <block id="0e91d2e60705ecb1730e9b96510019af" category="list-text">依照上的指示下載NVIDIA DeepOps<block ref="6fb71807bf6999d2aec034d498e3ebf6" category="inline-link-rx"></block> 在NVIDIA DeepOps GitHub網站上。</block>
  <block id="2ed5978807d3da780c60a19b3f38a293" category="inline-link">Kubernetes部署指南頁面</block>
  <block id="5c18e4efa8c5cc9efb26e3f748b4e26d" category="list-text">依照上的指示、在叢集中部署Kubernetes<block ref="b336a8bbad16f0e8d58bf87e261f51fa" category="inline-link-rx"></block> 在NVIDIA DeepOps GitHub網站上。</block>
  <block id="e76934323b48d5421aa2271f7e9fbee2" category="inline-link-macro">下一步：NetApp Trident部署與組態總覽。</block>
  <block id="4e3ff90ed271e98a6802a9063034ea76" category="paragraph"><block ref="4e3ff90ed271e98a6802a9063034ea76" category="inline-link-macro-rx"></block></block>
  <block id="9e40fd8f5f0e113c758dfa63adc1221d" category="summary">Kubeflow能夠快速配置新的Jupyter筆記型電腦伺服器、做為資料科學家工作空間。若要使用Kubeflow來配置新的Jupyter筆記型電腦伺服器、請執行本頁所列的工作。</block>
  <block id="7fad49a67f130cbd7629be2d6c719aea" category="doc">為資料科學家或開發人員提供Jupyter筆記型電腦工作區</block>
  <block id="52d84951381eb0ab7a285dd32b31702c" category="paragraph">Kubeflow能夠快速配置新的Jupyter筆記型電腦伺服器、做為資料科學家工作空間。若要使用Kubeflow來配置新的Jupyter筆記型電腦伺服器、請執行下列工作。如需Kubeflow內容中Jupyter Notebooks的詳細資訊、請參閱<block ref="05932219411c169f9e48f874e56f1ed3" category="inline-link-rx"></block>。</block>
  <block id="5e82e4aa94a53b3b50acf347914be197" category="list-text">在Kubeflow中央儀表板中、按一下主功能表中的「Notebook Servers（筆記型電腦伺服器）」、瀏覽至Jupyter Notebook server管理頁面。</block>
  <block id="358d18b5a42ec1d80b04e767298ea372" category="paragraph"><block ref="358d18b5a42ec1d80b04e767298ea372" category="inline-image-macro-rx" type="image"></block></block>
  <block id="208feb7a4d57f0afc49e53fe1fe8b978" category="list-text">按一下「New Server（新伺服器）」以配置新的Jupyter Notebook伺服器。</block>
  <block id="3541a3b25823fa3b302c686b6fe2a212" category="paragraph"><block ref="3541a3b25823fa3b302c686b6fe2a212" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5f95069a2e81949b101427e1fa4afddf" category="list-text">命名新伺服器、選擇您要伺服器所依據的Docker映像、然後指定伺服器要保留的CPU和RAM數量。如果「命名空間」欄位為空白、請使用頁面標題中的「選取命名空間」功能表來選擇命名空間。然後、「Namespace（命名空間）」欄位會自動填入所選的命名空間。</block>
  <block id="4fbbbc4aaa49d653f486738eed12357a" category="paragraph">在以下範例中、會選擇「kubeflow匿名」命名空間。此外、Docker映像、CPU和RAM的預設值也會被接受。</block>
  <block id="69bc8b3ae7667985c27ce3ef5de0e6ca" category="paragraph"><block ref="69bc8b3ae7667985c27ce3ef5de0e6ca" category="inline-image-macro-rx" type="image"></block></block>
  <block id="095efbb867f01094d56c633d3337a412" category="list-text">指定工作區Volume詳細資料。如果您選擇建立新磁碟區、則該磁碟區或永久虛擬磁碟區會使用預設StorageClass進行資源配置。因為使用Trident的StorageClass已在區段中指定為預設StorageClass <block ref="b868c02e3d390c0001190527c8f4ba0b" category="inline-link-macro-rx"></block>、磁碟區或永久虛擬磁碟區是以Trident來配置。此Volume會自動掛載為Jupyter Notebook Server Container中的預設工作區。使用者在伺服器上建立的任何筆記型電腦、若未儲存至個別的資料Volume、都會自動儲存至此工作區磁碟區。因此、筆記型電腦會在重新開機後持續運作。</block>
  <block id="c44927b0124469511a724e179c80bfb5" category="paragraph"><block ref="c44927b0124469511a724e179c80bfb5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="555e44b3745904843417371073338d08" category="list-text">新增資料磁碟區。下列範例指定名為「PPB -FG All」的現有PVc、並接受預設掛載點。</block>
  <block id="0c73069b282d8e99ecbd8feb39164d40" category="paragraph"><block ref="0c73069b282d8e99ecbd8feb39164d40" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b120f9006af3d27ef70eb256c99c6617" category="list-text">*選用：*要求將所需的GPU數量分配給您的筆記型電腦伺服器。在下列範例中、需要一個GPU。</block>
  <block id="c969e6364e4561a959d1ce20f7187723" category="paragraph"><block ref="c969e6364e4561a959d1ce20f7187723" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b8da2142543d647576288d71dddabb01" category="list-text">按一下「啟動」以配置新的筆記型電腦伺服器。</block>
  <block id="37a742c47c216725dd178d8c3c7a3f31" category="list-text">等待筆記型電腦伺服器完全配置完成。如果您從未使用您指定的Docker映像來配置伺服器、則可能需要幾分鐘的時間、因為該映像需要下載。當伺服器已完全配置完成時、您會在Jupyter筆記型電腦管理頁面的「Status（狀態）」欄中看到綠色勾號。</block>
  <block id="417a2eafac6842560d3900cf9d12b5bb" category="paragraph"><block ref="417a2eafac6842560d3900cf9d12b5bb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0463a63e8059055e703ecd9ffa72e106" category="list-text">按一下「連線」以連線至新的伺服器Web介面。</block>
  <block id="4fbf21602f4888216386998d62f1defd" category="list-text">確認已在伺服器上掛載步驟6中指定的資料集磁碟區。請注意、此磁碟區預設會掛載於預設工作區內。從使用者的觀點來看、這只是工作區內的另一個資料夾。使用者可能是資料科學家、而非基礎架構專家、因此不需要擁有任何儲存專業知識、就能使用此磁碟區。</block>
  <block id="c4b6acc44505864a5dccae2571b74f6a" category="paragraph"><block ref="c4b6acc44505864a5dccae2571b74f6a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a7d375154397ce9358d2234ec578ff7e" category="paragraph"><block ref="a7d375154397ce9358d2234ec578ff7e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="479d03862d87da58784e60e5cfcec977" category="list-text">開啟終端機、並假設步驟5要求新磁碟區、執行「df -h」、確認新的Trident資源配置持續磁碟區已掛載為預設工作區。</block>
  <block id="68f39a4f77e618e6617c3830fb47de7c" category="paragraph">預設工作區目錄是您第一次存取伺服器Web介面時所顯示的基礎目錄。因此、您使用Web介面建立的任何成品都會儲存在此Trident資源配置的持續Volume中。</block>
  <block id="d3e91c75db0cb717734224e6eb72e201" category="paragraph"><block ref="d3e91c75db0cb717734224e6eb72e201" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1d739fe0e421e9cb4d6315f0021cc5eb" category="paragraph"><block ref="1d739fe0e421e9cb4d6315f0021cc5eb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b8c20de15cf5efa2297f9d40d899450e" category="list-text">使用終端機執行「nvidia-smi」、確認已將正確數量的GPU分配給筆記型電腦伺服器。在下列範例中、已依照步驟7的要求、將一個GPU分配給筆記型電腦伺服器。</block>
  <block id="ed4e7225349e5c6cd33dfd15ad878438" category="paragraph"><block ref="ed4e7225349e5c6cd33dfd15ad878438" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c64f80d07d5c1623b7b2f34e40d7b46c" category="inline-link-macro">下一步：筆記型電腦和管線範例。</block>
  <block id="c3714374d558db5573b4ecd4261e206e" category="paragraph"><block ref="c3714374d558db5573b4ecd4261e206e" category="inline-link-macro-rx"></block></block>
  <block id="b682eee68510f6de72c9f48b832fba3c" category="inline-link"><block ref="b682eee68510f6de72c9f48b832fba3c" category="inline-link-rx"></block></block>
  <block id="3e5d8230d86c09995fcd8e9ccf335813" category="list-text">Cnvrg-IO（<block ref="0691e14f48847a7f13eaf800c0f5813a" category="inline-link-rx"></block>）：</block>
  <block id="6536b07bf755c64528073e655a567c32" category="list-text">Cnvrg核心（免費ML平台）</block>
  <block id="0a16af2994c8e10c6c5976d774430a92" category="paragraph"><block ref="0a16af2994c8e10c6c5976d774430a92" category="inline-link-rx"></block></block>
  <block id="1b21ae34f592a7f2ca92d4a44122475d" category="list-text">Cnvrg文件</block>
  <block id="0730c44e9dc233c7fce5d95816294f52" category="inline-link"><block ref="0730c44e9dc233c7fce5d95816294f52" category="inline-link-rx"></block></block>
  <block id="f3a2f110576ed38849e70a6bb9794ae8" category="paragraph"><block ref="f3a2f110576ed38849e70a6bb9794ae8" category="inline-link-rx"></block></block>
  <block id="c7c082299876892b4274ecfb3c3f7bcd" category="list-text">NVIDIA DGX-1伺服器：</block>
  <block id="d2647f7d8e79758eea27c6cdcf636638" category="list-text">NVIDIA DGX-1伺服器</block>
  <block id="45a310b0e4b087b75cb073303044f6f9" category="paragraph"><block ref="45a310b0e4b087b75cb073303044f6f9" category="inline-link-rx"></block></block>
  <block id="65d1be94e9f29dc4af77bef169d5be14" category="list-text">NVIDIA Tesla V100 Tensor Core GPU</block>
  <block id="fad8218d69ce01748faed5492aa5d3ef" category="paragraph"><block ref="fad8218d69ce01748faed5492aa5d3ef" category="inline-link-rx"></block></block>
  <block id="9052758d35faeab8995feefc50d729ed" category="list-text">NVIDIA GPU雲端（NGC）</block>
  <block id="5c75bfead88762783d54deaaa3d62735" category="paragraph"><block ref="5c75bfead88762783d54deaaa3d62735" category="inline-link-rx"></block></block>
  <block id="64ba1593b4427fb62b53b007d4a1c26e" category="list-text">NetApp AFF 系統：</block>
  <block id="584122d1d5e8c2c4232e029a6896ba40" category="list-text">資料表AFF</block>
  <block id="092940c9deac7c0f10a0ed36613c28c2" category="paragraph"><block ref="092940c9deac7c0f10a0ed36613c28c2" category="inline-link-rx"></block></block>
  <block id="b4199ce9c494dec10c6ee051ddb413e2" category="list-text">NetApp FlashAdvantage for AFF 功能</block>
  <block id="9dcd8a7bfc88cf6bbca4b422861950bf" category="paragraph"><block ref="9dcd8a7bfc88cf6bbca4b422861950bf" category="inline-link-rx"></block></block>
  <block id="30df7f622635480ab538fb3016f9c36a" category="list-text">2.x文件ONTAP</block>
  <block id="974aeb47ab8fd0a635d02d8ac80b9eb1" category="paragraph"><block ref="974aeb47ab8fd0a635d02d8ac80b9eb1" category="inline-link-rx"></block></block>
  <block id="35d8efcf211e40a836698bff14ed0ff6" category="list-text">NetApp FlexGroup 技術報告</block>
  <block id="1ab29fc7fde3319a82a477ec308cf820" category="paragraph"><block ref="1ab29fc7fde3319a82a477ec308cf820" category="inline-link-rx"></block></block>
  <block id="de1e4a3a0cae539a34678546eb6e91b3" category="list-text">適用於容器的NetApp持續儲存設備：</block>
  <block id="36c1c8df527a7721115f4ba53b5ea5a6" category="paragraph"><block ref="36c1c8df527a7721115f4ba53b5ea5a6" category="inline-link-rx"></block></block>
  <block id="1cb9a8619999ebc0a2d9c07624d76166" category="list-text">NetApp互通性對照表：</block>
  <block id="9ed4a475dd3705157a9fed8811f63ce2" category="list-text">NetApp 互通性對照表工具</block>
  <block id="d51c982ce98a1e197c234ea0b9a5e7d9" category="paragraph"><block ref="d51c982ce98a1e197c234ea0b9a5e7d9" category="inline-link-rx"></block></block>
  <block id="7a211d267d46c5b44662098f9234fcd0" category="list-text">AI網路：ONTAP</block>
  <block id="b8a60c56690ddfc62bd735d0b212c396" category="list-text">Cisco Nexus 3232C交換器</block>
  <block id="bb31172f259c591005fd4cbcdbfadd11" category="paragraph"><block ref="bb31172f259c591005fd4cbcdbfadd11" category="inline-link-rx"></block></block>
  <block id="926dc08a3a3a3946402bb1beab6545cc" category="list-text">Mellanox Spectrum 2000系列交換器</block>
  <block id="492f548658890a1d2495b8af5cebef8c" category="paragraph"><block ref="11ff6f8fb3928ea5c0863401e5e79d17" category="inline-link-rx"></block></block>
  <block id="edb7d6728a9813b505cb306367d453e3" category="list-text">達利</block>
  <block id="bdee52e8a4d1d258eb5a296fbd0ad9b5" category="paragraph"><block ref="bdee52e8a4d1d258eb5a296fbd0ad9b5" category="inline-link-rx"></block></block>
  <block id="26909d0380bdba02e2fcf7f7157cd78b" category="list-text">Horovod：Uber的開放原始碼分散式深度學習架構、適用於TensorFlow</block>
  <block id="3ffa9619031400d374ed5c0860d434ab" category="paragraph"><block ref="3ffa9619031400d374ed5c0860d434ab" category="inline-link-rx"></block></block>
  <block id="c9cbaff7c173f4b7bc923573ca753577" category="list-text">在Container執行時間生態系統中啟用GPU</block>
  <block id="b3a776c1e64d267ebe62a7bf45c6c1b7" category="paragraph"><block ref="b3a776c1e64d267ebe62a7bf45c6c1b7" category="inline-link-rx"></block></block>
  <block id="ccd09fd9430cf2df88a137dbec97676b" category="paragraph"><block ref="ccd09fd9430cf2df88a137dbec97676b" category="inline-link-rx"></block></block>
  <block id="22d149e351657eac5bd1db4934498bbe" category="list-text">資料集與基準測試：</block>
  <block id="717108fd0999828c4a6d8290d419733b" category="list-text">NIH胸前X光資料集</block>
  <block id="4eb7427d14327fa86230f324870dc6b8" category="paragraph"><block ref="4eb7427d14327fa86230f324870dc6b8" category="inline-link-rx"></block></block>
  <block id="f249b6ce18772b83efb8a6e58ac09d47" category="list-text">王小鬆、彭葉文、盧、陸志勇、MohammadhADI Bagheri、 Ronald Summers、ChestX-RAY 8：醫院規模的ChestX-Ray X光資料庫、以及一般胸病弱監督分類與本地化的基準測試、IEEE CVPR、第頁3462-3471、2017TR-4841-0620</block>
  <block id="e1490a61359279998443f8eab1c0483e" category="summary">本頁摘要說明Azure NetApp Files 分散式或大規模訓練的功能優勢。</block>
  <block id="b0de8e85db65da6381bb71646929daa6" category="doc">點選率預測使用案例摘要</block>
  <block id="d7550d336c660c27c3f1aa9ffdbc1e08" category="inline-link-macro">先前：雲端資源需求。</block>
  <block id="6a4fb77bb2a725598588e7db128b749b" category="paragraph"><block ref="6a4fb77bb2a725598588e7db128b749b" category="inline-link-macro-rx"></block></block>
  <block id="3f504d5ee520c44b83e5875afd3f2831" category="inline-link">TB點選記錄</block>
  <block id="ce2803fd5e9b90b62d0792d13e715d11" category="inline-link">Criteo AI實驗室</block>
  <block id="b622f3d3bde9c5202a2be0c23982e0b2" category="paragraph">此使用案例以公開提供的為基礎<block ref="f00b4c49198828625540594bcd2c0e57" category="inline-link-rx"></block> 資料集來源<block ref="3ba217c046bd683ab55f300076736b4a" category="inline-link-rx"></block>。隨著ML平台與應用程式的最新進展、現在許多人都開始大規模學習。點閱率（CTR）定義為每百個線上廣告曝光點閱率（以百分比表示）的平均點閱率。在各種產業垂直市場和使用案例中、包括數位行銷、零售、電子商務和服務供應商、廣泛採用此技術作為主要指標。以下是使用CTR作為潛在客戶流量重要指標的範例：</block>
  <block id="d86cf69a8b82547a94ca3f6a307cf9a6" category="inline-link">Google Analytics</block>
  <block id="fe123d76ac9bec74ba2056b6a34fbf5d" category="inline-link">廣告排名</block>
  <block id="747d705222dc64c89cfadd75a9792b30" category="list-text">*數位行銷：*<block ref="6c9e2e85af2f8f35c64de5000ebda91e" category="inline-link-rx"></block>、CTR可用來衡量廣告商或商家的關鍵字、廣告及免費上市表現。高點閱率是使用者發現您的廣告和清單有用且相關的良好指標。此外、CTR也有助於達成關鍵字的預期CTR、這是的一項要素<block ref="428c3403a03510f9dc338448b285e764" category="inline-link-rx"></block>。</block>
  <block id="8a2e97f5a0cefdd4b76863bdd3773fb2" category="list-text">*電子商務：*除了善用資源之外<block ref="8785133d6074d4ab5f5345c36bc35a21" category="inline-link-rx"></block>中、電子商務後端至少有一些訪客統計資料。雖然這些統計資料乍看之下似乎並不實用、但通常很容易閱讀、而且可能比其他資訊更準確。由這類統計資料組成的第一方資料集為專屬資料、因此與電子商務賣家、買家及平台最相關。這些資料集可用來設定基準、比較去年和昨天的結果、建立時間序列以供進一步分析。</block>
  <block id="5737cd832bf93fd33459cf0a04787441" category="list-text">*零售：*零售商店可將訪客數量和客戶數量與CTR建立關聯。從銷售點記錄可以看出客戶的數量。零售商網站的點閱率或廣告流量可能導致上述銷售。忠誠度方案是另一個使用案例、因為客戶從線上廣告或其他網站重新導向、可能會加入以獲得獎勵。零售商可以透過忠誠度方案來贏得客戶、並記錄銷售記錄的行為、藉此建立一套建議系統、不僅能預測不同類別的消費者購買行為、也能將優惠券個人化、減少流失。</block>
  <block id="32c14bcab423a033bf540425e236d3e6" category="list-text">*服務供應商：*電信公司和網際網路服務供應商擁有豐富的第一方使用者遙測資料、可提供深入見解的AI、ML和分析使用案例。舉例來說、電信公司可利用行動用戶的網路瀏覽、每日記錄最上層網域記錄、微調現有的模型、以製作最新的對象區隔、預測客戶行為、並與廣告商合作、以即時廣告方式提供更好的線上體驗。在這類資料導向的行銷工作流程中、CTR是反映轉換的重要指標。</block>
  <block id="78ae79f63f58a3ac75e77e3a075fd19e" category="inline-link">請按一下「Logs（記錄）」</block>
  <block id="deb698cbe7918324e2e1564708266732" category="paragraph">就數位行銷而言、<block ref="cc065865c19a3af4babfdf02c1c6b55d" category="inline-link-rx"></block> 現在是評估ML平台與演算法擴充性的參考資料集。透過預測點擊率、廣告商可以選擇最有可能回應廣告的訪客、分析他們的瀏覽記錄、並根據使用者的興趣顯示最相關的廣告。</block>
  <block id="5f326be91a09bc93ca87444e834df2a6" category="paragraph">本技術報告所提供的解決方案強調下列優點：</block>
  <block id="67ccf3c7c1e67c90000dfee83bab38ec" category="list-text">分散式或大規模訓練的優勢Azure NetApp Files</block>
  <block id="e15bc9f9b7a013d672cb689660ab9f9f" category="list-text">支援CUDA的資料處理（cuDF、cuPy等）和ML演算法（cuML）</block>
  <block id="e150c8d445e71cda899957943e39b75f" category="list-text">適用於分散式訓練的dask平行運算架構</block>
  <block id="ec61531814ab09c5338813eecc764692" category="paragraph">端點對端點工作流程建立在「水流AI」和Azure NetApp Files 「速度AI」基礎上、顯示隨機樹系模式訓練時間大幅縮短兩個訂單。相較於傳統的「大作」方法、這項改善相當顯著、因為在處理實際的點擊記錄時、每天都會有45GB的結構化表格資料（平均）。這相當於包含約20億列的DataFrame。我們將示範叢集環境設定、架構與程式庫安裝、資料載入與處理、傳統與分散式訓練、視覺化與監控、並在本技術報告中比較關鍵的端點對端點執行時間結果。</block>
  <block id="3876b7e4b6a608a0b9001ae2e65c91b1" category="inline-link-macro">下一步：安裝並設定高效能叢集。</block>
  <block id="2f0a1a89887d5c4f057724084bfdb718" category="paragraph"><block ref="2f0a1a89887d5c4f057724084bfdb718" category="inline-link-macro-rx"></block></block>
  <block id="d052a88935efadcc9eebf94684d52e19" category="doc">實現高叢集使用率</block>
  <block id="8d46742dbd21a217f738a9ca6a31f634" category="paragraph">在本節中、我們模擬一個實際案例、其中四個資料科學團隊各自提交自己的工作負載、以展示Run:AI協調解決方案、在維持優先順序和平衡GPU資源的同時、達到高叢集使用率。我們首先使用一節中所述的ResNet-50基準測試 <block ref="5872a8c23866a6bf186843724ee58ad7" category="inline-link-macro-rx"></block>：</block>
  <block id="14f48338822299bdf82bb4528d3c9e07" category="paragraph">我們執行的ResNet-50基準測試與中相同<block ref="c37aff28e1a25306bf31a11e21ff2c71" category="inline-link-rx"></block>。我們使用旗標「-本機映像」來表示未駐留在公用泊塢視窗儲存庫中的容器。我們將主機DGX-1節點上的目錄「/mnt"和「/tmp"分別掛載到容器上。資料集位於NetApp AFFA800、其中「dataset_dir」引數指向目錄。無論是「-num_devices=1」或「-g 1」、我們都會為此工作分配一個GPU。前者是所謂的「run．py」指令碼、後者則是「runai submit」指令的旗標。</block>
  <block id="bccb844975c2eec86eb25c0d8e2a989b" category="paragraph">下圖顯示系統總覽儀表板、其中GPU使用率達97%、並已配置全部16個可用GPU。您可以在GPU /專案長條圖中輕鬆查看每個團隊分配的GPU數量。「執行中工作」窗格會顯示目前執行中的工作名稱、專案、使用者、類型、節點、 GPU使用量、執行時間、進度和使用率詳細資料。佇列中的工作負載與其等待時間清單、會顯示在「擱置工作」中。最後、節點方塊會針對叢集中的個別DGX-1節點、提供GPU數量和使用率。</block>
  <block id="1acc627e7c9d8002628b2e12c91ac683" category="paragraph"><block ref="1acc627e7c9d8002628b2e12c91ac683" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9d5d3b5670d9303fddfb021e681546c0" category="inline-link-macro">下一步：針對要求較低或互動式工作負載的部分GPU配置</block>
  <block id="3d9997e0f8b3b6a279c8779455e7c760" category="paragraph"><block ref="3d9997e0f8b3b6a279c8779455e7c760" category="inline-link-macro-rx"></block></block>
  <block id="228af426af79aabaa0b969d8cee05002" category="summary">本文件遵循MLPerf Inverence v0.7程式碼、MLPerf Inverence v1.1程式碼與規則。我們執行的基準測試是根據本節表格中的定義、在邊緣進行推斷。</block>
  <block id="b3e6ac4f3c523ea5a90f4f79ca3e585d" category="doc">測試計畫</block>
  <block id="35e08a3e7b357a4284ef29b287063ae5" category="paragraph"><block ref="35e08a3e7b357a4284ef29b287063ae5" category="inline-link-macro-rx"></block></block>
  <block id="a4f86f7bfc24194b276c22e0ef158197" category="inline-link">規則</block>
  <block id="eb190159f20d63d1c7687ecafd03fc73" category="paragraph">本文件遵循MLPerf推斷v0.7<block ref="72ea1359ddbf7a99cdb0a438fda3e022" category="inline-link-rx"></block>（MLPerf推斷v1.1）<block ref="7dc141edfa21f33dbd4b0757be1ad69f" category="inline-link-rx"></block>和<block ref="efc21f34f290528320a21a8cc99ffcfc" category="inline-link-rx"></block>。我們執行MLPerf基準測試、設計用於在邊緣進行推斷、如下表所定義。</block>
  <block id="deec4ff19974f12ed781cb9a59064214" category="cell">區域</block>
  <block id="eaeb30f9f18e0c50b178676f3eaef45f" category="cell">工作</block>
  <block id="239658e016e3d5d06ae719d280a79fec" category="cell">資料集</block>
  <block id="e110cde47b67924ec0ef64500e8cb067" category="cell">QSL大小</block>
  <block id="571094bb27864b600d8e6b561a137a55" category="cell">品質</block>
  <block id="77f086368f7402e03b21bb823cda2eb3" category="cell">多重串流延遲限制</block>
  <block id="99a0628d9f7179c032e0cf59efbc0fad" category="cell">願景</block>
  <block id="c84e3388f5bc3e4ce028dc81625bf819" category="cell">映像分類</block>
  <block id="4cf67db3abdf54de6064fce40cf27398" category="cell">Resnet50v1.5</block>
  <block id="05e96e35d2778a07f18ff8b414821ee8" category="cell">ImageNet（224x224）</block>
  <block id="021bbc7ee20b71134d53e20206bd6feb" category="cell">1024.</block>
  <block id="79267804a18aa7217c234994e26bb5c7" category="cell">99%的FP32</block>
  <block id="c2010c9d1312ce345a2313d3acb5c6d5" category="cell">50ms</block>
  <block id="5d9387d7bf46f8c6854a5caafd6cfbf3" category="cell">物件偵測（大型）</block>
  <block id="7dd82182395c2720676a1e82b781ef04" category="cell">SSD - ResNet34</block>
  <block id="0505dc2363120e454308e12e47f6d354" category="cell">可可（1200 x 1200）</block>
  <block id="ea5d2f1c4608232e07d3aa3d998e5135" category="cell">64</block>
  <block id="f336aeb0ea3de7c70100c292338460e3" category="cell">66毫秒</block>
  <block id="a3e1c35debe58b3684abba30911eb0f9" category="cell">物件偵測（小型）</block>
  <block id="d05a0b1a6c857a559314f24c10825416" category="cell">SSD：移動Netsv1</block>
  <block id="f471fd17e298022a58bcbd05aa25a819" category="cell">可可（300x300）</block>
  <block id="f718499c1c8cef6730f9fd03c8125cab" category="cell">256</block>
  <block id="ed076605284997250d9cc771eedbfc61" category="cell">醫療影像分割</block>
  <block id="b8ffefa5ddac895023e8ab6fe1b55b45" category="cell">3D UNIT</block>
  <block id="5ea5e4840c21271f42762e8b9271527a" category="cell">2019年（全年無休、全年無休、每天24小時160）</block>
  <block id="c74d97b01eae257e44aa9d5bade97baf" category="cell">16</block>
  <block id="8322d3768dee2653e9cc15c955ee60a8" category="cell">99%和99.9%的FP32</block>
  <block id="274b68192b056e268f128ff63bfcd4a4" category="cell">不適用</block>
  <block id="04a83927cfa1af6ae14f94e90aab9ebb" category="cell">演講</block>
  <block id="ade9e8d743e7e78d87c5c5603b0aa4ae" category="cell">語音對文字</block>
  <block id="69ee0ff6f427bb2dfd286a55bbc181ea" category="cell">RNNT</block>
  <block id="d3c7d61f6e8ea0b76fd8b65e5115b28b" category="cell">Lithpech開發-乾淨</block>
  <block id="84b20b1f5a0d103f5710bb67a043cd78" category="cell">2513</block>
  <block id="4994a8ffeba4ac3140beb89e8d41f174" category="cell">語言</block>
  <block id="f8672b43ad1f9d3531557d69b6da380c" category="cell">語言處理</block>
  <block id="221c3eff38f8ab54d359694f9da63c6e" category="cell">Bert</block>
  <block id="f50c0cca078c7426bed1eb196911c809" category="cell">Squad v1.1</block>
  <block id="d56da061d55e2175bd67901d5f0948be" category="cell">10833</block>
  <block id="816720c0b642aa1eef01c4f9108f54c5" category="paragraph">下表列出Edge基準測試案例。</block>
  <block id="85051346c766b4444af7bfaaa0c189f5" category="cell">案例</block>
  <block id="4bb9c2b62dbc9558da74af948130693b" category="cell">映像分類</block>
  <block id="d5348bf8d0ff8e72043bdbb08aef9767" category="cell">單一串流、離線、多重串流</block>
  <block id="468acb809a41b49bb7fcdf7425dcd7ee" category="cell">單一串流、離線</block>
  <block id="7966e67de4ba20fb5412257b4023f4d1" category="paragraph">我們使用此驗證所開發的網路儲存架構來執行這些基準測試、並將結果與先前提交給MLPerf之邊緣伺服器上本機執行的結果進行比較。比較的目的是判斷共享儲存設備對推斷效能的影響程度。</block>
  <block id="a53c037982ff4e0cd4a61ba90c4c21d3" category="inline-link-macro">下一步：測試組態。</block>
  <block id="50cbf9a915ce97c432035077add8a92f" category="paragraph"><block ref="50cbf9a915ce97c432035077add8a92f" category="inline-link-macro-rx"></block></block>
  <block id="56dfbb2acffcc994819cbad5ec450617" category="paragraph">本節涵蓋與ML工作流程中的資料快取相關的概念與元件。</block>
  <block id="091fa9121c047db1dd48c3e2ab5f3c91" category="section-title">機器學習</block>
  <block id="d3f18dede1775f82df24232095090253" category="paragraph">對於全球許多企業和組織而言、ML正迅速成為不可或缺的一環。因此、IT與DevOps團隊現在面臨著將ML工作負載標準化、以及配置雲端、內部部署與混合式運算資源的挑戰、這些資源可支援ML工作與管線所需的動態密集工作流程。</block>
  <block id="f71dfff263d05c18171dcf4b8c538ebf" category="section-title">以Container為基礎的機器學習與Kubernetes</block>
  <block id="002f314c3c41ffb741f8c91d2274af9a" category="paragraph">容器是獨立的使用者空間執行個體、可在共享主機作業系統核心上執行。容器的採用率迅速增加。Container提供許多與虛擬機器（VM）相同的應用程式沙箱效益。不過、由於虛擬機器所仰賴的Hypervisor和客體作業系統層已經被淘汰、因此容器的重量遠較輕。</block>
  <block id="ce8bb3a31abf8bfcdcdacb34d96b010a" category="paragraph">容器也能直接透過應用程式、有效地封裝應用程式相依性、執行時間等項目。最常用的容器包裝格式是Docker容器。以Docker Container格式容器化的應用程式、可在任何能夠執行Docker Container的機器上執行。即使應用程式的相依性並不存在於機器上、這也是如此、因為所有相依性都會封裝在容器本身中。如需詳細資訊、請參閱<block ref="5b5112034c22f544bc19c7a568afbfcb" category="inline-link-rx"></block>。</block>
  <block id="cfbe31a3e8ac3348240670510232ed8f" category="paragraph">廣受歡迎的Container Orchestrator Kubernetes可讓資料科學家啟動靈活、以容器為基礎的工作和管線。此外、基礎架構團隊也能在單一託管與雲端原生環境中、管理及監控ML工作負載。如需詳細資訊、請參閱<block ref="45556eaecf73275e38fa694031a104a3" category="inline-link-rx"></block>。</block>
  <block id="371ac536e4099ad82f6080b713ce9647" category="paragraph">Cnvrg-IO是一套AI作業系統、可將企業管理、擴充及加速AI與資料科學的開發、從研究到正式作業的方式轉變成全新的方式。程式碼優先平台是由資料科學家為資料科學家所建置、可靈活地在內部部署或雲端上執行。利用模型管理、MLOps和持續的ML解決方案、cnvrg-IO將頂尖技術引進資料科學團隊、讓他們能將更少的時間花在DevOps上、專注於真正的魔力演算法。自從使用cnvrg-IO之後、各產業的團隊已獲得更多的生產模式、進而提高商業價值。</block>
  <block id="ffb1d184fa3790eda48f1fc2d9c2f821" category="section-title">Cnvrg-IO中繼排程器</block>
  <block id="55fdc117823776b1ebb2170b4adfadf6" category="paragraph">Cnvrg：IO具有獨特的架構、可讓IT和工程師將不同的運算資源附加至同一個控制面板、並讓cnvrg-IO管理所有資源中的ML工作。這表示它可以附加多個內部部署的Kubernetes叢集、VM伺服器和雲端帳戶、並在所有資源上執行ML工作負載、如下圖所示。</block>
  <block id="3c7fcf7e73eda18d7277b14914857f38" category="paragraph"><block ref="3c7fcf7e73eda18d7277b14914857f38" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cfff0196a077e92a8fe9326f97cb7fc5" category="section-title">Cnvrg-IO資料快取</block>
  <block id="ad693e5ee82f0e0486a136821d0a0779" category="paragraph">Cnvrg-IO可讓資料科學家利用其資料快取技術來定義冷熱資料集版本。根據預設、資料集會儲存在集中式物件儲存資料庫中。然後、資料科學家可以快取所選運算資源上的特定資料版本、以節省下載時間、進而提高ML開發與生產力。快取且未使用數天的資料集會自動從選取的NFS清除。快取和清除快取只要按一下滑鼠、不需要編碼、IT或DevOps工作。</block>
  <block id="42cf1b27f88752e1e98918981aa76e41" category="section-title">Cnvrg-IO流程和ML管路</block>
  <block id="1bc2ab6c98ec5b23a8a384861da1c6ca" category="paragraph">Cnvrg-IO流程是建置正式作業ML管線的工具。流程中的每個元件都是在使用基礎泊塢視窗映像的選定運算上執行的指令碼/程式碼。這項設計可讓資料科學家和工程師建立單一管線、同時在內部部署和雲端上執行。Cnvrg-IO可確保資料、參數和成品在不同的元件之間移動。此外、系統會監控並追蹤每個流程、以確保100%可重現的資料科學。</block>
  <block id="87cd11047488d3aa87eb2829eeb02305" category="section-title">Cnvrg-IO核心</block>
  <block id="526c8ebff3057ce85f47160f32e15556" category="paragraph">Cnvrg-IO核心是資料科學社群的免費平台、可協助資料科學家更專注於資料科學、而非DevOps。核心的靈活基礎架構可讓資料科學家控制使用任何語言、AI架構或運算環境、無論是內部部署或雲端環境、讓他們能夠發揮最佳功能、建置演算法。在任何Kubernetes叢集上、只要使用一個命令、就能輕鬆安裝Cnvrg-IO核心。</block>
  <block id="f92894a2a2633c488de71d74ace474d7" category="paragraph">支援ML和深度學習（DL）工作負載的資料中心參考架構、使用NetApp支援儲存系統、以及搭配Tesla V100 GPU的NVIDIA DGX系統。ONTAP AFFAI採用業界標準的NFS檔案傳輸協定、透過100Gb乙太網路、為客戶提供高效能的ML/DL基礎架構、使用標準資料中心技術來降低實作與管理成本。ONTAP使用標準化的網路和傳輸協定、ONTAP 讓AI能夠整合到混合雲環境、同時維持作業一致性和簡易性。作為預先驗證的基礎架構解決方案、ONTAP Realize AI可縮短部署時間與風險、大幅降低管理成本、讓客戶更快實現價值。</block>
  <block id="c2148c4c14a795b271b67f662900da4e" category="paragraph">Trident是NetApp開發與維護的開放原始碼儲存協調工具、可大幅簡化Kubernetes工作負載的持續儲存設備建立、管理與使用。Trident本身就是Kubernetes原生應用程式、直接在Kubernetes叢集內執行。Kubernetes使用者（開發人員、資料科學家、Kubernetes系統管理員等）可以使用他們已經熟悉的標準Kubernetes格式、建立、管理及與持續儲存磁碟區互動。同時、他們也能善用NetApp先進的資料管理功能、以及採用NetApp技術的資料架構。Trident將持續儲存設備的複雜度抽象化、使其易於使用。如需詳細資訊、請參閱<block ref="c98bfcab9052a99136f8752a5ac8ed0b" category="inline-link-rx"></block>。</block>
  <block id="ecfefbd82f34239e668be7aac3762226" category="paragraph">NetApp StorageGRID 功能區是軟體定義的物件儲存平台、可提供簡單、類似雲端的儲存設備、讓使用者使用S3傳輸協定來存取、以滿足這些需求。支援跨網際網路連線站台多個節點的橫向擴充系統、不受距離限制。StorageGRID有了NetApp的智慧型原則引擎StorageGRID 、使用者可以選擇跨站台的銷毀編碼物件、在遠端站台之間進行地理恢復或物件複寫、以將WAN存取延遲降至最低。本解決方案提供優異的私有雲主要物件儲存資料湖。StorageGRID</block>
  <block id="0f0b99ea2f70cd363c2c6a279f74e760" category="section-title">NetApp Cloud Volumes ONTAP</block>
  <block id="c060a6548f860aa739b76c0178ac7c5c" category="paragraph">NetApp Cloud Volumes ONTAP 的資料管理軟體具備AWS、Google Cloud Platform和Microsoft Azure等公有雲供應商的靈活彈性、可為使用者資料提供控制、保護和效率。NetApp是以NetApp解決方案儲存軟體為基礎打造的雲端原生資料管理軟體、可為使用者提供卓越的通用儲存平台、滿足雲端資料需求。Cloud Volumes ONTAP ONTAP在雲端和內部部署使用相同的儲存軟體、讓使用者能夠享有Data Fabric的價值、而無需訓練IT人員採用全新的方法來管理資料。</block>
  <block id="e16f1943a363dfa46a958bd450c2ecf8" category="paragraph">對於對混合雲部署模式感興趣的客戶、Cloud Volumes ONTAP 在大多數公有雲中、可提供相同的功能和領先同級的效能、在任何環境中都能提供一致且無縫的使用者體驗。</block>
  <block id="2d52bcd2e896c32a66c9fe10fed38e0f" category="inline-link-macro">下一步：硬體與軟體需求</block>
  <block id="82ac5cdab15b3954389238dddbc12168" category="paragraph"><block ref="82ac5cdab15b3954389238dddbc12168" category="inline-link-macro-rx"></block></block>
  <block id="232abf87aa3028a990e94f6bb51fe8bd" category="summary">若要在Kubernetes叢集中執行單節點AI和ML工作、請從部署跳接主機執行此頁面上的工作。</block>
  <block id="46300fa439cc237919f854816fc89fc2" category="doc">執行單節點AI工作負載</block>
  <block id="ebbcd572ece7625ba24f2c3ecda6d5b5" category="paragraph">若要在Kubernetes叢集中執行單節點AI和ML工作、請從部署跳接主機執行下列工作。有了Trident、您就能快速輕鬆地建立資料磁碟區、讓Kubernetes工作負載能夠存取可能含有PB資料的資料。若要從Kubernetes Pod中存取此類資料磁碟區、只需在Pod定義中指定一個PVc即可。此步驟為Kubernetes原生作業、不需要NetApp專業人員。</block>
  <block id="e3305581bc1f67d1989e08e42a43c113" category="admonition">本節假設您已將您嘗試在Kubernetes叢集中執行的特定AI和ML工作負載（採用Docker容器格式）容器化。</block>
  <block id="6bdbab1141be3c52dec1f29c4c5fdf52" category="inline-link">ImageNet網站</block>
  <block id="08eb6cc7203ec1b36805e4767d450467" category="list-text">下列命令範例顯示使用ImageNet資料集的TensorFlow基準測試工作負載建立Kubernetes工作。如需ImageNet資料集的詳細資訊、請參閱<block ref="19a9693db577a40175aef26761f77fe7" category="inline-link-rx"></block>。</block>
  <block id="56920225f5c2d474925baad76ae3e7ce" category="paragraph">此範例工作要求八個GPU、因此可在單一GPU工作節點上執行、該工作節點具備八個或更多GPU。此範例工作可在叢集中提交、而具有八個以上GPU的工作節點不存在、或目前正與其他工作負載一起使用。如果是、則工作會維持在擱置狀態、直到該工作者節點可供使用為止。</block>
  <block id="dd36f0d653a70e6e6c7e838454ee7e20" category="paragraph">此外、為了將儲存頻寬最大化、包含所需訓練資料的磁碟區會在本工作所建立的Pod內掛載兩次。另外一個Volume也會掛載在Pod中。第二個磁碟區將用於儲存結果和指標。這些磁碟區會使用PVCS名稱在工作定義中參考。如需Kubernetes工作的詳細資訊、請參閱<block ref="0ceaf9ba0112a862c5fa5f8d38bee04b" category="inline-link-rx"></block>。</block>
  <block id="225e66547943a27f429558dce4e639e2" category="paragraph">此範例所建立的Pod中、會將「medium」值為「mory」的「emtyDir"磁碟區掛載到「開發/ shm」。Docker Container執行時間所自動建立的「/dev/shm」虛擬磁碟區的預設大小、有時可能不足以滿足TensorFlow的需求。如以下範例所示、掛載「empyDir"磁碟區可提供足夠大的「/dev/shm」虛擬磁碟區。如需有關「empyDir" Volume的詳細資訊、請參閱<block ref="ad2ab91baa5517930a567ac7588e61fd" category="inline-link-rx"></block>。</block>
  <block id="ac5f33311bbfb696a5966510fc4a38b8" category="paragraph">在此範例工作定義中所指定的單一容器、其「優先」值為「true」。此值表示容器有效擁有主機的root存取權。在這種情況下會使用此註釋、因為執行的特定工作負載需要root存取權。具體而言、工作負載執行的清除快取作業需要root存取權。是否需要這種「特殊權限：真」註解、取決於您執行的特定工作負載需求。</block>
  <block id="8db728b0062c29a77e48bcd3be77be7f" category="list-text">確認您在步驟1中建立的工作正在正確執行。下列範例命令可確認已為工作建立單一Pod（如工作定義所指定）、而且此Pod目前正在其中一個GPU工作節點上執行。</block>
  <block id="7b2880ed5066d8fda6f6d5a4ec8f39ac" category="list-text">確認您在步驟1中建立的工作已成功完成。下列命令範例可確認工作已成功完成。</block>
  <block id="bead823acab8a06d478eb02c7ff84d35" category="list-text">*選用：*清除工作成品。下列命令範例顯示刪除在步驟1中建立的工作物件。</block>
  <block id="cb215cf0e9fb88bd1fc97b4ba53fd36f" category="paragraph">刪除工作物件時、Kubernetes會自動刪除任何相關的Pod。</block>
  <block id="7af76512b5f0f470c6a7a6db368a9818" category="inline-link-macro">下一步：執行同步分散式AI工作負載。</block>
  <block id="e79dd849e38d01ac3faa7090e83320b2" category="paragraph"><block ref="e79dd849e38d01ac3faa7090e83320b2" category="inline-link-macro-rx"></block></block>
  <block id="39cf3ca3e5dbe56d6eade7cbe3cc40e6" category="doc">Kubeflow作業與工作範例</block>
  <block id="368c8f521d74a015b7a3e1a46c8847b1" category="paragraph">本節包含使用Kubeflow執行的各種作業和工作範例。</block>
  <block id="bdbf5a5e65f2cf7435dfcea294400b35" category="inline-link-macro">下一步：為資料科學家或開發人員提供Jupyter筆記型電腦工作區。</block>
  <block id="86e512bbf34bd396dd043a14ff2027ec" category="paragraph"><block ref="86e512bbf34bd396dd043a14ff2027ec" category="inline-link-macro-rx"></block></block>
  <block id="d7cd7846436814deb26b0df06d7a4b2a" category="summary">若要在Kubernetes叢集中執行同步多節點AI和ML工作、請在部署跳接主機上執行本頁所列的工作。此程序可讓您利用儲存在NetApp磁碟區上的資料、並使用比單一工作節點更多的GPU。</block>
  <block id="8725f0c1877790fea82aedbc23e26e70" category="doc">執行同步分散式AI工作負載</block>
  <block id="deb7f52575de614a91ae7472b76138ec" category="paragraph">若要在Kubernetes叢集中執行同步多節點AI和ML工作、請在部署跨接主機上執行下列工作。此程序可讓您利用儲存在NetApp磁碟區上的資料、並使用比單一工作節點更多的GPU。如需同步分散式AI工作的說明、請參閱下圖。</block>
  <block id="c073d47c72ebccdc821d9e6419b3008c" category="admonition">相較於非同步分散式工作、同步分散式工作有助於提升效能和訓練準確度。關於同步工作與非同步工作的優缺點的討論、不在本文的討論範圍之內。</block>
  <block id="262523fcbe6eb0ec96ea58299e58f65c" category="paragraph"><block ref="262523fcbe6eb0ec96ea58299e58f65c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3a9af10e4883efa64de927027b5b0ffa" category="list-text">下列命令範例顯示建立一個工作者、以參與本節範例中單一節點上執行的相同TensorFlow基準測試工作之同步分散式執行 <block ref="b66468ea886b06cfd7c572c68cd74c28" category="inline-link-macro-rx"></block>。在此特定範例中、只會部署一名員工、因為該工作會在兩個工作節點之間執行。</block>
  <block id="e3a5f2bdfc8576b6847bcbf0d53889d4" category="paragraph">此範例的工作者部署要求八個GPU、因此可在單一GPU工作者節點上執行、該節點具備八個以上的GPU。如果GPU工作節點的GPU功能超過八個GPU、為了發揮最大效能、您可能想要增加此數目、使其等於工作節點所使用的GPU數量。如需Kubernetes部署的詳細資訊、請參閱<block ref="29c4feb256f061356947baec0e1bfcb2" category="inline-link-rx"></block>。</block>
  <block id="bfe89db11adc9a38165e670f3062d398" category="paragraph">在此範例中會建立Kubernetes部署、因為這個特定的容器化工作者永遠不會自行完成。因此、使用Kubernetes工作架構來部署IT並不合理。如果您的員工是自行設計或撰寫完成、則使用工作架構來部署您的員工可能是合理的做法。</block>
  <block id="05bdf5435b916b7b205f448788324f2b" category="paragraph">本範例部署規格中所指定的Pod、其「hostNetwork」值為「true」。此值表示Pod使用主機工作節點的網路堆疊、而非Kubernetes通常為每個Pod建立的虛擬網路堆疊。此註釋用於此案例、因為特定工作負載仰賴Open MPI、NCCL和Horovod以同步分散的方式執行工作負載。因此、它需要存取主機網路堆疊。關於Open MPI、NCCL和Horovod的討論不在本文的討論範圍之內。是否需要此「hostNetwork：true」註釋、取決於您執行的特定工作負載需求。如需有關「hostNetwork」欄位的詳細資訊、請參閱<block ref="f46b1bf9e67570ceac06230c1e502909" category="inline-link-rx"></block>。</block>
  <block id="b3f8c0432fa807543e6e24f429362a32" category="list-text">確認您在步驟1中建立的工作者部署已成功啟動。下列命令範例可確認已針對部署建立單一工作者Pod、如部署定義所示、而且此Pod目前正在其中一個GPU工作者節點上執行。</block>
  <block id="3ba975f6a7389af18602f0e938bcc37b" category="list-text">為啟動、參與及追蹤同步多節點工作執行的主節點建立Kubernetes工作。下列命令範例可建立一個主磁片、用於啟動、參與及追蹤同一個TensorFlow基準測試工作的同步分散式執行、該工作是在本節範例的單一節點上執行 <block ref="b66468ea886b06cfd7c572c68cd74c28" category="inline-link-macro-rx"></block>。</block>
  <block id="4161928cbea20386310894ea85fd3711" category="paragraph">此範例主要工作要求八個GPU、因此可在具有八個以上GPU的單一GPU工作節點上執行。如果GPU工作節點的GPU功能超過八個GPU、為了發揮最大效能、您可能想要增加此數目、使其等於工作節點所使用的GPU數量。</block>
  <block id="3e04ef9469e6953d66ae9c7536ed9b26" category="paragraph">本範例工作定義中所指定的主Pod、其「主機網路」值為「真」、就如同在步驟1中給工作群組「主機網路」值「真」一樣。請參閱步驟1、瞭解為何需要此值的詳細資訊。</block>
  <block id="8600ba20f40fb5668a1b2c02f92e220d" category="list-text">確認您在步驟3中建立的主要工作正在正確執行。下列範例命令可確認已為工作建立單一主Pod、如工作定義所示、而且此Pod目前正在其中一個GPU工作節點上執行。您也應該看到、您在步驟1中看到的工作者Pod仍在執行中、而且主要和工作者Pod正在不同的節點上執行。</block>
  <block id="0f27ae3c630b411ce8f8dc123361f1b1" category="list-text">確認您在步驟3中建立的主要工作已成功完成。下列命令範例可確認工作已成功完成。</block>
  <block id="6fe5035373f479ed2a1c1d457e64ae9d" category="list-text">當您不再需要部署時、請刪除該員工部署。下列命令範例顯示刪除在步驟1中建立的工作者部署物件。</block>
  <block id="e3861d1527373e7d8eeea1704f818a15" category="paragraph">當您刪除工作者部署物件時、Kubernetes會自動刪除任何關聯的工作者Pod。</block>
  <block id="7e4d2c0ae78fc38eeb38ffe12f736290" category="list-text">*選用：*清除主要工作成品。下列命令範例顯示刪除在步驟3中建立的主要工作物件。</block>
  <block id="d844794bfc5a0949dc2c38fecacf9ff1" category="paragraph">刪除主工作物件時、Kubernetes會自動刪除任何相關的主Pod。</block>
  <block id="256fbc599203bd1bd63bfe25b7a5b9ad" category="inline-link-macro">下一步：效能測試。</block>
  <block id="35bb3345a07dfa439dd6936ea8f69faf" category="paragraph"><block ref="35bb3345a07dfa439dd6936ea8f69faf" category="inline-link-macro-rx"></block></block>
  <block id="34d110ef6b6b3684adfe9c791fce2f95" category="summary">本節說明部署此解決方案所需的詳細步驟。</block>
  <block id="e0673e67d0ae2470ff4a9a3a926792b0" category="doc">部署支援中心意見分析</block>
  <block id="0c7ee1e6d81ae421558f2979d46adb5d" category="inline-link-macro">先前：設計考量。</block>
  <block id="2e4639bc721df1da69c19fe5c10f5764" category="paragraph"><block ref="2e4639bc721df1da69c19fe5c10f5764" category="inline-link-macro-rx"></block></block>
  <block id="b23f4e3eb5ff4f900ba54c824bf7a676" category="paragraph">部署解決方案包括下列元件：</block>
  <block id="1b497bff4e1d2dff7f8855237612936b" category="list-text">NGC組態</block>
  <block id="2dcf1afb8ed1445e4b167ef91fdd8a1b" category="list-text">NVIDIA Riva伺服器</block>
  <block id="6894a1e922948fc0bc9cc96291183448" category="list-text">NVIDIA TAO工具套件</block>
  <block id="3b498dd8feee94c2dbcb419be10d3b70" category="list-text">將TAO模型匯出至Riva</block>
  <block id="534b37206d500ff97473ada660fb69d3" category="paragraph">若要執行部署、請完成下列步驟：</block>
  <block id="2f6c7bd50828792593b3aa4deff875cc" category="section-title">NetApp DataOps Toolkit：支援中心意見分析</block>
  <block id="3b84de14b99e2695fdfd099f56b254be" category="paragraph">以使用<block ref="5d9fb1d86d92052bc5dca8ba91d13ff2" category="inline-link-rx"></block>、完成下列步驟：</block>
  <block id="d19523f192f664c9e34bf949d6f084c3" category="list-text">子母畫面安裝工具套件。</block>
  <block id="1fe6ae43439f5ccecf9883686d6b3784" category="list-text">設定資料管理</block>
  <block id="36b413e2c45a91e66db4aac6abd67ba1" category="section-title">NGC組態：支援中心意見分析</block>
  <block id="e3ab64bcab09d9eb8219520405242267" category="inline-link">NVIDIA NGC</block>
  <block id="f526ba073cf7bc97c2b0d3bfe091e293" category="paragraph">以設定<block ref="5b4e29c9d8254a25bb1abc36cd17ca4c" category="inline-link-rx"></block>、完成下列步驟：</block>
  <block id="a485a457c113aa9f2f8096ac1ca500d7" category="list-text">下載NGC。</block>
  <block id="7438544460c4a4fdf0b70bb65bb03a92" category="list-text">將目前目錄新增至路徑。</block>
  <block id="4f1208b2473595e5f4c3118c13de0fcc" category="list-text">您必須設定NGC CLI以供使用、才能執行命令。輸入下列命令、並在出現提示時輸入您的API金鑰。</block>
  <block id="5307692c5f99e57b8002a6a87f08c240" category="paragraph">若為非Linux型作業系統、請造訪<block ref="481e32faa0c657434738f6f0a550651b" category="inline-link-rx"></block>。</block>
  <block id="326419ec6a380f68d7d15a373452bf35" category="section-title">NVIDIA Riva伺服器：支援中心意見分析</block>
  <block id="92ed82a726e834b50a6863c8c4e9db4e" category="paragraph">以設定<block ref="fb85035785391c7c4b815d01de952f38" category="inline-link-rx"></block>、完成下列步驟：</block>
  <block id="a4fc5fd3d1cea05f031d5adc045dc1e0" category="list-text">從NGC下載Riva檔案。</block>
  <block id="5f2573d8cf9e274560d9a9b3eb2e1aaa" category="list-text">初始化Riva設定（'Riva_init.sh'）。</block>
  <block id="3b570ac682cfeffcdb2c7243afdbf285" category="list-text">啟動Riva伺服器（「Riva_start.sh」）。</block>
  <block id="d44d4e10378cce2928c99a4b49e45cea" category="list-text">啟動Riva用戶端（'Riva_start_client.sh'）。</block>
  <block id="6846c1a17ddaf84e01f26ec51c151e78" category="inline-link">FFmpeg</block>
  <block id="22c9c751571566e0566c448194d9d64f" category="list-text">在Riva用戶端中、安裝音訊處理程式庫（<block ref="3e294dfc4ee3a49adac5a070482274ce" category="inline-link-rx"></block>）</block>
  <block id="8637711b2ee1b94fe789bb28e88c4b61" category="list-text">啟動<block ref="37a4c4b3ad3c3851ac5717bfd3104346" category="inline-link-rx"></block> 伺服器：</block>
  <block id="b57a5203a9fd3e877aacee6cba6bc9c8" category="list-text">執行Riva Inference Pipeline Notebook。</block>
  <block id="5dceab25ae38dae0d7ed3167abd32377" category="section-title">NVIDIA TAO工具套件：支援中心意見分析</block>
  <block id="2418d4c7f6be40d5c9a50e4aecab1b27" category="paragraph">若要設定NVIDIA TAO工具套件、請完成下列步驟：</block>
  <block id="630eef78d15fd844ba4a38ea7f7a9c79" category="inline-link">虛擬化環境</block>
  <block id="35fb58d5f90347e4f0c445b4968db5f6" category="list-text">準備並啟動<block ref="3d97a4392c0af686650645d1371fa8ef" category="inline-link-rx"></block> 適用於TAO工具套件。</block>
  <block id="0a80b2068950d6e04f34c0142a10e719" category="inline-link">必要的套件</block>
  <block id="40eb0bd8a87ab1b39e8f2ee5ea287a22" category="list-text">安裝<block ref="3646357cb54591ae95dd3b8f0889f0c2" category="inline-link-rx"></block>。</block>
  <block id="c0e95a7dacbc170e387c4e1a0fe41a0b" category="list-text">手動拉出訓練和微調期間使用的影像。</block>
  <block id="b5a6ae7c1df936b55910309efc466f01" category="list-text">執行TAO微調筆記型電腦。</block>
  <block id="e6dda626093691f78b3127a8faa82b6e" category="section-title">將TAO模式匯出至Riva：支援中心情緒分析</block>
  <block id="6a358d81cb24a7e408b0339062f6bb92" category="inline-link">TAO工具套件模組：Riva</block>
  <block id="53ace4ba305859107cead3e5b0b53b8b" category="paragraph">以供使用<block ref="ce50a5bf8eb35af9ad9bb322336ee3af" category="inline-link-rx"></block>、完成下列步驟：</block>
  <block id="08c3be8307b7659c6ad67ee4d9659d58" category="list-text">儲存TAO微調筆記型電腦的機型。</block>
  <block id="ac711bb6af28947dfa8b29512acb36e8" category="list-text">將受過訓練的TAO模型複製到Riva模型目錄。</block>
  <block id="1317e1d8d20d5c44c680825aba2196e6" category="section-title">部署障礙</block>
  <block id="6e3da39922ebbd1a8a1a5a7238a89168" category="paragraph">以下是您開發自己解決方案時必須謹記的幾點事項：</block>
  <block id="47c0613abd5b97b67a94c2355692cf08" category="list-text">首先安裝NetApp DataOps Toolkit、以確保資料儲存系統以最佳方式執行。</block>
  <block id="943f803f8c6b4c6508bc97536a6d7b2b" category="list-text">必須先安裝NVIDIA NGC、才能驗證影像和機型的下載。</block>
  <block id="70367b72bfd96b5608a7c72ac3f983bf" category="list-text">Riva必須在TAO工具套件之前安裝。Riva安裝會將Docker精靈設定為視需要擷取影像。</block>
  <block id="1ed7124aa68792cb6ce3049f6f1d4f7b" category="list-text">DGX和Docker必須能夠存取網際網路才能下載模型。</block>
  <block id="de9b04ca3177b736c9f3cc74d62f5088" category="inline-link-macro">下一步：驗證結果。</block>
  <block id="3556370bb03d018998375ff0476db59a" category="paragraph"><block ref="3556370bb03d018998375ff0476db59a" category="inline-link-macro-rx"></block></block>
  <block id="52c7321ea4e3d5b264fdc8639a65e280" category="doc">部署Grafana儀表板</block>
  <block id="c843fc0ceca9c58b409cab519799c125" category="paragraph">部署所有項目之後、我們會針對新資料執行推斷。模型預測網路裝置設備故障。預測結果會儲存在Iguazio Timezio表格中。您可以在整合了Iguazio安全性與資料存取原則的平台上、以Grafana視覺化的方式呈現結果。</block>
  <block id="ae93e86067cc1d0e7bb1ec8fdca6fbc3" category="paragraph">您可以將所提供的Json檔案匯入叢集中的Grafana介面、以部署儀表板。</block>
  <block id="213977705fe35a4cb0cfc9365088fc87" category="list-text">若要驗證Grafana服務是否正在執行、請查看「服務」下的。</block>
  <block id="b426c25dbb35de6b9c6bff0b10b8bef9" category="paragraph"><block ref="b426c25dbb35de6b9c6bff0b10b8bef9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="58b6e0cc0a098260878a0e8fa4eb7766" category="list-text">如果不存在、請從「服務」區段部署執行個體：</block>
  <block id="cd40a7a2e0a86f4a0283af5999a050db" category="list-text">按一下「New Service（新服務</block>
  <block id="59c4bcb990174489660974167376a50a" category="list-text">從清單中選取Grafana。</block>
  <block id="7e280ecf88737f34a1972ac94f9ae2a1" category="list-text">接受預設值。</block>
  <block id="9e47b36567e5001dea59ffee81456737" category="list-text">按「Next Step（下一步）」</block>
  <block id="4fa350b43dd079673b6fca4852841147" category="list-text">輸入您的使用者ID。</block>
  <block id="af81385be6cef15b54f8c8c126c0eab0" category="list-text">按一下儲存服務。</block>
  <block id="568c8b6f668936384414e470f9ddd939" category="list-text">按一下頂端的套用變更。</block>
  <block id="b5be50b376063d6c3ffaa3be10d4a9d3" category="list-text">若要部署儀表板、請透過Jupyter介面下載「NetopsPredictions-Dashboard．json」檔案。</block>
  <block id="587b311a501585c3a1d9260d4f147990" category="paragraph"><block ref="587b311a501585c3a1d9260d4f147990" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4ad16c6527a3abd13b6864b8b078586b" category="list-text">從「服務」區段開啟Grafana、然後匯入儀表板。</block>
  <block id="0b78dd574d02d72071845d040fdde57c" category="paragraph"><block ref="0b78dd574d02d72071845d040fdde57c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5c3ce0bca8ff75db7ff2bbc3e76532b2" category="list-text">按一下「上傳」「*。json」檔案、然後選取您先前下載的檔案（「NetopsPredictions-Dashboard．json」）。儀表板會在上傳完成後顯示。</block>
  <block id="7cd4d06091771aa3f16d2759a067e18c" category="paragraph"><block ref="7cd4d06091771aa3f16d2759a067e18c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a0258dc4515b0e18ecd4b55651e27671" category="section-title">部署清理功能</block>
  <block id="ff4bdefb3ddd7532393d08c8df14d786" category="paragraph">當您產生大量資料時、務必保持一切乾淨且有組織。若要這麼做、請使用「cleanup.ipynb」筆記型電腦來部署清理功能。</block>
  <block id="6d0f7ccc9b17bcabb743cabdfb56e0da" category="paragraph">NetApp和Iguazio藉由在Kubeflow、Apache Spark和TensorFlow等重要架構中建置、以及Docker和Kubernetes等協調工具、來加速和簡化AI和ML應用程式的部署。NetApp與Iguazio藉由統一化端點對端點資料傳輸途徑、有效縮短許多進階運算工作負載固有的延遲與複雜度、有效縮短開發與營運之間的落差。資料科學家可以在大型資料集上執行查詢、並在訓練階段與授權使用者安全地共用資料與演算法模型。在容器化模型準備就緒可供正式作業之後、您可以輕鬆地將其從開發環境移至作業環境。</block>
  <block id="daee7e425c63dff416cde0a8932a8483" category="paragraph"><block ref="daee7e425c63dff416cde0a8932a8483" category="inline-link-macro-rx"></block></block>
  <block id="01360221b637a04fa184dc6b9355fa46" category="summary">我們在建立此解決方案時、進行了簡單的效能比較。我們使用Kubernetes執行數項標準NetApp基準測試工作、並將基準測試結果與使用簡易Docker RUN命令執行的執行結果進行比較。</block>
  <block id="0e2f0f77407bfd956f621e13b8c1be34" category="doc">效能測試</block>
  <block id="467941822b3a557a8db7197e12285f14" category="paragraph">我們在建立此解決方案時、進行了簡單的效能比較。我們使用Kubernetes執行數項標準NetApp AI基準測試工作、並將基準測試結果與使用簡易Docker RUN命令執行的執行結果進行比較。我們並未發現效能有任何顯著差異。因此、我們的結論是、使用Kubernetes來協調容器化AI訓練工作、並不會對效能造成負面影響。請參閱下表以取得效能比較結果。</block>
  <block id="74575b23d5305310e904f87eb02ff980" category="cell">基準測試</block>
  <block id="c269688995d2959579fca276425898b8" category="cell">Docker Run（影像/秒）</block>
  <block id="b3acbf223e2bb7a3a796e3b698a7748d" category="cell">Kubernetes（影像/秒）</block>
  <block id="6de4dbc350a60fb9d5ea80ac7854681d" category="cell">單節點TensorFlow</block>
  <block id="2ec7cdace40d8a092e842288dfe854f7" category="cell">綜合資料</block>
  <block id="a5ee9f5535788c17b947b7f2d8354351" category="cell">6、667.2475</block>
  <block id="b573d76a35b8d44de29524f11e873c60" category="cell">6、661.93125</block>
  <block id="b318879f822314efe94c2f096d06465c" category="cell">ImageNet</block>
  <block id="f9622443c76d58838af97acd4f0c12ed" category="cell">6,570.2025</block>
  <block id="f93ed9c22230ae6e2ed85323e8d3dff7" category="cell">6、530.59125</block>
  <block id="83817408eae44458daefc1a9516ad170" category="cell">同步分散式雙節點TensorFlow</block>
  <block id="d4b63997154f30598f823403bb4df7ba" category="cell">13、213.70625</block>
  <block id="a328a929a422e4b69be5bbe94694282e" category="cell">13、218.288125</block>
  <block id="209f721713f475a9a0f4ba2743b40853" category="cell">12、941.69125</block>
  <block id="1f07dab13107a813c6d35bb76648ec48" category="cell">12、881.33875</block>
  <block id="68cba59815f152ec72363e2495bab8d2" category="paragraph"><block ref="68cba59815f152ec72363e2495bab8d2" category="inline-link-macro-rx"></block></block>
  <block id="ca6d5ad374e3cf268dec341c0c398442" category="summary">在此架構中、重點在於AI或機器學習（ML）分散式線道偵測訓練程序中運算密集程度最高的部分。</block>
  <block id="c0c4b60d27032c028c91440e9d3be949" category="doc">解決方案總覽</block>
  <block id="8cb13336dc020a2fb7bca9d4e940cc64" category="paragraph">在此架構中、重點在於AI或機器學習（ML）分散式線道偵測訓練程序中運算密集程度最高的部分。車道偵測是自主駕駛中最重要的任務之一、可協助引導車輛定位車道標記。諸如車道標記等靜態元件可引導車輛以互動且安全的方式在高速公路上行駛。</block>
  <block id="0721542454dcaa77c97cd9c545d9063f" category="paragraph">複雜的神經網路（有線電視新聞網）型方法、已將場景的瞭解和分段推向新的境界。雖然對於可能會被遮蔽的長結構和區域（例如、柱狀物、線上陰影等）物件來說、它的效能並不理想。空間凸狀神經網路（SCNN）可將有線電視新聞網（CNNN）泛化為豐富的空間層級。它可在同一層的新學之間傳播資訊、因此最適合用於通道、極或阻塞的卡車等結構化物件。這種相容性是因為空間資訊可以強化、而且可以保持順暢度和連續性。</block>
  <block id="df38a65c87631c9530cc3a6832ea7a7d" category="paragraph">需要在系統中注入數千個場景影像、以便讓模型學習並區分資料集中的各種元件。這些影像包括天氣、白天或夜間、多線道公路及其他交通路況。</block>
  <block id="f7759f002b4a60b5c837abb7f8936037" category="paragraph">在訓練方面、需要良好的資料品質和數量。單一GPU或多個GPU可能需要數天到數週的時間才能完成訓練。資料分散式訓練可以使用多個和多個GPU來加速程序。Horovod是這樣的架構、可提供分散式訓練、但讀取GPU叢集內的資料可能會成為障礙。提供超快、高處理量和持續低延遲、以提供橫向擴充/橫向擴充功能、讓GPU發揮最大運算能力。Azure NetApp Files我們的實驗證實、叢集內的所有GPU平均使用超過96%的時間來使用SCNN進行線道偵測訓練。</block>
  <block id="bf8dd94f74c5878ba969abeeef0286d1" category="section-title">目標對象</block>
  <block id="0ca450eccdc7141b5e85e9e691a7f16b" category="paragraph">資料科學在IT和業務中納入多項原則、因此我們的目標對象包括多位人員：</block>
  <block id="8acb1f50d0ada4e1149c01a5aa15b9ce" category="list-text">資料科學家需要靈活運用自己選擇的工具和程式庫。</block>
  <block id="d0ba3808090644db73caeb23fcc2b17c" category="list-text">資料工程師需要知道資料的流通方式及存放位置。</block>
  <block id="22a8c99419dee54a28ed1e2355a6706b" category="list-text">自主駕駛使用案例專家。</block>
  <block id="18f66c4bad233033dabddf6ff1289eeb" category="list-text">雲端管理員與架構設計師、負責設定及管理雲端（Azure）資源。</block>
  <block id="4c9b6067f04f945e9247ecd00c22e328" category="list-text">DevOps工程師需要工具、將新的AI/ML應用程式整合到他們的持續整合與持續部署（CI/CD）管線中。</block>
  <block id="53720cf6403ac6b8a2402cce66c79d4f" category="list-text">企業使用者想要存取AI / ML應用程式。</block>
  <block id="68dcdc6243e54c14b4c41c129d574c43" category="paragraph">在本文件中、我們將說明Azure NetApp Files 功能完善、執行：AI和Microsoft Azure如何協助這些角色為企業帶來價值。</block>
  <block id="8017303b9b2c96742151083f089fc51f" category="paragraph">本節說明線道偵測使用案例的技術需求、方法是大規模實作可在Azure雲端中完整執行的分散式訓練解決方案。下圖概述解決方案架構。</block>
  <block id="f17291da16ed3dd7b705548f16706120" category="paragraph">本解決方案所使用的元素包括：</block>
  <block id="f28c5620810ae2a6961a1811277a7ff8" category="list-text">Azure Kubernetes服務（KS）</block>
  <block id="03023f4a63d3d8f8ff86ff8246f75b9a" category="list-text">Azure運算SKU搭配NVIDIA GPU</block>
  <block id="ae5ba69294a1b9feb03e6dd75395092c" category="list-text">執行：AI</block>
  <block id="951370659c41a55ac9f80ff19c2f4b26" category="paragraph">此處提及的所有元素連結均列於中 <block ref="c8b73068ae16e202922904f7ed452f8e" category="inline-link-macro-rx"></block> 區段。</block>
  <block id="00d9279819736707d2b224ec427a8aae" category="paragraph"><block ref="00d9279819736707d2b224ec427a8aae" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e6a2faff353ad4e74bf3ee92e5d8b9c6" category="section-title">雲端資源與服務需求</block>
  <block id="5b691a1a00c6c03be70e559f55ae4fef" category="paragraph">下表列出實作解決方案所需的硬體元件。在任何解決方案實作中使用的雲端元件、可能會因客戶需求而異。</block>
  <block id="5f3bc5eb45e6b472bf3345d1036945e9" category="cell">高</block>
  <block id="55b8660903ebaaed924e945432fe269e" category="cell">至少三個系統節點和三個GPU工作節點</block>
  <block id="3580a6b3e7ba0d55af17daee07244cbd" category="cell">虛擬機器（VM）SKU系統節點</block>
  <block id="8f75b0af54b5e672a660f4f1f1557f18" category="cell">三個Standard_DS2_v2</block>
  <block id="a6066b29e1c4603af2c5c46cf549f764" category="cell">VM SKU GPU工作節點</block>
  <block id="6aa4bab72f83c0b68587ee208f2c9ab0" category="cell">三個Standard_NC6s_v3</block>
  <block id="3468e131592d70a22139936f3fb21403" category="cell">4TB標準層</block>
  <block id="d9ae1ecd6158beb6acd24c9f59d0498e" category="paragraph">下表列出實作解決方案所需的軟體元件。在解決方案的任何實作中使用的軟體元件、可能會因客戶需求而異。</block>
  <block id="cb251883efe045266871b7dd15229644" category="cell">版本或其他資訊</block>
  <block id="bb451ae1fa5a629a0307949d38a60e2d" category="cell">KS - Kubernetes版本</block>
  <block id="13c5eaa211a3778d391d5c8f65b80234" category="cell">執行：AI CLI</block>
  <block id="89633b9d6f401377b6ece0682b92530a" category="cell">v2.2.25</block>
  <block id="4b138e2d1492b1e550d42348c65cbf82" category="cell">RUN：AI Orchestration Kubernetes運算子版本</block>
  <block id="6db851ff24c4b893a85242e63bbea119" category="cell">1.0.109.</block>
  <block id="f5f1c35a78d5584cdb787d4e3b6b10b6" category="cell">霍羅沃德</block>
  <block id="4a7724061c17f8cf5be61a8adf4c170f" category="cell">0.21.2</block>
  <block id="207e9f2f3c6b5a3e8c9228ceadc806b2" category="summary">本節說明已測試的組態、網路基礎架構、SE350伺服器、以及儲存資源配置詳細資料。</block>
  <block id="32d798df7254f6703ed2262024e0e174" category="doc">測試組態</block>
  <block id="b1ee26c1917a17c30b17d7cd6b01e2cd" category="inline-link-macro">上一步：測試計畫。</block>
  <block id="7dffe110836fe412eac19d0f63cf5b5b" category="paragraph"><block ref="7dffe110836fe412eac19d0f63cf5b5b" category="inline-link-macro-rx"></block></block>
  <block id="a55faacbe457d923ebd296421a71b898" category="paragraph">下圖顯示測試組態。我們使用NetApp AFF 的C190儲存系統和兩部Lenovo ThinkSystem SE350伺服器（每部伺服器都有一個NVIDIA T4加速器）。這些元件是透過10GbE網路交換器來連接。網路儲存設備擁有驗證/測試資料集和預先訓練的模型。伺服器提供運算能力、而且儲存設備可透過NFS傳輸協定存取。</block>
  <block id="d8c97013f1e301478b23530ad6ed1ef6" category="paragraph">本節說明已測試的組態、網路基礎架構、SE350伺服器、以及儲存資源配置詳細資料。下表列出解決方案架構的基礎元件。</block>
  <block id="d552f08a6baeb9bee58f2ca6ff5090d2" category="cell">Lenovo ThinkSystem伺服器</block>
  <block id="fe8ab8cb391be4f8cf88a9b64c3ce3cd" category="list-text">2部SE350伺服器各配備1個NVIDIA T4 GPU卡</block>
  <block id="acd4671bd4d78c7fc0ac8cbc66a01483" category="list-text">每部伺服器都包含一個Intel Xeon D-2123IT CPU、其中四個實體核心執行速度為2.20GHz和128GB RAM</block>
  <block id="d7d02fd9ab069a2d95dee248370100f9" category="cell">入門級NetApp AFF 產品資料儲存系統（HA配對）</block>
  <block id="1d680806b37a387e8d84b0c21be4d816" category="list-text">NetApp ONTAP ®9軟體</block>
  <block id="0c1dcc458c4dd96728e0b0998cba7305" category="list-text">24個960GB SSD</block>
  <block id="a2a817ee9a8e05389f7b11bd8ce4bbdb" category="list-text">NFS傳輸協定</block>
  <block id="d8e87bd5878266cd4137e82d919799eb" category="list-text">每個控制器一個介面群組、其中四個邏輯IP位址用於掛載點</block>
  <block id="1a538c197da3186f1eba50d82572dc34" category="paragraph"><block ref="1a538c197da3186f1eba50d82572dc34" category="inline-image-macro-rx" type="image"></block></block>
  <block id="208eac927f1261c6e6eaa3135a529cf3" category="paragraph">下表列出儲存組態：AFF 搭載2RU、24個磁碟機插槽的__LW_C190。</block>
  <block id="9bbf373797bf7cf7ba62c80023682e25" category="cell">控制器</block>
  <block id="2ee34178bb8415b7d7234cd27b83aed6" category="cell">Aggregate</block>
  <block id="e9db3004828d9514fafc57881dfbdbd2" category="cell">流通量FlexGroup</block>
  <block id="2e0fb97d51b96b1635dcc3ca51f74fee" category="cell">Aggregatesize</block>
  <block id="b94c9ec583603e13b5c32d83199c7376" category="cell">體積化</block>
  <block id="53a35f8b51acc9748a3e172a76f542a7" category="cell">作業系統掛載點</block>
  <block id="6a1ab89ed912a96429c83ff1ba0f48d0" category="cell">控制器1.</block>
  <block id="4d80d82716f0b771738e7fad121e059a" category="cell">Aggr1.</block>
  <block id="e39298390e27007517a0cb199728188a" category="cell">/netapplenovo_AI_FG</block>
  <block id="4923ec171d721fba1d4547deefc98e8c" category="cell">8.42TiB</block>
  <block id="f13cb116755b4e8fa1af1b201025f377" category="cell">15TB</block>
  <block id="3fe74875837b518b23813988af1e39d9" category="cell">/NetApp_聯想_FG</block>
  <block id="3877384a92be771d61972d07648b799f" category="cell">控制器2.</block>
  <block id="f3913037ef38679d334aa0cf30e2b6fd" category="cell">Aggr2.</block>
  <block id="6b02e3a677be18a8be3641bb43e8b220" category="paragraph">/netapp聯想_AI _fg資料夾包含用於模型驗證的資料集。</block>
  <block id="e4239f67d8e47773c69a7cb4be34d949" category="paragraph">下圖顯示測試組態。我們使用NetApp EF280儲存系統和兩個Lenovo ThinkSystem SE350伺服器（每個伺服器都有一個NVIDIA T4加速器）。這些元件是透過10GbE網路交換器來連接。網路儲存設備擁有驗證/測試資料集和預先訓練的模型。伺服器提供運算能力、而且儲存設備可透過NFS傳輸協定存取。</block>
  <block id="efb90877bc42cc445eb6e1b59c0e1b16" category="paragraph">下表列出EF280的儲存組態。</block>
  <block id="0951a6690e5dc87411346792c9f941c7" category="cell">Volume群組</block>
  <block id="bd7a9717d29c5ddcab1bc175eda1e298" category="cell">Volume</block>
  <block id="6c88d21af6046f64871457b825dcf1c8" category="cell">DDPsize</block>
  <block id="59b02558285aa326c0e9018324ed0c4f" category="cell">連線方法</block>
  <block id="db320b0194c895c7ac56fedae7928e63" category="cell">DDP1</block>
  <block id="fc452c26db3c4aa6f6213b9c5d9e3abc" category="cell">Volume 1</block>
  <block id="fe066d0b9d36398d5f525d6ac7f8e8c5" category="cell">16TB</block>
  <block id="e0d2b052ec3dbd102ff7a7f2b356ea41" category="cell">SE350-1至iSCSI LUN 0</block>
  <block id="ef0e038a9f9b0db74b504d5521e7a0fc" category="cell">Volume 2</block>
  <block id="5b846730a13fc5ea0a76a6b7b9a69d5a" category="cell">SE350-2至iSCSI LUN 1</block>
  <block id="43fa57e4031b0f759153c9c9fa49e6ed" category="paragraph"><block ref="43fa57e4031b0f759153c9c9fa49e6ed" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0fccd40a3886a1e5dc539059407586a0" category="inline-link-macro">下一步：測試程序。</block>
  <block id="3bee5237e36a9a0dc60fd351ce904544" category="paragraph"><block ref="3bee5237e36a9a0dc60fd351ce904544" category="inline-link-macro-rx"></block></block>
  <block id="7a879e305f90568b91e8623ce5f9ee39" category="summary">自2019年5月起、Microsoft提供Azure原生的第一方入口網站服務、以NetApp ONTAP 的更新技術為基礎、提供企業NFS和SMB檔案服務。</block>
  <block id="0bf51d984b6a6d3fddc0e24f62eb1a14" category="doc">TR-4896：Azure的分散式訓練：線道偵測-解決方案設計</block>
  <block id="0ab5aa2896d8eed7732e69be5e5782b4" category="paragraph">NetApp Ronnen Dar的Muneer Ahmad和Verron Martina、RUN：AI</block>
  <block id="a89ade32996e322edf837476febbc9bd" category="paragraph">自2019年5月起、Microsoft提供Azure原生的第一方入口網站服務、以NetApp ONTAP 的更新技術為基礎、提供企業NFS和SMB檔案服務。這項開發是由Microsoft與NetApp之間的策略合作關係所推動、進一步將世界級ONTAP 的流向資料服務延伸至Azure。</block>
  <block id="d6312cb01ee08559dbaa35c308e72268" category="paragraph">NetApp是領先業界的雲端資料服務供應商、已與RUN攜手合作：AI是一家虛擬化AI基礎架構的公司、能夠以完全GPU使用率來加速AI實驗。合作夥伴關係可讓團隊同時執行多項實驗、快速存取資料、並善用無限運算資源、進而加速AI運作。RUN：AI透過自動化資源配置來實現完整的GPU使用率、而獲證實的Azure NetApp Files 架構則可消除資料管線障礙、讓每個實驗都能以最快速度執行。</block>
  <block id="5234f8ee670afed8c398940a707f25df" category="paragraph">NetApp與RUN：AI聯手為客戶提供一個符合未來需求的平台、讓客戶在Azure中享有AI體驗。從分析、高效能運算（HPC）、到自主決策（客戶只需支付所需的費用、就能將IT投資最佳化）、NetApp與RUN之間的聯盟：AI在Azure Cloud提供單一的統一化體驗。</block>
  <block id="13e8f52d7e19f83d3e64003c58ea220b" category="doc">利用NetApp HCI NDE在VMware Virtual Infrastructure上部署（自動化部署）</block>
  <block id="2635318d9bf1ea76c73bfab7f3eeafb7" category="section-title">n取消部署先決條件</block>
  <block id="f6ec2c1aa5118cb19e89af5a10ecb65c" category="inline-link">必要條件檢查清單NetApp HCI</block>
  <block id="2187fc20798cda55150d8c067fac10be" category="paragraph">請參閱<block ref="c760383d1767df51ab118e6ffc289894" category="inline-link-rx"></block> 在NetApp HCI 您開始部署之前、請先查看有關功能的要求與建議。</block>
  <block id="cd02d0868a7414dd1e76924b30b82b52" category="list-text">網路與交換器需求與組態</block>
  <block id="1d8b6c167080876dff9ad2e74e70fecf" category="list-text">準備所需的VLAN ID</block>
  <block id="17cec09f14c225b5f27dc73542e9077a" category="list-text">交換器組態</block>
  <block id="4d40082ed807aa2fb7e1d2f03921e4d4" category="list-text">IP位址要求NetApp HCI</block>
  <block id="2e8e4792043f43cb4b34a84b8dcd909b" category="list-text">DNS與時間保留需求</block>
  <block id="829710d6ec2a8e59e7a69fb3537ec494" category="list-text">最後準備</block>
  <block id="fb720b4ad7c03710e0e5771c9fb58b44" category="section-title">n取消執行</block>
  <block id="cf50c81e30d1d64fcb4992a9792abedb" category="paragraph">在執行NDE之前、您必須先完成所有元件的機架和堆疊、網路交換器的組態、以及所有先決條件的驗證。如果您計畫允許NDE自動設定所有位址、您可以連線至單一儲存節點的管理位址來執行NDE。</block>
  <block id="130c61c344b6fbf262b6f63818eab7e4" category="paragraph">NDE會執行下列工作、使HCI系統上線：</block>
  <block id="d89f68a2ec388fe5d72fb6fe024a0176" category="list-text">在NetApp Element 至少兩個儲存節點上安裝儲存節點（例如、軟體）。</block>
  <block id="f6f86c1086573c7daeb1f48535041576" category="list-text">在至少兩個運算節點上安裝VMware Hypervisor。</block>
  <block id="0718265bec3e2ee6fc9d5e0773b5ff60" category="list-text">安裝VMware vCenter以管理整個NetApp HCI VMware堆疊。</block>
  <block id="e09575b9713329ebe2480dbf404b2b1b" category="list-text">安裝及設定NetApp儲存管理節點（mNode）和NetApp監控代理程式。</block>
  <block id="dddc28f734d0bcb367638f51ef8b4dfa" category="admonition">此驗證會使用NDE自動設定所有位址。您也可以在環境中設定DHCP、或為每個儲存節點和運算節點手動指派IP位址。本指南不涵蓋這些步驟。</block>
  <block id="dd9cd526f5753b79bda6de19f1a66fe9" category="paragraph">如前所述、此驗證會使用雙纜線組態來執行運算節點。</block>
  <block id="32691d86c49e682187776e0262b732d7" category="paragraph">本文件未涵蓋NDE的詳細步驟。</block>
  <block id="968a3687be335c74374e73712c63e2e4" category="inline-link">部署指南</block>
  <block id="8b6e1a3a9d21ff63520793416432cd56" category="paragraph">如需有關完成基礎NetApp HCI 型材架裝部署的逐步指引、請參閱<block ref="7742239770a3accee30f01673a1a43a5" category="inline-link-rx"></block>。</block>
  <block id="61ef02ded53524d506cd714c5821cd86" category="list-text">NDE完成後、登入vCenter並建立一個分散式連接埠群組NetApp HCI 「VMware VDS 01-NFs_Network」、供ONTAP Select NFS網路用於供VMware和應用程式使用。</block>
  <block id="9fb27fdce8d8c70b2c7b741958c8ac6e" category="inline-link-macro">下一步：設定NetApp H615c（手動部署）</block>
  <block id="6623698128b1c14d8639f2404306f783" category="paragraph"><block ref="6623698128b1c14d8639f2404306f783" category="inline-link-macro-rx"></block></block>
  <block id="c4e7b8572218b2c9421122c7ab76be25" category="paragraph">NetApp與cnvrg-IO合作、為客戶提供完整的資料管理解決方案、以利ML與DL軟體開發。支援各種規模的作業、均可提供高效能的運算與儲存、而cnvrg-IO軟體則可簡化資料科學工作流程、並改善資源使用率。ONTAP</block>
  <block id="e7446d382d8184be0a342a2fc45d4394" category="doc">WP-7328：使用NVIDIA JARVIS的NetApp對話AI</block>
  <block id="5dabc617366db74ce2a9fa3915f6af5a" category="paragraph">Rick Huang、Sung-HAN LIN、NetApp Davide Onofio、NVIDIA</block>
  <block id="018aacc6ea95e20996bf57b319fd037a" category="paragraph">NVIDIA DGX系統系列是由全球第一款專為企業AI打造的整合式人工智慧（AI）系統所組成。NetApp AFF 供應極致效能與領先業界的混合雲資料管理功能。NetApp與NVIDIA聯手打造NetApp ONTAP 的「可靠性AI參考架構」、這是一套適用於AI與機器學習（ML）工作負載的立即可用解決方案、可提供企業級的效能、可靠性與支援。</block>
  <block id="1a76c739ce37834495a22c5db663d24b" category="paragraph">本白皮書提供指引、協助客戶建立對話式AI系統、以支援不同產業垂直市場的不同使用案例。其中包含使用NVIDIA JARVIS部署系統的相關資訊。測試是使用NVIDIA DGX Station和NetApp AFF VA220儲存系統執行。</block>
  <block id="f813bd56d696cb8de386a53a37eed6f6" category="list-text">企業架構設計師、設計解決方案來開發AI模型和軟體、以用於對話式AI使用案例、例如虛擬零售助理</block>
  <block id="0497dfe9ff978e87977c978d3443e206" category="list-text">尋求有效方法來達成語言建模開發目標的資料科學家</block>
  <block id="e84c345e30f668aa19a041e2e12bc9fe" category="list-text">負責維護和處理客戶問題和對話記錄等文字資料的資料工程師</block>
  <block id="00101e6b2bf526b1ee79d39389f461fa" category="list-text">高階主管與IT決策者及企業領導者、都有興趣從AI計畫轉變對話型AI體驗、並縮短上市時間</block>
  <block id="88851610d9d91a7b78ab814276bebba7" category="paragraph"><block ref="88851610d9d91a7b78ab814276bebba7" category="inline-link-macro-rx"></block></block>
  <block id="fbe29309a183681bc26203d4c65853a2" category="paragraph">本節將回顧傳統的資料科學管道及其缺點。同時也介紹建議的資料集快取解決方案架構。</block>
  <block id="1f14aecc1193f646e0005e27fbc6e63d" category="section-title">傳統的資料科學管道與缺點</block>
  <block id="17fb7d0ba5495199d3e18fe23dff7b59" category="paragraph">典型的ML模型開發與部署順序涉及迭代步驟、包括下列步驟：</block>
  <block id="63e1ded7e3ae73253b5c287bc9bdef02" category="list-text">擷取資料</block>
  <block id="52e028dc7ac82e9d4b7b1ae588fecc9a" category="list-text">資料預先處理（建立多個版本的資料集）</block>
  <block id="33cd0fcdd9ee7e650043133b12516155" category="list-text">執行多項涉及超參數最佳化、不同模型等的實驗</block>
  <block id="b85c416c94e0c5314a1e6fcc21d4139e" category="list-text">監控cnvrg-IO已開發出全方位平台、可將研究到部署等所有工作自動化。下圖顯示與管線相關的儀表板快照範例。</block>
  <block id="5a5ade85e7f7478bcba59e8c3891c914" category="paragraph"><block ref="5a5ade85e7f7478bcba59e8c3891c914" category="inline-image-macro-rx" type="image"></block></block>
  <block id="26d6a4638ffd0b7779f1353f5fe54f0d" category="paragraph">在公有儲存庫和私有資料中、經常會有多個資料集在活動中。此外、每個資料集可能會因為資料集清理或功能工程而產生多個版本。需要提供資料集線器和版本集線器的儀表板、以確保團隊能夠使用協同作業和一致性工具、如下圖所示。</block>
  <block id="e884d73b6a4214bea010ec3bbfdad8b6" category="paragraph"><block ref="e884d73b6a4214bea010ec3bbfdad8b6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="93661dde7027bf31b3d007740a3d4648" category="paragraph">下一步是訓練、訓練模式需要多個平行執行個體、每個執行個體都與資料集和特定運算執行個體相關聯。將資料集繫結至特定運算執行個體的特定實驗、是一項挑戰、因為某些實驗可能是由Amazon Web Services（AWS）的GPU執行、而其他實驗則由內部部署的DGX-1或DGX-2執行個體執行。在GCP的CPU伺服器上執行其他實驗、而資料集位置與執行訓練的運算資源並不合理。合理的鄰近範圍、可將資料集儲存設備與運算執行個體之間的完整10GbE或更低延遲連線。</block>
  <block id="ba4f5ee1b0d01d3416723cfc3ec296ec" category="paragraph">資料科學家通常會將資料集下載至執行訓練和執行實驗的運算執行個體。不過、這種方法可能有幾個問題：</block>
  <block id="90b6a1c5b483f6c6b399bc17c5e1af9a" category="list-text">當資料科學家將資料集下載至運算執行個體時、並不保證整合式運算儲存設備具備高效能（高效能系統的範例是ONTAP AFF 以支援A800 NVMe解決方案為例）。</block>
  <block id="5713a88504bb65e3808faac627a6a0fc" category="list-text">當下載的資料集位於單一運算節點時、分散式模型在多個節點上執行時、儲存設備可能會成為瓶頸（與NetApp ONTAP 的高效能分散式儲存設備不同）。</block>
  <block id="299b9ae5439d32ed932f51f3b3aa92d6" category="list-text">由於佇列衝突或優先順序、訓練實驗的下一次迭代作業可能會在不同的運算執行個體中執行、同樣也會從資料集到運算位置建立相當長的網路距離。</block>
  <block id="30e37003024e85518a26760a7ab58f4e" category="list-text">在同一個運算叢集上執行訓練實驗的其他團隊成員無法共用此資料集；每個團隊成員都會從任意位置執行（昂貴）資料集下載。</block>
  <block id="9e5d53150336efb0446a063309805f01" category="list-text">如果後續訓練工作需要相同資料集的其他資料集或版本、資料科學家必須重新執行（昂貴）資料集下載、將資料集下載至執行training.NetApp的運算執行個體、並執行cnvrg-.IO建立新的資料集快取解決方案、以消除這些障礙。此解決方案可將Hot資料集快取至ONTAP 高效能的儲存系統、以加速執行ML管線。使用支援NetApp的Data Fabric（例如、Re A800）、資料集會在運算組合的資料架構中快取一次（而且只快取一次）ONTAP AFF 。由於NetApp ONTAP 不間斷NFS高速儲存設備可支援多個ML運算節點、因此訓練模式的效能已經過最佳化、可為組織帶來成本節約、生產力和營運效率。</block>
  <block id="a63af1f206939a3c956a2e8b6ab53103" category="paragraph">此解決方案來自NetApp和cnvrg-IO、提供資料集快取功能、如下圖所示。資料集快取可讓資料科學家挑選所需的資料集或資料集版本、並將其移至ONTAP 靠近ML運算叢集的支援NFS快取。資料科學家現在可以執行多項實驗、而不會產生延遲或下載。此外、所有協同作業的工程師都能將相同的資料集用於附加的運算叢集（可自由選擇任何節點）、而無需從資料湖下載額外資料。提供資料科學家儀表板、可追蹤及監控所有資料集和版本、並提供快取資料集的檢視。</block>
  <block id="612eaee91b23ecc385c1b402d44c081f" category="paragraph">cnvrg-IO平台會自動偵測未在特定時間內使用的老舊資料集、並從快取中予以移出、因為快取會為較常用的資料集保留可用的NFS快取空間。請務必注意ONTAP 、使用效益技術的資料集快取功能可在雲端和內部部署中運作、因此能提供最大的靈活度。</block>
  <block id="0cb5e14601fcf39745352a9556939aa3" category="paragraph"><block ref="0cb5e14601fcf39745352a9556939aa3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="810aceabf729ffa8c2dfd61a3aaeafaa" category="inline-link-macro">下一步：概念與元件</block>
  <block id="0a01ff9defa9120e928e7e306e3e3234" category="paragraph"><block ref="0a01ff9defa9120e928e7e306e3e3234" category="inline-link-macro-rx"></block></block>
  <block id="1d91c2c04b7f73cb59edb799d095c75c" category="paragraph">本白皮書針對客戶使用NVIDIA JARVIS架構和NetApp ONTAP 支援AI與Cloud Sync 支援零售及其他使用案例的支援、提供建立對話式人工智慧（AI）解決方案的準則。其中包含開發自然語言處理（NLP）模型以供虛擬助理使用的高層級工作流程、已驗證的測試案例及結果等資訊。</block>
  <block id="00760d3595ff19f6db2da5213b1fdd58" category="summary">本文件說明運算與儲存架構、可在符合新興應用程式案例的邊緣環境中、於NetApp儲存控制器和Lenovo ThinkSystem伺服器上部署GPU型人工智慧（AI）。</block>
  <block id="09f4ae28e2596e14a7568f3e12a77834" category="doc">TR-4886：Edge的AI推斷-採用Lenovo ThinkSystem的NetApp解決方案設計</block>
  <block id="6671938f046112e34e990cb75cc642dd" category="paragraph">Sathish Thyagarajan、NetApp Miroslav Hodak、聯想</block>
  <block id="a27de0758c1fc778a0fb19ebcb6a8aff" category="paragraph">公司越來越多地在網路邊緣產生大量資料。為了從智慧型感應器和IoT資料中獲得最大價值、企業組織正在尋求能夠實現邊緣運算的即時事件串流解決方案。因此、運算需求嚴苛的工作會越來越多地在資料中心以外的邊緣執行。AI推斷是這種趨勢的驅動因素之一。邊緣伺服器可為這些工作負載提供足夠的運算能力、尤其是在使用加速器時、但有限的儲存設備通常是個問題、尤其是在多伺服器環境中。在本文件中、我們將說明如何在邊緣環境中部署共享儲存系統、以及它如何在不影響效能的情況下、為AI推斷工作負載帶來好處。</block>
  <block id="c22ef83c0446b759f6cd8835206adaae" category="paragraph">本文件說明邊緣AI推斷的參考架構。它結合多部Lenovo ThinkSystem邊緣伺服器與NetApp儲存系統、打造易於部署和管理的解決方案。本指南旨在作為在各種情況下實際部署的基礎指南、例如裝有多部攝影機和工業感測器的工廠場地、零售交易中的銷售點（POS）系統、或是能識別自主車輛視覺異常狀況的全自駕（FSD）系統。</block>
  <block id="36d77288dbd3663ec436c43b32682300" category="paragraph">本文件涵蓋由Lenovo ThinkSystem SE350 Edge Server和入門級NetApp AFF 支援中心與EF系列儲存系統所組成之運算與儲存組態的測試與驗證。參考架構為AI部署提供高效率且具成本效益的解決方案、同時也提供全方位的資料服務、整合式資料保護、無縫擴充性、以及採用NetApp ONTAP 功能與NetApp SANtricity 功能的NetApp資料管理軟體所提供的雲端連線資料儲存設備。</block>
  <block id="5dd536dd8122d7ba5df3ce642e603305" category="paragraph">本文適用於下列對象：</block>
  <block id="ebb25f3a3991f2ad744d7ec643c950fe" category="list-text">想要將邊緣AI產品化的企業領導者和企業架構設計師。</block>
  <block id="c19c4b63370004c67b540d52ae4d0ba3" category="list-text">資料科學家、資料工程師、AI /機器學習（ML）研究人員、以及AI系統開發人員。</block>
  <block id="d64b2d5963d22d2d9c15222cbbe4a41c" category="list-text">設計解決方案以開發AI/ML模型和應用程式的企業架構設計師。</block>
  <block id="563f47ae807a7a985313a5186e239a5d" category="list-text">資料科學家和AI工程師正在尋求有效方法來部署深度學習（DL）和ML模型。</block>
  <block id="c1df171c3c219ea01c2724d28fa03f93" category="list-text">負責部署及管理Edge推斷模型的Edge裝置管理員和Edge Server管理員。</block>
  <block id="a40893fa754ed62d5268702b023fea91" category="section-title">解決方案架構</block>
  <block id="cc402abc10a0191493024c4510783afc" category="paragraph">這款Lenovo ThinkSystem伺服ONTAP 器和NetApp的可靠性或NetApp SANtricity 的不二之選儲存解決方案、是專為處理大型資料集的AI推斷、使用GPU的處理能力、以及傳統的CPU。這項驗證可展現高效能與最佳資料管理、其架構使用單一或多部Lenovo SR350邊緣伺服器、並與單AFF 一NetApp效益儲存系統互連、如下圖所示。</block>
  <block id="5174c42549c4dd0407a40298a4d9e362" category="paragraph"><block ref="5174c42549c4dd0407a40298a4d9e362" category="inline-image-macro-rx" type="image"></block></block>
  <block id="aacb24ff7918ccc37aea66f8c9548b68" category="paragraph"><block ref="aacb24ff7918ccc37aea66f8c9548b68" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fa68c0f0557e1b1d9b151c9be9aae26a" category="paragraph">下圖中的邏輯架構總覽顯示此架構中運算和儲存元素的角色。具體而言、它顯示下列內容：</block>
  <block id="f2e5640bc98f623bd0a257e3088ead2c" category="list-text">邊緣運算裝置會對從攝影機、感應器等接收的資料執行推斷。</block>
  <block id="ba8dee772ce5a627767af000b8bbb826" category="list-text">一種共享儲存元件、可滿足多種用途：</block>
  <block id="8a1d15a179258733a83884fac2d16e38" category="list-text">為執行推斷所需的推斷模型及其他資料提供集中位置。運算伺服器可直接存取儲存設備、並在整個網路上使用推斷模型、而不需要在本機複製。</block>
  <block id="6c20432374a9a40cfb818250edf55367" category="list-text">更新的機型將在此推播。</block>
  <block id="4a32229da6d6fceda48d909ad92a952a" category="list-text">歸檔邊緣伺服器接收的輸入資料、以供日後分析。例如、如果邊緣裝置連接至攝影機、儲存元件會保留攝影機拍攝的影片。</block>
  <block id="45d9a14c8d568ce70d22acbde8373657" category="paragraph"><block ref="45d9a14c8d568ce70d22acbde8373657" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bda9643ac6601722a28f238714274da4" category="cell">紅色</block>
  <block id="48d6215903dff56238e52e8891380c8f" category="cell">藍色</block>
  <block id="95e6ac9e87f07caf580a7b83adb1526b" category="cell">聯想運算系統</block>
  <block id="81a15d59c420e43b55830213cc8c16b9" category="cell">NetApp AFF 產品儲存系統</block>
  <block id="f46e4977aa2e9918471e011cafc5cbe1" category="cell">邊緣裝置會對來自攝影機、感應器等的輸入執行推斷。</block>
  <block id="edb1af4b83edf30ec5e56e3f4a6352f3" category="cell">共享儲存設備、保留來自邊緣裝置的推斷模型和資料、以供日後分析。</block>
  <block id="6fa1f5494d341a20c6c746a33cbb31b3" category="paragraph">此NetApp與Lenovo解決方案提供下列主要效益：</block>
  <block id="f1bd3fc2711f634964362fb2a96445bf" category="list-text">GPU加速邊緣運算。</block>
  <block id="a644cc245485a603217667e7cbdb7ef9" category="list-text">部署多部邊緣伺服器、從共享儲存設備進行備份與管理。</block>
  <block id="d649f2b00c65fe4953b1a7e7469c9431" category="list-text">強大的資料保護功能、可滿足低恢復點目標（RPO）和恢復時間目標（RTO）、而且不會遺失資料。</block>
  <block id="2d0fcf5abf2f152f10ecfbf80a62e9db" category="list-text">利用NetApp Snapshot複本與複製技術來最佳化資料管理、以簡化開發工作流程。</block>
  <block id="94d9a1cd726b8a3fed2b6beb07904959" category="section-title">如何使用此架構</block>
  <block id="9a22eb3c4ef782aa04a39e5ad3ffc8b5" category="paragraph">本文件驗證所建議架構的設計與效能。不過、我們尚未測試某些軟體層級的元件、例如容器、工作負載、或模型管理、以及與內部部署的雲端或資料中心的資料同步、因為它們是針對部署案例而設計。這裡有多種選擇。</block>
  <block id="080e5221e660ab18a3746fe480956ebc" category="paragraph">在容器管理層級、Kubernetes Container管理是一個不錯的選擇、無論是完整上游版本（Canonical）或是適合企業部署的修改版本（Red Hat）、都能獲得良好支援。。 <block ref="8ff9014ec7345470e1bb9286d28496e4" category="inline-link-macro-rx"></block> 使用NetApp Trident和新增的<block ref="18f9f1b3975974bec435249b1752c2d6" category="inline-link-rx"></block> 提供內建的可追蹤性、資料管理功能、介面和工具、讓資料科學家和資料工程師能夠與NetApp儲存設備整合。Kubernetes的ML工具套件Kubefflow提供額外的AI功能、並支援TensorFlow服務或NVIDIA Triton Inference伺服器等多種平台上的模型版本設定和KFServing。另一個選項是NVIDIA EGX平台、可提供工作負載管理功能、並可存取支援GPU的AI推斷容器目錄。不過、這些選項可能需要投入大量心力和專業知識才能投入生產、而且可能需要協力廠商獨立軟體廠商（ISV）或顧問的協助。</block>
  <block id="1a667cf8dc2ace931f29baf9aeed69d9" category="section-title">解決方案領域</block>
  <block id="560d585bccd63f1ccf34b07b325adbcd" category="paragraph">AI推斷和邊緣運算的主要優點在於、裝置能夠以高品質、無延遲的方式來運算、處理及分析資料。本文件中有太多邊緣運算使用案例可說明、但以下是幾個主要案例：</block>
  <block id="8106f228c3a2b774c2e47d0d2ca766eb" category="section-title">汽車：自主車輛</block>
  <block id="49f3cb6fe79fc77d0b151dcc2f7d7109" category="paragraph">典型的邊緣運算圖示為自動車輛（AV）的進階駕駛輔助系統（ADAS）。無磁碟汽車的AI必須迅速處理來自攝影機和感應器的大量資料、才能成為成功的安全駕駛者。在物件與人之間解讀太久可能意味著生命或死亡、因此盡可能將資料處理在車輛附近是非常重要的。在此情況下、一或多個邊緣運算伺服器會處理來自攝影機、雷達、LIDAR及其他感應器的輸入、而共享儲存設備則會保留推斷模型、並儲存來自感應器的輸入資料。</block>
  <block id="e5e51dcd521792cb797e6e3c53736987" category="section-title">醫療：病患監控</block>
  <block id="a5031cd8ea18cb91370c532194ecd58e" category="paragraph">AI和邊緣運算最大的影響之一、就是能夠強化對在家中照護和深切治療單位（ICU）長期病患的持續監控能力。來自監測胰島素水平、呼吸、神經活動、心臟心律和腸胃功能的邊際裝置的資料、需要即時分析資料、但必須立即採取行動、因為行動的時間有限、無法拯救某人的生命。</block>
  <block id="7e4b8a4224f71143d7bd188ceeea4acd" category="section-title">零售：無收銀員付款</block>
  <block id="a8712e81fee7af830aa2cd6466cfb339" category="paragraph">邊緣運算可以推動AI和ML、協助零售商縮短結帳時間、並增加腳步流量。無收銀機系統支援各種元件、例如：</block>
  <block id="dbc0817910529140e6894b79ec51b412" category="list-text">驗證與存取：將實體購物者連線至已驗證的帳戶、並允許存取零售空間。</block>
  <block id="349a2650c71706ec201ef08d57dc58e7" category="list-text">庫存監控：使用感測器、RFID標籤和電腦視覺系統、協助確認購物者選擇或取消選擇商品。</block>
  <block id="86f5df5b4d7496a74d1d41bed2929983" category="paragraph">在這裡、每個邊緣伺服器都會處理每個結帳櫃位、而共享儲存系統則是中央同步點。</block>
  <block id="498375fc1d2fd41616385f8abfd37893" category="section-title">金融服務：資訊站的人類安全與防範詐騙</block>
  <block id="1dd0f8c70693faa846f69d76af9ffbf7" category="paragraph">銀行組織正使用AI和邊緣運算技術來創新及創造個人化的銀行體驗。互動式資訊站使用即時資料分析和AI推斷功能、現在可讓ATM不僅協助客戶提領資金、還能透過從攝影機擷取的影像主動監控資訊站、以識別人類安全或詐騙行為的風險。在此案例中、邊緣運算伺服器和共享儲存系統會連線至互動式多媒體資訊站和攝影機、以AI推斷模式協助銀行收集和處理資料。</block>
  <block id="0014200d8a9f4fe7a8b65ae923557be6" category="section-title">製造業：產業4.0</block>
  <block id="18bfb27ab22a9db6eb932a3bfe5f51a4" category="paragraph">第四次產業革命（產業4.0）已經開始、也伴隨著智慧工廠和3D列印等新興趨勢。為了準備迎接資料導向的未來、我們整合了大型機器對機器（M2M）通訊與IoT、無需人為介入、即可提升自動化程度。製造業已高度自動化、加上AI功能、自然是長期趨勢的延續。AI可實現自動化作業、並藉由電腦願景和其他AI功能來實現自動化。您可以自動化品質控制、或是仰賴人的願景或決策來執行更快速分析工廠內組裝線路上的材料、以協助製造廠符合所需的ISO安全與品質管理標準。在此處、每部運算邊緣伺服器都會連接到監控製造流程的感測器陣列、並視需要將更新的推斷模型推送至共享儲存設備。</block>
  <block id="a2df8c6c694bb6d9b42851d95a6d7814" category="section-title">電信：除鏽偵測、塔式檢查及網路最佳化</block>
  <block id="d562d0e475687af21d44b6ea803c10a8" category="paragraph">電信產業使用電腦願景和AI技術來處理影像、這些影像會自動偵測出各種生生除、並識別含有侵蝕的電池塔、因此需要進一步檢查。近年來、利用無人機影像和AI模型來識別塔內的不同區域、以分析鐵鏽、表面碎裂和侵蝕。AI技術的需求持續成長、可有效檢查電信基礎架構和電池塔、定期評估是否有老化問題、並在需要時立即修復。</block>
  <block id="50dba7db75064ae2e0beea487226ed46" category="paragraph">此外、電信領域的另一項新興使用案例是使用AI和ML演算法來預測資料流量模式、偵測具備5G功能的裝置、以及自動化及強化多重輸入和多重輸出（MIMU）能源管理。在無線塔上使用的是多重可擴充網路容量的MIMO-硬體、但也會增加能源成本。部署於行動站台的「MIMO睡眠模式」有多種ML模式、可預測無線電的有效使用、並有助於降低行動網路營運者（MNO）的能源消耗成本。AI推斷與邊緣運算解決方案可協助MNO減少資料中心來回傳輸的資料量、降低TCO、最佳化網路作業、並改善終端使用者的整體效能。</block>
  <block id="f45c430b02aac052aef8d958c80ff351" category="paragraph"><block ref="f45c430b02aac052aef8d958c80ff351" category="inline-link-macro-rx"></block></block>
  <block id="a6214fe1ac9a6825ffe38f3b34489c9d" category="summary">NetApp Run AI與本技術報告的建立合作、以展示Azure NetApp Files 獨一無二的功能、搭配執行AI平台、簡化AI工作負載的協調作業。</block>
  <block id="a55106260c16aab506cebfb58e07e030" category="paragraph">NetApp與RUN：AI合作建立本技術報告、以展示Azure NetApp Files 與眾不同的功能、搭配RUN：AI平台、簡化AI工作負載的協調作業。本技術報告提供參考架構、可簡化資料管線和工作負載協調的流程、以利分散式通道偵測訓練。</block>
  <block id="4e51614a389f3ad4fa17e2ce7ad984e7" category="paragraph">最後、關於大規模分散式訓練（尤其是公有雲環境）、資源協調與儲存元件是解決方案的關鍵部分。確保資料管理不會阻礙多個GPU處理、因此能達到GPU週期的最佳使用率。如此一來、系統就能以最具成本效益的方式進行大規模的分散式訓練。</block>
  <block id="269c35b1959d92e9ef6665bb4c60ad5d" category="paragraph">NetApp所提供的Data Fabric可讓資料科學家和資料工程師在內部部署和雲端之間建立連線、以取得同步資料、而無需執行任何手動介入、克服了這項挑戰。換句話說、資料架構可順暢地管理分散在多個位置的AI工作流程。此外、它也能將資料帶離運算近、並在需要時隨時隨地執行分析、訓練和驗證、進而提升隨需資料的可用度。這項功能不僅能實現資料整合、也能保護和保護整個資料傳輸途徑。</block>
  <block id="1b85c0e7f381bd6f8c3150cafe56a9f0" category="paragraph">採用ONTAP NVIDIA DGX系統和NetApp雲端連線儲存系統的NetApp AI架構。此參考架構可為IT組織提供下列優勢：</block>
  <block id="bae698d3cdcc290d6a0048c7b786446c" category="list-text">提供多種儲存選項、適用於各種效能與成本點NetApp ONTAP AI將DGX系統與NetApp AFF 支援的A800儲存系統與先進網路緊密整合。NetApp ONTAP 採用AI和DGX系統、可免除設計複雜度和猜測、簡化AI部署。客戶可以從小規模開始、以不中斷的方式擴充系統、同時以智慧方式管理從邊緣到核心到雲端及後端的資料。</block>
  <block id="c729dcbcad9e1c72ae15d4b823e9f311" category="paragraph">NetApp AI Control Plane是適用於資料科學家和資料工程師的完整堆疊AI、ML和深度學習（DL）資料與實驗管理解決方案。隨著企業組織增加AI使用率、他們面臨許多挑戰、包括工作負載擴充性和資料可用度。NetApp AI Control Plane透過各種功能來解決這些挑戰、例如快速複製資料命名空間、如同Git repo一般、以及定義及實作AI訓練工作流程、將近乎即時的資料建立與模型基準、以利追蹤及版本管理。有了NetApp AI Control Plane、您就能在不同站台和區域之間順暢複寫資料、並迅速配置Jupyter筆記型電腦工作區、存取大量資料集。</block>
  <block id="42cac0fcbbddfc99b31ff898d7902c83" category="inline-link-macro">下一步：執行AI平台以進行AI工作負載協調</block>
  <block id="e3683938a3c34e6a7cf5b3896258e91e" category="paragraph"><block ref="a8dcbc617641d20db42fd66f3a42caae" category="inline-link-macro-rx"></block>。</block>
  <block id="6c2749dd86f49cdb85fde6976a317e4b" category="summary">本節說明此AI解決方案的技術基礎。</block>
  <block id="42b507999e258502c07acce91c03de9f" category="paragraph"><block ref="42b507999e258502c07acce91c03de9f" category="inline-link-macro-rx"></block></block>
  <block id="b7bec75e06d57a8576b1ec632131ea53" category="paragraph">最先進的NetApp AFF ®不中斷儲存系統可讓AI在邊緣部署、以領先業界的效能、優異的靈活度、雲端整合及同級最佳的資料管理功能、滿足企業儲存需求。專為Flash所設計的NetApp AFF 支援功能、有助於加速、管理及保護業務關鍵資料。</block>
  <block id="45f242ad7738d4805c03311378260bbf" category="list-text">入門級NetApp AFF 支援儲存系統是以FAS2750硬體和SSD Flash媒體為基礎</block>
  <block id="d308392edcd4d2f839897b51e24cf6f6" category="list-text">HA組態中有兩個控制器</block>
  <block id="7df12cd193e8452ed6fc45ca8bcd3771" category="paragraph"><block ref="7df12cd193e8452ed6fc45ca8bcd3771" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a6b0a1e5585dc8095dd546c5930f1a6c" category="paragraph">NetApp入門級AFF 的C190儲存系統支援下列功能：</block>
  <block id="42087aa1683ece2ea30ab7fa45862cd6" category="list-text">磁碟機數量上限為24 x 960GB SSD</block>
  <block id="d7123d8583ed65e3090da25ea5aee965" category="list-text">兩種可能的組態：</block>
  <block id="35b9fc01c3820062d5969f142bdc5ce5" category="list-text">乙太網路（10GbE）：4個10GBASE-T（RJ-45）連接埠</block>
  <block id="f5e2ae88aead451be011eb9f8abfdd6e" category="list-text">統一化（16GB FC或10GbE）：4個統一化目標介面卡2（UTA2）連接埠</block>
  <block id="1e927fd215e516034d85785b393b0efb" category="list-text">最大有效容量為50.5 TB</block>
  <block id="aa9cba7f7b6d2ff8fb2251620a584dcd" category="admonition">對於NAS工作負載、單一入門級AFF 的432C190系統可支援4.4GBps的連續讀取處理量、以及230K IOPS、以1毫秒或更短的延遲時間進行小型隨機讀取。</block>
  <block id="1672d070f346948fb25e819b40bb3ade" category="section-title">NetApp AFF 解決方案-A220</block>
  <block id="ac7bdd389786fda32ee572c48eef4838" category="paragraph">NetApp也提供其他入門級儲存系統、為大規模部署提供更高的效能與擴充性。對於NAS工作負載、單一入門級AFF 的AS20220系統支援：</block>
  <block id="732568c5581337c7341011c38721e2db" category="list-text">連續讀取的處理量為6.2GBps</block>
  <block id="4900f6d90a4169888690f2c04f3c6603" category="list-text">375K IOPS可在延遲1毫秒或更短時間內進行小型隨機讀取</block>
  <block id="fbcd9d84b2d7be8631cbf7226884f17a" category="list-text">最大磁碟機數為144x 960GB、3.8TB或7.6TB SSD</block>
  <block id="db527e605a2eacc627448a70b8a745db" category="list-text">可用容量可擴充至大於1PB的部分AFF</block>
  <block id="cac36335022421f12e1c8e999ffeb1af" category="list-text">最大有效容量為35PB、最大橫向擴充為2-24個節點（12個HA配對）</block>
  <block id="62a23a7791227c5f5e3d068e70759128" category="list-text">效能比AFF 不支援的A220高出≥45%</block>
  <block id="dc7ac33362f108fc7f4b7d8eb0e2cf4e" category="list-text">440k IOPS隨機讀取@1ms</block>
  <block id="0f4615fb8d6105bcb2cbce504f8f091c" category="list-text">以最新的NetApp ONTAP 產品資訊版本ONTAP 為基礎：《NetApp產品資訊</block>
  <block id="440a976974d702d027543e058c1fffc0" category="list-text">利用兩個25GB乙太網路進行HA和叢集互連</block>
  <block id="4dc1c0d5a0f0257d8d9e183bc226ab45" category="section-title">NetApp E系列EF系統</block>
  <block id="f5e23a285b378cde99c2d7fb43586c1b" category="paragraph">EF系列是入門級與中階All Flash SAN儲存陣列系列產品、可加速資料存取、並利用NetApp SANtricity 的Ef2軟體、更快從其中獲取價值。這些系統同時提供SAS和NVMe Flash儲存設備、並提供經濟實惠的極致IOPS、100微秒內的回應時間、以及高達44GBps的頻寬、是混合式工作負載和嚴苛應用程式（例如AI推斷和高效能運算（HPC）的理想選擇。</block>
  <block id="96e4797e3006bef737785f8627faae06" category="paragraph">下圖顯示NetApp EF280儲存系統。</block>
  <block id="51ffc2dfd09bb521be00106f197d1009" category="paragraph"><block ref="51ffc2dfd09bb521be00106f197d1009" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e6f17b7c2ad64f8977585fc43d702abf" category="section-title">NetApp EF280</block>
  <block id="2d6477e98cb834485323c97da975c640" category="list-text">32GB/16GB FC、25GB/10Gb iSCSI及12Gb SAS支援</block>
  <block id="d637a0904677ae775d98b9ce0beda3d6" category="list-text">最大有效容量為96個磁碟機、總計1.5PB</block>
  <block id="6f409cb54d8cb27deac8a918fe03f3cc" category="list-text">10Gbps的處理量（循序讀取）</block>
  <block id="7c61b8793dbe5a66cbf144bdabcf76cd" category="list-text">300K IOPs（隨機讀取）</block>
  <block id="4c5a963973ae3026e92baab2ef522c6c" category="list-text">NetApp EF280是NetApp產品組合中成本最低的All Flash Array（AFF）</block>
  <block id="f1330bea5ad6aa446aa17d0a324bb579" category="list-text">24個NVMe SSD磁碟機、總容量為367TB</block>
  <block id="6768e0b9e957297070e3822e98a4b8f9" category="list-text">擴充選項總計240x NL-SAS HDD、96x SAS SSD或組合</block>
  <block id="0fa40de31cbd933cc9a954d82204feb9" category="list-text">100GB NVMe / IB、NVMe / RoCE、iSER / IB和SRP/IB</block>
  <block id="aee7a4e3788dbbff7166952ed0e2d2c9" category="list-text">32GB NVMe/FC、FCP</block>
  <block id="c4b9deb88d9cf1b1a2160cb28a2c41ca" category="list-text">25GB iSCSI</block>
  <block id="03597240f9b0b4a23f3ffdf6e159d6ca" category="list-text">20Gbps（循序讀取）</block>
  <block id="ffe3b3adfe232ee25f1914e7e7d266c4" category="list-text">670K IOPs（隨機讀取）</block>
  <block id="7105ea3513c2bdae1a0d63a9f0703579" category="inline-link">NetApp EF系列NetApp EF系列All Flash Array EF600、F300、EF570及EF280資料表</block>
  <block id="6e69804b180359b12a32a56c17c0641e" category="admonition">如需詳細資訊、請參閱<block ref="5f5484869dc0c271e2b062d172d38bee" category="inline-link-rx"></block>。</block>
  <block id="b407d5a86fd662f03d5a1615963e0827" category="paragraph">NetApp最新一代的儲存管理軟體《支援》（NetApp）版本、可讓企業將基礎架構現代化、並移轉至雲端就緒的資料中心。ONTAP利用領先業界的資料管理功能ONTAP 、無論資料位於何處、只要使用一組工具、即可管理及保護資料。您也可以自由地將資料移至任何需要的位置：邊緣、核心或雲端。NetApp 9.8.1包含多項功能、可簡化資料管理、加速及保護關鍵資料、並在混合雲架構中提供新一代基礎架構功能。ONTAP</block>
  <block id="f1586460cef11d0abaaf5270f37f18d7" category="section-title">簡化資料管理</block>
  <block id="2e2b24551fd50942c6da57d4f8efdfae" category="paragraph">資料管理對企業IT營運至關重要、因此應用程式和資料集必須使用適當的資源。包含下列功能、可簡化及簡化作業、並降低總營運成本：ONTAP</block>
  <block id="4934cd09a8e487be128d2b6321ee3279" category="list-text">*即時資料壓縮與擴充重複資料刪除技術。*資料壓縮技術可減少儲存區塊內的空間浪費、重複資料刪除技術則可大幅提升有效容量。這適用於本機儲存的資料、以及分層至雲端的資料。</block>
  <block id="0ddc097c124782f16e8a0a1b014fc2bb" category="list-text">*服務品質（AQO）的最低、最大及可調適性。*精細的服務品質（QoS）控制、有助於維持高共享環境中關鍵應用程式的效能等級。</block>
  <block id="0c720f269a89477f24f77f6f027719cc" category="inline-link-macro">TR-4598</block>
  <block id="7920a2957aeb5c70e8ee2fa43c94e741" category="list-text">* NetApp FabricPool 功能可將冷資料自動分層至公有雲和私有雲儲存選項、包括Amazon Web Services（AWS）、Azure和NetApp StorageGRID 等儲存解決方案。如需FabricPool 更多有關資訊、請參閱 <block ref="38e4393e170a142db2e52760317ecb7f" category="inline-link-macro-rx"></block>。</block>
  <block id="28e23b5888c04e1859e75c594c6cec26" category="section-title">加速並保護資料</block>
  <block id="85e643b872d0d98ec2251220de803a1f" category="paragraph">供應優異的效能與資料保護、並以下列方式擴充這些功能：ONTAP</block>
  <block id="bfb9fa643243eb975ccd9d158cf97800" category="list-text">*效能與較低的延遲。ONTAP *</block>
  <block id="86a12b3dbbf039b371f714a515919535" category="list-text">* NetApp Volume Encryption（NVE）* ONTAP 。*支援內建和外部金鑰管理、提供原生Volume層級的加密功能。</block>
  <block id="b3023c0a4db125fc22f0d6056c6e379d" category="list-text">*多租戶與多因素驗證。* ONTAP 支援以最高安全層級共享基礎架構資源。</block>
  <block id="685f280ead44650493627d9ac47818e1" category="section-title">符合未來需求的基礎架構</block>
  <block id="f9eaef0b2cf89b234c431c18aec36bf3" category="paragraph">下列功能可協助滿足嚴苛且不斷變化的業務需求：ONTAP</block>
  <block id="9e98379ad83b5c60933a3437c7fb61c7" category="list-text">*無縫擴充與不中斷營運。* ONTAP 支援在不中斷營運的情況下、為現有控制器和橫向擴充叢集增加容量。客戶可以升級至最新技術、例如NVMe和32GB FC、而不需進行昂貴的資料移轉或中斷運作。</block>
  <block id="0cee26e8172666a9085f957269fc4b64" category="list-text">* Cloud connection。ONTAP *效能不只是雲端連線能力最強的儲存管理軟體、ONTAP Select 還可在Cloud Volumes Service 所有公有雲中選擇軟體定義儲存（英文）和雲端原生執行個體（NetApp版本）。</block>
  <block id="b5dc6026803056308b6bf7007af32a2b" category="list-text">*與新興應用程式整合* ONTAP 。*此功能使用支援現有企業應用程式的相同基礎架構、為新一代平台和應用程式（例如自動駕駛車輛、智慧城市和產業4.0）提供企業級資料服務。</block>
  <block id="e4872d9c30e978d9408425f0e08882c5" category="section-title">NetApp SANtricity</block>
  <block id="965539211ad2d7bc981e7e954db08850" category="inline-link">NetApp E系列SANtricity 《軟體資料表》</block>
  <block id="568549d316f6f749a07012e522e0bca3" category="paragraph">NetApp SANtricity 旨在為E系列混合式Flash與EF系列All Flash陣列提供領先業界的效能、可靠性與簡易性。針對繁重的工作負載應用、包括資料分析、視訊監控、備份與還原、實現E系列混合式Flash與EF系列All Flash陣列的最大效能與使用率。利用此功能、您可以在儲存設備保持連線的同時、完成組態調整、維護、容量擴充及其他工作。SANtricity此外、透過易於使用的內建System Manager介面、還能提供優異的資料保護、主動監控及認證安全功能。SANtricity若要深入瞭解、請參閱<block ref="64769f0652e98a060ba5d2cd17320298" category="inline-link-rx"></block>。</block>
  <block id="c4cf91172f1e96366d0dfa38c1167df9" category="section-title">效能最佳化</block>
  <block id="3d615c3559b8d33749ea23cf3a34b759" category="paragraph">效能最佳化SANtricity 的功能性支援功能可為您的所有資料分析、視訊監控及備份應用程式、提供高IOPs、高處理量及低延遲的資料。加速高IOPS、低延遲應用程式及高頻寬、高處理量應用程式的效能。</block>
  <block id="8238dd9365065265be82d79d4dd38a98" category="section-title">最大化正常運作時間</block>
  <block id="28ed557ae8b4ff60f83da71465cbcb9b" category="paragraph">在儲存設備保持連線的情況下、完成所有管理工作。在不中斷I/O的情況下調整組態、執行維護或擴充容量透過自動化功能、線上組態、最先進的動態磁碟資源池（DPP）技術等功能、實現同級最佳的可靠性。</block>
  <block id="2b34e4806834294a7dd611ad1d7d0308" category="section-title">高枕無憂</block>
  <block id="7847b3892c0f355acdb3fe824654e209" category="paragraph">透過易於使用的內建System Manager介面、即可提供優異的資料保護、主動監控及認證安全性。SANtricity簡化儲存管理工作。獲得所有E系列儲存系統進階調校所需的靈活度。隨時隨地管理NetApp E系列系統。我們隨裝即用的網路介面可簡化您的管理工作流程。</block>
  <block id="2758085534b10a85f702f6a61737eefb" category="paragraph"><block ref="d14308042ff124582c531f74c03d90f3" category="inline-link-rx"></block> NetApp是適用於Docker和Kubernetes的開放原始碼動態儲存協調工具、可簡化持續儲存的建立、管理和使用。Kubernetes原生應用程式Trident直接在Kubernetes叢集內執行。Trident可讓客戶將DL Container映像無縫部署到NetApp儲存設備、並為AI Container部署提供企業級體驗。Kubernetes使用者（例如ML開發人員和資料科學家）可以建立、管理及自動化協調與複製、以充分利用NetApp技術所提供的NetApp進階資料管理功能。</block>
  <block id="2d76806bea2175a1c575d37015a3621b" category="paragraph"><block ref="f0ec1a9d50acb3759e364a1cdfa9961d" category="inline-link-rx"></block> 是一項NetApp服務、可快速且安全地同步資料。無論您需要在內部部署NFS或SMB檔案共享之間傳輸檔案、NetApp StorageGRID 效益、NetApp ONTAP S3、NetApp Cloud Volumes Service 效益、Azure NetApp Files 支援、Amazon Simple Storage Service（Amazon S3）、Amazon Elastic File System（Amazon EFS）、Azure Blob、Google Cloud Storage、 或者IBM Cloud Object Storage Cloud Sync 、讓您快速安全地將檔案移至所需的位置。資料傳輸完成後、即可在來源和目標上完全使用。根據預先定義的排程、不間斷地同步資料、只移動差異、因此能將資料複寫所花費的時間和金錢減至最低。Cloud Sync不只是軟體即服務（SaaS）工具、設定與使用極為簡單。Cloud Sync由資料代理人執行由功能不整所觸發的資料傳輸Cloud Sync 。您可以在Cloud Sync AWS、Azure、Google Cloud Platform或內部部署中部署不實資料代理程式。</block>
  <block id="e76fa728781968dd4a707e2d3b1d8108" category="paragraph">聯想ThinkSystem伺服器採用創新的硬體、軟體和服務、可解決客戶目前的挑戰、並提供革命性的符合用途的模組化設計方法、以因應未來的挑戰。這些伺服器運用同級最佳的業界標準技術、搭配與眾不同的Lenovo創新技術、為x86伺服器提供最大的靈活度。</block>
  <block id="493e1540ce727fb5f465fff015aa4733" category="paragraph">部署Lenovo ThinkSystem伺服器的主要優勢包括：</block>
  <block id="b7c6c5eb82b90f69eddd06060626e5e3" category="list-text">可隨企業成長而擴充的模組化設計</block>
  <block id="c2599c559a0be54b242b8aa3c67325c8" category="list-text">領先業界的恢復能力、可節省非計畫性停機所需的數小時成本</block>
  <block id="c57cb88fcbeb47afa8496b8fc32cbf03" category="list-text">快速Flash技術可降低延遲、縮短回應時間、並即時進行更聰明的資料管理</block>
  <block id="6d72d9a0181555ca86c9562861e47058" category="paragraph">在AI領域、Lenovo正採取實用的方法、協助企業瞭解ML和AI在工作負載方面的優勢、並將其納入其中。Lenovo客戶可在Lenovo AI創新中心中探索及評估Lenovo AI產品、充分瞭解其特定使用案例的價值。為了縮短實現價值所需的時間、這種以客戶為中心的方法可讓客戶針對已準備好使用並針對AI最佳化的解決方案開發平台、提供概念驗證。</block>
  <block id="13f9a963bd60406520ccdc128d44b54a" category="section-title">Lenovo ThinkSystem SE350 Edge Server</block>
  <block id="6bf0f92a7340921305982a91f7277085" category="paragraph">邊緣運算可讓您在將IoT裝置的資料傳送到資料中心或雲端之前、先在網路邊緣分析資料。下圖所示的Lenovo ThinkSystem SE350、是專為邊緣部署的獨特需求所設計、採用精巧、堅固耐用且環境強化的尺寸規格、著重於靈活度、連線能力、安全性及遠端管理功能。</block>
  <block id="72dd0df190a1bdc8d3043fafdba7122b" category="paragraph">SE350採用Intel Xeon D處理器、可靈活支援邊緣AI工作負載的加速、專為因應資料中心以外各種環境的伺服器部署挑戰而打造。</block>
  <block id="b739a166d96ffd72ac4d456012bfbe21" category="paragraph"><block ref="b739a166d96ffd72ac4d456012bfbe21" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1e8dc5b3fbe4fe568bf4cc78b4a053fd" category="paragraph"><block ref="1e8dc5b3fbe4fe568bf4cc78b4a053fd" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6bd5e585bc974f029ff9c7cc8a2b68dd" category="section-title">MLPerf</block>
  <block id="45c08b3aee1d5fb5dc3447ec1271a853" category="inline-link">MLPerf推斷v0.7</block>
  <block id="f6922096e43c9e99d2be9d521357ff1c" category="paragraph">MLPerf是領先業界的基準測試套件、可用來評估AI效能。涵蓋多個應用AI領域、包括影像分類、物件偵測、醫療成像和自然語言處理（NLP）。在此驗證中、我們使用推斷v0.7工作負載、這是完成此驗證時最新一次的MLPerf推斷。。<block ref="1303efdddf9d8dbc0de31c402aa4ef22" category="inline-link-rx"></block> 套件包含四項資料中心與邊緣系統的新基準測試：</block>
  <block id="c781a146774780843a929b97004ba720" category="list-text">由Transformers（Bert）提供的* Bert.*雙向編碼器表示、可利用Srog資料集微調以回答問題。</block>
  <block id="cb93b50c2b2216543a9eee4d9a38b38c" category="list-text">* DLRM-*深度學習建議模式（DLRM）是個人化的推薦模式、經過訓練可最佳化點閱率（CTR）。</block>
  <block id="16139bb6e8da8fe8f8aaf1e5fb8bde0d" category="list-text">* 3D U-Net.* 3D U-Net架構是針對腦部腫瘤分割（Brat）資料集進行訓練。</block>
  <block id="5691eec0e5e0ea401478ea67b8168d64" category="list-text">* RNN-T*重複神經網路換能器（RNN-T）是一種自動語音辨識（ASR）模式、訓練內容為LbridSpeech的子集。MLPerf推斷結果與程式碼均可公開取得、並在Apache授權下發佈。MLPerf推斷具有Edge部門、可支援下列案例：</block>
  <block id="e772865569495cb43ba25be1d6eed756" category="list-text">*單一串流。*此案例模擬回應能力是關鍵因素的系統、例如在智慧型手機上執行離線AI查詢。個別查詢會傳送至系統、並記錄回應時間。結果會報告所有回應的90個百分位數延遲。</block>
  <block id="f9cf7025c2d80af397a9b960974631e2" category="list-text">*多重串流*此基準測試適用於處理多個感應器輸入的系統。在測試期間、查詢會以固定時間間隔傳送。強制實施QoS限制（允許的最大延遲）。測試會報告系統在符合QoS限制的情況下可以處理的串流數量。</block>
  <block id="78a9abbe3c771a5882830fc8e2a73a8f" category="list-text">*離線。*這是最簡單的案例、涵蓋批次處理應用程式、而指標是每秒取樣的處理量。系統可取得所有資料、基準測試會測量處理所有樣本所需的時間。</block>
  <block id="cc8cc2653d3a795d17b5d90b14d00e19" category="inline-link"><block ref="cc8cc2653d3a795d17b5d90b14d00e19" category="inline-link-rx"></block></block>
  <block id="c953c121914b99f83398f20ab2160ed1" category="paragraph">Lenovo已針對本文件所使用的伺服器「T4」（SE350）發表MLPerf推斷分數。請參閱以下網址的結果：<block ref="8efc95b379113ebfb6f66010213223ce" category="inline-link-rx"></block> 在項目#0.7-145的「Edge、Closed Division」一節中。</block>
  <block id="26cb2cd90a9e0e03f63323eab13f117d" category="inline-link-macro">下一步：測試計畫。</block>
  <block id="91666b8460dc62d134fe80c31f05d28b" category="paragraph"><block ref="91666b8460dc62d134fe80c31f05d28b" category="inline-link-macro-rx"></block></block>
  <block id="dc12a1ce34c0a7a264de91bc9b933a62" category="paragraph">在本節中、我們顯示、當「team d」要求更多GPU（以配額為限）時、系統會暫停「team b」和「team c」的工作負載、並以公平的共享方式將其移至待處理狀態。</block>
  <block id="86bbd55ea7850716c0c192b19c86176a" category="paragraph">如需工作提交、使用的容器映像及執行命令順序等詳細資料、請參閱一節 <block ref="94d73a1896276f719be59227f0e93a14" category="inline-link-macro-rx"></block>。</block>
  <block id="b6ea2a2f48a443e7d027bd652ac84762" category="paragraph">下圖顯示所產生的叢集使用率、每個群組分配的GPU、以及由於自動負載平衡和優先排程而產生的擱置工作。我們可以觀察到、當所有團隊工作負載所要求的GPU總數超過叢集中可用的GPU總數時、Run:AI的內部公平演算法會因為達到專案配額、而在「team b」和「team -c」中各暫停一項工作。這可提供整體高叢集使用率、而資料科學團隊仍在系統管理員設定的資源限制下工作。</block>
  <block id="d1a54cf8cb2a06c0715d2f042fbf44bd" category="paragraph"><block ref="d1a54cf8cb2a06c0715d2f042fbf44bd" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d52816ece2166f7a2e0eadf58d617df9" category="paragraph">此測試案例的結果顯示下列項目：</block>
  <block id="bce83ec0a92a5b10380007a1643b2fd0" category="list-text">*自動負載平衡。*系統會自動平衡GPU的配額、使每個團隊現在都使用配額。暫停的工作負載屬於超出配額的團隊。</block>
  <block id="f8be0d1ca354f8cb4aaa4c8aadcea80b" category="list-text">*公平共用暫停。*系統會選擇停止某個團隊的工作負載、使其超出配額、然後停止另一個團隊的工作負載。RUN：AI具有內部公平演算法。</block>
  <block id="c088b6e407ba7f9c0274382acfa3eae0" category="inline-link-macro">下一步：過度配額的公平性</block>
  <block id="8e015e1b989b11d70fcb778747b8c614" category="paragraph"><block ref="8e015e1b989b11d70fcb778747b8c614" category="inline-link-macro-rx"></block></block>
  <block id="fa752e98365b630341b8478c89a6757f" category="doc">設定Kubernetes叢集</block>
  <block id="f12c340e651d989970371432778f9be2" category="paragraph">本節分為兩部分、分別用於雲端和內部部署。</block>
  <block id="ee06675a624f2ec74e8b71b5a57f8f9e" category="section-title">雲端部署Kubernetes組態</block>
  <block id="b513a0297a0d2efdebed8ce18e2f1715" category="paragraph">透過NetApp Cloud Manager、您可以定義與Iguazio Kubernetes叢集的連線。Trident需要存取叢集中的多個資源、才能使磁碟區可用。</block>
  <block id="2d5bc331cc722113dd483838e908804c" category="list-text">若要啟用存取、請從其中一個Iguazio節點取得Kubernetes組態檔案。檔案位於「/home/Iguazio/.kue/config」下 將此檔案下載至桌面。</block>
  <block id="17c6b0de5b91c5c06a0d8173c89110d8" category="list-text">前往探索叢集進行設定。</block>
  <block id="df37cca51036f4c5b59db211df5354bc" category="paragraph"><block ref="df37cca51036f4c5b59db211df5354bc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b848e07dc3f62b4307419421d844f123" category="list-text">上傳Kubernetes組態檔案。請參閱下圖。</block>
  <block id="5bcc42d0a2624f1586064488c3484529" category="paragraph"><block ref="5bcc42d0a2624f1586064488c3484529" category="inline-image-macro-rx" type="image"></block></block>
  <block id="63de24a45facebf9f65cb6578847f2b4" category="list-text">部署Trident、並將磁碟區與叢集建立關聯。請參閱下列影像、瞭解如何定義及指派持續Volume給Iguazio叢集。此程序可在Iguazio的Kubernetes叢集中建立持續Volume（PV）。在使用之前、您必須先定義持續磁碟區宣告（PVc）。</block>
  <block id="8b69025b2efa1b2ccb917bc911d30ccd" category="section-title">內部部署Kubernetes組態</block>
  <block id="5be8900878997a404baf02b07ff271c6" category="paragraph">如需NetApp Trident的內部部署安裝、請參閱<block ref="7ccf7acaa308282d5274101157fd43e5" category="inline-link-rx"></block> 以取得詳細資料。在設定Kubernetes叢集並安裝NetApp Trident之後、您可以將Trident連線至Iguazio叢集、以啟用NetApp資料管理功能、例如建立資料與模型的Snapshot複本。</block>
  <block id="50af1dc10d66589053fc82292fe61444" category="inline-link-macro">下一步：定義持續磁碟區宣告</block>
  <block id="bb0c0300eb362a15d2d6480d832ecfbe" category="paragraph"><block ref="bb0c0300eb362a15d2d6480d832ecfbe" category="inline-link-macro-rx"></block></block>
  <block id="820423ca1ad0e872ef04cbb366b6e3de" category="paragraph">NetApp與Iguazio的結合、將這些技術整合為託管服務、可加速技術採用、並縮短新的AI/ML應用程式上市時間。</block>
  <block id="b0a9c7dc36cb18f93679b833533b9936" category="paragraph"><block ref="b0a9c7dc36cb18f93679b833533b9936" category="inline-link-macro-rx"></block></block>
  <block id="57a499fcdd85136edfd1ee55dedd9675" category="summary">此解決方案遵循AI / ML應用程式的生命週期。我們從資料科學家的工作開始、定義準備資料和訓練模型所需的不同步驟。我們運用dask上的快速發展、在Azure Kubernetes Service（aks）叢集上執行分散式訓練、大幅縮短訓練時間、相較於傳統的Python scisker-k套 件學習方法。為了完成完整的週期、我們整合了整合整個管線Azure NetApp Files 與功能的功能。</block>
  <block id="0359d40b3d1a900a1841f1e8bd783cd5" category="doc">TR-4904：Azure中的分散式訓練-點擊率預測</block>
  <block id="e6fab630e7da86a500e1e3c51fa61a00" category="paragraph">Rick Huang、Verron Martina、Muneer Ahmad、NetApp</block>
  <block id="4c3816ce69205bc811aa89dbe9d09a1a" category="paragraph">資料科學家的工作重點應放在機器學習（ML）和人工智慧（AI）模式的訓練和調校。不過、根據Google的研究結果、資料科學家約有80%的時間花在研究如何讓他們的模型與企業應用程式搭配運作、以及大規模執行。</block>
  <block id="a1451f6988178ae140f8da836d63a157" category="paragraph">若要管理端點對端點的AI/ML專案、需要更深入瞭解企業元件。雖然DevOps已接管定義、整合及部署、但這些類型的元件、但ML作業的目標是類似流程、包括AI/ML專案。若要瞭解企業中端點對端點的AI/ML傳輸途徑、請參閱下列必要元件清單：</block>
  <block id="24bea3d677b34d6aea9ff01417fd9d06" category="list-text">整合式開發環境（IDE）</block>
  <block id="e6a53478c3fc5682c6f851672b3e7bc9" category="paragraph">資料科學領域涉及IT與企業的多個領域：</block>
  <block id="9ca78187997ba2a23a73c094256ae63f" category="list-text">雲端管理員與架構設計師必須能夠設定及管理Azure資源。</block>
  <block id="060bc2911862b1ab8f6b4b77542434a2" category="paragraph">在本技術報告中、我們將說明Azure NetApp Files 各種角色的功能、包括功能性、速度性AI、dask和Azure如何協助企業實現價值。</block>
  <block id="ed8b6e047f5d4e844fe3e870c3fda4a3" category="paragraph">提供多種效能等級。Azure NetApp Files客戶可以從標準層開始、在不中斷營運的情況下橫向擴充並擴充至高效能層、而不需移動任何資料。此功能可讓資料科學家在不發生任何效能問題的情況下、大規模訓練模型、避免跨叢集的任何資料封閉環境、如下圖所示。</block>
  <block id="d4dc9019b6000fd12d9dc6b091fe3e26" category="paragraph"><block ref="d4dc9019b6000fd12d9dc6b091fe3e26" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a20978df09e58f39953eb81f9368c2f2" category="paragraph"><block ref="a20978df09e58f39953eb81f9368c2f2" category="inline-link-macro-rx"></block></block>
  <block id="2732cb29fe3befd83c06e7c220b5456d" category="doc">第4.10節的測試詳細資料</block>
  <block id="273936fc522fd7dbe4473de8a0b2a985" category="paragraph">本節包含本節的測試詳細資料 <block ref="2783e1454358e180d4e2876ef9492c64" category="inline-link-macro-rx"></block>。</block>
  <block id="cf46f9264bb33ef7576cf671194a0275" category="paragraph">請依下列順序提交工作：「team a」、「team－b」和「team－c」：</block>
  <block id="fac80c1054e849e1ec88244c017978e7" category="cell">1個工作負載排入佇列</block>
  <block id="eefc99cd833e14811fb22b758cbc62e5" category="cell">2個工作負載排入佇列</block>
  <block id="001f9003205f670658ffc60b1e4d62d8" category="cell">兩個工作負載分別要求GPU</block>
  <block id="f0f10ddbe8f00433aad17626c8d96a73" category="cell">兩個工作負載分別要求兩個GPU</block>
  <block id="61b8291124bff8ee36a1c799e35395e9" category="paragraph">接下來、刪除「team d」的所有工作負載：</block>
  <block id="ed9cf33d84548b5953f8b042c72faef4" category="paragraph">請參閱一節 <block ref="2783e1454358e180d4e2876ef9492c64" category="inline-link-macro-rx"></block>、以討論後續的測試案例。</block>
  <block id="543cdcd352596e4ad69b4597a2188c02" category="paragraph"><block ref="543cdcd352596e4ad69b4597a2188c02" category="inline-link-macro-rx"></block></block>
  <block id="3a607d0e3fa64fd7558e11352f751dd0" category="summary">NetApp AI Control Plane解決方案不依賴於此特定硬體。</block>
  <block id="976cf3edd8adeff2e75cd7a9dd0dae21" category="paragraph">NetApp AI Control Plane解決方案不依賴於此特定硬體。此解決方案可與Trident支援的任何NetApp實體儲存設備、軟體定義執行個體或雲端服務相容。範例包括NetApp AFF 的不完整儲存系統Azure NetApp Files 、功能完善、NetApp Cloud Volumes Service 功能完善、NetApp ONTAP Select 功能完善、由軟體定義的儲存執行個體、或是NetApp Cloud Volumes ONTAP 的不完整執行個體。此外、只要Kubernetes和NetApp Trident支援所使用的Kubernetes版本、即可在任何Kubernetes叢集上實作解決方案。如需Kubernetes支援版本的清單、請參閱<block ref="01b2e82a7080cdbeb934280240df876e" category="inline-link-rx"></block>。如需Trident支援的Kubernetes版本清單、請參閱<block ref="e6b3671f5db59046617458d31ef4f50b" category="inline-link-rx"></block>。如需驗證解決方案所用環境的詳細資訊、請參閱下表。</block>
  <block id="2e4fd4a404800f52299c132a3403dc72" category="cell">基礎架構元件</block>
  <block id="64d354dc5879cf570ce7b4ef676e75bd" category="cell">作業系統</block>
  <block id="4152ac69f367cb5f64dfbc247dd41db0" category="cell">部署跳接主機</block>
  <block id="583a65df9db4119165f5ea0abaa50281" category="cell">VM</block>
  <block id="204dd0a482d284a7fb87c908f713f9bd" category="cell">Ubuntu 20.04.2 LTS</block>
  <block id="f341fd2fe180518e152be2d6fb4ec20b" category="cell">Kubernetes主節點</block>
  <block id="a89c263b82f7c7f61c9b6c93080f8425" category="cell">Kubernetes工作節點</block>
  <block id="76a7e6383604f84ace970ce86ba76a9f" category="cell">Kubernetes GPU工作節點</block>
  <block id="f89b34b046a8d6e3137c95861fa3cf8a" category="cell">NVIDIA DGX-1（裸機）</block>
  <block id="eba551f3f972830c55b1c9bef15b5f26" category="cell">NVIDIA DGX OS 4.0.5（以Ubuntu 18.04.2 LTS為基礎）</block>
  <block id="0911ffdbb76c891f964e39a07eb6b697" category="cell">1個HA配對</block>
  <block id="d1d73cf191d1afbd40e85644467cae8b" category="cell">NetApp ONTAP 產品9.7 P6</block>
  <block id="68782f72ebeb2cac06f03226a6e941bb" category="cell">軟體元件</block>
  <block id="47354877541923135499c38a6606138a" category="cell">2.0.1</block>
  <block id="9ba69bd971d430b368ce3f0286c8e77c" category="cell">Apache Airflow Helm圖表</block>
  <block id="ecfa741d55b7b1a85bd61a2307877c8c" category="cell">8.0.8</block>
  <block id="fd99a7ef225418315b041ad631a5674c" category="cell">19.03.12</block>
  <block id="56765472680401499c79732468ba4340" category="cell">1.2</block>
  <block id="48d02190984e4f8526f99f9cd9550e08" category="cell">1.18.9.</block>
  <block id="d58d49f83f534f5d71b20750bb7927c7" category="cell">21.01.2</block>
  <block id="7a04e1f765218bcbfc633ef331b312b8" category="inline-link-macro">61898cdfda</block>
  <block id="7855beff2fafbce2cf0df4d67f8dfed7" category="cell">主分支機構在提交時的Trident部署功能 <block ref="686ead03155c78694e1a59db0970fc1a" category="inline-link-macro-rx"></block>；所有其他功能（版本21.03）</block>
  <block id="db5eb84117d06047c97c9a0191b5fffe" category="section-title">支援</block>
  <block id="b2e75bbfb9933bc21b7f875e8676641d" category="inline-link-macro">請聯絡NetApp</block>
  <block id="a1773dfa99aa26853e90886d55e0d05a" category="paragraph">NetApp不提供Apache Airflow、Docker、Kubeflow、Kubernetes或NVIDIA DeepOps的企業支援。如果您對具備類似NetApp AI Control Plane解決方案功能的完整支援解決方案感興趣、 <block ref="103a4ac9affe57bb7edb7796bfdeb684" category="inline-link-macro-rx"></block> 關於NetApp與合作夥伴共同提供的完全支援的AI/ML解決方案。</block>
  <block id="26c21566450ecb01d82e6d0e3f7ef1a3" category="inline-link-macro">下一步：Kubernetes部署。</block>
  <block id="0635bed13bdc0ace58fec0264ac3d119" category="paragraph"><block ref="0635bed13bdc0ace58fec0264ac3d119" category="inline-link-macro-rx"></block></block>
  <block id="7c0ea3e86521674f72e056d148d4f2ce" category="paragraph">NetApp與Run：AI已在本技術報告中合作、展示NetApp ONTAP AI解決方案的獨特功能、並搭配Run:AI平台、以簡化AI工作負載的協調作業。上述步驟提供參考架構、可簡化資料管線和工作負載協調流程、以利深度學習。我們鼓勵想要實作這些解決方案的客戶聯絡NetApp、並聯絡Run：AI以取得更多資訊。</block>
  <block id="f797637684ff1290d12e5495dac050a6" category="inline-link-macro">下一步：第4.8節的測試詳細資料</block>
  <block id="bbe251d46ac2a6899a2a4d5d0e331a43" category="paragraph"><block ref="bbe251d46ac2a6899a2a4d5d0e331a43" category="inline-link-macro-rx"></block></block>
  <block id="9c08a0abcced906f3225e86f61dd598c" category="paragraph"><block ref="9c08a0abcced906f3225e86f61dd598c" category="inline-link-macro-rx"></block></block>
  <block id="c5648cc9e6e76ab4aa041d71661d0288" category="list-text">3D互動示範</block>
  <block id="26e071d5769be8e940617a0c8dd5c22d" category="inline-link">www.netapp.com/ai</block>
  <block id="9e22db1b830d668e86d5dc1b5c204555" category="paragraph"><block ref="9e22db1b830d668e86d5dc1b5c204555" category="inline-link-rx"></block></block>
  <block id="1fa584a3d1190f1a7fdded0c91412cac" category="list-text">直接與NetApp AI專家聯絡</block>
  <block id="91fc02253adb6a9eea2156b684aa70f5" category="inline-link"><block ref="91fc02253adb6a9eea2156b684aa70f5" category="inline-link-rx"></block></block>
  <block id="488d7301e5d1a52040c33186d7e11657" category="paragraph"><block ref="488d7301e5d1a52040c33186d7e11657" category="inline-link-rx"></block></block>
  <block id="787dd83fbbc162f0279e320ada1f7c0b" category="list-text">採用NetApp解決方案簡介的NVDIA基礎命令平台</block>
  <block id="5541299dd0999c42fcd24fd754001e38" category="inline-link"><block ref="5541299dd0999c42fcd24fd754001e38" category="inline-link-rx"></block></block>
  <block id="ac527e3c2b2d8a080840aa28c13b127b" category="paragraph"><block ref="ac527e3c2b2d8a080840aa28c13b127b" category="inline-link-rx"></block></block>
  <block id="465b9c508fba1d27d188eb21e0655293" category="list-text">適用於AI的NetApp 10大理由資訊圖表</block>
  <block id="75048e22ffd1c45ce07e6cae3170780a" category="inline-link"><block ref="75048e22ffd1c45ce07e6cae3170780a" category="inline-link-rx"></block></block>
  <block id="e2435a6f01dee5a11f6cd698a292183d" category="paragraph"><block ref="e2435a6f01dee5a11f6cd698a292183d" category="inline-link-rx"></block></block>
  <block id="66d4373905c5c7c0a3f51e5480d443b2" category="list-text">醫療業AI：深入學習、識別肺CT掃描中的COVID-19病發白皮書</block>
  <block id="2fb5802df8b60fe09d232df217cc9ba6" category="inline-link"><block ref="2fb5802df8b60fe09d232df217cc9ba6" category="inline-link-rx"></block></block>
  <block id="d1e9d43080e6c2364ee86ac930ae1341" category="paragraph"><block ref="d1e9d43080e6c2364ee86ac930ae1341" category="inline-link-rx"></block></block>
  <block id="2ece031fbb30496ba2ec244a07557107" category="list-text">醫療業AI：監控醫療照護設定中的面板使用情況白皮書</block>
  <block id="aa895997d9bc7e84d90779885cb936b7" category="inline-link"><block ref="aa895997d9bc7e84d90779885cb936b7" category="inline-link-rx"></block></block>
  <block id="4ac3d75f4e132824f0fe3a418d42a9f9" category="paragraph"><block ref="4ac3d75f4e132824f0fe3a418d42a9f9" category="inline-link-rx"></block></block>
  <block id="ff11da2c36a9883c6eb658395f3de353" category="list-text">醫療業AI：診斷影像技術報告</block>
  <block id="41575d740e0d837694e2fa66ce618124" category="inline-link"><block ref="41575d740e0d837694e2fa66ce618124" category="inline-link-rx"></block></block>
  <block id="61a15cd6b61d637fb54ae6ae99ae39d5" category="paragraph"><block ref="61a15cd6b61d637fb54ae6ae99ae39d5" category="inline-link-rx"></block></block>
  <block id="1527888e6b729290296c51cf9c3aeeec" category="list-text">AI for零售業：NetApp對話AI使用NVIDIA Riva</block>
  <block id="17a311ea95071308f8bb7a7ce3b073ee" category="inline-link"><block ref="17a311ea95071308f8bb7a7ce3b073ee" category="inline-link-rx"></block></block>
  <block id="dc1f6c62d8de3b68ec946b66d053f5a7" category="paragraph"><block ref="dc1f6c62d8de3b68ec946b66d053f5a7" category="inline-link-rx"></block></block>
  <block id="2281741ceb773b1efc91b48b4e5e04fe" category="list-text">NetApp ONTAP 解決方案簡介</block>
  <block id="4070d4ea40d3cf7f99e4e941ca73d200" category="inline-link"><block ref="4070d4ea40d3cf7f99e4e941ca73d200" category="inline-link-rx"></block></block>
  <block id="a32cc63ad53dc74caf680b96a921ad3b" category="paragraph"><block ref="a32cc63ad53dc74caf680b96a921ad3b" category="inline-link-rx"></block></block>
  <block id="c6b4ec978259e83d537f6a179912448a" category="list-text">NetApp DataOps Toolkit解決方案簡介</block>
  <block id="c50b3ec30c711b6233dd7753f12165d4" category="inline-link"><block ref="c50b3ec30c711b6233dd7753f12165d4" category="inline-link-rx"></block></block>
  <block id="a045bf4eb32fbbf6c351d4c3cbd5932c" category="paragraph"><block ref="a045bf4eb32fbbf6c351d4c3cbd5932c" category="inline-link-rx"></block></block>
  <block id="9399af78c2a9b2a197612e42bf8b8f79" category="list-text">NetApp AI Control Plane解決方案簡介</block>
  <block id="c771257beb97f479ebb6d342d91b61bd" category="inline-link"><block ref="c771257beb97f479ebb6d342d91b61bd" category="inline-link-rx"></block></block>
  <block id="ce6060d7bc79a57fdb337f6364f0e8a9" category="paragraph"><block ref="ce6060d7bc79a57fdb337f6364f0e8a9" category="inline-link-rx"></block></block>
  <block id="b6e1af8dc83073dfa46f061507b15586" category="list-text">利用資料磁碟AI電子書改變產業</block>
  <block id="795a425d6438d3f619ddd3a7ac1ff64c" category="inline-link"><block ref="795a425d6438d3f619ddd3a7ac1ff64c" category="inline-link-rx"></block></block>
  <block id="195010aa6331d4b94de36f6aa5cf3fc7" category="paragraph"><block ref="195010aa6331d4b94de36f6aa5cf3fc7" category="inline-link-rx"></block></block>
  <block id="4dcaafba5ac7511b65c0f3a3688f8d81" category="list-text">NetApp EF系列AI解決方案簡介</block>
  <block id="385bae1ac9580238d4ef22dad99878c3" category="inline-link"><block ref="385bae1ac9580238d4ef22dad99878c3" category="inline-link-rx"></block></block>
  <block id="5bbcd3b785c7ecb740b1302ea68fb4ff" category="paragraph"><block ref="5bbcd3b785c7ecb740b1302ea68fb4ff" category="inline-link-rx"></block></block>
  <block id="e72de1f0850154df8bf93fae76b2276d" category="list-text">適用於AI推斷解決方案簡介的NetApp AI和Lenovo ThinkSystem</block>
  <block id="883d1d69b62bc20ea26446649b6c95b0" category="inline-link"><block ref="883d1d69b62bc20ea26446649b6c95b0" category="inline-link-rx"></block></block>
  <block id="74686a12110c0c39ad22ac2252bcb1a1" category="paragraph"><block ref="74686a12110c0c39ad22ac2252bcb1a1" category="inline-link-rx"></block></block>
  <block id="8954bee2812529847e7f3108185fc57d" category="list-text">適用於企業AI和ML解決方案簡介的NetApp AI和Lenovo ThinkSystem</block>
  <block id="f877ccffca68b901c2c61513c04dbf37" category="inline-link"><block ref="f877ccffca68b901c2c61513c04dbf37" category="inline-link-rx"></block></block>
  <block id="214ebd5c8513ce31087d4bf0cd12af76" category="paragraph"><block ref="214ebd5c8513ce31087d4bf0cd12af76" category="inline-link-rx"></block></block>
  <block id="7cbca96fc14ecadf4054303e98a81787" category="list-text">NetApp與NVIDIA–重新定義AI影片的可能性</block>
  <block id="cb9dfd830902f3481279d486cd9ddd0d" category="inline-link"><block ref="cb9dfd830902f3481279d486cd9ddd0d" category="inline-link-rx"></block></block>
  <block id="c7531fbb829ae07f04aab76de6fad46c" category="paragraph"><block ref="c7531fbb829ae07f04aab76de6fad46c" category="inline-link-rx"></block></block>
  <block id="1e48409a293254dced52407be3dbb722" category="doc">使用JARVIS、Cloud Sync VMware及Nemo建置虛擬助理</block>
  <block id="68dc442228015e015ca6272edb5994e4" category="inline-link-macro">下一步：使用JARVIS、Cloud Sync VMware及Nemo Overview建立虛擬助理</block>
  <block id="f308b9afc8e29196ebb4fe535e29fc51" category="paragraph"><block ref="f308b9afc8e29196ebb4fe535e29fc51" category="inline-link-macro-rx"></block></block>
  <block id="8537de5688b6b855ec8b5465eca4e8f6" category="list-text">NVIDIA DGX Station、V100 GPU、GPU Cloud</block>
  <block id="e4c64a7040f5ee4721b3880f35ae02c8" category="inline-link"><block ref="e4c64a7040f5ee4721b3880f35ae02c8" category="inline-link-rx"></block></block>
  <block id="432a0462f3a215c89d6067d01ac9fee8" category="list-text">NVIDIA DGX工作站<block ref="00e84bc2760804fd15a292583676639b" category="inline-link-rx"></block></block>
  <block id="a8135dcfdfd9c1074b55895b8d51f9be" category="list-text">NVIDIA V100 Tensor Core GPU<block ref="a724832176ce84a9d4be5c34e44891d3" category="inline-link-rx"></block></block>
  <block id="f3e44b157fa7ead37042e8a6f3b14071" category="list-text">NVIDIA NGC<block ref="839d9b8469a8d9554891a7515a2b9be7" category="inline-link-rx"></block></block>
  <block id="944c1fe2317541350506cecb6131b857" category="inline-link"><block ref="944c1fe2317541350506cecb6131b857" category="inline-link-rx"></block></block>
  <block id="d3ceb6166da1ada512f22bc7832ec047" category="list-text">NVIDIA JARVIS<block ref="34ae4389dc7afcada801d63c08e322b9" category="inline-link-rx"></block></block>
  <block id="21ce987b6ba4d344f1427dc72d497669" category="inline-link"><block ref="21ce987b6ba4d344f1427dc72d497669" category="inline-link-rx"></block></block>
  <block id="7bf7a8db8c3809766aa2579c2eadf37d" category="list-text">NVIDIA JARVIS Early Access<block ref="2daee9604c6a07f74e6776847d2ee61e" category="inline-link-rx"></block></block>
  <block id="e58709fef6e6eb28a11c06d27c5d6aa7" category="inline-link"><block ref="e58709fef6e6eb28a11c06d27c5d6aa7" category="inline-link-rx"></block></block>
  <block id="852c7bf0a8f3b30a5a001dbf642dbebe" category="list-text">NVIDIA Nemo<block ref="fa9e246f0ef36a285adacc70507ae974" category="inline-link-rx"></block></block>
  <block id="299a4717590cda2cfe1db321802b4995" category="inline-link"><block ref="299a4717590cda2cfe1db321802b4995" category="inline-link-rx"></block></block>
  <block id="dfc2ce4fd02d20052bebaa2e6b8cd029" category="list-text">開發人員指南<block ref="9940ba67713949ce4f2fc05d3a37bd8c" category="inline-link-rx"></block></block>
  <block id="9a84c14d2692222552174943486e7136" category="inline-link"><block ref="9a84c14d2692222552174943486e7136" category="inline-link-rx"></block></block>
  <block id="5467c9d1c07a7d1786936650b3c2d52a" category="list-text">NetApp AFF A系列產品型錄<block ref="0d9d8991a05834f0e52a99b37ce360b8" category="inline-link-rx"></block></block>
  <block id="6bb399f406fc5ac4150ad21c6aa05ab2" category="list-text">適用於All Flash FAS 的NetApp Flash優勢<block ref="72cf25e9f1e13167cd0dde6f285552ea" category="inline-link-rx"></block></block>
  <block id="9415aef2732728cc097fbbc9ab96b2fe" category="list-text">資訊庫ONTAP<block ref="8ac8a4cdf844ed67e9ec6ddc4b3e95ad" category="inline-link-rx"></block></block>
  <block id="d106dc348953acc0500f03a25379282e" category="list-text">NetApp ONTAP FlexGroup 《銷售區》技術報告<block ref="7a26d62dac2be507dcc3e5b9da0ed765" category="inline-link-rx"></block></block>
  <block id="b141781260425e95eee945147e2f0d99" category="inline-link"><block ref="b141781260425e95eee945147e2f0d99" category="inline-link-rx"></block></block>
  <block id="05dbc5885d3bec70d2317a4b51526d96" category="list-text">《採用DGX-1與Cisco Networking設計指南的AI》ONTAP<block ref="9fbee18519e76388280bc1f8e3fd6c7e" category="inline-link-rx"></block></block>
  <block id="921f17c41dea89b0a711f380e9864e09" category="inline-link"><block ref="921f17c41dea89b0a711f380e9864e09" category="inline-link-rx"></block></block>
  <block id="af5797305db370f4f59d77bf7c73160b" category="list-text">《採用DGX-1和Cisco Networking部署指南的AI》ONTAP<block ref="aef3d0752148699921f8a251537d5ff3" category="inline-link-rx"></block></block>
  <block id="f2345b2674d3976c091d4af042c36a8f" category="inline-link"><block ref="f2345b2674d3976c091d4af042c36a8f" category="inline-link-rx"></block></block>
  <block id="f63c45f352478237d0d0fe7c5a26d6bf" category="list-text">《採用DGX-1和Mellanox網路設計指南的AI》ONTAP<block ref="459df3a4bfb1f89f6920196001257745" category="inline-link-rx"></block></block>
  <block id="b38db7c217c396412f601b87dfc58a8c" category="inline-link"><block ref="b38db7c217c396412f601b87dfc58a8c" category="inline-link-rx"></block></block>
  <block id="da8009e462fd2ec5eeb41b4cf3721f7a" category="list-text">《採用DGX-2設計指南的AI》ONTAP<block ref="86d70269673ee41c37a2673f7d3655ce" category="inline-link-rx"></block></block>
  <block id="58415f353579ec62f4e5d8047761a3cc" category="summary">AI導向的自動化與邊緣運算是一項領先業界的方法、可協助企業組織實現數位化轉型、並將作業效率與安全性最大化。利用邊緣運算技術、資料處理速度更快、因為資料中心不需要往返資料中心。因此、將資料來回傳送至資料中心或雲端的相關成本會降低。</block>
  <block id="1490b4526090ba1052ae7d989d2f44df" category="inline-link-macro">先前版本：架構規模調整選項。</block>
  <block id="9d58af74dd11a7bf0a907e66af94ae03" category="paragraph"><block ref="9d58af74dd11a7bf0a907e66af94ae03" category="inline-link-macro-rx"></block></block>
  <block id="7d7c5045abef00692470c8d5ed1aeebd" category="paragraph">AI導向的自動化與邊緣運算是一項領先業界的方法、可協助企業組織實現數位化轉型、並將作業效率與安全性最大化。利用邊緣運算技術、資料處理速度更快、因為資料中心不需要往返資料中心。因此、將資料來回傳送至資料中心或雲端的相關成本會降低。如果企業必須使用部署在邊緣的AI推斷模型、以近乎即時的方式做出決策、則降低延遲並加快速度將會更為有利。</block>
  <block id="691e8c5d8b13259848ef2e5515d14ca9" category="paragraph">NetApp儲存系統提供與本機SSD儲存設備相同或更好的效能、並為資料科學家、資料工程師、AI/ML開發人員、企業或IT決策者提供下列效益：</block>
  <block id="59ceee4c2b9743d6e9aae43f1e9ee547" category="list-text">輕鬆在AI系統、分析和其他關鍵業務系統之間共享資料。這種資料共享可降低基礎架構的負荷、改善效能、並簡化整個企業的資料管理。</block>
  <block id="b9f30f0e1030c74a0db7ca1a1e82a22f" category="list-text">獨立擴充的運算與儲存設備、可將成本降至最低、並改善資源使用率。</block>
  <block id="40454c2a63608aacf0433b6a47f388f4" category="list-text">利用整合式Snapshot複本與複製、簡化開發與部署工作流程、提供即時且節省空間的使用者工作區、整合式版本控制、以及自動化部署。</block>
  <block id="0543f71645ff9108a860d92965cc1383" category="list-text">企業級的資料保護功能、可實現災難恢復與營運不中斷。本文所述的NetApp與Lenovo解決方案是靈活的橫向擴充架構、非常適合在邊緣部署企業級AI推斷。</block>
  <block id="68c8080de8c25b2c95e86546db2c34f4" category="list-text">J.法爾坎格、資深聯想HPC與AI解決方案經理</block>
  <block id="a1be3af64bad65325413de79cbdd38ec" category="list-text">NetApp技術行銷工程師Dave Arettette</block>
  <block id="ab7eb4cf2e6900db95523411e2e2d968" category="list-text">NetApp E系列AI解決方案技術主管Joey Parnell</block>
  <block id="7506341ffff969b3db4120a09a3cd873" category="list-text">NetApp品質保證工程師Cody Harman</block>
  <block id="345245c83d2b2c4c2a5eb9f2887da627" category="paragraph">若要深入瞭解本文件所述資訊、請參閱下列文件和/或網站：</block>
  <block id="16d9e623379df2a050a5042b643bf4fc" category="list-text">NetApp AFF A系列陣列產品頁面</block>
  <block id="2eea2276b1fb61cd770f311f77c0f440" category="inline-link"><block ref="2eea2276b1fb61cd770f311f77c0f440" category="inline-link-rx"></block></block>
  <block id="3ac5561d8de2087fdd9ac49ace880bff" category="paragraph"><block ref="3ac5561d8de2087fdd9ac49ace880bff" category="inline-link-rx"></block></block>
  <block id="ac2e4973250b614c4ffed16837be9bda" category="list-text">NetApp ONTAP 產品資料管理軟體：ONTAP 9資訊庫</block>
  <block id="8ac8a4cdf844ed67e9ec6ddc4b3e95ad" category="paragraph"><block ref="8ac8a4cdf844ed67e9ec6ddc4b3e95ad" category="inline-link-rx"></block></block>
  <block id="5dbac8b4dac620b04fd11b54388ac506" category="list-text">TR-4727：NetApp EF系列簡介</block>
  <block id="3df74183de4e18a002d0a9dadd2b4b41" category="inline-link"><block ref="3df74183de4e18a002d0a9dadd2b4b41" category="inline-link-rx"></block></block>
  <block id="5e60359f54f57375f6417990b408bc8d" category="paragraph"><block ref="5e60359f54f57375f6417990b408bc8d" category="inline-link-rx"></block></block>
  <block id="bf8eb67f3476640d74487d7395b166a8" category="list-text">NetApp E系列SANtricity 產品介紹</block>
  <block id="01e4cb0e0f13f033fd419d3abf905d34" category="inline-link"><block ref="01e4cb0e0f13f033fd419d3abf905d34" category="inline-link-rx"></block></block>
  <block id="62cabab367af4d0d4f74456d673e91e7" category="paragraph"><block ref="62cabab367af4d0d4f74456d673e91e7" category="inline-link-rx"></block></block>
  <block id="f11b61c13d771c4795415471f8362f8c" category="list-text">NetApp容器持續儲存設備：NetApp Trident</block>
  <block id="e582bd0f584c041fb70164ea1502666b" category="paragraph"><block ref="e582bd0f584c041fb70164ea1502666b" category="inline-link-rx"></block></block>
  <block id="856500f909a4984692886f9549398b67" category="inline-link"><block ref="856500f909a4984692886f9549398b67" category="inline-link-rx"></block></block>
  <block id="fe6e33e3be237f2a488d04432ad4b35f" category="list-text"><block ref="fe6e33e3be237f2a488d04432ad4b35f" category="inline-link-rx"></block></block>
  <block id="9083657cbd1d0fb49ada01ab2e2cc193" category="inline-link"><block ref="9083657cbd1d0fb49ada01ab2e2cc193" category="inline-link-rx"></block></block>
  <block id="3de4b3f21621e41c0738a82d4e694114" category="list-text"><block ref="3de4b3f21621e41c0738a82d4e694114" category="inline-link-rx"></block></block>
  <block id="1f07318e5a4df96a96fc92d83bbe5d70" category="inline-link"><block ref="1f07318e5a4df96a96fc92d83bbe5d70" category="inline-link-rx"></block></block>
  <block id="25b3dca46bdabc4612ba4ba5dac0f9db" category="list-text"><block ref="25b3dca46bdabc4612ba4ba5dac0f9db" category="inline-link-rx"></block></block>
  <block id="b658c024dad07cbf1d8523e4c3ba8d21" category="inline-link"><block ref="b658c024dad07cbf1d8523e4c3ba8d21" category="inline-link-rx"></block></block>
  <block id="fdad8301fde8271edff994d643d18865" category="paragraph"><block ref="fdad8301fde8271edff994d643d18865" category="inline-link-rx"></block></block>
  <block id="7749687216549469e9a78db087fbb44b" category="list-text">TensorFlow基準測試</block>
  <block id="7c8f9b5afa9dfab5f8f375d1b977b046" category="inline-link"><block ref="7c8f9b5afa9dfab5f8f375d1b977b046" category="inline-link-rx"></block></block>
  <block id="be1b7087c9993d320070b1e676c832f9" category="paragraph"><block ref="be1b7087c9993d320070b1e676c832f9" category="inline-link-rx"></block></block>
  <block id="e15fea5c6bb7e2f7d8e055fbb773fc11" category="inline-link"><block ref="e15fea5c6bb7e2f7d8e055fbb773fc11" category="inline-link-rx"></block></block>
  <block id="b1a88588a48ee9492506277f8561b392" category="paragraph"><block ref="b1a88588a48ee9492506277f8561b392" category="inline-link-rx"></block></block>
  <block id="f9732caa47051768fc11729f5535891b" category="list-text">Lenovo ThinkSystem DM5100F統一化Flash儲存陣列</block>
  <block id="a031d2e6ff4219cf38830b0db9d366b1" category="inline-link"><block ref="a031d2e6ff4219cf38830b0db9d366b1" category="inline-link-rx"></block></block>
  <block id="f8287e56c1a5982e49b792d1116aa372" category="paragraph"><block ref="f8287e56c1a5982e49b792d1116aa372" category="inline-link-rx"></block></block>
  <block id="5e79a20254a28ffdb604f6cba5216c75" category="cell">2021年3月</block>
  <block id="71b3f2dc39aa770e58cd3fad98b76c37" category="cell">已更新EF和MLPerf推斷v1.1</block>
  <block id="e40030fd64108859627c7a126638f0e6" category="list-text">NetApp AI控制面板：</block>
  <block id="63178726ae501745b3914ec3aa50969e" category="list-text">NetApp AI Control Plane技術報告</block>
  <block id="3ce56c027572d1908d65b63056be024f" category="inline-link"><block ref="3ce56c027572d1908d65b63056be024f" category="inline-link-rx"></block></block>
  <block id="445a4d3400bdde832e8898d8349696c0" category="paragraph"><block ref="445a4d3400bdde832e8898d8349696c0" category="inline-link-rx"></block></block>
  <block id="9a8ec45d909b996af4c042e44b5c5f29" category="list-text">TensorFlow：適用於所有人的開放原始碼機器學習架構<block ref="db3465122fd83ad1dc4cff7e67d794df" category="inline-link-rx"></block></block>
  <block id="60ea9e9ecbf839c413c5e977002eabf4" category="paragraph"><block ref="60ea9e9ecbf839c413c5e977002eabf4" category="inline-link-rx"></block></block>
  <block id="3bc4d41311862190a8fd0d6c8f661971" category="list-text">Iguazio資料科學平台</block>
  <block id="737d4d1e81ff236001338f46d1623aaa" category="list-text">Iguazio資料科學平台文件</block>
  <block id="7911479a3e8e121b0dc1c551f56fa6ca" category="inline-link"><block ref="7911479a3e8e121b0dc1c551f56fa6ca" category="inline-link-rx"></block></block>
  <block id="bcdc0ac9ae93bcfb8ae21a0a8713528e" category="paragraph"><block ref="bcdc0ac9ae93bcfb8ae21a0a8713528e" category="inline-link-rx"></block></block>
  <block id="4f0f362becf6baf6e08f490115d76d98" category="list-text">Nuclio無伺服器功能</block>
  <block id="89aa84cdf5db1bece2993801c78914de" category="inline-link"><block ref="89aa84cdf5db1bece2993801c78914de" category="inline-link-rx"></block></block>
  <block id="93eac034cc1c1aaedaf6ed41063825ee" category="paragraph"><block ref="93eac034cc1c1aaedaf6ed41063825ee" category="inline-link-rx"></block></block>
  <block id="b5266d58998338015b5e02ee7e84a833" category="list-text">MLRun開放源代碼管道協調架構</block>
  <block id="b96a861dccea968edc0b7a9ff96203e9" category="inline-link"><block ref="b96a861dccea968edc0b7a9ff96203e9" category="inline-link-rx"></block></block>
  <block id="70a8a001358e056f435199da7e17e427" category="paragraph"><block ref="70a8a001358e056f435199da7e17e427" category="inline-link-rx"></block></block>
  <block id="b3f90aaddad391963c2090db8f1b727e" category="list-text">NVIDIA DGX-1系統</block>
  <block id="af828c56c03364ebbde4c582adeb8de3" category="paragraph"><block ref="af828c56c03364ebbde4c582adeb8de3" category="inline-link-rx"></block></block>
  <block id="d6a377b23d0f4dbe3f5bf91d5f6abf74" category="list-text">NVIDIA Tesla V100 Tensor核心GPU</block>
  <block id="a724832176ce84a9d4be5c34e44891d3" category="paragraph"><block ref="a724832176ce84a9d4be5c34e44891d3" category="inline-link-rx"></block></block>
  <block id="0df7621d860637a2e6e462c56322edab" category="list-text">NVIDIA GPU Cloud</block>
  <block id="839d9b8469a8d9554891a7515a2b9be7" category="paragraph"><block ref="839d9b8469a8d9554891a7515a2b9be7" category="inline-link-rx"></block></block>
  <block id="0d9d8991a05834f0e52a99b37ce360b8" category="paragraph"><block ref="0d9d8991a05834f0e52a99b37ce360b8" category="inline-link-rx"></block></block>
  <block id="5f662f6dc276dd5a2a83440d0fe63e9b" category="list-text">NetApp Flash Advantage for AFF NetApp Flash的優勢</block>
  <block id="72cf25e9f1e13167cd0dde6f285552ea" category="paragraph"><block ref="72cf25e9f1e13167cd0dde6f285552ea" category="inline-link-rx"></block></block>
  <block id="a5bc7bee9fd33d829e41934aedd6404c" category="inline-link"><block ref="a5bc7bee9fd33d829e41934aedd6404c" category="inline-link-rx"></block></block>
  <block id="a5d59e86f09bafae4247836d5135b6a3" category="paragraph"><block ref="a5d59e86f09bafae4247836d5135b6a3" category="inline-link-rx"></block></block>
  <block id="7a26d62dac2be507dcc3e5b9da0ed765" category="paragraph"><block ref="7a26d62dac2be507dcc3e5b9da0ed765" category="inline-link-rx"></block></block>
  <block id="47c991332229e0cbfe947beaa428ea61" category="list-text">《採用DGX-1與Cisco Networking設計指南的AI》ONTAP</block>
  <block id="9fbee18519e76388280bc1f8e3fd6c7e" category="paragraph"><block ref="9fbee18519e76388280bc1f8e3fd6c7e" category="inline-link-rx"></block></block>
  <block id="0be3b0697a0ffdfe9065df24ec1d3e16" category="list-text">《採用DGX-1和Cisco Networking部署指南的AI》ONTAP</block>
  <block id="aef3d0752148699921f8a251537d5ff3" category="paragraph"><block ref="aef3d0752148699921f8a251537d5ff3" category="inline-link-rx"></block></block>
  <block id="205a4f16a51f3acd6dbba76dbeb10818" category="list-text">《採用DGX-1和Mellanox網路設計指南的AI》ONTAP</block>
  <block id="07dc94af34e2f98bbc8328d8ef9ea1e0" category="inline-link"><block ref="07dc94af34e2f98bbc8328d8ef9ea1e0" category="inline-link-rx"></block></block>
  <block id="0a9e1455c4a5a9965867a5efd6b8cc9b" category="paragraph"><block ref="0a9e1455c4a5a9965867a5efd6b8cc9b" category="inline-link-rx"></block></block>
  <block id="913c29df09bcb5715ed7a48c12f3a0da" category="list-text">AI網路ONTAP</block>
  <block id="ae2703e9b1dff6da048c786142c2e7db" category="list-text">Cisco Nexus 3232C系列交換器</block>
  <block id="96eb8aa0e86d101fdf87284d7d6f1bc7" category="paragraph"><block ref="96eb8aa0e86d101fdf87284d7d6f1bc7" category="inline-link-rx"></block></block>
  <block id="8a27a2062df55e0aa73964ea8ec2ab55" category="list-text">Mellanox橫向擴充SN2000乙太網路交換器系列</block>
  <block id="87a849c2f3c412a491f97674d5e27ed1" category="inline-link"><block ref="fd77c1cd25d650110f7047fa02f8327d" category="inline-link-rx"></block></block>
  <block id="a6c16c720941d75800533dedd69929cc" category="paragraph"><block ref="ad90d1952f7d0f85370461937e4484b7" category="inline-link-rx"></block></block>
  <block id="5328ed3b5c6e4726166e04c16c2e5581" category="summary">本節說明如何在大作中載入Criteo Click日誌第15天、並訓練sci套 件學習隨機樹系模式。在此範例中、我們使用dAsk couDF執行DataFrame載入、並在dask cuML中訓練隨機樹系模型。</block>
  <block id="a0432b74d7d4d2ad68e93e947654c865" category="doc">在dask中載入第15天、並訓練dask cuML隨機樹系模型</block>
  <block id="7c784438423fe1bee9ab4f91a8fd7559" category="inline-link-macro">上一篇：Load Criteo按一下「日誌第15天、在大作中記錄」、然後訓練scifack-記憶 隨機樹系模式。</block>
  <block id="5d5b75a952d74a7d4520c521956b9d7e" category="paragraph"><block ref="5d5b75a952d74a7d4520c521956b9d7e" category="inline-link-macro-rx"></block></block>
  <block id="78dc33cd9d496e2466a0c1e2ba09ab3f" category="inline-link-macro">「訓練時間比較」。</block>
  <block id="4a2764258721dd882c9ec28454963797" category="paragraph">以類似上一節的方式、在Pandas中載入Criteo按一下「日誌第15天」、然後訓練scier-記憶 隨機樹系模式。在此範例中、我們使用dAsk couDF執行DataFrame載入、並在dask cuML中訓練隨機樹系模型。我們比較了本節訓練時間與規模的差異 <block ref="8d6c01ed5b9db5301efeb6183c858b76" category="inline-link-macro-rx"></block></block>
  <block id="356d8553da3749641cb731d318c85b0c" category="section-title">criteo_dASk_RF.ipynb</block>
  <block id="2f4f1a139be92d2b17647025ff8630ab" category="paragraph">本筆記型電腦會匯入「umpy」、「累計」及必要的「dask」程式庫、如下列範例所示：</block>
  <block id="7b871613dade772ae668d694698383bf" category="paragraph">啟動dask Client()。</block>
  <block id="3e9277d3d0f0519292426b933e52f232" category="paragraph">如果您的叢集設定正確、您可以看到工作節點的狀態。</block>
  <block id="d6b257c355ced1525e4967c96b62b83e" category="paragraph">在我們的高層叢集中、會顯示下列狀態：</block>
  <block id="d94a77691c281e8bf418635fea6ca580" category="paragraph"><block ref="d94a77691c281e8bf418635fea6ca580" category="inline-image-macro-rx" type="image"></block></block>
  <block id="073b2194006d8da73b5f74f3d7224d76" category="paragraph">請注意、dask採用的是閒置執行模式：dask並不是立即執行處理程式碼、而是建立直接執行的Acyclic圖表（DAG）。DAG包含一組工作及其互動、每位員工都需要執行這些工作。此配置表示在使用者指示dask以某種方式執行工作之前、工作不會執行。有了dask、您有三個主要選項：</block>
  <block id="a40049c3d7270ce955d2023f8e2015dc" category="list-text">*在DataFrame上呼叫compacter()。*此呼叫會處理所有分割區、然後將結果傳回排程器、以供最終集合併轉換至cuDF DataFrame。除非排程器節點的記憶體不足、否則此選項應謹慎使用、且僅用於大幅減少的結果。</block>
  <block id="30e170dbe1dd223491e1a822605da52d" category="list-text">* DataFrame上的呼叫持續（）。*此呼叫會執行圖表、但它不會將結果傳回排程器節點、而是將結果保留在整個叢集的記憶體中、讓使用者無需重新執行相同的處理、即可在管線中重複使用這些中繼結果。</block>
  <block id="ca013764f3f6faeab137d2d529dba598" category="list-text">* DataFrame上的呼叫標頭（）。*就像cuDF一樣、此呼叫會傳回10筆記錄給排程器節點。此選項可用來快速檢查DataFrame是否包含所需的輸出格式、或記錄本身是否合理、視處理和計算而定。</block>
  <block id="7ac60f98a199ceae63010c7802a9aefa" category="paragraph">因此、除非使用者撥打上述任一動作、否則工作人員會閒置等待排程器啟動處理。這種閒置執行模式在Apache Spark等現代化平行與分散式運算架構中相當常見。</block>
  <block id="d887d6a29f39f14cec0f83c5b02c42f8" category="paragraph">以下段落使用dask cuML來訓練隨機樹系模型、以進行分散式GPU加速運算、並計算模型預測準確度。</block>
  <block id="de76ff3258bd3001f89804efae30da38" category="inline-link-macro">下一步：使用原生工作串流儀表板監控dask。</block>
  <block id="5db30f2a693de098d03dec622875beec" category="paragraph"><block ref="5db30f2a693de098d03dec622875beec" category="inline-link-macro-rx"></block></block>
  <block id="c755c33dca37a8aaffbf190bdf3f5fef" category="paragraph">此解決方案是以一AFF 部NetApp Efora800系統、兩部DGX-1伺服器、以及兩部Cisco Nexus 3232C 100Gbe-switches來實作。每部DGX-1伺服器均連接至Nexus交換器、並具有四個100GbE連線、可透過融合式乙太網路（RoCE）使用遠端直接記憶體存取（RDMA）進行GPU間通訊。NFS儲存存取的傳統IP通訊也會發生在這些連結上。每個儲存控制器都使用四個100GbE連結連接至網路交換器。下圖顯示ONTAP 本技術報告中針對所有測試案例所使用的AI解決方案架構。</block>
  <block id="782c9fdc3f29358987c2f5b99fe9e6b9" category="paragraph"><block ref="782c9fdc3f29358987c2f5b99fe9e6b9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b1b09355c9538fe149372d3728c98bb1" category="paragraph"><block ref="b1b09355c9538fe149372d3728c98bb1" category="inline-link-macro-rx"></block></block>
  <block id="86608a0b346f307c76f8ae00c9f6bcb9" category="summary">本報告說明如何快速複製資料命名空間。本課程說明如何定義及實作AI訓練工作流程、將近乎即時的資料建立與模型基準、以利追蹤及版本管理。同時也說明如何在站台和區域之間順暢複寫資料、並迅速配置Jupyter Notebook工作區、以便存取大量的資料集。</block>
  <block id="fffa1b56750a0334993c90d5adc9912a" category="doc">TR-4798：NetApp AI Control Plane</block>
  <block id="f0829d8f9d70b9de9de7beae86dc2129" category="paragraph">Mike Oglesby、NetApp</block>
  <block id="27114500e25aba7a27847b772d396575" category="paragraph">各種規模的公司和組織、以及許多產業、紛紛轉向人工智慧（AI）、機器學習（ML）和深度學習（DL）、以解決實際問題、提供創新產品和服務、並在競爭日益激烈的市場中獲得優勢。隨著企業組織增加AI、ML和DL的使用率、他們面臨許多挑戰、包括工作負載擴充性和資料可用度。本文件說明如何使用NetApp AI Control Plane解決這些挑戰、這套解決方案將NetApp資料管理功能與熱門的開放原始碼工具和架構配對。</block>
  <block id="98300151efa6f504dee4866e49cf2078" category="paragraph">本報告說明如何快速複製資料命名空間。同時也說明如何在站台和區域之間無縫複寫資料、以建立一致且統一的AI/ML/DL資料傳輸途徑。此外、它還會引導您完成AI、ML和DL訓練工作流程的定義與實作、這些工作流程整合了近乎即時的資料建立與模型基準、以利追蹤及版本管理。有了這套解決方案、您可以追蹤每個模型訓練回溯到用來訓練和/或驗證模型的確切資料集。最後、本文件說明如何快速配置Jupyter Notebook工作區、並存取大量資料集。</block>
  <block id="3a8a3991c7ef251983bda0fd052b9b10" category="inline-link-macro">TR-4890</block>
  <block id="3cbee33bcafaf0315e821a3331b91eb5" category="inline-link-macro">NetApp完全支援的平行檔案系統解決方案BeeGFS</block>
  <block id="63de7cb3a054a3754335c60a0c8ba878" category="paragraph">附註：針對需要共用存取相同資料集的大量GPU伺服器大規模的HPC形式分散式訓練、或是如果您需要/偏好平行檔案系統、請查看 <block ref="f82f3a4db7a848244fd5070f378c86fb" category="inline-link-macro-rx"></block>。本技術報告說明如何納入 <block ref="99c493838dffa23aa6d1149e33e3edf0" category="inline-link-macro-rx"></block> 作為NetApp AI Control Plane的一部分。此解決方案可從少數NVIDIA DGX A100系統擴充至完整的140節點SupermPOD。</block>
  <block id="9d50c340b35848862ab6ecbdadc401ed" category="paragraph">NetApp AI Control Plane的目標對象是資料科學家和資料工程師、ONTAP 因此需要最少的NetApp或NetApp®專業知識。有了這套解決方案、您就能使用簡單且熟悉的工具和介面來執行資料管理功能。如果您的環境中已經有NetApp儲存設備、您可以立即試用NetApp AI控制面板。如果您想試用解決方案、但還沒有NetApp儲存設備、請造訪<block ref="d72e38e0d1c5ca8869f2dd987734920b" category="inline-link-rx"></block>而且您可以在幾分鐘內使用雲端型NetApp儲存解決方案來啟動和執行。下圖提供解決方案的視覺化功能。</block>
  <block id="1f39acb56ba2a8669371819a64348c74" category="paragraph"><block ref="1f39acb56ba2a8669371819a64348c74" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6dd86945b1681007efc06cd445661f24" category="inline-link-macro">下一步：概念與元件。</block>
  <block id="742ed784bbf61aca3af793407a42b1f5" category="paragraph"><block ref="742ed784bbf61aca3af793407a42b1f5" category="inline-link-macro-rx"></block></block>
  <block id="67d45a00257105f21f4427f31e0c9fa1" category="summary">本技術報告提供設計指南、協助客戶在企業級的全球支援中心、使用NetApp資料管理技術搭配NVIDIA軟體架構、使用傳輸學習和對話式AI來執行情緒分析。</block>
  <block id="494027a6b5e9fc8bb84443d03b97a9b7" category="doc">TR-4910：客戶與NetApp AI溝通時的意見分析</block>
  <block id="22268d4ee4f32cda2f20141957aac961" category="paragraph">Rick Huang、Sathish Thyagarajan和David Arettette、NetApp Diego Sosa-COSA、SFL Scientific</block>
  <block id="0c450c48691e7a55b657f2cb7d18a0dd" category="paragraph">本技術報告提供設計指南、協助客戶在企業級的全球支援中心、使用NetApp資料管理技術搭配NVIDIA軟體架構、使用傳輸學習和對話式AI來執行情緒分析。此解決方案適用於任何想要從記錄的語音或文字檔案中獲得客戶洞見的產業、這些檔案代表聊天記錄、電子郵件及其他文字或音訊通訊。我們實作了端點對端點傳輸途徑、在採用NetApp雲端連線的All Flash儲存設備的GPU加速運算叢集上、展示自動語音辨識、即時情緒分析、以及深度學習的自然語言處理模式重新訓練功能。您可以訓練並最佳化大量最先進的語言模式、以便與全球支援中心一起快速進行推論、以創造卓越的客戶體驗、以及客觀的長期員工績效評估。</block>
  <block id="549c85ede9b39be6ef0eec80db7e098c" category="paragraph">情緒分析是自然語言處理（NLP）中的研究領域、可從文字中擷取正面、負面或中立的情緒。隨著越來越多人來與AI系統互動、對話式AI系統的整合程度已提升到接近全球的程度。情緒分析有多種使用案例、從判斷支援中心員工與來電者對話的績效、以及提供適當的自動回應、到根據公司代表與每季獲利拜訪對象之間的互動、預測公司的股票價格。此外、情緒分析可用來判斷客戶對於品牌所提供產品、服務或支援的看法。</block>
  <block id="5855677156d63ad3c93a7b5382098060" category="paragraph">此端點對端點解決方案使用NLP模型來執行高層級的意見分析、以實現支援中心的分析架構。錄音會以書面文字處理、並從對話中的每個句子擷取內容。彙總到儀表板的結果、可用來分析過去和即時的對話情緒。此解決方案可通用化為其他具有類似資料模式和輸出需求的解決方案。有了適當的資料、就能完成其他使用案例。例如、可以使用相同的端點對端點管道來分析公司的營收通話。其他形式的NLP分析、例如主題建模和命名實體辨識（NER）、也可能是因為管道的靈活特性。</block>
  <block id="ea4f750fd9fd89aeff4ca8d4162fb673" category="paragraph">NVIDIA Riva、NVIDIA TAO工具套件和NetApp DataOps工具套件共同實現了這些AI實作。NVIDIA的工具可用於使用預先建置的機型和管線、快速部署高效能的AI解決方案。NetApp DataOps Toolkit可簡化各種資料管理工作、加速開發。</block>
  <block id="7a7e97f7fcf4e2974d9a6feee2b056f8" category="section-title">客戶價值</block>
  <block id="3815ef30c3d6c6bdc3862cc9530d091e" category="paragraph">企業可以從員工評估工具和客戶反應工具中、看到文字、音訊和視訊對話的價值、以便進行意見分析。主管可從儀表板中所顯示的資訊獲益、以便根據對話的雙方、對員工和客戶滿意度進行評估。</block>
  <block id="da210ea22d819ca26070a3795f9a14d4" category="paragraph">此外、NetApp DataOps Toolkit還能管理客戶基礎架構內的資料版本設定與分配。如此一來、儀表板內的分析功能就會頻繁更新、而不會產生難以管理的資料儲存成本。</block>
  <block id="e5fcadecc4515efec9267b8ad57b28a5" category="inline-link-macro">下一步：使用案例。</block>
  <block id="93b7bce28e36a4eebec23c8fd4be315d" category="paragraph"><block ref="93b7bce28e36a4eebec23c8fd4be315d" category="inline-link-macro-rx"></block></block>
  <block id="dcfa517bb68d187d11e580baf2ecf588" category="summary">本頁說明如何在使用Helm的高峰上設定具有快速部署功能的dask。</block>
  <block id="fd22fb1626b987fa7b72743fa9698ec6" category="doc">使用Helm在高峰上設定dask、並部署快速部署</block>
  <block id="d74bb88aa6e4b1c540be703fda33923e" category="inline-link-macro">上一步：安裝Trident。</block>
  <block id="6020c64d2124fc0caa426123bfc5ba38" category="paragraph"><block ref="6020c64d2124fc0caa426123bfc5ba38" category="inline-link-macro-rx"></block></block>
  <block id="d81f517b6ad0d9702be81a8199a2246f" category="paragraph">若要使用Helm在高峰上設定具有快速部署功能的dask、請完成下列步驟：</block>
  <block id="549c839f491ec7099a895dd1cfea7534" category="list-text">建立命名空間、以安裝具有快速功能的dask。</block>
  <block id="74d041e68ac2a21a636ab14ae78f279d" category="list-text">建立一個PVc來儲存點選率資料集：</block>
  <block id="f5008aa6b27cdcaadbe27960383c8ff6" category="list-text">將下列Y反 洗錢內容儲存至檔案以建立永久保存。</block>
  <block id="67d464c36bcc48173c964a780459dbfd" category="list-text">將Yaml檔案套用至Kubernetes叢集。</block>
  <block id="be0ca76aafd92c18792693b8f05d01ce" category="inline-link"><block ref="be0ca76aafd92c18792693b8f05d01ce" category="inline-link-rx"></block></block>
  <block id="dc7ba914646428512334728c1f0ebd7d" category="list-text">複製「rapidsai git」儲存庫（<block ref="4f08c7c28c19e75f4d8607fc65d40067" category="inline-link-rx"></block>）。</block>
  <block id="50aef45ee39d958bc589f422bfb6d1bf" category="list-text">修改「values.yaml」、並加入先前為工作者和Jupyter工作區所建立的永久虛擬網路。</block>
  <block id="06867e85b141bb9d17f8ed6b4b685c46" category="list-text">轉到儲存庫的「rapidsai」目錄。</block>
  <block id="1a985ac965074fab9cfcee28ef954755" category="list-text">更新「values.yaml」檔案、然後使用PVc掛載磁碟區。</block>
  <block id="52076eb1fec3929530258335052328b3" category="list-text">移至儲存庫的主目錄、然後使用Helm在使用者節點上部署具有三個工作節點的dask。</block>
  <block id="bd4e74749939dd3c9f80ff138c18af53" category="inline-link-macro">下一步：Azure NetApp Files 不一樣的效能等級。</block>
  <block id="52d5e0adb69809963ce4f94104a75b5e" category="paragraph"><block ref="52d5e0adb69809963ce4f94104a75b5e" category="inline-link-macro-rx"></block></block>
  <block id="e9c44bbfd795a5d63d74c6a77afee70d" category="summary">法律聲明提供版權聲明、商標、專利等存取權限。</block>
  <block id="30d965eef5ba25c6b9998ae38270b43e" category="doc">法律聲明</block>
  <block id="6016a2b341113bf496b719905398ecd2" category="section-title">版權</block>
  <block id="09e95b77ffe81fe465a83ba99efad5c8" category="paragraph"><block ref="09e95b77ffe81fe465a83ba99efad5c8" category="inline-link-rx"></block></block>
  <block id="126a02652da6de02962cf1b654fd6376" category="section-title">商標</block>
  <block id="c4ce4761e466527d26b3e3d5ed1006fd" category="paragraph">NetApp 、 NetApp 標誌及 NetApp 商標頁面上列出的標章均為 NetApp 、 Inc. 的商標。其他公司與產品名稱可能為其各自所有者的商標。</block>
  <block id="7aa531e9acfe2b98e34d2c92fe9846ff" category="paragraph"><block ref="7aa531e9acfe2b98e34d2c92fe9846ff" category="inline-link-rx"></block></block>
  <block id="be89498d2f8a22ce47c02ba9795fe2af" category="section-title">專利</block>
  <block id="d0b19d36be2c5f16e9aef46c8a452d3d" category="paragraph">如需最新的 NetApp 擁有專利清單、請參閱：</block>
  <block id="d7f1fbcf9ce4e42f705add574d262b2c" category="paragraph"><block ref="d7f1fbcf9ce4e42f705add574d262b2c" category="inline-link-rx"></block></block>
  <block id="56c34c6410dd45c5cec44149ad0ce037" category="section-title">隱私權政策</block>
  <block id="fc248f74f5e36542f7f5627b8610e9a3" category="paragraph"><block ref="fc248f74f5e36542f7f5627b8610e9a3" category="inline-link-rx"></block></block>
  <block id="c0227cef6f07a8cd2ac72f2945b031aa" category="section-title">開放原始碼</block>
  <block id="9b73989307c1975dfa4d5e1581e4afe8" category="paragraph">通知檔案提供有關 NetApp 軟體所使用之協力廠商版權與授權的資訊。</block>
  <block id="33be49f7ebc56eb7d336a201f7ac0df6" category="inline-link-macro">SAP on Azure NetApp Files</block>
  <block id="e131204502a58630f2f72937238604c8" category="section-title">影片/示範</block>
  <block id="2b1dd692c0da980c4ec2ad9fd523c47d" category="inline-link-macro">SQL High Availability叢集Azure NetApp Files</block>
  <block id="9efcc0ad3c93b238cc0495e3c87b715f" category="inline-link-macro">利用FlexPod Ansible在支援的基礎上自動部署Oracle 19c RAC</block>
  <block id="92637d8d513510f7c1f5bfac6e1cce9b" category="summary">若要與NetApp ONTAP 支援儲存系統進行Trident整合、您必須建立後端、以便與儲存系統進行通訊。</block>
  <block id="cbaa3aa588b8aa5c85dca443c15a0195" category="doc">NetApp ONTAP 不適用於NFS組態</block>
  <block id="8e0bd613649f232fe1f718134898ea21" category="paragraph">若要與NetApp ONTAP 支援儲存系統進行Trident整合、您必須建立後端、以便與儲存系統進行通訊。</block>
  <block id="89441fb0b16307f49090afa2b479b9fa" category="list-text">下載的安裝歸檔文件中有「shame-INPUT」資料夾階層的範例後端檔案。對於ONTAP NetApp支援NFS的系統、請將「backender-ontap - nas.json」檔案複製到您的工作目錄、然後編輯檔案。</block>
  <block id="87f6ff6bf74013e1dfe6df49a1cf1986" category="list-text">編輯後端名稱、管理LIF、dataLIF、SVM、使用者名稱、 和密碼值。</block>
  <block id="f897eefba2c59919d6493db4825e2db2" category="admonition">最佳實務做法是將自訂的backendName值定義為storageDriverName和資料LIF的組合、以利NFS識別。</block>
  <block id="38ace6c607c7db13cd4cc319f9b0225b" category="list-text">在這個後端檔案就緒的情況下、執行下列命令來建立第一個後端。</block>
  <block id="d8f188eff4c16fa87dd87f51db847f73" category="list-text">建立後端之後、您必須接著建立儲存類別。就像後端一樣、範例輸入資料夾中也有可供編輯的儲存類別檔案範例。將其複製到工作目錄、並進行必要的編輯、以反映所建立的後端。</block>
  <block id="eb22c0d536e50f388da6dfd91ba4c0b6" category="list-text">唯一必須對此檔案進行的編輯、是從新建立的後端、將「backendType」值定義為儲存驅動程式名稱。另請注意名稱欄位值、此值必須在後續步驟中參考。</block>
  <block id="00d6947fd6a153943286b857dcd0f339" category="admonition">在此檔案中定義了一個名為「FSType」的選用欄位。此行可在NFS後端刪除。</block>
  <block id="7183f006fd74d941c838f003380f3f46" category="list-text">執行「oc"命令以建立儲存類別。</block>
  <block id="71cb54ab06aa16af27a0ec2157972648" category="list-text">建立儲存類別之後、您必須建立第一個持續磁碟區宣告（PVc）。還有一個「PVC-base.yaml」檔案範例、也可在範例輸入中執行此動作。</block>
  <block id="afc499f2f95809cedce5c8922067065f" category="list-text">唯一必須對此檔案進行的編輯、是確保「儲存類別名稱」欄位符合剛剛建立的欄位。您可以根據要配置的工作負載需求、進一步自訂PVc定義。</block>
  <block id="02eb9c3824b0b8eae9723daa7a2912d1" category="list-text">使用「oc"命令建立PVc。視所建立的備用磁碟區大小而定、建立作業可能需要一些時間、因此您可以在完成時觀看程序。</block>
  <block id="90dc29cb8c225faef816aefeaad3027d" category="inline-link-macro">下一步：解決方案驗證/使用案例。</block>
  <block id="99632a9c8a0d8380e77d9d11f96edfdc" category="paragraph"><block ref="99632a9c8a0d8380e77d9d11f96edfdc" category="inline-link-macro-rx"></block></block>
  <block id="501195b19cb60bfec4c2e4899a2a460c" category="summary">註冊Red Hat OpenShift叢集之後、您可以探索已部署的應用程式、並透過Astra Control Center進行管理。</block>
  <block id="d19de154f02438c6d6918a4e016c7c62" category="doc">選擇要保護的應用程式</block>
  <block id="a022d74e2b8b62dd9f1caa37a51aa3f3" category="section-title">管理應用程式</block>
  <block id="d8c780951f3271e7d72b116e5f41d46b" category="list-text">在ONTAP Astra Control Center登錄OpenShift叢集和還原後端之後、控制中心會自動開始探索所有命名空間中的應用程式、這些命名空間使用以指定ONTAP 的支援功能後端設定的儲存機架。</block>
  <block id="3b5963749d054f288f27dfb2f20d0370" category="inline-image-macro">探索Astra Control Center應用程式</block>
  <block id="a78e618a70881e5c5dda311aaa61c250" category="paragraph"><block ref="a78e618a70881e5c5dda311aaa61c250" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0c46442de8c982973aeee99a9441b746" category="list-text">瀏覽至「應用程式&gt;已探索」、然後按一下您要使用Astra管理的應用程式旁的下拉式功能表。然後按一下「管理」。</block>
  <block id="22d84cdf10d4c1059d68b1ab7da5b375" category="inline-image-macro">Astra Control Center可管理應用程式</block>
  <block id="4afca1ab36db499d54b08ff38dff8a5c" category="paragraph"><block ref="4afca1ab36db499d54b08ff38dff8a5c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2d694cfe5907a4790ea939388a8cfd25" category="list-text">應用程式會進入可用狀態、並可在「應用程式」區段的「受管理」索引標籤下檢視。</block>
  <block id="dc496d6799e0c6ab3bdfdbdc6a086b48" category="inline-image-macro">提供Astra Control Center應用程式</block>
  <block id="872adedc4ac847cec0aa8fb9299d32e5" category="paragraph"><block ref="872adedc4ac847cec0aa8fb9299d32e5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c2c2a82496277a88b32b0e8d27249d3d" category="inline-link-macro">下一步：保護應用程式。</block>
  <block id="d5be948b8a7fea6618eb171c64927be2" category="paragraph"><block ref="d5be948b8a7fea6618eb171c64927be2" category="inline-link-macro-rx"></block></block>
  <block id="1630dbfdd4887ce201ea82c71cde3d11" category="doc">為Kubernetes部署進階叢集管理</block>
  <block id="39d08ecbb9add7bd87659df206457a73" category="list-text">用於顯示中樞叢集的Red Hat OpenShift叢集（高於4.5版）</block>
  <block id="f41043c73a62a435944d8abfb45094cb" category="list-text">適用於託管叢集的Red Hat OpenShift叢集（高於4.4.3版）</block>
  <block id="d60c66eb778a488709534045787b6a26" category="list-text">叢集管理存取Red Hat OpenShift叢集</block>
  <block id="374185e020d06ceed3f020af518a1c14" category="list-text">適用於Kubernetes的進階叢集管理Red Hat訂購</block>
  <block id="9afcd045ce0197d71ba631e3fbe43095" category="paragraph">進階叢集管理是OpenShift叢集的附加元件、因此根據整個集線器和託管叢集所使用的功能、對硬體資源有特定的需求和限制。在調整叢集規模時、您必須將這些問題納入考量。請參閱文件<block ref="a5d2b81b971715f092f7296621743e22" category="inline-link-rx"></block> 以取得更多詳細資料。</block>
  <block id="65a62318377ddbc5fe3f73548dc3d677" category="paragraph">或者、如果集線器叢集有專屬節點來裝載基礎架構元件、而且您只想在這些節點上安裝「進階叢集管理」資源、則必須相應地將容許值和選取器新增至這些節點。如需詳細資料、請參閱文件<block ref="df4d7b25534e8f26e8ab3acc1c646101" category="inline-link-rx"></block>。</block>
  <block id="3f71071db67a1d6b5b63e2d9cc6b0e93" category="inline-link-macro">下一步：安裝。</block>
  <block id="2a9cc50366c16ec40c1a5132f8fe5533" category="paragraph"><block ref="2a9cc50366c16ec40c1a5132f8fe5533" category="inline-link-macro-rx"></block></block>
  <block id="ad3a2e9007d848afd0c15ffc402781bb" category="doc">工作流程：Red Hat OpenShift虛擬化搭配NetApp ONTAP 功能</block>
  <block id="4e42a1e911325b5048e50f7b5ea73d1f" category="section-title">VM即時移轉</block>
  <block id="7df52e0f8b2cb2af1e107fde51d06945" category="paragraph">即時移轉是將VM執行個體從OpenShift叢集中的某個節點移轉到另一個節點的程序、不會造成停機。若要在OpenShift叢集中執行即時移轉、VM必須繫結至具有共用ReadWriteMany存取模式的PVCS。Astra Trident後端在啟用ONTAP NFS傳輸協定的NetApp支援叢集上設定SVM、可支援對PVCS進行共用的ReadWriteMany存取。因此、從採用NFS的SVM上的Trident配置的StorageClass所要求的具有PVCS的VM、可以在不中斷的情況下進行移轉。</block>
  <block id="09e113cd46b4487f140ee07899ea3359" category="image-alt">VM即時移轉架構</block>
  <block id="660b7fa756d01df7c4338afb9050abb1" category="paragraph">若要建立連結至具有共用ReadWriteMany存取權之PVCS的VM：</block>
  <block id="842f7d4793f116332f5b12b648dfd539" category="list-text">瀏覽至工作負載&gt;虛擬化&gt;虛擬機器、然後按一下建立&gt;使用精靈。</block>
  <block id="416d6e9d0df33a74dd38603be60453c1" category="list-text">選取所需的作業系統、然後按「Next（下一步）」。讓我們假設所選的作業系統已經設定了開機來源。</block>
  <block id="e1b595d3037639bdea165dde4b1f3906" category="list-text">在「Review and Create（檢閱與建立）」窗格中、選取您要在其中建立VM的專案、並提供VM詳細資料。請確定已選取要複製的開機來源、並使用指派給所選作業系統的適當永久磁碟從CD-ROM開機。</block>
  <block id="998a8df469c318f9cd606b44664cea5d" category="list-text">按一下[自訂虛擬機器]，然後按一下[儲存設備]</block>
  <block id="ae024d48dbfaaf4badad7bf9c812a98f" category="list-text">按一下rootdisk旁的省略符號、並確定已選取使用Trident配置的儲存ageclasse。展開「進階」、然後選取「存取模式」的「共享存取（rwx）」。然後按一下「儲存」。</block>
  <block id="ef44ba6bf4a3e677b41b361628554b88" category="image-alt">讓磁碟機rwx可供存取</block>
  <block id="2ae6b586f76075c7d71faff7ba9d2a41" category="list-text">按一下「Review（檢閱）」並確認、然後按一下「Create Virtual Machine（建立虛</block>
  <block id="18c830e61a7a92c60804118ef362933c" category="paragraph">若要將VM手動移轉至OpenShift叢集中的其他節點、請完成下列步驟。</block>
  <block id="289f346dbeb0185de2648a24955ca887" category="list-text">瀏覽至「工作負載」&gt;「虛擬化」&gt;「虛擬機器」。</block>
  <block id="cc58a226305ad2362de0317c1fd8261b" category="list-text">針對您要移轉的VM、按一下省略符號、然後按一下「移轉虛擬機器」。</block>
  <block id="b5839595a4132807edfc858d9f6d90ad" category="list-text">當訊息快顯以確認時、請按一下「移轉」。</block>
  <block id="d0f501bd9588700bc91fe10b7d3f761a" category="admonition">如果將設備策略設定為LiveMigrate、則當原始節點置於維護模式時、OpenShift叢集中的VM執行個體會自動移轉至其他節點。</block>
  <block id="ca77161ad6ca11bca347f347b181c25f" category="inline-link-macro">下一步：工作流程：虛擬機器複製。</block>
  <block id="294f8e986041208286bb2300b191a2ff" category="paragraph"><block ref="294f8e986041208286bb2300b191a2ff" category="inline-link-macro-rx"></block></block>
  <block id="0d1d64b47559f0c28c883e7e790b8363" category="summary">本節專門介紹實際使用者在將此解決方案部署至正式作業環境時可能需要執行的自訂作業、例如建立專屬映像登錄、或是部署自訂負載平衡器執行個體。</block>
  <block id="0bc570c518e7c4f356ebceb14fa8372f" category="doc">進階組態選項</block>
  <block id="b432301f7ba469598e6ea2eb86e4859a" category="paragraph">一般而言、最容易部署的解決方案是最佳選擇、但在某些情況下、必須進行進階自訂、才能符合部署解決方案的特定應用程式或環境的需求或規格。為此、Red Hat OpenShift with NetApp解決方案允許下列自訂項目、以滿足這些需求。</block>
  <block id="2642cf401e87de575eae139953f87134" category="admonition">在本節中、我們已記錄一些進階組態選項、例如使用協力廠商負載平衡器或建立私有登錄來裝載自訂的容器映像、這兩項都是安裝NetApp Astra Control Center的必要條件。</block>
  <block id="02b655f637212514780af2795fd74fc4" category="paragraph">以下頁面提供更多有關Red Hat OpenShift with NetApp解決方案中驗證的進階組態選項資訊：</block>
  <block id="becc5334b7f3d2f4f57fc42cd287fd54" category="inline-link-macro">探索負載平衡器選項</block>
  <block id="22651dd64b4cd4c6d2742d1f8b126ae6" category="list-text"><block ref="22651dd64b4cd4c6d2742d1f8b126ae6" category="inline-link-macro-rx"></block></block>
  <block id="261bdcc1d2c24d15c43c5947e69ea9e6" category="inline-link-macro">設定私有映像登錄</block>
  <block id="c8db11b008075455562a8b598b31753c" category="list-text"><block ref="c8db11b008075455562a8b598b31753c" category="inline-link-macro-rx"></block></block>
  <block id="8921c6e9843ba7487c77f4dce1467111" category="summary">藉助於支援環境的容量和處理量、每個儲存節點都能提供模組化且可擴充的效能。NetApp Element在單一叢集中、可將各個節點從4個擴充至100個、並提供許多進階的儲存管理功能。NetApp Element</block>
  <block id="5d77fe4a6bb4c5e88c5c18510b3c4749" category="doc">包含NetApp的Red Hat OpenShift NetApp Element</block>
  <block id="53c583e55a36ad49234df678a2dbcf45" category="paragraph">藉助於支援環境的容量和處理量、每個儲存節點都能提供模組化且可擴充的效能。NetApp Element在單一叢集中、可將各個節點從4個擴充至100個、並提供許多進階的儲存管理功能。NetApp Element</block>
  <block id="22f48c519a73ce4759edffb196331422" category="paragraph"><block ref="22f48c519a73ce4759edffb196331422" category="inline-image-macro-rx" type="image"></block></block>
  <block id="27765508a97a89684590658c3465fb70" category="inline-link">NetApp SolidFire 產品網站</block>
  <block id="d37eaafbb6dfb29673d63ff988ff4f41" category="paragraph">如需NetApp Element 更多有關資料、請造訪<block ref="0d1d77e6774527457304fa15f73899a1" category="inline-link-rx"></block>。</block>
  <block id="bd4ffcaabbe4a4f83fbfaaa2e34dc8a3" category="section-title">iSCSI登入重新導向與自我修復功能</block>
  <block id="dbafa7c074ef7efc3c778b69c0ad31b5" category="paragraph">利用iSCSI儲存傳輸協定（iSCSI儲存傳輸協定）、將SCSI命令封裝到傳統TCP/IP網路上的標準方法。NetApp Element當SCSI標準改變或乙太網路效能改善時、iSCSI儲存傳輸協定將不需進行任何變更。</block>
  <block id="23e6b910b28346537f5696478fffe779" category="paragraph">雖然所有儲存節點都有管理IP和儲存IP、NetApp Element 但該軟件卻會針對叢集中的所有儲存流量、通告單一儲存虛擬IP位址（SVIP位址）。在iSCSI登入程序中、儲存設備會回應目標磁碟區已移至不同的位址、因此無法繼續協商程序。然後、主機會在不需要重新設定主機端的程序中、將登入要求重新發往新位址。此程序稱為iSCSI登入重新導向。</block>
  <block id="b8603f3d585261d0005c7c5e51108d19" category="paragraph">iSCSI登入重新導向是NetApp Element 支援不支援功能的軟體叢集的重要一環。收到主機登入要求時、節點會根據IOPS和磁碟區的容量需求、決定叢集的哪個成員應處理流量。如果NetApp Element 單一節點處理的磁碟區流量太多、或新增了節點、則會將磁碟區分散到整個過程中的整個軟件叢集、然後重新分配。在陣列中配置多個指定磁碟區複本。</block>
  <block id="772db62cf9ecb837ed4f0a91a5963492" category="paragraph">如此一來、如果節點故障之後又發生磁碟區重新分佈、則登出後登入並重新導向至新位置後、主機連線能力將不會受到影響。利用iSCSI登入重新導向功能、NetApp Element 一套自我修復的橫向擴充架構、能夠不中斷升級與作業。</block>
  <block id="5c8e89de2b8e6e2f103d858b59e5aca0" category="section-title">軟件叢集QoS NetApp Element</block>
  <block id="16600c3602f9acbaa2286f34135f6bb8" category="paragraph">利用支援QoS的整套軟體叢集、可以根據每個Volume動態設定QoS。NetApp Element您可以使用每個Volume QoS設定、根據您定義的SLA來控制儲存效能。下列三個可設定的參數可定義QoS：</block>
  <block id="d91a826908d0c27cf5d21d2152292ab0" category="list-text">*最低IOPS。* NetApp Element 此為整個磁碟區提供的持續IOPS下限。為磁碟區設定的最低IOPS是保證磁碟區效能的等級。每個磁碟區的效能不會低於此層級。</block>
  <block id="f8cd3dfe225577e230dc2699ebbbfe34" category="list-text">*最大IOPS。* NetApp Element 此為指支援特定磁碟區的穩定IOPS上限。</block>
  <block id="827b5871d6ce8f2203a567ef3024f072" category="list-text">*爆發IOPS。*在短時間爆發案例中允許的IOPS上限。「連拍持續時間」設定可設定、預設值為1分鐘。如果某個Volume的執行量低於最高IOPS層級、則會累積大量資源。當效能等級變得非常高且受到推升時、磁碟區上的IOPS可在超過最大IOPS的情況下進行短暫的突發。</block>
  <block id="e95bb6f1e85d1ffe0eb983fd5e0fbde8" category="section-title">多租戶</block>
  <block id="086d1eacd91102f734387f0266326344" category="paragraph">安全的多租戶共享功能包括：</block>
  <block id="97bee3e8d0db89b2cd19eba861763e7a" category="list-text">*安全驗證。*挑戰握手驗證傳輸協定（CHAP）用於安全的Volume存取。輕量型目錄存取傳輸協定（LDAP）用於安全存取叢集、以進行管理和報告。</block>
  <block id="3918507b16aa3cc38274c29da446d90f" category="list-text">* Volume存取群組（VAG）。*（選用）VAG可取代驗證、將任意數量的iSCSI啟動器特定iSCSI合格名稱（IQN）對應至一或多個磁碟區。若要存取VAG中的磁碟區、啟動器的IQN必須位於磁碟區群組的允許IQN清單中。</block>
  <block id="28328e0db9c18c9ada207997f806124f" category="list-text">*租戶虛擬LAN（VLAN）*。*在網路層級、NetApp Element iSCSI啟動器和支援此功能的軟體叢集之間的端點對端點網路安全性、可透過使用VLAN來實現。針對任何為了隔離工作負載或租戶而建立的VLAN、NetApp Element 則由NetApp軟體建立獨立的iSCSI目標SVIP位址、只能透過特定的VLAN存取。</block>
  <block id="5fec85270e969240cc769f429b9c8cdc" category="list-text">*支援VRF的VLANs。* NetApp Element 為了進一步支援資料中心的安全性與擴充性、利用此軟體、您可以啟用任何租戶VLAN來執行類似VRF的功能。這項功能新增了這兩項主要功能：</block>
  <block id="fca8436836d48525b8d98babbfd68518" category="list-text">* L3路由傳送至租戶SVIP位址。*此功能可讓您將iSCSI啟動器置於獨立的網路或VLAN上、而不受NetApp Element 支援於該軟體叢集的網路或VLAN上。</block>
  <block id="eaea554ececf5b64515f0833c56b3de4" category="list-text">*重疊或重複的IP子網路。*此功能可讓您將範本新增至租戶環境、讓每個租戶VLAN都能從相同的IP子網路指派IP位址。這項功能可在需要擴充及保留IPspace的服務供應商環境中使用。</block>
  <block id="c08531651ee4977d5020da1b84003631" category="section-title">企業儲存效率</block>
  <block id="78712bd6b2d8e5531e122b5e849fb842" category="paragraph">這個功能可提升整體儲存效率與效能。NetApp Element下列功能會即時執行、永遠開啟、而且使用者不需要手動設定：</block>
  <block id="6893566c26b28e197cebdefdcc6af3ae" category="list-text">*重複資料刪除。*系統僅儲存獨特的4K區塊。任何重複的4K區塊都會自動與已儲存的資料版本相關聯。資料位於區塊磁碟機上、並使用NetApp Element 功能完善的Helix資料保護功能進行鏡射。此系統可大幅減少系統內的容量使用量和寫入作業。</block>
  <block id="2e5dd3a69ccb3f04d7814fc742318204" category="list-text">*壓縮。*壓縮是在資料寫入NVRAM之前內嵌執行的。資料會壓縮、儲存在4K區塊中、並在系統中保持壓縮狀態。此壓縮可大幅減少整個叢集的容量使用量、寫入作業和頻寬使用量。</block>
  <block id="215de8162cb5ac909005881f92812fb0" category="list-text">*精簡配置。*此功能可在您需要時提供適當數量的儲存設備、免除過度配置磁碟區或未充分利用磁碟區所造成的容量消耗。</block>
  <block id="95f1b89c8e9c330fcfdc8ec84633bfe6" category="list-text">* Helix。*個別磁碟區的中繼資料儲存在中繼資料磁碟機上、並複寫到次要中繼資料磁碟機以供備援。</block>
  <block id="da9c9b2b4164632e569069fe1e7c53ee" category="admonition">元件是專為自動化而設計。所有的儲存功能都可透過API取得。這些API是UI用來控制系統的唯一方法。</block>
  <block id="28bbba0205a8bfd9f8f2da8b73522dc7" category="inline-link-macro">下一步：NetApp儲存整合概述。</block>
  <block id="d61c98dcb4bec6f3e1213776ebb1e6c3" category="paragraph"><block ref="d61c98dcb4bec6f3e1213776ebb1e6c3" category="inline-link-macro-rx"></block></block>
  <block id="43288d8129021b1fe8b4bc6784e65b32" category="doc">特色：採用NetApp的Red Hat OpenShift上的Kubernetes進階叢集管理</block>
  <block id="86c2cc4630e619e2c08c32f54e844297" category="section-title">在多個叢集上建立資源</block>
  <block id="bc2397695676d1a63e489d4c80c8cd91" category="paragraph">Kubernetes的進階叢集管理功能可讓使用者從主控台同時在一或多個託管叢集上建立資源。舉例來ONTAP 說、如果您在不同站台有OpenShift叢集、並以不同的NetApp支援叢集做為後盾、而且想要在兩個站台上配置PVc、您可以按一下頂端列上的（+）符號。然後選取您要在其中建立永久虛擬基礎虛擬基礎網路的叢集、貼上資源Yaml、然後按一下「Create（建立）」。</block>
  <block id="24800112d59462f8ea9ff03f5dd456a7" category="image-alt">建立資源</block>
  <block id="9480fd8950471a46e6b29b165ba7ae41" category="summary">NetApp Astra Control Center提供一套豐富的儲存設備與應用程式感知資料管理服務、適用於狀態穩定的Kubernetes工作負載、部署於內部環境、採用NetApp值得信賴的資料保護技術。</block>
  <block id="3d210170d7f07fe3c907e8ac619f003a" category="doc">NetApp Astra Control Center總覽</block>
  <block id="9b0d9ae1197ded2c7d52147e5056475d" category="paragraph">NetApp Astra Control Center提供豐富的儲存設備與應用程式感知資料管理服務、適用於部署在內部部署環境中且採用NetApp資料保護技術的狀態式Kubernetes工作負載。</block>
  <block id="c4a7756da710a87248298a14bd0c21e6" category="paragraph"><block ref="c4a7756da710a87248298a14bd0c21e6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f0358bd53d50b55aa0509189dd381ca9" category="paragraph">NetApp Astra Control Center可安裝在Red Hat OpenShift叢集上、該叢集已部署Astra Trident儲存Orchestrator、並已設定儲存類別和儲存後端、以供NetApp ONTAP orchstorage系統使用。</block>
  <block id="8cc4d72a7129322eb1f39ea9b9cfb2f6" category="inline-link-macro">本文檔</block>
  <block id="1c2ddd920580e1a7860afb96d7ac352e" category="paragraph">如需安裝及組態Astra Trident以支援Astra Control Center、請參閱 <block ref="a581b27b235a239b8b186164c4dbebd1" category="inline-link-macro-rx"></block>。</block>
  <block id="876ae62d75901b9ef80277fd884aa5e9" category="paragraph">在雲端連線的環境中、Astra Control Center會使用Cloud Insights 效益技術來提供進階監控和遙測功能。如果沒有支援功能、則可透過開放式指標端點、將有限的監控和遙測（7天的數據價值）匯出至Kubernetes原生監控工具（Prometheus和Grafana）Cloud Insights 。</block>
  <block id="54a5ba4de846d3c3ba8c0322f5139893" category="paragraph">Astra Control Center已完全整合至NetApp AutoSupport 的整套功能和Active IQ 功能、可為使用者提供支援、協助疑難排解、以及顯示使用統計資料。</block>
  <block id="34610c3089a79a0b0e58bcc24da4c16c" category="paragraph">除了Astra Control Center的付費版本、我們也提供90天的評估授權。評估版本可透過電子郵件和社群（Slack通路）獲得支援。客戶可以存取這些和其他知識庫文章、以及產品內建支援儀表板所提供的文件。</block>
  <block id="b3d5fa878980b3f5b771ced3fa94111a" category="inline-link-macro">Astra網站</block>
  <block id="83d307afe7b187cee5d096f65402182f" category="paragraph">若要開始使用NetApp Astra Control Center、請造訪 <block ref="230f9d60eb4e7cc8be41a0e702c37eff" category="inline-link-macro-rx"></block>。</block>
  <block id="7f9648de128837be473a3b24e53ff823" category="section-title">Astra Control Center安裝先決條件</block>
  <block id="8ffc0d45ec909884b280603fd2556021" category="list-text">一個或多個Red Hat OpenShift叢集。目前支援版本4.6 EUS和4.7。</block>
  <block id="526a5a0f546838d61791ded926113f71" category="list-text">每個Red Hat OpenShift叢集上都必須已安裝並設定Astra Trident。</block>
  <block id="e7a6c3c568d213db46836511343c4965" category="list-text">一或多ONTAP 個執行ONTAP 不穩定9.5或更新版本的NetApp不穩定儲存系統。</block>
  <block id="7433dd0f15704f71764248a0ca105fad" category="admonition">最佳實務做法是在站台上安裝每個OpenShift、以擁有專屬的SVM來進行持續儲存。多站台部署需要額外的儲存系統。</block>
  <block id="c927c560df09d5ca001f99cd07b14700" category="list-text">每個OpenShift叢集上都必須設定Trident儲存後端、並以SVM作為後盾ONTAP 、以供支援整個叢集。</block>
  <block id="67a56d728807272d2a01df50c6548f4f" category="list-text">在每個OpenShift叢集上設定的預設StorageClass、以Astra Trident做為儲存資源配置程式。</block>
  <block id="dda5c1363ac68168c83f72fc2645f51f" category="list-text">必須在每個OpenShift叢集上安裝及設定負載平衡器、才能平衡負載並公開OpenShift Services。</block>
  <block id="e32d2cb3312c2c7797ca52bd8d6ff26f" category="admonition">請參閱連結 <block ref="0065297854ca0573913043e80b99a2d1" category="inline-link-macro-rx"></block> 以取得已針對此目的驗證的負載平衡器相關資訊。</block>
  <block id="7dbcc72cc3a693b8f89b064e38ed7a23" category="list-text">必須設定私有映像登錄來裝載NetApp Astra Control Center映像。</block>
  <block id="aa32c16385a1b749687956188e4f0d9a" category="admonition">請參閱連結 <block ref="9d2000c3bba4885fe5f36ed192264583" category="inline-link-macro-rx"></block> 若要安裝及設定OpenShift Private登錄以供此用途。</block>
  <block id="3123a26626e19f387157faf3a8e35e86" category="list-text">您必須擁有Red Hat OpenShift叢集的叢集管理存取權。</block>
  <block id="537f97bbcef0e2e67d6840aa5845aa65" category="list-text">您必須擁有NetApp ONTAP 等群集的管理員存取權。</block>
  <block id="0507b40de1fbd59b7a77b9054689e92b" category="list-text">安裝了Docker或podman、tridentctl、及occ或kubecl工具的管理工作站、並新增至$path。</block>
  <block id="abfe00e88b26a267771078e0295b1573" category="admonition">Docker安裝必須具有大於20.10的Docker版本、而Podman安裝的podman版本必須大於3.0。</block>
  <block id="8c7c70cb991e0295e289054b79308c5d" category="section-title">安裝Astra Control Center</block>
  <block id="1e90637438eb06672159d2998d220e86" category="open-title">使用作業系統集線器</block>
  <block id="bff0144772c74d96da07b6ccefb79f96" category="list-text">登入NetApp支援網站、下載最新版本的NetApp Astra Control Center。若要這麼做、必須附上NetApp帳戶的授權。下載後、將其傳輸至管理工作站。</block>
  <block id="121c2592ea226f655d357a8ecd8caf2e" category="inline-link">Astra註冊網站</block>
  <block id="ba6df9237a2774d7ca28cdf134cf9314" category="admonition">若要開始使用Astra Control試用授權、請造訪<block ref="dd61f8f3fbfa8ca8b0a268b985d55b0e" category="inline-link-rx"></block>。</block>
  <block id="ccab5cf8842d06d8d4e2f7f778657c4b" category="list-text">解壓縮tar ball並將工作目錄變更為所產生的資料夾。</block>
  <block id="baac643870c95006b4243d078606a15d" category="list-text">開始安裝之前、請先將Astra Control Center映像推送到映像登錄。您可以選擇使用Docker或Podman來執行這項作業、本步驟提供這兩者的說明。</block>
  <block id="455cbd59356abfa16dcf7666d4ae6c2b" category="list-title">Podman</block>
  <block id="e83d8437c3befea11906e730883605bf" category="list-text">將登錄FQDN與組織/命名空間/專案名稱匯出為環境變數「正式作業」。</block>
  <block id="9acf317cba8637e151b8daae04e3e998" category="list-text">登入登錄。</block>
  <block id="e2f745ac603721ed9903b0acea00d059" category="admonition">如果您使用「kubeadmin」使用者登入私有登錄、請使用權杖、而非密碼「podman登入-u ocp-user-p權杖--tlS-VERIF=假astra-registry.apps.ocp-vmw.cie.netapp.com`」。</block>
  <block id="e4b91f5b748fa6ef8813d2871257b134" category="admonition">或者、您也可以建立服務帳戶、指派登錄編輯器和/或登錄檢視器角色（取決於您是否需要推入/拉取存取）、然後使用服務帳戶的權杖登入登錄。</block>
  <block id="a53846d7be2355a59af69a47e2cf4637" category="list-text">建立Shell指令碼檔案、然後將下列內容貼入其中。</block>
  <block id="d5ca81c242aff843ea151d778578cbfc" category="admonition">如果您的登錄使用不受信任的憑證、請編輯Shell指令碼、並針對podman推送命令「podman push $註 冊表/$（ECAECA$astraImage | sed 's/^[^\/]\+//'）-TLS-VERIFE=假」使用「-TLS-VERIFY」。</block>
  <block id="326c4e96ff06709dede5c03038f00e78" category="list-text">將檔案設定為可執行檔。</block>
  <block id="ed85c18933b4b240788294af279f8624" category="list-text">執行Shell指令碼。</block>
  <block id="ad533c54cadd80fbf8f60e58b7d3abd6" category="admonition">如果您使用「kubeadmin」使用者登入私有登錄、請使用權杖而非密碼-「docker login-u ocp-user-p權杖astra-registry.apps.ocp-vmw.cie.netapp.com`」。</block>
  <block id="ee9b41d8a22021826def077c661525f4" category="list-text">使用非公開信任的私有映像登錄時、請將映像登錄TLS憑證上傳至OpenShift節點。若要這麼做、請使用TLS憑證在openshift-config命名空間中建立組態對應、並將其修補至叢集映像組態、使憑證成為信任的憑證。</block>
  <block id="508ca0ca5ae419c052d9a8487bb0b2d0" category="admonition">如果您使用OpenShift內部登錄搭配來自入口操作員的預設TLS憑證搭配路由、您仍需依照前一個步驟將憑證修補成路由主機名稱。若要從入口操作員擷取憑證、您可以使用命令「occExtract secret /路由器-ca --keys=ls.crt -n openshift-inemit-opoperers」。</block>
  <block id="9c656c969a87783fcf4b94b721f34bc9" category="list-text">為Astra Control Center建立命名空間「NetApp-acc operator」。</block>
  <block id="e3990b0b892faaf03261a0a1bcd00b9b" category="list-text">使用認證資料建立秘密、以登入「NetApp-acc operator」命名空間中的映像登錄。</block>
  <block id="788e8355bdd3a21f3a9017a0610940f4" category="list-text">使用叢集管理存取權登入Red Hat OpenShift GUI主控台。</block>
  <block id="3f4b86cf3e8a535371d3937bd126d789" category="list-text">從Perspective（透視）下拉列表中選擇Administrator（管理員</block>
  <block id="3d68b5654b778f026ac691bc6ed70cc5" category="list-text">瀏覽至「運算子」&gt;「運算子中樞」、然後搜尋Astra。</block>
  <block id="78146e6a44100deebbe276c19e6c437a" category="image-alt">OpenShift操作者中樞</block>
  <block id="dc7add750562c445f72d8d016a79ae29" category="list-text">選取「NetApp-acc operator」方塊、然後按一下「Install（安裝）」。</block>
  <block id="c80be3093b470ca8092538e58a261952" category="image-alt">主動定速控制系統（Acc</block>
  <block id="c65c283737dc37cea2358a91588ff272" category="list-text">在Install Operator（安裝操作員）畫面上、接受所有預設參數、然後按一下「Install（安裝）」。</block>
  <block id="3677d31e24a1853c961f3f1a9a39a1d6" category="image-alt">Acc操作人員詳細資料</block>
  <block id="11458c333e4903e54ca46f822ba6a3b6" category="list-text">等待操作員安裝完成。</block>
  <block id="ba14525c4ccc9b2f692d062104885b19" category="image-alt">主動定速控制系統操作員等待安裝</block>
  <block id="fea3120ff933c367a5882d58dbbe8a08" category="list-text">一旦操作員安裝成功、請瀏覽至「View operator」（檢視操作員）。</block>
  <block id="a573acc0621ea72a06ce987a341768bf" category="image-alt">Acc操作員安裝完成</block>
  <block id="f99196bf6b988223fab800f28cf0323c" category="list-text">然後按一下操作者中Astra Control Center的「Create Instance」（建立執行個體）。</block>
  <block id="11f7c569d04eecd142ba5989efcc2da3" category="image-alt">建立Acc執行個體</block>
  <block id="02780e148f03f25db76204c23985d753" category="list-text">填寫「Create適用的」表單欄位、然後按一下「Create」（建立）。</block>
  <block id="e31f3b85c5179d88bcf0629842c5342f" category="list-text">（可選）編輯Astra Control Center執行個體名稱。</block>
  <block id="3336a2124154da151aecfe1809d7c821" category="list-text">（可選）啟用或停用自動支援。建議保留「自動支援」功能。</block>
  <block id="14ddbb7fd85c2907073b06492b95191b" category="list-text">輸入Astra Control Center的FQDN。</block>
  <block id="fbcd656fecc902b1994e346dc0627266" category="list-text">輸入Astra Control Center版本；預設會顯示最新版本。</block>
  <block id="311a20c50b8e2d72cf9b31eb6339bff4" category="list-text">輸入Astra Control Center的帳戶名稱和管理員詳細資料、例如名字、姓氏和電子郵件地址。</block>
  <block id="163e6534daeb1cbd7c56b20a9477802f" category="list-text">輸入Volume回收原則、預設為保留。</block>
  <block id="5863d7f52b409374d0d80b1bcbba68fd" category="list-text">在「Image登錄」中、輸入登錄的FQDN以及將映像推送到登錄時所提供的組織名稱（在此範例中為「astra-registry.apps.ocp-vmw.cie.netapp.com/netapp-astra`」）。</block>
  <block id="95279718d2829cd5ed7772d6f0a77ca9" category="list-text">如果您使用需要驗證的登錄、請在「映像登錄」區段中輸入機密名稱。</block>
  <block id="b8f9ae819a2d6559f55aed837fdc2a47" category="list-text">設定Astra Control Center資源限制的擴充選項。</block>
  <block id="3b489b9fd690a8cdf710454d0ccb5288" category="list-text">如果您要將PVCS放置在非預設儲存類別上、請輸入儲存類別名稱。</block>
  <block id="6b9265a82fa5bd326052ec55e040a54a" category="list-text">定義客戶需求日處理偏好設定。</block>
  <block id="90aa5928482975bc6ff56f0eaf052451" category="open-title">自動[可執行]</block>
  <block id="b8571b33af3335fed61ab0d7985d007f" category="list-text">複製裝載可執行內容的GitHub儲存庫。</block>
  <block id="5ed95667cae604c0ddee2dbf04f423fe" category="list-text">登入NetApp支援網站、下載最新版本的NetApp Astra Control Center。若要這麼做、必須附上NetApp帳戶的授權。下載後、將其傳輸至工作站。</block>
  <block id="6238d4091e12ffa6643c0dc68d72ceab" category="list-text">建立或取得具有OpenShift叢集管理員存取權的Kbeconfig檔案、以安裝Astra Control Center。</block>
  <block id="b736c713f352ab43e7543fda4589e96f" category="list-text">將目錄變更為na_astra_control_suITE。</block>
  <block id="4f31682e7040024757006eed6ba0344a" category="list-text">編輯vars/vars.yml檔案、並在變數中填入必要資訊。</block>
  <block id="8d1e5f9175948d3e6f932794744cde16" category="section-title">安裝後步驟</block>
  <block id="e3cd33ca69b8e508c973939783f528db" category="list-text">安裝可能需要幾分鐘的時間才能完成。確認「NetApp-Astra -cc」命名空間中的所有Pod和服務均已啟動並正在執行。</block>
  <block id="9904a774f242f31a5ae37c8f75bda92b" category="list-text">檢查「acc oper-manager-manager」記錄、確保安裝完成。</block>
  <block id="4af39dbe40f8a0467bbdd739a971f0ea" category="admonition">下列訊息表示Astra Control Center安裝成功。</block>
  <block id="c27deb19babf146e6377dce25b1e70e7" category="list-text">登入Astra Control Center的使用者名稱是CRD檔案中所提供系統管理員的電子郵件地址、密碼是附加於Astra Control Center UUID的字串「ACC-」。執行下列命令：</block>
  <block id="57a7aa2eaf00ddaa73ef6b49299ade6e" category="admonition">在此範例中、密碼為「ACC-345c55a5-bf2e-21f0-843b8-b6f2bce5e95f」。</block>
  <block id="5946314197ad84982efa6561d9da8302" category="list-text">取得truefik服務負載平衡器IP。</block>
  <block id="298a1e8781e536e60684ab1700c60962" category="list-text">在DNS伺服器中新增一個項目、將Astra Control Center CRD檔案中提供的FQDN指向raefik服務的「exter-IP」。</block>
  <block id="0c64767e085896708adcbcc1c32c55fe" category="inline-image-macro">為Acc GUI新增DNS項目</block>
  <block id="1c278e58c0255ae1f09fc4fa520160b6" category="paragraph"><block ref="1c278e58c0255ae1f09fc4fa520160b6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0f436b7e192eae471d7abf1265bb4c02" category="list-text">瀏覽Astra Control Center GUI的FQDN即可登入。</block>
  <block id="cc2ba6bb5620162b64bafdca9f089718" category="inline-image-macro">Astra Control Center登入</block>
  <block id="9af9ac4a3dd2ab221c2c5e2bf2aaee2a" category="paragraph"><block ref="9af9ac4a3dd2ab221c2c5e2bf2aaee2a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="19bae630567610f1955167595b8daae3" category="list-text">第一次使用CRD提供的管理電子郵件地址登入Astra Control Center GUI時、您需要變更密碼。</block>
  <block id="90fbead2d113af1a2680805778908d98" category="inline-image-macro">Astra Control Center強制密碼變更</block>
  <block id="247e9fd0170ec4d9550de59ebd54787b" category="paragraph"><block ref="247e9fd0170ec4d9550de59ebd54787b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0c62383e1115b208212b5a634214ae37" category="list-text">如果您想要新增使用者至Astra Control Center、請瀏覽至「帳戶」&gt;「使用者」、按一下「新增」、輸入使用者的詳細資料、然後按一下「新增」。</block>
  <block id="0dd5915bd7ca0f5d34df18bf7a183d50" category="inline-image-macro">Astra Control Center可建立使用者</block>
  <block id="0ea309ed2f56bdc52dd6184b9043e683" category="paragraph"><block ref="0ea309ed2f56bdc52dd6184b9043e683" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a37ba7c36c036650f5e1e7ded5232245" category="list-text">Astra Control Center需要取得授權、才能讓所有IT功能正常運作。若要新增授權、請瀏覽至「帳戶」&gt;「授權」、按一下「新增授權」、然後上傳授權檔案。</block>
  <block id="54936e9fda3da1e56a25c0056f054bce" category="inline-image-macro">Astra Control Center新增授權</block>
  <block id="02fd0244de299d20dfbaf9113b883030" category="paragraph"><block ref="02fd0244de299d20dfbaf9113b883030" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2044ecf5033cd4a7b9530b83075af99e" category="admonition">如果您在安裝或組態NetApp Astra Control Center時遇到問題、我們將提供已知問題的知識庫<block ref="d775d2705bd260971e4d33c3d1094402" category="inline-link-rx"></block>。</block>
  <block id="9204faa817ce36107d052d3cd7c886c7" category="inline-link-macro">接下來：註冊Red Hat OpenShift叢集：Red Hat OpenShift with NetApp。</block>
  <block id="8d167505bef11e381036abf56e79f457" category="paragraph"><block ref="8d167505bef11e381036abf56e79f457" category="inline-link-macro-rx"></block></block>
  <block id="31fd0c2c8d388a4cd2c6459234743476" category="section-title">觀察能力</block>
  <block id="e98511d60f9850de86f096614f447322" category="paragraph">適用於Kubernetes的進階叢集管理提供一種方法、可監控所有叢集上的節點、Pod、應用程式和工作負載。</block>
  <block id="36aff44ed429ca86d182dc7ee3dfdbb1" category="list-text">瀏覽至「觀察環境」&gt;「總覽」。</block>
  <block id="7a6ccefec75a946583cffdd0a8a47e09" category="image-alt">可觀察性首頁</block>
  <block id="c9904a9276a489fc238c999d2ddd633f" category="list-text">所有叢集的所有Pod和工作負載都會根據各種篩選器進行監控和排序。按一下「Pod」以檢視對應的資料。</block>
  <block id="4a973ae1a908770e354f949d3c0592f8" category="image-alt">觀察Pod</block>
  <block id="7cd1c61051d3647bc47d839e0efee222" category="list-text">叢集內的所有節點都會根據各種資料點進行監控與分析。按一下節點、深入瞭解對應的詳細資料。</block>
  <block id="8a373f777de729c082b5be2d80b7eca6" category="image-alt">觀察節點</block>
  <block id="4e7f54a0ebc5cd69209a17181d477e4c" category="list-text">所有叢集都會根據不同的叢集資源和參數進行監控和組織。按一下叢集以檢視叢集詳細資料。</block>
  <block id="2ececa2c251a851a85e976daae558c81" category="image-alt">觀察叢集</block>
  <block id="a883982d5f8961021329c238318d4e2b" category="inline-link-macro">下一步：功能-建立資源。</block>
  <block id="5ca146f2101c14a961df161060f86cb9" category="paragraph"><block ref="5ca146f2101c14a961df161060f86cb9" category="inline-link-macro-rx"></block></block>
  <block id="fe70522102670f75ed2fff361701d056" category="paragraph">本參考文件提供Red Hat OpenShift解決方案的部署驗證、此解決方案是透過安裝程式佈建基礎架構（IPI）、部署於多種不同的資料中心環境、並已通過NetApp驗證。此外、它也詳細說明了與NetApp儲存系統的儲存整合、使用Astra Trident儲存協調程式來管理持續儲存設備、以及使用NetApp Astra Control Center來管理及保護狀態化應用程式。最後、我們會探索並記錄許多解決方案驗證和實際使用案例。</block>
  <block id="60423d24e49c8db4836be0abd09fb78d" category="doc">NetApp ONTAP 支援iSCSI組態</block>
  <block id="3ca99f0e09d3b1ea097a113dd72c9317" category="list-text">下載的安裝歸檔文件中有「shame-INPUT」資料夾階層的範例後端檔案。對於ONTAP 供應iSCSI的NetApp支援系統、請將「backender-ontap - san．json」檔案複製到您的工作目錄、然後編輯該檔案。</block>
  <block id="fa346018b8222fdc195d0b73016cf5a0" category="list-text">編輯此檔案中的管理LIF、dataLIF、SVM、使用者名稱和密碼值。</block>
  <block id="3ae96676432caea17595a22525bd9660" category="admonition">在此檔案中定義了一個名為「FSType」的選用欄位。在iSCSI後端中、此值可設定為特定的Linux檔案系統類型（XFS、ext4等）、也可刪除以允許OpenShift決定要使用的檔案系統。</block>
  <block id="8b14fb34f5313442bf2fdc4d80edc389" category="summary">本節專為想要使用NetApp部署自訂Red Hat OpenShift的使用者、探討負載平衡器選項。</block>
  <block id="87beaa6eff6159cd7270b2a4e71c10a4" category="doc">探索負載平衡器選項：採用NetApp的Red Hat OpenShift</block>
  <block id="a802e9436bb9bcbfa2b88bb549e28503" category="paragraph">在大多數情況下、Red Hat OpenShift會透過路由、讓外部使用者能夠使用應用程式。提供可從外部存取的主機名稱、即可公開服務。OpenShift路由器可以使用定義的路由及其服務所識別的端點、以提供與外部用戶端的命名連線。</block>
  <block id="0aa971b4d33bdc82c500a35166e588c8" category="paragraph">不過在某些情況下、應用程式需要部署和設定自訂的負載平衡器、才能提供適當的服務。其中一個例子是NetApp Astra Control Center。為了滿足這項需求、我們評估了許多自訂負載平衡器選項。本節將說明其安裝與組態。</block>
  <block id="6914d9014ff3e2cb99cabff26b55a0bc" category="paragraph">以下頁面提供有關Red Hat OpenShift with NetApp解決方案中驗證的負載平衡器選項的其他資訊：</block>
  <block id="2b545f7c547a71eaeda9dcb451aea0c5" category="inline-link-macro">MetalLB.</block>
  <block id="eaefba36e93c0d0177c3de1143bd08dd" category="list-text"><block ref="eaefba36e93c0d0177c3de1143bd08dd" category="inline-link-macro-rx"></block></block>
  <block id="10a93051f49f4080568cecc5ec30cd99" category="inline-link-macro">F5 BIG-IP</block>
  <block id="886218e92c071e06819887a13189b4e6" category="list-text"><block ref="886218e92c071e06819887a13189b4e6" category="inline-link-macro-rx"></block></block>
  <block id="0f07e63979900ab2abf6d2d578850a47" category="inline-link-macro">下一步：解決方案驗證/使用案例：採用NetApp的Red Hat OpenShift。</block>
  <block id="3a29a96f08f4066b544db012326464ed" category="paragraph"><block ref="3a29a96f08f4066b544db012326464ed" category="inline-link-macro-rx"></block></block>
  <block id="35be109b995061abd3392d1b01fd0e9a" category="summary">Red Hat OpenStack平台提供整合式基礎、可建立、部署及擴充安全可靠的私有OpenStack雲端。</block>
  <block id="5f6a8f3661e7319797d4eab6792350e6" category="doc">Red Hat OpenStack平台上的OpenShift</block>
  <block id="639813d9aa126816c3f9e9de2a45ce17" category="paragraph">OSP是一種基礎架構即服務（IaaS）雲端、由管理運算、儲存和網路資源的控制服務集合來實作。此環境是使用網路介面來管理、讓系統管理員和使用者能夠控制、配置及自動化OpenStack資源。此外、OpenStack基礎架構也可透過廣泛的命令列介面和API、為系統管理員和終端使用者提供完整的自動化功能。</block>
  <block id="dc34aa9761794ceabad79dc29944976e" category="paragraph">OpenStack專案是快速開發的社群專案、每六個月提供更新版本。Red Hat OpenStack Platform一開始會隨著每個上游版本一起發佈新版本、並為每個第三版提供長期支援、以跟上這個發行週期。最近、隨著OSP 16.0版（以OpenStack火車為基礎）的推出、Red Hat選擇不跟上發行版本的腳步、而是將新功能支援至次發行版本。最新版本為Red Hat OpenStack Platform 16.1、其中包含使用實例和上游版本的支援進階功能。</block>
  <block id="737c38dd225185612ac8fa148ae9583e" category="inline-link">Red Hat OpenStack Platform網站</block>
  <block id="19fb2090425be8f78441166e8f1d8d6f" category="paragraph">如需OSP的詳細資訊、請參閱<block ref="9c79780f89511512bd5bf54ce21d04de" category="inline-link-rx"></block>。</block>
  <block id="e2ab8aafc6151adfa655ffd5d2425e7d" category="section-title">OpenStack服務</block>
  <block id="ffd7a6889e6ea6965969472250235082" category="paragraph">OpenStack平台服務部署為容器、可將服務彼此隔離、並可輕鬆升級。OpenStack平台使用一套以Kolla建置及管理的容器。服務的部署是從Red Hat Custom Portal擷取容器映像來執行。這些服務容器是使用Podman命令來管理、並透過Red Hat OpenStack Director進行部署、設定及維護。</block>
  <block id="f5fdcf6d68d437c59942a35d79b8c7b1" category="paragraph"><block ref="f5fdcf6d68d437c59942a35d79b8c7b1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c2ba7e785c49050f48da9aacc45c2b85" category="cell">服務</block>
  <block id="7adea0d9c77aabccd8bb67ae0a832d59" category="cell">專案名稱</block>
  <block id="2938c7f7e560ed972f8a4f68e80ff834" category="cell">儀表板</block>
  <block id="85fb7708d989f936cb51ef53a8af080f" category="cell">Horizon</block>
  <block id="d5a9efab6df20a9e132b774795775dde" category="cell">您用來管理OpenStack服務的網頁瀏覽器型儀表板。</block>
  <block id="c9c5c65fb4af9cf90eb99b3b84424189" category="cell">身分識別</block>
  <block id="1ce2096c300f78bbb8389ca2603e6dd9" category="cell">基礎概念</block>
  <block id="91c68681aadba9c0e8308f7d0b3cc416" category="cell">集中式服務、用於驗證和授權OpenStack服務、以及管理使用者、專案和角色。</block>
  <block id="e7a39f4cb0dd0ffaaffe8fb0319dec67" category="cell">OpenStack網路</block>
  <block id="88fac409baf592beb25e285d8663edcb" category="cell">中和</block>
  <block id="0283e46fd80198d441eb742b88cf96f1" category="cell">提供OpenStack服務介面之間的連線功能。</block>
  <block id="4f0550f066ae72bb8c24fc3f59c323bf" category="cell">區塊儲存</block>
  <block id="a7173cc5cdd0e31df00cd34f058b1d33" category="cell">資料廢止者</block>
  <block id="597dab3a2b3c74e3c266b2f65ec28619" category="cell">管理虛擬機器（VM）的持續區塊儲存Volume。</block>
  <block id="a623a8d0366bf079411aa30be45b2d10" category="cell">運算</block>
  <block id="6e747c4965495f2e26bf17e647aa0083" category="cell">Nova</block>
  <block id="f13c04e9c49274cd31bd8092c8f50304" category="cell">管理並配置執行於運算節點上的VM。</block>
  <block id="10ec3a0506fab7073649337ca7be7979" category="cell">概覽</block>
  <block id="d9ff71ddcb6bbbe8ad48ae8b678369d4" category="cell">用於儲存VM映像和Volume快照等資源的登錄服務。</block>
  <block id="670aaecb1a526fbed439dad3ec353a96" category="cell">物件儲存</block>
  <block id="ae832e9b5bda2699db45f3fa6aa8c556" category="cell">Swift</block>
  <block id="41c380458dfcdc118ef573a2d98c6acb" category="cell">可讓使用者儲存及擷取檔案及任意資料。</block>
  <block id="aa96a21412def0d916f43b639424f8e4" category="cell">遙測</block>
  <block id="8fb4b5e28f192236eaa9e4972f810dbd" category="cell">Ceilometer</block>
  <block id="ed622b9c64858cc66a01c58893b5d39d" category="cell">提供雲端資源使用量的測量結果。</block>
  <block id="7d486371bb65b0633535ceba4189d8ed" category="cell">熱能</block>
  <block id="abaa6ebae60b74638c54a43f3341db8e" category="cell">以範本為基礎的協調引擎、可支援自動建立資源堆疊。</block>
  <block id="19c939070c0b6ebbb52e1e0119b15301" category="section-title">網路設計</block>
  <block id="5ddbd3cec63b14995bf6a5823b692de7" category="paragraph">Red Hat OpenShift with NetApp解決方案使用兩個資料交換器、以25Gbps的速率提供主要資料連線能力。此外、它還使用兩個額外的管理交換器、以1Gbps的連線能力提供儲存節點的頻內管理、以及IPMI功能的頻外管理。</block>
  <block id="b81a67bf2ab52e16a62a9c71454c90ee" category="paragraph">Red Hat OpenStack Director需要IPMI功能、才能使用具有諷刺意味的裸機資源配置服務來部署Red Hat OpenStack平台。</block>
  <block id="f1744781b12c15ad3b748bea44d9582b" category="section-title">VLAN需求</block>
  <block id="c546b983b02d8654c5b245147d99dcf0" category="paragraph">Red Hat OpenShift with NetApp的設計、是為了使用虛擬區域網路（VLAN）、以邏輯方式將網路流量分隔為不同用途。此組態可擴充以滿足客戶需求、或進一步隔離特定的網路服務。下表列出在NetApp驗證解決方案時實作解決方案所需的VLAN。</block>
  <block id="87495e311a3944910e3cc0c7bee3d754" category="cell">VLAN</block>
  <block id="261addf78c7b2c961032b3dd08ba0b1f" category="cell">目的</block>
  <block id="05808f0e86c04c2a062c2e041f9e0827" category="cell">VLAN ID</block>
  <block id="b7dff125c9fce628900142990708436f" category="cell">頻外管理網路</block>
  <block id="414b4843c124e72b43bccf2948a53a41" category="cell">用於管理實體節點的網路、以及用於諷刺的IPMI服務。</block>
  <block id="567f5ee3e60ecdd5338b39cab0006510" category="cell">儲存基礎架構</block>
  <block id="e8cbca2d71bd2aeff622a07b4ffad6c2" category="cell">用於控制器節點的網路、可直接對應磁碟區以支援Swift等基礎架構服務。</block>
  <block id="757b505cfd34c64c85ca5b5690ee5293" category="cell">201.</block>
  <block id="e103375dfc18f23e4fc072903e894fe9" category="cell">儲存資料夾</block>
  <block id="0bdfa6389eb47674a02f6049f342785d" category="cell">用於將區塊磁碟區直接對應及附加到環境中部署的虛擬執行個體的網路。</block>
  <block id="854d6fae5ee42911677c739ee1734486" category="cell">202.02</block>
  <block id="772d9a23b79ccb504fa0590644934c3b" category="cell">內部API</block>
  <block id="e44f5f63400b0975b884dc2980ee3a61" category="cell">使用API通訊、RPC訊息和資料庫通訊、在OpenStack服務之間進行通訊所用的網路。</block>
  <block id="34ed066df378efacc9b924ec161e7639" category="cell">301.01</block>
  <block id="6252d0571760e3d285e2e41a2b1e7743" category="cell">租戶</block>
  <block id="ea414c629935302b115bf3dabf5f827c" category="cell">中子透過VXLAN的通道、為每個租戶提供自己的網路。網路流量會隔離在每個租戶網路內。每個租戶網路都有與其相關的IP子網路、而網路命名空間則表示多個租戶網路可以使用相同的位址範圍、而不會造成衝突。</block>
  <block id="577bcc914f9e55d5e4e4f82f9f00e7d4" category="cell">302</block>
  <block id="bfd15aa26ba0ced782240c4a8b7e517e" category="cell">儲存管理</block>
  <block id="cdc529b5e11a981e4597195c5f1c53b5" category="cell">OpenStack物件儲存設備（Swift）使用此網路、在參與的複本節點之間同步資料物件。Proxy服務是使用者要求與基礎儲存層之間的中介介面。Proxy會接收傳入要求、並找出必要的複本以擷取要求的資料。</block>
  <block id="11b9842e0a271ff252c1903e7132cd68" category="cell">303</block>
  <block id="5214f1e2490f3878e307fd6f81f9f77f" category="cell">PXE-</block>
  <block id="16d856c79e739181f35adfe5b791c650" category="cell">OpenStack Director提供的PXE開機是諷刺裸機資源配置服務的一部分、可協調OSP OverCloud的安裝。</block>
  <block id="966b6dfb6b0819cc10644bea3115cf20" category="cell">3484.</block>
  <block id="b206a1b4ea1097761f78e8876f6da779" category="cell">外部</block>
  <block id="f2feccaa3f5d086f0b16010ff463e369" category="cell">以開放式網路為基礎、裝載OpenStack儀表板（Horizon）進行圖形化管理、並允許公開API呼叫來管理OpenStack服務。</block>
  <block id="dfeb9598fbfb97cc6bbcc0aff2c785d6" category="cell">3485</block>
  <block id="7b9993fac4b9a60605aa2884eb40f4a3" category="cell">頻內管理網路</block>
  <block id="32223320445c4cf46444e40ebde18b7e" category="cell">提供系統管理功能的存取、例如SSH存取、DNS流量和網路時間傳輸協定（NTP）流量。此網路也可做為非控制器節點的閘道。</block>
  <block id="ab4f2b5fd96ca65349119909c1eada2d" category="cell">3486</block>
  <block id="35b5078b5953437a59ffd4f77c464800" category="section-title">網路基礎架構支援資源</block>
  <block id="0bad9231e1bf61bc343a986739f155c1" category="paragraph">在部署OpenShift Container Platform之前、應先準備好下列基礎架構：</block>
  <block id="f2260a90424f1d412334d1b3467abd22" category="list-text">至少有一部DNS伺服器提供完整的主機名稱解析。</block>
  <block id="d70672769aa84f2a999291a645e67355" category="list-text">至少三部NTP伺服器、可讓解決方案中的伺服器保持時間同步。</block>
  <block id="478a3526bd6097c6b7a330fd6aae410e" category="list-text">（選用）OpenShift環境的傳出網際網路連線功能。</block>
  <block id="a181412a291a7d0ae8a71300abf746b8" category="section-title">正式作業部署的最佳實務做法</block>
  <block id="0f19aa91cffca51fd061e34dee1e5c79" category="paragraph">本節列出組織在將此解決方案部署至正式作業環境之前、應考慮的幾項最佳實務做法。</block>
  <block id="9a14258452ea5da50d562e08e5b9291c" category="section-title">將OpenShift部署至至少有三個運算節點的OSP私有雲</block>
  <block id="493fd05bc58266bcd8394072cbe81748" category="paragraph">本文件所述的驗證架構、是部署三個OSP控制器節點和兩個OSP運算節點、提供最小的硬體部署、適合HA作業。此架構可確保容錯組態、讓兩個運算節點都能啟動虛擬執行個體、而已部署的VM則可在兩個Hypervisor之間移轉。</block>
  <block id="ebe803a768c48af52bca59e6ab7df9bf" category="paragraph">由於Red Hat OpenShift一開始會部署三個主節點、因此雙節點組態可能會導致至少兩個主節點佔用同一個節點、因此如果該特定節點無法使用、可能會導致OpenShift中斷。因此、部署至少三個OSP運算節點是Red Hat的最佳實務做法、如此一來、OpenShift主節點就能平均分散、解決方案就能獲得更高程度的容錯能力。</block>
  <block id="7a595c63e0ebc069af3da46e3d1c8fee" category="section-title">設定虛擬機器/主機關聯性</block>
  <block id="bbfdc160550acbcdb4791a961a165d5d" category="paragraph">啟用VM/主機關聯性、即可在多個Hypervisor節點之間散佈OpenShift主機。</block>
  <block id="cb346122cae28dfb1fcf0811f46296a2" category="paragraph">關聯性是一種定義一組VM和/或主機規則的方法、可決定VM是在同一主機上一起執行、還是在群組中的主機上執行、或是在不同的主機上執行。它會透過建立關聯群組來套用至VM、這些群組由一組相同的參數和條件的VM和/或主機組成。根據關聯群組中的VM是在同一主機或群組中的主機上執行、還是分別在不同主機上執行、關聯群組的參數可以定義正關聯性或負關聯性。在Red Hat OpenStack平台中、可以建立和強制執行主機關聯性和反關聯性規則、方法是建立伺服器群組並設定篩選器、以便Nova在伺服器群組中部署的執行個體部署在不同的運算節點上。</block>
  <block id="9c0af999b760fac2aa82d9d105fa7a7e" category="paragraph">伺服器群組預設最多可管理10個虛擬執行個體的放置位置。您可以更新Nova的預設配額來修改此設定。</block>
  <block id="de5bd213c3df23736df75636241f96de" category="admonition">OSP伺服器群組有特定的硬關聯性/反關聯性限制；如果資源不足、無法部署在個別節點上、或資源不足、無法共用節點、則VM將無法開機。</block>
  <block id="8aea038e418642b1735131358c24a866" category="inline-link">如何設定OpenStack執行個體的關聯性和反關聯性？</block>
  <block id="d90e13a49726d9175649113d81f4caa7" category="paragraph">若要設定關聯群組、請參閱<block ref="f5b5be16184c5362a1ca218025e91581" category="inline-link-rx"></block>。</block>
  <block id="ed3ecd4254cc054c70ddee702d7ed519" category="section-title">使用自訂安裝檔案進行OpenShift部署</block>
  <block id="5e059b05dcf86db414d6b8cdd66bcf0f" category="paragraph">IPI可透過本文稍早討論的互動式精靈、輕鬆部署OpenShift叢集。不過、您可能需要在叢集部署中變更某些預設值。</block>
  <block id="47a822101acb11c74a4877a3d0b77093" category="inline-link">Red Hat OpenShift使用自訂功能在OpenStack上安裝叢集</block>
  <block id="42bb5e38e5b1c611bdce679410b24d67" category="paragraph">在這些執行個體中、您無需立即部署叢集、即可執行及執行wizard;而是建立組態檔、以便日後部署叢集。如果您需要變更任何IPI預設值、或是想要在環境中部署多個相同的叢集以供其他用途（例如多租戶）、這項功能就非常實用。如需建立OpenShift自訂安裝組態的詳細資訊、請參閱<block ref="05810b34cd92ddfe8fd049160cb24f72" category="inline-link-rx"></block>。</block>
  <block id="f5b3b6b5d5a71b2934abd61ddb561ce2" category="inline-link-macro">下一步：NetApp儲存設備總覽。</block>
  <block id="dd2c34a46e688e4fd1c53e1a8d8af1d0" category="paragraph"><block ref="dd2c34a46e688e4fd1c53e1a8d8af1d0" category="inline-link-macro-rx"></block></block>
  <block id="e38be1dc20a2b358b917b60fe2677b39" category="doc">支援iSCSI組態NetApp Element</block>
  <block id="dc5fa659e0452a77d6006f5b72f8b334" category="paragraph">若要啟用Trident與NetApp Element 支援功能的整合、您必須建立後端、以便使用iSCSI傳輸協定與儲存系統進行通訊。</block>
  <block id="05ca7295321cb9b417a251e75557c6c5" category="list-text">下載的安裝歸檔文件中有「shame-INPUT」資料夾階層的範例後端檔案。若NetApp Element 為供應iSCSI的支援系統、請將「backend-solidfire.json」檔案複製到您的工作目錄、然後編輯檔案。</block>
  <block id="27ef1192cd037c8978195be045fa054e" category="list-text">編輯「端點」行上的使用者、密碼和MVIP值。</block>
  <block id="d1b7418d19df7144a98dfde725db068c" category="list-text">編輯「VIP」值。</block>
  <block id="dd7f72325e6f60ea7163b071e4d5e2cc" category="list-text">在這個後端檔案就位的情況下、執行下列命令來建立您的第一個後端。</block>
  <block id="b73d05719d0ea2964c963f6f83a34d3d" category="admonition">在此檔案中定義了一個名為「FSType」的選用欄位。在iSCSI後端中、此值可設定為特定的Linux檔案系統類型（XFS、ext4等）、也可刪除此值、讓OpenShift決定要使用的檔案系統。</block>
  <block id="3605e05aa598ff405b5edffc1bf474f1" category="summary">使用NetApp在Red Hat OpenShift上設定多租戶共享</block>
  <block id="254f642527b45bc260048e30704edb39" category="doc">組態</block>
  <block id="44b1200b793638d4a3aebd1bee591e12" category="paragraph">對於任何多租戶解決方案、任何使用者都無法存取超過所需的叢集資源。因此、要設定為多租戶組態一部分的一整組資源、會分為叢集管理、儲存管理員和開發人員、分別負責每個專案。</block>
  <block id="1ceba10f8902735a18e8c3bb3e8a3052" category="paragraph">下表概述不同使用者要執行的不同工作：</block>
  <block id="064dceba374668ef0734be5f9e182682" category="cell">*叢集管理*</block>
  <block id="445b72f2cbecd97022bb6636eda3cbc7" category="cell">為不同的應用程式或工作負載建立專案</block>
  <block id="e033ab3bea3b8a20afb5852070df0203" category="cell">為儲存管理員建立Cluster角色 和角色繫結</block>
  <block id="293d08622718634a8518b6fcc6376617" category="cell">建立角色與角色繫結、讓開發人員指派特定專案的存取權</block>
  <block id="3e97e469255cd3686174c371f50961f9" category="cell">[選用]設定專案以排程特定節點上的Pod</block>
  <block id="93ffd2b1215bc47cc78b020f89e922ef" category="cell">*儲存設備管理*</block>
  <block id="043ab42cdcbdacc4691c26ee52ed8ccd" category="cell">在NetApp ONTAP 上建立SVM</block>
  <block id="be09a24f118a66330a40633e9d5ebfca" category="cell">建立Trident後端</block>
  <block id="55995e8c220e05b3e75252cccf5752be" category="cell">建立StorageClass</block>
  <block id="2a5eb41b2d7fd04d01836f89ab790852" category="cell">建立儲存資源配額</block>
  <block id="4e00898ecc4e6640083ccff8d85fbe87" category="cell">*開發人員*</block>
  <block id="bfc5fb8ef5464441bc8b3ca7eda2892d" category="cell">驗證存取權限、以便在指派的專案中建立或修補PVCS或Pod</block>
  <block id="9e95c94350b2b7b51176ad958deb1388" category="cell">驗證存取權限、以在另一個專案中建立或修補PVCS或Pod</block>
  <block id="8c0b7954d326b4bcf2f42a57ef00eead" category="cell">驗證存取權限、以檢視或編輯專案、資源配額和儲存類別</block>
  <block id="4edd9914739183e9cb724a222261a01f" category="inline-link-macro">下一步：必要條件。</block>
  <block id="8013a47a037d25fa6d9671120cfc1ee5" category="paragraph"><block ref="8013a47a037d25fa6d9671120cfc1ee5" category="inline-link-macro-rx"></block></block>
  <block id="4e92dab2ab2bbe684f09a2aca58c9e44" category="list-text">NetApp ONTAP 產品叢集</block>
  <block id="b645e117fe786bf56128cde2dec3971a" category="list-text">Red Hat OpenShift叢集</block>
  <block id="f675b3d5e1e137870f481a742a3ec0af" category="list-text">叢集上安裝的Trident</block>
  <block id="1db1a9d97c708824712706fc4267ec25" category="list-text">安裝了tridentctl和occ工具並新增至$path的管理工作站</block>
  <block id="7cf4175762acfbabf9178d34f2504b28" category="list-text">管理員存取ONTAP 功能</block>
  <block id="10a540d0ed57154e8676c5725af53935" category="list-text">叢集管理存取OpenShift叢集</block>
  <block id="6340f6ab1111f349228595ebceb8f6db" category="list-text">叢集已與Identity Provider整合</block>
  <block id="9e110c19bb79322a0b76199795550dea" category="list-text">身分識別供應商的設定可有效區分不同團隊中的使用者</block>
  <block id="b917a2bfe0dd0160c3ad88751f355f5d" category="inline-link-macro">下一步：叢集管理員工作。</block>
  <block id="7a9f102fda0e3438bff54da4acdbccbb" category="paragraph"><block ref="7a9f102fda0e3438bff54da4acdbccbb" category="inline-link-macro-rx"></block></block>
  <block id="4b6826f4f20a8e7e7a3b42ccb81d514f" category="section-title">虛擬機器複製</block>
  <block id="4a56de086437c8a56c22bccd4e7ed9ba" category="paragraph">支援Astra Trident的Volume csi複製功能、即可在OpenShift中複製現有VM。透過複製現有的PV、可以使用現有的PVc作為資料來源來建立新的PVc。建立新的永久虛擬基礎架構之後、它會做為獨立實體運作、而且不會與來源永久虛擬基礎架構有任何連結或相依關係。</block>
  <block id="0ea820e58acf3d0c3acac3f64518c517" category="image-alt">VM複製架構</block>
  <block id="a1dbf280b3b5da141010127710d68ba7" category="paragraph">使用「csi Volume Cloning」時、必須考量下列限制：</block>
  <block id="7f8cb9ac957166d3d134bf9df8861f5b" category="list-text">來源PVc和目的地PVc必須位於同一個專案中。</block>
  <block id="058d8141e417cb514573ba1a70e2e0cd" category="list-text">同一儲存類別支援複製。</block>
  <block id="611b1b227968093cc5c73e69f7ac0fda" category="list-text">只有在來源和目的地磁碟區使用相同的磁碟區模式設定時、才能執行複製；例如、區塊磁碟區只能複製到另一個區塊磁碟區。</block>
  <block id="557d036c1a69ab0889c0820deb1e88de" category="paragraph">OpenShift叢集中的VM可透過兩種方式複製：</block>
  <block id="e1230e5b1f51d793ea14fb31df500399" category="list-text">關閉來源VM</block>
  <block id="29ec5d7b455e19c4f8141df877a9af0a" category="list-text">讓來源VM保持運作</block>
  <block id="84d19f7437a8329c49099517eccd37dc" category="section-title">關閉來源VM</block>
  <block id="9057e692817874e4c563dec1fa8c1700" category="paragraph">關閉VM來複製現有VM是一項原生OpenShift功能、可透過Astra Trident的支援來實作。完成下列步驟以複製VM。</block>
  <block id="ea1abad541ee7994705555d53c0281c3" category="list-text">瀏覽至「工作負載」&gt;「虛擬化」&gt;「虛擬機器」、然後按一下您要複製的虛擬機器旁的省略符號。</block>
  <block id="375000776ee4694734b1d066c46e7096" category="list-text">按一下「Clone Virtual Machine（複製虛擬機器）」、並提供新VM的詳細資料。</block>
  <block id="b22c43b0906ef8ba78f3fbb7d5b1ff20" category="image-alt">複製VM</block>
  <block id="cf702a835a3fd4b019603d29ec402106" category="list-text">按一下「Clone Virtual Machine（複製虛擬機器）」；這會關閉來源VM並開始建立複製VM。</block>
  <block id="82cfb538b52ee01d4a9901d4d2cfad4d" category="list-text">完成此步驟之後、您可以存取並驗證複製的VM內容。</block>
  <block id="3c7aa222cd4c9ee079b31567a347c05f" category="paragraph">也可以複製現有VM、方法是複製來源VM的現有PVC,然後使用複製的PVC,建立新VM。此方法不需要關閉來源VM。完成下列步驟、即可在不關閉VM的情況下複製VM。</block>
  <block id="81ab8abf2317781c0eb6f4deeaeea5a5" category="list-text">瀏覽至「Storage（儲存設備）」&gt;「PeristentVolume Claims（永久磁碟區宣告）」、然後按一下附加至來源VM的永久磁碟旁的省略號。</block>
  <block id="545ce69617c1c157be6073dcc63bfbae" category="list-text">按一下Clone PVc（複製PVc）、並提供新PVc的詳細資料。</block>
  <block id="e659422cf737778a2fb1cdd50cc8003e" category="image-alt">複製PVC</block>
  <block id="07c24ffdbaf9583216cca9f030058c11" category="list-text">然後按一下Clone（複製）這會為新VM建立一個永久虛擬機器。</block>
  <block id="5ba8ff3c009683ee423b0884c25360d0" category="list-text">瀏覽至「工作負載」&gt;「虛擬化」&gt;「虛擬機器」、然後按一下「建立」&gt;「使用Yaml」</block>
  <block id="cd32f6b0aebb29494cbc9cc21a10c926" category="list-text">在SPEC &gt;範本&gt; SPEC &gt; Volume區段中、附加複製的PVc而非容器磁碟。請根據您的需求、提供新VM的所有其他詳細資料。</block>
  <block id="75b0d3500d81c7799a5b84eca57d6d04" category="list-text">按一下「Create（建立）」以建立新的VM。</block>
  <block id="19e005e0709674157e554800d5ea7ef9" category="list-text">成功建立VM之後、請存取並確認新VM是來源VM的複本。</block>
  <block id="fdbfc131399a8776fecd30fa821de4d0" category="inline-link-macro">下一步：工作流程：從Snapshot建立VM。</block>
  <block id="c5c4205f35e83d4dc33cfa7821ceb5a7" category="paragraph"><block ref="c5c4205f35e83d4dc33cfa7821ceb5a7" category="inline-link-macro-rx"></block></block>
  <block id="d10b633b8bd8d022c66a52d93e0ed6ce" category="section-title">叢集生命週期管理</block>
  <block id="8b9449bdfc859a900fc4da7c79420145" category="paragraph">若要管理不同的OpenShift叢集、您可以建立或匯入至「進階叢集管理」。</block>
  <block id="0ef06ef8df800cf71fb95c66e0e08f1a" category="list-text">首先瀏覽至自動化基礎架構&gt;叢集。</block>
  <block id="0becde0fcfda03aec9c722d042326324" category="list-text">若要建立新的OpenShift叢集、請完成下列步驟：</block>
  <block id="e056bb6efa17796fc810edad8410280d" category="list-text">建立供應商連線：瀏覽至「提供者連線」、然後按一下「新增連線」、提供與所選提供者類型對應的所有詳細資料、然後按一下「新增」。</block>
  <block id="50dfc508091b37338da8357e63e6a405" category="image-alt">新增供應商連線</block>
  <block id="401b252566122602a82ff66bc7ed3e6c" category="list-text">若要建立新叢集、請瀏覽至「叢集」、然後按一下「新增叢集」&gt;「建立叢集」。提供叢集和對應供應商的詳細資料、然後按一下「Create（建立）」。</block>
  <block id="2984cab36bd51d5446963e671e808f5d" category="image-alt">新增叢集</block>
  <block id="2da6eeb34cf16de43ab8fa2f939d81c7" category="list-text">建立叢集之後、它會顯示在叢集清單中、並顯示「Ready（就緒）」狀態。</block>
  <block id="e6d9a6b38dd36fd9870260249ba5fc1f" category="list-text">若要匯入現有的叢集、請完成下列步驟：</block>
  <block id="f52ae06380cfd00cae7839562f550e87" category="list-text">瀏覽至「叢集」、然後按一下「新增叢集」&gt;「匯入現有的叢集」。</block>
  <block id="63b7276dd1b569babc28304e786e2041" category="list-text">輸入叢集名稱、然後按一下「Save Import（儲存匯入）」和「Generate Code（產生程式碼）」。此時會顯示新增現有叢集的命令。</block>
  <block id="be87809a27ab2944f89ccaebd89b7596" category="list-text">按一下「Copy Command（複製命令）」、然後在要新增至集線器叢集的叢集上執行命令。這會在叢集上啟動必要代理程式的安裝、完成此程序之後、叢集會顯示在叢集清單中、並顯示「Ready（就緒）」狀態。</block>
  <block id="9a618414b83afe67c19abcf935be6dbd" category="image-alt">匯入現有的叢集</block>
  <block id="c812d1382d834648706b3bf1e6848135" category="list-text">建立及匯入多個叢集之後、您可以從單一主控台監控及管理這些叢集。</block>
  <block id="068e5ec1cc0eaa7c2596be7eb1b40194" category="inline-link-macro">下一步：功能-應用程式生命週期管理。</block>
  <block id="0405bd6ea905b8d563fd501d933a3e51" category="paragraph"><block ref="0405bd6ea905b8d563fd501d933a3e51" category="inline-link-macro-rx"></block></block>
  <block id="eed1ab12478f3384bfca66e2b382aefc" category="doc">部署Red Hat OpenShift虛擬化技術搭配NetApp ONTAP 功能</block>
  <block id="7dc3a10e876dbab2b177f35c0b436f3a" category="list-text">Red Hat OpenShift叢集（高於版本4.6）安裝在裸機基礎架構上、並具有RHCOOS工作節點</block>
  <block id="b5762731ee8c7a3d9a7ce9abe3804cf0" category="list-text">OpenShift叢集必須透過安裝程式提供的基礎架構（IPI）進行安裝</block>
  <block id="7ed0bc09bfa62b64806b6b5c2f4378c7" category="list-text">部署機器健全狀況檢查以維護VM的HA</block>
  <block id="43b1ab0e04b8f87e603cc790967d2886" category="list-text">NetApp ONTAP 的叢集</block>
  <block id="dc7ec0964c3d39892e26bbe1593a79e2" category="list-text">安裝在OpenShift叢集上的Astra Trident</block>
  <block id="d4c321b9edd8d817bdc7ca442e71e3af" category="list-text">Trident後端在ONTAP 叢集上設定SVM</block>
  <block id="e909486a42368b2659780687c3b4a31b" category="list-text">OpenShift叢集上設定的StorageClass、其中Astra Trident為資源配置程式</block>
  <block id="cfcf3a62902e36f3d966271cc090b65c" category="list-text">叢集管理存取Red Hat OpenShift叢集</block>
  <block id="af91af16b4791d61bb2e9206807a658d" category="list-text">管理員存取NetApp ONTAP 解決方案叢集</block>
  <block id="e281839ef9ef6cb1eadcc2aa7d6d63be" category="list-text">安裝了tridentctl和occ工具並新增至$path的管理工作站</block>
  <block id="314f04ff1024e623d43e0cda9a9df410" category="paragraph">由於OpenShift虛擬化是由安裝在OpenShift叢集上的操作員所管理、因此會對記憶體、CPU和儲存設備產生額外的負荷、因此在規劃叢集的硬體需求時、必須將這些負荷列入考量。請參閱文件<block ref="f9421eaa4175c3e9f421a9acaf6f00d6" category="inline-link-rx"></block> 以取得更多詳細資料。</block>
  <block id="be51a7d8687b0a6254a274c1e0100052" category="paragraph">或者、您也可以設定節點放置規則、以指定OpenShift叢集節點的子集來裝載OpenShift虛擬化操作員、控制器和VM。若要設定OpenShift虛擬化的節點放置規則、請遵循文件<block ref="325820076f9012df5bb7261c397a527f" category="inline-link-rx"></block>。</block>
  <block id="a805b74dbb589c916a1ebf0e08601665" category="paragraph">對於支援OpenShift虛擬化的儲存設備、NetApp建議使用專屬StorageClass、從特定Trident後端要求儲存設備、然後再由專屬SVM提供支援。這可維持多租戶層級、以處理OpenShift叢集上VM型工作負載所需的資料。</block>
  <block id="adb787dc1bae0d1c8dee5bd61d49c235" category="inline-link-macro">下一步：透過營運者部署。</block>
  <block id="6166597c75dc82b2cc8c50a0d5d74400" category="paragraph"><block ref="6166597c75dc82b2cc8c50a0d5d74400" category="inline-link-macro-rx"></block></block>
  <block id="6de80120fa9469d052fc37775d89d5ca" category="doc">WP-7337：裸機上的安索斯</block>
  <block id="3f4b17e041e63192875c654812122484" category="paragraph">NetApp公司Alan Cowles和NIKhil M Kulkarni</block>
  <block id="8310f10ba877c17b561c1119aa03a750" category="paragraph">這項組合可讓您充分發揮伺服器、儲存設備和網路的完整潛力、並結合Google Cloud提供的支援、服務層級、每月計費和隨選彈性。由於您使用自己的硬體、網路和儲存設備、因此您可以直接控制應用程式的規模、安全性和網路延遲、並享有以裸機Anthos為基礎的託管與容器化應用程式的優點。</block>
  <block id="5cb451e1c66a533348d9c913d8c630e3" category="inline-link-macro">下一步：解決方案總覽。</block>
  <block id="7133ec6c94c3cb3dd5d77dce10f8fd70" category="paragraph"><block ref="7133ec6c94c3cb3dd5d77dce10f8fd70" category="inline-link-macro-rx"></block></block>
  <block id="d55adbfc40b7bcdb0606eb0bd4d88cae" category="summary">本節專門用來建立和設定私有映像登錄、並以Astra Trident提供的持續儲存設備作為後盾。</block>
  <block id="8252479af4b1df9b77ceaf67fa8cd07d" category="doc">建立私有映像登錄</block>
  <block id="9c864113b9e4202e111b818a53d4f506" category="inline-link">Quay.IO</block>
  <block id="4b4141875f954447d204e6f73d93e2a0" category="inline-link">DockerHub</block>
  <block id="508888fd9f92f35e5edd97bd8083e289" category="paragraph">對於大部分的Red Hat OpenShift部署、請使用類似的公用登錄<block ref="b9eeebbe4a68a648d570ea2173e5ef99" category="inline-link-rx"></block> 或<block ref="0252a6b70cc5017fa1445a78532155b6" category="inline-link-rx"></block> 滿足大多數客戶的需求。不過有時候客戶可能想要裝載自己的私有或自訂映像。</block>
  <block id="00a3f196d7f27a1f41f5d6a7f48759d0" category="paragraph">本程序說明如何建立私有映像登錄、並以Astra Trident和NetApp ONTAP 支援所提供的持續磁碟區作為後盾。</block>
  <block id="d9d5e29b1b83dd9c215f5ea158ca2475" category="admonition">Astra Control Center需要登錄來裝載Astra容器所需的映像。下節說明在Red Hat OpenShift叢集上設定私有登錄的步驟、以及推送支援Astra Control Center安裝所需的映像。</block>
  <block id="3434f6853d017037506e47f83a18c3eb" category="section-title">建立私有映像登錄</block>
  <block id="8b2aacc194c3dc4c36ce93a57e31685c" category="list-text">移除目前預設儲存類別的預設註釋、並在OpenShift叢集的Trident備份儲存類別中註記為預設值。</block>
  <block id="9b1c6f527a1a481b925397807f319e71" category="list-text">在「s pec」區段中輸入下列儲存參數、以編輯影像登錄操作員。</block>
  <block id="9ef71cd5ccaeb28206cd64b1d184019c" category="list-text">在「最新」區段中輸入下列參數、以建立具有自訂主機名稱的OpenShift路由。儲存並結束。</block>
  <block id="e0b23bc469102cf89472e5734da92a23" category="admonition">當您想要為路由建立自訂主機名稱時、會使用上述路由組態。如果希望OpenShift使用預設主機名稱來建立路由、您可以將下列參數新增至「預設路由：true」區段。</block>
  <block id="625bd6ae5e3ac822b187b90d50edb553" category="sidebar-title">自訂TLS憑證</block>
  <block id="08e414328e39f86009287c06a5f23d23" category="paragraph">當您使用路由的自訂主機名稱時、預設會使用OpenShift Ingress運算子的預設TLS組態。不過、您可以將自訂TLS組態新增至路由。若要這麼做、請完成下列步驟。</block>
  <block id="60d14675c3111738a4ed19528764a7b1" category="list-text">使用路由的TLS憑證和金鑰建立秘密。</block>
  <block id="47f7f890b5c1bcb52ae163771dbf35b0" category="list-text">編輯影像註冊運算子、並將下列參數新增至「s pec」區段。</block>
  <block id="9199ff34349c38138ad0275e447e6588" category="list-text">再次編輯影像註冊業者、並將營運者的管理狀態變更為「老舊」狀態。儲存並結束。</block>
  <block id="2bc42a1a9a963d9a3ff2118466e5db07" category="list-text">如果滿足所有先決條件、就會為私有映像登錄建立PVCS、Pod和服務。幾分鐘後、登錄就會啟動。</block>
  <block id="1f3713e339193dd15865ca74785eaa2c" category="list-text">如果您使用入口操作員OpenShift登錄路由的預設TLS憑證、則可以使用下列命令擷取TLS憑證。</block>
  <block id="295132dd97e1047a7c09e6a48054c469" category="list-text">若要允許OpenShift節點存取及從登錄中提取影像、請將憑證新增至OpenShift節點上的Docker用戶端。使用TLS憑證在「openshift-config」命名空間中建立組態對應、並將其修補至叢集映像組態、使憑證成為信任的憑證。</block>
  <block id="98f3e484001465a59149c551e8d88cf0" category="list-text">OpenShift內部登錄是由驗證控制。所有OpenShift使用者都能存取OpenShift登錄、但登入使用者可以執行的作業取決於使用者權限。</block>
  <block id="561d4c8140016564eee98ecbc20f9add" category="list-text">若要允許使用者或使用者群組從登錄擷取映像、使用者必須指派登錄檢視器角色。</block>
  <block id="88167e36ea0f872788407d0e01fc1382" category="list-text">若要允許使用者或使用者群組寫入或推送映像、使用者必須指派登錄編輯器角色。</block>
  <block id="5ba9e8f3c64be4c82249856cac87a071" category="list-text">若要讓OpenShift節點存取登錄並推送或拉出映像、您需要設定拉出密碼。</block>
  <block id="86e93d266c168d718105c402f43fc91e" category="list-text">這種拉出密碼可修補至服務帳戶、或在對應的Pod定義中參考。</block>
  <block id="fe2033a9e377624583baa802ffd9ce6d" category="list-text">若要將IT修補為服務帳戶、請執行下列命令。</block>
  <block id="59bd1dbdd3278e23e67bcabffbc4d55a" category="list-text">若要參考Pod定義中的Pull機密、請將下列參數新增至「s pec」區段。</block>
  <block id="c0c3b4069e9a2e249507f67a6a2a3b07" category="list-text">若要從工作站推送或拉出OpenShift節點以外的映像、請完成下列步驟。</block>
  <block id="18f8bf05a7a278e63d921de74d2a5966" category="list-text">將TLS憑證新增至Docker用戶端。</block>
  <block id="312eaa3acf94b813cfe857f63a602724" category="list-text">使用occ登入命令登入OpenShift。</block>
  <block id="cb4744e00672fbf6eba33b1b86d23ae0" category="list-text">使用podman/Docker命令、使用OpenShift使用者認證登入登錄。</block>
  <block id="abe31bcfb59f2265c2fb97dde407366c" category="open-title">podman</block>
  <block id="53557215e4d209eda16495dbe5f7c505" category="paragraph">+附註：如果您使用「kubeadmin」使用者登入私有登錄、請使用權杖而非密碼。</block>
  <block id="05b6053c41a2130afd6fc3b158bda4e6" category="open-title">Docker</block>
  <block id="aa20d170f1ff336ec9079cf6dd1ccee3" category="list-text">推或拉映像。</block>
  <block id="7f3417590f5bba5cf5eb34fb288135f1" category="inline-link-macro">下一步：解決方案驗證/使用案例：採用NetApp的Red Hat OpenShift。</block>
  <block id="7a38916784a7216f98837f315958c175" category="paragraph"><block ref="7a38916784a7216f98837f315958c175" category="inline-link-macro-rx"></block></block>
  <block id="58c0d00b6ee4c263f1fbe431b41eebf4" category="summary">由Astra Control Center管理應用程式工作負載之後、您可以設定這些工作負載的保護設定。</block>
  <block id="16dcf1808fc3c9a6f8342f97305d2ad6" category="doc">保護您的應用程式</block>
  <block id="59af79c7ab060b4cca322301a4729f0c" category="section-title">建立應用程式快照</block>
  <block id="c0cf3c0162d106c6ee24b7afa9b79575" category="paragraph">應用程式的快照會建立ONTAP 一份「不含任何資料的Snapshot」複本、以便根據該Snapshot複本、將應用程式還原或複製到特定時間點。</block>
  <block id="9101281f33d55e682b1a47a44251fa0e" category="list-text">若要擷取應用程式的快照、請瀏覽至「應用程式」&gt;「受管理的」索引標籤、然後按一下您要製作Snapshot複本的應用程式。按一下應用程式名稱旁的下拉式功能表、然後按一下「Snapshot（快照）」。</block>
  <block id="c01290a8a623e36f9bcae85b910a3410" category="inline-image-macro">Astra Control Center快照按鈕</block>
  <block id="b09383080793dfb527084933760af6ed" category="paragraph"><block ref="b09383080793dfb527084933760af6ed" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9f372cf1de9e60f6875a0b24a5c28b07" category="list-text">輸入快照詳細資料、按一下「下一步」、然後按一下「Snapshot（快照）」。建立快照大約需要一分鐘、快照成功建立之後、狀態就會變成可用。</block>
  <block id="f40e241f10f15eb6887acbc81fec81b0" category="inline-image-macro">Astra Control Center會建立快照</block>
  <block id="42dd75b4fbc849903d5d179a8e68d570" category="paragraph"><block ref="42dd75b4fbc849903d5d179a8e68d570" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1853746a915bea325b8b576237c24427" category="section-title">建立應用程式備份</block>
  <block id="91796648d42dbd448c6cbb2044cb92ba" category="paragraph">應用程式的備份會擷取應用程式的作用中狀態及其資源組態、將其封裝到檔案中、並將其儲存在遠端物件儲存庫中。</block>
  <block id="72e328bb06195897c7a644970c61d3a2" category="paragraph">若要在Astra Control Center中備份及還原託管應用程式、您必須先設定支援ONTAP 的支援功能系統的超級使用者設定。若要這麼做、請輸入下列命令。</block>
  <block id="6db82a24b17137378420e9fc7961d961" category="list-text">若要在Astra Control Center中建立受管理應用程式的備份、請瀏覽至「應用程式」&gt;「受管理的」索引標籤、然後按一下您要備份的應用程式。按一下應用程式名稱旁的下拉式功能表、然後按一下備份。</block>
  <block id="bc230776554b8a63af328cf9f01124e1" category="inline-image-macro">Astra Control Center備份按鈕</block>
  <block id="0929177ba68c50d4dd73a2a3311ac885" category="paragraph"><block ref="0929177ba68c50d4dd73a2a3311ac885" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f789c3d3aacfbd2d2f99ba395ddb8bc5" category="list-text">輸入備份詳細資料、選取要保留備份檔案的物件儲存區、按一下「Next（下一步）」、然後在檢閱詳細資料之後、按一下「Backup（備份）」。視應用程式和資料的大小而定、備份可能需要數分鐘的時間、備份成功完成後、備份狀態就會變成可用狀態。</block>
  <block id="e10781941ccd98298d2856b437b3fb4b" category="inline-image-macro">Astra Control Center建立備份</block>
  <block id="4ba6af660a8dd39dc1d12fb6ee80ba81" category="paragraph"><block ref="4ba6af660a8dd39dc1d12fb6ee80ba81" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3b1fda3b0f36b6fd708a9871e1c19c50" category="section-title">還原應用程式</block>
  <block id="344aed2ab37311beed01bbd40d93caed" category="paragraph">只要按一下按鈕、就能將應用程式還原至同一個叢集中的原始命名空間、或還原至遠端叢集、以供應用程式保護和災難恢復之用。</block>
  <block id="8ac352fe46a0c45e744688191b7df581" category="list-text">若要還原應用程式、請瀏覽至「應用程式」&gt;「受管理的」索引標籤、然後按一下有問題的應用程式。按一下應用程式名稱旁的下拉式功能表、然後按一下「還原」。</block>
  <block id="92955527b375720b2a586155a776c0ac" category="inline-image-macro">Astra Control Center複製按鈕</block>
  <block id="84eb14028ce6ae6f2bf17b71ebe50c69" category="paragraph"><block ref="84eb14028ce6ae6f2bf17b71ebe50c69" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b33d7fda666bdb32a2be1f3783106a3c" category="list-text">輸入還原命名空間的名稱、選取您要還原的叢集、然後選擇是要從現有的快照或應用程式備份還原命名空間。按一下「下一步」</block>
  <block id="c4293ef1955d52694e7d2288b637df1a" category="inline-image-macro">Astra Control Center還原</block>
  <block id="7bbb08271e6b60bc55d6817c7e100528" category="paragraph"><block ref="7bbb08271e6b60bc55d6817c7e100528" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f9242e3e5428d2ddbd81dece3073767a" category="list-text">在檢閱窗格中、輸入「重新儲存」、並在檢閱詳細資料後按一下「還原」。</block>
  <block id="7d6d73878ae09dbfd1e5ee7a0ecab66c" category="inline-image-macro">Astra Control Center還原審查</block>
  <block id="b862f033546ae8bdc1bb091ad8b57023" category="paragraph"><block ref="b862f033546ae8bdc1bb091ad8b57023" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1b86c631d7b3beb0163beee546245df6" category="list-text">新應用程式會在Astra Control Center還原所選叢集上的應用程式時、進入還原狀態。Astra安裝並偵測應用程式的所有資源之後、應用程式會進入可用狀態。</block>
  <block id="9ff3c5458e4a8facc6e7c25656a3baf7" category="inline-image-macro">Astra Control Center發現新的應用程式</block>
  <block id="81d066be6d2211bf186bc1960361d8e3" category="paragraph"><block ref="81d066be6d2211bf186bc1960361d8e3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e4600d44abb914105737c3d4a802b87c" category="section-title">複製應用程式</block>
  <block id="5394f3451a07ae7dbe101ceb0725a004" category="paragraph">您可以將應用程式複製到原始叢集或遠端叢集、以供開發/測試或應用程式保護及災難恢復之用。在同一個儲存後端的同一個叢集內複製應用程式時、會使用NetApp FlexClone技術來即時複製PVCS、並節省儲存空間。</block>
  <block id="04783413cee5e3c613efc7939cea3560" category="list-text">若要複製應用程式、請瀏覽至「應用程式」&gt;「受管理」索引標籤、然後按一下有問題的應用程式。按一下應用程式名稱旁的下拉式功能表、然後按一下Clone（複製）。</block>
  <block id="1cfafd65804d582aac709fefcd3e60cd" category="paragraph"><block ref="1cfafd65804d582aac709fefcd3e60cd" category="inline-image-macro-rx" type="image"></block></block>
  <block id="654c7a62842024ed8e405ed0ac9c4377" category="list-text">輸入新命名空間的詳細資料、選取要複製到的叢集、然後選擇是否要從現有的快照或備份複製、或是從應用程式的目前狀態複製。檢閱詳細資料後、按一下「下一步」、然後按一下「檢閱窗格上的Clone（複製）」。</block>
  <block id="c0dca29020d3b19fa0a8f6b7acb1ab7e" category="paragraph"><block ref="c0dca29020d3b19fa0a8f6b7acb1ab7e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c501040965cb5ca97cc675347e9ebfdf" category="list-text">當Astra Control Center在所選叢集上建立應用程式時、新的應用程式會進入「Discovering（探索）」狀態。Astra安裝並偵測應用程式的所有資源之後、應用程式會進入可用狀態。</block>
  <block id="60bae26bb7c1e8711f1e39a45fc7b6c7" category="paragraph"><block ref="60bae26bb7c1e8711f1e39a45fc7b6c7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="abd6754aa5a185ca83b3f00c5da68534" category="inline-link-macro">下一步：解決方案驗證/使用案例。</block>
  <block id="8bfe62be82a77570753936203ee020ca" category="paragraph"><block ref="8bfe62be82a77570753936203ee020ca" category="inline-link-macro-rx"></block></block>
  <block id="de59be6e44d20d9dd12412571b745c5f" category="section-title">應用程式生命週期管理</block>
  <block id="fa19c463235a810b3a93333d6ee51d6c" category="paragraph">若要在一組叢集之間建立應用程式並加以管理、</block>
  <block id="920db239cf01c8ded4b7f364194ab540" category="list-text">從側邊列瀏覽至「管理應用程式」、然後按一下「建立應用程式」。提供您要建立的應用程式詳細資料、然後按一下「Save（儲存）」。</block>
  <block id="6b41f909eb299f214abfb15580583456" category="image-alt">建立應用程式</block>
  <block id="bcb3e5b76f189a87ea350550f86de83f" category="list-text">安裝應用程式元件之後、應用程式會出現在清單中。</block>
  <block id="d70fc022d09a33f4044c81cd670a71b6" category="image-alt">應用程式清單</block>
  <block id="672d326704c3be4bebf6c816a48495e7" category="list-text">現在可以從主控台監控及管理應用程式。</block>
  <block id="0787d747a308cc786b50363313ccf714" category="inline-link-macro">下一步：功能-治理與風險。</block>
  <block id="f4c7ffc89dab76d5a6dccad54114c204" category="paragraph"><block ref="f4c7ffc89dab76d5a6dccad54114c204" category="inline-link-macro-rx"></block></block>
  <block id="a0c55f3c40b8bb2d3e26f8d11ca73cbc" category="summary">本參考文件提供Red Hat OpenShift解決方案的部署驗證、此解決方案是透過安裝程式佈建基礎架構（IPI）、部署於多種不同的資料中心環境、並已通過NetApp驗證。它也詳細說明了與NetApp儲存系統的儲存整合、運用Astra Trident儲存協調程式來管理持續儲存設備。最後、我們會探索並記錄許多解決方案驗證和實際使用案例。</block>
  <block id="a0e01d06503f271c1de7acc0acd01733" category="doc">NVA-1160：採用NetApp的Red Hat OpenShift</block>
  <block id="4711a0fd2fa3c3625080f399e5261ecd" category="paragraph">Red Hat OpenShift with NetApp解決方案的架構設計、可為下列使用案例的客戶提供卓越價值：</block>
  <block id="44815e873492015d6a8ab6362de8da6c" category="list-text">使用裸機、Red Hat OpenStack平台、Red Hat虛擬化及VMware vSphere上的IPI（安裝程式佈建基礎架構）、輕鬆部署及管理部署的Red Hat OpenShift。</block>
  <block id="03bb323d052d033ea0b5b2cab17f1219" category="list-text">結合企業容器和虛擬化工作負載的強大功能、搭配幾乎部署在OSP、RHV或vSphere上的Red Hat OpenShift、或是以OpenShift虛擬化技術部署在裸機上。</block>
  <block id="a2ac5b8f3de7c17418af38c828121a15" category="list-text">真正的組態與使用案例、強調Red Hat OpenShift的功能、適用於Kubernetes的開放原始碼儲存協調程式NetApp儲存設備和Astra Trident。</block>
  <block id="f08561bbd831bfa1923e6acf045ef13a" category="section-title">商業價值</block>
  <block id="932ba7da1da9b241bfc5ddbb10e49da2" category="paragraph">企業逐漸採用DevOps實務來建立新產品、縮短發行週期、並快速新增新功能。由於容器和微服務的本質天生敏捷、因此在支援DevOps實務做法上扮演著重要角色。然而、在企業環境中以正式作業規模實作DevOps、卻帶來了自身的挑戰、並對基礎架構提出特定要求、例如：</block>
  <block id="43ee156205e7f74e32a02d556537fe90" category="list-text">堆疊中所有層級的高可用度</block>
  <block id="b59807af538b77fee1fb3d1d3c81f9a8" category="list-text">易於部署的程序</block>
  <block id="2748d7182409b378e23f62724be778fd" category="list-text">不中斷營運與升級</block>
  <block id="1a4af279491c72d7c36b4c9767ae712f" category="list-text">API導向且可程式化的基礎架構、可跟上微服務敏捷度的腳步</block>
  <block id="0cdff7d38ef496f6b5510c5034fedf15" category="list-text">多租戶共享、效能保證</block>
  <block id="8ca11bfd783c730b04c0c77fc7574406" category="list-text">能夠同時執行虛擬化與容器化的工作負載</block>
  <block id="0111977afdb7fa380f806edbe8438163" category="list-text">能夠根據工作負載需求獨立擴充基礎架構</block>
  <block id="42c487483a8feee3cc0365881a4cc265" category="paragraph">Red Hat OpenShift with NetApp瞭解這些挑戰、並提供解決方案、在客戶選擇的資料中心環境中實作完整自動化的RedHat OpenShift IPI部署、協助解決每個疑慮。</block>
  <block id="d3d8eb53a347d6ffc9fb157d9ac8398b" category="paragraph">Red Hat OpenShift with NetApp解決方案包含下列主要元件：</block>
  <block id="fd89bb4228981d3b22187eb451421cd6" category="section-title">Red Hat OpenShift Container Platform</block>
  <block id="2b8932b35916e8cecb6216546111322e" category="paragraph">Red Hat OpenShift Container Platform是完全受支援的企業Kubernetes平台。Red Hat針對開放原始碼Kubernetes進行了多項增強功能、以提供一個應用程式平台、其中所有元件均已完全整合、可用來建置、部署及管理容器化應用程式。</block>
  <block id="70240bc0debcb080aa08dbd9e7b9a525" category="paragraph">如需詳細資訊、請造訪OpenShift網站<block ref="35d5a627a33ce17e4bd125258d59fbc4" category="inline-link-rx"></block>。</block>
  <block id="81f74b2a02db97d708bd7cbf08d2463a" category="section-title">NetApp儲存系統</block>
  <block id="660d073f0987fac312dc40bd5dc868bd" category="paragraph">NetApp擁有多種儲存系統、最適合用於企業資料中心和混合雲部署。NetApp產品組合包括NetApp ONTAP 的NetApp功能、NetApp Element 功能與NetApp E系列儲存系統、所有這些系統都能為容器化應用程式提供持續儲存。</block>
  <block id="aa4193984de53d2a6d8fcc2d77c09bda" category="paragraph">如需詳細資訊、請參閱NetApp網站<block ref="95da63d781dead5af723667a3f69096a" category="inline-link-rx"></block>。</block>
  <block id="069b087e8e1e69cc928f18a85f683523" category="section-title">NetApp儲存整合</block>
  <block id="b4186621511a622be24ad982b0a8ec32" category="paragraph">NetApp Astra Control Center提供一組豐富的儲存設備與應用程式感知資料管理服務、可處理有狀態的Kubernetes工作負載、部署於內部環境、並採用值得信賴的NetApp資料保護技術。</block>
  <block id="947496ade2e4a2c8e929d9aa9f00be04" category="paragraph">如需詳細資訊、請造訪NetApp Astra網站<block ref="508f471fa59796a53754f031c40091c1" category="inline-link-rx"></block>。</block>
  <block id="05cd0cf0962d29806df78d956f772deb" category="paragraph">Astra Trident是開放原始碼且完全支援的儲存協調工具、適用於容器和Kubernetes配送、包括Red Hat OpenShift。</block>
  <block id="593fdc7a2167cd2ada3e71219ceb0ecb" category="paragraph">如需詳細資訊、請造訪Astra Trident網站<block ref="845024b96ab150d9f628b33995c60669" category="inline-link-rx"></block>。</block>
  <block id="aa44798f04a58b33c3699abd02a59c57" category="paragraph">本節專供實際使用者在將此解決方案部署至正式作業環境時可能需要執行的自訂作業、例如建立專用的私有映像登錄或部署自訂負載平衡器執行個體。</block>
  <block id="382742bb5fff6a719c144a0a01cd17e3" category="section-title">已驗證版本的目前支援對照表</block>
  <block id="e7e767d7c0e58b16e57d3ab16150db80" category="cell">技術</block>
  <block id="40ddf58fef213ff0d6433ef322edfe2e" category="cell">軟體版本</block>
  <block id="bd4a2d19c5168aa8c2b89b4affba2402" category="cell">9.8、9.9.1</block>
  <block id="fcda5b98e8c212807dc088477e802757" category="cell">NetApp Element</block>
  <block id="601712ded7a71b0842984ad41b6aad39" category="cell">12.3.</block>
  <block id="12c17259bf3f3b36e970c9e3abbc6b43" category="cell">NetApp Astra控制中心</block>
  <block id="8d96276332b02a2ef892828c1d4fbab4" category="cell">應用程式感知資料管理</block>
  <block id="3d930ae98e9d9fc9a418d6b8e5e5639f" category="cell">212.60</block>
  <block id="8de59ec369b10820d0dd336b9765c79b" category="cell">NetApp Astra Trident</block>
  <block id="765bb3744268ca0de607208bfdc8a37a" category="cell">儲存協調</block>
  <block id="8e232cd005846e0f66f39f19aa03103c" category="cell">22.01.0</block>
  <block id="b175d08ac03101cd40f077848d436e1f" category="cell">Red Hat OpenShift</block>
  <block id="d7ac58512991ed45f3abecbfbb9cddf1" category="cell">容器協調</block>
  <block id="2bb7e89d50aed884078c4b7857f5bb39" category="cell">4.6 EUS、4.7、4.8</block>
  <block id="9c4e78a1b7e7b4981aced1e10d037c6d" category="cell">Red Hat OpenStack平台</block>
  <block id="de45aa336111dfa1825c54726464307c" category="cell">私有雲基礎架構</block>
  <block id="3c5825a0d4bdb85c67182ef89bc9c7eb" category="cell">16.1</block>
  <block id="80e910f35b12e9c61335fa88de36edd0" category="cell">Red Hat虛擬化</block>
  <block id="e3024b13494086daa1b9813a799ba41a" category="cell">資料中心虛擬化</block>
  <block id="f9a97ed4e88eeab44f2693afa0eb2089" category="cell">4.4</block>
  <block id="8887a9a417a1629326acdb917d224337" category="cell">VMware vSphere</block>
  <block id="9c295b8302ac546bb93a346b68089f50" category="cell">6.7U3</block>
  <block id="aacc79f269e716528198eabb064b216b" category="inline-link-macro">下一步：Red Hat OpenShift總覽。</block>
  <block id="62857c2aca7eeae2c1f44104c3fc7dde" category="paragraph"><block ref="62857c2aca7eeae2c1f44104c3fc7dde" category="inline-link-macro-rx"></block></block>
  <block id="e690fa655ec589e6d0abb58164d5ccfd" category="doc">其他資訊：Red Hat OpenShift with NetApp</block>
  <block id="1be465260df7c846768e06c988594a6a" category="paragraph">若要深入瞭解本文件所述資訊、請檢閱下列網站：</block>
  <block id="6f4e4d9fbe846fd8bf7decf7dcffbd63" category="list-text">NetApp文件</block>
  <block id="1497398039e94eb756be9a3cff5649c7" category="inline-link"><block ref="1497398039e94eb756be9a3cff5649c7" category="inline-link-rx"></block></block>
  <block id="f2d3084aa0f70da5e15757ee3292cda7" category="paragraph"><block ref="f2d3084aa0f70da5e15757ee3292cda7" category="inline-link-rx"></block></block>
  <block id="824bd84e05db30b27e73f839dae3b8e5" category="list-text">Astra Trident文件</block>
  <block id="b74877ef96b7f6ef3d913a0c3ebca5e8" category="inline-link"><block ref="b74877ef96b7f6ef3d913a0c3ebca5e8" category="inline-link-rx"></block></block>
  <block id="086fce5f74cc93b0516aadec33636e09" category="paragraph"><block ref="086fce5f74cc93b0516aadec33636e09" category="inline-link-rx"></block></block>
  <block id="fe549ebd8a3f0fea1803cbaa947ef198" category="list-text">NetApp Astra Control Center文件</block>
  <block id="ad837604b59ea6a89754d8e75f595c7b" category="inline-link"><block ref="ad837604b59ea6a89754d8e75f595c7b" category="inline-link-rx"></block></block>
  <block id="4af69e66dd3d513168080d177919dd21" category="paragraph"><block ref="4af69e66dd3d513168080d177919dd21" category="inline-link-rx"></block></block>
  <block id="21b11dbf6ab3c6d36a76f280fe8ec75d" category="list-text">Red Hat OpenShift文件</block>
  <block id="74201863479cf5c9b89330c920283301" category="inline-link"><block ref="74201863479cf5c9b89330c920283301" category="inline-link-rx"></block></block>
  <block id="3e10ed3875c45f9dc9064324660fc2b1" category="paragraph"><block ref="3e10ed3875c45f9dc9064324660fc2b1" category="inline-link-rx"></block></block>
  <block id="06fd33ae9f869a89e860634ec94b9793" category="list-text">Red Hat OpenStack平台文件</block>
  <block id="647d438a62673b6a6c9830682f6bc128" category="inline-link"><block ref="647d438a62673b6a6c9830682f6bc128" category="inline-link-rx"></block></block>
  <block id="705a39bc1a12c50103a847633c3f7493" category="paragraph"><block ref="705a39bc1a12c50103a847633c3f7493" category="inline-link-rx"></block></block>
  <block id="8d79e9650a1f62f89d77743225e203c0" category="list-text">Red Hat虛擬化文件</block>
  <block id="a1bcc86cb4d53b458f0fdad36c20a0c0" category="inline-link"><block ref="a1bcc86cb4d53b458f0fdad36c20a0c0" category="inline-link-rx"></block></block>
  <block id="6d6038842b529e3d97aa9a8a9d81d866" category="paragraph"><block ref="6d6038842b529e3d97aa9a8a9d81d866" category="inline-link-rx"></block></block>
  <block id="4666fc2f640685636f115f8b2b6b8ce0" category="list-text">VMware vSphere文件</block>
  <block id="9c2eeeb25388391ff52a45ac0567fa73" category="inline-link"><block ref="9c2eeeb25388391ff52a45ac0567fa73" category="inline-link-rx"></block></block>
  <block id="71aa41fc980571d5a324adedae614f9c" category="paragraph"><block ref="71aa41fc980571d5a324adedae614f9c" category="inline-link-rx"></block></block>
  <block id="4d7f7f28f54da25e8386b6cfbcbda861" category="summary">此解決方案目前的部署是使用Google Cloud團隊提供的工具、透過兩個嚴格的驗證程序進行。</block>
  <block id="9fc7e91d0cfa196bee652e5b3ab8991b" category="doc">解決方案驗證</block>
  <block id="1bee22d71e0dda5649b05ac8074a7994" category="paragraph">此解決方案目前的部署是使用Google Cloud團隊提供的工具、透過兩個嚴格的驗證程序進行。這些驗證包括下列測試的子集：</block>
  <block id="9ce4b6121b9169f9a57e370bc063e43a" category="list-text">Anthos就緒平台的合作夥伴驗證：</block>
  <block id="b490ae83108f0a60d2d464f37aed5b33" category="list-text">確認已安裝並執行裸機平台服務上的所有Anthos。</block>
  <block id="132b0b7921ef1247c2db8a06ebb68fa0" category="list-text">將裸機叢集上的實體類節點從四個工作者節點向下擴充至三個節點、然後再縮減至四個節點。</block>
  <block id="5d80842c7c4c549fffd35b71989523c6" category="list-text">建立及刪除自訂命名空間。</block>
  <block id="bd4534ff45d2d6e71d15c4133153f039" category="list-text">建立一項新的Ngin像Web伺服器部署、增加複本數量、擴充該部署。</block>
  <block id="afdfab7c351a97a8f8e386c8c07eead0" category="list-text">為Ngin像 應用程式建立入口、並藉由讓index.html捲起來驗證連線能力。</block>
  <block id="e093cbb18731dc9a857dff2a5a9c5b0d" category="list-text">成功清除所有測試套件活動、並將叢集恢復為預先測試狀態。</block>
  <block id="6c91e0c5fc919c3ee9adc7909c3331b7" category="list-text">感謝合作夥伴驗證符合Anthos需求的儲存設備：</block>
  <block id="5aacb1c1d8ec3130c7bfc91d7678968c" category="list-text">建立具有持續磁碟區宣告的部署。</block>
  <block id="7c14d31217a85dc93c1505315501ef24" category="list-text">驗證離線Volume重新調整大小作業。</block>
  <block id="b6ab6f9d0bc58a79facf618d65db092c" category="list-text">驗證持續Volume是否能在叢集擴充作業中維持不變。</block>
  <block id="fa789d11a4863ab2ab7271940566105a" category="paragraph"><block ref="fa789d11a4863ab2ab7271940566105a" category="inline-link-macro-rx"></block></block>
  <block id="7eba670f1ea5a6e2fba9cff6b6399064" category="summary">本頁詳細說明MetalLB負載平衡器的安裝與組態指示。</block>
  <block id="79a2d2fa50d2b47d02c0e9dbdfadc07f" category="doc">安裝MetalLB負載平衡器：Red Hat OpenShift with NetApp</block>
  <block id="0b2da9b5fe81e13e88c9a05981a95a9e" category="paragraph">本頁列出MetalLB負載平衡器的安裝與組態指示。</block>
  <block id="d719c733d0cd8753c048c8c3a025fd51" category="paragraph">MetalLB是安裝在OpenShift叢集上的自我代管網路負載平衡器、可在未在雲端供應商上執行的叢集中、建立類型負載平衡器的OpenShift服務。MetalLB的兩項主要功能是位址分配和外部宣告、這些功能可搭配運作以支援負載平衡器服務。</block>
  <block id="28a4ce0a0514d0f6a6596fc7a9c5e725" category="section-title">MetalLB組態選項</block>
  <block id="04c22d763ca95631f9c8789eb2c6e68f" category="paragraph">根據MetalLB如何宣告指派給OpenShift叢集外部負載平衡器服務的IP位址、它以兩種模式運作：</block>
  <block id="92f98c10e5e0c86bcae2e9cb58b700e3" category="list-text">*第2層模式。*在此模式下、OpenShift叢集中的一個節點會取得服務的所有權、並回應該IP的ARP要求、以便在OpenShift叢集外部存取。因為只有節點會通告IP、所以它會有頻寬瓶頸和緩慢的容錯移轉限制。如需詳細資訊、請參閱文件 <block ref="4a1d14cac7ed68a2326a050e0f1fed80" category="inline-link-macro-rx"></block>。</block>
  <block id="13f78a1c753a58b3786e5664e7b01344" category="list-text">* BGP模式。*在此模式下、OpenShift叢集中的所有節點都會與路由器建立BGP對等工作階段、並通告路由以將流量轉送到服務IP。這項作業的先決條件是將MetalLB與該網路中的路由器整合。由於BGP中的雜湊機制、因此在變更服務的IP對節點對應時、會有一定的限制。如需詳細資訊、請參閱文件 <block ref="fed7545a9b4a70bb7835cc8b07492cba" category="inline-link-macro-rx"></block>。</block>
  <block id="5fe238de20fea7c5ec86dde0a98c5841" category="admonition">針對本文件、我們將在第2層模式中設定MetalLB。</block>
  <block id="32333b5f74abf17bffedb6e7abeb7b5f" category="section-title">安裝MetalLB負載平衡器</block>
  <block id="70bd399edc6825961c98dc29c2a49299" category="list-text">下載MetalLB資源。</block>
  <block id="d95ae9e4bae10f240e5577110ccbd7e6" category="list-text">編輯檔案「metallb.yaml」、並從「控制器部署」和「示範演講者」中移除「pec.template.spec.securityContext`」。</block>
  <block id="39bb715a16a6f4c1ab16bc3ad3654f0b" category="paragraph">*要刪除的行數：*</block>
  <block id="803519c541b237245faa09039c50dcaa" category="list-text">建立「metallb-system」命名空間。</block>
  <block id="980aff973ca30f65ec180530f40def06" category="list-text">建立MetalLB CR。</block>
  <block id="f87be5542b64a7f94a807699fd549479" category="list-text">在設定MetalLB揚聲器之前、請先授予揚聲器示範設定提高權限、以便執行所需的網路組態、使負載平衡器正常運作。</block>
  <block id="53747915d8e79873876b08edb1ce3671" category="list-text">在「metallb-system」命名空間中建立「ConfigMap」來設定MetalLB。</block>
  <block id="2b1e829362de1a86eeb131cdc4619908" category="list-text">現在、當建立負載平衡器服務時、MetalLB會指派外部IP給服務、並回應ARP要求來通告IP位址。</block>
  <block id="234ce2b9b198f2acf2193cbd06120ff2" category="admonition">如果您想要在BGP模式中設定MetalLB、請跳過上述步驟6、然後依照MetalLB文件中的程序進行 <block ref="fed7545a9b4a70bb7835cc8b07492cba" category="inline-link-macro-rx"></block>。</block>
  <block id="344aeea955e7674b99b8e8db2354133d" category="doc">使用Astra Control Center移轉工作負載：採用NetApp的Red Hat OpenShift</block>
  <block id="8fe3ce682e72fe87e56e5b11e1c2cd36" category="inline-link-macro">下一步：其他資訊：Red Hat OpenShift with NetApp</block>
  <block id="5dbd13d011610e2b4d57bd4ca3fd685f" category="paragraph"><block ref="5dbd13d011610e2b4d57bd4ca3fd685f" category="inline-link-macro-rx"></block></block>
  <block id="4d4480c77d84881f85763c51fb0a0ebb" category="doc">影片與示範：Red Hat OpenShift with NetApp</block>
  <block id="f64f81d4393ab1fc9545c35c8eb9f74d" category="paragraph">下列影片示範本文件所述的部分功能：</block>
  <block id="e8318a9e631a084c73ef782e37caec2d" category="list-text"><block ref="e8318a9e631a084c73ef782e37caec2d" category="inline-link-macro-rx"></block></block>
  <block id="51d1589966ca772274944bc0cd6b15bc" category="list-text"><block ref="51d1589966ca772274944bc0cd6b15bc" category="inline-link-macro-rx"></block></block>
  <block id="3bf54df2b09b6352059075c261817bd0" category="list-text"><block ref="3bf54df2b09b6352059075c261817bd0" category="inline-link-macro-rx"></block></block>
  <block id="b0fd8947f538fb2988e86d35bac6d6fa" category="list-text"><block ref="b0fd8947f538fb2988e86d35bac6d6fa" category="inline-link-macro-rx"></block></block>
  <block id="a43d8fe0429e313d082e6919f1fd2b75" category="list-text"><block ref="a43d8fe0429e313d082e6919f1fd2b75" category="inline-link-macro-rx"></block></block>
  <block id="5ac70ba9dc4ef90bfb3a829919c8044d" category="list-text"><block ref="5ac70ba9dc4ef90bfb3a829919c8044d" category="inline-link-macro-rx"></block></block>
  <block id="1c9dc04aa9e0e0aaf52a33af61d8d630" category="list-text"><block ref="1c9dc04aa9e0e0aaf52a33af61d8d630" category="inline-link-macro-rx"></block></block>
  <block id="051525dd6e814133d477a1812a4164c2" category="inline-link-macro">影片：NetApp HCI Red Hat虛擬化部署上的Red Hat OpenShift之用</block>
  <block id="817cc3ec794caf508075034f1fa54315" category="list-text"><block ref="817cc3ec794caf508075034f1fa54315" category="inline-link-macro-rx"></block></block>
  <block id="5e217c79c499978721e658f868053d3f" category="inline-link-macro">下一步：其他資訊：Red Hat OpenShift with NetApp。</block>
  <block id="d2fb587a433995783f0688b22359272d" category="paragraph"><block ref="d2fb587a433995783f0688b22359272d" category="inline-link-macro-rx"></block></block>
  <block id="a38830c0aa781c889eeb5910f47be6ea" category="summary">使用Astra Control Center在CI/CD傳輸途徑中啟用資料保護</block>
  <block id="dc0365ad4c92bc3f8973ff5616cd6830" category="doc">利用Astra Control Center在CI/CD管道中提供資料保護</block>
  <block id="9d312703c40c2d87b835076063682d59" category="summary">NetApp ONTAP 功能強大的儲存軟體工具、具備直覺式GUI、REST API與自動化整合、AI資訊預測分析與修正行動、不中斷營運的硬體升級、以及跨儲存設備匯入等功能。</block>
  <block id="48235fec2427a785c4a09d7150fc11fc" category="inline-link">NetApp ONTAP 產品網站</block>
  <block id="e65027864c84a42fc0799d878ffa0005" category="paragraph">如需更多關於NetApp ONTAP NetApp NetApp資訊儲存系統的資訊、請造訪<block ref="be9464a7a83e639a645a801fff2791d9" category="inline-link-rx"></block>。</block>
  <block id="3716516b242be48f15f8cbce6557a296" category="paragraph">支援下列功能：ONTAP</block>
  <block id="3e23168685787e9deffccb3bdb29d98a" category="list-text">統一化儲存系統、可同時存取及管理NFS、CIFS、iSCSI、FC、FCoE、 和FC-NVMe傳輸協定。</block>
  <block id="11927aa24f71bc959d85115c8dd8c3a9" category="list-text">不同的部署模式包括在All Flash、混合式和All HDD硬體組態上的內部部署、ONTAP Select 在支援的Hypervisor上的VM型儲存平台（例如：用作支援的Hypervisor）、以及在雲端上用Cloud Volumes ONTAP 作支援的</block>
  <block id="65c42edcb28a34e276f92dd9b2172613" category="list-text">支援自動資料分層、即時資料壓縮、重複資料刪除及壓縮、可提升ONTAP 資料在支援功能完善的系統上的儲存效率。</block>
  <block id="f0a8a62c8d7ea4d12a7f1c95b40d3cb3" category="list-text">工作負載型QoS控制儲存設備。</block>
  <block id="1e16ebc829d46d68a51d55ac22293b1e" category="list-text">與公有雲無縫整合、以利資料分層和保護。此外、支援強大的資料保護功能、可在任何環境中脫穎而出：ONTAP</block>
  <block id="613db5a747bd15eeccbcbedce5bd8888" category="list-text">* NetApp Snapshot複本。*快速的時間點資料備份、使用最少的磁碟空間、不需額外的效能負荷。</block>
  <block id="8f666d296151faf9c472110831227243" category="list-text">* NetApp SnapMirror.*將資料的Snapshot複本從一個儲存系統鏡射到另一個儲存系統。支援將資料鏡射到其他實體平台、以及雲端原生服務。ONTAP</block>
  <block id="5685b3f13393b751231ff096f77e6747" category="list-text">* NetApp SnapLock 功能*可將不可重複寫入的資料寫入無法在指定期間覆寫或清除的特殊磁碟區、以有效管理不可重複寫入的資料。</block>
  <block id="dff1063d1e007396b7fb75f266dd48b7" category="list-text">* NetApp SnapVault 功能*可將多個儲存系統的資料備份至中央Snapshot複本、作為所有指定系統的備份。</block>
  <block id="779cb4084f09228e9562ca3bedc5555c" category="list-text">* NetApp SyncMirror Real-.*可將資料即時、RAID層級的鏡射、鏡射到實體連接至相同控制器的兩個不同磁碟叢。</block>
  <block id="929a0581ca4b2982313e21e51effbc10" category="list-text">* NetApp SnapRestore 功能*可根據需求、從Snapshot複本快速還原備份資料。</block>
  <block id="4e3f9a03501932f914205c4ad0e682ea" category="list-text">* NetApp FlexClone。*可根據Snapshot複本、即時提供NetApp磁碟區完整讀取且可寫入的複本。</block>
  <block id="774a065cb3548cc61fb0ec3bc1494fbe" category="inline-link">供應說明文件中心 ONTAP</block>
  <block id="96f474208f638efbbd85fac3a46a2ed4" category="paragraph">如需ONTAP 更多關於效能的資訊、請參閱<block ref="eb1214e3900207403ada8715d3d4c764" category="inline-link-rx"></block>。</block>
  <block id="c389369b80a8ce8ead607b4c7088682e" category="admonition">NetApp ONTAP 產品可在內部部署、虛擬化或雲端上使用。</block>
  <block id="81bf516f5b38ea41d503a2670a9dc144" category="paragraph"><block ref="81bf516f5b38ea41d503a2670a9dc144" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e80842c9211bc376ee42d583c70ae408" category="section-title">NetApp平台</block>
  <block id="5a69e0f8303b40f9f4d56038d3d260c9" category="section-title">NetApp AFF/FAS</block>
  <block id="f4fc33973424c12639f93790b1c6f370" category="paragraph">NetApp提供強大的All Flash AFF （VMware）與橫向擴充混合式FAS （VMware）儲存平台、專為低延遲效能、整合式資料保護及多重傳輸協定支援而量身打造。</block>
  <block id="d4c312c600a949fb72436c2d10568a90" category="paragraph">這兩種系統均採用ONTAP NetApp的NetApp支援資料管理軟體、這是業界最先進的資料管理軟體、可提供高可用度、雲端整合、簡化的儲存管理、為您的資料架構提供企業級的速度、效率和安全性。</block>
  <block id="992c24be8f66e4259b38ce763c115251" category="paragraph">如需NetApp AFF/FAS平台的詳細資訊、請按一下<block ref="629508ef5a91b5835f70894f34eed424" category="inline-link-rx"></block>。</block>
  <block id="3a3a5cd068731551120f43f37950768b" category="section-title">ONTAP Select</block>
  <block id="b008e805d13d953ddb5cbb220d8ef9b6" category="paragraph">透過軟體定義部署的NetApp解決方案、可將其部署到您環境中的Hypervisor上。ONTAP Select ONTAP可安裝在VMware vSphere或KVM上、並提供硬體ONTAP 型的完整功能與體驗。</block>
  <block id="3f0bbee5abf3eed060d4147cb0d060b9" category="paragraph">如需ONTAP Select 更多有關資訊、請按一下<block ref="7c1424ed7be035c303f12b0763e38ece" category="inline-link-rx"></block>。</block>
  <block id="f0f4b6de2040d7dc57e7f4f6baee7ec3" category="paragraph">NetApp Cloud Volumes ONTAP 功能是雲端部署版本的NetApp ONTAP 功能、可部署在許多公有雲上、包括Amazon AWS、Microsoft Azure和Google Cloud。</block>
  <block id="c7fa0d52c3955385f084d0e67c59f963" category="paragraph">如需Cloud Volumes ONTAP 更多有關資訊、請按一下<block ref="75c9b0075008bbe40ac851ad7f6dda6a" category="inline-link-rx"></block>。</block>
  <block id="a5369d9ec76321542413da21642ecc74" category="inline-link-macro">下一步：NetApp儲存整合概述</block>
  <block id="1a9b0bf11ebe49684776b9ffad6b4022" category="paragraph"><block ref="1a9b0bf11ebe49684776b9ffad6b4022" category="inline-link-macro-rx"></block></block>
  <block id="2c65eb4e4300c763b9d8ffcdc45660fc" category="paragraph">若要安裝OpenShift虛擬化、請完成下列步驟：</block>
  <block id="bb761e1ed8ef4412cddb399e81488f83" category="list-text">以叢集管理存取權登入Red Hat OpenShift裸機叢集。</block>
  <block id="bbb49986c10d9b599ce8b72ea09d5261" category="list-text">瀏覽至「運算子」&gt;「運算子中樞」、然後搜尋OpenShift虛擬化。</block>
  <block id="016a229c1180d24870be44f7391c5678" category="list-text">選取OpenShift Virtualization動態磚、然後按一下Install（安裝）。</block>
  <block id="fe87c9ebb6d1db5af643c2101dd83c2d" category="image-alt">OpenShift虛擬化營運者專區</block>
  <block id="d2770f20a312c7d906cf3d8a97d335a2" category="list-text">在Install Operator（安裝操作員）畫面上、保留所有預設參數、然後按一下Install（安裝）。</block>
  <block id="66b5ae84d6c0a470bb131b7aeb63f734" category="image-alt">OpenShift虛擬化業者詳細資料</block>
  <block id="5f27d84a5a158e75ab7ac4543ca7c1be" category="image-alt">OpenShift虛擬化營運者安裝</block>
  <block id="49598c5badb95e31a9894d5dc277f301" category="list-text">安裝完操作員之後、按一下「Create hyperconverged（建立超融合式）」</block>
  <block id="f63ea68253a91a92e8afb2e42bf0fb36" category="image-alt">OpenShift虛擬化業者-建立超融合式</block>
  <block id="0e4308133099865567bc6a19f0abcb88" category="list-text">在Create hyperconverged（建立超融合式）畫面上、按一下Create（建立）、接受所有預設參數。此步驟會開始安裝OpenShift虛擬化。</block>
  <block id="c57b56755457ec355801b1e17915fc47" category="image-alt">OpenShift虛擬化營運者：超融合式詳細資料</block>
  <block id="ee0ffac6ee8f4e224a044d95e68aa30d" category="list-text">在openshift-cnv命名空間中的所有Pod移至執行狀態、且OpenShift虛擬化運算子處於「成功」狀態之後、即可開始使用運算子。現在可以在OpenShift叢集上建立VM。</block>
  <block id="423e88e20ace3dbca3f9d5bd3b109cef" category="image-alt">OpenShift虛擬化操作員安裝完成</block>
  <block id="46af5002087f682df1feb9b3339d1f68" category="inline-link-macro">下一步：工作流程：建立VM。</block>
  <block id="066b9e10038ca1d47643166f151f910c" category="paragraph"><block ref="066b9e10038ca1d47643166f151f910c" category="inline-link-macro-rx"></block></block>
  <block id="c48db988cd283c11f89d4dd85803ec0a" category="doc">使用NetApp在Red Hat OpenShift上設定多租戶共享</block>
  <block id="6d72da55d82cdd434045ba5df1a959b6" category="paragraph">許多在容器上執行多個應用程式或工作負載的組織、傾向於針對每個應用程式或工作負載部署一個Red Hat OpenShift叢集。這可讓他們針對應用程式或工作負載實作嚴格的隔離、最佳化效能並減少安全性弱點。不過、為每個應用程式部署個別的Red Hat OpenShift叢集、會產生自己的問題集。它會增加營運成本、必須自行監控及管理每個叢集、因為不同應用程式的專屬資源而增加成本、並阻礙有效的擴充性。</block>
  <block id="332dcd535fa9ce865f462efb80829a35" category="paragraph">若要克服這些問題、您可以考慮在單一Red Hat OpenShift叢集中執行所有應用程式或工作負載。但是在這樣的架構中、資源隔離和應用程式安全性弱點是其中一項重大挑戰。某個工作負載中的任何安全弱點都可能自然延伸到另一個工作負載、進而增加影響區域。此外、任何應用程式突然無法控制的資源使用率、都可能影響另一個應用程式的效能、因為預設不會有資源配置原則。</block>
  <block id="14a9bacc4b197037f54eb0c4c7e1970c" category="paragraph">因此、企業組織希望能在這兩個領域中找到最佳的解決方案、例如允許他們在單一叢集中執行所有工作負載、同時為每個工作負載提供專屬叢集的優點。</block>
  <block id="73c1b26ace2fc5fca6e6e78c00a61837" category="paragraph">其中一個有效的解決方案是在Red Hat OpenShift上設定多租戶共享。多租戶共享是一種架構、可讓多個租戶在同一個叢集上共存、並適當隔離資源、安全性等。在這種情況下、租戶可視為叢集資源的子集、而這些資源已設定為供特定使用者群組專用。在Red Hat OpenShift叢集上設定多租戶共享可提供下列優點：</block>
  <block id="cde9f9f8fcae0cdc6624895868803d60" category="list-text">允許共用叢集資源、進而降低資本支出和營運成本</block>
  <block id="943a49720e6c85fa9692af2a5ebd8829" category="list-text">降低營運與管理成本</block>
  <block id="f51a58b3ab19c778652fcff9dd39ca55" category="list-text">保護工作負載免於安全漏洞的交叉污染</block>
  <block id="181cfddfdb055879df4d55323a14c473" category="list-text">保護工作負載、避免資源爭用造成非預期的效能降級</block>
  <block id="f3ff3f5b3c67fb47bb8ec0f2f688b97d" category="paragraph">對於完全實現的多租戶OpenShift叢集、必須針對屬於不同資源桶的叢集資源設定配額和限制：運算、儲存、網路、安全性等。雖然我們涵蓋本解決方案中所有資源桶的某些層面、 我們將重點放在隔離和保護同一個Red Hat OpenShift叢集上多個工作負載所提供或使用的資料的最佳實務做法上、方法是在由Astra Trident以NetApp ONTAP S動地 配置的儲存資源上設定多租戶。</block>
  <block id="4fbbd2f5b2a8e82447aa1b841b2a70d0" category="paragraph"><block ref="4fbbd2f5b2a8e82447aa1b841b2a70d0" category="inline-link-macro-rx"></block></block>
  <block id="ec72a928f8eedfaa788b44b6935b50fe" category="doc">利用Astra Control和NetApp FlexClone技術加速軟體開發：Red Hat OpenShift with NetApp</block>
  <block id="c12328be87e4d79e79b3db80bd6ff03f" category="list-text">NetApp ONTAP 產品資料中心</block>
  <block id="1b214ce6b630c9ad822fc984e20f3675" category="inline-link"><block ref="1b214ce6b630c9ad822fc984e20f3675" category="inline-link-rx"></block></block>
  <block id="91fe04078e98f81bd39430c985bba713" category="paragraph"><block ref="91fe04078e98f81bd39430c985bba713" category="inline-link-rx"></block></block>
  <block id="0b98c026ddf9e406d439373d2dab724b" category="inline-link"><block ref="0b98c026ddf9e406d439373d2dab724b" category="inline-link-rx"></block></block>
  <block id="63d46b0efa85a58196faf13e5aa20d7d" category="paragraph"><block ref="63d46b0efa85a58196faf13e5aa20d7d" category="inline-link-rx"></block></block>
  <block id="3c572f7c92d4b91543f94621d03cf993" category="list-text">Google Cloud的特質</block>
  <block id="712cab3570d004ba67a47d7ff8df208b" category="inline-link"><block ref="712cab3570d004ba67a47d7ff8df208b" category="inline-link-rx"></block></block>
  <block id="a5526c10a9a8b42f6aab833b33a57eaf" category="paragraph"><block ref="a5526c10a9a8b42f6aab833b33a57eaf" category="inline-link-rx"></block></block>
  <block id="aa69ca65720dd2e4eef99ebfb7816268" category="list-text">裸機上的Anthos</block>
  <block id="a3df86c144842761b9bcb0b540edbefe" category="inline-link"><block ref="a3df86c144842761b9bcb0b540edbefe" category="inline-link-rx"></block></block>
  <block id="8d3014f959efddffaea116898b063218" category="paragraph"><block ref="8d3014f959efddffaea116898b063218" category="inline-link-rx"></block></block>
  <block id="9f9077091d74fb2c701c8c8c4a837c16" category="summary">為了初步驗證此解決方案、NetApp與全球技術（WWT）合作、在WWT的進階技術中心（ATC）建立環境。Anthos是使用Google Cloud提供的bmctl工具、部署在裸機基礎架構上。下節詳細說明用於驗證的部署。</block>
  <block id="06dc93ff20817f0d5fb8a07f8e43d6cb" category="doc">部署摘要</block>
  <block id="195d9c1693fc10788ad8da5d4d9d2402" category="paragraph">Anthos on裸機with NetApp解決方案是以高可用度的混合式叢集建置而成、其中包含三個Anthos控制面板節點和四個Anthos工作節點。</block>
  <block id="d0236eb3bd180706e0eaca7d726c66e6" category="paragraph">所使用的控制面節點為裝載於機箱中的Cisco UCS B200M3刀鋒伺服器、每個伺服器均配置有單一虛擬網路介面卡（vNIC）、可在Cisco UCS平台層級進行A/B容錯移轉、以達到容錯能力。Cisco UCS機箱連接到Cisco UCS 6248架構互連的上游、提供不同的路徑、可分隔光纖A和光纖B的流量這些光纖互連設備可上游連接至一對Cisco Nexus 5548資料中心交換器、並在WWT連結至核心網路。</block>
  <block id="3753f99ef321c354828532bad11422ec" category="paragraph">工作節點為HP ProLiant服務器的3604節點、每個節點均執行下列任一作業系統：Red Hat Enterprise Linux 8.2、CentOS 8.2、Ubuntu 20.04 LTS或Ubuntu 18.04 LTS。Red Hat Enterprise Linux 8和CentOS 8節點已設定NIC群組、以LACP模式執行、並連接至兩個Nexus 9k C93180YC-FX交換器以確保容錯能力。Ubuntu伺服器已設定為在LACP模式中進行網路連結、並連接至同一組Nexus 9k交換器以確保容錯能力。</block>
  <block id="e5b1fecda3d68cda9e216e0e73b26dec" category="paragraph">下圖說明從解決方案到機架資料中心交換器頂端的實體纜線配置圖。</block>
  <block id="aa5914d8b6d8a27fd4df86fef0c0395a" category="paragraph"><block ref="aa5914d8b6d8a27fd4df86fef0c0395a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2a7a105940efa6ed6c71004ff40b8347" category="paragraph">下圖顯示NetApp合作夥伴WWT在實驗室硬體上部署及驗證的解決方案邏輯檢視。</block>
  <block id="ff8f4395cfa334d6d144e3a2426e7b96" category="paragraph"><block ref="ff8f4395cfa334d6d144e3a2426e7b96" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e8d3f61f51562ad245b65242dc92c0da" category="inline-link-macro">下一步：解決方案驗證。</block>
  <block id="b1d15269d6e9cabdf17337c73e6a5f07" category="paragraph"><block ref="b1d15269d6e9cabdf17337c73e6a5f07" category="inline-link-macro-rx"></block></block>
  <block id="472d13eb415cd6107aeef3a1ae6cd705" category="summary">NetApp提供多種產品、協助客戶協調及管理以容器為基礎的環境中的持續資料、例如Red Hat OpenShift。</block>
  <block id="2515fbef39d57544723402c683215c64" category="doc">NetApp儲存整合概述</block>
  <block id="689ca76b61ed9331405d36eb5ded709d" category="paragraph">NetApp提供多種產品來協助您協調及管理以容器為基礎的環境中的持續資料、例如Red Hat OpenShift。</block>
  <block id="ebfc0e639726a366f8eb5ac86bb7cc43" category="paragraph"><block ref="ebfc0e639726a366f8eb5ac86bb7cc43" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0c3fd18fbca2ec11aa1ef250cf79f2e5" category="paragraph">NetApp Astra Control提供豐富的儲存設備與應用程式感知資料管理服務、適用於狀態明確的Kubernetes工作負載、採用NetApp資料保護技術。Astra Control Service可支援雲端原生Kubernetes部署中的狀態工作負載。Astra Control Center可支援內部部署中的狀態工作負載、例如Red Hat OpenShift。如需詳細資訊、請參閱NetApp Astra Control網站<block ref="508f471fa59796a53754f031c40091c1" category="inline-link-rx"></block>。</block>
  <block id="d656f81a685df3697a812158d0bd2f21" category="paragraph">NetApp Astra Trident是開放原始碼且完全支援的儲存協調工具、適用於容器和Kubernetes配送、包括Red Hat OpenShift。如需詳細資訊、請造訪Astra Trident網站<block ref="845024b96ab150d9f628b33995c60669" category="inline-link-rx"></block>。</block>
  <block id="cd351007d4a671a321b6881f730d0dc3" category="paragraph">以下頁面提供更多有關NetApp產品的資訊、這些產品已通過Red Hat OpenShift with NetApp解決方案的應用程式與持續儲存管理驗證：</block>
  <block id="fcdf7b66cf4e59ce81d1400e4ca73b4b" category="list-text"><block ref="fcdf7b66cf4e59ce81d1400e4ca73b4b" category="inline-link-macro-rx"></block></block>
  <block id="ea1c9e7b76d8b7cc203b9f6a9633e241" category="list-text"><block ref="ea1c9e7b76d8b7cc203b9f6a9633e241" category="inline-link-macro-rx"></block></block>
  <block id="afa49872fb8ae001174e4c8f2cc47208" category="inline-link-macro">下一步：NetApp Astra Control Center總覽</block>
  <block id="22fd530ae76b4bbe50669b9a4d5b72d7" category="paragraph"><block ref="22fd530ae76b4bbe50669b9a4d5b72d7" category="inline-link-macro-rx"></block></block>
  <block id="3a724344bfc1b086a678d66814f20dd7" category="summary">本節提供與Jenkins部署持續整合及持續交付或部署管線的步驟、以驗證解決方案的運作。</block>
  <block id="b830a759b7bbee23da50f11979fb8f27" category="doc">部署Jenkins CI/CD管道搭配持續儲存設備：Red Hat OpenShift with NetApp</block>
  <block id="ff587ce314d6f90660779e9d75cafe53" category="paragraph">本節提供與Jenkins部署持續整合/持續交付或部署（CI/CD）管線的步驟、以驗證解決方案的運作。</block>
  <block id="9eb8af4dd2c3557a24b914601b6ae465" category="section-title">建立Jenkins部署所需的資源</block>
  <block id="93b3852e5c67975dd33b1769b24a4a85" category="paragraph">若要建立部署Jenkins應用程式所需的資源、請完成下列步驟：</block>
  <block id="9fd493573e73cb0e5e55e97306249596" category="list-text">建立名為Jenkins的新專案。</block>
  <block id="5690195262fb589b6021733b4a5a4432" category="paragraph"><block ref="5690195262fb589b6021733b4a5a4432" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8d256abce3dbdfed83e337956e42f60f" category="list-text">在此範例中、我們部署Jenkins搭配持續儲存設備。若要支援Jenkins建置、請建立永久虛擬基礎架構。瀏覽至「儲存設備」&gt;「持續磁碟區宣告」、然後按一下「建立持續磁碟區宣告」。選取建立的儲存類別、確定「持續Volume宣告名稱」為Jenkins、選取適當的大小和存取模式、然後按一下「建立」。</block>
  <block id="f9db9f308c8ed7f5d0ed0851d8d605cb" category="paragraph"><block ref="f9db9f308c8ed7f5d0ed0851d8d605cb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9272f40a21ca3dad814c4e3886b40776" category="section-title">使用持續儲存設備部署Jenkins</block>
  <block id="939a7b51bfb262627185af768c3c1024" category="paragraph">若要使用持續儲存設備來部署Jenkins、請完成下列步驟：</block>
  <block id="d31d340fd6b135cac2cfac7b04a34c10" category="list-text">在左上角、將角色從「管理員」變更為「開發人員」。按一下「+新增」、然後從「目錄」中選取。在「依關鍵字篩選」列中、搜尋Jenkins。選取Jenkins Service with Persistent Storage。</block>
  <block id="bc5512ef7a17a0cfb58cb1ede30a6137" category="paragraph"><block ref="bc5512ef7a17a0cfb58cb1ede30a6137" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6baa4bd25992de2d17278ade0d3090ad" category="list-text">按一下「實體化範本」。</block>
  <block id="949381804bf1e16ca04ba9ac5fabc6a4" category="paragraph"><block ref="949381804bf1e16ca04ba9ac5fabc6a4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c7b4a6da6ab2733552de61d67b38a39e" category="list-text">根據預設、會填入Jenkins應用程式的詳細資料。根據您的需求修改參數、然後按一下「Create（建立）」。此程序可建立所有必要資源、以支援OpenShift上的Jenkins。</block>
  <block id="cc9a211dac876290bd6ed039cf1afdcf" category="paragraph"><block ref="cc9a211dac876290bd6ed039cf1afdcf" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fb86f2dea9912af1bb1677c9cf33e619" category="list-text">Jenkins Pod約需10至12分鐘才能進入就緒狀態。</block>
  <block id="274c247b7612630006e3d87d5ed5d46f" category="paragraph"><block ref="274c247b7612630006e3d87d5ed5d46f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="da33835bff86a0b0c8be6c67dcf677bb" category="list-text">建立Pod之後、請瀏覽至「Networking」（網路）&gt;「Routes」（路由）。若要開啟Jenkins網頁、請按一下Jenkins路由提供的URL。</block>
  <block id="2ebe03c4d2a2f4464e9ec333d6fd7c17" category="paragraph"><block ref="2ebe03c4d2a2f4464e9ec333d6fd7c17" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d59d1324dea050a2c0ffc376de411aa0" category="list-text">由於在建立Jenkins應用程式時使用OpenShift Oauth、請按一下「使用OpenShift登入」。</block>
  <block id="8dd2ba6f6eb648ee9a5d6e1b6aa96114" category="paragraph"><block ref="8dd2ba6f6eb648ee9a5d6e1b6aa96114" category="inline-image-macro-rx" type="image"></block></block>
  <block id="70a742210f3e3599821b3a11b682144c" category="list-text">授權Jenkins服務帳戶存取OpenShift使用者。</block>
  <block id="9359288fc248319fa9acef62e4686d1c" category="paragraph"><block ref="9359288fc248319fa9acef62e4686d1c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b07934b6023389a7e3e183b45e3b7448" category="list-text">隨即顯示Jenkins歡迎頁面。因為我們使用的是墨文建置、所以請先完成墨文安裝。瀏覽至「Manage Jenkins（管理Jenkins）」&gt;「Global Tool Configuration（全域工具組態）」、然後按一下「Men（新增）」子標題中的「Add Maven（新增輸入您選擇的名稱、並確定已選取「自動安裝」選項。按一下儲存。</block>
  <block id="00713894c16827219fd5ab50c5fc3794" category="paragraph"><block ref="00713894c16827219fd5ab50c5fc3794" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8fd32305bf380bf893ef2407eae75f5d" category="list-text">您現在可以建立管道來示範CI/CD工作流程。在首頁上、按一下左側功能表中的「Create New Jobs（建立新工作）」或「New item（新項目）」。</block>
  <block id="24f99be3c7033ab08c3baec1cdf32702" category="paragraph"><block ref="24f99be3c7033ab08c3baec1cdf32702" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3b6fc174a3fad5c396413febe1d4ba50" category="list-text">在「Create item（建立項目）」頁面上、輸入您選擇的名稱、選取「Pipeline（管道）」、然後按一下「OK（確定）」。</block>
  <block id="b8c544e8c9e5bd5fa17dce065fd5dcc9" category="paragraph"><block ref="b8c544e8c9e5bd5fa17dce065fd5dcc9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cd55d787cacfb25983e0a24b58ba6d48" category="list-text">選取Pipeline（管道）索引標籤。從「試用範例管道」下拉式功能表中、選取「Github + Maven」。程式碼會自動填入。按一下儲存。</block>
  <block id="dedbf53849830e8b275b69e9b98159ce" category="paragraph"><block ref="dedbf53849830e8b275b69e9b98159ce" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0191ad3b841f8db403ec4749d571eb4b" category="list-text">按一下「立即建置」、即可在準備、建置和測試階段觸發開發。完成整個建置程序並顯示建置結果可能需要幾分鐘的時間。</block>
  <block id="1d11f84feef51515ab9fdaafb3f02f3a" category="paragraph"><block ref="1d11f84feef51515ab9fdaafb3f02f3a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b04b355d9fc6a2e23965649ebdd0aa31" category="list-text">只要有任何程式碼變更、就能重新建置管線、修補新版軟體、實現持續整合與持續交付。按一下「近期變更」以追蹤先前版本的變更。</block>
  <block id="43d9a2fc4d89e82c869a466778811ab3" category="paragraph"><block ref="43d9a2fc4d89e82c869a466778811ab3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0b41ceffa053ec5210732b1f8d0f0c5d" category="inline-link-macro">下一步：影片與示範。</block>
  <block id="232b127190e97018e70ee81d28e36117" category="paragraph"><block ref="232b127190e97018e70ee81d28e36117" category="inline-link-macro-rx"></block></block>
  <block id="b1a934cbded2602c4186fb43d7c8a986" category="paragraph">根據特定的使用案例、容器和虛擬機器（VM）都能做為不同應用程式類型的最佳平台。因此、許多組織在容器上執行部分工作負載、而在VM上執行部分工作負載。這通常會讓組織面臨更多挑戰、因為必須管理不同的平台：VM的Hypervisor和應用程式的Container Orchestrator。</block>
  <block id="7652dcfa1608f7891f4e5c9b462354be" category="paragraph">為了因應這項挑戰、Red Hat從OpenShift版本4.6開始推出OpenShift虛擬化（先前稱為Container Native Virtualization）。OpenShift虛擬化功能可讓您在相同的OpenShift Container Platform安裝上、同時執行及管理虛擬機器與容器、提供混合式管理功能、以便透過操作員自動化VM的部署與管理。除了在OpenShift中建立VM之外、Red Hat還支援從VMware vSphere、Red Hat虛擬化及Red Hat OpenStack平台部署中匯入VM。</block>
  <block id="269bac1ed5128eacc45c06318333642a" category="image-alt">OpenShift虛擬化</block>
  <block id="bf4e72937ad57bd2f780561c81d25d53" category="paragraph">OpenShift虛擬化也支援即時VM移轉、VM磁碟複製、VM快照等特定功能、並在由NetApp ONTAP 支援的情況下、由Astra Trident提供協助。本文件稍後將在各自的章節中討論每個工作流程的範例。</block>
  <block id="8a5bcb32f7cb878beee68d6f84b3ada7" category="paragraph">若要深入瞭解Red Hat OpenShift虛擬化、請參閱文件<block ref="3339eb5909b80aa35681f9f3f9478c17" category="inline-link-rx"></block>。</block>
  <block id="2bd77ae4e72f37c837a2da8cfa83e210" category="inline-link-macro">下一步：部署先決條件。</block>
  <block id="3a86ddb85761278fa813d15edecbc2b1" category="paragraph"><block ref="3a86ddb85761278fa813d15edecbc2b1" category="inline-link-macro-rx"></block></block>
  <block id="55c7e45b50d0b012faf4bce31b6ad05d" category="section-title">從Snapshot建立VM</block>
  <block id="9e5a59ca9aef030e74a725dab3fb6dcf" category="paragraph">有了Astra Trident和Red Hat OpenShift、使用者就能在IT資源配置的儲存類別上、對持續磁碟區進行快照。有了這項功能、使用者可以取得磁碟區的時間點複本、然後使用它來建立新的磁碟區、或將相同的磁碟區還原回先前的狀態。這可啟用或支援各種使用案例、從復原到複製到資料還原。</block>
  <block id="f991e1a54e399d272c7d968dcdfdb690" category="paragraph">對於OpenShift中的Snapshot作業、必須定義Volume SnapshotClass、Volume Snapshot和Volume SnapshotContent等資源。</block>
  <block id="0e2d1628ef03c4400cd293c3143cabb3" category="list-text">Volume SnapshotContent是從叢集中的磁碟區擷取的實際快照。它是整個叢集的資源、類似於儲存的PersistentVolume。</block>
  <block id="8ca4876558d3675f7a3e2c452c62a215" category="list-text">Volume Snapshot是建立Volume快照的要求。這類似於PeristentVolume Claim。</block>
  <block id="7f9fbed02a61699d31f7d9a0eb11bc81" category="list-text">Volume SnapshotClass可讓管理員為Volume Snapshot指定不同的屬性。它可讓您針對從相同磁碟區擷取的不同快照、擁有不同的屬性。</block>
  <block id="7f7858938c48bb9f08341c0e41c9162d" category="image-alt">Snapshot架構中的VM</block>
  <block id="99bf6e1ad41f7875d5b7ec9f857c4f0f" category="paragraph">若要建立VM的Snapshot、請完成下列步驟：</block>
  <block id="5dc14d36063086387d2eb7cf012544aa" category="list-text">建立Volume SnapshotClass、然後使用該類別建立Volume Snapshot。瀏覽至「Storage（儲存設備）」&gt;「Volume SnapshotClass（Volume SnapshotClass）」、然後按一下「Create Volume SnapshotClass</block>
  <block id="52f0977d1e65469f01e2f290e637a8f1" category="list-text">輸入Snapshot Class的名稱、輸入驅動程式的csi.trident.netapp.io、然後按一下「Create（建立）」。</block>
  <block id="508073b07367d898823f1841627451d4" category="image-alt">建立Snapshot類別</block>
  <block id="2bde7e02152796551174ea391bda0b60" category="list-text">識別附加至來源VM的PVc、然後建立該PVc的Snapshot。瀏覽至「儲存&gt; Volume Snapshots」、然後按一下「Create Volume Snapshots（建立Volume Snapshot）」。</block>
  <block id="b9513caba1fba7b4291a9e22bc512de5" category="list-text">選取您要建立Snapshot的永久虛擬磁碟、輸入Snapshot名稱或接受預設值、然後選取適當的Volume SnapshotClass。然後按一下「建立」。</block>
  <block id="a7a384e6f13cae2ef877b4dd78fd48ad" category="image-alt">建立Snapshot</block>
  <block id="d8ae3e40f0f0dba0b7c7ba5b8eea845a" category="list-text">這會在該時間點建立永久虛擬資料快照。</block>
  <block id="e9b3b34ca8f917d1968a106e682f1a97" category="section-title">從快照建立新的VM</block>
  <block id="3ffbaa72c8e63f0ec3ced08d8ebf9f72" category="list-text">首先、將Snapshot還原成新的PVc。瀏覽至「Storage（儲存設備）」&gt;「Volume Snapshots（Volume Snapshot）」、按一下您要還原的Snapshot旁邊的省略符號、然後按一下「Restore as new PVc（還原為新的PVc）」。</block>
  <block id="5160cd070df38f982551c5fea6f1c844" category="list-text">輸入新的PVc詳細資料、然後按一下「還原」。這會產生新的PVC.</block>
  <block id="0d695454ca10516a832452b6123c5bb5" category="image-alt">將Snapshot還原至新的PVc</block>
  <block id="8a4d1acf8df9931b5c42b3253f943d79" category="list-text">接下來、從這個永久虛擬機器建立新的虛擬機器。瀏覽至「工作負載」&gt;「虛擬化」&gt;「虛擬機器」、然後按一下「建立」&gt;「使用Yaml」</block>
  <block id="91b9a57ab88a6942f692f9f393549f6e" category="list-text">在SPEC &gt;範本&gt; SPEC &gt; Volume區段中、指定從Snapshot而非從Container磁碟建立的新永久虛擬磁碟。請根據您的需求、提供新VM的所有其他詳細資料。</block>
  <block id="57dc3c96f32e4895e89eab4a248088f5" category="list-text">成功建立虛擬機器之後、請存取並確認新虛擬機器的狀態與虛擬機器的狀態相同、而在建立快照時、虛擬機器的永久虛擬機器是用來建立快照的。</block>
  <block id="06fdae3f02fee5cbe172f1574564c925" category="doc">適用於Kubernetes的進階叢集管理：採用NetApp的Red Hat OpenShift</block>
  <block id="30c15b5a84f4fb26cd25b38dc787b22d" category="paragraph">隨著容器化應用程式從開發移轉至正式作業、許多組織需要多個Red Hat OpenShift叢集來支援該應用程式的測試與部署。因此、組織通常會在OpenShift叢集上裝載多個應用程式或工作負載。因此、每個組織最終都必須管理一組叢集、因此OpenShift系統管理員必須面對新增的挑戰、即在橫跨多個內部部署資料中心和公有雲的各種環境中、管理及維護多個叢集。為了因應這些挑戰、Red Hat推出適用於Kubernetes的進階叢集管理。</block>
  <block id="1cf7b9db4d7fe091bd1bbb685e5beea8" category="paragraph">適用於Kubernetes的Red Hat Advanced Cluster Management可讓您執行下列工作：</block>
  <block id="808c579683377aa7bd89b8e4d76ba220" category="list-text">跨資料中心和公有雲建立、匯入及管理多個叢集</block>
  <block id="7fe0555145a586e3fb769f86902ccc72" category="list-text">從單一主控台部署及管理多個叢集上的應用程式或工作負載</block>
  <block id="416434625b0f2158d99a4af37f233805" category="list-text">監控及分析不同叢集資源的健全狀況與狀態</block>
  <block id="fed6fdd49a1e6adda0ea12a93e74ea2d" category="list-text">監控並強制執行多個叢集的安全法規遵循</block>
  <block id="a7516c278242a08b85090e24cbf67218" category="paragraph">Red Hat Advanced Cluster Management for Kubernetes是以附加元件安裝至Red Hat OpenShift叢集的方式、它會將此叢集當作中央控制器來執行所有作業。此叢集稱為集線器叢集、會公開使用者連線至「進階叢集管理」的管理層面。透過進階叢集管理主控台匯入或建立的所有其他OpenShift叢集、均由中樞叢集管理、稱為託管叢集。它會在託管叢集上安裝名為Klusterlet的代理程式、將其連線至集線器叢集、並針對與叢集生命週期管理、應用程式生命週期管理、觀察性及安全性法規遵循相關的各種活動、提供服務要求。</block>
  <block id="b1000f23e43dfac19b53c74d7ebe66c8" category="image-alt">ACM架構</block>
  <block id="a376445fd812a7fa27714e6b11bc6163" category="paragraph">如需詳細資訊、請參閱文件<block ref="50c0dc50e188cf3a7847d9a813fd829e" category="inline-link-rx"></block>。</block>
  <block id="a99137a02f570225903b02b175e289a4" category="paragraph"><block ref="a99137a02f570225903b02b175e289a4" category="inline-link-macro-rx"></block></block>
  <block id="25d77826c061b84a0c036f43e02aa129" category="doc">安裝OpenShift虛擬化：Red Hat OpenShift with NetApp</block>
  <block id="5568d55567785f154c987872c1684bfa" category="doc">工作負載移轉：Red Hat OpenShift with NetApp</block>
  <block id="ec22e01e7cd5087ef746b3db5852da6e" category="doc">擴充：新增更多專案</block>
  <block id="0e4136a9f4ad3204c07db26d3c28a546" category="paragraph">在多租戶組態中、新增含有儲存資源的專案需要額外的組態、以確保不違反多租戶共享。若要在多租戶叢集中新增更多專案、請完成下列步驟：</block>
  <block id="c8acb1fa89b1ec9d78799a2dd4aa8b59" category="list-text">以儲存管理員身分登入NetApp ONTAP 解決方案叢集。</block>
  <block id="d0ed0d7b81278233c852e4a0d8aa123b" category="list-text">瀏覽至「儲存虛擬機器」、然後按一下「Add（新增）」。建立專案3專用的新SVM。也可建立vsadmin帳戶來管理SVM及其資源。</block>
  <block id="5790e2b8b367726e78500054d959d6f7" category="image-alt">建立SVM以進行擴充</block>
  <block id="b0c67e9a89c7ece3169ab5849bb0e411" category="list-text">以叢集管理身分登入Red Hat OpenShift叢集。</block>
  <block id="c9e86337c7483c8d45e5e535829d2163" category="list-text">建立新專案。</block>
  <block id="1c01b62cc887329b006a88e9f959b5d4" category="list-text">確認專案3的使用者群組是在IDP上建立、並與OpenShift叢集同步。</block>
  <block id="46c82384780a492254c43d461363d9ac" category="list-text">建立專案3的開發人員角色。</block>
  <block id="21ac9e9bbb2cfc707143311f4601af1c" category="admonition">本節提供的角色定義只是一個範例。開發人員角色必須根據終端使用者需求加以定義。</block>
  <block id="8efa8222e644f71e636f98917439566d" category="list-text">在Project 3中為開發人員建立角色繫結、將開發人員專案3角色繫結至專案3中對應的群組（OCP專案3）。</block>
  <block id="e1f01c3341da15c9079bf5996c059811" category="list-text">以儲存管理員身分登入Red Hat OpenShift叢集</block>
  <block id="2ca2d57f42208b6e7e9026b491595f41" category="list-text">建立Trident後端、並將其對應至專案3專用的SVM。NetApp建議使用SVM的vsadmin帳戶、將後端連線至SVM、而非ONTAP 使用叢集管理員。</block>
  <block id="c4dcda95616fac9215b5dac3cde37220" category="admonition">本例使用的是ONTAP-NAS驅動程式。根據使用案例、使用適當的驅動程式來建立後端。</block>
  <block id="8628ed29313534f54f01e0da36e66ab7" category="admonition">我們假設Trident安裝在Trident專案中。</block>
  <block id="55da75937cfedfe97c220c1e9d556d84" category="list-text">建立專案3的儲存類別、並將其設定為使用從專案3專用後端的儲存資源池。</block>
  <block id="6efdcf6ed405066371d23375541816a1" category="list-text">建立資源配額、以限制專案3中的資源、要求儲存資源來自其他專案專用的儲存設備。</block>
  <block id="1dea1d57247580b530335ec2d484f8a5" category="list-text">修補其他專案中的資源配額、限制這些專案中的資源無法從專案3專用的儲存設備存取儲存設備。</block>
  <block id="122aacda8785e42ca8fd7bd6ebce84f8" category="summary">VMware vSphere是一套虛擬化平台、可集中管理ESXi Hypervisor上執行的大量虛擬化伺服器和網路。</block>
  <block id="2772c11e552b243e60a34490c4174ff9" category="doc">VMware vSphere上的OpenShift</block>
  <block id="68bc8529d7c57946fe13e6b3399ee287" category="inline-link">VMware vSphere網站</block>
  <block id="80888e73d00a224bebfc22e8e4539b6d" category="paragraph">如需VMware vSphere的詳細資訊、請參閱<block ref="8e822bbeb5824c0a05189bf9ff98da5c" category="inline-link-rx"></block>。</block>
  <block id="cb4d59b9004b7c584811a3d656f78bc5" category="paragraph">VMware vSphere提供下列功能：</block>
  <block id="a542faac65568ba146d392d835d7fb33" category="list-text">* VMware vCenter Server.* VMware vCenter Server可從單一主控台統一管理所有主機和VM、並集合叢集、主機和VM的效能監控。</block>
  <block id="413563ec6c2672beb7df15f465cb4a48" category="list-text">* VMware vSphere VMotion.* VMware vCenter可讓您在叢集內的節點之間、以不中斷營運的方式、根據要求熱移轉VM。</block>
  <block id="e6583703b8777be27f8db85d741711b4" category="list-text">* vSphere High Availability。*為了避免主機故障時發生中斷、VMware vSphere允許將主機叢集化並設定為高可用度。由於主機故障而中斷的VM會在叢集中的其他主機上、於近期重新開機、以還原服務。</block>
  <block id="46b35ead34118cb2c50327c71e4aa640" category="list-text">*分散式資源排程器（DRS）。* VMware vSphere叢集可設定為負載平衡其所託管之VM的資源需求。具有資源爭用的VM可熱移轉至叢集中的其他節點、以確保有足夠的可用資源。</block>
  <block id="cfb123c76f1c7a506310e1162d7ae235" category="paragraph"><block ref="cfb123c76f1c7a506310e1162d7ae235" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5c6371faa8d72dee8337811921707a4b" category="paragraph">Red Hat OpenShift on NetApp解決方案使用兩個資料交換器、以25Gbps的速率提供主要資料連線能力。此外、它還使用兩個額外的管理交換器、以1Gbps的連線能力提供儲存節點的頻內管理、以及IPMI功能的頻外管理。OCP使用VMware vSphere上的VM邏輯網路進行叢集管理。本節說明解決方案中使用的每個虛擬網路區段的安排和用途、並概述部署解決方案的先決條件。</block>
  <block id="e75b582a8823d532f6022b43ac209538" category="paragraph">VMware vSphere上的Red Hat OpenShift設計用於使用虛擬區域網路（VLAN）、以邏輯方式分隔不同用途的網路流量。此組態可擴充以滿足客戶需求、或進一步隔離特定的網路服務。下表列出在NetApp驗證解決方案時實作解決方案所需的VLAN。</block>
  <block id="3c8c5d8387f173924ffeb2bf88084dba" category="cell">管理實體節點和IPMI</block>
  <block id="c61d980d5248923d65a5dfe7f8818011" category="cell">VM網路</block>
  <block id="f33bd5bca507f2b59fc0a43383ade71b" category="cell">虛擬訪客網路存取</block>
  <block id="fc221309746013ac554571fbd180e1c8" category="cell">181</block>
  <block id="cd3718e8610b820344c9a0284fe84f90" category="cell">儲存網路</block>
  <block id="c846a1f843522d592b784a66368abed3" category="cell">適用於不中斷NFS的儲存網路ONTAP</block>
  <block id="6cdd60ea0045eb7a6ec44c54d29ed402" category="cell">184..</block>
  <block id="5e6094f6f2176409f469ee445fcf3f50" category="cell">適用於iSCSI的儲存網路ONTAP</block>
  <block id="eecca5b6365d9607ee5a9d336962c534" category="cell">185.</block>
  <block id="45cf0331a91fdc3679a78fdd8f7c60a7" category="cell">ESXi節點、vCenter Server ONTAP Select 的管理功能</block>
  <block id="e8e0dd181e4ee545195120626098bfba" category="cell">3480</block>
  <block id="11967d5f57969ea4713204eace8fbf4e" category="cell">適用於iSCSI的儲存網路NetApp Element</block>
  <block id="3fb04953d95a94367bb133f862402bce" category="cell">3481</block>
  <block id="3de18ffc25309bd0755d8543a30ded78" category="cell">移轉網路</block>
  <block id="c87f7de78a1912f53050e58df90e1445" category="cell">用於虛擬來賓移轉的網路</block>
  <block id="b7fede84c2be02ccb9c77107956560eb" category="cell">3482.34</block>
  <block id="9335616a8b7dc0e6f94fd0c6aa720efe" category="list-text">至少有一部DNS伺服器提供完整的主機名稱解析、可從頻內管理網路和VM網路存取。</block>
  <block id="905a394004d9055ec4708e53880cac66" category="list-text">至少有一部NTP伺服器可從頻內管理網路和VM網路存取。</block>
  <block id="447cb4a01965e3df01476db3576e0399" category="list-text">（可選）用於帶內管理網路和VM網路的傳出網際網路連線。</block>
  <block id="bd690c49b77b8274786240fa94d9d880" category="section-title">將OpenShift部署至至少三個節點的ESXi叢集</block>
  <block id="3500f2194985ef1b586c649fbe519d8d" category="paragraph">本文件所述的驗證架構、提供最小的硬體部署、可部署兩個ESXi Hypervisor節點、並透過啟用VMware vSphere HA和VMware VMotion來確保組態容錯。此組態可讓已部署的VM在兩個Hypervisor之間移轉、並在一部主機無法使用時重新開機。</block>
  <block id="e79fa01ec6b411cfda4f8baad9f95cb0" category="paragraph">由於Red Hat OpenShift一開始會部署三個主節點、因此在某些情況下、雙節點組態中至少有兩個主節點可以佔用同一個節點、因此如果該特定節點無法使用、可能會導致OpenShift中斷運作。因此、Red Hat最佳實務做法是至少部署三個ESXi Hypervisor節點、以便能平均分散OpenShift主節點、進而提供更高程度的容錯能力。</block>
  <block id="9dc31e1598f94b9476a025632cee3e19" category="section-title">設定虛擬機器和主機關聯性</block>
  <block id="f5428382aa8b44d7ef6ca71195afc8ca" category="paragraph">啟用VM和主機關聯性、可確保OpenShift主機能夠在多個Hypervisor節點之間散佈。</block>
  <block id="c23c2371397ad3490af42526283948a4" category="paragraph">關聯性或反關聯性是一種定義一組VM和/或主機規則的方法、用以判斷VM是在同一主機或群組中的主機上一起執行、還是在不同的主機上執行。它會透過建立關聯群組來套用至VM、這些群組由一組相同的參數和條件的VM和/或主機組成。根據關聯群組中的VM是在同一主機或群組中的主機上執行、還是分別在不同主機上執行、關聯群組的參數可以定義正關聯性或負關聯性。</block>
  <block id="9934283c0bf98610b4be1803b9ad3430" category="inline-link">vSphere 6.7說明文件：使用DRS關聯性規則</block>
  <block id="291f24f63dc31f9f921b09c567fc963f" category="paragraph">若要設定關聯群組、請參閱<block ref="4b14049244eae7b3d11ef8e44785dd4e" category="inline-link-rx"></block>。</block>
  <block id="7b65abec68958867d7dd5f43b3b06e08" category="inline-link">Red Hat OpenShift使用自訂功能在vSphere上安裝叢集</block>
  <block id="6e7315bf45cda77f0a1477ed6f712eb6" category="paragraph">在這些執行個體中、您無需立即部署叢集、即可執行及執行精靈、但精靈會建立組態檔、以便日後部署叢集。如果您需要變更任何IPI預設值、或是想要在環境中部署多個相同的叢集以供其他用途（例如多租戶）、這項功能就非常實用。如需建立OpenShift自訂安裝組態的詳細資訊、請參閱<block ref="fc4239653f75b84dd3ca03fe8b28dd64" category="inline-link-rx"></block>。</block>
  <block id="943dbb8750d636d9918af903ac016c0e" category="summary">NetApp擁有數個符合Trident Storage Orchestrator資格的儲存平台、可為部署在Red Hat OpenShift上的應用程式配置儲存設備。</block>
  <block id="77caa49b32b4fc8ce3276158f57f9229" category="doc">NetApp儲存設備總覽</block>
  <block id="3dbb1adfd571e8b44af1259f287d723f" category="paragraph">NetApp擁有數個符合Astra Trident Storage Orchestrator資格的儲存平台、可為部署在Red Hat OpenShift上的應用程式配置儲存設備。</block>
  <block id="0186ffea1bd2c7ff6458a3a619d01ea2" category="paragraph"><block ref="0186ffea1bd2c7ff6458a3a619d01ea2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="50bc4bb14f0d89a22c593112574d0fb3" category="list-text">支援以檔案為基礎（NFS）和區塊為基礎（iSCSI）的使用案例、可同時執行NetApp的支援功能和功能。AFF FAS ONTAP</block>
  <block id="bf3bfadca5040d5a50a8703c7dbb7ef1" category="list-text">在雲端和虛擬空間中、使用者可分別獲得相同的效益。Cloud Volumes ONTAP ONTAP Select</block>
  <block id="3cc957c67b836ddc993931d8d2253032" category="list-text">NetApp Cloud Volumes Service 的功能（AWS/GCP）和Azure NetApp Files 功能豐富的功能、可在雲端提供檔案型儲存設備。</block>
  <block id="faad8e024544c328d584c28118fb4102" category="list-text">在可高度擴充的環境中、支援區塊型（iSCSI）使用案例。NetApp Element</block>
  <block id="cb050b8fb8c2102a0ab337119eb19f0f" category="admonition">NetApp產品組合中的每個儲存系統都能簡化內部部署站台與雲端之間的資料管理與移動、確保您的資料是應用程式所在。</block>
  <block id="85a240011ba49404bf70606e37c41c96" category="paragraph">以下頁面提供更多有關在Red Hat OpenShift with NetApp解決方案中驗證的NetApp儲存系統的資訊：</block>
  <block id="3a374bfcdd912b5071f863e2b9f0eefa" category="list-text"><block ref="3a374bfcdd912b5071f863e2b9f0eefa" category="inline-link-macro-rx"></block></block>
  <block id="70b44fe3d3567f3f2a5ccd67ff8ac852" category="list-text"><block ref="70b44fe3d3567f3f2a5ccd67ff8ac852" category="inline-link-macro-rx"></block></block>
  <block id="482f4dddd14a12f4ece48aef54de313c" category="summary">Red Hat OpenShift Container Platform將開發與IT作業整合在單一平台上、可在內部部署與混合雲基礎架構之間一致地建置、部署及管理應用程式。Red Hat OpenShift以開放原始碼創新技術和產業標準為基礎、包括Kubernetes和Red Hat Enterprise Linux CoreOS、這是全球領先業界的企業級Linux套裝作業系統、專為以容器為基礎的工作負載所設計。</block>
  <block id="f122078c68f20c36897fec8a7c4a23e8" category="doc">OpenShift總覽</block>
  <block id="e68e90b5707502c9f2fc1361ac071b3d" category="paragraph">Red Hat OpenShift Container Platform將開發與IT作業整合在單一平台上、可在內部部署與混合雲基礎架構之間一致地建置、部署及管理應用程式。Red Hat OpenShift以開放原始碼創新技術和產業標準為基礎、包括Kubernetes和Red Hat Enterprise Linux CoreOS、這是全球領先業界的企業級Linux套裝作業系統、專為以容器為基礎的工作負載所設計。OpenShift是Cloud Native Computing Foundation（CNCF）認證Kubernetes方案的一部分、提供容器工作負載的可攜性與互通性。</block>
  <block id="b2b7104a419a54dcb2763bddc6a0a47c" category="section-title">Red Hat OpenShift提供下列功能：</block>
  <block id="d383250f88949df87bac7768b697ccb6" category="list-text">*自助服務資源配置。*開發人員可利用最常用的工具、快速輕鬆地隨需建立應用程式、而營運部門則可完全掌控整個環境。</block>
  <block id="df45d857ed72e8e5ed370c6fdfd1e305" category="list-text">*持續儲存。* OpenShift Container Platform支援持續儲存、可讓您同時執行狀態化應用程式和雲端原生無狀態應用程式。</block>
  <block id="29ee9790b817110f2303080d5b295946" category="list-text">*持續整合與持續開發（CI/CD）。*此原始碼平台可大規模管理建置與部署映像。</block>
  <block id="a0f0997dded25d9aa9c767f29c17c249" category="list-text">*開放原始碼標準。*這些標準除了其他開放原始碼技術之外、還納入開放容器方案（OCI）和Kubernetes的容器協調功能。您不受限於特定廠商的技術或業務藍圖。</block>
  <block id="7dc3d12ecda66373091607ba18ef4434" category="list-text">* CI/CD管道。* OpenShift為CI/CD管道提供隨裝即用的支援、讓開發團隊能夠自動化應用程式交付程序的每個步驟、並確保在應用程式的程式碼或組態所做的每個變更中執行。</block>
  <block id="95e4c6a8e27cc92068d97ef795477714" category="list-text">*角色型存取控制（RBAC）。*此功能可提供團隊與使用者追蹤功能、協助組織大型開發人員群組。</block>
  <block id="d565eddf8e07af916519ec07f8712204" category="list-text">*自動化建置與部署。* OpenShift可讓開發人員選擇建置容器化的應用程式、或是讓平台從應用程式原始程式碼、甚至是二進位檔來建置容器。然後、平台會根據應用程式定義的特性、在基礎架構上自動部署這些應用程式。例如、應該配置的資源數量、以及應該部署在基礎架構上的何處、以符合第三方授權的要求。</block>
  <block id="4fe0bdfd5a2ae34ba1a93860fd91d2fd" category="list-text">*一致的環境。* OpenShift可確保為開發人員配置的環境、以及應用程式的整個生命週期、從作業系統到程式庫、執行時間版本（例如Java執行時間）、 甚至是使用中的應用程式執行時間（例如tomcat）、以移除來自不一致環境的風險。</block>
  <block id="64f8957eb1a3bb6a1e9ebd391e76925a" category="list-text">*組態管理。*組態與敏感資料管理是內建於平台中、無論應用程式是使用何種技術來建置應用程式、或是部署何種環境、都能為應用程式提供一致且不受環境限制的應用程式組態。</block>
  <block id="5efb308bdb8052c1aa3fe8333f459fe5" category="list-text">*應用程式記錄與指標。*快速回應是應用程式開發的重要層面。OpenShift整合式監控與記錄管理功能可立即提供指標給開發人員、讓他們瞭解應用程式在變更過程中的運作方式、並能在應用程式生命週期中盡快修正問題。</block>
  <block id="8c2b388bd42b0b6bae19890633c98a8d" category="list-text">*安全性與容器目錄。* OpenShift提供多租戶共享功能、並利用安全性增強的Linux（SELinux）、cGroups及安全運算模式（seccompp）來隔離及保護容器、保護使用者免受有害程式碼執行的危害。它也透過TLS憑證為各種子系統提供加密功能、並可存取經過掃描和評分的Red Hat認證容器（access.redhat.com/containers）、特別強調安全性、為終端使用者提供認證、信任和安全的應用程式容器。</block>
  <block id="16c321ec2744799f0acef92ce84d06ca" category="paragraph"><block ref="16c321ec2744799f0acef92ce84d06ca" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fe8c2f8039053e077a0ca678496b72aa" category="section-title">Red Hat OpenShift的部署方法</block>
  <block id="9c2dd02f13d452b4422ac6c864933f01" category="paragraph">從Red Hat OpenShift 4開始、OpenShift的部署方法包括使用使用者資源配置基礎架構（UPI）進行手動部署、以進行高度自訂的部署、或使用安裝程式資源配置基礎架構（IPI）進行全自動部署。</block>
  <block id="68dc46cb39cdfc93e4593bbdd5c218cf" category="paragraph">IPI安裝方法在大多數情況下都是首選方法、因為它可讓開發、測試及正式作業環境快速部署OCP叢集。</block>
  <block id="ec55e5ffb2376dada4b2eb066c1fd9fd" category="section-title">Red Hat OpenShift的IPI安裝</block>
  <block id="a91a379e59fea6610134af1efa3dfe87" category="paragraph">安裝程式佈建的OpenShift基礎架構（IPI）部署包括下列高層級步驟：</block>
  <block id="d1befa03c79ca0b84ecc488dea96bc68" category="inline-link">網站</block>
  <block id="a07879007b1202a533ff3ef18bc0d197" category="list-text">請造訪Red Hat OpenShift<block ref="36af4d1b80928d398e137421c95a1013" category="inline-link-rx"></block> 並使用SSO認證登入。</block>
  <block id="66f8ff89bd2c9146cb3273d416c60fd2" category="list-text">選取您要部署Red Hat OpenShift的環境。</block>
  <block id="cc66c30273a9be504b88d3239e65516b" category="paragraph"><block ref="cc66c30273a9be504b88d3239e65516b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f5806bcee67fc8f13f0255068a186e42" category="list-text">在下一個畫面下載安裝程式、獨特的Pull Secret和用於管理的CLI工具。</block>
  <block id="86b43786316d35748685c4f7abc4145b" category="paragraph"><block ref="86b43786316d35748685c4f7abc4145b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c9a2aa5906b4dad4a982c3a9c51d31f3" category="list-text">請依照<block ref="04512308a1627dc41acfeed51ef16ba3" category="inline-link-rx"></block> 由Red Hat提供、可部署至您選擇的環境。</block>
  <block id="220887aee59c37fa79fc366cba7dad4e" category="section-title">NetApp已驗證OpenShift部署</block>
  <block id="d711fd24836980dd490f3c01dd3ee8de" category="paragraph">NetApp已在實驗室中使用安裝程式佈建基礎架構（IPI）部署方法、在下列每個資料中心環境中測試並驗證Red Hat OpenShift的部署：</block>
  <block id="aa9095c5ba77e3549672e5c4fae1fedc" category="inline-link-macro">裸機上的OpenShift</block>
  <block id="fecab6277bc7322982f127ce83dee308" category="list-text"><block ref="fecab6277bc7322982f127ce83dee308" category="inline-link-macro-rx"></block></block>
  <block id="ff3de63c4917b45d20525986d5b29962" category="list-text"><block ref="ff3de63c4917b45d20525986d5b29962" category="inline-link-macro-rx"></block></block>
  <block id="f88eb30a75027b557910958c7306cb4e" category="inline-link-macro">Red Hat虛擬化的OpenShift</block>
  <block id="92fb5c16a9f212d49c0c5fb48ebc9144" category="list-text"><block ref="92fb5c16a9f212d49c0c5fb48ebc9144" category="inline-link-macro-rx"></block></block>
  <block id="83fc4dbe543f82a9e50bc1bd4c74fb70" category="list-text"><block ref="83fc4dbe543f82a9e50bc1bd4c74fb70" category="inline-link-macro-rx"></block></block>
  <block id="eeaa3ef2816f113fd1978b036eefc4a4" category="doc">解決方案驗證與使用案例：採用NetApp的Red Hat OpenShift</block>
  <block id="9e766e668731b912ea84be747f0d6b4b" category="paragraph">本頁所提供的範例包括採用NetApp的Red Hat OpenShift解決方案驗證和使用案例。</block>
  <block id="6f60a8e202d6d4f297230695ffa9c1a6" category="inline-link-macro">使用持續儲存設備部署Jenkins CI/CD管道</block>
  <block id="20b131c747c2ab8c4c617107b04dfe76" category="list-text"><block ref="20b131c747c2ab8c4c617107b04dfe76" category="inline-link-macro-rx"></block></block>
  <block id="e85b6a5686bf01c916e1c3b442e8db44" category="inline-link-macro">使用NetApp在Red Hat OpenShift上設定多租戶共享</block>
  <block id="29a3155f4e27ac61f0e6d1e00866c981" category="list-text"><block ref="29a3155f4e27ac61f0e6d1e00866c981" category="inline-link-macro-rx"></block></block>
  <block id="781cf19a6329e508987456098cde8c79" category="list-text"><block ref="781cf19a6329e508987456098cde8c79" category="inline-link-macro-rx"></block></block>
  <block id="ddb9608f0f25d56d00a539a63333efa0" category="list-text"><block ref="ddb9608f0f25d56d00a539a63333efa0" category="inline-link-macro-rx"></block></block>
  <block id="f913f3c8b073438c23eb36c9cf8237ac" category="section-title">建立VM</block>
  <block id="71dd19ec5a595517b0b57750ad1a6568" category="paragraph">VM是有狀態的部署、需要磁碟區來裝載作業系統和資料。有了CNV、因為VM是以Pod形式執行、所以VM有NetApp ONTAP 透過Trident代管的PV作為後盾。這些磁碟區會附加為磁碟、並儲存整個檔案系統、包括VM的開機來源。</block>
  <block id="e01cb9126428f7417091e42362dcb6cb" category="image-alt">建立VM架構</block>
  <block id="51f24796fdd958a7a4ab9fb9a1086c9a" category="paragraph">若要在OpenShift叢集上建立虛擬機器、請完成下列步驟：</block>
  <block id="eaeef52618dbbd29ca52633c93abcbb4" category="list-text">選取所需的作業系統、然後按「Next（下一步）」。</block>
  <block id="6befc3ce0d5cbd575434f0d5e1ec1125" category="list-text">如果選取的作業系統未設定開機來源、則必須加以設定。針對開機來源、選取是要從URL或登錄匯入OS映像、然後提供對應的詳細資料。展開「進階」、然後選取「Trident備份的StorageClass」。然後按「Next（下一步）」</block>
  <block id="9b992d4161d9af3e77a9c4e35f9d7652" category="image-alt">建立VM的開機來源</block>
  <block id="fe46fcd3bb2eadd55896f6a4e9af5b05" category="list-text">如果選取的作業系統已設定開機來源、則可以跳過上一個步驟。</block>
  <block id="c119644bb97e69cc47555d48ff5ead07" category="list-text">如果您要自訂虛擬機器、請按一下「自訂虛擬機器」、然後修改所需的參數。</block>
  <block id="8b2c60e63de0927cca5bd9401cdd4647" category="list-text">按一下「Create Virtual Machine」（建立虛擬機器）以建立虛擬機器；這會使背景中的對應Pod旋轉。</block>
  <block id="ba7734e1db4ae3c0a25330f01ced054d" category="paragraph">當從URL或登錄設定範本或作業系統的開機來源時、會在「openshift-virtualization作業系統映像」專案中建立一個PVc、並將KVM來賓映像下載至PVc。您必須確定範本PVCS有足夠的資源配置空間、以容納對應作業系統的KVM來賓映像。這些PVCS隨後會以rootdisks的形式複製並附加至虛擬機器、並在任何專案中使用各自的範本建立。</block>
  <block id="2188a3011c4ccaa5490bcaca14a05579" category="inline-link-macro">下一步：工作流程：VM即時移轉。</block>
  <block id="a997d50e238a53b066824f32046c10ab" category="paragraph"><block ref="a997d50e238a53b066824f32046c10ab" category="inline-link-macro-rx"></block></block>
  <block id="3fc5f6755312b7edeef9542bd55ef639" category="section-title">治理與風險</block>
  <block id="9d7264067197bc9ff368288f98750fd6" category="paragraph">此功能可讓您針對不同的叢集定義法規遵循原則、並確保叢集符合此原則。您可以設定原則來通知或修正任何偏離或違反規則的情況。</block>
  <block id="87f4e127e0ecf99187b35830ca7e78aa" category="list-text">從側邊列導覽至「治理與風險」。</block>
  <block id="0ecc505d3375f8bb3bd959aaaf7e710a" category="list-text">若要建立規範原則、請按一下「建立原則」、輸入原則標準的詳細資料、然後選取應遵守此原則的叢集。如果您想要自動修正此原則的違規、請選取「強制執行（若有支援）」核取方塊、然後按一下「建立」。</block>
  <block id="f6262e5369e2b989638aaa9d4f333d91" category="image-alt">建立法規遵循原則</block>
  <block id="0a1575621f2b12d5216e6d1c95eed2e6" category="list-text">設定所有必要的原則之後、即可從「進階叢集管理」監控及修正任何原則或叢集違規。</block>
  <block id="38c080ff2128a92954fb61942ea497c0" category="image-alt">原則監控</block>
  <block id="465d1c9d2d9ea711e43e2e20077e10f9" category="inline-link-macro">下一步：功能-可觀察性。</block>
  <block id="056789fad8ccaddf0ac3b4ef0a68b61a" category="paragraph"><block ref="056789fad8ccaddf0ac3b4ef0a68b61a" category="inline-link-macro-rx"></block></block>
  <block id="d008c60ddb28c0bbad1dfabdd77327fc" category="doc">組態：儲存設備管理工作</block>
  <block id="6c0ed744c737f30af364d229639c8288" category="paragraph">儲存管理員必須設定下列資源：</block>
  <block id="64244866ddff81ded5e6aaa49055c6aa" category="list-text">以admin身分登入NetApp ONTAP 解決方案叢集。</block>
  <block id="85ca996063b5ec233e56a20ba93c5f44" category="list-text">瀏覽至Storage（儲存設備）&gt; Storage VM（儲存設備VM）、然後按一下Add提供所需的詳細資料、建立兩個SVM、一個用於專案1、另一個用於專案2。也可建立vsadmin帳戶來管理SVM及其資源。</block>
  <block id="3f8bc17bf8dd138aa2915235f0a9c0d3" category="image-alt">SVM建立ONTAP 於此</block>
  <block id="b436e7799d01413277e05983e509574a" category="list-text">以儲存管理員身分登入Red Hat OpenShift叢集。</block>
  <block id="c9bd46366e9fb78552566f1e7a13633a" category="list-text">建立專案1的後端、並將其對應至專案專用的SVM。NetApp建議使用SVM的vsadmin帳戶、將後端連線至SVM、而非ONTAP 使用該叢集管理員。</block>
  <block id="f934b433773b966e5ebe0c7172decda4" category="admonition">本例使用的是ONTAP-NAS驅動程式。根據使用案例建立後端時、請使用適當的驅動程式。</block>
  <block id="4a6c648106c1ff38316705bf986de601" category="list-text">同樣地、請為專案2建立Trident後端、並將其對應至專案2專用的SVM。</block>
  <block id="9a45d41277a2e8ce29709826a31fb482" category="list-text">接下來、建立儲存類別。建立專案1的儲存類別、並設定storagePools參數、以使用從專屬後端到專案1的儲存資源池。</block>
  <block id="4350d40426f8c94f6ca046609969adb2" category="list-text">同樣地、請為專案2建立儲存類別、並將其設定為使用從專屬後端到專案2的儲存資源池。</block>
  <block id="2ee847ebe129ae778860d6dd2da21cf6" category="list-text">建立資源配額、以限制專案1中的資源、要求儲存資源來自其他專案專用的儲存設備。</block>
  <block id="c689ae18a0f5e47541dcec4afb6e187a" category="list-text">同樣地、也可以建立資源配額、以限制專案2中的資源、要求儲存資源來自其他專案專用的儲存設備。</block>
  <block id="7f9ddc8224f28e1481299160807c876d" category="inline-link-macro">下一步：驗證。</block>
  <block id="93a1440c4dcba82f234a9305a9445144" category="paragraph"><block ref="93a1440c4dcba82f234a9305a9445144" category="inline-link-macro-rx"></block></block>
  <block id="93e14ba37d069eff22130cf694c451c1" category="summary">NetApp AFF 支援功能強大的All Flash儲存平台、可提供低延遲效能、整合式資料保護、多重傳輸協定支援及不中斷營運。NetApp功能採用NetApp ONTAP 的支援資料管理軟體、AFF 可確保不中斷營運、從維護到升級、到儲存系統的完整更換、皆可順利完成。</block>
  <block id="9ecccbf5710194af15cca545b567957a" category="section-title">NetApp ONTAP 的NetApp產品介紹：NetApp AFF/FAS</block>
  <block id="13a74472f5a5018f40319d30a728d03e" category="paragraph">NetApp ONTAP 功能強大的儲存軟體工具、具備直覺式GUI、REST API與自動化整合、AI資訊預測分析與修正行動、不中斷的硬體升級、以及跨儲存匯入等功能。</block>
  <block id="fce4095b40c80c8632028b9837563736" category="list-text">* NetApp FlexClone。*可根據Snapshot複本、即時提供NetApp磁碟區完整讀取且可寫入的複本。如需ONTAP 更多關於效能的資訊、請參閱<block ref="eb1214e3900207403ada8715d3d4c764" category="inline-link-rx"></block>。</block>
  <block id="75714c8168a0c2a2594249ece5acf44c" category="paragraph"><block ref="75714c8168a0c2a2594249ece5acf44c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="dad787ba7494eee7d6dbd3cef7e5900e" category="paragraph">持續磁碟區（PV）是根據Kubernetes環境中定義的儲存類別來配置。他們使用儲存管理員所建立的儲存後端（可根據專案需求自訂）和儲存系統模型、以允許任何數量的進階儲存功能、例如壓縮、特定磁碟類型或QoS層級來保證效能。</block>
  <block id="3068002de1b5d66a6a163ddc9883ad94" category="paragraph">Trident協調NetApp產品組合中每個系統和服務的儲存設備。</block>
  <block id="6d906f4c160e6416d4f0c02a0fb9696c" category="paragraph"><block ref="6d906f4c160e6416d4f0c02a0fb9696c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="885a32398324f13cbf847894ab05bb41" category="paragraph">Google Cloud的Anthos是雲端型Kubernetes資料中心解決方案、可讓組織建構及管理現代化的混合雲基礎架構、同時採用著重於應用程式開發的敏捷工作流程。Anthos on Bare meter可延伸Anthos在實體伺服器上直接執行內部部署的能力、而無需Hypervisor層、並可與Google Cloud中的Anthos GKE叢集互通。</block>
  <block id="581adec598400d9d02114736724b28d3" category="paragraph">採用容器、服務網格及其他轉型技術、可讓組織在本機和雲端型環境中、體驗一致的應用程式開發週期和正式作業就緒工作負載。</block>
  <block id="ea2625d89edeb5ba9cb41ca58df54e93" category="paragraph">Anthos提供下列功能：</block>
  <block id="c10e0a21a04a29dfca9609b3ec4bab76" category="list-text">* Anthos組態管理。*自動化混合式Kubernetes部署的原則與安全性。</block>
  <block id="e8c4d5cbaf3932ffa3fa7a097bff923e" category="list-text">* Anthos Service Mesh。*利用Istio驅動的服務網格、強化應用程式的觀察能力、安全性及控制能力。</block>
  <block id="b7fd1509ff5472f08e8216f563c9c8af" category="list-text">* Google Cloud Marketplace for Kubernetes應用程式。*這是精選的容器應用程式目錄、可供輕鬆部署。</block>
  <block id="5204c290ae3b1ebca311a7ca7d447791" category="list-text">*移轉至Anthos *自動將實體服務和VM從內部部署移轉至雲端。圖3說明了Anthos解決方案、以及內部部署資料中心的部署如何與雲端的基礎架構互連。</block>
  <block id="608fd0ec5cdb56ad3d3e6d9595ec6f19" category="inline-link">Anthos網站</block>
  <block id="1192e096cd21e1aa81d806fe9e5d2213" category="paragraph">如需有關Anthos的詳細資訊、請參閱<block ref="717e02fd176ae4981315950f42bdf0a6" category="inline-link-rx"></block>。</block>
  <block id="70f64e61deea67473fb9951b8f5888b3" category="paragraph">下圖顯示Google Cloud的Anthos架構。</block>
  <block id="99d1b69697dd97e963c0a8145277719d" category="paragraph"><block ref="99d1b69697dd97e963c0a8145277719d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="761fffea4910d62111da90337e75abb5" category="paragraph">裸機上的Anthos是GKE的延伸、部署於客戶的私有資料中心。組織可以在內部部署的Anthos叢集上、部署專為在Google Cloud的容器中執行而設計的相同應用程式。Anthos在裸機上直接在實體伺服器上執行、使用者可選擇基礎Linux作業系統、並為客戶提供完整的混合雲環境、讓客戶能夠在資料中心的核心或邊緣執行。</block>
  <block id="9eb2eb227133ada575ae959b570e545c" category="paragraph">裸機上的Anthos具有下列優點：</block>
  <block id="d966dba0352f5bc4bd7cec115bb0f6f4" category="list-text">*不受硬體限制。*客戶可在現有資料中心的最佳化硬體平台上執行Anthos。</block>
  <block id="69dd75c781331ee9a4c6b2b30d065262" category="list-text">*成本節約效益*您可以將自己的實體資源用於應用程式部署、而非在Google Cloud環境中配置資源、藉此大幅節省成本。</block>
  <block id="22c97b10f741190427f7bf14aaa217c3" category="list-text">*開發然後發佈。*您可以在開發應用程式時使用內部部署、以便在您將應用程式公開在雲端上使用之前、先在本機資料中心的隱私環境中測試應用程式。</block>
  <block id="0f9f68e8f2e2599804f40d8fc0861b6d" category="list-text">*效能更佳。*需要低延遲和最高效能的密集應用程式、可以在硬體附近執行。</block>
  <block id="844236b21d302f8c93eda00636abfff8" category="list-text">*安全性需求。*安全性考量日益增加的客戶、或是無法儲存在公有雲中的敏感資料集、都能從自己資料中心的安全性執行應用程式、進而滿足組織需求。</block>
  <block id="895cc29ffb809aaf615d5db487a23c7c" category="list-text">*管理與營運。* Anthos on裸機隨附多種設施、可提升營運效率、例如內建網路、生命週期管理、診斷、健全狀況檢查、記錄、 和監控。</block>
  <block id="04b942b754be5e16fc9d5b114dd70bb7" category="inline-link-macro">下一步：解決方案需求。</block>
  <block id="dea54f5c884510a9da9977e2655c0a5a" category="paragraph"><block ref="dea54f5c884510a9da9977e2655c0a5a" category="inline-link-macro-rx"></block></block>
  <block id="fb12e7f50899cc1254f9a6f1e0341423" category="summary">利用Astra Control Center複製應用程式以進行事後分析、並在CI/CD傳輸途徑中還原應用程式</block>
  <block id="bc42bbaf219349a2ba37dfd4709b2003" category="doc">運用NetApp Astra Control執行事後分析及還原您的應用程式</block>
  <block id="b2f35a84b813ef160b585d350d2fcd58" category="summary">Anthos在裸機上的硬體無關功能、可讓您選擇專為使用案例最佳化的運算平台。因此、您的可以符合現有的基礎架構、並降低資本支出。</block>
  <block id="5f95fbda20eeb9ce0859afe2ac6f42fa" category="doc">解決方案需求</block>
  <block id="7d4009b9254a61f6afd71a2656a3a78f" category="section-title">運算：自帶伺服器</block>
  <block id="dee41946d9d6ca32131352cb4374f12b" category="paragraph">下表列出實作此解決方案所需的運算硬體元件數量下限、不過所使用的硬體機型可能會因客戶需求而異。</block>
  <block id="c64518704ce0c0d5501a45763f464276" category="cell">使用量</block>
  <block id="602f72fff77475a16eff159759656261" category="cell">硬體與機型</block>
  <block id="06e9950a2c1bb489cf54d03d4547e913" category="cell">管理節點</block>
  <block id="b349dcffed4594674c8ce6c91e72e42f" category="cell">Cisco UCS B200</block>
  <block id="fcb81a84511da525a1581c4ccc00d0fb" category="cell">工作節點</block>
  <block id="4867cc2ab4385d91c3a36d6ace67a984" category="cell">HP ProLiant 360</block>
  <block id="2c0b20f0fbc047d58ca10a50c6a32bc7" category="section-title">儲存設備：ONTAP NetApp</block>
  <block id="8bf5bd6530ea430a8edac8a795165179" category="cell">NetApp AFF</block>
  <block id="eb8440af98c502b8095408e970297e6b" category="cell">NetApp AFF 解決方案</block>
  <block id="e8d610d6c2d243856beaade33b5aa123" category="cell">2（1個HA配對）</block>
  <block id="b6ce11f078022a4ab598b8016db52a13" category="paragraph">下表所列的軟體版本是由NetApp與我們的合作夥伴使用、以與NetApp一起驗證解決方案、不過所使用的軟體元件可能會因客戶需求而異。</block>
  <block id="128b9c7509f09d8ff4b08e87def0ac74" category="cell">3名系統管理員的作業系統</block>
  <block id="7cd95c816f8a04ff858a857e3e5a484d" category="cell">20.04</block>
  <block id="836a05a21ac6df3b6bcf9838895b017e" category="cell">作業系統on Worker4.</block>
  <block id="bbd243e896202aa0eb00ce19d8a7fea8" category="cell">作業系統on Worker3</block>
  <block id="aa1fc3398e84bda331b47203c1e53ad5" category="cell">CentOS</block>
  <block id="aaad0494526f271ca02ebd06a79e7382" category="cell">作業系統on Worker2</block>
  <block id="2a568439f8e6ff92daa9925ce8a03adf" category="cell">8.2</block>
  <block id="c73bbd3786350b0a8d3577d82afdf489" category="cell">Red Hat Enterprise Linux</block>
  <block id="7ac53708026d8515ce15cc154e95f46b" category="cell">作業系統on Worker1</block>
  <block id="d6422a625045167156b3c0d85ca23ebf" category="cell">8.1</block>
  <block id="7cf4fea896dee61293d729d9985621d7" category="cell">Container協調</block>
  <block id="ca9f0d77f73d954e88e6ab43539ac7cb" category="cell">1.6.0</block>
  <block id="ea704238343d48baa3a08f039015185f" category="cell">儲存作業系統</block>
  <block id="f33749dd101d316dcf2e6953732629f9" category="cell">9.7P8.</block>
  <block id="8fe1ffd8f7dcf339dd4f34aabb6e1c99" category="cell">Container Storage Management</block>
  <block id="a84024ce06ef98519b3b51300b2c8fbf" category="cell">20.10</block>
  <block id="d94e09dc1956d9513e690f8d24852f05" category="inline-link">Anthos的裸機文件</block>
  <block id="dea0bcd20b41ad5a5b5830e0facf5d5d" category="paragraph">如需裸機硬體和軟體需求的Anthos、請參閱<block ref="39597b4f74e08019db4cace51500cfd6" category="inline-link-rx"></block> 頁面。</block>
  <block id="71196ec10a92c76a666a93f55523b96e" category="inline-link-macro">下一步：部署摘要。</block>
  <block id="1b8d67e147d4d9c532832778cca5fee8" category="paragraph"><block ref="1b8d67e147d4d9c532832778cca5fee8" category="inline-link-macro-rx"></block></block>
  <block id="cb8e8e87ec9c630a0a27910fe29abceb" category="summary">RHV是企業虛擬資料中心平台、可在Red Hat Enterprise Linux（RHEL）上執行、並使用KVM Hypervisor。</block>
  <block id="932e95da8a59703292a426466e703c7a" category="paragraph">Red Hat虛擬化（RHV）是企業虛擬資料中心平台、可在Red Hat Enterprise Linux（RHEL）上執行、並使用KVM Hypervisor。</block>
  <block id="603bc85f6f6f4d9e5095745d9252f1d3" category="inline-link">Red Hat虛擬化網站</block>
  <block id="8a961382f0c47dc86706f0aa8bb93fb4" category="paragraph">如需更多有關RHV的資訊、請參閱<block ref="ac07861257bcab0c21d310fa00cb324b" category="inline-link-rx"></block>。</block>
  <block id="7adf04762320f012179ffe68fb0aeb9f" category="paragraph">RHV提供下列功能：</block>
  <block id="0178ef6806a57586f6c66dde7e0e86d2" category="list-text">*集中管理VM和主機。* RHV管理程式在部署中以實體或虛擬機器（VM）的形式執行、並提供網路型GUI、以便從中央介面管理解決方案。</block>
  <block id="c29d3f9be705e3dcf947c6d2464cb090" category="list-text">*自我代管引擎。*為了將硬體需求降至最低、RHV可將RHV Manager（RHV-M）部署為VM、部署在執行客體VM的同一部主機上。</block>
  <block id="e2545c34b3a35dbcd93423b539eae91a" category="list-text">*高可用度。*為了避免發生主機故障時造成中斷、RHV可讓VM設定為高可用度。高可用度的VM是使用恢復原則在叢集層級加以控制。</block>
  <block id="8f91b3a5c6d176cad584bb5f06c53684" category="list-text">*高擴充性。*單一RHV叢集最多可有200部Hypervisor主機、讓IT能夠支援大型VM的需求、以裝載資源密集、企業級的工作負載。</block>
  <block id="a175fea9b8830c0cdbe1b268cb114738" category="list-text">*增強安全性。* RHV採用Secure Virtualization（sVirt）和Security Enhanced Linux（SELinux）技術、以提升主機和VM的安全性和強化功能。這些功能的主要優勢在於邏輯隔離VM及其相關資源。</block>
  <block id="01b0ee840ef208c283c3f4e959aa9427" category="paragraph"><block ref="01b0ee840ef208c283c3f4e959aa9427" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cd4c83df745cf56330120fb3ac308da2" category="paragraph">Red Hat OpenShift on NetApp解決方案使用兩個資料交換器、以25Gbps的速率提供主要資料連線能力。它也使用兩個額外的管理交換器、以1Gbps的速率提供連線能力、以進行儲存節點的頻內管理、以及IPMI功能的頻外管理。OCP使用RHV上的虛擬機器邏輯網路進行叢集管理。本節說明解決方案中所使用的每個虛擬網路區段的安排和用途、並概述部署解決方案的先決條件。</block>
  <block id="2d7e48e226974692ed3f522a2baef6db" category="paragraph">RHV上的Red Hat OpenShift設計用於使用虛擬區域網路（VLAN）、以邏輯方式分隔不同用途的網路流量。此組態可擴充以滿足客戶需求、或進一步隔離特定的網路服務。下表列出在NetApp驗證解決方案時實作解決方案所需的VLAN。</block>
  <block id="36a1694bce9815b7e38a9dad05ad42e0" category="cell">1172</block>
  <block id="c347686b0750301dfca053b321126bcc" category="cell">管理RHV-H節點、RHV-Manager和Ovirtmgmt網路</block>
  <block id="21c5bba1dd6aed9ab48c2b34c1a0adde" category="cell">3343.</block>
  <block id="3083202a936b7d0ef8b680d7ae73fa1a" category="cell">3344</block>
  <block id="38a77aa456fc813af07bb428f2363c8d" category="cell">3345</block>
  <block id="7e4be32047fe5b09a23fd956cd4e82f0" category="section-title">將OpenShift部署至至少三個節點的RHV叢集</block>
  <block id="de4e964e7be880b328384cfedd5873d9" category="paragraph">本文件所述的驗證架構、提供最小的硬體部署、適用於HA作業、方法是部署兩個RHV-H Hypervisor節點、並確保具備容錯功能的組態、讓兩個主機都能管理託管引擎和已部署的VM、在兩個Hypervisor之間移轉。</block>
  <block id="4a3fe6077a529bcbe033bbb7d13027d6" category="paragraph">由於Red Hat OpenShift一開始會部署三個主節點、因此在雙節點組態中、至少有兩個主節點會佔用同一個節點、因此如果該特定節點無法使用、可能會導致OpenShift中斷。因此、Red Hat的最佳實務做法是將至少三個RHV-H Hypervisor節點部署為解決方案的一部分、以便能平均分散OpenShift主節點、並使解決方案獲得更高程度的容錯能力。</block>
  <block id="b98f17dd49fc6d1c2a9b58922fae2686" category="paragraph">您可以啟用VM/主機關聯性、將OpenShift主控點分散到多個Hypervisor節點。</block>
  <block id="df1b58247681ba5f974a572d530dbdf9" category="paragraph">關聯性是一種定義一組VM和/或主機規則的方法、可決定VM是在同一主機上一起執行、還是在群組中的主機上執行、或是在不同的主機上執行。它會透過建立關聯群組來套用至VM、這些群組由一組相同的參數和條件的VM和/或主機組成。根據關聯群組中的VM是在同一主機或群組中的主機上執行、還是分別在不同主機上執行、關聯群組的參數可以定義正關聯性或負關聯性。</block>
  <block id="02d7502b2b132a675665088322fde9b0" category="paragraph">為參數定義的條件可以是強制或軟強制。強制強制性可確保關聯群組中的虛擬機器永遠嚴格遵循正面或負面關聯性、而不受任何外部條件影響。軟強制功能可確保關聯群組中的VM設定較高的喜好設定、以便在可行的情況下遵循正面或負面關聯性。在本文所述的兩或三個Hypervisor組態中、建議使用軟性關聯性。在較大型的叢集中、硬關聯性可以正確分散OpenShift節點。</block>
  <block id="5c00bc5cb1bdae240d18551e77806abd" category="inline-link">Red Hat 6.11.關聯群組文件</block>
  <block id="f38d8cd9caeb9a037c470b7d061392a0" category="paragraph">若要設定關聯群組、請參閱<block ref="eb1587f3cb611d53dba5bde41d49122a" category="inline-link-rx"></block>。</block>
  <block id="2b083bcbbb2d2208e64c13cb183af44f" category="paragraph">IPI可透過本文稍早討論的互動式精靈、輕鬆部署OpenShift叢集。不過、在叢集部署過程中、可能需要變更某些預設值。</block>
  <block id="1050f3dc9e3ee559789e3b25f2e4f77e" category="inline-link">Red Hat OpenShift使用自訂功能在RHV上安裝叢集</block>
  <block id="a5867d73fa54e5b850ff2642c45ade52" category="paragraph">在這些執行個體中、您無需立即部署叢集、即可執行及執行精靈工作。而是會建立組態檔、以便稍後部署叢集。如果您想要變更任何IPI預設值、或是想要在環境中部署多個相同的叢集以供其他用途（例如多租戶）、這項功能就非常實用。如需建立OpenShift自訂安裝組態的詳細資訊、請參閱<block ref="15427a9f842d7a49b872cf64115f33bc" category="inline-link-rx"></block>。</block>
  <block id="b611590ed189a9cbc27648402168f00a" category="inline-link-macro">下一步：NetApp儲存設備總覽。</block>
  <block id="2be0276ec05c9b03a47573ad9795095a" category="paragraph"><block ref="2be0276ec05c9b03a47573ad9795095a" category="inline-link-macro-rx"></block></block>
  <block id="ad8905a47eb465223ebe7acf569732b1" category="doc">組態：叢集管理工作</block>
  <block id="552eab1d1ea09d0d1733b97dee6609a1" category="paragraph">Red Hat OpenShift叢集管理會執行下列工作：</block>
  <block id="8a4ffd494b5e8af3ac1be2cd9ab254fb" category="list-text">以叢集管理的身分登入Red Hat OpenShift叢集。</block>
  <block id="7ccd4d72e4addf5c27c53bafaeb3fdbd" category="list-text">建立兩個對應於不同專案的專案。</block>
  <block id="6c98bfb16f2e9bbebd943c1f8592306d" category="list-text">建立專案1的開發人員角色。</block>
  <block id="14bd8c5f1032dd20f94d4434365c6530" category="admonition">本節提供的角色定義只是一個範例。開發人員角色必須根據終端使用者需求加以定義。</block>
  <block id="3c73122271c9219b54ca745b732adc28" category="list-text">同樣地、請為專案2建立開發人員角色。</block>
  <block id="7428df2e0e503f4cabb43a4667bc1983" category="list-text">所有OpenShift和NetApp儲存資源通常由儲存管理員管理。儲存管理員的存取權由安裝Trident時所建立的Trident操作員角色控制。此外、儲存管理員也需要存取資源配額、才能控制儲存設備的使用方式。</block>
  <block id="cf17c458ea3abaad557d7cfc69886dbe" category="list-text">在叢集中的所有專案中建立管理資源配額的角色、以將其附加至儲存設備管理員。</block>
  <block id="db99ab183aa8f56c951cf20e25e7465c" category="list-text">請確定叢集已與組織的身分識別提供者整合、而且使用者群組已與叢集群組同步。下列範例顯示身分識別提供者已與叢集整合、並與使用者群組同步。</block>
  <block id="36e36b60ddb8f46fe0b9b4e8f4dce56f" category="list-text">為儲存管理員設定Cluster勞力 綁定。</block>
  <block id="38f22acd9ae9c74099644738d613baaa" category="admonition">對於儲存管理員、必須綁定兩個角色：Trident運算子和資源配額。</block>
  <block id="ced38b1f1c19446862c601754b82b94c" category="list-text">為開發人員建立角色連結、將開發人員專案1角色繫結至專案1中對應的群組（OCP專案-1）。</block>
  <block id="2aa292f2ff8b13fe141ca55c27bc29c2" category="list-text">同樣地、請為開發人員建立角色連結至專案2中對應的使用者群組的角色連結。</block>
  <block id="7d03daab3e74958fc08ebc0c90e0a6a2" category="inline-link-macro">下一步：儲存管理員工作。</block>
  <block id="f3d9bb76442ab5c11e6af4dd328b2559" category="paragraph"><block ref="f3d9bb76442ab5c11e6af4dd328b2559" category="inline-link-macro-rx"></block></block>
  <block id="114856cfc010d937269afe29138175fc" category="doc">部署採用OpenShift虛擬化技術的虛擬機器：採用NetApp的Red Hat OpenShift</block>
  <block id="29fc4f6574f437e623e4eb9d47136931" category="list-text">開始安裝之前、請先將Astra Control Center映像推送到映像登錄。</block>
  <block id="25b4e951c048e2ae39554f36af8824b9" category="admonition">您可以選擇使用Docker或Podman來執行此作業；本步驟提供這兩種方法的說明。</block>
  <block id="ad3318a786149147666e961c291c6875" category="admonition">如果您的登錄使用不受信任的憑證、請編輯Shell指令碼、並針對podman推送命令「podman push $註 冊表/$（ECAECA$astraImage | sed 's/^[^\/]\+//'）-TLS-VERIFE=假」使用「-TLS-VERIFY」。</block>
  <block id="f39d61476380fc033f45c2d744596b00" category="list-text">接著、將映像登錄TLS憑證上傳至OpenShift節點。若要這麼做、請使用TLS憑證在openshift-config命名空間中建立組態對應、並將其修補至叢集映像組態、使憑證成為信任的憑證。</block>
  <block id="6589da0279dd02b9b1d177e0ff5f457b" category="list-text">建立命名空間「NetApp-acc operator」、以安裝Astra Control Center操作員。</block>
  <block id="4324c8f0a70a221bdde33868774e5a76" category="list-text">編輯Astra Control Center運算子CR「Astra control_center_operator_deploy」、這是Astra Control Center部署的一組所有資源。在運算子CR中、找到「acc oper-控制 器管理程式」的部署定義、然後輸入登錄的FQDN、以及將映像推送到登錄時所提供的組織名稱（在本例中為「astra-registry.apps.ocp-vmw.cie.netapp.com/netapp-astra`」）。 將「ASTRA_image_registry」取代為「ASTRA_image」、並提供我們剛在「imageplipSecrets」區段建立的機密名稱。驗證操作員的其他詳細資料、儲存及關閉。</block>
  <block id="a27cc132b2f3001f3e9df9c40dad4bfb" category="list-text">執行下列命令來建立運算子。</block>
  <block id="685fe82295261a8902e709081b6c9599" category="list-text">建立專用命名空間、以安裝所有Astra Control Center資源。</block>
  <block id="6d71c41a686bcfc0b0866044afd43f2b" category="list-text">建立密碼以存取該命名空間中的映像登錄。</block>
  <block id="25eb68598d15a49d385089020950412c" category="list-text">編輯Astra Control Center CRD檔案「Astra control_center_min.yaml」、然後輸入FQDN、映像登錄詳細資料、系統管理員電子郵件地址及其他詳細資料。</block>
  <block id="d689979a6af0f5660231db187d212950" category="list-text">在為其建立的命名空間中建立Astra Control Center CRD。</block>
  <block id="42b9bde28896d6478a324770641ac301" category="admonition">上一個檔案「Astra control_center_min.yaml」是Astra Control Center CRD的最低版本。如果您想要建立具有更多控制權的CRD、例如定義儲存裝置以外的預設建立PVCS、或提供郵件通知的SMTP詳細資料、您可以編輯檔案「Astra_control_center.yaml」、輸入所需的詳細資料、然後使用它來建立CRD。</block>
  <block id="7c613b296892d4712b9041d3081282f8" category="summary">採用NetApp的Red Hat OpenShift上的Kubernetes進階叢集管理。</block>
  <block id="78e1aefe2bbb2518f1156636e761e479" category="paragraph">若要在OpenShift叢集上安裝適用於Kubernetes的進階叢集管理、請完成下列步驟：</block>
  <block id="b17056cdbd9ec695d4348e1ad799ace4" category="list-text">選擇OpenShift叢集做為中樞叢集、並以叢集管理權限登入。</block>
  <block id="bc2ab7a7550cebeb52a08cf830b5ecf6" category="list-text">瀏覽至「運算子」&gt;「運算子中樞」、然後搜尋Kubernetes的「進階叢集管理」。</block>
  <block id="2e5d3941e033e96d5317cc2bbd1da914" category="image-alt">ACM方塊</block>
  <block id="c4ab802b80978ba1c5de3922d546bdb7" category="list-text">選取適用於Kubernetes的進階叢集管理、然後按一下安裝。</block>
  <block id="cc5a9dd5971b8369354db684e5dbfe2b" category="image-alt">ACM方塊詳細資料</block>
  <block id="c972585d6241c4f2ed2604bcc8706358" category="list-text">在Install Operator（安裝操作員）畫面上、提供必要的詳細資料（NetApp建議保留預設參數）、然後按一下Install（安裝）。</block>
  <block id="72b342ddabad6a9ec11df82389c40b88" category="image-alt">安裝ACM操作員方塊</block>
  <block id="64524f91c2fdfcd54b4bbcab35392908" category="image-alt">ACM操作員安裝正在進行中</block>
  <block id="7bf3d0678c48be5730f20005e6f88aa1" category="list-text">安裝操作員之後、按一下「Create MultiClusterHub（建立MultiClusterHub）」。</block>
  <block id="e0d84ec6a5b8f92909a7a3bef11455c1" category="image-alt">ACM營運者多叢集集中樞</block>
  <block id="95f29f27e373a9759cf065e1fde23e28" category="list-text">在Create MultiClusterHub（建立MultiClusterHub）畫面上、按一下「建立」（在提供詳細資料之後）。這會啟動多叢集集集集線器的安裝。</block>
  <block id="344f0cb43d1b2e7a719bea808fe7c5bf" category="image-alt">建立多叢集中樞畫面</block>
  <block id="a50aa5e8249109d6f4902945e968ad7d" category="list-text">在所有Pod移至開放式叢集管理命名空間中的執行狀態、且操作員移至成功狀態之後、就會安裝適用於Kubernetes的進階叢集管理。</block>
  <block id="851548d1ad843a23609f325e8b54e72d" category="image-alt">已安裝ACM操作員</block>
  <block id="391dd52c88201d377f1572062e22c43e" category="list-text">完成集線器安裝需要一些時間、完成之後、MultiCluster集線器會移至執行中狀態。</block>
  <block id="c7aa79f0c31ac15d728ee47c7e6eaee2" category="image-alt">多叢集集集中樞就緒</block>
  <block id="eef36825efd5d2d40e4f833635cd19da" category="list-text">它會在開放式叢集管理命名空間中建立路由。連線至路由中的URL、以存取進階叢集管理主控台。</block>
  <block id="f761fad3f1c25e94d5f46ebd9e23a901" category="image-alt">ACM主控台路由</block>
  <block id="4488e277b96ae08def5eb77c2d8c6e74" category="inline-link-macro">下一步：功能-叢集生命週期管理。</block>
  <block id="8a4d50965d8a3c708bdb16a716d64246" category="paragraph"><block ref="8a4d50965d8a3c708bdb16a716d64246" category="inline-link-macro-rx"></block></block>
  <block id="f79c612e785ac74789a25e8dda9e8731" category="doc">Astra Trident總覽</block>
  <block id="78c43863df60a7808264e8659cfa6b54" category="paragraph">Astra Trident是開放原始碼且完全支援的儲存協調工具、適用於Container和Kubernetes配送、包括Red Hat OpenShift。Trident可搭配整個NetApp儲存產品組合（包括NetApp ONTAP 的整套和Element儲存系統）使用、也支援NFS和iSCSI連線。Trident可讓終端使用者從NetApp儲存系統配置及管理儲存設備、而無需儲存管理員介入、進而加速DevOps工作流程。</block>
  <block id="a4957cf974ce20219897bbbf5b131cb8" category="paragraph">系統管理員可根據專案需求和儲存系統模型來設定多個儲存後端、以啟用進階儲存功能、包括壓縮、特定磁碟類型或QoS層級、以保證特定層級的效能。定義後端後端之後、開發人員可在專案中使用這些後端來建立持續磁碟區宣告（PVCS）、並視需要將持續儲存附加至容器。</block>
  <block id="ecfb2402c181e98da49a5d763378b116" category="paragraph"><block ref="ecfb2402c181e98da49a5d763378b116" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0626021388a8dcc9b1e26b1209550b8d" category="paragraph">Astra Trident的開發週期很快、就像Kubernetes一樣、每年發行四次。</block>
  <block id="8b70487815961b708f216595f5817311" category="paragraph">最新版的Astra Trident於2022年1月推出22.01版。支援對照表、顯示哪些版本的Trident已通過測試、可找到Kubernetes經銷產品<block ref="34562000b9988739736848a0014e5230" category="inline-link-rx"></block>。</block>
  <block id="b62bb4786ef52ad76706950add6991dd" category="paragraph">從20.04版本開始、Trident設定由Trident操作員執行。營運者讓大規模部署變得更簡單、並提供額外支援、包括在Trident安裝過程中部署的Pod自我修復。</block>
  <block id="4a85fdd5a26454abc330a5ec2a46a326" category="paragraph">有了21.01版、我們提供了Helm圖表、方便您安裝Trident操作員。</block>
  <block id="4281e618126caa3d322e78eafddba1b2" category="section-title">下載Astra Trident</block>
  <block id="f95d0437e813349fa018b7f0e68e9a7d" category="paragraph">若要在已部署的使用者叢集上安裝Trident並佈建持續磁碟區、請完成下列步驟：</block>
  <block id="b5d9e69ac9444a6a1cfd78cf106c057e" category="list-text">將安裝歸檔檔案下載至管理工作站、並擷取內容。目前的Trident版本為22.01、可下載<block ref="defadeb91446b93776c7f5696677985c" category="inline-link-rx"></block>。</block>
  <block id="422269f9bb560b76869cbd586b8370d5" category="list-text">從下載的套裝組合中擷取Trident安裝。</block>
  <block id="52d012c119e8e080d08f6a1592f8f9ec" category="section-title">使用Helm安裝Trident運算子</block>
  <block id="68602d0447fae81afa9d0528ef0c6420" category="list-text">首先將使用者叢集的「kubeconfig」檔案位置設定為環境變數、這樣您就不需要參考它、因為Trident沒有傳遞此檔案的選項。</block>
  <block id="449774824d889f1d6ebc0bbcc4920493" category="list-text">在使用者叢集中建立Trident命名空間時、請執行Helm命令、從Lm目錄的tar安裝Trident運算子。</block>
  <block id="64e437a845e5de3c8e50925ebdfce295" category="list-text">您可以檢查在命名空間中執行的Pod、或使用tridentctl二進位檔檢查安裝的版本、以驗證Trident是否已成功安裝。</block>
  <block id="3ce67d5de6974f67e0048e6fdbf89498" category="admonition">在某些情況下、客戶環境可能需要自訂Trident部署。在這些情況下、您也可以手動安裝Trident運算子、並更新隨附的資訊清單、以自訂部署。</block>
  <block id="8bd534d3b6bc8d2541df052e053ed65d" category="section-title">手動安裝Trident運算子</block>
  <block id="1315b42a551dafb715ab654d8eb5af40" category="list-text">首先、將使用者叢集的「kubeconfig」檔案位置設定為環境變數、這樣您就不需要參考、因為Trident沒有傳遞此檔案的選項。</block>
  <block id="5d710ec7d521df428edd75c1885ee89b" category="list-text">「Trident安裝程式」目錄包含定義所有必要資源的資訊清單。使用適當的資訊清單、建立「TridentOrchestrator」自訂資源定義。</block>
  <block id="0ac11186fb38b2e9d4acd38d03f61b5c" category="list-text">如果不存在、請使用提供的資訊清單、在叢集中建立Trident命名空間。</block>
  <block id="004c51fe71b5c654f88a31270ec6c8e9" category="list-text">建立Trident營運者部署所需的資源、例如營運者的「服務帳戶」、專屬的「PodSecurity Policy」、或營運者本身的「ClusterROLTE」和「ClusterROLESTBinding」。</block>
  <block id="f7b9c678b684e969a3ee5ac971514f48" category="list-text">您可以使用下列命令來檢查部署後的操作員狀態：</block>
  <block id="b34dd67c198ad4cf0088bd29c7ef4658" category="list-text">部署營運者之後、我們就可以使用它來安裝Trident。這需要建立「TridentOrchestrator」。</block>
  <block id="e32d70a13ba1767d9a373fe9a0535531" category="section-title">準備工作節點以供儲存</block>
  <block id="1d1a594959ec615f56516f5d0f5e8ddb" category="section-title">NFS</block>
  <block id="4b4d60be85b0c53c72ae4b8a05deacef" category="paragraph">大多數Kubernetes發佈版本都隨附套件和公用程式、可在預設情況下安裝NFS後端、包括Red Hat OpenShift。</block>
  <block id="89c771069f269704306d4ca7b118cc7d" category="paragraph">不過、對於NFSv3、用戶端與伺服器之間沒有協調並行的機制。因此、用戶端SUNRPC插槽表項目的最大數量必須以伺服器上支援的值手動同步、以確保NFS連線的最佳效能、而無需伺服器減少連線的視窗大小。</block>
  <block id="9c2d7353683234845149cb6710dc11f8" category="paragraph">對於支援的SUNRPC插槽表項目數量上限為128、亦即、支援的每次可同時處理128個NFS要求。ONTAP ONTAP不過、根據預設、每個連線的Red Hat CoreOS/Red Hat Enterprise Linux最多可有65536個SUNRPC插槽表項目。我們需要將此值設為128、這可透過OpenShift中的機器組態操作員（MCO）來完成。</block>
  <block id="88cd6afaae477b942c9ab5d396e43cfb" category="paragraph">若要修改OpenShift工作節點中的最大社工PC插槽表格項目、請完成下列步驟：</block>
  <block id="7b8e6ef8272a81ebcc108ee3fcf4eac8" category="list-text">登入OCP網路主控台、然後瀏覽至「運算」&gt;「機器組態」。按一下「Create Machine Config（建立機器組複製並貼上Yaml檔案、然後按一下「Create（建立）」。</block>
  <block id="e7a7478f209d8b5dcaf38a593ce749b3" category="list-text">建立MCO之後、必須在所有工作節點上套用組態、然後逐一重新開機。整個程序約需20至30分鐘。使用「oce Get MCP」確認是否套用機器組態、並確認已更新員工的機器組態集區。</block>
  <block id="e4e1c13bb0b14f6cb7608cbecea948ef" category="section-title">iSCSI</block>
  <block id="693642fbb464db49c22715a536e99c3f" category="paragraph">若要準備工作節點、以便透過iSCSI傳輸協定對應區塊儲存磁碟區、您必須安裝必要的套件、才能支援該功能。</block>
  <block id="cccb85b5e6a9a19187087f71254d1fb2" category="paragraph">在Red Hat OpenShift中、這是在叢集部署之後、將MCO（機器組態操作員）套用至叢集來處理。</block>
  <block id="068d2023b916134a0573aaad841124e4" category="paragraph">若要設定工作節點以執行iSCSI服務、請完成下列步驟：</block>
  <block id="c25282bfd8c140d1f79c25362637f744" category="paragraph">不使用多重路徑時：</block>
  <block id="541c76e8762c84e3e0488f91c8062e08" category="paragraph">使用多重路徑時：</block>
  <block id="d9f036d3b9f84b626f8a777480066cab" category="list-text">建立組態之後、將組態套用至工作節點並重新載入大約需要20到30分鐘的時間。使用「oce Get MCP」確認是否套用機器組態、並確認已更新員工的機器組態集區。您也可以登入工作者節點、確認iscsid服務正在執行（如果使用多重路徑、則多路徑服務正在執行）。</block>
  <block id="6e16409ed6038c106c7fa1dfbfb9da0f" category="admonition">此外、您也可以使用適當的旗標來執行「occ偵錯」命令、確認機器組態已成功套用、服務已如預期般啟動。</block>
  <block id="b09d268106fd9cbfffd1dc848382a150" category="section-title">建立儲存系統後端</block>
  <block id="f71051465199267cbb540658a51e2957" category="paragraph">完成Astra Trident操作員安裝之後、您必須為所使用的特定NetApp儲存平台設定後端。請依照下列連結繼續Astra Trident的設定與組態。</block>
  <block id="615767b52353571ac174e22f1a984aa3" category="inline-link-macro">NetApp ONTAP 不適用於NFS</block>
  <block id="fa0fe4c03e1ba99a2cac1c4c208b7fbd" category="list-text"><block ref="fa0fe4c03e1ba99a2cac1c4c208b7fbd" category="inline-link-macro-rx"></block></block>
  <block id="c93e7ef2934826b1393251e9f7d9e331" category="inline-link-macro">NetApp ONTAP 支援iSCSI</block>
  <block id="d7b539d4bc16fbdf1477adddfda6c802" category="list-text"><block ref="d7b539d4bc16fbdf1477adddfda6c802" category="inline-link-macro-rx"></block></block>
  <block id="d0e0904111acb167badbf5f196ad1205" category="inline-link-macro">支援iSCSI NetApp Element</block>
  <block id="2e5d36490241211379006b7f6934bf06" category="list-text"><block ref="2e5d36490241211379006b7f6934bf06" category="inline-link-macro-rx"></block></block>
  <block id="a003986254b5a6c136733113505348da" category="doc">安裝F5 BIG-IP負載平衡器</block>
  <block id="048600e045fd4c5afe58ec9d65aa4b19" category="paragraph">F5 BIG-IP是應用程式交付控制器（ADC）、提供一系列進階的正式作業級流量管理與安全服務、例如L4-L7負載平衡、SSL/TLS卸載、DNS、防火牆等。這些服務可大幅提升應用程式的可用度、安全性和效能。</block>
  <block id="5c47e8322efb7f77c0aa515fec29477e" category="paragraph">您可以在專屬硬體、雲端或內部部署的虛擬應用裝置上、以各種方式部署和使用F5 BIG-IP。請參閱此處的文件、依照需求探索及部署F5 BIG-IP。</block>
  <block id="16a275a8b38f9c5211732c331edb7135" category="paragraph">為有效整合使用Red Hat OpenShift的F5 BIG-IP服務、F5提供Big IP Container Ingress Service（CI）。CI是以控制器Pod的形式安裝、可針對特定的自訂資源定義（CRD）來觀看OpenShift API、並管理F5 BIG-IP系統組態。您可以在OpenShift中設定F5 BIG-IP CI、以控制服務類型負載平衡器和路由。</block>
  <block id="e3ce824a7aff01576faaac58df9e0b18" category="paragraph">此外、若要自動分配IP位址以服務負載平衡器類型、您可以使用F5 IPAM控制器。將F5 IPAM控制器安裝為控制器Pod、會使用ipamLabel附註來監視負載平衡器服務的OpenShift API、以便從預先設定的集區分配IP位址。</block>
  <block id="3b08b142099d42d5280d7b493288bf63" category="paragraph">本頁列出適用於F5 BIG-IP CI和IPAM控制器的安裝與組態指示。您必須部署並授權使用F5 BIG-IP系統、才能做為先決條件。也必須授權使用SDN服務、此服務預設隨附於Big IP VE基礎授權中。</block>
  <block id="5fb7b483d0c9fa099945579d826691b8" category="admonition">可以在獨立或叢集模式中部署F5 BIG-IP。為了進行此驗證、在獨立模式下部署了F5 BIG-IP、但為了正式作業目的、最好使用一個BIG-IP叢集、以避免單點故障。</block>
  <block id="0d3e8be481c0c23fd0a68da9a9340ef7" category="admonition">您可以在專屬硬體、雲端或內部部署的虛擬應用裝置上部署一個F5 BIG-IP系統、其版本超過12.x、以便與F5 CI整合。就本文件而言、以虛擬應用裝置（例如使用BIG-IP VE版本）的形式驗證的F5 BIG-IP系統。</block>
  <block id="39bc153685f2a0c6d56db4227295a3b0" category="section-title">已驗證的版本</block>
  <block id="2454407b9991c6c5f417a2feb8ea7970" category="cell">4.6 EUS、4.7</block>
  <block id="00d0a06cc7c922b3bc62b22524723ff8" category="cell">F5 BIG-IP VE版本</block>
  <block id="5bd03f916d1e7b0410d0d3b2d12c6366" category="cell">16.1.0</block>
  <block id="c6f7874f49f685ffdf1b5a8aad8875c4" category="cell">F5 Container Ingress服務</block>
  <block id="21f47a5b35d016c2f0f8f57704079407" category="cell">2.5.1</block>
  <block id="9635118f932e26e24f0ca315d3843379" category="cell">F5 IPAM控制器</block>
  <block id="5256eb2d6e3cf80e003a290e63843800" category="cell">0.1.4</block>
  <block id="088afeececf092d5a406e0f5022a9638" category="cell">F5 AS3</block>
  <block id="425b0ca2d1d9d5c75555116fcd1614bf" category="cell">3.30.0</block>
  <block id="7cd8fb6e31cc946c078d2740c76a9899" category="section-title">安裝</block>
  <block id="b9a4064fa117596b59fb18df84df74df" category="inline-link">F5 AS3 GitHub儲存庫</block>
  <block id="6463cf716c052865ec9f4716ff0b5d3f" category="list-text">安裝F5 Application Services 3擴充功能、讓BIG-IP系統接受Json中的組態、而非命令命令。前往<block ref="0d4e47593b830323684cdec40cb60c71" category="inline-link-rx"></block>下載最新的RPM檔案。</block>
  <block id="4c0802ebd79a8c6e5ea4aed829f023c9" category="list-text">登入F5 BIG-IP系統、瀏覽至iApps &gt;「套件管理Lx」、然後按一下「匯入」。</block>
  <block id="3536ed517a711f49cfe64071db031cf5" category="list-text">按一下"選擇檔案"並選取下載的AS3 RPM檔案、按一下"確定"、然後按一下"上傳"。</block>
  <block id="2a90f793207a5a0c028d8ccc45e943fd" category="inline-image-macro">iApps上傳</block>
  <block id="7a3eaac0605c201c339e116a475c0bf6" category="paragraph"><block ref="7a3eaac0605c201c339e116a475c0bf6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="caedd771b59d267eda8f88d329e8784f" category="list-text">確認已成功安裝AS3擴充功能。</block>
  <block id="c434efeb83b6dc500ea7893f1ad4236b" category="inline-image-macro">AS3安裝驗證</block>
  <block id="eb52ccb2be126d28d17e4383ae6ea6cf" category="paragraph"><block ref="eb52ccb2be126d28d17e4383ae6ea6cf" category="inline-image-macro-rx" type="image"></block></block>
  <block id="97e9e05bfde432cfa7291b1e55a52ba7" category="list-text">接下來、設定OpenShift與BIG-IP系統之間通訊所需的資源。首先在OpenShift和Big IP伺服器之間建立通道、方法是在適用於OpenShift SDN的Big IP系統上建立VXLAN通道介面。瀏覽至「Network（網路）」&gt;「Tunnels（通道）」&gt;「Profiles（設定檔）」、按一下「Create（建立）」、然後將「Parent Profile（父設定檔）」設定為VXLAN、「輸入設定檔的名稱、然後按一下「完成」。</block>
  <block id="faaca798da0468a250bf3c3bffc26681" category="inline-image-macro">建立VXLAN設定檔</block>
  <block id="bddf6bed69a1a2234f15cefc27853c50" category="paragraph"><block ref="bddf6bed69a1a2234f15cefc27853c50" category="inline-image-macro-rx" type="image"></block></block>
  <block id="45ae0c96657fdc5a20e83839c2386c1e" category="list-text">瀏覽至「網路」&gt;「通道」&gt;「通道清單」、按一下「建立」、然後輸入通道的名稱和本機IP位址。選取在上一個步驟中建立的通道設定檔、然後按一下「完成」。</block>
  <block id="1497a4f92d416d6c80392ec3467ff140" category="inline-image-macro">建立VXLAN通道</block>
  <block id="53ce9cdf8cf7f6cb09991e817df94959" category="paragraph"><block ref="53ce9cdf8cf7f6cb09991e817df94959" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cc5e5bc480b39177b8cb8c9c3a2266ae" category="list-text">以叢集管理權限登入Red Hat OpenShift叢集。</block>
  <block id="986e63a308b4bebd3f531e38fa5a06c7" category="list-text">在OpenShift上為F5 BIG-IP伺服器建立主機子網路、將子網路從OpenShift叢集延伸至F5 BIG-IP伺服器。下載主機子網路Yaml定義。</block>
  <block id="fd4475e12938f5f51ba3f312b42cdd39" category="list-text">編輯主機子網路檔案、並為OpenShift SDN新增BIG-IP VTEP（VXLAN通道）IP。</block>
  <block id="2e6d8a8db3c4d4a2227ffa0571be2a86" category="admonition">變更適用於您環境的主機IP和其他詳細資料。</block>
  <block id="7f9916ee1bc520d892dfbbb1e06e2732" category="list-text">建立主機子網路資源。</block>
  <block id="7a46b2d02d466dda0cc67b215cb80bff" category="list-text">取得為F5 BIG-IP伺服器所建立之主機子網路的叢集IP子網路範圍。</block>
  <block id="4f6c1fea3654c07f1606c0c76509d0b0" category="list-text">在OpenShift VXLAN上建立一個自有IP、並在OpenShift的主機子網路範圍中建立對應於F5 BIG-IP伺服器的IP。登入F5 BIG-IP系統、瀏覽至「網路」&gt;「自助IP」、然後按一下「建立」。從為F5 BIG-IP主機子網路建立的叢集IP子網路輸入IP、選取VXLAN通道、然後輸入其他詳細資料。然後按一下「完成」。</block>
  <block id="5c241806c0dd5ebb7030904151cb78ef" category="inline-image-macro">為VXLAN建立自我IP</block>
  <block id="ffad9e123d8b7013e7d4553570644879" category="paragraph"><block ref="ffad9e123d8b7013e7d4553570644879" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4d094b7d82871afb601d2f30d416ba8d" category="list-text">在要設定並搭配CI使用的F5 BIG-IP系統中建立分割區。瀏覽至「系統」&gt;「使用者」&gt;「分割清單」、按一下「建立」、然後輸入詳細資料。然後按一下「完成」。</block>
  <block id="4d81871723233ec21ed69ab80e638779" category="inline-image-macro">建立BIG-IP分割區</block>
  <block id="b83428617c6ed29213f89e68f142bd18" category="paragraph"><block ref="b83428617c6ed29213f89e68f142bd18" category="inline-image-macro-rx" type="image"></block></block>
  <block id="37397397fa66431e2fa681b97126c399" category="admonition">F5建議您不要在由CI管理的分割區上進行手動設定。</block>
  <block id="81e4a49e9dbe0b55256fe5abf1b94fa4" category="list-text">使用來自作業系統集線器的操作員來安裝F5 BIG-IP CI。以叢集管理權限登入Red Hat OpenShift叢集、並使用F5 BIG-IP系統登入認證建立密碼、這是操作員的必要條件。</block>
  <block id="5de4ac005898cabf55523098c40c549b" category="list-text">安裝5個CI客戶需求日。</block>
  <block id="0eddace1b16ed738fe1be181481c71b6" category="list-text">瀏覽至「運算子」&gt;「作業系統集線器」、搜尋關鍵字F5、然後按一下「F5 Container Ingress Service」方塊。</block>
  <block id="07543409cb05595e273df71050b9a9c0" category="inline-image-macro">在作業系統集線器中的5個CI</block>
  <block id="334a7bbf4711d93b48b93c2b81d84a71" category="paragraph"><block ref="334a7bbf4711d93b48b93c2b81d84a71" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c25b2a3d320d6d02584fde4190d05d91" category="list-text">閱讀操作員資訊、然後按一下「Install（安裝）」。</block>
  <block id="60d3353ed1910ad5c7bd352d0c1bea85" category="inline-image-macro">在作業系統集線器中的「F5 CI資訊」方塊</block>
  <block id="1aa79507d413f19135716c8006afa423" category="paragraph"><block ref="1aa79507d413f19135716c8006afa423" category="inline-image-macro-rx" type="image"></block></block>
  <block id="637a1bc658defc200d903b27828aa8fb" category="list-text">在「Install（安裝）」操作員畫面上、保留所有預設參數、然後按一下「Install（安裝）」。</block>
  <block id="ccf254d7c8b666c9c127ec12fe14804b" category="inline-image-macro">安裝F5 CI操作員</block>
  <block id="56e9cc6f2f7ece6c23fa6faa7f320d5d" category="paragraph"><block ref="56e9cc6f2f7ece6c23fa6faa7f320d5d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="636d8318702bc67a1613ceadf7ce9d00" category="list-text">安裝操作員需要一段時間。</block>
  <block id="dffa3077bcff43536afd75bd61b11c0c" category="inline-image-macro">5 CI操作員安裝進度</block>
  <block id="b1be0ed9469d2ced1f6283b49735f5c1" category="paragraph"><block ref="b1be0ed9469d2ced1f6283b49735f5c1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="197a0a4cc4a45ec9a62fe2b7335d8dfc" category="list-text">安裝操作員之後、會顯示安裝成功訊息。</block>
  <block id="5bf83e99bfa132430d0b690181334933" category="list-text">瀏覽至「運算子」&gt;「安裝的運算子」、按一下「F5 Container Ingress Service」、然後按一下「F5BigIprcr」方塊下方的「Create Instance（建立執行個體）」。</block>
  <block id="a5f584f06c59c2cf4a4a4e8b42d495a2" category="inline-image-macro">建立F5BigIprvr</block>
  <block id="a2574a02e64888de32a5a277ed05f668" category="paragraph"><block ref="a2574a02e64888de32a5a277ed05f668" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c5ce9a4ef68c16a3ab5d0dd555305872" category="list-text">按一下「Yaml View（Yaml檢視）」、然後在更新必要的參數後貼上下列內容。</block>
  <block id="2e2beb899f89156ed06287fe6f78e6cf" category="admonition">請更新下列參數「bigip_partition'、「openshift_SDN_name'、「bigip_URL」和「bigip_login_secret」、以反映設定值、然後再複製內容。</block>
  <block id="50a17348dc3f981a95001edcc80a428f" category="list-text">貼上此內容之後、按一下「建立」。這會在K資料庫 系統命名空間中安裝CI Pod。</block>
  <block id="72003ce6faa67d172e943ddd74fab63b" category="inline-image-macro">驗證F5 CI Pod</block>
  <block id="ef76b6b9f85ff0ec00e48f565e13eff9" category="paragraph"><block ref="ef76b6b9f85ff0ec00e48f565e13eff9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fc8632c05e82ccafb395157ccae4f5c3" category="admonition">Red Hat OpenShift依預設提供一種方法、可透過L7負載平衡的路由來公開服務。內建的OpenShift路由器負責廣告和處理這些路由的流量。不過、您也可以設定F5 CI來支援透過外部的F5 BIG-IP系統的路由、以便作為輔助路由器執行、或取代自行代管的OpenShift路由器。CI會在Big IP系統中建立虛擬伺服器、做為OpenShift路由的路由器、而Big IP則負責通告和流量路由。如需啟用此功能的參數資訊、請參閱此處的文件。請注意、這些參數是針對APS/v1 API中的OpenShift部署資源所定義。因此、將這些項目搭配F5BigIprvtrr資源cis.f5.com/v1 API使用時、請將參數名稱的連字號（-）取代為底線（_）。</block>
  <block id="a6e55fc1fe932b26a294a0f2880478aa" category="list-text">傳遞給CI資源建立的引數包括「ipam: true」和「custom_resource_mode：true」。這些參數是啟用與IPAM控制器的CI整合所需的參數。建立F5 IPAM資源、確認CI已啟用IPAM整合。</block>
  <block id="84ac0b78989fa6595723d5541b8ec470" category="list-text">建立F5 IPAM控制器所需的服務帳戶、角色和角色繫結。建立Yaml檔案並貼上下列內容。</block>
  <block id="670c1074ae74616731a63f6b9462b94e" category="list-text">建立資源。</block>
  <block id="b7802bea6dc04d06b63232b6301621bb" category="list-text">建立Yaml檔案、然後貼上以下提供的F5 IPAM部署定義。</block>
  <block id="6a1491ddca525bea3293eca6ea8019d0" category="admonition">請更新下方spec.template.spec.contains[0].args中的IP範圍參數、以反映與您設定相對應的ipamLabel和IP位址範圍。</block>
  <block id="642252b62fe47e95caa77e3b06a7dbaf" category="admonition">IPAM控制器的負載平衡器類型服務需要註釋ipamLabels ['range1'和'range2'、才能從定義的範圍偵測和指派IP位址。</block>
  <block id="8f253132259909c28624117b3476a672" category="list-text">建立F5 IPAM控制器部署。</block>
  <block id="43946dccec13f46420eb559911e4c526" category="list-text">確認F5 IPAM控制器Pod正在執行。</block>
  <block id="1362b3e7985b4f24d6c2ef4438ee1f0e" category="list-text">建立F5 IPAM架構。</block>
  <block id="52b8ffce119fe77b28034f2fdd35eb5f" category="section-title">驗證</block>
  <block id="32172ccfad6e7060b8f5e091e296f09c" category="list-text">建立負載平衡器類型的服務</block>
  <block id="0847be44e618094bc81c848c7d131399" category="list-text">檢查IPAM控制器是否指派外部IP給它。</block>
  <block id="0e51a0606ba7833099aa57bd61c62ba6" category="list-text">建立部署並使用所建立的負載平衡器服務。</block>
  <block id="5f905cb56a4d1b364cab7fc57f4de4e5" category="list-text">檢查Pod是否正在執行。</block>
  <block id="51b4d723f0434284233dab97982b185d" category="list-text">檢查OpenShift中是否針對負載平衡器類型的服務、在Big IP系統中建立對應的虛擬伺服器。瀏覽至本機流量&gt;虛擬伺服器&gt;虛擬伺服器清單。</block>
  <block id="91193cea3335c4666b7dc31ca767030c" category="inline-image-macro">驗證為對應的服務類型負載平衡器建立BIG-IP虛擬伺服器</block>
  <block id="879dfaa1de924ed5e9ccb98da9ac95cd" category="paragraph"><block ref="879dfaa1de924ed5e9ccb98da9ac95cd" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a62e902f0d244d960eddf2f14d3afa6f" category="paragraph">裸機上的OpenShift可在市售伺服器上自動部署OpenShift Container Platform。</block>
  <block id="0e05c6235b67ae8e5b743c9ca77358fa" category="paragraph">裸機上的OpenShift類似於OpenShift的虛擬部署、可輕鬆部署、快速配置及擴充OpenShift叢集、同時支援尚未準備好容器化的應用程式虛擬化工作負載。在裸機上部署之後、除了OpenShift環境之外、您不需要額外的管理成本來管理主機Hypervisor環境。透過直接部署在裸機伺服器上、您也可以減少主機與OpenShift環境之間共用資源的實體負荷限制。</block>
  <block id="67a3852a946bc539243cc1e5f8982d03" category="section-title">裸機上的OpenShift提供下列功能：</block>
  <block id="9a3c3034787ddbd4af974d73f795c75a" category="list-text">* IPI或輔助安裝程式部署*。*有了由安裝程式佈建基礎架構（IPI）部署的OpenShift叢集、客戶就能直接在市售伺服器上部署高度通用、易於擴充的OpenShift環境、而不需要管理Hypervisor層。</block>
  <block id="bf995f5252e568d22b265ec62c16914c" category="list-text">*精簡叢集設計。*為了將硬體需求降至最低、裸機上的OpenShift可讓使用者部署只有3個節點的叢集、同時讓OpenShift控制面板節點也能做為工作者節點和主機容器。</block>
  <block id="13442dfd439ae0a377b0a2d2d9df1709" category="list-text">* OpenShift虛擬化。* OpenShift可以使用OpenShift虛擬化在容器內執行虛擬機器。此容器原生虛擬化可在容器內執行KVM Hypervisor、並附加持續磁碟區以供VM儲存。</block>
  <block id="6e6a5272d3c6f8eceb96e3c19f0faaf6" category="list-text">*最佳化的AI/ML基礎架構。*將GPU型工作節點整合至OpenShift環境、並運用OpenShift進階排程技術、部署Kubeflow等機器學習應用程式。</block>
  <block id="6bc136fcf409560a1029f6f323619bbf" category="paragraph">Red Hat OpenShift on NetApp解決方案使用兩個資料交換器、以25Gbps的速率提供主要資料連線能力。它也使用兩個管理交換器、以1Gbps的速率提供連線能力、用於儲存節點的頻內管理、以及IPMI功能的頻外管理。</block>
  <block id="17fea9675576fc9c72deb9501a5fd16a" category="paragraph">對於OpenShift裸機IPI部署、您必須建立資源配置程式節點、這是一台Red Hat Enterprise Linux 8機器、必須將網路介面連接至不同的網路。</block>
  <block id="2f42f99315e0171a6e5c61957ae4689c" category="list-text">*資源配置網路。*此網路用於開機裸機節點、並安裝必要的映像和套件、以部署OpenShift叢集。</block>
  <block id="aba727a2dc3dd836a33a2022bb2a9c3f" category="list-text">*裸機網路。*此網路用於叢集部署後的對外通訊。</block>
  <block id="7633522f66aaba6bc4bb2c25d299d287" category="paragraph">為了設定資源配置工具節點、客戶建立橋接介面、讓流量能在節點本身和為部署目的而配置的Bootstrap VM上正確路由傳送。部署叢集之後、API和入口VIP位址會從啟動節點移轉至新部署的叢集。</block>
  <block id="963d7d04e1f1692a7fc49ae899123dbd" category="paragraph">下列影像說明IPI部署期間和部署完成後的環境。</block>
  <block id="096e71732ebcd1f43544a7159596cb17" category="paragraph"><block ref="096e71732ebcd1f43544a7159596cb17" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bb18861dc375756df1a31b7ed3c03f38" category="paragraph"><block ref="bb18861dc375756df1a31b7ed3c03f38" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c5a0639a1bbc3695e0ebaf4c3affe363" category="paragraph">Red Hat OpenShift with NetApp解決方案的設計是使用虛擬區域網路（VLAN）、以邏輯方式將網路流量分隔為不同用途。</block>
  <block id="3d9073c9e531118eb3aff0f20647c86f" category="cell">裸機節點和IPMI的管理</block>
  <block id="f53272342c85041784b2d5136e6eaa7d" category="cell">裸機網路</block>
  <block id="44a94f76baabd05ab407f76c946326c8" category="cell">叢集可用後、OpenShift服務的網路</block>
  <block id="11405696f0e53417a3847f430a7b8ed0" category="cell">資源配置網路</block>
  <block id="846325c36d78e7582d8bfcab277ca67a" category="cell">透過IPI開機及安裝裸機節點的網路</block>
  <block id="eb5f501445f81cb1f7f4cf290565f9c8" category="admonition">雖然這些網路中的每個都是以VLAN分隔、但每個實體連接埠都必須在存取模式中設定、並指派主要VLAN、因為在執行PXE開機順序時、無法傳遞VLAN標記。</block>
  <block id="3ab0ae61b5256f874297403903fd5afc" category="paragraph">在部署OpenShift Container平台之前、應先準備好下列基礎架構：</block>
  <block id="06a9d12a76441fd395abeba7bf0d7b91" category="list-text">至少有一部DNS伺服器提供完整的主機名稱解析、可從頻內管理網路和VM網路存取。</block>
  <block id="810a039d1a8524388b75a0fe8d837afc" category="summary">若要讓Astra Control Center管理工作負載、您必須先登錄Red Hat OpenShift叢集。</block>
  <block id="3557f7a93216446476c40d54e0426c40" category="doc">使用Astra Control Center註冊Red Hat OpenShift叢集</block>
  <block id="349c99fe6f384da92e5b8289b828791c" category="section-title">登錄Red Hat OpenShift叢集</block>
  <block id="c179429ab818c9d0cca3d1db55f788bf" category="list-text">第一步是將OpenShift叢集新增至Astra控制中心、並加以管理。移至「叢集」、然後按一下「新增叢集」、上傳OpenShift叢集的Kbeconfig檔案、然後按一下「選取儲存設備」。</block>
  <block id="8dfc7d6b819f8c17b51391e3b3159add" category="inline-image-macro">Astra Control Center會建立叢集</block>
  <block id="7470624615914e8e3d5fdf4ea1aa31de" category="paragraph"><block ref="7470624615914e8e3d5fdf4ea1aa31de" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c7d9a690231a2d896f69e9b45c9ff4a1" category="admonition">可以產生Kbeconfig檔案、以使用者名稱和密碼或權杖進行驗證。權杖會在有限時間後過期、並可能使登錄的叢集無法連線。NetApp建議使用用戶名和密碼的Kusbeconfig檔案、將OpenShift叢集登錄至Astra Control Center。</block>
  <block id="2fb91f8695d5dc9db4bf5a7ef710ec73" category="list-text">Astra Control Center會偵測合格的儲存類別。現在、請在NetApp ONTAP 上選擇使用Trident（以SVM為後盾）來配置Volume的方式、然後按一下「Review（檢閱）」。在下一個窗格中、確認詳細資料、然後按一下「Add Cluster（新增叢集）」。</block>
  <block id="cab7d2cb072914c0a5a89baab41d38e8" category="inline-image-macro">Astra Control Center可建立叢集選取的儲存設備</block>
  <block id="68ac91074dd3b4e5514e5f56a6c9c756" category="paragraph"><block ref="68ac91074dd3b4e5514e5f56a6c9c756" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3edb3c83eb1bede6778cc1960a651973" category="list-text">如步驟1所述、登錄兩個OpenShift叢集。新增時、叢集會移至「Discovering」（探索）狀態、而Astra Control Center則會檢查並安裝必要的代理程式。叢集狀態會在成功登錄之後變更為執行中。</block>
  <block id="420b9c40f78cc4825914319af51801b9" category="inline-image-macro">Astra Control Center叢集可供使用</block>
  <block id="1b017a62213661e1ed3c5c581fcf74a2" category="paragraph"><block ref="1b017a62213661e1ed3c5c581fcf74a2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ed5c1a60b8165b8bc691cbdf1b0d122c" category="admonition">所有由Astra Control Center管理的Red Hat OpenShift叢集、都應該能夠存取安裝時所用的映像登錄、因為安裝在受管理叢集上的代理程式會從該登錄擷取映像。</block>
  <block id="8d01de34ef9b9b934d18009a1e3273a9" category="list-text">將ONTAP 支援的物件叢集匯入為儲存資源、以由Astra Control Center作為後端管理。當OpenShift叢集新增至Astra且已設定儲存設備時、它會自動探索ONTAP 並檢查以儲存設備為後盾的不支援該叢集、但不會將其匯入要管理的Astra Control Center。</block>
  <block id="781ffd1df517a65b302412f53de974da" category="inline-image-macro">Astra Control Center後端探索</block>
  <block id="1fcc7977dffdc8fd8fc53582c67da895" category="paragraph"><block ref="1fcc7977dffdc8fd8fc53582c67da895" category="inline-image-macro-rx" type="image"></block></block>
  <block id="feab1371530d1ef069d928e811bcb08b" category="list-text">若要匯入ONTAP 物件叢集、請前往後端、按一下下拉式清單、然後選取ONTAP 要管理之物件叢集旁的「Manage（管理）」。輸入ONTAP 「物件叢集認證」、按一下「檢閱資訊」、然後按一下「匯入儲存設備後端」。</block>
  <block id="4da0c23c38cf0da34e1e6660ff74542b" category="inline-image-macro">Astra Control Center建立後端</block>
  <block id="69dbaffc2661024ee0b5095bc3674f60" category="paragraph"><block ref="69dbaffc2661024ee0b5095bc3674f60" category="inline-image-macro-rx" type="image"></block></block>
  <block id="edb4425c04926a17b6ff9a4a2ecdc669" category="list-text">新增後端之後、狀態會變更為「可用」。這些後端現在有OpenShift叢集中持續磁碟區的相關資訊、ONTAP 以及在整個系統上對應的磁碟區。</block>
  <block id="92c130f9be24925c7dee36f7580ea347" category="inline-image-macro">Astra Control Center後端可用</block>
  <block id="e9f487b0aad6779edbf50c6092477bd5" category="paragraph"><block ref="e9f487b0aad6779edbf50c6092477bd5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f2d10d92dc9d83e3cf3514e8e883e5cb" category="list-text">若要使用Astra Control Center跨OpenShift叢集進行備份與還原、您必須配置支援S3傳輸協定的物件儲存桶。目前支援ONTAP 的選項包括不支援的S3、StorageGRID 不支援的功能、以及AWS S3。為了進行此安裝、我們將設定AWS S3儲存區。移至「Bucket」、按一下「Add Bucket」、然後選取「通用S3」。輸入S3儲存區及認證的詳細資料以進行存取、按一下「將此儲存區設為雲端的預設儲存區」核取方塊、然後按一下「新增」。</block>
  <block id="6910cb9051734be0129cb1e7dd84ce5c" category="inline-image-macro">Astra Control Center可建立鏟斗</block>
  <block id="2786d0b632389f7cbd6c4e67fba0061f" category="paragraph"><block ref="2786d0b632389f7cbd6c4e67fba0061f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d5a9f831c51dc05a9b40eae2850329fc" category="inline-link-macro">下一步：選擇要保護的應用程式。</block>
  <block id="74dd157086250792afa856d5a6c32777" category="paragraph"><block ref="74dd157086250792afa856d5a6c32777" category="inline-link-macro-rx"></block></block>
  <block id="50465c19760e2a5476479f1f4a464119" category="summary">Anthos on裸機搭配NetApp提供健全的平台、可讓您自訂部署的基礎架構、有效執行以容器為基礎的工作負載。</block>
  <block id="3ae752a47170fdc4f7ff5ed3204c1fb5" category="paragraph"><block ref="3ae752a47170fdc4f7ff5ed3204c1fb5" category="inline-link-macro-rx"></block></block>
  <block id="13148717f8faa9037f37d28971dfc219" category="doc">驗證</block>
  <block id="286c0d2f200233e63709210881b700c4" category="paragraph">若要驗證先前步驟中設定的多租戶架構、請完成下列步驟：</block>
  <block id="627fd2c5e0310dc7409ea377e5d13045" category="section-title">驗證存取權、以在指派的專案中建立PVCS或Pod</block>
  <block id="f4da6475fc7e97756adf2751840e077d" category="list-text">以專案1的開發人員OCP專案1使用者身分登入。</block>
  <block id="2d7fbbcee3114769610fea6ef6f4cdf0" category="list-text">檢查存取權限以建立新專案。</block>
  <block id="12cdc5f68c3a0ca10544c0a57e866249" category="list-text">在專案1中使用指派給專案1的storageclassed建立一個PVC.</block>
  <block id="145d2249af633a497182f76e714d1f2e" category="list-text">檢查與室早相關的PV。</block>
  <block id="d424ec829e7a6f56de4d74835b97103a" category="list-text">驗證PV及其Volume是否是在專門用於NetApp ONTAP 上專案1的SVM中建立。</block>
  <block id="a345b6be662b316a3b3e3cfbc7566b31" category="list-text">在專案1中建立一個Pod、然後掛載上一步建立的永久虛擬儲存設備。</block>
  <block id="7b929f9e235c85c6b73ed2ee867c5514" category="list-text">檢查Pod是否正在執行、以及是否已掛載磁碟區。</block>
  <block id="8c9885c86a67cc4c47a30d7e8d14badb" category="section-title">驗證存取權限、以在另一個專案中建立PVCS或Pod、或使用其他專案專用的資源</block>
  <block id="8e27501b578972bd7b65468deaa482ca" category="list-text">使用指派給專案2的儲存裝置在專案1中建立一個PVC.</block>
  <block id="71bc5a6f1f0141981e0034b388233917" category="list-text">在專案2中建立一個PVC.</block>
  <block id="1149bf04288dfa82d0e3b713a6e66aa1" category="list-text">確保未建立PVCS「test-PVC-project - 1-sc-2」和「test-PVC-project - 2-sc-1」。</block>
  <block id="0d843e91c3b8f62457e19b2d32ecace3" category="list-text">在專案2中建立Pod。</block>
  <block id="83aa0a39007c30e71adde6fbf8180d9f" category="section-title">驗證存取權限、以檢視及編輯專案、資源配額和儲存類別</block>
  <block id="43700888cdcd166f379f95bd1751ae63" category="list-text">檢查存取權限以建立新專案。</block>
  <block id="32579947c29f341292c3ce775140178b" category="list-text">驗證存取權限以檢視專案。</block>
  <block id="9e97a1398bb4a0499bb69bf1c9e67d6a" category="list-text">檢查使用者是否可以在專案1中檢視或編輯資源配額。</block>
  <block id="17a658c4329ed475a82d2e02c0406118" category="list-text">驗證使用者是否有權檢視儲存空間。</block>
  <block id="aa177e49bfc4cc0182f57218ce6bdd4d" category="list-text">檢查存取以描述儲存空間。</block>
  <block id="997cef2cfb8ccc12d8739c63e69794f3" category="list-text">驗證使用者的存取權、以編輯儲存空間。</block>
  <block id="9eb6f7c0e27dd8274a30b43a4aee8d53" category="inline-link-macro">下一步：擴充。</block>
  <block id="acd8a990c476bd6cb45a9044361ba723" category="paragraph"><block ref="acd8a990c476bd6cb45a9044361ba723" category="inline-link-macro-rx"></block></block>
  <block id="1d45b25ba986072287aaf72b6cf94130" category="paragraph">雖然Red Hat OpenShift和Astra Trident以NetApp ONTAP 支援、但在預設情況下並未隔離不同的工作負載、但它們提供多種功能、可用來設定多租戶。為了更深入瞭ONTAP 解如何在採用NetApp®技術的Astra Trident的Red Hat OpenShift叢集上設計多租戶解決方案、請讓我們參考一組需求範例、並概述相關的組態。</block>
  <block id="385df0e95c28430fb792ec836529f371" category="paragraph">假設某組織在Red Hat OpenShift叢集上執行兩項工作負載、這是兩個不同團隊正在進行的兩個專案的一部分。這些工作負載的資料位於PVCS上、由Astra Trident在NetApp ONTAP 的NAS後端動態配置。組織必須針對這兩項工作負載設計多租戶解決方案、並隔離用於這些專案的資源、以確保安全性和效能得以維持、主要著重於為這些應用程式提供服務的資料。</block>
  <block id="9c965c0beb472bc9265925ebbc55507e" category="paragraph">下圖說明Red Hat OpenShift叢集上的多租戶解決方案、其中Astra Trident以NetApp ONTAP 效益為後盾。</block>
  <block id="2ed5156911e542a4d3d64a6e160f6446" category="image-alt">Red Hat OpenShift叢集上的多租戶共享、具有由NetApp ONTAP 支援的Astra Trident</block>
  <block id="3c438be737391744e2fed6f73c418638" category="section-title">技術需求</block>
  <block id="ff94444190436ee7694d15be2dde0f29" category="list-text">NetApp ONTAP 解決方案儲存叢集</block>
  <block id="086e6c16e3fe8e13c336612ef636aa02" category="list-text">Astra Trident</block>
  <block id="0d46ef98dfe52c8d01c0c5ace93d8165" category="section-title">Red Hat OpenShift–叢集資源</block>
  <block id="72710b926f57dad99b29203c63f4e3fd" category="paragraph">從Red Hat OpenShift叢集觀點來看、最重要的資源是專案。OpenShift專案可視為叢集資源、將整個OpenShift叢集分成多個虛擬叢集。因此、專案層級的隔離功能可提供設定多租戶的基礎。</block>
  <block id="20e1834bb9396599a6dcf7d743aa1b36" category="paragraph">接下來是在叢集中設定RBAC。最佳實務做法是讓所有開發人員在身分識別供應商（IDP）的單一使用者群組中、處理單一專案或工作負載。Red Hat OpenShift允許IDP整合和使用者群組同步、因此可將IDP中的使用者和群組匯入叢集。這有助於叢集管理員將專案專屬的叢集資源存取權、隔離給該專案的使用者群組、進而限制未獲授權存取任何叢集資源。若要深入瞭解IDP與Red Hat OpenShift的整合、請參閱文件<block ref="213cff8958909b80a9514e0c8321d8ef" category="inline-link-rx"></block>。</block>
  <block id="6d4e96186b1f4267def393ec42bf2d9e" category="paragraph">將共享儲存設備隔離為Red Hat OpenShift叢集的持續儲存提供者非常重要、因為如此可確保在儲存設備上為每個專案建立的磁碟區、在主機看來就像是在不同的儲存設備上建立的磁碟區一樣。為達成此目標、請在NetApp ONTAP 支援上建立數量不限的SVM（儲存虛擬機器）、如同專案或工作負載一樣多、並將每個SVM專用於工作負載。</block>
  <block id="0611f127a7e1e7ef5bbd782030c2e34a" category="paragraph">在NetApp ONTAP 支援上建立不同專案的不同SVM之後、您必須將每個SVM對應到不同的Trident後端。Trident上的後端組態會將持續儲存設備分配給OpenShift叢集資源、而且需要將SVM的詳細資料對應至該資源。這至少應該是後端的傳輸協定驅動程式。您也可以選擇定義如何在儲存設備上配置磁碟區、以及設定磁碟區大小或集合體使用量等限制。如需有關Trident後端定義的詳細資料、請參閱<block ref="47a77763732c6cebe093a4a4d61aaa5b" category="inline-link-rx"></block>。</block>
  <block id="c4ff2177ae2f8ed9c3e5353068cf2195" category="section-title">Red Hat OpenShift–儲存資源</block>
  <block id="891c9b8b0ce367c5e377a1ec23199619" category="paragraph">設定Trident後端之後、下一步是設定StorageClass。設定多個後端儲存類別、讓每個儲存類別都能存取、只在一個後端上增加磁碟區。我們可以在定義儲存類別時、使用storagePools參數、將StorageClass對應至特定的Trident後端。您可以找到定義儲存類別的詳細資料<block ref="1266deb20a7d7c4814b1225e5e572606" category="inline-link-rx"></block>。因此、StorageClass與Trident後端之間有一對一對應關係、可指向一個SVM。如此可確保透過指派給該專案的StorageClass進行的所有儲存設備宣告、均由專屬該專案的SVM提供服務。</block>
  <block id="76245f392269db8492c3610e325b1963" category="paragraph">由於儲存類別並非命名資源、我們如何確保另一個命名空間或專案中的Pod對某個專案的儲存類別提出的要求遭到拒絕？答案是使用資源配額。資源配額是控制每個專案資源總使用量的物件。它可以限制專案中物件可耗用的資源數量和總容量。使用資源配額幾乎可以限制專案的所有資源、而且有效率地使用資源、有助於組織降低因資源過度配置或過度使用而造成的成本與中斷。請參閱文件<block ref="9b2bb9683c8f6144876bed616f252527" category="inline-link-rx"></block> 以取得更多資訊。</block>
  <block id="5402bb91006fe391aea122e11c3607db" category="paragraph">在此使用案例中、我們需要限制特定專案中的Pod、使其無法從非專屬專案的儲存類別中申請儲存設備。為達成此目標、我們必須將「&lt;storage-class-name&gt;.storageclass.storage.k8s.io/永久性 磁碟區」設為0、以限制其他儲存類別的持續磁碟區宣告。此外、叢集管理員必須確保專案中的開發人員不應擁有修改資源配額的存取權。</block>
  <block id="6c7eefdca8e3859011afa00995879a32" category="inline-link-macro">下一步：組態。</block>
  <block id="0c86c0f2c0ad5b82864ef1b20a904132" category="paragraph"><block ref="0c86c0f2c0ad5b82864ef1b20a904132" category="inline-link-macro-rx"></block></block>
  <block id="68d13ef3d87e892878a6e6cbb44d1f21" category="doc">在RHV上部署Red Hat OpenShift：搭配NetApp的Red Hat OpenShift</block>
  <block id="74eb4c6138d4b8cd8399b01966c5af28" category="doc">適用於GCP的NetApp儲存選項</block>
  <block id="8f08ff97ca555f50f0d05fdf950a0568" category="paragraph">Google Cloud支援下列組態的NetApp儲存設備：</block>
  <block id="3017a9031d66c55b0258c102decfd1b9" category="inline-link-macro">以客體連線儲存設備形式提供的資訊（CVO）Cloud Volumes ONTAP</block>
  <block id="9bb210767ccb9c085c816c82f3b6b1cb" category="inline-link-macro">以客體連線儲存設備的形式提供資訊（CVS）Cloud Volumes Service</block>
  <block id="4177c39712dda5976b0ba657b24af234" category="section-title">在Cloud Volumes ONTAP Google Cloud部署功能（自行部署）</block>
  <block id="2839d8571363b149cc3fd9db82a7183d" category="paragraph">可從GCVM私有雲端環境中建立的VM掛載支援資源和LUN。Cloud Volumes ONTAP這些磁碟區也可掛載於Linux用戶端、Windows用戶端和LUN、在透過iSCSI掛載時、可在Linux或Windows用戶端上作為區塊裝置存取、因為Cloud Volumes ONTAP 此功能支援iSCSI、SMB及NFS傳輸協定。只需幾個簡單步驟、即可設定各個資料區。Cloud Volumes ONTAP</block>
  <block id="3b020916a45973167bc70cb4517bd8c8" category="inline-link-macro">設定系統之間的資料複寫</block>
  <block id="83f1904115d07e05de148ff5c69277db" category="paragraph">若要將磁碟區從內部部署環境複寫至雲端、以進行災難恢復或移轉、請使用站台對站台VPN或雲端互連、建立與Google Cloud的網路連線。將內部部署的資料複寫到Cloud Volumes ONTAP 內部部署的不適用範圍。若要在內部部署Cloud Volumes ONTAP 和不間斷系統之間複寫資料、請參閱 <block ref="17b5522e2d467cfa8e1eed2f77bb1eff" category="inline-link-macro-rx"></block>。</block>
  <block id="9eb931a836eecf8e743b47b449c70bc5" category="inline-link-macro">Szizer Cloud Volumes ONTAP</block>
  <block id="165fc07e6910d8748be18ecaaab5392d" category="admonition">使用 <block ref="c41f5eb5365f7790c86bbe0d764bfcac" category="inline-link-macro-rx"></block> 以準確調整Cloud Volumes ONTAP 實體執行個體的大小。同時監控內部部署的效能、以做Cloud Volumes ONTAP 為VMware內部資料的輸入。</block>
  <block id="a1d02afc571062ee1235156b645846f8" category="list-text">登入NetApp Cloud Central：「Fabric View（架構檢視）」畫面隨即顯示。找到Cloud Volumes ONTAP 「解決方案」索引標籤、然後選取「前往Cloud Manager」。登入之後、便會顯示「畫版」畫面。</block>
  <block id="52111b7d24cc23248fa9cf8138732943" category="paragraph"><block ref="52111b7d24cc23248fa9cf8138732943" category="inline-image-macro-rx" type="image"></block></block>
  <block id="67b4a468763f61993484edb54b0d5eaa" category="list-text">在Cloud Manager的「CanvasTM」索引標籤上、按一下「Add a Working Environment（新增工作環境）」、然後選取「Google Cloud Platform（Google Cloud Platform）」做為雲端和系統組態類型。然後按「Next（下一步）」。</block>
  <block id="da94c5003e26421e5282adb2dc7794bf" category="paragraph"><block ref="da94c5003e26421e5282adb2dc7794bf" category="inline-image-macro-rx" type="image"></block></block>
  <block id="956a76d4c71f02e39d36ada071ba66ca" category="list-text">提供要建立的環境詳細資料、包括環境名稱和管理員認證資料。完成後、按一下「Continue（繼續）」。</block>
  <block id="786bd072b9aad97a5bb9b71b8988a176" category="paragraph"><block ref="786bd072b9aad97a5bb9b71b8988a176" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f716cee2acaef077786ecfa7a3f8bfe7" category="list-text">選取或取消選取Cloud Volumes ONTAP 適用於不支援的部署附加服務、包括Data Sense &amp; Compliance或Backup to Cloud。然後按一下「Continue（繼續）」。</block>
  <block id="03e0c2afea8f7c3aff4a53d66784f843" category="paragraph">提示：停用附加服務時、會顯示驗證快顯訊息。在CVO部署之後、可新增/移除附加服務、如果不需要、請考慮取消選取附加服務、以避免成本。</block>
  <block id="d784fbb10e1bdb60322e86126fe6b77a" category="paragraph"><block ref="d784fbb10e1bdb60322e86126fe6b77a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="faa5bffdcdb67efcb08e91a60de40950" category="list-text">選取位置、選擇防火牆原則、然後選取核取方塊以確認網路連線至Google Cloud儲存設備。</block>
  <block id="5eb45a43e8f46d401f435ef2b77fc946" category="paragraph"><block ref="5eb45a43e8f46d401f435ef2b77fc946" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f73472fc9b5e80548aa8910eb7b409d7" category="list-text">選取使用許可選項：「隨用隨付」或「BYOL」以使用現有的授權。在此範例中、會使用Freemium選項。然後按一下「Continue（繼續）」。</block>
  <block id="ef8c5ea172d5c008d091f693a2a4b4bd" category="paragraph"><block ref="ef8c5ea172d5c008d091f693a2a4b4bd" category="inline-image-macro-rx" type="image"></block></block>
  <block id="43e3f0304199574fcad7150c8cbc80cf" category="list-text">根據將部署在AWS SDDC上VMware雲端上的VM上的工作負載類型、選擇幾個預先設定的套件。</block>
  <block id="1cd93d1b6baa56bdec898225ef3fea89" category="paragraph">提示：按ONTAP 一下「Change Configuration（變更組態）」、將滑鼠移到方塊上以取得詳細資料、或自訂CVO元件和版本。</block>
  <block id="7498ab388fb0a7938d43af30f32657b5" category="paragraph"><block ref="7498ab388fb0a7938d43af30f32657b5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="623ce055c6e7272198e998744efd8deb" category="list-text">在「Review &amp; Approve（檢閱與核准）」頁面上、檢閱並確認所做的選擇。若要建立Cloud Volumes ONTAP 此實例、請按一下「Go（執行）」。</block>
  <block id="fcf4e1533222260897c2613078eae18e" category="paragraph"><block ref="fcf4e1533222260897c2613078eae18e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b3b8217eede1f57c19d7d36c1501891b" category="list-text">完成供應後、此功能會列在「畫版」頁面上的工作環境中。Cloud Volumes ONTAP</block>
  <block id="37030c826a75013cff1396c6351d33c0" category="paragraph"><block ref="37030c826a75013cff1396c6351d33c0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="962c53cd54b0b3876e054c2fea4c4ff8" category="section-title">SMB Volume的其他組態</block>
  <block id="9af22b589cfa398b9a704f786d96a90d" category="list-text">工作環境準備好之後、請確定CIFS伺服器已設定適當的DNS和Active Directory組態參數。您必須先執行此步驟、才能建立SMB Volume。</block>
  <block id="8f10b252acc74e058dc00a78e8c33250" category="paragraph">提示：按一下「Menu（功能表）」圖示（o）、選取「Advanced（進階）」以顯示更多選項、然後選取「CIFS setup（CIFS設定）」。</block>
  <block id="0cd857f422db3bb835695ca4400e7afb" category="paragraph"><block ref="0cd857f422db3bb835695ca4400e7afb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3c2efcf3ec5fbe68c5a418d6b0d5ed94" category="list-text">建立SMB Volume是一項簡單的程序。在畫版中、按兩下Cloud Volumes ONTAP 執行作業的環境以建立及管理磁碟區、然後按一下「Create Volume（建立磁碟區）」選項。選擇適當的大小、然後由Cloud Manager選擇內含的Aggregate、或使用進階分配機制將其放置在特定的Aggregate上。在此示範中、CIFS/SMB被選取為傳輸協定。</block>
  <block id="597899b3d186b1c50739aeb0a82a2094" category="paragraph"><block ref="597899b3d186b1c50739aeb0a82a2094" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4e1a14aa082ec04534624b099e0a4bd9" category="list-text">在配置磁碟區之後、該磁碟區會出現在「Volumes（磁碟區）」窗格下方。由於CIFS共用區已配置完成、因此請授予使用者或群組檔案和資料夾的權限、並確認這些使用者可以存取共用區並建立檔案。如果從內部部署環境複寫磁碟區、則不需要執行此步驟、因為檔案和資料夾權限都會保留為SnapMirror複寫的一部分。</block>
  <block id="4cdd5a747f01838b94117ef6fb699278" category="paragraph">提示：按一下Volume功能表（o）以顯示其選項。</block>
  <block id="368cd84bdda136cebde14eea38e8a0f2" category="paragraph"><block ref="368cd84bdda136cebde14eea38e8a0f2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9f7a0ccac4888fc1553dadeee03d7e99" category="list-text">建立磁碟區之後、請使用mount命令顯示磁碟區連線指示、然後從Google Cloud VMware Engine上的VM連線至共用區。</block>
  <block id="92890420fd7a7668e3b04db90e8a2ff2" category="paragraph"><block ref="92890420fd7a7668e3b04db90e8a2ff2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e5ee926d870d7b6e5ee68e0001a9db42" category="list-text">複製下列路徑、然後使用「對應網路磁碟機」選項、在Google Cloud VMware Engine上執行的VM上掛載磁碟區。</block>
  <block id="809f33612149b405423b98b77a13d18f" category="paragraph"><block ref="809f33612149b405423b98b77a13d18f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0895b43b6a4f7ded9ce501e420da7cae" category="paragraph">一旦完成對應、就能輕鬆存取、並據此設定NTFS權限。</block>
  <block id="2565b7a7d81a362c6b3fc5f32d83075b" category="paragraph"><block ref="2565b7a7d81a362c6b3fc5f32d83075b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="262a1d892164ab4100a969a952274934" category="section-title">將Cloud Volumes ONTAP 支援的LUN連接到主機</block>
  <block id="049f63d3d6479b8801f942e53b31cfd6" category="paragraph">若要將Cloud Volumes ONTAP LUN連接至主機、請完成下列步驟：</block>
  <block id="2fc81fae057994bbe703cb2892b727c9" category="list-text">在「畫版」頁面上、按兩下Cloud Volumes ONTAP 「功能不全」環境以建立及管理Volume。</block>
  <block id="3a596dcd3d3dd43ed187aea6bea5842e" category="list-text">按一下「Add Volume（新增Volume）」&gt;「New Volume（新Volume）」、然後選取「iSCSI（iSCSI）」、按一下「繼續」。</block>
  <block id="b5f2af2dc909b8d634ef7e8dd729c0bc" category="paragraph"><block ref="99dce170472373a603dcc6cab1306eea" category="inline-image-macro-rx" type="image"></block>
<block ref="99eed8d2ce50ff339d9bff41a9fe9a51" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4296bb5afd2416d05f951e9d3380e5e4" category="list-text">配置磁碟區後、選取Volume（Volume）功能表（o）、然後按一下Target IQN。若要複製iSCSI合格名稱（IQN）、請按一下複製。設定從主機到 LUN 的 iSCSI 連線。</block>
  <block id="5bbe705670fa05ddb0b508acf301a379" category="paragraph">若要針對位於Google Cloud VMware Engine上的主機達成相同的目標：</block>
  <block id="a730e43d2afac8730f77c3fab06bcdc0" category="list-text">從RDP移至Google Cloud VMware Engine上裝載的VM。</block>
  <block id="c4b994ff6c03cf45471392a32ff9809b" category="list-text">開啟「iSCSI啟動器內容」對話方塊：「伺服器管理員」&gt;「儀表板」&gt;「工具」&gt;「iSCSI啟動器」。</block>
  <block id="beacd9a0aebca77f6cc20d5cab0fb37c" category="list-text">在「Discovery（探索）」索引標籤中、按一下「Discover Portal（探索入口網站）」或「Add Portal（新增入口網站）」、然後輸入iSCSI目標連接埠的IP位</block>
  <block id="c4ab0fc2a07f004fb45eacc91a07e22c" category="list-text">從「目標」索引標籤中選取探索到的目標、然後按一下「登入」或「連線」。</block>
  <block id="4f04cc11e470becd190503a4cea0e217" category="list-text">選取「啟用多重路徑」、然後選取「電腦啟動時自動還原此連線」或「將此連線新增至最愛目標清單」。按一下進階。</block>
  <block id="ed010f49a5a1ad0895131daffcd73a3c" category="admonition">Windows主機必須與叢集中的每個節點建立iSCSI連線。原生DSM會選取最佳路徑。</block>
  <block id="88c7456aa49f0bfe0258958c4c42a153" category="paragraph"><block ref="88c7456aa49f0bfe0258958c4c42a153" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3f2340e83f93b283dd5fc7023e4e72a2" category="paragraph">儲存虛擬機器（SVM）上的LUN會在Windows主機上顯示為磁碟。主機不會自動探索任何新增的磁碟。完成下列步驟、觸發手動重新掃描以探索磁碟：</block>
  <block id="d16c566049378cf49448803dfc6ab25d" category="list-text">開啟Windows電腦管理公用程式：「開始」&gt;「系統管理工具」&gt;「電腦管理」。</block>
  <block id="b1babb2780a260f54d7e9f21602773df" category="list-text">展開導覽樹狀結構中的「Storage（儲存）」節點。</block>
  <block id="678149d88ae91abbb05c5df448a4e8af" category="list-text">按一下「磁碟管理」。</block>
  <block id="35e2e6c4175353900be410088efcc1b9" category="list-text">按一下「行動」&gt;「重新掃描磁碟」。</block>
  <block id="da663e5eac7f594bcac6564a22726142" category="paragraph"><block ref="da663e5eac7f594bcac6564a22726142" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f8a056111a10f9e055d309c54e7ca2bb" category="paragraph">當Windows主機首次存取新LUN時、它沒有分割區或檔案系統。初始化LUN；並可選擇完成下列步驟、以檔案系統格式化LUN：</block>
  <block id="8db13bd6122ee1a2b04931073cb808d7" category="list-text">啟動Windows磁碟管理。</block>
  <block id="18e601e3f0e159e918f7adb9fd89fb99" category="list-text">以滑鼠右鍵按一下LUN、然後選取所需的磁碟或磁碟分割類型。</block>
  <block id="605158a22ab35f7223fe6f37b0f761b7" category="list-text">依照精靈中的指示進行。在此範例中、磁碟機F：已掛載。</block>
  <block id="74edf50412d8a6c920ebdf456ca74d6f" category="paragraph"><block ref="74edf50412d8a6c920ebdf456ca74d6f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a8bce76f68494174fa21e44b39be75e7" category="paragraph">在Linux用戶端上、確定iSCSI精靈正在執行。配置LUN後、請參閱此處的詳細指南、瞭解如何使用Ubuntu進行iSCSI組態設定。若要驗證、請從Shell執行lsblk cmd。</block>
  <block id="5800551032817b82a3780efc5c365b61" category="paragraph"><block ref="5d8610d622621cfaf5f5af9098efada8" category="inline-image-macro-rx" type="image"></block>
<block ref="0e5aea74b7dab4389459e8f03d7961e8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7b88883556cc41d9ed2a47bd0cfe1bb4" category="section-title">在Cloud Volumes ONTAP Linux用戶端上掛載不只是NFS磁碟區</block>
  <block id="3a676f5d05c6d1f36341948d03289c3f" category="paragraph">若要從Cloud Volumes ONTAP Google Cloud VMware Engine內的VM掛載支援（DIY）檔案系統、請依照下列步驟進行：</block>
  <block id="99ff74a348250b7148d219f224bc40b4" category="paragraph">請依照下列步驟配置Volume</block>
  <block id="17d1d28660c0ff68f1ee26c3bc7c2e0d" category="list-text">按一下「Volumes（磁碟區）」索引標籤中的「Create New Volume</block>
  <block id="6fa266ccf8c1f303a7ed67b355770afb" category="list-text">在「Create New Volume」（建立新磁碟區）頁面上、選取一個磁碟區類型：</block>
  <block id="8d7c2959a73ccf424e912497fa729dfa" category="paragraph"><block ref="8d7c2959a73ccf424e912497fa729dfa" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e89e2106ea79d032d48e99a6498e2584" category="list-text">在「Volumes（磁碟區）」索引標籤中、將滑鼠游標放在磁碟區上、選取功能表圖示（o）、然後按一下「Mount Command（掛載命令）」。</block>
  <block id="1367b1db6f5a641c16b673b4f75f02de" category="paragraph"><block ref="1367b1db6f5a641c16b673b4f75f02de" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8a4175c7cb7e059193f8bdcafc1395b0" category="list-text">按一下複製。</block>
  <block id="e059ff9407d5207f003eae103b4c7a3a" category="list-text">連線至指定的Linux執行個體。</block>
  <block id="b3bcde31f03d76e154f81e6b5221b007" category="list-text">使用安全Shell（SSH）開啟執行個體上的終端機、然後以適當的認證登入。</block>
  <block id="42d35ecc4606c7783372ab3953fb10d6" category="list-text">使用下列命令建立磁碟區掛載點的目錄。</block>
  <block id="2432c695bbc97e5283e213ba846e86dc" category="paragraph"><block ref="2432c695bbc97e5283e213ba846e86dc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e5cbcad6705273d58a27b5b92fdc1700" category="list-text">將Cloud Volumes ONTAP 流通NFS磁碟區掛載到上一步建立的目錄。</block>
  <block id="f505f299a6f5e1e9f6b91adec6ef8f38" category="paragraph"><block ref="4aa22d1032194bb618fa2b2a8bbc5d82" category="inline-image-macro-rx" type="image"></block>
<block ref="73581b61100d82e506cc05faa5fc45c3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3c0dd0de38e3c9e55ef5f52e46641376" category="section-title">使用Cloud Volumes Service VMware Engine設定功能</block>
  <block id="8e12272d11d90cdb919c737591f398f6" category="paragraph">可從VMware Engine環境中建立的VM掛載支援資源。Cloud Volumes Service由於Cloud Volumes Service 支援SMB和NFS傳輸協定、因此也可以在Linux用戶端上掛載磁碟區並對應至Windows用戶端。只需簡單的步驟即可設定各個資料區。Cloud Volumes Service</block>
  <block id="992031e7435f44536a649bfc9de30683" category="paragraph">Cloud Volume Service和Google Cloud VMware Engine私有雲必須位於相同的地區。</block>
  <block id="a0c391dc49c440fc9962168353cedde3" category="inline-link-macro">指南</block>
  <block id="e9676faeb0b33249abc3a47d95e55ed8" category="paragraph">若要Cloud Volumes Service 從Google Cloud Marketplace購買、啟用及設定NetApp for Google Cloud的NetApp解決方案、請依照下列詳細說明操作 <block ref="c9eb1a9870bc9f20357f50bf16ec5704" category="inline-link-macro-rx"></block>。</block>
  <block id="84c877bb77a313d307054a0824ffff03" category="section-title">建立CVS NFS磁碟區至GCVG私有雲</block>
  <block id="1ec5bbc38708de3f8cfad6d6ca608742" category="paragraph">若要建立及掛載NFS磁碟區、請完成下列步驟：</block>
  <block id="ca5470246976d59ea6a32d3e2094059d" category="list-text">從Google雲端主控台的合作夥伴解決方案存取Cloud Volumes。</block>
  <block id="45ab48bbbad4380f09ef6b41f9eb8f8a" category="paragraph"><block ref="45ab48bbbad4380f09ef6b41f9eb8f8a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="46577653160772df2b1548b726d7c9ce" category="list-text">在Cloud Volumes主控台中、前往Volumes（磁碟區）頁面、然後按一下Create（建立）。</block>
  <block id="4a43547530a8ef079adc80160de3dde9" category="paragraph"><block ref="4a43547530a8ef079adc80160de3dde9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="825700271a3acfeaf96fa0bfb5f15b65" category="list-text">在「Create File System」（建立檔案系統）頁面上、指定計費機制所需的磁碟區名稱和計費標籤。</block>
  <block id="8a81559c79124aa1a1cd2093faed73ee" category="paragraph"><block ref="8a81559c79124aa1a1cd2093faed73ee" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b4bbe773302576667095a132b75c48fc" category="list-text">選取適當的服務。若為GCVE/、請根據應用程式工作負載需求、選擇CVs-Performance和所需的服務層級、以改善延遲並提高效能。</block>
  <block id="184fe9f42c4d5eaab1cc6079778040c2" category="paragraph"><block ref="184fe9f42c4d5eaab1cc6079778040c2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4492d6cb3c36c984d9f52d9461c5b69b" category="list-text">為Volume和Volume路徑指定Google Cloud區域（該專案中所有雲端磁碟區的Volume路徑必須是唯一的）</block>
  <block id="594c2b024401023acd7deae8f3cb8ceb" category="paragraph"><block ref="594c2b024401023acd7deae8f3cb8ceb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c4b0697a6c38463b0b06d7dc66b16b74" category="list-text">選取磁碟區的效能等級。</block>
  <block id="aebc437f9bb3656c19ecebe1becc99fa" category="paragraph"><block ref="aebc437f9bb3656c19ecebe1becc99fa" category="inline-image-macro-rx" type="image"></block></block>
  <block id="dd9c26fe6b5f33ab2b0002050ff831d8" category="list-text">指定磁碟區的大小和傳輸協定類型。在此測試中、使用NFSv3。</block>
  <block id="e5ba61d9c8c666d452e9e78256762019" category="paragraph"><block ref="e5ba61d9c8c666d452e9e78256762019" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ea3a8099bd03f7da2c641e049e354ea1" category="list-text">在此步驟中、選取可存取磁碟區的VPC網路。確保VPC對等作業已就緒。</block>
  <block id="d3dba730ef6d3f046910d94696ca086d" category="paragraph">提示：如果VPC對等處理尚未完成、則會顯示快顯按鈕、引導您完成對等處理命令。開啟Cloud Shell工作階段、執行適當的命令、讓您的VPC與Cloud Volumes Service 效能提升者對等。如果您決定事先準備VPC對等、請參閱這些指示。</block>
  <block id="ecf942f7df1f072f5910afb3fa45f36e" category="paragraph"><block ref="ecf942f7df1f072f5910afb3fa45f36e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1ed1352ea98f362074fa7855ec6bb89c" category="list-text">新增適當的規則來管理匯出原則規則、然後選取對應NFS版本的核取方塊。</block>
  <block id="3ae650d16c298e2f5dc9e005a2f8934a" category="paragraph">附註：除非新增匯出原則、否則無法存取NFS磁碟區。</block>
  <block id="2f6d29a5c21fb51bb181c4b97241a955" category="paragraph"><block ref="2f6d29a5c21fb51bb181c4b97241a955" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a194552e035de341a4a7c99a1c687956" category="list-text">按一下「儲存」以建立磁碟區。</block>
  <block id="fe18028768c2ffc16d5cb32aa5b70d5b" category="paragraph"><block ref="fe18028768c2ffc16d5cb32aa5b70d5b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3588b0992732355d67655af9f6450c5d" category="section-title">將NFS匯出安裝到VMware Engine上執行的VM</block>
  <block id="87397baf86d56e19a3bdac712966da5d" category="paragraph">在準備掛載NFS磁碟區之前、請確定私有連線的對等狀態列示為「Active」（作用中）。狀態為「作用中」時、請使用mount命令。</block>
  <block id="c9f09539bbf502703a4f5e2d480a5972" category="paragraph">若要掛載NFS Volume、請執行下列步驟：</block>
  <block id="726f902a0b5536d71345114fb942d81b" category="list-text">在Cloud Console中、前往Cloud Volumes（雲端磁碟區）&gt; Volumes（磁碟區）。</block>
  <block id="1feaf778ab1cf141cf92a316d53e1365" category="list-text">前往「Volumes（磁碟區）」頁面</block>
  <block id="76d2df71caae5e1ec3f81822829504f5" category="list-text">按一下您要掛載NFS匯出的NFS磁碟區。</block>
  <block id="4fc82f44f951748bf462898e43d08054" category="list-text">向右捲動、按一下「Show More（顯示更多）」下方的「Mount Instructions（掛載指示）」</block>
  <block id="692afb2fddb72a6cfc89dd1df12945ab" category="paragraph">若要從VMware VM的客體作業系統內執行掛載程序、請依照下列步驟進行：</block>
  <block id="2c7df76595ada01b5b08659283021aa7" category="list-text">在虛擬機器上使用SSH用戶端和SSH。</block>
  <block id="2b64d099377e2935e786009804205feb" category="list-text">在執行個體上安裝NFS用戶端。</block>
  <block id="d8aa2b3304fc65e5fd1cae735194aef6" category="list-text">在Red Hat Enterprise Linux或SUSE Linux執行個體上：</block>
  <block id="d610fa6d370a8d35fb4c26359f086aa0" category="list-text">在Ubuntu或Debian執行個體上：</block>
  <block id="9bc2e27c16ca55bfc1a7ba94b91a21dc" category="list-text">在執行個體上建立新目錄、例如「/NimCVSNFSol01」：</block>
  <block id="9e21b9d85251decc0982b75506826828" category="paragraph"><block ref="9e21b9d85251decc0982b75506826828" category="inline-image-macro-rx" type="image"></block></block>
  <block id="174714918db1cc87ef113e3087cba5da" category="list-text">使用適當的命令掛載磁碟區。實驗室命令範例如下：</block>
  <block id="1ec7767a139a3f95923511d7bf547a6c" category="paragraph"><block ref="811572ed35d4b134bc0d7769dd80ab6c" category="inline-image-macro-rx" type="image"></block>
<block ref="b780e126200cb608d0de968e965e9c71" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3df234dd2e63d779a2d017bb1ef3375d" category="section-title">建立SMB共用並掛載到VMware Engine上執行的VM</block>
  <block id="400db805dd1f9fc929e5bf72fafb1661" category="paragraph">對於SMB磁碟區、請確定在建立SMB磁碟區之前已設定Active Directory連線。</block>
  <block id="94f9379544859ae4d8990b84731870aa" category="paragraph"><block ref="94f9379544859ae4d8990b84731870aa" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5c62a73033a0e9f64b5b2b311ded0cc5" category="paragraph">一旦AD連線就位、請以所需的服務層級建立磁碟區。除了選取適當的傳輸協定之外、步驟就像建立NFS Volume一樣。</block>
  <block id="228ba1c797822b63cd7c6f54ca40b87e" category="paragraph"><block ref="228ba1c797822b63cd7c6f54ca40b87e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="54cd15dd2d6121aa16f0b4b87b46ef2a" category="list-text">選取適當的服務。若為GCVE/、請根據工作負載需求選擇CVs-Performance和所需的服務層級、以改善延遲並提高效能。</block>
  <block id="b8eb8307790a9b22c2f6997c097b344e" category="paragraph"><block ref="b8eb8307790a9b22c2f6997c097b344e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cb91d5f8a608e41cd1f217e30a536437" category="paragraph"><block ref="cb91d5f8a608e41cd1f217e30a536437" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7e5a0a3c08f102d8c49c1d811b71d97f" category="paragraph"><block ref="7e5a0a3c08f102d8c49c1d811b71d97f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3d1a06f98a1c133a8a0c74cc4222e23b" category="list-text">指定磁碟區的大小和傳輸協定類型。在此測試中、使用SMB。</block>
  <block id="6eb5a9152f38c77efc6d14902aa7dec8" category="paragraph"><block ref="6eb5a9152f38c77efc6d14902aa7dec8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cbde2df6a7c89370edc449dc5705d30c" category="inline-link-macro">說明</block>
  <block id="15adcf662b8b92c623f4256a65f605ed" category="paragraph">提示：如果VPC對等處理尚未完成、則會顯示快顯按鈕、引導您完成對等處理命令。開啟Cloud Shell工作階段、執行適當的命令、讓您的VPC與Cloud Volumes Service 效能提升者對等。如果您決定事先準備VPC對等、請參閱這些資訊 <block ref="3b4469537a7b14dcfd28e3d301600ff6" category="inline-link-macro-rx"></block>。</block>
  <block id="7f88d48c3b0283642fe6b1f3f061d0fd" category="paragraph"><block ref="7f88d48c3b0283642fe6b1f3f061d0fd" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8ac40323c41c29fb75f6e19c4c683e47" category="paragraph"><block ref="8ac40323c41c29fb75f6e19c4c683e47" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4990031dcfbd871d95ce4ae0321e7156" category="paragraph">若要掛載SMB Volume、請執行下列步驟：</block>
  <block id="fd78728be3a82142558c815267b8daa0" category="list-text">按一下您要對應SMB共用區的SMB Volume。</block>
  <block id="58dc78a5cd30078188f7c605e636a975" category="paragraph">若要從VMware VM的Windows來賓作業系統中執行掛載程序、請依照下列步驟進行：</block>
  <block id="3dcb4e26f80951bdb3beeb0a03a3ba83" category="list-text">按一下「開始」按鈕、然後按一下「電腦」。</block>
  <block id="202bba1ab43a099f57e49b350eb2ad1a" category="list-text">按一下「對應網路磁碟機」。</block>
  <block id="7dea65bdd8e9fbcd8a5b7249c71e1f0b" category="list-text">在「磁碟機」清單中、按一下任何可用的磁碟機代號。</block>
  <block id="695179e494f30a851f80409f824a80f8" category="list-text">在資料夾方塊中、輸入：</block>
  <block id="2653f3365feaf0a8bf80106cba1b9ad8" category="paragraph"><block ref="2653f3365feaf0a8bf80106cba1b9ad8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7cd95358048d9f5d18cf70f66126e1e7" category="paragraph">若要在每次登入電腦時連線、請選取登入時重新連線核取方塊。</block>
  <block id="7968f043139de8ff0e5df4451c437426" category="list-text">按一下「完成」。</block>
  <block id="8902b5e2f0c169ccf7ad8b5c335531e5" category="paragraph"><block ref="8902b5e2f0c169ccf7ad8b5c335531e5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cf3ac5a0dae3780b356e57c121b3eab0" category="doc">在Google Cloud Platform（GCP）上部署及設定虛擬化環境</block>
  <block id="9883d049f97d69a9f2326d61585d8fbe" category="paragraph">如同內部部署、規劃Google Cloud VMware Engine（GCVM）對於成功建立虛擬機器和移轉的正式作業就緒環境而言、是非常重要的。</block>
  <block id="6ad49d2b544134f2192d1612a572bdd6" category="paragraph">本節說明如何設定及管理GCVE,並搭配可用的選項來連接NetApp儲存設備。</block>
  <block id="a74a86037d1564ce62843a1252f6ad37" category="admonition">客體內儲存設備是唯一支援的方法、可將Cloud Volumes ONTAP 「效益」和「雲端Volume服務」連線至GCVE.</block>
  <block id="d6d7fade0a5d1cd7723c64125e595b08" category="paragraph">設定程序可分為下列步驟：</block>
  <block id="11a31c6d83a723b3ea9c348c22e86238" category="inline-link-macro">部署及設定GCVE</block>
  <block id="3e5cc29621d2619be0d7b1569da6909c" category="inline-link-macro">啟用對GCVE的私有存取</block>
  <block id="fd558e50adcdcb0d667a4790f70f75a9" category="paragraph">若要在GCP上設定GCVE環境、請登入GCP主控台、然後存取VMware Engine入口網站。</block>
  <block id="fb33f758c28f8ef8d56e41f74b4c47ab" category="paragraph">按一下「New Private Cloud」（新私有雲端）按鈕、然後輸入所需的GCVM私有雲端組態。在「位置」上、請務必在部署CVS/CVO的相同地區/區域中部署私有雲端、以確保最佳效能和最低延遲。</block>
  <block id="63b31ca49de01854f780d1e1722cd1c1" category="paragraph">先決條件：</block>
  <block id="d79b0ab3cbae1dcd79007a97d26af5b1" category="list-text">設定VMware引擎服務管理IAM角色</block>
  <block id="72a7f08f840ab91a28a2558393971c47" category="inline-link-macro">啟用VMware Engine API存取和節點配額</block>
  <block id="88e3e4c9b1c9efec399f7dda7a0c5887" category="list-text"><block ref="88e3e4c9b1c9efec399f7dda7a0c5887" category="inline-link-macro-rx"></block></block>
  <block id="a88d670b04af96a871dad56001e8f742" category="list-text">請確定CIDR範圍不會與任何內部部署或雲端子網路重疊。CIDR範圍必須為/27或更高。</block>
  <block id="33d7d6c631c2d2cb3608445ef761fe16" category="paragraph"><block ref="33d7d6c631c2d2cb3608445ef761fe16" category="inline-image-macro-rx" type="image"></block></block>
  <block id="65bdc0673006b33d0c876e18a9a98787" category="paragraph">附註：建立私有雲端可能需要30分鐘到2小時的時間。</block>
  <block id="d77d7a022616e70a9987aa0974241779" category="paragraph">一旦私有雲端資源配置完成、請設定私有雲端存取、以實現高處理量和低延遲的資料路徑連線。</block>
  <block id="256431e41a96deb49bcd86b1ca56393e" category="inline-link-macro">GCP文件</block>
  <block id="e4cf8d7f33a9dafc85be0439cd8fbc4d" category="paragraph">如此可確保Cloud Volumes ONTAP 執行了某些執行個體的VPC網路能夠與GCVR私有雲端通訊。若要這麼做、請遵循 <block ref="9cd64b8fb1b43e7f674c1b78b2a86f74" category="inline-link-macro-rx"></block>。對於Cloud Volume Service、請Cloud Volumes Service 在租戶主機專案之間執行一次對等、以建立VMware Engine與VMware Infrastructure之間的連線。如需詳細步驟、請遵循此步驟 <block ref="04a9f04edfdd7b0a53da57f015378c5a" category="inline-link-macro-rx"></block>。</block>
  <block id="e6945148d9a888e52db99c5ebce86868" category="paragraph"><block ref="e6945148d9a888e52db99c5ebce86868" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5c3eb3a1c6330fe124fc0706cbdd91df" category="paragraph">使用CloudOwner@gve.estil使用者登入vCenter。若要存取認證資料、請前往VMware Engine入口網站、前往資源、然後選取適當的私有雲。在基本資訊區段中、按一下vCenter登入資訊（vCenter Server、HCX Manager）或NSX-T登入資訊（NSX Manager）的檢視連結。</block>
  <block id="6f32389268763bedb9e6716b5f0973d0" category="paragraph"><block ref="6f32389268763bedb9e6716b5f0973d0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7ec2407381a4f65d228483b566b6907f" category="paragraph">在Windows虛擬機器中、開啟瀏覽器並瀏覽至vCenter Web用戶端URL <block ref="d325f0342d122dda054a3ca8b0c44019" category="inline-link-rx"></block> 並將管理使用者名稱用作CloudOwner@gve.erl、然後貼上複製的密碼。同樣地、您也可以使用Web用戶端URL來存取NSxT-T Manager <block ref="c694eb5be92097a8fdea8cdda0ad5ea5" category="inline-link-rx"></block> 並使用管理使用者名稱貼上複製的密碼、以建立新區段或修改現有的層級閘道。</block>
  <block id="3a9cff0eb1abb119c1c264dbfff216f6" category="paragraph">若要從內部部署網路連線至VMware Engine私有雲、請善用雲端VPN或雲端互連來進行適當的連線、並確保所需的連接埠是開放的。如需詳細步驟、請遵循此步驟 <block ref="6fe8ac83365e22e24c5c8eb9edc2d548" category="inline-link-macro-rx"></block>。</block>
  <block id="b433f901707e7fd0f6d64371dfca4af9" category="paragraph"><block ref="b433f901707e7fd0f6d64371dfca4af9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="989afab9e0dfcc6d523ddb1d23145834" category="paragraph"><block ref="989afab9e0dfcc6d523ddb1d23145834" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0c138556fe4f10d4cdba4c61933afd91" category="doc">適用於Google Cloud虛擬化引擎的NetApp解決方案（GCVE）</block>
  <block id="10b5b21ed1ee90eca305b558caf7d03b" category="open-title">移轉</block>
  <block id="21a1e68164f738b8be1dae11d5a694b3" category="open-title">資料保護</block>
  <block id="ade1814101b0113034e0f446307b3db3" category="doc">適用於Google Cloud Platform GCVE的NetApp功能</block>
  <block id="addac5e706b2148d9c7b3bbe2d2fcdde" category="paragraph">從下列選項中選取、跳至所需內容的區段：</block>
  <block id="6eb516b97eae0ab93b8d6aab35fbb764" category="inline-link-macro">適用於GCVE的NetApp儲存選項</block>
  <block id="b4360d9dcce9e932e3b5b09fdc524745" category="list-text"><block ref="b4360d9dcce9e932e3b5b09fdc524745" category="inline-link-macro-rx"></block></block>
  <block id="fdab91853bf925f2256c6d39ec3f5351" category="section-title">在GCP中設定GCVE</block>
  <block id="833413440fbbe13837d8b58256cfba65" category="paragraph">如同內部部署、規劃雲端型虛擬化環境對於成功建立虛擬機器和移轉的正式作業就緒環境來說、是非常重要的。</block>
  <block id="94772ee4b241fe0706c3aaef6e3a4505" category="inline-link-macro">支援的NetApp儲存選項</block>
  <block id="67b586cdf9703ba67abe711415768cc0" category="paragraph">請造訪 <block ref="01a9bd21bfc714c8dec8aabc5b88eda7" category="inline-link-macro-rx"></block> 以取得更多資訊。</block>
  <block id="c567300e15e9f9b873771e56c72c938b" category="admonition">1 -目前處於私有預覽中</block>
  <block id="e7441dbfabeaebba75ddd1bf2bcf25e9" category="section-title">使用案例1：最佳化儲存設備</block>
  <block id="b9a8c3d27aa6638e02992c8b76fea769" category="paragraph">使用RVtoolsouting執行規模調整練習時、總是能清楚看出、馬力（vcpU/vMem）的規模與儲存設備平行。許多時候、組織發現自己的儲存空間需要磁碟機的大小、遠超馬力所需的大小。</block>
  <block id="cb575e0b8e023ca0a1789ea03bdb86fd" category="paragraph">透過整合NetApp Cloud Volumes、組織可以透過簡單的移轉方法實現vSphere型雲端解決方案、無需重新建立平台、無需變更IP、也無需變更架構。此外、此最佳化可讓您擴充儲存設備佔用空間、同時將vSphere中所需的主機數量維持在最低、但不會變更可用的儲存階層架構、安全性或檔案。這可讓您最佳化部署、並將整體TCO降低35%至45%。這項整合也可讓您在數秒內將儲存設備從溫儲存設備擴充至正式作業層級的效能。</block>
  <block id="9ae8084cfbf8c00bc50891fe51bb70b4" category="section-title">使用案例2：雲端移轉</block>
  <block id="40c30ee45ee11e766ec77dfd0d98cef0" category="paragraph">企業組織正面臨從內部部署資料中心移轉應用程式至公有雲的壓力、原因有多種：即將到期的租賃期限；從資本支出（資本支出）移轉至營運支出（營運支出）支出的財務指示；或只是由上而下的任務、將一切移至雲端。</block>
  <block id="4744ec437cce262edc7110652b69ab21" category="paragraph">當速度至關重要時、只有簡化的移轉方法才可行、因為為了適應雲端的特定IaaS平台而重新建立平台和重構應用程式的速度緩慢且昂貴、通常需要數月的時間。將NetApp Cloud Volumes與具頻寬效率的SnapMirror複寫結合、以利連接客體的儲存設備（包括結合應用程式一致的Snapshot複本和HCX的RDM）、實現雲端特定移轉（例如 Azure移轉）、或是用於複寫VM的協力廠商產品）、這項移轉作業比仰賴耗時的I/O篩選機制更容易。</block>
  <block id="d393e254c1adb8df50cfc41394c68645" category="section-title">使用案例3：資料中心擴充</block>
  <block id="90c724dd3ba1ec0f533f7fb73a10323a" category="paragraph">當資料中心因為季節性需求尖峰或是組織內部的穩定成長而達到容量限制時、移轉至雲端代管的VMware以及NetApp Cloud Volumes是一項簡單的解決方案。運用NetApp Cloud Volumes、可在可用度區域之間提供高可用度、並提供動態擴充功能、輕鬆建立、複寫及擴充儲存設備。運用NetApp Cloud Volumes可克服延伸叢集的需求、將主機叢集容量降至最低。</block>
  <block id="0b95336d0f31a3bd4775f96c750bb9bc" category="section-title">使用案例4：災難恢復至雲端</block>
  <block id="c2aee451a27e7cf3993f462ee5b760e9" category="paragraph">在傳統的方法中、如果發生災難、複寫到雲端的VM將需要在還原之前、先轉換至雲端本身的Hypervisor平台、而非在危機期間處理的工作。</block>
  <block id="772dec0515d132f26bfa87cb31b5758d" category="paragraph">透過使用NetApp Cloud Volumes進行與來賓連線的儲存設備、並使用SnapCenter 內部部署的VMware和SnapMirror複寫、以及公有雲虛擬化解決方案、可以設計出更好的災難恢復方法、讓VM複本能夠在完全一致的VMware SDDC基礎架構上還原、並搭配雲端特定的恢復工具（例如 Azure Site Recovery）或同等的協力廠商工具、例如Veeam。這種方法也能讓您快速執行災難恢復訓練、並從勒索軟體中恢復。如此一來、您也可以隨需新增主機、以擴充至完整正式作業環境進行測試或災難期間。</block>
  <block id="24d0e6ab8003b406cf7e3f42363acbf5" category="section-title">使用案例5：應用程式現代化</block>
  <block id="59e56fb67c730af04acf8a13665cadb3" category="paragraph">應用程式放入公有雲之後、組織就會想要利用數百種強大的雲端服務來進行現代化和擴充。使用NetApp Cloud Volumes之後、現代化是一項簡單的程序、因為應用程式資料並未鎖定在vSAN中、因此可在多種使用案例（包括Kubernetes）中進行資料移動。</block>
  <block id="eea420abccd820355b4bddd3524ae083" category="paragraph">無論您的目標是全雲端或混合雲、NetApp Cloud Volumes都能提供絕佳的選項來部署及管理應用程式工作負載、以及檔案服務和區塊傳輸協定、同時讓應用程式層的資料需求順暢無礙、進而降低TCO。</block>
  <block id="cd51ff9774803e84c79e8ab19bb7ffd2" category="paragraph">無論使用案例為何、請選擇您最喜愛的雲端/超大規模伺服器搭配NetApp Cloud Volumes、以快速實現雲端效益、一致的基礎架構、以及跨內部部署和多個雲端的作業、工作負載的雙向可攜性、以及企業級容量和效能。</block>
  <block id="2993778cba8ea9a69af4ff9dc7e18fb8" category="paragraph">這是用來連接儲存設備的熟悉程序。請記住、這只是以新名稱變更資料的位置、工具和程序都維持不變、而NetApp Cloud Volumes則有助於最佳化整體部署。</block>
  <block id="6120544c737d67dd31f47d101fe21a84" category="doc">在雲端供應商中設定虛擬化環境</block>
  <block id="f4f7adb7cbe18f2cdd82be75a52b0417" category="paragraph">如需如何在每個受支援的超大規模擴充系統中設定虛擬化環境的詳細資訊、請參閱此處。</block>
  <block id="162e9e1fd4657b8d9588a5ae8c8e6e66" category="paragraph">本節說明如何在AWS SDDC上設定及管理VMware Cloud、並搭配可用的選項來連接NetApp儲存設備。</block>
  <block id="389544cc8199f2ddd936397695d0dbe9" category="inline-link-macro">部署及設定適用於AWS的VMware Cloud</block>
  <block id="b4f284d3b5bb40ee91901933b8f7ef5f" category="inline-link-macro">將VMware Cloud連接至FSX ONTAP VMware</block>
  <block id="491aa8f554f95207a4b7d47f89777e13" category="paragraph">本節說明如何設定及管理Azure VMware解決方案、以及如何搭配可用的選項來連接NetApp儲存設備。</block>
  <block id="3d24cd3e433bf1992e011c9f92c3fab6" category="inline-link-macro">註冊資源供應商並建立私有雲</block>
  <block id="a1123889b6465e93a2209c2a0ca667ef" category="inline-link-macro">連線至新的或現有的ExpressRoute虛擬網路閘道</block>
  <block id="ae1764c7cb70aed2d4548c424d7bf34a" category="inline-link-macro">驗證網路連線能力並存取私有雲端</block>
  <block id="5f1bd6ade489565bebba9a771b93fe70" category="paragraph">在規劃混合雲或雲端優先部署時、對IT組織而言重要的使用案例總覽。</block>
  <block id="0812fc943ecbd9a54d88fb25729d0aa5" category="section-title">熱門使用案例</block>
  <block id="f136615e6f2c1b330afb72bf4a45b4a4" category="paragraph">使用案例包括：</block>
  <block id="3481fb80f122383c65ff8c6c8fd8c943" category="list-text">災難恢復、</block>
  <block id="4127bac8297e2af8866315910651ce47" category="list-text">在資料中心維護期間代管工作負載*快速爆發、除了本機資料中心的資源配置之外、還需要額外的資源、</block>
  <block id="20b1c73b5938d2d878aa1d96fee7f1b2" category="list-text">VMware站台擴充、</block>
  <block id="5fe13b2b805496310dbaa281d7325877" category="list-text">快速移轉至雲端、</block>
  <block id="b278a6d011d590bb350b9cb81c21a732" category="list-text">開發/測試、及</block>
  <block id="bc262005b263505cc0464e05c4324687" category="section-title">IT發展歷程中</block>
  <block id="cfdb9aabb4aedf8cad2e330ba5a516a3" category="paragraph">大多數組織都在轉型與現代化的過程中。在這個流程中、公司正嘗試使用現有的VMware投資、同時善用雲端效益、並探索各種方法、使移轉程序盡可能順暢無礙。這種方法會讓他們的現代化工作變得非常簡單、因為資料已經在雲端中。</block>
  <block id="0362604333fcf179ebf8b873f8f8c0ec" category="paragraph">讓我們來思考以下案例：</block>
  <block id="b401aa039e47ba98bfaca10532e40d08" category="paragraph">客戶只需要五部主機來處理CPU和記憶體、但需要大量的儲存需求、而且需要12部主機來滿足儲存需求。這項需求最終會在只需要增加儲存容量的情況下、購買額外的馬力、進而大幅提高財務規模。</block>
  <block id="7c25e9d8a9748905f5d456e20a93b413" category="paragraph">當您規劃雲端採用和移轉時、務必評估最佳方法、並採取最簡單的方法來減少總投資。任何應用程式移轉最常見且最簡單的方法、就是在沒有虛擬機器（VM）或資料轉換的情況下、重新裝載（也稱為移轉）。使用NetApp Cloud Volumes搭配VMware軟體定義資料中心（SDDC）、同時輔助vSAN、可提供輕鬆的移轉選項。</block>
  <block id="44f55a60cc8f70d1e10efc62b75eeddc" category="doc">適用於VMware的NetApp解決方案</block>
  <block id="f21c97f5b239021bb3f13d148516abb4" category="paragraph">挑選您的雲端、讓NetApp為您提供更多優勢！</block>
  <block id="c1304f98c6be845a236d7a27951ece4f" category="paragraph"><block ref="c1304f98c6be845a236d7a27951ece4f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ca4ac823f3f130f3c78d6ac26ba9f46b" category="admonition">若要查看特定超大規模擴充程式的功能、請按一下該超大規模擴充程式的適當索引標籤。</block>
  <block id="06262015df4851b380189212274a0e3e" category="inline-link-macro">超大規模擴充組態中的VMware</block>
  <block id="7f08237a127b62af444f720f15216cee" category="list-text"><block ref="7f08237a127b62af444f720f15216cee" category="inline-link-macro-rx"></block></block>
  <block id="c774c23e9a97e08bfa096f1cbf18cc17" category="inline-link-macro">NetApp儲存選項</block>
  <block id="d3fc27ff58dc3a0d839a16af858e7999" category="list-text"><block ref="d3fc27ff58dc3a0d839a16af858e7999" category="inline-link-macro-rx"></block></block>
  <block id="60ce80493de8468bdfd597af1c219a9f" category="paragraph">AWS支援下列組態的NetApp儲存設備：</block>
  <block id="4a7272ea95323d5fef2e377b91b5f16d" category="inline-link-macro">FSX ONTAP 支援以客為本的連線儲存設備</block>
  <block id="5f18b04dd7d7089a2177c4c930d8d57f" category="paragraph">Azure以下列組態支援NetApp儲存設備：</block>
  <block id="1ffaf40c19facb6829b48b667d1dcaa3" category="inline-link-macro">以客體連線儲存設備的形式提供Azure NetApp Files</block>
  <block id="b583dc49832a978014ef0d14fe7ef1ce" category="paragraph">深入瞭解NetApp為每個大型擴充系統帶來VMware環境的解決方案、包括移轉工作流程、延伸/突增至雲端、備份/還原及災難恢復。</block>
  <block id="5e1c36a2c24e0aaf7844ec890c15e430" category="paragraph">瞭解NetApp儲存設備在主要大型大型大型大型大型擴充系統中的支援組合。</block>
  <block id="382b0f5185773fa0f67a8ed8056c7759" category="cell">不適用</block>
  <block id="415be703c228d9c6838b18850a1d9f31" category="paragraph">大多數IT組織都採用混合式雲端優先方法。這些組織正處於轉型階段、客戶正在評估其目前的IT環境、然後根據評估與探索練習、將工作負載移轉至雲端。</block>
  <block id="346972233965e89cf5b17c3907b35f86" category="paragraph">客戶移轉至雲端的因素包括彈性與爆發、資料中心結束、資料中心整合、生命週期結束案例、合併、 併購等。此移轉的原因可能因組織及其各自的業務優先順序而異。移轉至混合雲時、在雲端中選擇適當的儲存設備、對於釋放雲端部署和彈性的威力十分重要。</block>
  <block id="0c4a16ed987359b14dc407a858d1a78e" category="section-title">公有雲的VMware Cloud選項</block>
  <block id="9789f0612fda153726aa8ad87265e4b9" category="section-title">Azure VMware解決方案</block>
  <block id="d788a5499d320b05602a6a0805c81403" category="image-alt">AVS</block>
  <block id="c7b818b90803789a74058cfb4396383d" category="paragraph">Azure VMware解決方案是一種混合雲服務、可在Microsoft Azure公有雲中提供功能完整的VMware SDDC。Azure VMware解決方案是第一方的解決方案、由Microsoft完全管理及支援、並由VMware運用Azure基礎架構進行驗證。這表示當部署Azure VMware解決方案時、客戶會獲得VMware的ESXi用於運算虛擬化、vSAN用於超融合式儲存設備、 以及NSX的網路與安全功能、同時充分利用Microsoft Azure的全球知名度、領先同級的資料中心設施、以及接近豐富的原生Azure服務與解決方案生態系統。</block>
  <block id="4dab2f9796b0af6304d00e21e2b9dfb4" category="section-title">AWS上的VMware Cloud</block>
  <block id="22b0614f106e2b7c956c60c8fc0d35c3" category="image-alt">VMC</block>
  <block id="8641a2440fc22db60ec877f3a8946fa2" category="paragraph">AWS上的VMware Cloud可將VMware企業級SDDC軟體導入AWS Cloud、並針對原生AWS服務進行最佳化存取。以VMware Cloud Foundation為後盾、AWS上的VMware Cloud整合了VMware的運算、儲存和網路虛擬化產品（VMware vSphere、VMware vSAN和VMware NSX）、以及VMware vCenter Server管理功能、經過最佳化、可在專屬、靈活、裸機的AWS基礎架構上執行。</block>
  <block id="8cb69aa5b1609d0a39f0fcd576c07df6" category="section-title">Google Cloud VMware Engine</block>
  <block id="5292de1147a4b3a1d5c63d057c4b0096" category="image-alt">gcve</block>
  <block id="1ffd600a1d8e07fe3b4bca16ae02167c" category="paragraph">Google Cloud VMware Engine是基礎架構即服務（IaaS）、以Google Cloud高效能的可擴充基礎架構和VMware Cloud Foundation堆疊（VMware vSphere、vCenter、vSAN和NSX T）為基礎這項服務可讓您快速移轉至雲端、從內部部署環境無縫移轉或延伸現有的VMware工作負載至Google Cloud Platform、而不需重新建構應用程式或重組作業的成本、心力或風險。這項服務是由Google銷售及支援的服務、與VMware密切合作。</block>
  <block id="3310d189628fa6ef843aac57894a6db2" category="admonition">SDDC私有雲和NetApp Cloud Volumes共置可提供最佳效能、並將網路延遲降至最低。</block>
  <block id="c771fce16e2ba5df07df53cc5ab0748f" category="section-title">您知道嗎？</block>
  <block id="8bba30129de0461b328be1e49f02b4d9" category="paragraph">無論使用何種雲端、部署VMware SDDC時、初始叢集都包含下列產品：</block>
  <block id="7110e7a8682a9bc1c7105b83fe0cd9ea" category="list-text">使用vCenter Server應用裝置進行運算虛擬化的VMware ESXi主機進行管理</block>
  <block id="7d7a80e207de2136f4f19820758703fc" category="list-text">VMware vSAN超融合式儲存設備整合了每個ESXi主機的實體儲存資產</block>
  <block id="d2852e9d73c0ef81033c835719128b81" category="list-text">VMware NSX提供虛擬網路與安全性、並搭配NSX Manager叢集進行管理</block>
  <block id="afb91ca7e7763c77e44a41cb5ad0f78b" category="paragraph">對於計畫裝載儲存密集工作負載並在任何雲端代管VMware解決方案上橫向擴充的客戶、預設的超融合式基礎架構要求擴充時必須同時使用運算與儲存資源。</block>
  <block id="fdb27bea654a8d874baecced2be84a1b" category="paragraph">透過與Azure NetApp Files NetApp Cloud Volumes整合、例如：《關於NetApp ONTAP 的Amazon FSX》、Cloud Volumes ONTAP 《關於NetApp的支援》、《關於所有三大大型超大規模系統的支援》和Cloud Volumes Service 《關於Google Cloud的支援》、客戶現在可以選擇獨立擴充儲存設備、 而且只能視需要將運算節點新增至SDDC叢集。</block>
  <block id="2a01d572b1447155c310cabafac3fae9" category="section-title">附註：</block>
  <block id="a752c3529f0285d457f3b33b3c80d9a4" category="list-text">VMware不建議使用不平衡的叢集組態、因此擴充儲存設備意味著增加更多主機、這意味著擁有更高的TCO。</block>
  <block id="1d8249c60cae81d82fc5bfb80167babc" category="list-text">只能有一個vSAN環境。因此、所有的儲存流量都會直接與正式作業工作負載競爭。</block>
  <block id="c231690c8e9fabbd819ec1805becb157" category="list-text">您無法選擇提供多個效能層級來調整應用程式需求、效能和成本。</block>
  <block id="5d4c92ddd5fe9a6044b25c17d3368207" category="list-text">輕鬆達到叢集主機上建置的vSAN儲存容量限制。使用NetApp Cloud Volumes將儲存設備擴充至裝載作用中資料集、或將層級較低的資料擴充至持續儲存設備。</block>
  <block id="c1cf68955de5fa20274b29fa4a2a863f" category="paragraph">適用於NetApp的Amazon FSX、功能齊全的功能、包括所有三大大型超大規模擴充系統、以及適用於Google Cloud的功能、均可搭配訪客VM一起使用。Azure NetApp Files ONTAP Cloud Volumes ONTAP Cloud Volumes Service這種混合式儲存架構是由vSAN資料存放區所組成、其中包含客體作業系統和應用程式二進位資料。應用程式資料會透過來賓型iSCSI啟動器附加至VM、或是透過NFS/SMB掛載直接與Amazon FSX for NetApp ONTAP 、Cloud Volume ONTAP Sfor Azure NetApp Files Google Cloud進行通訊Cloud Volumes Service 。此組態可讓您輕鬆克服vSAN儲存容量所帶來的挑戰、可用空間取決於所使用的閒置空間和儲存原則。</block>
  <block id="1a5208bfffc624ccf99dfcbbf2078050" category="paragraph">讓我們來考慮在AWS上的VMware Cloud上使用三節點SDDC叢集：</block>
  <block id="fab7fb31baaec1ccac4fe688e1a4c5d4" category="list-text">三節點SDDC的總原始容量= 31.1TB（每個節點約10TB）。</block>
  <block id="ca189b47c3a1dfe1adbd1519688e4cc8" category="list-text">新增額外主機之前所需保留的寬限空間= 25%=（.25 x 31.1TB）= 7.7TB。</block>
  <block id="999b2c719df3f3e524bb10fb76521726" category="list-text">閒餘空間減除後的可用原始容量= 23.4TB</block>
  <block id="2e1f3b31385d3304e1cda70b9cd8ed4c" category="list-text">可用的有效可用空間取決於套用的儲存原則。</block>
  <block id="506c2c0c7f5b70af3df68c45c46f45a7" category="paragraph">例如：</block>
  <block id="2f5e6d9b0a4708c4d137ba14ac704a7b" category="list-text">RAID 0 =有效可用空間= 23.4TB（可用原始容量/ 1）</block>
  <block id="df6b502d4d7283ef27d3821b69836c2d" category="list-text">RAID 1 =有效可用空間= 11.7TB（可用原始容量/2）</block>
  <block id="921c660c11d4880048f3ef723f079e17" category="list-text">RAID 5 =有效可用空間= 17.5TB（可用原始容量/1.33）</block>
  <block id="e3bdc3102c3de4f73860c229550bc6f4" category="paragraph">因此、使用NetApp Cloud Volumes做為與來賓連線的儲存設備、有助於擴充儲存設備並最佳化TCO、同時滿足效能與資料保護需求。</block>
  <block id="571c0d425ce03c2532e7d9f34ca87cb1" category="section-title">值得記住的重點</block>
  <block id="8e6eaed3852a3b311ab6ed1b8b6fc239" category="list-text">在混合式儲存模式中、將層級1或高優先順序的工作負載放在vSAN資料存放區上、以因應任何特定的延遲需求、因為它們是主機本身的一部分、而且位於鄰近範圍內。針對可接受交易延遲的任何工作負載VM、使用來賓機制。</block>
  <block id="43ff7a71a2ea2fc47a29d410cd1e4944" category="list-text">使用NetApp SnapMirror®技術、將工作負載資料從內部部署ONTAP 的SnapMirror系統複寫到Cloud Volumes ONTAP 適用於NetApp ONTAP 的Sf2或Amazon FSX、以便使用區塊層級機制輕鬆移轉。這不適用於Azure NetApp Files 「不適用於」和「Cloud Volumes服務」。若要將資料移轉至Azure NetApp Files 「供應資料」或「雲端磁碟區服務」、請根據Cloud Sync 所使用的檔案傳輸協定、使用NetApp XCP、Rysnc或Robocopy。</block>
  <block id="d3c0fd4b510310b9bd00463208eade94" category="list-text">測試顯示、從個別SDDC存取儲存設備時、會有2至4毫秒的額外延遲。在對應儲存設備時、請將額外延遲因素納入應用程式需求。</block>
  <block id="b83cf0bc9b65a0fcd5f49d4c96dceea8" category="list-text">若要在測試容錯移轉和實際容錯移轉期間掛載與來賓連線的儲存設備、請確認iSCSI啟動器已重新設定、SMB共用的DNS已更新、而且Fstab中的NFS掛載點已更新。</block>
  <block id="1b4048870ed334dbc2e7d6f09a814188" category="list-text">請確定已在VM內部正確設定來賓Microsoft多重路徑I/O（MPIO）、防火牆及磁碟逾時登錄設定。</block>
  <block id="bf3f0fd9ec5faf81793c3abc5e3b9127" category="admonition">這僅適用於來賓連線的儲存設備。</block>
  <block id="00b23e82efc2ec82b134496e575a934c" category="section-title">NetApp雲端儲存設備的優點</block>
  <block id="80def6ec4d999fc4d082800c8c33f6ec" category="paragraph">NetApp雲端儲存設備具備下列優點：</block>
  <block id="2e594db552f7cd9c7f02d87507dbb471" category="list-text">透過獨立擴充運算儲存設備、改善運算對儲存設備的密度。</block>
  <block id="479f9f236fc4cffa74f2e94b654bbeeb" category="list-text">可讓您減少主機數、進而降低整體TCO。</block>
  <block id="108dd736471686a2b8b87154d73cbc5b" category="list-text">運算節點故障不會影響儲存效能。</block>
  <block id="a85e0a264279b851fbcec367c181932e" category="list-text">藉由Azure NetApp Files 利用功能強大的功能來調整磁碟區大小、以調整穩定狀態工作負載的規模、進而避免資源過度配置、進而達到最佳成本效益。</block>
  <block id="4e24ca7789e0b9320e302b8efa2caf9f" category="list-text">利用NetApp的儲存效率、雲端分層和執行個體類型修改功能Cloud Volumes ONTAP 、您可以以最佳方式新增及擴充儲存設備。</block>
  <block id="d7a87fa8fc914cf57f38eff05d53faa2" category="list-text">避免只在需要時才新增過度資源配置。</block>
  <block id="940eacbcb0faa8c3b1e0d995c154f693" category="list-text">高效率的Snapshot複本與複本可讓您快速建立複本、而不會對效能造成任何影響。</block>
  <block id="a9e4a9fcd1f9bf0a9d0d0b2c0f198db5" category="list-text">使用Snapshot複本的快速恢復功能、協助解決勒索軟體攻擊。</block>
  <block id="caf9b805c37cab661d4e3a26b7f71109" category="list-text">跨區域提供有效率的遞增區塊傳輸型區域性災難恢復和整合式備份區塊層級、可提供更好的RPO和RTO。</block>
  <block id="658fb5ef00749e8af5a974f612adea9b" category="section-title">假設</block>
  <block id="a9e63f2a8549d717b777806268a0c0cb" category="list-text">SnapMirror技術或其他相關的資料移轉機制已啟用。從內部部署到任何超大規模雲端、都有許多連線選項可供選擇。使用適當的途徑、並與相關的網路團隊合作。</block>
  <block id="478a13ed02b948c9cfd89a6197062012" category="admonition">請與NetApp解決方案架構設計師及各自的超大規模雲端架構設計師接洽、以規劃及調整儲存設備規模、以及所需的主機數量。NetApp建議您先找出儲存效能需求、再使用Cloud Volumes ONTAP VMware解決方案、以適當的處理量來完成儲存執行個體類型或適當的服務層級。</block>
  <block id="c748546b5854ecb146d9caa41d781bdb" category="section-title">詳細架構</block>
  <block id="1a8ac44404b1e5888d83801ac116ff66" category="inline-image-macro">企業混合雲架構</block>
  <block id="855b05f645c80247a3f11392cab187c2" category="paragraph"><block ref="855b05f645c80247a3f11392cab187c2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a7714bc43e9a27f2c98a38e6b6d7f3d8" category="doc">適用於公有雲供應商的NetApp儲存選項</block>
  <block id="8db50e5729f7a5d770aaceef947a2982" category="paragraph">在三大大型超大規模擴充系統中探索NetApp儲存設備的選項。</block>
  <block id="ae295ef15cb155f8a1af7d255e34298d" category="doc">適用於AWS的NetApp來賓連線儲存選項</block>
  <block id="6e3fe132749fe21d23cf75f00317a6fe" category="section-title">使用ONTAP AWS上的VMware Cloud設定Amazon FSX for NetApp功能</block>
  <block id="5f19d821dc2e2e3a8e9418909df59733" category="paragraph">Amazon FSx for NetApp ONTAP 的支援文件共享和LUN可從在VMware Cloud AWS上的VMware SDDC環境中建立的VM掛載。這些磁碟區也可以安裝在Linux用戶端上、並使用NFS或SMB傳輸協定對應到Windows用戶端、而LUN則可在透過iSCSI掛載時、以區塊裝置的形式在Linux或Windows用戶端上存取。可ONTAP 透過下列步驟快速設定適用於NetApp的Amazon FSX。</block>
  <block id="190b27040d3191ccf35bdb35221f0682" category="admonition">Amazon FSX for NetApp ONTAP 的VMware解決方案和AWS上的VMware Cloud必須位於相同的可用度區域、才能達到更好的效能、並避免在可用度區域之間傳輸資料。</block>
  <block id="f8caa19e45e4a42ea7bc10cad5d49ae8" category="section-title">建立及掛載Amazon FSX for ONTAP Sf6 Volume</block>
  <block id="e765d7d83fde51af5391c87cc45dccf2" category="paragraph">若要建立及掛載適用於NetApp ONTAP 的Amazon FSX for NetApp Sfor the File System、請完成下列步驟：</block>
  <block id="43935f267f64b4ca1a3f1803272df64b" category="inline-link-macro">Amazon FSX主控台</block>
  <block id="4d33567207f0232b86c9bec4b4f38d45" category="list-text">開啟 <block ref="1f394ea51c20c394ab649ff06aeff5a6" category="inline-link-macro-rx"></block> 然後選擇Create file system（建立檔案系統）以啟動檔案系統建立精靈。</block>
  <block id="df08dda7dc18ddb7de0e9ad5001a9f04" category="list-text">在「Select File System Type」（選取檔案系統類型）頁面上、選擇Amazon FSX for NetApp ONTAP 解決方案、然後選擇「Next」（下一步）。此時將顯示Create File System（創建文件系統）頁面。</block>
  <block id="c40ea60211b89b2179fe7a947527ff66" category="paragraph"><block ref="c40ea60211b89b2179fe7a947527ff66" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f29804f0e866cb47ba2fa233a71a54fd" category="list-text">在「Networking（網路）」區段中、針對Virtual Private Cloud（VPC）選擇適當的VPC和偏好的子網路、以及路由表。在此情況下、會從下拉式清單中選取vmcfsx2.VPC。</block>
  <block id="628892e49fa967795d4d8d3269c5bb31" category="paragraph"><block ref="628892e49fa967795d4d8d3269c5bb31" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cf9c04e1d81f05e344db236ac47ea588" category="list-text">對於建立方法、請選擇「標準建立」。您也可以選擇「快速建立」、但本文件使用「標準建立」選項。</block>
  <block id="e3c13c0fe612a941f86617c0ad730fca" category="paragraph"><block ref="e3c13c0fe612a941f86617c0ad730fca" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e47c53bc440aebf2328e497b46953118" category="paragraph"><block ref="e47c53bc440aebf2328e497b46953118" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6ed02b1594feb57e5c5c1ca0678086dd" category="list-text">在「安全性與加密」區段中、針對加密金鑰選擇AWS金鑰管理服務（AWS KMS）加密金鑰、以保護檔案系統閒置的資料。在「檔案系統管理密碼」中、輸入fsxadmin使用者的安全密碼。</block>
  <block id="450514d9ec3a47df8e580605e80579b7" category="paragraph"><block ref="450514d9ec3a47df8e580605e80579b7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b969656105cc9174e398fa5754382d5b" category="list-text">在虛ONTAP 擬機器中、指定與vsadmin搭配使用的密碼、以便使用REST API或CLI來管理功能。如果未指定密碼、則可使用fsxadmin使用者來管理SVM。在Active Directory區段中、請務必將Active Directory加入SVM、以進行SMB共用資源的資源配置。在「預設儲存虛擬機器組態」區段中、提供此驗證中儲存設備的名稱、即使用自我管理的Active Directory網域來配置SMB共用。</block>
  <block id="0b0a8d3b6da586b1c3d7ace81f086743" category="paragraph"><block ref="0b0a8d3b6da586b1c3d7ace81f086743" category="inline-image-macro-rx" type="image"></block></block>
  <block id="89a8b582feabb26f60740f7b0a57aaef" category="list-text">在「預設Volume組態」區段中、指定Volume名稱和大小。這是NFS Volume。若要提升儲存效率、請選擇「啟用」以開啟ONTAP 「不支援的儲存效率」功能（壓縮、重複資料刪除和壓縮）、或選擇「停用」以關閉這些功能。</block>
  <block id="2cfdc5814e94a8d05a802a6b639158b7" category="paragraph"><block ref="2cfdc5814e94a8d05a802a6b639158b7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="59ed30f46b9afae4f90b77ac3ed74f8e" category="list-text">檢閱「Create File System（建立檔案系統）」頁面上顯示的檔案系統組態。</block>
  <block id="08ef5aaea85c8112d5d0e368443ee4fe" category="list-text">按一下建立檔案系統。</block>
  <block id="d385818e8551a5f93e9591daf3cf7c22" category="paragraph"><block ref="aae4a315cf943820b378b71447a7994a" category="inline-image-macro-rx" type="image"></block>
<block ref="e34db9249abae41534adba1bed16b8d1" category="inline-image-macro-rx" type="image"></block>
<block ref="f1c6728d54b85d98dd49bf5dc91e4f97" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0f5cc47067a5c4b536ab91f1a843de82" category="inline-link-macro">Amazon FSX for NetApp ONTAP 功能入門</block>
  <block id="e37ec80b6a23f377fd957d8c83c7a7b5" category="paragraph">如需詳細資訊、請參閱 <block ref="01eec31289b39ab7b89a00515912c371" category="inline-link-macro-rx"></block>。</block>
  <block id="af62c8c40f4b51eaee5cfbcfdb7bffaa" category="paragraph">依照上述方式建立檔案系統之後、請使用所需的大小和傳輸協定來建立磁碟區。</block>
  <block id="5eb9e90ab2c5435bcefd918c8c8a7304" category="list-text">開啟 <block ref="1f394ea51c20c394ab649ff06aeff5a6" category="inline-link-macro-rx"></block>。</block>
  <block id="4cdc643691b84580850903954cdca1d1" category="list-text">在左側導覽窗格中、選擇「檔案系統」、然後選擇ONTAP 您要建立Volume的作業系統。</block>
  <block id="05c0eed2abbd9c20871b6af0eb7b1e38" category="list-text">選取Volume（磁碟區）索引標籤。</block>
  <block id="511e546bcb3da3ea3db700200e857ebf" category="list-text">選取「Create Volume（建立Volume）」索引標籤。</block>
  <block id="328a4173ff8b40f0204a78c6a579b01e" category="list-text">此時將出現Create Volume（創建Volume）對話框。</block>
  <block id="b1734fefd5bf5fc9e481a277d683ca10" category="paragraph">為了進行示範、本節會建立NFS磁碟區、以便輕鬆掛載於AWS上VMware雲端上執行的VM。nfsdemov01的建立方式如下所示：</block>
  <block id="d32e1c6ca1d9fe2fb3ccb4d26dbc8a71" category="paragraph"><block ref="d32e1c6ca1d9fe2fb3ccb4d26dbc8a71" category="inline-image-macro-rx" type="image"></block></block>
  <block id="72e172d843c1baf9acb881337f0bb2cc" category="section-title">在ONTAP Linux用戶端上掛載FSX*</block>
  <block id="682dccf32ec3d6c1e1ca2548a43c4245" category="paragraph">以掛載ONTAP 上一步建立的FSXSf問題Volume。在AWS SDDC上VMC內的Linux VM中、完成下列步驟：</block>
  <block id="a8dc83c93fa2350d1419b44103864f2c" category="list-text">使用Secure Shell（SSH）在執行個體上開啟終端機、然後以適當的認證登入。</block>
  <block id="454d9d1fe6ad680e393543d5e7b11669" category="list-text">使用下列命令建立磁碟區掛載點的目錄：</block>
  <block id="9e770ba792bd4db694940294a77cccee" category="list-text">將Amazon FSX for NetApp ONTAP SfNFS Volume掛載到上一步建立的目錄。</block>
  <block id="6631f82f4a955cf7fe5644adadf79e47" category="paragraph"><block ref="6631f82f4a955cf7fe5644adadf79e47" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2774f9046ee4873805e1f044fa12fe85" category="list-text">執行後、請執行df命令來驗證掛載。</block>
  <block id="d06051412d6da4495ca1a69429ea4fdf" category="paragraph"><block ref="d06051412d6da4495ca1a69429ea4fdf" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0927b028b8b35cb7421cd2d29ebac0ab" category="section-title">將FSX ONTAP 功能區附加到Microsoft Windows用戶端</block>
  <block id="49a305dd021166bf8a508fb51b3fce24" category="paragraph">若要管理及對應Amazon FSX檔案系統上的檔案共用、必須使用共用資料夾GUI。</block>
  <block id="0f51d6ad9d95d24bf6d5b0e18d947382" category="list-text">開啟「開始」功能表、然後使用「以系統管理員身分執行」執行fsmgmt．msc。這樣做會開啟「共用資料夾GUI」工具。</block>
  <block id="0186f9c0fa21b0c8ab82fadf036afe8f" category="list-text">按一下「行動」&gt;「所有工作」、然後選擇「連線至其他電腦」。</block>
  <block id="f5cf362d19da392bad46d1cb4bbea453" category="list-text">對於另一台電腦、請輸入儲存虛擬機器（SVM）的DNS名稱。例如、本範例使用FSXSMBTESTIN01.FSXTESTIN.local。</block>
  <block id="882da317003fa80717e3939e41c5aa32" category="admonition">若要在Amazon FSX主控台找到SVM的DNS名稱、請選擇「儲存虛擬機器」、選擇「SVM」、然後向下捲動至「端點」以尋找SMB DNS名稱。按一下「確定」。Amazon FSX檔案系統會出現在共用資料夾的清單中。</block>
  <block id="24cfe5fb05f6bd3b267a7e2d46a1cc44" category="paragraph"><block ref="24cfe5fb05f6bd3b267a7e2d46a1cc44" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bd517d0d40877562e2dae460910a5260" category="list-text">在「共享資料夾」工具中、選擇左窗格中的「共享」、即可查看Amazon FSX檔案系統的作用中共用。</block>
  <block id="e4fb530e581118e4aa66166f33242547" category="paragraph"><block ref="e4fb530e581118e4aa66166f33242547" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b994a2e22edf9cb0de792e6a494da514" category="list-text">現在請選擇新的共用區、然後完成「建立共用資料夾」精靈。</block>
  <block id="9630a309cdca9ed17b688fe15c03a200" category="paragraph"><block ref="f821d910b54d4df166bfb6c9a0fbeac1" category="inline-image-macro-rx" type="image"></block>
<block ref="1456921fb33e6c835f2ea077607c478a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ed3796b20dc1d1a4f1756d0cb0f45489" category="inline-link-macro">建立SMB共用</block>
  <block id="dc77f3b6074a456c2be3f16b862db081" category="paragraph">若要深入瞭解如何在Amazon FSX檔案系統上建立及管理SMB共用區、請參閱 <block ref="a85495f11ff3e696252abf798d30d57d" category="inline-link-macro-rx"></block>。</block>
  <block id="470140537c670eb8edb32bf6e8b2bad5" category="list-text">連線到位後、即可附加SMB共用區並用於應用程式資料。若要完成此作業、請複製共用路徑、然後使用「對應網路磁碟機」選項、將磁碟區掛載到AWS SDDC上VMware Cloud上執行的VM上。</block>
  <block id="0542af5401c04588abf9b665f31829b6" category="paragraph"><block ref="0542af5401c04588abf9b665f31829b6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b6c5856c2845517bb6408529fb90b57e" category="section-title">使用ONTAP iSCSI將FSX for NetApp的LUN連接至主機</block>
  <block id="716fd43b3bc7735b075d056d4ac18dc4" category="paragraph">FSX的iSCSI流量會透過上一節所提供的路由、通過VMware Transit Connect/AWS Transit Gateway傳輸。若要在Amazon FSX for NetApp ONTAP 支援中設定LUN、請遵循所找到的文件 <block ref="70da71f7286decf7407c5db884b5344a" category="inline-link-macro-rx"></block>。</block>
  <block id="32139f76f200f13f9078d49f80c95815" category="paragraph">在Linux用戶端上、請確定iSCSI精靈正在執行。配置LUN後、請參閱有關使用Ubuntu進行iSCSI組態的詳細指南（範例）。 <block ref="6e395450a47e52243c1b6632fa351858" category="inline-link-macro-rx"></block>。</block>
  <block id="102b54837bec429c2bc9f3f9fee8a857" category="paragraph">本文將說明如何將iSCSI LUN連接至Windows主機：</block>
  <block id="29980d065df6792c6cf2015646e8744d" category="section-title">在FSX中配置LUN以供NetApp ONTAP 使用：</block>
  <block id="6da38655de350d44c878e17adb0fd12c" category="list-text">使用ONTAP FSX的管理連接埠存取NetApp Sfor ONTAP the Sfor the Sfof the文件系統。</block>
  <block id="6f8dec9d607d68b3712504d90548dc7f" category="list-text">依照規模調整輸出所示、以所需大小建立LUN。</block>
  <block id="c31d63ac510efc7c433e07d70ef0a11a" category="paragraph">在此範例中、我們建立的LUN大小為5g（5368709120）。</block>
  <block id="e3de6fee1eaf0d0777dc125d42255a4b" category="list-text">建立必要的igroup來控制哪些主機可以存取特定LUN。</block>
  <block id="8c92602adf53776d90c46162f150dd3c" category="paragraph">顯示兩個項目。</block>
  <block id="e71def0bc16c2989d418764ced77c368" category="list-text">使用下列命令將LUN對應至igroup：</block>
  <block id="fd29357379ec9a1916e7512ba9cba2d5" category="list-text">將新配置的LUN連接至Windows VM：</block>
  <block id="15bea41b01d7287439a04eb0c57a5ef5" category="paragraph">若要在AWS SDDC上連接位於VMware雲端上的Windows主機、請完成下列步驟：</block>
  <block id="eabaddae6242a6352bd11a6bdf29b55a" category="list-text">將RDP移至AWS SDDC上VMware Cloud上的Windows VM。</block>
  <block id="debd85c1c5da22a2c5e207ae0ad4b91a" category="list-text">瀏覽至「伺服器管理員」&gt;「儀表板」&gt;「工具」&gt;「iSCSI啟動器」、以開啟「iSCSI啟動器內容」對話方塊。</block>
  <block id="213e827694caf7236290f845284dcc05" category="list-text">從「目標」索引標籤中選取探索到的目標、然後按一下「登入」或「連線」。</block>
  <block id="43237019bec64292757878b08a9d1a63" category="list-text">選取「啟用多重路徑」、然後選取「電腦啟動時自動還原此連線」或「將此連線新增至最愛目標清單」。按一下進階。</block>
  <block id="6aa775ce454f9bfcd13c7e20b90531e7" category="paragraph"><block ref="6aa775ce454f9bfcd13c7e20b90531e7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1dc2a4ed37392086accdd3db98b75509" category="paragraph">儲存虛擬機器（SVM）上的LUN會在Windows主機上顯示為磁碟。主機不會自動探索任何新增的磁碟。完成下列步驟、觸發手動重新掃描以探索磁碟：</block>
  <block id="3ba2e4c8502f30b8e6d44fc88ebe784a" category="paragraph"><block ref="3ba2e4c8502f30b8e6d44fc88ebe784a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="405bdc4379d9776fbda741356a79c543" category="paragraph">當Windows主機首次存取新LUN時、它沒有分割區或檔案系統。完成下列步驟、即可初始化LUN、並選擇性地使用檔案系統格式化LUN：</block>
  <block id="848c01bbaad78639e22ba05626884091" category="paragraph"><block ref="848c01bbaad78639e22ba05626884091" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4859596b2360db2dac4c6a687efe10d2" category="section-title">在Cloud Volumes ONTAP AWS中部署新的執行個體（自行執行）</block>
  <block id="ddf355809a57f794eb4f9cff41a1ad86" category="paragraph">您可以從在AWS SDDC環境的VMware Cloud上建立的VM掛載支援資源和LUN。Cloud Volumes ONTAP這些磁碟區也可掛載於原生AWS VM Linux Windows用戶端、而LUN Cloud Volumes ONTAP 則可在透過iSCSI掛載時、以區塊裝置的形式在Linux或Windows用戶端上存取、因為它支援iSCSI、SMB及NFS傳輸協定。只需幾個簡單步驟、即可設定各個資料區。Cloud Volumes ONTAP</block>
  <block id="091112e3dbffea1fef77b4b6bbcec4d3" category="paragraph">若要將磁碟區從內部部署環境複寫到雲端以進行災難恢復或移轉、請使用站台對站台VPN或DirectConnect、建立與AWS的網路連線。將內部部署的資料複寫到Cloud Volumes ONTAP 內部部署的不適用範圍。若要在內部部署Cloud Volumes ONTAP 和不間斷系統之間複寫資料、請參閱 <block ref="79828109910805ccc09752d766afaae3" category="inline-link-macro-rx"></block>。</block>
  <block id="c4fab68ae07564acd6ecd9b911dfff79" category="admonition">使用 <block ref="c41f5eb5365f7790c86bbe0d764bfcac" category="inline-link-macro-rx"></block> 以準確調整Cloud Volumes ONTAP 實體執行個體的大小。此外、也要監控內部部署效能、以作為Cloud Volumes ONTAP 參考資料的輸入。</block>
  <block id="44ca838e7d04a1071dc78602ef005cb3" category="list-text">登入NetApp Cloud Central；「Fabric View（架構檢視）」畫面隨即顯示。找到Cloud Volumes ONTAP 「解決方案」索引標籤、然後選取「前往Cloud Manager」。登入之後、便會顯示「畫版」畫面。</block>
  <block id="6b0e3e8cb8d190a2310f526f49f7908f" category="paragraph"><block ref="6b0e3e8cb8d190a2310f526f49f7908f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="613b8a42b8ee051cdae0288a52604a55" category="list-text">在Cloud Manager首頁上、按一下「Add a Working Environment（新增工作環境）」、然後選取AWS做為雲端和系統組態類型。</block>
  <block id="1ce9ef4a253b6301539d9cab4fca67b6" category="paragraph"><block ref="1ce9ef4a253b6301539d9cab4fca67b6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d1552a04c8237c4a2d938cca2db53683" category="list-text">提供要建立的環境詳細資料、包括環境名稱和管理員認證資料。按一下「繼續」。</block>
  <block id="525c0dbff313821edbeaa46a9b5d88dd" category="paragraph"><block ref="525c0dbff313821edbeaa46a9b5d88dd" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7fdbae44a4deac52e923aa6480a3f1f2" category="list-text">選擇Cloud Volumes ONTAP 用於進行支援的附加服務、包括Cloud Data Sense、Cloud Backup和Cloud Insights 效益。按一下「繼續」。</block>
  <block id="7191330ca38db1397356e7619c4baf63" category="paragraph"><block ref="7191330ca38db1397356e7619c4baf63" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5908a77615c1d6294f872ff6f0e9ec5c" category="list-text">在「HA部署模型」頁面上、選擇「多可用度區域」組態。</block>
  <block id="e2dff93e99a18f3bbf601965a86556d3" category="paragraph"><block ref="e2dff93e99a18f3bbf601965a86556d3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5eee77262911549d8a2fd262ee2a983d" category="list-text">在「Region &amp; VPC（地區與VPC）」頁面上、輸入網路資訊、然後按一下「Continue（繼續）」。</block>
  <block id="94a6592c275cad51dc739b4ab70338db" category="paragraph"><block ref="94a6592c275cad51dc739b4ab70338db" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b6f20610782706f69940c617f7154ffe" category="list-text">在「連線能力與SSH驗證」頁面上、選擇HA配對與中介器的連線方法。</block>
  <block id="d121b588f00dfd906d6291024c708f8d" category="paragraph"><block ref="d121b588f00dfd906d6291024c708f8d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1a012735965bc67df3b6e4c64b7b894f" category="list-text">指定浮動IP位址、然後按一下「Continue（繼續）」。</block>
  <block id="bc0e2f9513cce33557343a1867d4bdfb" category="paragraph"><block ref="bc0e2f9513cce33557343a1867d4bdfb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4b2221e159f51173ae2b52e02587cc42" category="list-text">選取適當的路由表以納入通往浮動IP位址的路由、然後按一下「Continue（繼續）」。</block>
  <block id="5486a792746fe5fbf546c327f6be2773" category="paragraph"><block ref="5486a792746fe5fbf546c327f6be2773" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e18f42f3f9ea4d4f2e8df33f334d9939" category="list-text">在「Data Encryption（資料加密）」頁面上、選擇「AWS託管加密」。</block>
  <block id="143c5081e907e69e16f1df952eafae3e" category="paragraph"><block ref="143c5081e907e69e16f1df952eafae3e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2a25e3ac90ce2b5cc921531efdc5963e" category="list-text">選取使用許可選項：「隨用隨付」或「BYOL」以使用現有的授權。在此範例中、會使用隨用隨付選項。</block>
  <block id="e3750564d3942e5c1d3cec322e411d5e" category="paragraph"><block ref="e3750564d3942e5c1d3cec322e411d5e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="df531dd5efab87543ed07d56595eca08" category="list-text">根據要部署在AWS SDDC上VMware雲端上執行的VM上的工作負載類型、選擇幾個預先設定的套件。</block>
  <block id="30e80bd4d8d23ac64059627389a8b348" category="paragraph"><block ref="30e80bd4d8d23ac64059627389a8b348" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ce4ab7c38fc244e8d1e30dd47a1c578d" category="paragraph"><block ref="ce4ab7c38fc244e8d1e30dd47a1c578d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bc498db1b5b048e74d02bcfa90076dfe" category="paragraph"><block ref="bc498db1b5b048e74d02bcfa90076dfe" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8427c8fe11e3a00ca10a2cf45a96dd90" category="paragraph"><block ref="8427c8fe11e3a00ca10a2cf45a96dd90" category="inline-image-macro-rx" type="image"></block></block>
  <block id="31574a22471145d2a1ea069062aa95ec" category="list-text">選取CVO執行個體以建立磁碟區、然後按一下Create Volume（建立磁碟區）選項。選擇適當的大小、然後由Cloud Manager選擇內含的Aggregate、或使用進階分配機制將其放置在特定的Aggregate上。在此示範中、SMB被選取為傳輸協定。</block>
  <block id="d657856abbf9bb39436a3f6f849251ea" category="paragraph"><block ref="d657856abbf9bb39436a3f6f849251ea" category="inline-image-macro-rx" type="image"></block></block>
  <block id="976543d01a4b5d38482c487005aadc68" category="list-text">在配置磁碟區之後、磁碟區會出現在「Volumes（磁碟區）」窗格下方。由於CIFS共用區已配置完成、因此您應授予使用者或群組檔案和資料夾的權限、並確認這些使用者可以存取共用區並建立檔案。</block>
  <block id="eac2d4365044c30420d99e4450f5b3da" category="paragraph"><block ref="eac2d4365044c30420d99e4450f5b3da" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7ea4081e5d5395a0dd61744757f9abb9" category="list-text">建立磁碟區之後、請使用mount命令、從AWS SDDC主機上VMware Cloud上執行的VM連線至共用區。</block>
  <block id="7786302dcdbb8e27839c1d68acb8c3ba" category="list-text">複製下列路徑、然後使用「對應網路磁碟機」選項、將磁碟區掛載到AWS SDDC中VMware Cloud上執行的VM上。</block>
  <block id="fff9636198d4c8106d5edeb1a72f789c" category="paragraph"><block ref="97606ae260ebd0d0acdf4aac70a2a0b5" category="inline-image-macro-rx" type="image"></block>
<block ref="b4382417b1dd50929cfd78b7e90bc2aa" category="inline-image-macro-rx" type="image"></block></block>
  <block id="27c47ada1e7cb796a499ede048474b99" category="section-title">將LUN連接至主機</block>
  <block id="70ac69b194f074f8b2ce79ee769a0c96" category="paragraph">若要將Cloud Volumes ONTAP LUN連接至主機、請完成下列步驟：</block>
  <block id="4a8c2e183609aa00cfce8401be26e193" category="list-text">在Cloud Manager的「Canvases」頁面上、按兩下Cloud Volumes ONTAP 「功能性環境」以建立及管理Volume。</block>
  <block id="298c5ecf2fc7c7ab04d3ff27df17c420" category="list-text">按一下「Add Volume（新增Volume）」&gt;「New Volume（新Volume）」、選取「iSCSI（iSCSI）」、然後按一按一下「繼續」。</block>
  <block id="a3f6544e066d08b352bdd873e84efd9f" category="paragraph"><block ref="d08d8d37d464a0090209067a27ccf9bf" category="inline-image-macro-rx" type="image"></block>
<block ref="dd9a8ac9d2dee64126f68f4ab9b10f3f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6297ccc26d99397b36875f005bb1b800" category="list-text">配置磁碟區之後、選取磁碟區、然後按一下「Target IQN」。若要複製iSCSI合格名稱（IQN）、請按一下複製。設定從主機到 LUN 的 iSCSI 連線。</block>
  <block id="c5a9ec38aba893e2a0d701ba2f45a50e" category="paragraph">若要針對位於AWS SDDC上VMware Cloud上的主機完成相同的作業、請完成下列步驟：</block>
  <block id="2cbe60394fdca23a31c3a05a49aba035" category="list-text">將RDP移至AWS上VMware雲端上的VM。</block>
  <block id="04d63507299c2b866ddad09b32b37fb3" category="list-text">選取「啟用多重路徑」、然後選取「電腦啟動時自動還原此連線」或「將此連線新增至最愛目標清單」。按一下進階。</block>
  <block id="15c42f0d55e1a75b7606d8cd1d0f0840" category="paragraph">+<block ref="f87da6f2c46cbdbedc31faf67374f8f6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c11f54f9bd2797dc115ca9e98fb0116d" category="paragraph">SVM的LUN會顯示為Windows主機的磁碟。主機不會自動探索任何新增的磁碟。完成下列步驟、觸發手動重新掃描以探索磁碟：</block>
  <block id="733dc90ee8ecde5a3fe64fd837d0eec1" category="paragraph"><block ref="733dc90ee8ecde5a3fe64fd837d0eec1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5b173d8aceed1850c1882fee5f7479d4" category="paragraph"><block ref="5b173d8aceed1850c1882fee5f7479d4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1085f8441673a34397360c417066d18f" category="paragraph">在Linux用戶端上、確定iSCSI精靈正在執行。配置LUN之後、請參閱Linux套裝作業系統的iSCSI組態詳細指南。例如、可以找到Ubuntu iSCSI組態 <block ref="6e395450a47e52243c1b6632fa351858" category="inline-link-macro-rx"></block>。若要驗證、請從Shell執行lsblk cmd。</block>
  <block id="af16b968e0e3b3975cdcefb5cdd9858a" category="paragraph">若要從Cloud Volumes ONTAP AWS SDDC上VMC內的VM掛載支援功能（DIY）檔案系統、請完成下列步驟：</block>
  <block id="2b9f5ac2397a7a0e82ca568de7f62512" category="paragraph"><block ref="c1b4b180fa34b46779c12a4e278fa487" category="inline-image-macro-rx" type="image"></block>
<block ref="cf487bf9f5a361811181e443893feb53" category="inline-image-macro-rx" type="image"></block></block>
  <block id="07b0eade4402d209b5dbe587a8ad3f6f" category="doc">在AWS上部署及設定虛擬化環境</block>
  <block id="e647d88b9bd859d2c3e943c24b4fef00" category="paragraph">如同內部部署、在AWS上規劃VMware Cloud對於成功建立虛擬機器和移轉的正式作業就緒環境而言、是非常重要的。</block>
  <block id="02b412692a538ee9dc2534f0f9c73dc1" category="paragraph"><block ref="560d5b2cd40977bd7b77b31d7088f657" category="inline-link-macro-rx"></block> 在AWS生態系統中為VMware工作負載提供雲端原生體驗。每個VMware軟體定義資料中心（SDDC）都會在Amazon Virtual Private Cloud（VPC）上執行、並提供完整的VMware堆疊（包括vCenter Server）、NSX-T軟體定義網路、vSAN軟體定義儲存設備、以及一或多個ESXi主機、為您的工作負載提供運算與儲存資源。</block>
  <block id="dc77b78f59a0c38a9a2e8927dc05e916" category="paragraph">本節說明如何在AWS上設定及管理VMware Cloud、並搭配Amazon FSX for NetApp ONTAP 時使用Cloud Volumes ONTAP 、以及/或在AWS上搭配來賓儲存設備使用VMware Cloud。</block>
  <block id="3712f34e1b7039d6d9bfb255ecc54445" category="paragraph">設定程序可分為三個部分：</block>
  <block id="f54d8dbbc1cb20fd37a59a4563644ef8" category="inline-link-macro">Amazon Web Services帳戶</block>
  <block id="4ca1486cd3276884e41ad4b36080c10b" category="list-text">註冊以取得 <block ref="ab3390028f6599a1b73b747febbf672d" category="inline-link-macro-rx"></block>。</block>
  <block id="020e995219c3fad42714462fc9368253" category="inline-link-macro">我的VMware</block>
  <block id="4f87cd22b54abb602d4264ede77c75fd" category="list-text">註冊以取得 <block ref="6fb1d438d7363efa930c55af527a6c23" category="inline-link-macro-rx"></block> 帳戶。</block>
  <block id="252c0d3625c410f643362d13f1e35681" category="paragraph">假設尚未建立AWS帳戶、您就需要AWS帳戶才能開始使用。無論是新的或現有的、您都需要在帳戶中擁有管理權限、才能執行此程序中的許多步驟。請參閱 <block ref="d01b332d778720bc2fe2a9a15e6ba01d" category="inline-link-macro-rx"></block> 如需AWS認證資料的詳細資訊、</block>
  <block id="e1ed167660991d514f55d806a323f3b5" category="paragraph">若要存取VMware的雲端產品組合（包括AWS上的VMware Cloud）、您需要VMware客戶帳戶或My VMware帳戶。如果您尚未建立VMware帳戶、請建立該帳戶 <block ref="aefb6f511cceca70505b3e5bf76155fe" category="inline-link-macro-rx"></block>。</block>
  <block id="60fa505f14fb504e941cbc61b74d644a" category="section-title">在VMware Cloud中配置SDDC</block>
  <block id="6d931b72d8efc3fd87b7fdd5127cbba7" category="paragraph">設定VMware帳戶並執行適當規模調整之後、部署軟體定義的資料中心是在AWS服務上使用VMware Cloud的下一步。若要建立SDDC、請挑選一個AWS區域來裝載它、為SDDC命名、然後指定您希望SDDC包含多少ESXi主機。如果您尚未擁有AWS帳戶、您仍可建立包含單一ESXi主機的入門組態SDDC。</block>
  <block id="7e70ad389301fa9d8936c18cefd85b53" category="list-text">使用現有或新建立的VMware認證資料登入VMware Cloud Console。</block>
  <block id="28570a642842f2bfa7db5cc3679fd904" category="paragraph"><block ref="28570a642842f2bfa7db5cc3679fd904" category="inline-image-macro-rx" type="image"></block></block>
  <block id="53722f60844c899c63607413f74e8dd8" category="list-text">設定AWS區域、部署和主機類型、以及SDDC名稱：</block>
  <block id="5ec07ba481e6291d3af5e3ca61f27f57" category="paragraph"><block ref="5ec07ba481e6291d3af5e3ca61f27f57" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c5c464b97b208b8c43e9fdd315c80793" category="list-text">連線至所需的AWS帳戶、然後執行AWS Cloud formation堆疊。</block>
  <block id="b6822d593b3a1b683cb4e513b210c080" category="paragraph"><block ref="941b74b5e4d054f44fb05f89bfb30732" category="inline-image-macro-rx" type="image"></block>
<block ref="5ca301c5ba248bc9f9566d74470fcc6b" category="inline-image-macro-rx" type="image"></block>
<block ref="54108005ae53e37fa06b081374d6ea43" category="inline-image-macro-rx" type="image"></block>
<block ref="9f7f4a317cf9d46aa6a2aa8f441279ba" category="inline-image-macro-rx" type="image"></block></block>
  <block id="59e9afc055ce73e7e6154ea7609eec59" category="admonition">此驗證使用單一主機組態。</block>
  <block id="3f68cef60baccc27cfef6b618e56f809" category="list-text">選取所需的AWS VPC、以連接VMC環境。</block>
  <block id="49e131b27a342d4970e86a31a127d41c" category="paragraph"><block ref="49e131b27a342d4970e86a31a127d41c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="102a37b9412553c4ae6b25a174592fbb" category="list-text">設定VMC管理子網路；此子網路包含vCenter、NSX等VMC託管服務。請勿選擇與任何其他需要連線至SDDC環境的網路重疊的位址空間。最後、請遵循以下所述的CIDR大小建議。</block>
  <block id="0e8db488f9554136a65dd18025db8cf0" category="paragraph"><block ref="0e8db488f9554136a65dd18025db8cf0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a541610269aad8edaf8defd851246b08" category="list-text">檢閱並確認SDDC組態、然後按一下「部署SDDC」。</block>
  <block id="a8246981b8dc3e6123523500b3b1371d" category="paragraph"><block ref="a8246981b8dc3e6123523500b3b1371d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1bb7bef7f28887197cfca7059ef2d6d3" category="paragraph">部署程序通常需要約兩小時才能完成。</block>
  <block id="e9dcc1b6680c77f105c83d040009d685" category="paragraph"><block ref="e9dcc1b6680c77f105c83d040009d685" category="inline-image-macro-rx" type="image"></block></block>
  <block id="79b6ae1d041f5cd8b33d3f351b301275" category="list-text">完成後、SDDC即可開始使用。</block>
  <block id="9013490d3a116eed1c849197a6c8aac0" category="paragraph"><block ref="9013490d3a116eed1c849197a6c8aac0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e149dd16e33c6137fe08782e96c9b226" category="inline-link-macro">從VMC主控台部署SDDC</block>
  <block id="086760513a416fbc6578703211523314" category="paragraph">如需SDDC部署的逐步指南、請參閱 <block ref="7279ebe13e8b8c4ee89b8961f2bf1157" category="inline-link-macro-rx"></block>。</block>
  <block id="8a69f1bae52e494c6960f92a27390dcf" category="paragraph">若要將VMware Cloud連接至FSXVMware ONTAP 、請完成下列步驟：</block>
  <block id="7ca6fbd8bbb6725fab7413e4179738f6" category="list-text">完成VMware Cloud部署並連線至AWS VPC後、您必須將Amazon FSX for NetApp ONTAP 支援部署至新的VPC、而非原始連線的VPC（請參閱下方螢幕快照）。如果FSX（NFS和SMB浮動IP）部署在連線的VPC上、則無法存取。請記住Cloud Volumes ONTAP 、像是支援的iSCSI端點、在連線的VPC上運作正常。</block>
  <block id="da6646a18f048724eb432bf61285ca7f" category="paragraph"><block ref="da6646a18f048724eb432bf61285ca7f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a85dd65f7163e587c050ea8931a368ae" category="list-text">在同一個地區部署額外的VPC、然後將Amazon FSX for NetApp ONTAP 支援VPC部署到新的VPC。</block>
  <block id="c78834afa7d24e921aa4d756d0a6409f" category="paragraph">在VMware Cloud主控台中設定SDDC群組、可提供連線至部署FSx的新VPC所需的網路組態選項。在步驟3中、確認已勾選「為您的群組設定VMware Transit Connect將會產生每個附件和資料傳輸的費用」、然後選擇「建立群組」。此程序可能需要幾分鐘的時間才能完成。</block>
  <block id="f91a2b452c63b5ccfcb4c39c2957c74e" category="paragraph"><block ref="ca83e0582a449c1b4399270025e1cc4a" category="inline-image-macro-rx" type="image"></block>
<block ref="9232dff72050e533bd1e173e5a0dd48c" category="inline-image-macro-rx" type="image"></block>
<block ref="5a108f597862e683ab9463f7c3ba6df6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fae60fbb10da5c3df46ec8ae03cd29b5" category="inline-link-macro">連接外部VPC的說明</block>
  <block id="784ad3266f853af20763bb78f5eec87a" category="list-text">將新建立的VPC附加至剛建立的SDDC群組。選取「外部VPC」索引標籤、然後遵循 <block ref="19928d01a63fe78e1303b296c2046666" category="inline-link-macro-rx"></block> 給群組。此程序可能需要10至15分鐘才能完成。</block>
  <block id="14466a85376e8776f891db4cb3c38c6c" category="paragraph"><block ref="dd1eb585a08c833cec9544c048af36b6" category="inline-image-macro-rx" type="image"></block>
<block ref="38542de5661e382aba9345fe6e5a991b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8acea1c4fcca87631ca127e2bc757f13" category="inline-link-macro">AWS Transit閘道</block>
  <block id="77508ef16874a250b66be2f90fc59918" category="list-text">在外部VPC程序中、系統會透過AWS主控台、透過資源存取管理程式提示您移至新的共用資源。共享資源是 <block ref="ccce2323414354d76e9cea0c1df9221b" category="inline-link-macro-rx"></block> 由VMware Transit Connect管理。</block>
  <block id="ac81300f843e6b91377e64a8edb819c2" category="paragraph"><block ref="63de05888c0a11205c33fd560dba3bc5" category="inline-image-macro-rx" type="image"></block>
<block ref="0455c56bd9863ddfae4079b5aabd42e0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bcf415daee6d6f894a54f025534ba071" category="list-text">建立Transit Gateway附件。</block>
  <block id="e222d36183b455bb51f289144826c239" category="paragraph"><block ref="e222d36183b455bb51f289144826c239" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5b6693c4eff7f7923c59277702b441a9" category="list-text">回到VMC主控台、接受VPC附件。完成此程序大約需要10分鐘。</block>
  <block id="64d5d06ed03c085c4f5ce23ff6eeddac" category="paragraph"><block ref="64d5d06ed03c085c4f5ce23ff6eeddac" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c9b85dc0e557eb865bfa9ae84e251623" category="list-text">在「外部VPC」索引標籤中、按一下「路由」欄中的編輯圖示、然後新增下列必要路由：</block>
  <block id="ae6434a5ebe0bad2f978fef8e0ed9efe" category="inline-link-macro">浮動IP</block>
  <block id="06651ace1eab88d681ca9a8852bf26e2" category="list-text">Amazon FSX for NetApp ONTAP 的浮動IP範圍路由 <block ref="14a98976d888daccbd07561411cfd6fa" category="inline-link-macro-rx"></block>。</block>
  <block id="5e16e681111a1a5b2dc805d69827532f" category="list-text">適用於靜態的浮動IP範圍路由Cloud Volumes ONTAP （若適用）。</block>
  <block id="efffbab523616433e2c1ea67cbcaab53" category="list-text">新建立外部VPC位址空間的路由。</block>
  <block id="daa8a39ba75e8ac01fd26d579ce35fd9" category="paragraph"><block ref="daa8a39ba75e8ac01fd26d579ce35fd9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="853349bb92eccb477b47eef3b8a5d9e2" category="inline-link-macro">防火牆規則</block>
  <block id="499ca5dd26dbcc4c89a04ac771b316a6" category="inline-link-macro">詳細步驟</block>
  <block id="14c6314f2ae331d7f9a01ac04a75cd2b" category="list-text">最後、允許雙向流量 <block ref="0756551700fd3215666355892b2f3692" category="inline-link-macro-rx"></block> 以存取FSx/CVO。請依照下列步驟操作 <block ref="583f77470215de8611ddf3fba5fc6512" category="inline-link-macro-rx"></block> 適用於SDDC工作負載連線的運算閘道防火牆規則。</block>
  <block id="098b98cba4d6766e7de663adf0fdabb0" category="paragraph"><block ref="098b98cba4d6766e7de663adf0fdabb0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0f4480b9caed7d956fd6071b4cce03b9" category="list-text">為管理和運算閘道設定防火牆群組之後、即可存取vCenter、如下所示：</block>
  <block id="f1c1b29fad3f2bdb9d8d054686b86542" category="paragraph"><block ref="f1c1b29fad3f2bdb9d8d054686b86542" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b8b86f112029b19bf6451ba4624a4090" category="paragraph">下一步是根據ONTAP 您的需求、確認Amazon FSX Sfor Cloud Volumes ONTAP 支援功能已設定完成、而且已配置磁碟區以卸載vSAN的儲存元件、以最佳化部署。</block>
  <block id="29f8b77f5f7c79b566706e0d55c9de8b" category="doc">適用於Amazon的NetApp解決方案VMware託管雲端（VMC）</block>
  <block id="ba756c1a2b93ad97a639914aae828a16" category="doc">適用於AWS VMC的NetApp功能</block>
  <block id="8658ccb747e94ac624861f5761a34716" category="inline-link-macro">在AWS中設定VMC</block>
  <block id="202373c4c91793dc8fb54647ff8a2241" category="list-text"><block ref="202373c4c91793dc8fb54647ff8a2241" category="inline-link-macro-rx"></block></block>
  <block id="e9f84da32eb512bd768458a738ed8aa6" category="inline-link-macro">適用於VMC的NetApp儲存選項</block>
  <block id="9597c351929448a6eea4162c4f4a80db" category="list-text"><block ref="9597c351929448a6eea4162c4f4a80db" category="inline-link-macro-rx"></block></block>
  <block id="63b9fbe67e7dd9b9f7623683244cb7f8" category="doc">適用於Azure AVS的NetApp功能</block>
  <block id="1f0a2077c33b91b3daaaea05c7fadc07" category="inline-link-macro">在Azure中設定AVS</block>
  <block id="9e98cd6f2c1243193cfc50a29bbe3bd4" category="list-text"><block ref="9e98cd6f2c1243193cfc50a29bbe3bd4" category="inline-link-macro-rx"></block></block>
  <block id="cdac9a2e7f1dc52240712d4a191378e8" category="inline-link-macro">適用於AVS的NetApp儲存選項</block>
  <block id="553bafb094b811158ae732981f2dbb4e" category="list-text"><block ref="553bafb094b811158ae732981f2dbb4e" category="inline-link-macro-rx"></block></block>
  <block id="7e0686a26bc7a91429819c2aeb7b414a" category="doc">適用於Azure VMware解決方案（AVS）</block>
  <block id="bb01fec2870d3f698517f8471454637b" category="doc">在Azure上部署及設定虛擬化環境</block>
  <block id="00ce356ad004b72efc4b99389b52af63" category="paragraph">如同內部部署、規劃Azure VMware解決方案對於成功建立虛擬機器和移轉的正式作業就緒環境而言、是非常重要的。</block>
  <block id="6a3b9d31df0a58cc23207c2af925ef0f" category="paragraph">若要使用Azure VMware解決方案、請先在指定的訂閱中註冊資源供應商：</block>
  <block id="58c59ab4d5d488609913efa7b1daaa31" category="list-text">登入Azure入口網站。</block>
  <block id="5d704d400396fefbe3427ee665a0ec16" category="list-text">在Azure入口網站功能表上、選取All Services（所有服務）。</block>
  <block id="eff35df9bedc80337261af1399e526a2" category="list-text">在「所有服務」對話方塊中、輸入訂閱內容、然後選取「訂閱」。</block>
  <block id="41825376d695df481d13f37e3e1587db" category="list-text">若要檢視、請從訂閱清單中選取訂閱。</block>
  <block id="4d3e5a69b8f8c0bec64cf18db73fff95" category="list-text">選取資源供應商、然後在搜尋中輸入microsoft.AVS。</block>
  <block id="2bf384915bc11a9360bdf9792dc43bf3" category="list-text">如果資源供應商尚未登錄、請選取「註冊」。</block>
  <block id="0b4b8a7bf2e1e647f3be6dde423b9b79" category="paragraph"><block ref="0b4b8a7bf2e1e647f3be6dde423b9b79" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bdb08f4992bb541aec19da4c688d0239" category="paragraph"><block ref="bdb08f4992bb541aec19da4c688d0239" category="inline-image-macro-rx" type="image"></block></block>
  <block id="382da60e8008eed186472cc1a3c3ca37" category="list-text">在資源供應商註冊之後、請使用Azure入口網站建立Azure VMware解決方案私有雲。</block>
  <block id="397065cbdc87787d17122a18f5c5088d" category="list-text">選取「Create a New Resource（建立新資源）」。</block>
  <block id="39d2b5824a6dce05a74b5a60d5769656" category="list-text">在「搜尋市場」文字方塊中、輸入Azure VMware解決方案、然後從結果中選取。</block>
  <block id="d090262ac8690f612cbc8bd5fc83b11c" category="list-text">在Azure VMware解決方案頁面上、選取建立。</block>
  <block id="4a62c7a4f3f3f4a3927621c33c12bb63" category="list-text">從「基礎」索引標籤、在欄位中輸入值、然後選取「檢閱」+「建立」。</block>
  <block id="7c1ec568c35f8a03d9cfd64b465a4e4f" category="list-text">若要快速入門、請在規劃階段收集所需資訊。</block>
  <block id="d61ffacba4094067e86b90bcf3739fcf" category="list-text">選取現有的資源群組、或為私有雲建立新的資源群組。資源群組是部署及管理Azure資源的邏輯容器。</block>
  <block id="81d6141ddb9ac3b3888dce83fbf00cf6" category="list-text">請確定CIDR位址是唯一的、且不會與其他Azure虛擬網路或內部部署網路重疊。CIDR代表私有雲端管理網路、用於叢集管理服務、例如vCenter Server和NSxT-T Manager。NetApp建議使用/22位址空間。在此範例中、使用10.21.0/22。</block>
  <block id="266811324b3ca32d24624ba571c07de8" category="paragraph"><block ref="266811324b3ca32d24624ba571c07de8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bd710e77504d5568fd5079361107a7eb" category="paragraph">資源配置程序約需4至5小時。程序完成後、請從Azure入口網站存取私有雲、確認部署是否成功。部署完成時、會顯示「成功」狀態。</block>
  <block id="411f20742da0d4f8cdc568d7aee8fab3" category="paragraph">Azure VMware解決方案私有雲需要Azure虛擬網路。由於Azure VMware解決方案不支援內部部署vCenter、因此需要採取其他步驟、才能與現有的內部部署環境整合。也需要設定ExpressRoute電路和虛擬網路閘道。等待叢集資源配置完成時、請建立新的虛擬網路、或使用現有的網路來連線至Azure VMware解決方案。</block>
  <block id="aa86eba8b2b706f81a805eb35b834541" category="paragraph"><block ref="aa86eba8b2b706f81a805eb35b834541" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ae6569fd64694b91a054cbdfdfef84d2" category="paragraph">若要建立新的Azure虛擬網路（vnet）、請選取Azure vnet Connect索引標籤。或者、您也可以使用「建立虛擬網路」精靈、從Azure入口網站手動建立一個：</block>
  <block id="34b04201ae997eaabb6802b04d5c1708" category="list-text">前往Azure VMware解決方案私有雲、並在「Manage（管理）」選項下存取「Connectivity（連線能力）」。</block>
  <block id="da40ae630b63a930be4e1230efc306e1" category="list-text">選取Azure Vnet Connect。</block>
  <block id="40292c219898a1253befc6301234575a" category="list-text">若要建立新的vnet、請選取「Create New」（建立新的）選項。</block>
  <block id="f98e10d9ba9ac83ac2adeacde774d051" category="paragraph">此功能可讓Vnet連線至Azure VMware解決方案私有雲。vnet可自動建立所需元件（例如跳接箱、Azure NetApp Files 共享服務（例如：VMware、VMware、Cloud Volume ONTAP 等）、並透過ExpressRoute建立在Azure VMware解決方案中的私有雲、藉此在虛擬網路中的工作負載之間進行通訊。</block>
  <block id="0314a97a9eb0aae73531717ef45ad195" category="paragraph">*附註：* vnet位址空間不應與私有雲端CIDR重疊。</block>
  <block id="5f6ec3e9d299a1b94aaeb9b0e13b1071" category="paragraph"><block ref="5f6ec3e9d299a1b94aaeb9b0e13b1071" category="inline-image-macro-rx" type="image"></block></block>
  <block id="206843027dd7ebe90f425f9ee4765a01" category="list-text">提供或更新新vnet的資訊、然後選取「確定」。</block>
  <block id="26c6d54522f3fd79684f463116e9634b" category="paragraph"><block ref="26c6d54522f3fd79684f463116e9634b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="027524e66bad6099279342bf8d8f6dd4" category="paragraph">提供位址範圍和閘道子網路的vnet會建立在指定的訂閱和資源群組中。</block>
  <block id="5ecf2fb7501138eaa14be97a59d2a773" category="inline-link-macro">在Azure中設定VMware私有雲端的網路功能</block>
  <block id="5da6ff60860f48de7bb7f4467c28f26f" category="admonition">如果您手動建立vnet、請建立一個虛擬網路閘道、並以適當的SKU和ExpressRoute做為閘道類型。部署完成後、請使用授權金鑰、將ExpressRoute連線連接至內含Azure VMware Solution私有雲的虛擬網路閘道。如需詳細資訊、請參閱 <block ref="4807c1aea8c93bde3104bd4ecfa22a07" category="inline-link-macro-rx"></block>。</block>
  <block id="5c2d9a62bb25b00981f59e22e27bfd17" category="section-title">驗證網路連線及存取Azure VMware解決方案私有雲的能力</block>
  <block id="40228f700f5965975e4aff8c6c2ff4b3" category="paragraph">Azure VMware解決方案不允許您使用內部部署的VMware vCenter來管理私有雲。而是需要跨接主機才能連線至Azure VMware Solution vCenter執行個體。在指定的資源群組中建立跳接主機、然後登入Azure VMware Solution vCenter。這台跨接主機應該是在為連線所建立的同一個虛擬網路上的Windows VM、並應提供vCenter和NSX Manager的存取權。</block>
  <block id="d88c36b93ae5dcb2646d56c57f27bf0e" category="paragraph"><block ref="d88c36b93ae5dcb2646d56c57f27bf0e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="44f5524c6ac4144dbabf7a4d365b837b" category="paragraph">虛擬機器佈建完成後、請使用「Connect（連線）」選項來存取RDP。</block>
  <block id="443f53614721177f7c44df93d426a919" category="paragraph"><block ref="443f53614721177f7c44df93d426a919" category="inline-image-macro-rx" type="image"></block></block>
  <block id="36cb4e54805ffde727ffbc809183608e" category="paragraph">使用Cloud admin使用者、從這個新建立的跨接主機虛擬機器登入vCenter。若要存取認證資料、請前往Azure入口網站並瀏覽至Identity（位於私有雲端的「Manage（管理）」選項下）。您可以從這裡複製私有雲端vCenter和NSX T Manager的URL和使用者認證資料。</block>
  <block id="9620acd59a8e7ad0f318754391c40c4e" category="paragraph"><block ref="9620acd59a8e7ad0f318754391c40c4e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="73d88630b730fa00c46338a0aef4c2d3" category="paragraph">在Windows虛擬機器中、開啟瀏覽器並瀏覽至vCenter Web用戶端URL <block ref="2db127a24dc88638a76677b404bda5a4" category="inline-link-rx"></block> 並使用管理使用者名稱* cloudadmin@vple.1l*、然後貼上複製的密碼。同樣地、您也可以使用Web用戶端URL來存取NSxT-T Manager <block ref="bb142e18a679100de3817fcefaa25b07" category="inline-link-rx"></block> 並使用管理使用者名稱貼上複製的密碼、以建立新區段或修改現有的層級閘道。</block>
  <block id="4a6e0ba5b4d42fb0f658bdfdbbea32fc" category="admonition">每個已配置SDDC的Web用戶端URL各不相同。</block>
  <block id="49848931415b32db238a2dd1daddf3a7" category="paragraph"><block ref="49848931415b32db238a2dd1daddf3a7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="87f65f698ac6bac1ada03193e1cdabb8" category="paragraph"><block ref="87f65f698ac6bac1ada03193e1cdabb8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ec3eeb836273dbc92b27ce718a90b212" category="inline-link-macro">Azure VMware解決方案的對等內部部署環境</block>
  <block id="097529edf2feb9ed1237427eaa3b2599" category="paragraph">Azure VMware解決方案SDDC現在已完成部署與設定。善用ExpressRoute Global Reach、將內部部署環境連接至Azure VMware解決方案私有雲。如需詳細資訊、請參閱 <block ref="29749340a5d7bf5df1867a3f2d2723a1" category="inline-link-macro-rx"></block>。</block>
  <block id="a724b4fc4c5f79672a5c572466d5e001" category="doc">適用於Azure的NetApp來賓連線儲存設備選項</block>
  <block id="f43b203ec7020e7ea0e408d9d67255fc" category="section-title">使用Azure NetApp Files Azure VMware解決方案（AVS）設定功能</block>
  <block id="f9a184882060f3e5a8b6045e2a53107f" category="paragraph">您可以從Azure VMware解決方案SDDC環境中建立的VM掛載支援資料共享。Azure NetApp Files由於Azure NetApp Files 支援SMB和NFS傳輸協定、因此也可以在Linux用戶端上掛載磁碟區並對應至Windows用戶端。只需五個簡單步驟即可設定各個資料區。Azure NetApp Files</block>
  <block id="5bb6f16c69df9b9f54bddaaa5e32b415" category="paragraph">VMware解決方案的VMware解決方案必須位於同一個Azure地區。Azure NetApp Files</block>
  <block id="8c8b1c25fd4bcb4102a3a834f721ec3e" category="section-title">建立及掛載Azure NetApp Files 功能</block>
  <block id="763b2af90e10e00124392e31d5792be5" category="paragraph">若要建立及掛載Azure NetApp Files 此功能、請完成下列步驟：</block>
  <block id="e56fb44cec3cde26b63f919055458c3a" category="list-text">登入Azure Portal並存取Azure NetApp Files 功能。使用Azure NetApp Files _AZ供應商Register --namespace_–wait_命令來驗證對該服務的存取權、並登錄Azure NetApp Files 該資源供應商。Microsoft.NetApp註冊完成後、請建立NetApp帳戶。</block>
  <block id="792c2610bbb56b5803bae91a54f34f51" category="inline-link-macro">共享Azure NetApp Files</block>
  <block id="a7ad1b2194256789e815facefa65206d" category="paragraph">如需詳細步驟、請參閱 <block ref="8dd8f38a60f74263b1cf35e18285061e" category="inline-link-macro-rx"></block>。本頁將引導您逐步完成程序。</block>
  <block id="710954ec785b2a7f67c2ef1c3f2f9d19" category="paragraph"><block ref="710954ec785b2a7f67c2ef1c3f2f9d19" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fe57bd1c78e967b463574e3089a42968" category="list-text">建立NetApp帳戶之後、請使用所需的服務層級和大小來設定容量資源池。</block>
  <block id="3928a91ce2a9b26c809bec745d6b9daf" category="paragraph">如需詳細資訊、請參閱 <block ref="e7281cc99a6c9a39d5a16325a46f1f7c" category="inline-link-macro-rx"></block>。</block>
  <block id="7ffd44a691267afdf7cc1178ab6115f8" category="paragraph"><block ref="7ffd44a691267afdf7cc1178ab6115f8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="42e9b5ee697da49886fd18e89e6ab1af" category="inline-link-macro">將子網路委派Azure NetApp Files 給</block>
  <block id="ee13d45546639cd210b35ce3665b6885" category="list-text">設定委派的子網路Azure NetApp Files 以供使用、並在建立磁碟區時指定此子網路。如需建立委派子網路的詳細步驟、請參閱 <block ref="ad52de6b143679c946d36f9e4248f40c" category="inline-link-macro-rx"></block>。</block>
  <block id="70a08a2f18d96817bf63302571e62634" category="paragraph"><block ref="70a08a2f18d96817bf63302571e62634" category="inline-image-macro-rx" type="image"></block></block>
  <block id="96501b128e8ffab4b107cd6ffa7da649" category="list-text">使用容量集區刀鋒下的Volume刀鋒來新增SMB Volume。在建立SMB磁碟區之前、請先確認已設定Active Directory連接器。</block>
  <block id="f676bcdffa60a69ff49ba9ffdbb2b912" category="paragraph"><block ref="f676bcdffa60a69ff49ba9ffdbb2b912" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d9095b4995e678294045e2a1501d1db3" category="list-text">按一下「Review + Create（檢閱+建立）」以建立SMB Volume。</block>
  <block id="e48925dc65abf32faa19c5d430cf6d6d" category="paragraph">如果應用程式是SQL Server、則啟用SMB持續可用度。</block>
  <block id="be1613efbff068fd23ee511fe4e6dc51" category="paragraph"><block ref="be1613efbff068fd23ee511fe4e6dc51" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b2b999c81e324f553ec9720c334325ee" category="paragraph"><block ref="b2b999c81e324f553ec9720c334325ee" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fe5eed95829ff2b525461ee72a9f3f23" category="inline-link-macro">效能考量Azure NetApp Files</block>
  <block id="2c5ce17dd48f2551465b828065fd8300" category="paragraph">如需深入瞭Azure NetApp Files 解根據大小或配額而提供的效能、請參閱 <block ref="ffec162f488d413e68dfe18d328e177e" category="inline-link-macro-rx"></block>。</block>
  <block id="bef7cec065f33ededdd1b50d74800b72" category="list-text">連線到位後、即可掛載磁碟區並用於應用程式資料。</block>
  <block id="8b3c17098d0d024937d60849b3bd8edb" category="paragraph">若要完成此作業、請從Azure入口網站按一下Volumes刀鋒、然後選取要掛載的磁碟區、並存取掛載指示。複製路徑、然後使用「對應網路磁碟機」選項、將磁碟區掛載到執行Azure VMware Solution SDDC的VM上。</block>
  <block id="413fcfe1d831f95cd95f8f3bb9030eec" category="paragraph"><block ref="413fcfe1d831f95cd95f8f3bb9030eec" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e50c675280580c3249f58f2f3eefdb86" category="paragraph"><block ref="e50c675280580c3249f58f2f3eefdb86" category="inline-image-macro-rx" type="image"></block></block>
  <block id="13c8bc9575bbdc3a8a30021320abbd69" category="list-text">若要在Azure VMware Solution SDDC上執行的Linux VM上掛載NFS Volume、請使用相同的程序。使用Volume重新塑造或動態服務層級功能來滿足工作負載需求。</block>
  <block id="ff817c6ff423e680ddf0a8398efdfb5a" category="paragraph"><block ref="ff817c6ff423e680ddf0a8398efdfb5a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="da94ac228f6efdf07fe7e43b1441faf2" category="paragraph">如需詳細資訊、請參閱 <block ref="ea07f7f3cbdf3d62072fbe16546616d3" category="inline-link-macro-rx"></block>。</block>
  <block id="1d583a1a8ff1ca8ae3360c7e33ecd984" category="section-title">在Cloud Volumes ONTAP Azure中部署全新的功能</block>
  <block id="ed1019c297fadb83e87437230788320c" category="paragraph">您可以從Azure VMware解決方案SDDC環境中建立的VM掛載支援資源和LUN。Cloud Volumes ONTAP由於Cloud Volumes ONTAP 支援iSCSI、SMB及NFS傳輸協定、所以也可在Linux用戶端和Windows用戶端上掛載這些磁碟區。只需幾個簡單步驟、即可設定各個資料區。Cloud Volumes ONTAP</block>
  <block id="e9cac40069a313b824541cda06c18a06" category="paragraph">若要將磁碟區從內部部署環境複寫至雲端以進行災難恢復或移轉、請使用站台對站台VPN或ExpressRoute、建立與Azure的網路連線。將內部部署的資料複寫到Cloud Volumes ONTAP 內部部署的不適用範圍。若要在內部部署Cloud Volumes ONTAP 和不間斷系統之間複寫資料、請參閱 <block ref="79828109910805ccc09752d766afaae3" category="inline-link-macro-rx"></block>。</block>
  <block id="1563f27024f7b2b0a96be687f878206d" category="paragraph"><block ref="1563f27024f7b2b0a96be687f878206d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5f067fbf4a3196796318f7e878eaa2a3" category="list-text">在Cloud Manager首頁上、按一下「Add a Working Environment（新增工作環境）」、然後選取「Microsoft Azure」做為雲端和系統組態類型。</block>
  <block id="e59c8066b7736d6ede98e2b57d619b60" category="paragraph"><block ref="e59c8066b7736d6ede98e2b57d619b60" category="inline-image-macro-rx" type="image"></block></block>
  <block id="21568dd1e2a5acafeee9d119cd012876" category="list-text">建立第一個Cloud Volumes ONTAP 運作環境時、Cloud Manager會提示您部署Connector。</block>
  <block id="4c3665ca095a8a103c69fac1ac46fb59" category="paragraph"><block ref="4c3665ca095a8a103c69fac1ac46fb59" category="inline-image-macro-rx" type="image"></block></block>
  <block id="54ae357a0d5e74ebab86e52641490fc0" category="list-text">建立連接器之後、請更新詳細資料和認證欄位。</block>
  <block id="9b971596a6ee599483fd04c84d2ce18d" category="paragraph"><block ref="9b971596a6ee599483fd04c84d2ce18d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cf5341803b0061ef190495343f39fa02" category="list-text">提供要建立的環境詳細資料、包括環境名稱和管理員認證資料。將Azure環境的資源群組標記新增為選用參數。完成後、按一下「Continue（繼續）」。</block>
  <block id="350a5c2219e5e14fd23dda8372344842" category="paragraph"><block ref="350a5c2219e5e14fd23dda8372344842" category="inline-image-macro-rx" type="image"></block></block>
  <block id="360a69a0b184770c2409949f2c7e1140" category="list-text">選擇Cloud Volumes ONTAP 用於進行支援的附加服務、包括Cloud Data Sense、Cloud Backup和Cloud Insights 效益。選取服務、然後按一下「Continue（繼續）」。</block>
  <block id="11728d9ffc9e6944adf4891d5543e154" category="paragraph"><block ref="11728d9ffc9e6944adf4891d5543e154" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ee060e03da823e605453fbfa27743d77" category="list-text">設定Azure位置和連線能力。選取要使用的Azure區域、資源群組、vnet和子網路。</block>
  <block id="4549d76a3daf0d322686b6d4f6fb1490" category="paragraph"><block ref="4549d76a3daf0d322686b6d4f6fb1490" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d1c88093dde70f0165ade30b74c908ad" category="list-text">選取使用許可選項：「隨用隨付」或「BYOL」以使用現有的授權。在此範例中、會使用隨用隨付選項。</block>
  <block id="10085b1c84507f0da366d741a248d728" category="paragraph"><block ref="10085b1c84507f0da366d741a248d728" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b2c782d387cdd1de07d0119c2794edc8" category="list-text">針對各種工作負載類型、可在多個預先設定的套件之間進行選擇。</block>
  <block id="942b902e3715b75e8e6257349bbe93ff" category="paragraph"><block ref="942b902e3715b75e8e6257349bbe93ff" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4c7055bfbaac9b0236d0bedccfb616d0" category="list-text">接受兩項有關啟動Azure資源支援與配置的協議。若要建立Cloud Volumes ONTAP 此解決方案、請按一下「Go（執行）」。</block>
  <block id="c19dadb8117ac0d88e543accbb1c1096" category="paragraph"><block ref="c19dadb8117ac0d88e543accbb1c1096" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b6bb322a7578acfb8670b3ce8bc96fc9" category="paragraph"><block ref="b6bb322a7578acfb8670b3ce8bc96fc9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="02cbbc24385dbe83fb42a1bd0c5668da" category="paragraph"><block ref="02cbbc24385dbe83fb42a1bd0c5668da" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d923f79d8112841c7df8503e86f0af4a" category="list-text">建立SMB Volume是一項簡單的程序。選取CVO執行個體以建立磁碟區、然後按一下Create Volume（建立磁碟區）選項。選擇適當的大小、然後由Cloud Manager選擇內含的Aggregate、或使用進階分配機制將其放置在特定的Aggregate上。在此示範中、SMB被選取為傳輸協定。</block>
  <block id="a74d409c32c4bc504768c6a7607fc409" category="paragraph"><block ref="a74d409c32c4bc504768c6a7607fc409" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8923d310a6b50c677ed6f68410181b46" category="paragraph"><block ref="8923d310a6b50c677ed6f68410181b46" category="inline-image-macro-rx" type="image"></block></block>
  <block id="776a8d832701253eb40b056e68086fcd" category="list-text">建立磁碟區之後、請使用mount命令、從Azure VMware Solution SDDC主機上執行的VM連線至共用區。</block>
  <block id="70307f46aa9c37929516c971f3445caa" category="list-text">複製下列路徑、然後使用「對應網路磁碟機」選項將磁碟區掛載到執行Azure VMware Solution SDDC的VM上。</block>
  <block id="3c58ffcc5a8ac9d8c78ea0f2d5e3ecb0" category="paragraph"><block ref="3c58ffcc5a8ac9d8c78ea0f2d5e3ecb0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1d1f50043685559ea05d7c21ae5a6d8a" category="paragraph"><block ref="1d1f50043685559ea05d7c21ae5a6d8a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2e7b38e3108ed39835e616f3a8eef4d9" category="paragraph">若要將LUN連線至主機、請完成下列步驟：</block>
  <block id="06fcf6729491b5106094916e154fb565" category="paragraph"><block ref="06fcf6729491b5106094916e154fb565" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7af0094f03c81886be499600b8563647" category="paragraph">若要針對駐留在Azure VMware Solution SDDC上的主機達成相同目標：</block>
  <block id="640e587a72f6b61dc8d20a6de477db96" category="list-text">將RDP移至Azure VMware Solution SDDC上裝載的VM。</block>
  <block id="2d5b864b177738fa7a03f083ae03d2a3" category="paragraph">*附註：* Windows主機必須與叢集中的每個節點建立iSCSI連線。原生DSM會選取最佳路徑。</block>
  <block id="829bd9f13853ee7a86f5805c316df650" category="paragraph"><block ref="829bd9f13853ee7a86f5805c316df650" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d378c726809748df2090ec116c7232b4" category="paragraph"><block ref="d378c726809748df2090ec116c7232b4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6b3a58a7b9961d5d214b65da735d2f89" category="list-text">依照精靈中的指示進行。在此範例中、磁碟機E：已掛載</block>
  <block id="586f9ee0f7d5544a894ea05b9df312d7" category="paragraph"><block ref="586f9ee0f7d5544a894ea05b9df312d7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6ff716a75c3423262418c90aad971f10" category="paragraph"><block ref="6ff716a75c3423262418c90aad971f10" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ddf97b6ffb913bd772848e3ebecfc8c1" category="summary">本節涵蓋NetApp XCP資料傳輸的部署步驟。</block>
  <block id="8388066510b59c8d3387373b6969a7af" category="doc">部署步驟</block>
  <block id="c6310b144c1666a29ec7cacf1c0dceab" category="inline-link-macro">上一篇：檔案分析。</block>
  <block id="57c4917a0617c8b675e6cc1dbad5c7fe" category="paragraph"><block ref="57c4917a0617c8b675e6cc1dbad5c7fe" category="inline-link-macro-rx"></block></block>
  <block id="8449c94058b7c2e686c3e19f7e772a65" category="section-title">測試病床詳細資料</block>
  <block id="94cb70bde9d89f0b10ffdca34b0bec22" category="paragraph">下表提供用於此部署和效能驗證的測試台詳細資料。</block>
  <block id="57419d904381619fcf00bc94e4ce26f1" category="cell">XCP 1.7版</block>
  <block id="0bf2dca8ce9b94406660e58b59a3dbbd" category="list-text">一部Linux伺服器- Linux（RHEL 7.9或RHEL 8）</block>
  <block id="d85d793ce9fe1772209fa5e17fb29449" category="list-text">一台Windows伺服器–Windows Server 2019標準</block>
  <block id="91ea491db15b6d672d79b23fb98eb089" category="cell">適用於AFF 來源Volume的NetApp解決方案：儲存陣列HA配對</block>
  <block id="23ec9249d03285a513eaaf182a7bcd49" category="list-text">AFF8080</block>
  <block id="80fdc6d88149270be735269f2ff65645" category="cell">適用於目的地Volume的NetApp AFF 解決方案儲存陣列HA配對</block>
  <block id="203165a49e3a391bdbc44e3a05d54279" category="list-text">功能9. ONTAP</block>
  <block id="28712ee052ea500eba0cdbb1d847277f" category="cell">Fujitsu PRIMERGY RX2540伺服器</block>
  <block id="539c5af1c2682685cd076697aaa6c700" category="cell">每個配備：* 48個CPU * Intel Xeon * 256GB實體記憶體* 10GbE雙埠</block>
  <block id="0cc5c79089d6ca0752529568758efc4c" category="cell">10GbE</block>
  <block id="76e3e2a4e56301dafc50613d96fd624e" category="section-title">部署步驟- NAS</block>
  <block id="2879e817640f94636340918850eb6903" category="inline-link">NetApp XCP使用者指南</block>
  <block id="f2dd54ec57ec5464ee3aa191a48a8a43" category="paragraph">若要部署NetApp XCP以進行資料傳輸、請先在目的地位置安裝並啟動XCP軟體。您可以檢閱中的詳細資料<block ref="ae77d8ba86ab9e3027c314c6b4922595" category="inline-link-rx"></block>。若要這麼做、請完成下列步驟：</block>
  <block id="62e9f0426675b856daf874c75830c213" category="inline-link-macro">「XCP的先決條件」。</block>
  <block id="4f6583b152ef684b4492414bcdcdf877" category="list-text">符合一節中詳述的先決條件 <block ref="958d961a425946e5195ca036cea97fab" category="inline-link-macro-rx"></block></block>
  <block id="c58c8903e33903d2e630277aa3a78795" category="inline-link">NetApp XCP（下載）頁面</block>
  <block id="2d1acef34bb45f2c1878c6b576f3b400" category="list-text">從下載XCP軟體<block ref="13844fc5dba1627d28169d2acfff11e2" category="inline-link-rx"></block>。</block>
  <block id="8319752fe43598ddb329e536217c1cb5" category="list-text">將下載的XCP tar檔案複製到XCP伺服器。</block>
  <block id="c9b8e059d1597eaead43d286e91c91e3" category="list-text">解壓縮tar檔案。</block>
  <block id="9f2a2420f596ae9cccb1b900cd8ee187" category="inline-link"><block ref="9f2a2420f596ae9cccb1b900cd8ee187" category="inline-link-rx"></block></block>
  <block id="19f1deecf23a78878eb01c772b9233e0" category="list-text">請從下載授權<block ref="4da39fde529d1b69f60873c302229eed" category="inline-link-rx"></block> 並複製到XCP伺服器。</block>
  <block id="3df11515e644382207c1430c36ea48bb" category="list-text">啟動授權。</block>
  <block id="ad7984249c2054b4da5fd3b57b1b91ef" category="list-text">尋找來源NFS連接埠和目的地NFS伺服器。預設連接埠為2049。</block>
  <block id="79fe861b8c719b1a534bdbcace1444a2" category="list-text">檢查NFS連線。使用到NFS伺服器連接埠的telnet檢查NFS伺服器（無論是來源伺服器或目的地）。</block>
  <block id="5e471de79dbe02105770bcf04bc501d5" category="list-text">設定目錄。</block>
  <block id="67005679d502da10622f2104421e894b" category="list-text">建立NFS Volume並匯出XCP目錄的NFS。您也可以利用作業系統的NFS匯出功能來進行XCP目錄。</block>
  <block id="d6f2a18783592d1858e3e5bdcabd4567" category="list-text">檢查NFS匯出。</block>
  <block id="39b638480b201a7448774e8186012e4e" category="list-text">更新：xcp.ini`。</block>
  <block id="9d44d1309af47903754b16c403f68774" category="list-text">使用「XCP show」尋找來源NAS匯出。尋找：</block>
  <block id="fbff9a42f0ba33571594cb39da93ef4b" category="list-text">（選用）掃描來源NAS資料。</block>
  <block id="82d1938e7390e37babdea8d6fd359156" category="paragraph">掃描來源NAS資料有助於瞭解資料配置、並找出任何可能的移轉問題。XCP掃描作業時間與檔案數量和目錄深度成比例。如果您熟悉NAS資料、可以跳過此步驟。</block>
  <block id="c6e94e11da5ba5bce0f27b8c782e4110" category="list-text">檢查由「XCP掃描」建立的報告。主要搜尋無法讀取的資料夾和無法讀取的檔案。</block>
  <block id="6a6a10773cfc849f638ac0137a5f08d6" category="list-text">（選用）變更inode。檢視inode數量、並根據要移轉或複製的檔案數量、修改目錄和目的地磁碟區的數量（如有需要）。</block>
  <block id="342779baf0b15fdf377f142c987e896a" category="list-text">掃描目的地Volume。</block>
  <block id="a88831977a2b62e982b722f6fa6662b5" category="list-text">檢查來源與目的地磁碟區空間。</block>
  <block id="4b14d92fd07932987cf7416eb7f604ca" category="list-text">使用「XCP COPY」將資料從來源複製到目的地、然後檢查摘要。</block>
  <block id="506aae448569ed08125f41ed940eb00b" category="admonition">根據預設、XCP會建立七個平行處理程序來複製資料。這是可以調整的。</block>
  <block id="5c46a2da3e6e0423829946fe877c50b8" category="admonition">NetApp建議將來源Volume設定為唯讀。即時而言、來源Volume是即時且作用中的檔案系統。「XCP複製」作業可能會失敗、因為NetApp XCP不支援應用程式持續變更的即時來源。</block>
  <block id="0f7dbc07af0b5c3ba51ff604b81ebe8a" category="paragraph">對於Linux、XCP需要索引ID、因為XCP Linux會執行目錄分類。</block>
  <block id="764363dd147880ab6aca242a0417562e" category="list-text">（可選）檢查目標NetApp捲上的inode。</block>
  <block id="ab3ba5fb62db279b7d07bac650a6c2d2" category="list-text">使用「XCP同步」執行遞增更新。</block>
  <block id="6cdfbe571ba2209e0a76f3bcabfee9f6" category="paragraph">對於本文來說、為了模擬即時、來源資料中的一百萬個檔案已重新命名、然後使用「XCP同步」將更新的檔案複製到目的地。對於Windows、XCP需要來源和目的地路徑。</block>
  <block id="13475b4ca9a916769b9d63f4fddfa18d" category="list-text">驗證資料傳輸。您可以使用「XCP驗證」來驗證來源和目的地是否擁有相同的資料。</block>
  <block id="1cd06f171a5a99926a67bd673014f765" category="paragraph">XCP文件針對「shcan」、「copy」、「Sync」和「驗證」作業提供多種選項（例如）。如需詳細資訊、請參閱<block ref="ae77d8ba86ab9e3027c314c6b4922595" category="inline-link-rx"></block>。</block>
  <block id="efa146517859e051c07fabac4c88d3e7" category="admonition">Windows客戶應該使用存取控制清單（ACL）來複製資料。NetApp建議使用命令「XCP copy -ACL -fallbackuser\&lt;使用者名稱&gt;-fallbackGroup\&lt;使用者名稱或群組名稱&gt;&lt;來源&gt;&lt;目的地&gt;」。為了發揮最大效能、考慮到來源磁碟區具有含ACL的SMB資料、以及NFS和SMB可存取的資料、目標必須是NTFS磁碟區。使用XCP（NFS版本）、從Linux伺服器複製資料、然後從Windows伺服器執行XCP（SMB版本）同步、使用「-ACL」和「-nocdata」選項、將ACL從來源資料複製到目標SMB資料。</block>
  <block id="85760de676a9f74f28f26115c39c9a0b" category="inline-link">設定「管理稽核與安全性記錄」原則</block>
  <block id="a0251b301ad566d86ffa3916c5510295" category="paragraph">如需詳細步驟、請參閱<block ref="06fdba77988da3047baf401e4fdefca5" category="inline-link-rx"></block>。</block>
  <block id="0957326f089aaf98a5b7b9110a2675cd" category="section-title">部署步驟- HDFS/MapRFS資料移轉</block>
  <block id="1f43fc63f63aad0b707e06b0753182a1" category="paragraph">在本節中、我們將討論稱為Hadoop Filesystem Data Transfer to NAS的新XCP功能、此功能可將資料從HDFS/MapRFS移轉至NFS、反之亦然。</block>
  <block id="368666825ffae5710ab122fb63937cee" category="paragraph">對於MapRFS/HDFS功能、您必須在非root使用者環境中執行下列程序。通常、非root使用者是HDFS、MapR、或是有權變更HDFS和MapRFS檔案系統的使用者。</block>
  <block id="9adbc05b1436b3e8962253577f1e6441" category="list-text">在CLI或使用者的.bashrc檔案中設定CLASSPATH、Hadoop主目錄、NHDFs_libjvm_path、LB_LIB_LIBHDFs_path變數、以及「XCP」命令。</block>
  <block id="2a0eda7a7937e303f9e18a57a033fcb8" category="list-text">NHDFs_LIBHDFs_path指向libhdfs.so檔案。此檔案提供HDFS API、可將HDFS/MapRFS檔案和檔案系統做為Hadoop發佈的一部分進行互動和操作。</block>
  <block id="13682a0461e750a2dfb4e86c2ddc1165" category="list-text">NHDFS_libjvm_path指向libjvm.so檔案。這是位於JRE位置的共享Java虛擬機器程式庫。</block>
  <block id="60ce276a5dde3f2d2e92b1986a2eb339" category="list-text">類路徑使用（Hadoop classpaths–globb）值指向所有Jar檔案。</block>
  <block id="84cbf778b2572cae5eba01d0ca330078" category="list-text">LD_LIBRARY_路徑 指向Hadoop原生程式庫資料夾位置。</block>
  <block id="68207eb9f168add2309e88b5223d57c6" category="paragraph">請參閱下列以Cloudera叢集為基礎的範例。</block>
  <block id="91328810a5559a740f522f4c5a1da5f1" category="paragraph">在此版本中、我們支援XCP掃描、複製及驗證從HDFS移轉至NFS的作業和資料移轉。您可以從資料湖叢集的單一工作節點和多個工作節點傳輸資料。在1.8版中、root和非root使用者可以執行資料移轉。</block>
  <block id="dee4c2c7e685015e9f3cc1ad197f3ab5" category="section-title">部署步驟-非root使用者將HDFS/MaprFS資料移轉至NetApp NFS</block>
  <block id="5983f77acc016b8138698b32b0ab0405" category="list-text">請依照「部署步驟」一節中的步驟1至9中所述的相同步驟進行。</block>
  <block id="c2765e27844a39bfc897cb964eec8711" category="list-text">在下列範例中、使用者會將資料從HDFS移轉至NFS。</block>
  <block id="e6f549e8013d1f24b8756cd11ff3083e" category="list-text">在HDFS中建立資料夾和檔案（使用「Hadoop FS -copyFromLocal」）。</block>
  <block id="2433ce85404dd68893a2e4abb99843e4" category="list-text">檢查HDFS資料夾中的權限。</block>
  <block id="befab6065ddb441f0b260ac75a8e84c8" category="list-text">在NFS中建立資料夾並檢查權限。</block>
  <block id="02341ea695e862c3a2d89461b1b8bf37" category="list-text">使用XCP將檔案從HDFS複製到NFS、然後檢查權限。</block>
  <block id="d2bac014bbd39f6954893239102c5678" category="inline-link-macro">下一步：規模調整準則。</block>
  <block id="b49cd7fb5a227da1698c527804f31bbb" category="paragraph"><block ref="b49cd7fb5a227da1698c527804f31bbb" category="inline-link-macro-rx"></block></block>
  <block id="945407c0c602d0c34ead1ebb5427a84b" category="summary">我們使用NetApp XCP將資料從GPFS移轉至NFS、以便GPU處理資料。AI通常會處理來自網路檔案系統的資料。</block>
  <block id="1f797a3a419cdffd442fc4b662974908" category="doc">將高效能運算技術整ONTAP 合至VMware NFS</block>
  <block id="95160fc4cfa09139af600f92561c7ef9" category="inline-link-macro">上一篇：資料湖到ONTAP 不再是NFS。</block>
  <block id="9d82d327cabd66bd4cccb55cb5ed28ec" category="paragraph"><block ref="9d82d327cabd66bd4cccb55cb5ed28ec" category="inline-link-macro-rx"></block></block>
  <block id="a4a4d9553ba807d3f28f8f25ea56cfec" category="paragraph">此使用案例是根據現場組織的要求而設計。部分NetApp客戶的資料位於高效能運算環境中、可針對訓練模式提供資料分析、讓研究組織深入瞭解並瞭解大量的數位資料。NetApp現場工程師需要詳細的程序、才能從IBM的GPFS擷取資料至NFS。我們使用NetApp XCP將資料從GPFS移轉至NFS、以便GPU處理資料。AI通常會處理來自網路檔案系統的資料。</block>
  <block id="409f476aa8c516a92f8d6a42e21db5a0" category="inline-link">使用XCP將資料從資料湖和高效能運算移至ONTAP 支援NFS</block>
  <block id="0ce008ed1a75e69e9f21d1ad29ed23dd" category="paragraph">如需ONTAP 有關高效能運算至Suse NFS的使用案例、錄製的示範和測試結果的詳細資訊、請參閱<block ref="c5fcc47a7dd315afaa32fcdac46ffd7d" category="inline-link-rx"></block> 部落格：</block>
  <block id="6cef4abedb8153458ee404a47b193489" category="inline-link">TR-4732：Big Data Analytics Data to Artificial Intelligence</block>
  <block id="fb64727a5df67d0ceff6f0a11b531ab5" category="paragraph">如需ONTAP 使用NetApp XCP將MapR-FS資料移至Rse-NFS的詳細步驟、請參閱附錄A：GPFS移至NFS—中的詳細步驟<block ref="e760c508aca9c545c45aba81e95e5593" category="inline-link-rx"></block>。</block>
  <block id="1b5c563b4edac6a7e8566fac62f90b34" category="inline-link-macro">接下來：使用XCP Data Mover將數百萬個小型檔案移轉至彈性儲存設備。</block>
  <block id="0461d449643091f3bbb27cfbb215c6f2" category="paragraph"><block ref="0461d449643091f3bbb27cfbb215c6f2" category="inline-link-macro-rx"></block></block>
  <block id="b25f76deff236f93a3afa73c8a5b2a2c" category="summary">此使用案例是以NetApp最大的旅遊業客戶為基礎、將數百萬個小型原生檔案移轉至雲端。</block>
  <block id="4b1739353c6d18cea69ed6a274b7135f" category="doc">使用XCP Data Mover將數百萬個小型檔案移轉至彈性儲存設備</block>
  <block id="2b2142a0bf2476846ad59f7952380ca1" category="inline-link-macro">上一篇：ONTAP 將高效能運算技術應用到VMware NFS。</block>
  <block id="c81efa558deea51a126490ba8d09b59a" category="paragraph"><block ref="c81efa558deea51a126490ba8d09b59a" category="inline-link-macro-rx"></block></block>
  <block id="bb29cc4e9e4447f7bad1e81c1c5a9a1f" category="paragraph">此使用案例是以最大的NetApp旅遊業客戶為基礎、用於內部部署至雲端資料移轉。由於COVID-19降低了旅遊業的需求、因此客戶想要在內部部署環境中為需求定價應用程式節省高階儲存設備的資本支出。這家客戶擁有緊密的SLA、可將數百萬個小型檔案移轉至雲端。</block>
  <block id="81ec900a5387f7a686d1451adaddf399" category="paragraph">下圖說明Azure NetApp Files 小型檔案從內部部署移轉至原地的資料。</block>
  <block id="214c5e9894032cde0e65b576e32294b9" category="paragraph"><block ref="214c5e9894032cde0e65b576e32294b9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="099a60093e7de3795f557974125ce82b" category="inline-link">NetApp XCP Data Mover解決方案：從內部部署到雲端</block>
  <block id="50d4edabefc40ad9614b567197696a2e" category="paragraph">如需詳細資訊、請參閱<block ref="2c0eb3741003532ef113837d4b882a9a" category="inline-link-rx"></block> 部落格：</block>
  <block id="3242fe890cd89c89373a1bd576cef03a" category="inline-link-macro">接下來：使用XCP Data Mover移轉大型檔案。</block>
  <block id="c32441c7755c153b58450a597193448b" category="paragraph"><block ref="c32441c7755c153b58450a597193448b" category="inline-link-macro-rx"></block></block>
  <block id="89bddd14a9f02aeace6d5ffadf25e4f3" category="summary">本文件提供NetApp XCP最佳實務準則和測試案例型解決方案。這些最佳實務做法涵蓋內部部署的移轉工作流程、以及XCP的雲端、檔案系統分析、疑難排解和效能調校。</block>
  <block id="e7b1326bcbbf0b5513213b2373b5721a" category="doc">TR-4863：NetApp XCP最佳實務準則：資料移轉、檔案移轉及分析</block>
  <block id="88d20f11fbf1788b5271fcc5d5297a41" category="paragraph">本文件提供NetApp XCP最佳實務準則和測試案例型解決方案。這些最佳實務做法涵蓋內部部署的移轉工作流程、以及XCP的雲端、檔案系統分析、疑難排解和效能調校。測試案例一節涵蓋客戶使用案例及其需求、使用XCP的NetApp解決方案、以及對客戶的效益。</block>
  <block id="842b5068483a5cd5b058644a5d000f1c" category="inline-link-macro">下一步：NetApp XCP。</block>
  <block id="10dbc4bbbec11552354dca73bcd59c78" category="paragraph"><block ref="10dbc4bbbec11552354dca73bcd59c78" category="inline-link-macro-rx"></block></block>
  <block id="0706a8a70e2892183b45c55ef1394714" category="summary">本節提供執行XCP複製和XCP同步作業的大約時間、且檔案大小不同、NFS的檔案大小為一百萬個。</block>
  <block id="137e4d3e0bc5586af6fc7ca9441511e1" category="doc">規模調整準則</block>
  <block id="f688414f56f567909ca9a570f161016e" category="inline-link-macro">先前：部署步驟。</block>
  <block id="fb58e731328976afe8beac53cbe55ee7" category="paragraph"><block ref="fb58e731328976afe8beac53cbe55ee7" category="inline-link-macro-rx"></block></block>
  <block id="5224a4cb1d59edb5630ae27e640409e9" category="section-title">根據測試進行時間預估</block>
  <block id="7e9b65699b01d35aeff9dc16008da7a5" category="paragraph">XCP複製與同步作業的測試使用的測試台與部署時使用的測試台相同。已建立100萬個檔案、其中三組檔案分別為8K、16K和1MB、並即時執行變更。XCP同步功能會在檔案層級執行從來源到目標的差異遞增更新。遞增更新作業是這四項作業中的一項或多項：重新命名現有檔案和資料夾、將資料附加至現有檔案、刪除檔案和資料夾、以及包含其他硬式、軟式和多重連結。為了進行測試、我們將重點放在重新命名、附加、刪除及連結作業上。換句話說、在一百萬個檔案上、重命名、附加及刪除等修改作業的執行率為10%至90%。</block>
  <block id="1112334374c9149cc8ad8e80a76f2e56" category="paragraph">下圖顯示XCP複製作業的結果。</block>
  <block id="d6852faef2642951731c8d64e3009dbe" category="paragraph"><block ref="d6852faef2642951731c8d64e3009dbe" category="inline-image-macro-rx" type="image"></block></block>
  <block id="58fe8c2d511caf443cb23313cb89181b" category="paragraph">下圖顯示XCP同步重新命名與連結作業的結果。</block>
  <block id="319b9e8dee4108359b7ef17af2fb492d" category="paragraph"><block ref="319b9e8dee4108359b7ef17af2fb492d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2186640ac8cac7be2b0f3940d871bf04" category="paragraph">檔案大小並未達到傳輸重新命名來源檔案所需的「XCP同步」完成時間、圖表為線性。</block>
  <block id="de54b82b6e27abb7d6f924e14d40a351" category="paragraph">連結類型包括軟連結、硬式連結及多重連結。軟性連結被視為一般檔案。檔案大小與完成XCP同步作業的時間無關。</block>
  <block id="db3eb29ec347d79a716c6235063b1955" category="paragraph">下圖顯示XCP同步附加與刪除作業的結果。</block>
  <block id="feeff6134484088b1b404089dc5f92d9" category="paragraph"><block ref="feeff6134484088b1b404089dc5f92d9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f64c7d081568c95905b16364c19e1be1" category="paragraph">對於新增和刪除作業、相較於較小的檔案大小、較大的檔案大小需要更多時間。完成作業的時間與新增和刪除變更的百分比呈線性。</block>
  <block id="ecc8d4faf16ec3b08a8badd1d71421d3" category="section-title">比較XCP 1.6.1與XCP 1.5</block>
  <block id="f599c9e924e3b854abd0ab58126fed43" category="paragraph">相較於舊版、XCP 1.6.3和1.7可提供更優異的效能。下節顯示8K、16K和1MB大小的一百萬個檔案、XCP 1.6.3和1.7之間的同步效能比較。</block>
  <block id="b53776fdc2fd9fc721aaa6f03fd3d6a0" category="paragraph">下圖顯示XCP 1.6.3與1.7的XCP同步效能結果（8K大小為一百萬個檔案）。</block>
  <block id="ded6c17dda87ca50a7ecde2418543075" category="paragraph"><block ref="ded6c17dda87ca50a7ecde2418543075" category="inline-image-macro-rx" type="image"></block></block>
  <block id="09a0804a78587affdd9192afd0f8c80c" category="paragraph">下圖顯示XCP 1.6.1與1.5的XCP同步效能結果（16K大小為一百萬個檔案）。</block>
  <block id="b2733f54373c0149b19c3b37afbcb7da" category="paragraph"><block ref="b2733f54373c0149b19c3b37afbcb7da" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5b201508f1de849d630f98c0001fdc29" category="paragraph">下圖顯示XCP 1.6.1與1MB大小一百萬個檔案的1.5相較之下、XCP同步效能的結果。</block>
  <block id="e7770abf0d9a0789407ea0a0e81cc5a6" category="paragraph"><block ref="e7770abf0d9a0789407ea0a0e81cc5a6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="71c6a3c1c59fc41b371a18011d1d5c9b" category="paragraph">XCP 1.7的效能平均提升或類似於XCP 1.6.3的「XCP同步」差異遞增更新、例如重新命名、附加、連結及刪除作業、檔案大小為1MB、大小為一百萬個。</block>
  <block id="61b90da0c91ea6cb7c16bfaca41b4920" category="paragraph">根據此效能驗證、NetApp建議您在內部部署和雲端環境中使用XCP 1.7進行資料移轉。</block>
  <block id="dd6275237d7504aabd0c206384365206" category="inline-link-macro">下一步：效能調校。</block>
  <block id="cb619c90f7b537d24a1473acda746a47" category="paragraph"><block ref="cb619c90f7b537d24a1473acda746a47" category="inline-link-macro-rx"></block></block>
  <block id="24992328317a5b7b3c00507eb27776df" category="paragraph"><block ref="24992328317a5b7b3c00507eb27776df" category="inline-link-macro-rx"></block></block>
  <block id="d4f4c40bd169a262676284f5da7a191a" category="cell">2020年10月</block>
  <block id="7776aec966d5a0c71bd4e8230f9470b8" category="summary">此使用案例是以電視網路客戶為基礎。客戶想要將Oracle Recovery Manager（RMAN）備份檔案移轉至雲端、並使用Azure NetApp Files 含心臟起搏器軟體的功能、執行Oracle E-Business Suite（EBS）應用程式。客戶也想要將資料庫備份檔案移轉至隨需雲端儲存設備、並將大型檔案（每個範圍25 GB至50 GB）傳輸至Azure。</block>
  <block id="8108bac490ceb375198c578e8a439026" category="doc">使用XCP Data Mover移轉大型檔案</block>
  <block id="adec666d077f4afe1b4f2b8720ed1247" category="inline-link-macro">先前版本：使用XCP Data Mover將數百萬個小型檔案移轉至彈性儲存設備。</block>
  <block id="d6be3aed77745a993a24266eaf05084d" category="paragraph"><block ref="d6be3aed77745a993a24266eaf05084d" category="inline-link-macro-rx"></block></block>
  <block id="06470d7a09a56d555bad98bdf38a6cad" category="paragraph">下圖說明Azure NetApp Files 大型檔案從內部部署移轉至原地的資料。</block>
  <block id="1b95efe3eae02043da6528de3cf9caf8" category="inline-link-macro">下一步：複製檔案。</block>
  <block id="76fdb34470826293aaf52b30bf98fce0" category="paragraph"><block ref="76fdb34470826293aaf52b30bf98fce0" category="inline-link-macro-rx"></block></block>
  <block id="69f55c7d7266874ad1ed57caf459c979" category="summary">此使用案例是以我們所做的最大財務客戶概念驗證（CPOC）為基礎。過去、我們使用NetApp就地分析模組（NIPAM）將分析資料移至NetApp ONTAP AI。然而、由於NetApp XCP最近的增強功能與改善效能、以及獨特的NetApp資料移轉解決方案方法、我們使用NetApp XCP重新執行資料移轉。</block>
  <block id="5084e1c3bd53b6115df08f4c40aadbe6" category="doc">資料湖到ONTAP SFC NFS</block>
  <block id="ae8dcf06c5337995ca840fbd543188fc" category="inline-link-macro">先前：客戶案例。</block>
  <block id="82f418da831bb7ca7897e30f8bc5525a" category="paragraph"><block ref="82f418da831bb7ca7897e30f8bc5525a" category="inline-link-macro-rx"></block></block>
  <block id="b1a11a01b3bdf3150e0240a1f037cdf5" category="section-title">客戶的挑戰與要求</block>
  <block id="9ed16d5ac47c336caaf9ca2b75930d78" category="paragraph">值得注意的客戶挑戰與要求包括：</block>
  <block id="b6976e1a47e217f1a7c746e8f57e327c" category="list-text">客戶擁有不同類型的資料、包括結構化、非結構化及半結構化的資料、記錄、 以及資料湖中的機器對機器資料。AI系統需要所有這些類型的資料才能進行預測作業。當資料位於資料湖原生檔案系統中時、很難處理。</block>
  <block id="d85cb5080a9e99841f0ff6c36abdadad" category="list-text">客戶的AI架構無法從Hadoop分散式檔案系統（HDFS）和Hadoop相容檔案系統（HCFS）存取資料、因此資料無法用於AI作業。AI要求資料採用可理解的檔案系統格式、例如NFS。</block>
  <block id="982b6c87ace8f5b95c0523bd0557f4e2" category="list-text">由於資料量大且處理量高、因此需要執行一些特殊程序來從資料湖移轉資料、因此必須採用具成本效益的方法、才能將資料移至AI系統。</block>
  <block id="b0a9a6f2387f2a23e13931f68fc509c1" category="paragraph">在此解決方案中、MapR檔案系統（MapR-FS）是從MapR叢集中的本機磁碟建立。每個資料節點上的MapR NFS閘道都會設定虛擬IP。檔案伺服器服務會儲存及管理MapR-FS資料。NFS閘道可讓您透過虛擬IP從NFS用戶端存取Map-FS資料。每個MapR資料節點上都會執行XCP執行個體、以將資料從Map NFS閘道傳輸至NetApp ONTAP RsinNFS。每個XCP執行個體都會將一組特定的來源資料夾傳輸到目的地位置。</block>
  <block id="01e1c2900284f91d77ea71ffd32c6d18" category="paragraph">下圖說明使用XCP之MapR叢集的NetApp資料移動機解決方案。</block>
  <block id="a7dcdfa2099e01480afb3c060c679f10" category="paragraph"><block ref="a7dcdfa2099e01480afb3c060c679f10" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4084b5f9c9bab8db38eb6e04a3b3a4cc" category="paragraph">如需詳細的客戶使用案例、錄製的示範和測試結果、請參閱<block ref="c5fcc47a7dd315afaa32fcdac46ffd7d" category="inline-link-rx"></block> 部落格：</block>
  <block id="520ef13ea64298a652262e37756b6bd4" category="paragraph">如需ONTAP 使用NetApp XCP將MapR-FS資料移至Rse-NFS的詳細步驟、請參閱中的附錄B<block ref="c952a09d2ff4403056a594c41db26c8d" category="inline-link-rx"></block>。</block>
  <block id="b4dd66db226c58dbbcc8455a7576d491" category="inline-link-macro">下一步：ONTAP 將高效能運算技術移轉至VMware NFS。</block>
  <block id="9ebf542ce4a3a8a997eb85e5b6e086ed" category="paragraph"><block ref="9ebf542ce4a3a8a997eb85e5b6e086ed" category="inline-link-macro-rx"></block></block>
  <block id="2246a929033f1d77a86efa97dda42849" category="inline-link-macro">上一步：疑難排解。</block>
  <block id="49c4600bab96ae4bda03f252b43985b4" category="paragraph"><block ref="49c4600bab96ae4bda03f252b43985b4" category="inline-link-macro-rx"></block></block>
  <block id="464fbe5e9ea5b377de3943b7d1e73632" category="inline-link"><block ref="464fbe5e9ea5b377de3943b7d1e73632" category="inline-link-rx"></block></block>
  <block id="eba010943793fb5b647ad292a452b3ff" category="list-text">NetApp XCP部落格<block ref="2639c38af267ba997fc1d85740cfc9a6" category="inline-link-rx"></block></block>
  <block id="6ae1587e2fb0d146cd960f45d3f1fc13" category="inline-link"><block ref="6ae1587e2fb0d146cd960f45d3f1fc13" category="inline-link-rx"></block></block>
  <block id="fb8d9f206204f9562c2a67c6b37a7d1b" category="list-text">NetApp XCP使用者指南<block ref="05f41a166d52148335e3a0df2eafec23" category="inline-link-rx"></block></block>
  <block id="e2c2bd378a3ae3740034d637754af7e2" category="inline-link"><block ref="e2c2bd378a3ae3740034d637754af7e2" category="inline-link-rx"></block></block>
  <block id="79b44e54a5eac82beac2de86249cd862" category="list-text">BigData分析資料至人工智慧：AI的資料移轉解決方案<block ref="79ced727b5c9638c0385a25671803fba" category="inline-link-rx"></block></block>
  <block id="9ebf058ce7a44ad4517e7033db8a90a7" category="paragraph"><block ref="9ebf058ce7a44ad4517e7033db8a90a7" category="inline-link-macro-rx"></block></block>
  <block id="3d5c39f585b0e679dbfe0855d556f0af" category="summary">NetApp XCP使用多執行緒和可自訂功能來傳輸資料。它的設計主要適用於三種使用案例：資料搬移或移轉、檔案系統分析、以及快速目錄樹狀結構刪除。</block>
  <block id="211c181ce8e8cb0472af3095c66dc5eb" category="paragraph"><block ref="211c181ce8e8cb0472af3095c66dc5eb" category="inline-link-macro-rx"></block></block>
  <block id="6416bf9c9c9445fbe2e15f69fa8371d2" category="paragraph">NetApp XCP使用多執行緒和可自訂功能來傳輸資料。它的設計主要適用於三種使用案例：資料搬移或移轉、檔案系統分析、以及快速目錄樹狀結構刪除。</block>
  <block id="7817bd783e8db0557909483f54288eae" category="section-title">資料搬移或移轉</block>
  <block id="a7786f240f16aadfd675c46be438f64e" category="paragraph">NetApp XCP可將資料從任何NAS傳輸至NetApp NAS。此程序包含四項主要作業：掃描、複製、同步及驗證。還有一些其他功能可協助資料監控和傳輸：</block>
  <block id="1c026a57d7676d346dd0d44a2f595c1d" category="list-text">*掃描。*提供NAS和MapR/HDFS資料的高階配置。</block>
  <block id="59e4194e1b171063beeb99722a68e7af" category="list-text">*複製。*執行基準資料傳輸。</block>
  <block id="a75ddee1308f2f19e478595122434544" category="list-text">*同步*執行遞增資料傳輸。</block>
  <block id="ae4ab572ec7de44b385c01df54f00d17" category="list-text">*驗證*執行目標的完整驗證。</block>
  <block id="8ddbaa98ade9dcd56d4960b7abd22525" category="list-text">*顯示（選用）。*探索NAS共用區。</block>
  <block id="4f4544fb0f8ed8f32e27a8b8651a46e6" category="paragraph">下圖說明XCP資料移轉與複寫作業。</block>
  <block id="6d97d3e510fc0fba449ece8ddd3f3d10" category="paragraph"><block ref="6d97d3e510fc0fba449ece8ddd3f3d10" category="inline-image-macro-rx" type="image"></block></block>
  <block id="657bad21acd4ceb926477ced53a4ec55" category="section-title">檔案系統分析</block>
  <block id="65424b0dc0515cfa3b67e71712012db0" category="paragraph">NetApp XCP原生可讓您識別、仔細檢查及分析非結構化資料、以改善洞見、這是企業客戶的一項關鍵需求、因為他們想要利用這些洞見來進行更好的規劃、將高價值的數位資產投入運作、以及透過報告與評估來進行資料治理。</block>
  <block id="03c5a03e8b03794f5fa193e72245496c" category="paragraph">處理敏感資料的客戶可以使用NetApp XCP來回答典型的作業問題、例如：</block>
  <block id="6ad28c778baa08cff585599e160c12c8" category="list-text">我的資料在哪裡？</block>
  <block id="5eccfafcfad0fb3dcd5f4f1036fed9f9" category="list-text">我們擁有多少資料和哪些類型的檔案？</block>
  <block id="b1c54971a6211d7b7e3d074bff16b4c9" category="list-text">哪些資料會被積極使用、哪些資料會被休眠？</block>
  <block id="6b2c974b2ada5fba492b8dcda598b1f9" category="paragraph">下圖說明來自GUI的NetApp XCP檔案分析通訊。</block>
  <block id="81ff19b428c80049b09f8e1e6e55cfde" category="paragraph"><block ref="81ff19b428c80049b09f8e1e6e55cfde" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f2a6c498fb90ee345d997f888fce3b18" category="section-title">刪除</block>
  <block id="4125c56415a1c3b98b49ee7f8c2ebfc3" category="paragraph">儲存團隊和電子設計自動化（EDA）工作負載對於清理大型目錄來說、無論是過時的資料、或是需要清理以恢復儲存空間的測試資料、都是非常艱鉅的挑戰。XCP提供快速刪除功能、可刪除完整的目錄樹狀結構。NetApp XCP刪除功能會從指定的NAS路徑中移除檔案和資料夾。您可以利用比對篩選器來刪除一組特定的檔案和資料夾。對於大量的檔案和資料夾、您可以使用「強制」選項、不需要確認即可刪除。</block>
  <block id="ecfd5328aaeaeb8ab72037598049a32c" category="section-title">即時來源移轉支援</block>
  <block id="2d3aa3941d30870beb3abde613ce14b1" category="paragraph">XCP 1.7中提供的即時來源移轉支援可讓您從使用中的資料來源（讀取和寫入活動）進行移轉。XCP會將移轉工作期間所使用的檔案（例如複本和同步執行）保留下來、而跳過的檔案資訊會擷取在XCP記錄中。</block>
  <block id="286a0f56c729672b0709605c558d0008" category="paragraph">此功能支援來源變更、但不支援目的地變更。移轉期間、目的地不應處於作用中狀態。即時來源移轉支援僅適用於NFS移轉。</block>
  <block id="2c346a482fcf83bd03d1d51f65d58b8d" category="admonition">即時來源移轉不需要特殊設定。</block>
  <block id="ba41152bc4991a294ab26fbe691d52e3" category="section-title">XCP的先決條件</block>
  <block id="010e3e2a3d44100784dac368cdb601c0" category="paragraph">部署NetApp XCP之前、必須符合下列先決條件：</block>
  <block id="b76760dcfae800f7180ec4e8c57a8e2f" category="list-text">執行下列命令來驗證NFS伺服器使用的NFS連接埠：</block>
  <block id="a9a9fca38da059af5a55e2fc58ef3851" category="list-text">若要存取執行XCP作業的位置、例如內部部署或雲端執行個體（例如Azure、AWS或Google虛擬機器[VM]執行個體）、請開啟NFS連接埠的防火牆連接埠。</block>
  <block id="b22a57ce186f512ec584f5aac1d3de34" category="list-text">使用「&lt;on－prem NFS data LIF IP or NAS IP &gt;2049」（&lt;內部NFS資料LIF IP或NAS IP &gt;2049）命令、確認NFS連接埠可從XCP伺服器存取。預設連接埠為2049。如果您的環境有不同的連接埠、請使用該IP。</block>
  <block id="e54a7adb3b7e28ed3d693d972fc48fd0" category="list-text">對於NFS、請使用「show mount -e &lt; NAS IP &gt;」命令、確認可以從XCP伺服器存取共用區。</block>
  <block id="da7f6a983e12f3b14b965ea651990ca9" category="list-text">將目的地磁碟區上的inode數量增加到超過來源檔案上的檔案數（檔案數）。</block>
  <block id="71858e85f290ec0f6955841bab9f3aef" category="inline-link">NetApp XCP授權入口網站</block>
  <block id="14324adbfb79ad4b6832f6a02a1275db" category="list-text">從下載XCP授權<block ref="eab886d42d2df7a710066e6d9bf6f5f5" category="inline-link-rx"></block>。</block>
  <block id="7481213bd7173438d06de418474e428b" category="list-text">您必須在mysupport.netapp.com中擁有NetApp帳戶、或是可以免費註冊。</block>
  <block id="d25e9f08475ddf6a2701e7cfbd67ff06" category="list-text">下載授權並準備就緒。</block>
  <block id="b9611b870758eac97bd0c3bcb3fc8026" category="list-text">為每個Azure NetApp Volume或雲端中的Cloud Volume Service（優質服務層級）建立內部部署的一個NFS共用、以供XCP目錄使用。</block>
  <block id="3d19c697861d11cce0f1d78d41cfea64" category="list-text">建立NAS Volume並設定資料目的地的共用區。</block>
  <block id="4f2a304b9680876edc7cb61b5c4c7134" category="list-text">對於多個XCP執行個體、您必須有一或多個伺服器或雲端執行個體、才能將資料從多個來源資料夾或檔案傳輸到目的地。</block>
  <block id="adc4e34febc2f5919cfa03870630c2fc" category="list-text">最大檔案大小（預設為308 MB）可定義單一資料夾中的最大檔案數（約100萬）。增加最大大小值以增加檔案數。增加此值會影響額外的CPU週期。</block>
  <block id="a1552408599f6e2171495d55ae375802" category="list-text">在雲端中、NetApp建議您在內部部署和雲端之間使用ExpressRoute（Azure）、Direct Connect（AWS）或Cloud Interconnect（GCP）。</block>
  <block id="fb41b0ab70237465636fc4267d1c00dd" category="inline-link-macro">下一步：移轉工作流程。</block>
  <block id="7480aca6b5f94dc27cc94b015284d5e9" category="paragraph"><block ref="7480aca6b5f94dc27cc94b015284d5e9" category="inline-link-macro-rx"></block></block>
  <block id="7e0710b4cb48030b7a4c065128b88194" category="summary">本節說明將CIFS資料與安全資訊從來源移轉至目標ONTAP 系統的逐步程序。</block>
  <block id="82f0875c37eacadc40a7a7fb2a6b6313" category="doc">透過ACL從來源儲存箱移轉CIFS資料至ONTAP 功能區</block>
  <block id="0f17f55a868185c28a66d0817a780f53" category="inline-link-macro">上一篇：資料從7-Mode移轉至ONTAP VMware。</block>
  <block id="99b2c0d3f328317650f8748e47c7bedb" category="paragraph"><block ref="99b2c0d3f328317650f8748e47c7bedb" category="inline-link-macro-rx"></block></block>
  <block id="b40dbfa52a308abff927380b983cd868" category="list-text">驗證目標ONTAP 系統是否健全。</block>
  <block id="39745ae9472f91abcd9e844389157858" category="list-text">確認目標系統上至少存在一個非根Aggregate。Aggregate是正常的。</block>
  <block id="47e01226b4fdf549d938eb5c6196970d" category="admonition">如果沒有資料Aggregate、請使用「shorage aggr create」命令建立新的集合體。</block>
  <block id="50bdf0eaa7b3716343ae0345a98e1a5f" category="list-text">在目標叢集系統上建立SVM。</block>
  <block id="4d6b5eb9160c3c34e9ff5535c403cea9" category="list-text">在目的地SVM上建立新的讀寫資料磁碟區。確認安全樣式、語言設定和容量需求符合來源Volume。</block>
  <block id="c55bb6c3381ca2d8a4016e387cc62883" category="list-text">建立資料LIF來處理SMB用戶端要求。</block>
  <block id="6817d90b89495074e679248b56128378" category="paragraph">確認LIF已成功建立。</block>
  <block id="c45e0bc468a9249c2954fa84c21f833e" category="list-text">如有需要、請使用SVM建立靜態路由。</block>
  <block id="84bb87c2987a4b39ea23430f38570808" category="paragraph">確認路由已成功建立。</block>
  <block id="5368b7f480b92b4a2a9b475e6e9cf953" category="list-text">在SVM命名空間中掛載目標資料Volume。</block>
  <block id="6365adb4324221d944bc90c4663dfe5a" category="paragraph">確認磁碟區已成功掛載。</block>
  <block id="18f8848c17d02fd34b293885d5d3a215" category="list-text">在目標SVM上啟動CIFS服務。</block>
  <block id="e210fe657c5d46e3e11ca263d1a18af7" category="paragraph">確認服務已啟動並正在執行。</block>
  <block id="cf1269d629dc2110f2ae65edf8662b79" category="list-text">確認預設匯出原則已套用至目標SVM。</block>
  <block id="353fde8a37910716dc00dec81475c0d5" category="paragraph">如有需要、請為目標SVM建立新的自訂匯出原則。</block>
  <block id="74e1ca9e0b551a7349207f3d546b9f51" category="list-text">修改匯出原則規則、以允許存取CIFS用戶端。</block>
  <block id="3c19a2ac394a25f9ace05db18ad86c8b" category="paragraph">確認原則規則已修改。</block>
  <block id="5f249df749512e129505d18fd47d7010" category="list-text">驗證是否允許用戶端存取磁碟區。</block>
  <block id="876afc73f4771f46cfc9dba7fb687744" category="list-text">連線至安裝XCP的Windows用戶端系統。瀏覽至XCP安裝路徑。</block>
  <block id="e73a44af938fa16a4816d3639d2f3b69" category="list-text">在XCP Windows用戶端主機系統上執行「XCP show」命令、查詢來源節點SMB匯出。</block>
  <block id="7132ef955ec5e0151ccd0790da2551d7" category="list-text">執行「help」命令進行複製。</block>
  <block id="268b71a144890a49d97f8ca062fd48f9" category="list-text">在目標ONTAP 系統上、取得您需要提供的本機使用者和本機群組名稱清單、作為「後援使用者」和「後援群組」引數路徑的值。</block>
  <block id="ac9ad1198db0fb6f730a1f3aa97c35ab" category="list-text">若要將CIFS資料與ACL從來源移轉至目標、請使用「-ACL」和「-fallback-user/group」選項來執行「XCP copy」命令。</block>
  <block id="a53e836d6264ad1778a4e1a7ae34f58c" category="paragraph">對於「後援使用者/群組」選項、請指定Active Directory或本機使用者/群組中可找到的任何使用者或群組、以供目標系統使用。</block>
  <block id="9aa080e55cad2c9968cc50de60a3f88e" category="list-text">如果「XCP copy」產生錯誤訊息「錯誤無法取得後援安全性主體」、請在hosts檔案（「C：\Windows\System32\drivers\etc\hosts」）中新增目的地方塊。</block>
  <block id="b7ceaa0e08e9de5bf76572a50529f752" category="paragraph">請使用下列格式輸入NetApp儲存目的地Box。</block>
  <block id="569ccf25ad533b79cf2f639f0326d943" category="list-text">如果您在主機檔案中新增目的地方塊項目後仍收到「錯誤無法取得後援安全性主體」錯誤訊息、則目標系統中不存在使用者/群組。</block>
  <block id="4a909d1b3a171fdcddc8da070e839ecc" category="list-text">使用「XCP copy」（XCP複本）、以ACL移轉CIFS資料（無論是否使用根資料夾）。</block>
  <block id="a4ebb620bc1fbff4f93249967cd47f4b" category="paragraph">在沒有根資料夾的情況下、執行下列命令：</block>
  <block id="f6c1a65a9150853333bf43b4a6dc9e5b" category="paragraph">使用root資料夾、執行下列命令：</block>
  <block id="154ef40d43f003733406aef6be0ada62" category="inline-link-macro">下一步：最佳實務準則與建議。</block>
  <block id="7fd167e59284838d9e36c5c99e4d2943" category="paragraph"><block ref="7fd167e59284838d9e36c5c99e4d2943" category="inline-link-macro-rx"></block></block>
  <block id="c4e9391c8d60f1f326246cd6b6705492" category="summary">NetApp收到從單一磁碟區或多個磁碟區尋找重複檔案的要求。NetApp提供下列解決方案：</block>
  <block id="2e4e5fbe1f8f460b943ac3ed031c9dcf" category="doc">重複的檔案</block>
  <block id="f89d6874c6cf2c5de0dae9564728c7cf" category="inline-link-macro">上一篇：使用XCP Data Mover移轉大型檔案。</block>
  <block id="6c8f161effcb72b9425f626e8733146b" category="paragraph"><block ref="6c8f161effcb72b9425f626e8733146b" category="inline-link-macro-rx"></block></block>
  <block id="dc4b36d55f5f1f0af63ed899a010c8f1" category="paragraph">對於單一Volume、請執行下列命令：</block>
  <block id="2d2f31777cf3433071b9bcd33f39279a" category="paragraph">對於多個磁碟區、請執行下列命令：</block>
  <block id="fdefb3eaaab41fef36db24700d399ef2" category="inline-link-macro">下一步：特定日期型掃描與資料複本。</block>
  <block id="769f411db097d478d8d10a821946e501" category="paragraph"><block ref="769f411db097d478d8d10a821946e501" category="inline-link-macro-rx"></block></block>
  <block id="a01ed8ff3f6e9e3ac0c0068a083281f2" category="summary">本節提供使用NetApp XCP進行資料移轉的疑難排解指南。</block>
  <block id="231cf4c70d866b616c21baddaeed0696" category="doc">疑難排解</block>
  <block id="ae638a1049211e9956348a48a85bd359" category="inline-link-macro">上一篇：最佳實務準則與建議。</block>
  <block id="e19cdddb31b62a88048cfee77eb96e9d" category="paragraph"><block ref="e19cdddb31b62a88048cfee77eb96e9d" category="inline-link-macro-rx"></block></block>
  <block id="95109c432d89e67182659615993ba75d" category="section-title">錯誤1：XCP失敗、並顯示nfs3錯誤70：xcp.log中的過時檔案處理錯誤</block>
  <block id="99b1b0e3547443c29793187326a64dbc" category="paragraph">*理由與指引。*</block>
  <block id="0774d3e8b775fcc34e680b302e85f3c1" category="paragraph">掛載來源資料夾、並確認資料夾存在。如果不存在或已移除、您將會收到「套用檔案處理」錯誤、在此情況下、您可以忽略此錯誤。</block>
  <block id="8fefb715a66a069c9e9318a58ecfdaee" category="section-title">錯誤2：NetApp NFS目的地Volume有空間、但XCP失敗、並顯示nfs3錯誤28：裝置上沒有剩餘空間</block>
  <block id="bba52daa861e8093e201c3939f43057f" category="list-text">執行「df」命令或檢查儲存設備、以檢查NFS目的地Volume的空間。</block>
  <block id="20183145becc54cc822a80107f92f13d" category="list-text">檢查儲存控制器中的inode。</block>
  <block id="fe3a96130e3ec3092026a84e4dd12e50" category="list-text">如果使用inode、請執行下列命令來增加inode數量：</block>
  <block id="00f1ec7e4f2acc8a9e2c5a06b2d62607" category="paragraph"><block ref="00f1ec7e4f2acc8a9e2c5a06b2d62607" category="inline-link-macro-rx"></block></block>
  <block id="1357196e1dc18c4ad43fe26a6c1b30ad" category="inline-link-macro">先前：效能調校。</block>
  <block id="33672b776ede62bd1269689ea61e45aa" category="paragraph"><block ref="33672b776ede62bd1269689ea61e45aa" category="inline-link-macro-rx"></block></block>
  <block id="1ebf7a1cb4f3826913a58c19018c694e" category="paragraph">本節說明客戶案例及其架構。</block>
  <block id="b58464d62b5399c457b8a1fcf6bbcd27" category="inline-link-macro">下一步：資料湖到ONTAP S景NFS。</block>
  <block id="a24139c6a89df9b0694c3ea695639ace" category="paragraph"><block ref="a24139c6a89df9b0694c3ea695639ace" category="inline-link-macro-rx"></block></block>
  <block id="7ed4381f9a10813d06ebeaf5c947c2c1" category="summary">NetApp XCP檔案分析GUI可在後端使用XCP執行檔案系統掃描、並可視覺化統計資料、例如任何NAS（NFS、SMB）檔案系統的圖表和檢視。</block>
  <block id="250a5d043009990eb69a399d7c630462" category="doc">檔案分析</block>
  <block id="47461303c8b8cbeb3e7558e2a9a1ca70" category="inline-link-macro">上一個：移轉工作流程。</block>
  <block id="685a7e894721315c196897b76f95b8ce" category="paragraph"><block ref="685a7e894721315c196897b76f95b8ce" category="inline-link-macro-rx"></block></block>
  <block id="0f2604fbc18e6e91ba050460e6557361" category="paragraph">NetApp XCP檔案分析GUI可在後端使用XCP執行檔案系統掃描、並可視覺化統計資料、例如任何NAS（NFS、SMB）檔案系統的圖表和檢視。從1.6版開始、您可以使用Configure和systemctl選項、在簡單的部署步驟協助下、以服務形式執行XCP。XCP Configure選項可引導您安裝及設定Postgres和Web伺服器、以及收集認證資料。systemctl選項會執行XCP作為從GUI進行REST API通訊的服務。</block>
  <block id="914cb171c700c273306e8265b56f4973" category="paragraph">下圖說明XCP檔案分析流程。</block>
  <block id="538e51b99e800ab65e133b5d57b2dc7f" category="paragraph"><block ref="538e51b99e800ab65e133b5d57b2dc7f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9bcdbf2b32a87f7efd13f706d43954d5" category="inline-link">NetApp XCP 1.6提供開放式檔案分析與基礎架構改善</block>
  <block id="46742b2c1e11cf6a3e230ec3da7e6800" category="admonition">如需XCP檔案分析的高層架構、統計資料檢視等GUI型儀表板檢視、以及檔案發佈檢視詳細資料的詳細資訊、請參閱部落格文章<block ref="924a0428223d35821b584a5368c0e3e5" category="inline-link-rx"></block>。</block>
  <block id="21bd6427119f8d9a06a7c5bce95d28ac" category="paragraph">XCP 1.6中的自訂圖形使用的GUI有限。若要建立所需的圖表、您可以使用CLI執行含有相符篩選器的「XCP」掃描命令。請參閱下列範例。</block>
  <block id="168c81694a3b19988d829a9baeda23fd" category="list-text">使用「XCP掃描」和「比對」篩選器來產生一年後修改的檔案清單、並使用所耗用的空間。</block>
  <block id="de615506a73ca5960be54d36ba7fcd5b" category="list-text">找出一年以上檔案所使用的空間。</block>
  <block id="d2d1f03d5f19a1229103a85cc9224a61" category="list-text">尋找一年前修改過的資料總大小和圖形檢視。</block>
  <block id="d706f3d28ee3e74f9a6829c882169af8" category="paragraph">下列報告是一年前修改過的檔案的自訂掃描範例。</block>
  <block id="4d614048a495643d1c641a86e53b78d3" category="paragraph"><block ref="4d614048a495643d1c641a86e53b78d3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="59a703e67b19adc4bdb1373c25fbca94" category="inline-link-macro">下一步：部署步驟。</block>
  <block id="54e4262e01c029cac8932a431c7e3d3f" category="paragraph"><block ref="54e4262e01c029cac8932a431c7e3d3f" category="inline-link-macro-rx"></block></block>
  <block id="5dc302565fd7f552e134618ee18d2be2" category="summary">此解決方案是以需要根據特定日期複製資料的客戶為基礎。</block>
  <block id="07f04efd2f421076b9aa06c4fee83be5" category="doc">資料的特定日期型掃描與複本</block>
  <block id="7af90e46070dd59c121e31e1525d4af2" category="inline-link-macro">上一步：複製檔案。</block>
  <block id="7f58802ce1d6245244bb449cd961f0f3" category="paragraph"><block ref="7f58802ce1d6245244bb449cd961f0f3" category="inline-link-macro-rx"></block></block>
  <block id="e0b5216bc931e3e5fd7efb74ad10b1d3" category="paragraph">此解決方案是以需要根據特定日期複製資料的客戶為基礎。確認下列詳細資料：</block>
  <block id="c277b447e2e86b92f26c7dbcf8fecdf2" category="inline-link-macro">下一步：從SMB/CIFS共用區建立CSV檔案。</block>
  <block id="7a9653d25343b8ddab24257e57b5be7a" category="paragraph"><block ref="7a9653d25343b8ddab24257e57b5be7a" category="inline-link-macro-rx"></block></block>
  <block id="035fe4f74f99e66d6525774bf40236f9" category="summary">本節包含使用NetApp XCP移轉資料的最佳實務做法、準則和建議。</block>
  <block id="52f7ac44cac2d8d1a3f005648d7521e3" category="doc">最佳實務準則與建議</block>
  <block id="b5a13e4f32bf69c6814808ff6a11eb9b" category="inline-link-macro">先前版本：將CIFS資料從來源儲存設備的ACL移轉至ONTAP</block>
  <block id="a930ea4d6e07241178b9fe2f3c054fd2" category="paragraph"><block ref="a930ea4d6e07241178b9fe2f3c054fd2" category="inline-link-macro-rx"></block></block>
  <block id="1cce79308861dd86d5e56af13afefaf2" category="list-text">使用IMT 支援的XCP用戶端作業系統。支援的客戶端符合NetApp資格。IMT</block>
  <block id="ec653488c4b3b9bb00702a4fb937f5b4" category="list-text">在Linux作業系統中以root使用者身分執行XCP、以執行移轉。您可以以Sudo使用者的身分執行XCP命令、但XCP不支援此命令。</block>
  <block id="8c8f6415908fe0a235f0850d80a398a4" category="list-text">每個用戶端只能執行一個XCP執行個體。從技術上來說、您可以從不同位置在同一部主機上執行多個XCP執行階段、但這並不受支援。事實上、執行許多執行個體可能會導致故障。</block>
  <block id="cac486281cae3e805e89a64673c47eb3" category="list-text">在目前的XCP版本中、不支援即時來源。如果來源NetApp磁碟區為作用中、且應用程式和使用者持續變更、您應該擷取來源磁碟區的快照、以執行移轉。</block>
  <block id="c1f9797ffa66b762cf07348c6bc4a005" category="list-text">最佳實務做法是為每個遞增同步建立名稱不同的新快照、以便在發生故障時、根據快照名稱輕鬆建立遞增移轉路徑。</block>
  <block id="1309895bb5c78406c77a6cc2800160eb" category="list-text">如果您執行的是以快照為基礎的移轉、則最好繼續以快照為基礎的移轉、直到轉換為止。</block>
  <block id="cc9954d8dc3e80c40af9d0a7ca3de005" category="list-text">如果您有超過1000萬個檔案、而且遞增資料變更率超過50%、則最佳做法是使用比安裝與管理指南中最低建議更高的核心數和更多記憶體。</block>
  <block id="f6cb936ed9c08627956daed52c6c3323" category="inline-link-macro">下一步：疑難排解。</block>
  <block id="58c815a6f6adf3657aa40f96cb5f2d08" category="paragraph"><block ref="58c815a6f6adf3657aa40f96cb5f2d08" category="inline-link-macro-rx"></block></block>
  <block id="89185de94c95d958df7a1d1f328c5d3d" category="summary">移轉有不同的階段需要遵循、以便更妥善規劃及完成移轉。若要使用NetApp XCP從協力廠商NAS儲存設備或直接附加的NAS匯出儲存設備移轉資料、請遵循本節所提供的移轉準則。</block>
  <block id="ee5b035493cdde88f6472904ffe00677" category="doc">移轉工作流程</block>
  <block id="33af37ca0d75bc0783cc87782a94cb6e" category="inline-link-macro">先前版本：NetApp XCP。</block>
  <block id="c6f303d52bc03c848b2dde21f1b31f9d" category="paragraph"><block ref="c6f303d52bc03c848b2dde21f1b31f9d" category="inline-link-macro-rx"></block></block>
  <block id="5b312b66520bbb17746eeb5c9959e4ef" category="paragraph">下圖說明從任何NAS到NetApp NAS的移轉工作流程。</block>
  <block id="228d4a26c37192668bb7f7bf0d81ce40" category="paragraph"><block ref="228d4a26c37192668bb7f7bf0d81ce40" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8df17c51ab4a9817f3fe7cea57052110" category="paragraph">從任何NAS移轉至NetApp NAS的工作流程包括下列步驟：</block>
  <block id="3bd3dda9341b512ee536cc6e48d51a69" category="list-text">探索NAS共用與資料。</block>
  <block id="7800ed0aa4aebf1d63fd7120c2bcf538" category="list-text">掃描資料並產生報告、以找出資料的配置。</block>
  <block id="8e9880476ad79e202d93a0a7d0bb5f5b" category="list-text">執行XCP Copy命令建立基準。若要加快移轉速度、請選取更多XCP執行個體、然後在子資料夾層級分割工作負載、以啟動平行移轉工作。</block>
  <block id="57324e972ea87c8e788d9831e510bc6d" category="list-text">如需遞增更新、請使用XCP同步、直到轉換期間的變更率偏低為止。</block>
  <block id="3812202d715addac73d7122672d3c8d0" category="list-text">將來源標示為唯讀、執行XCP sync命令以完成移轉、以執行最終同步。</block>
  <block id="2c1d8a91f274a7723f6ad2ffefc81b62" category="list-text">若要驗證資料傳輸是否正確、請執行「XCP VERIFY」命令來比較來源和目的地。</block>
  <block id="b98a6acc7ef428f1ae11e5177447df8c" category="paragraph">對於雲端、如果內部部署與雲端之間的連線是直接連線（AWS）、ExpressRoute（Azure）或雲端互連（GCP）、您可以遵循類似的內部部署移轉工作流程。</block>
  <block id="8f4cde54f5af74d15d142ad98344aab6" category="paragraph">下圖說明從內部部署到雲端的移轉工作流程。</block>
  <block id="9d1b3862e72bece8266c1c8b1098c696" category="paragraph"><block ref="9d1b3862e72bece8266c1c8b1098c696" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6e2fef7fa18bd688132425321b9188bb" category="paragraph">如果內部部署與雲端之間沒有直接的網際網路連線、您必須透過卡車等離線資料傳輸方法、將資料從內部部署傳輸至雲端。每家雲端服務供應商都有不同的方法、並使用不同的術語將資料移至資料中心。</block>
  <block id="9e76bcaf48df4797c2e546f778fd72f8" category="paragraph">下圖說明內部部署至Azure（不含ExpressRoute）的資料移轉解決方案。</block>
  <block id="e13bab0261f71ca4765f8b68cea20a43" category="paragraph"><block ref="e13bab0261f71ca4765f8b68cea20a43" category="inline-image-macro-rx" type="image"></block></block>
  <block id="423066080659363cc444ec5dee611f48" category="paragraph">您可以使用類似的架構、搭配來自不同雲端服務供應商的個別元件。</block>
  <block id="050572d01f21dded8086b49419066add" category="inline-link-macro">下一步：檔案分析。</block>
  <block id="ae292ee37a105844872f831698fb440f" category="paragraph"><block ref="ae292ee37a105844872f831698fb440f" category="inline-link-macro-rx"></block></block>
  <block id="dc0b758a04bbb9e380300887d831e4e1" category="summary">本節提供一些調校參數、有助於提升XCP作業的效能。</block>
  <block id="9db3ca538820d0cfb7b44ef80f16ca98" category="doc">效能調校</block>
  <block id="7931b9aae255139b42cb605b3b62a6db" category="inline-link-macro">上一篇：規模調整準則。</block>
  <block id="0ff4824165c6661bc016402e35d2a9fe" category="paragraph"><block ref="0ff4824165c6661bc016402e35d2a9fe" category="inline-link-macro-rx"></block></block>
  <block id="ec6136417c258c9b7f95c39765c5ca51" category="paragraph">本節提供一些調校參數、有助於提升XCP作業的效能：</block>
  <block id="dd10b781bf6dd686a8631401ce0fba96" category="list-text">為了更有效地擴充及分散多個XCP執行個體的工作負載、請分割每個XCP執行個體的子資料夾、以便進行移轉和資料傳輸。</block>
  <block id="37e9b10f81fe31cb6b80609f724b34f8" category="list-text">XCP可以使用最大的CPU資源、CPU核心越多、效能就越好。因此、您應該在XCP伺服器中擁有更多CPU。我們實驗室測試了128GB RAM和48個核心CPU、提供比8個CPU和8 GB RAM更好的效能。</block>
  <block id="a02c6dbd226d5506c1b4b07f6d383615" category="list-text">使用「-parallel」選項的XCP複本是根據CPU數量而設計。平行執行緒（七個）的預設數量有時足以執行大多數XCP資料傳輸與移轉作業。在XCP Windows中、平行處理程序的數量預設為CPU數量。「平行」選項的最大數量應小於或等於核心數。</block>
  <block id="740950b0e27cdd5def3c4295d5840851" category="list-text">10GbE是資料傳輸的良好開端。然而、我們測試了25GbE和100GbE、提供更好的資料傳輸、建議用於大型檔案大小的資料傳輸。</block>
  <block id="a174d00dcd4849e0653429de84c71cde" category="list-text">對於VMware、效能會因服務層級而異。Azure NetApp Files如需詳細資訊、請參閱下表、其中顯示Azure NetApp Files 了「服務層級」和「效能」的詳細資料。</block>
  <block id="6d59be48f566a73e053e12167b279be5" category="cell">服務層級</block>
  <block id="eb6d8ae6f20283755b339c0dc273988b" category="cell">標準</block>
  <block id="8d5e7e72f12067991186cdf3cb7d5d9d" category="cell">優質</block>
  <block id="7057376a419b3334cc7b8b7a9f064abb" category="cell">超高效能</block>
  <block id="0b85467ebafa7ca3c47e82dc38184484" category="cell">處理量</block>
  <block id="adcda45ec4de9aeb48e1893272b078d1" category="cell">16Mbps/ TB（TB）</block>
  <block id="93209d2e9d1ed8d87a279cef886b5021" category="cell">64MBps / TB</block>
  <block id="f646efbbd60d091e92b32611965c4f1c" category="cell">128 MBps / TB</block>
  <block id="4a9cc851fc41c5762618832386fa4937" category="cell">工作負載類型</block>
  <block id="11969136028e1ffaeed70de5e59bde33" category="cell">通用檔案共用、電子郵件和網路</block>
  <block id="76ab8c335a6bb24396ea1953bac75705" category="cell">BMS、資料庫和應用程式</block>
  <block id="9dab8e594b90062c0612cbb1676234ba" category="cell">對延遲敏感的應用程式</block>
  <block id="0a568304277380e4cfb0f2d2abbd99b4" category="cell">效能說明</block>
  <block id="c55268b956eecd1d58f60723a410c808" category="cell">標準效能：每TB 1、000 IOPS（16K I/O）和16Mbps/ TB</block>
  <block id="536d2154a9035458ae8efd38b24f3ea7" category="cell">優異效能：每TB 4、000 IOPS（16k I/O）和64MBps / TB</block>
  <block id="91ff77656b0dc231fcbe8f488a15a253" category="cell">極速效能：每TB 8、000 IOPS（16k I/O）和每TB 128 MB</block>
  <block id="121bc30e927e8a3d918fc90c0ec18fee" category="paragraph">您必須根據處理量和工作負載類型、選擇適當的服務層級。大多數客戶都從Premium層級開始、然後根據工作負載變更服務層級。</block>
  <block id="f44706d8f59ec82b48b083fb246a4fc7" category="inline-link-macro">下一步：客戶案例。</block>
  <block id="bb0eaaf9fa62e9175efd3145f00946ea" category="paragraph"><block ref="bb0eaaf9fa62e9175efd3145f00946ea" category="inline-link-macro-rx"></block></block>
  <block id="485f9678c52b78d051ddff564d873eb9" category="summary">本節中的命令會以CSV格式傾印資料。您可以加總「大小」欄、以取得資料的總大小。</block>
  <block id="92f6d6878e37105d20e75151b95d4e6a" category="doc">從SMB/CIFS共用區建立CSV檔案</block>
  <block id="bab825782f37e3f0cd908b20bc8aa74c" category="inline-link-macro">上一頁：特定日期型掃描與資料複本。</block>
  <block id="ad80673543d1d2744f55966060c4579b" category="paragraph"><block ref="ad80673543d1d2744f55966060c4579b" category="inline-link-macro-rx"></block></block>
  <block id="d122031c67144a65ca4721f8324ae0b3" category="paragraph">下列命令會以CSV格式傾印資料。您可以加總「大小」欄、以取得資料的總大小。</block>
  <block id="1bed902c0754e4abc7598b7f1a0450e0" category="paragraph">輸出應類似於以下範例：</block>
  <block id="f7c322db5a6c805aed8a38858c7ba770" category="paragraph">若要掃描三個子目錄的深度並依排序順序提供結果、請執行「XCP -du」命令、並將每個目錄層級的大小傾印至三個子目錄的深度。</block>
  <block id="7c12bd6fa64456eb3a61460a4bbb98e6" category="paragraph">若要排序、請將資訊傾印至CSV檔案、然後排序資訊。</block>
  <block id="d0ecdc77c2c944d380e9fef0e01eb119" category="paragraph">這是使用「-fmt」命令的自訂報告。它會掃描所有目錄、並將目錄的名稱、路徑和大小傾印到CSV檔案中。您可以從試算表應用程式排序「大小」欄。</block>
  <block id="c2e9a8d6d376247b10a1ab4624bd2610" category="inline-link-macro">下一步：資料從7-Mode移轉至ONTAP VMware。</block>
  <block id="7155e60f207d105fa4db5d15efdce133" category="paragraph"><block ref="7155e60f207d105fa4db5d15efdce133" category="inline-link-macro-rx"></block></block>
  <block id="322bc614a8031f8c334d233f8221a4ab" category="summary">本節提供將Data ONTAP 資料從以7-Mode運作的NetApp功能移轉至ONTAP VMware的詳細步驟。</block>
  <block id="30ee25b2188724428e827e97bab504fe" category="doc">資料從7-Mode移轉至ONTAP VMware</block>
  <block id="aecfc9b89f609bfde217a6cf8fc0b00a" category="inline-link-macro">先前：從SMB/CIFS共用區建立CSV檔案。</block>
  <block id="6da13b2cdb445320dc3e29759119f4e8" category="paragraph"><block ref="6da13b2cdb445320dc3e29759119f4e8" category="inline-link-macro-rx"></block></block>
  <block id="3ec8186e1900b95154cccf8ccea38023" category="section-title">將7-Mode NFSv3儲存設備轉換為ONTAP 適用於NFS資料的功能</block>
  <block id="e70a6b3d23d1e0da94c71a9ea26747d1" category="paragraph">本節提供下表中的逐步程序、可將來源7-Mode NFSv3匯出移轉至ONTAP VMware系統。</block>
  <block id="cad365d13740342c8f6199feb7229137" category="paragraph">NetApp假設來源7-Mode NFSv3 Volume已匯出並掛載到用戶端系統、而且XCP已安裝在Linux系統上。</block>
  <block id="5c52d0e31e44663ee633be681387faa1" category="list-text">在目標叢集系統上建立儲存虛擬機器（SVM）。</block>
  <block id="426b5839edbb7a7772be396e7eaceace" category="list-text">從目標SVM移除FCP、iSCSI、NDMP及CIDS傳輸協定。</block>
  <block id="d03930721e424cdac105ccd0172f7dbe" category="paragraph">確認NFS是此SVM允許的傳輸協定。</block>
  <block id="a2cebf1e91b2a266a58458873c8980fd" category="list-text">建立資料LIF以處理NFS用戶端要求。</block>
  <block id="3a014fae7f5d70cc01c593a8401140ee" category="list-text">視需要使用SVM建立靜態路由。</block>
  <block id="54b19b8b3b6de7bce018de598a1645ea" category="list-text">在SVM命名空間中掛載目標NFS資料磁碟區。</block>
  <block id="991398c32a43bcf95d7fa14129a6fcb0" category="paragraph">您也可以使用「volume create」命令來指定Volume掛載選項（交會路徑）。</block>
  <block id="6c02d24a81dd4d9b1ad7a15079b4f122" category="list-text">在目標SVM上啟動NFS服務。</block>
  <block id="304683b37151feda067e3acfde300057" category="list-text">確認預設的NFS匯出原則已套用至目標SVM。</block>
  <block id="174608facfdad6448222d6d46c87fba5" category="paragraph">確認已成功建立新的自訂匯出原則。</block>
  <block id="4007cf260b496d35ba0e925f1e7a183d" category="list-text">修改匯出原則規則、以允許存取NFS用戶端。</block>
  <block id="94a80f56f92334f07fd30337692ca889" category="list-text">連線至Linux NFS伺服器。為NFS匯出的Volume建立掛載點。</block>
  <block id="725ae014e8d8f66f0f2d477fa656ba32" category="list-text">在此掛載點掛載目標NFSv3匯出的Volume。</block>
  <block id="a345b19bdd483ecd745a2e643b756bc6" category="admonition">NFSv3磁碟區應匯出、但不一定要由NFS伺服器掛載。如果可以掛載、XCP Linux主機用戶端就會掛載這些磁碟區。</block>
  <block id="b5b2af7fb88c03cfd258cdd77fc6fbe1" category="paragraph">確認已成功建立掛載點。</block>
  <block id="8d3ac4d5ea9c5d5c45d7322512d7b778" category="list-text">在NFS匯出的掛載點上建立測試檔案、以啟用讀寫存取。</block>
  <block id="07e483b5917b8a9e91a22b2ebc20961a" category="admonition">讀寫測試完成後、請從目標NFS掛載點刪除檔案。</block>
  <block id="09280cd628b820e696b87163b3fe0fde" category="list-text">連線至安裝XCP的Linux用戶端系統。瀏覽至XCP安裝路徑。</block>
  <block id="86de6eeea329a50737c7056637f43e49" category="list-text">在XCP Linux用戶端主機系統上執行「XCP show」命令、查詢來源7-Mode NFSv3匯出。</block>
  <block id="080173849f5fec049b214897a2882295" category="list-text">掃描來源NFSv3匯出路徑、並列印其檔案結構的統計資料。</block>
  <block id="df86b239e412ba3ba7192b581381b444" category="paragraph">NetApp建議在XCP「shcan」、「copy」和「sh同步」作業期間、將來源NFSv3匯出設定為唯讀模式。</block>
  <block id="695efe20ffcfc7c261e44cbb1b62cc78" category="list-text">將來源7-Mode NFSv3匯出複製到目標ONTAP 系統上的NFSv3匯出。</block>
  <block id="50515e001679292835a498c6bd3f3c31" category="list-text">複本完成後、請確認來源與目的地NFSv3匯出的資料相同。執行「XCP VERIFY」命令。</block>
  <block id="70d6a53ca7c3c592cb4099e2988c226c" category="paragraph">如果「XCP VERIFY」發現來源與目的地資料之間有差異、則摘要中會報告錯誤「no then file or directory」（無此類檔案或目錄）。若要修正此問題、請執行「XCP sync」命令、將來源變更複製到目的地。</block>
  <block id="505d73172f49d62bd99779ab53aa5eeb" category="list-text">在轉換之前和期間、再次執行「驗證」。如果來源有新的或更新的資料、請執行遞增更新。執行「XCP sync」命令。</block>
  <block id="887abb0b5917a0a6b0c47f5ef3eca1ce" category="list-text">若要恢復先前中斷的複製作業、請執行「XCP RESUME」命令。</block>
  <block id="f807709818ec3fbc508863a00ea17044" category="paragraph">在「假定」完成複製檔案之後、再次執行「驗證」、讓來源和目的地儲存設備擁有相同的資料。</block>
  <block id="d78900410b9203071958256c3d6a7701" category="list-text">NFSv3用戶端主機需要卸載從7-Mode儲存設備配置的來源NFSv3匯出、並掛載目標NFSv3從ONTAP VMware匯出。轉換需要中斷運作。</block>
  <block id="6bd42ffcfd349b793e9f6c6f00c18cd8" category="section-title">將7-Mode Volume Snapshot複本移轉至ONTAP VMware</block>
  <block id="fefac3d628a2abc2d1677e073a0688e7" category="paragraph">本節說明將來源7-Mode Volume NetApp Snapshot複本轉換至ONTAP VMware的程序。</block>
  <block id="721e28a3edb434ca3d7f37307126504c" category="admonition">NetApp假設來源7-Mode磁碟區已匯出並掛載到用戶端系統、而且XCP已安裝在Linux系統上。Snapshot複本是磁碟區的時間點映像、記錄自上次Snapshot複本以來的遞增變更。使用7-Mode系統的「抓取」選項作為來源。</block>
  <block id="e18566c8fe02de3e35e48df30daa5189" category="paragraph">*警告：*保留基礎Snapshot複本。基準複本完成後、請勿刪除基礎Snapshot複本。需要基礎Snapshot複本才能進行進一步的同步作業。</block>
  <block id="2e4b636c74015de6d92a2eb874c15a88" category="list-text">從目標SVM移除FCP、iSCSI、NDMP及CIFS傳輸協定。</block>
  <block id="f35ea333881cef53fcd944d5a052be9d" category="paragraph">確認磁碟區已成功掛載。</block>
  <block id="71c0d546c4569fd9a5798bdbc9729ab6" category="paragraph">您也可以使用「volume create」命令來指定Volume掛載選項（交會路徑）。</block>
  <block id="7ec3f8d8dd165416936305e1ca1530f0" category="list-text">確認預設的NFS匯出原則已套用至目標SVM。</block>
  <block id="f69801ea46df8aed1b26399a9330f459" category="list-text">修改匯出原則規則、以允許存取目標系統上的NFS用戶端。</block>
  <block id="9fee35c8bded36b1931a6addb7635a81" category="list-text">確認用戶端可存取目標Volume。</block>
  <block id="7633c6765c7399ce0f1ecbca891fb11c" category="paragraph">NetApp建議在執行「XCP掃描」、「複本」和「同步」作業時、將來源NFSv3匯出設定為唯讀模式。在「同步」作業中、您必須以對應的值傳遞「snap」選項。</block>
  <block id="486e9eb5a73ed3d87e070761d3ceeefe" category="list-text">將來源7-Mode NFSv3快照（基礎）複製到目標ONTAP 系統上的NFSv3匯出。</block>
  <block id="160bb3a75d27ad175143123df09bce76" category="admonition">請保留此基礎快照、以便進一步同步作業。</block>
  <block id="97ba1a5f7ee8f9243390e46469b6e8f3" category="list-text">複製完成後、請確認來源和目的地NFSv3匯出的資料相同。執行「XCP VERIFY」命令。</block>
  <block id="44842ca325a3ba46b3b4703a79fab171" category="paragraph">如果「驗證」發現來源與目的地資料之間有差異、則摘要中不會報告「沒有」這類檔案或目錄。若要修正此問題、請執行「XCP sync」命令、將來源變更複製到目的地。</block>
  <block id="030bc6fe403e876e1c932987ece73d61" category="list-text">在轉換之前和期間、再次執行「驗證」。如果來源有新的或更新的資料、請執行遞增更新。如果有遞增變更、請為這些變更建立新的Snapshot複本、並使用「-snap」選項傳遞該Snapshot路徑以進行同步作業。</block>
  <block id="b29cfae254be5e3cfc339ed594ea9378" category="paragraph">使用「-snap」選項和快照路徑執行「XCP sync」命令。</block>
  <block id="2885d0e1370007423656773743ce189b" category="admonition">此作業需要基礎快照。</block>
  <block id="121dba07a28112a093b812991271c895" category="list-text">NFSv3用戶端主機必須卸載從7-Mode儲存設備配置的來源NFSv3匯出、然後掛載目標NFSv3匯出資料ONTAP 來自VMware。轉換作業需要中斷運作。</block>
  <block id="6db55966f4a2b44c31ed7672f14d023e" category="section-title">將ACLv4從NetApp 7-Mode移轉至NetApp儲存系統</block>
  <block id="8f81754856c547fbd3e5295b9da06cc7" category="paragraph">本節說明將來源NFSv4匯出移轉至ONTAP 某個作業系統的逐步程序。</block>
  <block id="fd58e84bd534e0ff49a00942e9ee2002" category="admonition">NetApp假設來源NFSv4磁碟區已匯出並掛載到用戶端系統、而且XCP已安裝在Linux系統上。來源應為支援ACL的NetApp 7-Mode系統。ACL移轉僅支援從NetApp移轉至NetApp。若要複製名稱中含有特殊字元的檔案、請確定來源和目的地支援UTF-8編碼語言。</block>
  <block id="88464fae780b488ca9d39f305a3b3777" category="section-title">將來源NFSv4匯出移轉ONTAP 至S目的地 的先決條件</block>
  <block id="078b760bc7ad8cae447a095cc53029af" category="paragraph">在將來源NFSv4匯出移轉ONTAP 至無法使用之前、必須符合下列先決條件：</block>
  <block id="abb629da0d811e197b383d473d19f265" category="list-text">目的地系統必須設定NFSv4。</block>
  <block id="09e4d7a665b5df121af76a08951028cf" category="list-text">NFSv4來源和目標必須掛載於XCP主機上。選取NFS v4.0以符合來源和目標儲存設備、並確認來源和目標系統上已啟用ACL。</block>
  <block id="c36e1764174e8e6a7791e7afd73f3294" category="list-text">XCP需要在XCP主機上掛載來源/目標路徑以進行ACL處理。在下列範例中、「vol1（10.63.5.56：/vol1）」會掛載於「/mnt/vol1」路徑：</block>
  <block id="baa4716341f52ff4d0642ca1398e16f1" category="section-title">子目錄選項</block>
  <block id="66f63b7de79aaf05b47a1b63467b2a84" category="paragraph">使用子目錄的兩個選項如下：</block>
  <block id="5d1498ef6a2ee01cb9031bbf8a8dadc4" category="list-text">若要讓XCP在子目錄上運作、請在XCP主機上掛載完整路徑（「10.63.5.56：/vol1/dir1/DIR11」）。</block>
  <block id="39b3225d42725e9616ca3fee7aa7cbb6" category="paragraph">如果未掛載完整路徑、XCP會報告下列錯誤：</block>
  <block id="84274fa575b6d9b0177512a818215d91" category="list-text">使用子目錄語法（「mount: subnet/sqtree /.snapshot」）、如下例所示：</block>
  <block id="8dd9bb3f47ac0b27a42761c265b0c720" category="paragraph">完成下列步驟、將ACLv4從NetApp 7-Mode移轉至NetApp儲存系統。</block>
  <block id="b2f12804e995a318c2272527efb05774" category="paragraph">確認SVM已成功建立。</block>
  <block id="b887d08ec971525ffbfec7f19d01d72d" category="list-text">檢查預設的NFS匯出原則是否已套用至目標SVM。</block>
  <block id="1c94e1638450716cd57f55bafd07e60f" category="paragraph">確認原則規則已修改。</block>
  <block id="132fa7c123291d5007311a22ff8f5654" category="list-text">在此掛載點掛載目標NFSv4匯出的Volume。</block>
  <block id="c686c09824f51c6e681d87d1deb44c71" category="admonition">NFSv4磁碟區應匯出、但不一定要由NFS伺服器掛載。如果可以掛載、XCP Linux主機用戶端就會掛載這些磁碟區。</block>
  <block id="e943b6ad310412b689f42adec28acf3a" category="paragraph">確認檔案已建立。</block>
  <block id="35ce5d99ee6b9bb871da972e459e7259" category="list-text">在XCP Linux用戶端主機系統上執行「XCP show」命令、查詢來源NFSv4匯出。</block>
  <block id="97cc35dcdaf8c5c5fa0e936cd31e9907" category="list-text">掃描來源NFSv4匯出路徑、並列印其檔案結構的統計資料。</block>
  <block id="5073080976611febfcee79295d42232e" category="paragraph">NetApp建議在執行「XCP掃描」、「複本」和「同步」作業時、將來源NFSv4匯出設定為唯讀模式。</block>
  <block id="f120bcab91519def54b7b66ee0fbecfe" category="list-text">將來源NFSv4匯出至目標ONTAP 系統上的NFSv4匯出。</block>
  <block id="39ff9cab7c62e62bf182a632271eb700" category="list-text">完成「複製」之後、請確認來源和目的地NFSv4匯出的資料相同。執行「XCP VERIFY」命令。</block>
  <block id="977c8a5f0f7f70041a1c6359c72cb1cd" category="paragraph">如果「驗證」發現來源與目的地資料之間有差異、則摘要中會報告「沒有這類檔案或目錄」錯誤。若要修正此問題、請執行「XCP sync」命令、將來源變更複製到目的地。</block>
  <block id="29aee025cf0bcad3c355bd0aad4516e6" category="admonition">此作業需要先前的複本索引名稱或編號。</block>
  <block id="ee0fd4f8758695ad7502bee81363478a" category="list-text">若要恢復先前中斷的「複製」作業、請執行「XCP恢復」命令。</block>
  <block id="cdc35fb8de987dae3f48c142ffcb0686" category="section-title">將7-Mode SMB儲存設備移轉ONTAP 至支援CIFS資料的功能區</block>
  <block id="74efc43b80fa7a84f709780789176e0d" category="paragraph">本節說明將來源7-Mode SMB共用區轉換為ONTAP VMware系統的逐步程序。</block>
  <block id="f6f758220d5d00061aaa03b99e14785b" category="admonition">NetApp假設7-Mode和ONTAP VMware系統是SMB授權的系統。系統會建立目的地SVM、匯出來源和目的地SMB共用、並安裝和授權XCP。</block>
  <block id="281c766457d5499048f9440f61957421" category="list-text">掃描SMB共用區中的檔案和目錄。</block>
  <block id="95c490ed8cb5d13c961fc2c50c372940" category="list-text">將檔案（含或不含ACL）從來源複製到目的地SMB共用區。以下範例顯示含有ACL的複本。</block>
  <block id="dc056263ce0a29568cee559ae8ec35dc" category="admonition">如果沒有資料Aggregate、請使用storage「aggr create」命令建立新的集合體。</block>
  <block id="7c34f7c35c71ba790649c5563408e77e" category="list-text">同步來源和目的地上的檔案。</block>
  <block id="974c1ef10ec8fef5b3ff19989555d061" category="list-text">確認檔案已正確複製。</block>
  <block id="8ae319b52e88ea41e78a01efdaab2143" category="inline-link-macro">下一步：將CIFS資料從來源儲存設備的ACL移轉至ONTAP</block>
  <block id="b6ea874ca7f1192a99c58fa3ff1199ba" category="paragraph"><block ref="b6ea874ca7f1192a99c58fa3ff1199ba" category="inline-link-macro-rx"></block></block>
  <block id="3e4627f6667f830baceaaf35890b575a" category="summary">若要深入瞭解本文所述資訊、請檢閱下列文件和/或網站。</block>
  <block id="092bf78f9c97ba171b8232ddff585392" category="doc">其他資訊</block>
  <block id="ccc4b678df8ad6453b7f71661f118ae1" category="inline-link"><block ref="ccc4b678df8ad6453b7f71661f118ae1" category="inline-link-rx"></block></block>
  <block id="b17e2a7e5f42c90b40de5971850339ae" category="list-text">TR-4597：VMware vSphere ONTAP for VMware<block ref="5938ff9651f6c5e53544676ba8504afc" category="inline-link-rx"></block></block>
  <block id="7d9ee37e3155d571b441d63bcbc54709" category="inline-link"><block ref="7d9ee37e3155d571b441d63bcbc54709" category="inline-link-rx"></block></block>
  <block id="52c629361849219069b336f56f1556d0" category="list-text">TR-4400: VMware vSphere虛擬Volume ONTAP with VMware<block ref="b7bf139d6051615d8c8e01b6b63dacc3" category="inline-link-rx"></block></block>
  <block id="18df8e05a5400abd9d0980b1c5bc9ef3" category="list-text">TR-4015《SnapMirror組態最佳實務指南ONTAP 》（英文）<block ref="e361bd9d6f7b20da762bc23fcb3d09c2" category="inline-link-rx"></block></block>
  <block id="cbe2f6eb2a73f4a2c871a06264f10dc7" category="inline-link"><block ref="cbe2f6eb2a73f4a2c871a06264f10dc7" category="inline-link-rx"></block></block>
  <block id="249b98331fa56dc46bf6ba51dc6c39d5" category="list-text">RBAC使用者建立工具ONTAP 以供參考<block ref="6b15b91279acfce2bbee060bdb17db43" category="inline-link-rx"></block></block>
  <block id="c88037eb28ae3cceb0e32c2cd3c322d7" category="inline-link"><block ref="c88037eb28ae3cceb0e32c2cd3c322d7" category="inline-link-rx"></block></block>
  <block id="1a57e0f74e725c1a5e2d53b4d4b4460d" category="list-text">VMware vSphere資源的相關工具ONTAP<block ref="80c496cd9ab75e5683007d8f66ca6fbf" category="inline-link-rx"></block></block>
  <block id="9aa6e8f8fac5c131e5924ee033660d29" category="inline-link"><block ref="9aa6e8f8fac5c131e5924ee033660d29" category="inline-link-rx"></block></block>
  <block id="91a48e1708df22b7464bced79c745ad2" category="list-text">VMware Site Recovery Manager文件<block ref="92ad802ced4838839b492be6d0bf427d" category="inline-link-rx"></block></block>
  <block id="c9dd6bad4c7d561872f2e2d498a990bf" category="inline-link">互通性對照表工具IMT （不含）</block>
  <block id="014a2413d22e5ac39371ac1333e38898" category="paragraph">請參閱<block ref="99cfde592e1d7fa7832b186d73ee4002" category="inline-link-rx"></block> 在NetApp支援網站上、驗證您的特定環境是否支援本文件所述的確切產品與功能版本。NetApp IMT 解決方案定義了可用於建構NetApp支援組態的產品元件和版本。具體結果取決於每位客戶根據已發佈的規格進行安裝。</block>
  <block id="8ce83a5c4c3183c4e25f0d8d7b657ffc" category="summary">本頁提供VMware vSphere環境中的NFS資料存放區支援。</block>
  <block id="3769193a46f06731838a6d904cf1da37" category="doc">vSphere傳統檔案儲存資源配置ONTAP 功能、搭配使用</block>
  <block id="8d3005420a2cb4cc915402d9c5604538" category="paragraph">VMware vSphere支援下列NFS傳輸協定、兩者都支援ONTAP VMware。</block>
  <block id="78aa97ac78d1291969b5893edcfe448a" category="inline-link-macro">NFS版本3</block>
  <block id="fb110cc4ad992a0846c0eaea7fbf2d94" category="list-text"><block ref="fb110cc4ad992a0846c0eaea7fbf2d94" category="inline-link-macro-rx"></block></block>
  <block id="2d6affbd5ec6eb1f6009383ca5ba9b2b" category="inline-link-macro">NFS 4.1版</block>
  <block id="3f65d9416139ab7c1ff75966bccf6f7d" category="list-text"><block ref="3f65d9416139ab7c1ff75966bccf6f7d" category="inline-link-macro-rx"></block></block>
  <block id="fc5929c224818a87a89047d2813dd2c5" category="inline-link-macro">NFS用戶端版本的比較</block>
  <block id="ce51dd3c15b8a6638d0c212b990ae643" category="paragraph">如果您需要協助選取vSphere的正確NFS版本、請檢查 <block ref="8055fbd4933fc4c8b583fa212ff14ff2" category="inline-link-macro-rx"></block>。</block>
  <block id="f2a693e1f056b96566c4551fcab418f2" category="paragraph">vSphere可讓客戶使用企業級NFS陣列、同時存取ESXi叢集中所有節點的資料存放區。如資料存放區一節所述、在使用NFS搭配vSphere時、會有一些易於使用和儲存效率可見度的優點。</block>
  <block id="743fa5a7bc7d4ba215b096e34779d298" category="paragraph">搭配ONTAP vSphere使用VMware NFS時、建議採用下列最佳實務做法：</block>
  <block id="265e673c00294cf97a90c3b0d4fcb076" category="list-text">在叢集中的每個節點上、為每個SVM使用單一邏輯介面（LIF）ONTAP 。不再需要過去針對每個資料存放區的LIF建議。雖然直接存取（LIF和資料存放區位於同一個節點）是最佳選擇、但請勿擔心間接存取、因為效能影響通常很小（微秒）。</block>
  <block id="ae4c5baa79e370d8f601cc7082f8123e" category="list-text">由於NFSv3與NFSv4.1之間沒有自動資料存放區轉換、因此請建立新的NFSv4.1資料存放區、並使用Storage VMotion將VM移轉至新的資料存放區。</block>
  <block id="8065bff4940ae8d7161f926b0df47ac4" category="inline-link">NetApp互通性對照表工具</block>
  <block id="1479ddf58c038ab7d220ff734c74deaf" category="list-text">請參閱中的NFS v4.1互通性表附註<block ref="8813559f5b95abb5411182be29200aff" category="inline-link-rx"></block> 支援所需的特定ESXi修補程式層級。</block>
  <block id="822366735aef72f1a9429ac86dda7338" category="list-text">存取傳輸協定：nfs3</block>
  <block id="69abbd5c7cd9c1b3828b9aa5a894ff47" category="list-text">用戶端配對規格：192．168．42．21</block>
  <block id="bd6cc42f9cd65cca72cbd56d2f4bf43d" category="list-text">RO存取規則：系統</block>
  <block id="581c470a5099548fc9865a4bab8761f8" category="list-text">RW存取規則：系統</block>
  <block id="59d5d8c898df18115bd4ced36c6bc0de" category="list-text">超級使用者：sys</block>
  <block id="c184ce6b86d2e6fbf8681d61637c101b" category="list-text">如果使用適用於VMware VAAI的NetApp NFS外掛程式、則在建立或修改匯出原則規則時、該傳輸協定應設為「NFS」。VAAI複本卸載作業需要NFSv4傳輸協定、而將傳輸協定指定為「NFS」會自動同時包含NFSv3和NFSv3版本。</block>
  <block id="4c571520a8128d1692fc709ffbfb2b1e" category="list-text">使用ONTAP VMware vSphere的VMware Infrastructure（最重要的最佳實務做法）：</block>
  <block id="b8d278c6184cb65727ca5ae729db92d7" category="list-text">使用VMware vSphere的VMware VMware VMware vSphere功能來配置資料存放區、因為它能自動簡化匯出原則的管理。ONTAP</block>
  <block id="e4e62770daaf9887c7868fbc8e248a4b" category="list-text">使用外掛程式掛載功能、將現有的資料存放區套用至新的伺服器。</block>
  <block id="928562eb576ed6ae31cb1a149d3e751a" category="list-text">如果不使用ONTAP VMware vSphere的VMware vSphere功能、請針對所有伺服器或需要額外存取控制的每個伺服器叢集、使用單一匯出原則。</block>
  <block id="7bccab0fa4c0864835c645c9fde7ebf6" category="list-text">雖然供應彈性的Volume命名空間結構、可利用交會在樹狀結構中排列磁碟區、但這種方法對vSphere沒有任何價值。ONTAP無論儲存設備的命名空間階層為何、它都會在資料存放區根目錄中為每個VM建立一個目錄。因此、最佳實務做法是將vSphere磁碟區的交會路徑掛載到SVM的根磁碟區、這就是ONTAP VMware vSphere的VMware vSphere功能如何配置資料存放區。沒有巢狀結點路徑也表示除了根磁碟區之外、沒有任何磁碟區相依於任何磁碟區、即使是刻意將磁碟區離線或銷毀、也不會影響其他磁碟區的路徑。</block>
  <block id="ea6fc1288f1d3b21238d29ff28cb867a" category="list-text">對於NFS資料存放區上的NTFS分割區、4K區塊大小是可以的。下圖說明從vSphere主機連線至ONTAP VMware NFS資料存放區的能力。</block>
  <block id="16c864cb4f3b00c59e1124932e49f342" category="paragraph"><block ref="16c864cb4f3b00c59e1124932e49f342" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e54433644e830ed1503561b778e9ded4" category="paragraph">下表列出NFS版本及支援的功能。</block>
  <block id="9fb9dac7513c7ef8452aade8a52ad40d" category="cell">vSphere功能</block>
  <block id="5b12ee0369243579651edca43ff65c85" category="cell">NFSv3</block>
  <block id="de841868c2911da76b8ae2da9fa3166d" category="cell">NFSv4.1</block>
  <block id="64e3cc476958b05086721cd6070004cf" category="cell">vMotion與Storage vMotion</block>
  <block id="45a75e44a713fdf94dbf1dbaa0749188" category="cell">容錯能力</block>
  <block id="f1e3446c69e4d87279ff7863482f9dcb" category="cell">DRS</block>
  <block id="6ca09f98e8925b2cb78bbf24eccc0186" category="cell">主機設定檔</block>
  <block id="ec8420797e3b089812499cce4047ded8" category="cell">儲存DRS</block>
  <block id="7c19bf1cbe62a87a42857ef0b4fe22ae" category="cell">儲存I/O控制</block>
  <block id="56d43ad1a280ada5e16fd2960ae44b32" category="cell">SRM</block>
  <block id="d595c8f30866b71ea121ced5cde66b1d" category="cell">虛擬磁碟區</block>
  <block id="6ad5114acf73f68a85c72f11646920cb" category="cell">硬體加速（VAAI）</block>
  <block id="ad37ded9046268d8e5ea7cb253bb5dda" category="cell">Kerberos驗證</block>
  <block id="45701e6ef9bc09dca07f8f4abe661dc6" category="cell">是（vSphere 6.5及更新版本增強支援AES、krb5i）</block>
  <block id="76969a36155d2f41fc6cc3bd3faff244" category="cell">多重路徑支援</block>
  <block id="10408567d24e2dd65731b1e2f0508a5d" category="doc">適用於VMware vSphere的NetApp SnapCenter 功能外掛程式-解決方案先決條件</block>
  <block id="0a70bb0111bccb302f68cc327b0527f8" category="inline-link-macro">上一篇：其他資訊- SnapCenter VMware vSphere的VMware外掛程式-部署。</block>
  <block id="dc69c4899210bca949880d9753e92b35" category="paragraph"><block ref="dc69c4899210bca949880d9753e92b35" category="inline-link-macro-rx"></block></block>
  <block id="8eaab69b7b060fb16ac9ba9484edb36e" category="inline-link-macro">下一步：其他資訊SnapCenter - VMware vSphere的VMware vSphere的VMware外掛程式-備份工作流程。</block>
  <block id="4602e4aeb078cfce115f5bcaf3d65ba7" category="paragraph"><block ref="4602e4aeb078cfce115f5bcaf3d65ba7" category="inline-link-macro-rx"></block></block>
  <block id="c9b6ad26821d78c27282a65584d5f485" category="summary">NetApp提供許多最佳實務做法和解決方案、可在內部部署和雲端環境中提供健全的虛擬化環境。</block>
  <block id="ba64ee63cc4950b57bfb868fabec0db3" category="doc">NetApp虛擬化解決方案</block>
  <block id="01a7d7174ccc6593753679eefec17d49" category="summary">本頁說明在ONTAP VMware vSphere環境中自動化基礎版資訊功能的優點。</block>
  <block id="1406aa071af210d31c6a2951fe66ddcc" category="doc">介紹自動化功能以利ONTAP 實現VMware及vSphere</block>
  <block id="8e2b0503a0ad76f57c96738d7f0a3b0d" category="section-title">VMware自動化</block>
  <block id="b5845209cb81dad561de4abe6e4481c4" category="paragraph">自VMware ESX的第一天起、自動化一直是管理VMware環境的重要一環。能夠以程式碼形式部署基礎架構、並將實務做法延伸至私有雲端作業、有助於減輕對擴充性、靈活度、自我配置及效率的顧慮。</block>
  <block id="f7c9a2e2ec395a7e4b605bb3df40abf8" category="paragraph">自動化可分為下列類別：</block>
  <block id="cba6f5a209d4f2ac1839f1c1e0a10051" category="list-text">*虛擬基礎架構部署*</block>
  <block id="f41d0733c4edc0bf273a3d0587efb21e" category="list-text">*來賓機器作業*</block>
  <block id="7f2a4b0fa787b1f058accb56cc377af8" category="list-text">*雲端營運*</block>
  <block id="290a03d97ea4e48144d20f313e0a0826" category="paragraph">系統管理員可選擇許多選項來自動化基礎架構。無論是使用原生vSphere功能、例如主機設定檔或虛擬機器的自訂規格、或是在VMware軟體元件、作業系統和NetApp儲存系統上使用可用的API、都有重要的文件與指引可供參考。</block>
  <block id="217dd73ccc3bd89b5d4e35d0bf50ea6c" category="paragraph">當ESX主機執行ESX 4.1或更新版本時、支援某些VMware vSphere API for Array Integration（VAAI）功能。Data ONTAPVAAI是一組API、可在VMware vSphere ESXi主機與儲存裝置之間進行通訊。這些功能有助於將作業從ESX主機卸載到儲存系統、並提高網路處理量。ESX主機會在正確的環境中自動啟用這些功能。您可以查看VAAI計數器中的統計資料、判斷系統使用VAAI功能的程度。</block>
  <block id="16123583d64fd438c5d7f5b61a1c1d2f" category="paragraph">自動化VMware環境部署的最常見起點、就是配置區塊或檔案型資料存放區。在開發相應的自動化之前、務必先擬定實際工作的需求。</block>
  <block id="a78bd4dd1db96affe0c2889376cccf53" category="paragraph">如需有關VMware環境自動化的詳細資訊、請參閱下列資源：</block>
  <block id="ebd98e15bf07fe37dfdc879f9d0d1f48" category="inline-link">NetApp酒吧</block>
  <block id="6123648b7dec055b609781b4d47c1b26" category="list-text"><block ref="6c65ff4f1dfb7aa26df896b1c9c849eb" category="inline-link-rx"></block>。NetApp組態管理與自動化。</block>
  <block id="7c4272bef0cc405b65fc74e3791664bc" category="inline-link">適用於VMware的Ansible銀河社群</block>
  <block id="59fb42204e71850f7fd7024e5e6a1058" category="list-text"><block ref="c471bcaf7efa6fb129f37edaa7c41a56" category="inline-link-rx"></block>。VMware的可執行資源集合。</block>
  <block id="1ec695bd70399ce37180f1d84a33d151" category="inline-link">VMware｛CODE｝資源</block>
  <block id="489c5322cef99651507b070e2240b6a8" category="list-text"><block ref="77e0562f07512a7a248241b7170b6944" category="inline-link-rx"></block>。為軟體定義資料中心設計解決方案所需的資源、包括論壇、設計標準、範例程式碼及開發人員工具。</block>
  <block id="3b2287aeb862e195f44c02694fff89fe" category="summary">利用此功能、您可以建立可套用至多個工作的備份原則。SnapCenter這些原則可定義排程、保留、複寫及其他功能。它們持續允許選用VM一致的快照、充分發揮Hypervisor在執行VMware快照之前靜止I/O的能力。</block>
  <block id="b1c93d491ba776d955eb2e3b90908fb9" category="doc">vSphere的其他功能</block>
  <block id="7e7397a7b79323762c61941fc0e6b5f9" category="section-title">資料保護</block>
  <block id="343775d7b18c4ca0af9b7fad57690839" category="paragraph">備份虛擬機器並快速恢復這些虛擬機器、是ONTAP vSphere的絕佳優勢之一、SnapCenter 而使用VMware vSphere的VMware vCenter外掛程式、可輕鬆管理vCenter內部的這項功能。使用Snapshot複本快速複製VM或資料存放區、而不影響效能、然後使用SnapMirror將其傳送至次要系統、以提供長期的異地資料保護。這種方法只儲存變更的資訊、可將儲存空間和網路頻寬減至最低。</block>
  <block id="0aef2da721f0ab14676f8d6ffb9e7e8c" category="inline-link">建議</block>
  <block id="8cc688149346249b3a92e59282755f3e" category="paragraph">利用此功能、您可以建立可套用至多個工作的備份原則。SnapCenter這些原則可定義排程、保留、複寫及其他功能。它們持續允許選用VM一致的快照、充分發揮Hypervisor在執行VMware快照之前靜止I/O的能力。不過、由於VMware快照的效能影響、除非您需要靜止客體檔案系統、否則一般不建議使用這些快照。而是使用ONTAP VMware Snapshot複本進行一般保護、並使用SnapCenter 諸如VMware外掛程式等應用程式工具來保護SQL Server或Oracle等交易資料。這些Snapshot複本與VMware（一致性）快照不同、適合長期保護。VMware快照僅供參考<block ref="75f5ad475d959e2ecb55267e1a9a54f1" category="inline-link-rx"></block> 因效能和其他影響而短期使用。</block>
  <block id="26aae91a7d92b32a60b1fbc86c29ee81" category="paragraph">這些外掛程式提供延伸功能、可在實體和虛擬環境中保護資料庫。有了vSphere、您可以使用它們來保護SQL Server或Oracle資料庫、其中資料儲存在RDM LUN、iSCSI LUN直接連線至來賓作業系統、或VMDK或NFS資料存放區上的VMDK檔案。外掛程式可指定不同類型的資料庫備份、支援線上或離線備份、以及保護資料庫檔案和記錄檔。除了備份與還原之外、外掛程式也支援複製資料庫以供開發或測試之用。</block>
  <block id="1556ba0bf6ea4783cda0ff40e96f0265" category="paragraph">下圖說明SnapCenter 了一套功能性部署的範例。</block>
  <block id="54ee9d8cd5db70a761321f3e7d168445" category="paragraph"><block ref="54ee9d8cd5db70a761321f3e7d168445" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6c1bef29e8dc34a00e17b06c221d5efe" category="paragraph">如需增強的災難恢復功能、請考慮搭配ONTAP VMware Site Recovery Manager使用NetApp SRA for VMware。除了支援將資料存放區複寫至DR站台之外、它也能透過複製複寫的資料存放區、在DR環境中進行不中斷營運的測試。SRA內建自動化功能、可在故障解決後、輕鬆從災難中恢復並重新保護正式作業。</block>
  <block id="650062685b0df8284f1b87f62fa3f9f3" category="inline-link">TR-4128</block>
  <block id="886a3fd32ec402d87ea2b090f8f701b2" category="paragraph">最後、若要獲得最高層級的資料保護、請考慮使用NetApp MetroCluster VMware vSphere Metro Storage Cluster（VMSC）組態。VMSC是VMware認證的解決方案、結合了同步複寫與陣列式叢集、提供高可用度叢集的相同優勢、但分散在不同站台、以防止站台災難發生。NetApp MetroCluster 解決方案提供具成本效益的組態、可讓您以透明的方式從任何單一儲存元件故障中恢復同步複寫、並在發生站台災難時提供單一命令恢復功能。VMSC的詳細說明請參閱<block ref="737e6eedc4568d5bb72c6a6cf1fe681a" category="inline-link-rx"></block>。</block>
  <block id="752d71c042ef775879f6db705ccf6b31" category="section-title">空間回收</block>
  <block id="d490382851fbc5bd6720046bf9bc0c03" category="paragraph">當從資料存放區刪除VM時、可回收空間以供其他用途使用。使用NFS資料存放區時、刪除VM時會立即回收空間（當然、此方法只有在精簡配置磁碟區時才適用、也就是將磁碟區保證設為「無」）。不過、在VM客體作業系統中刪除檔案時、不會使用NFS資料存放區自動回收空間。對於LUN型VMFS資料存放區、ESXi和來賓作業系統可將VAAI取消對應原始資源至儲存區（同樣地、使用精簡配置時）、以回收空間。視版本而定、此支援可能為手動或自動。</block>
  <block id="6a2bff0a8d10ca0fc6c782e7978f696a" category="inline-link">2037513</block>
  <block id="8927aab76c49d1deb0b407fd261d5aa6" category="inline-link">儲存空間回收</block>
  <block id="99a66df20e19a8e18fae37a7f714750a" category="section-title">虛擬機器與資料存放區複製</block>
  <block id="d355cf5d1a16095124a54902f7cf49db" category="paragraph">複製儲存物件可讓您快速建立複本以供進一步使用、例如配置額外的VM、備份/還原作業等。在vSphere中、您可以複製VM、虛擬磁碟、vVol或資料存放區。複製之後、通常可透過自動化程序、進一步自訂物件。vSphere同時支援完整複本複本複本複本、以及連結的複本、可在其中分別追蹤原始物件的變更。</block>
  <block id="78f8f8d69825dfe8e6085151fa565f28" category="paragraph">連結的複本非常適合用來節省空間、但會增加vSphere處理VM的I/O量、進而影響該VM的效能、甚至可能影響整個主機的效能。這就是NetApp客戶經常使用儲存系統型複本、以獲得兩全其美：有效使用儲存設備及提升效能。</block>
  <block id="17e1a153b5d05c5a642c93ba9ce3c6de" category="paragraph">下圖說明ONTAP 了還原複製。</block>
  <block id="8ee3cd3dba25fb32f1bc38cb528ac998" category="paragraph"><block ref="8ee3cd3dba25fb32f1bc38cb528ac998" category="inline-image-macro-rx" type="image"></block></block>
  <block id="76ee7355875ad5e9f56186ff7da961f6" category="paragraph">複製可ONTAP 透過多種機制卸載至執行支援軟體的系統、通常是VM、vVol或資料存放區層級。其中包括：</block>
  <block id="3b6d066ffdecb2beb542ef68e773d4ae" category="list-text">VVols使用NetApp vSphere API for Storage Aware（VASA）Provider。利用VMware vCenter複本來支援vVol Snapshot複本、這些複本不僅節省空間、而且能將I/O效果降至最低、以供建立及刪除。ONTAP也可以使用vCenter複製VM、這些VM也會卸載到ONTAP VMware、無論是在單一資料存放區/ Volume內、或是在資料存放區/磁碟區之間。</block>
  <block id="059e5a6b7f963e9876ba0129dc1b667d" category="list-text">使用vSphere API進行vSphere複製與移轉–陣列整合（VAAI）。VM複製作業可在ONTAP SAN和NAS環境中卸載至VMware（NetApp提供ESXi外掛程式來啟用VAAI for NFS）。vSphere僅卸載NAS資料存放區中的冷（關機）VM作業、而熱VM（複製與儲存vMotion）上的作業也會卸載用於SAN。根據來源、目的地及安裝的產品授權、使用最有效率的方法。ONTAPVMware Horizon View也會使用此功能。</block>
  <block id="a603c207c7b5801942ff108502676c12" category="list-text">SRA（與VMware Site Recovery Manager搭配使用）。在此、複本可用來在不中斷營運的情況下測試災難恢復複本的還原。</block>
  <block id="bb300d356d258c084dbe5da2ca367e08" category="list-text">使用SnapCenter NetApp工具（如VMware）進行備份與恢復。VM複製可用來驗證備份作業、以及掛載VM備份、以便複製個別檔案。</block>
  <block id="524b5b8bc03312baeafbea86df667c4b" category="paragraph">VMware、NetApp及協力廠商工具可叫用不需載入的複製。ONTAP卸載至ONTAP 不完整的複本有多項優點。在大多數情況下、它們都能節省空間、只需要儲存設備來變更物件；讀取和寫入時不會產生額外的效能影響、在某些情況下、透過在高速快取中共用區塊來改善效能。此外、也會從ESXi伺服器卸載CPU週期和網路I/O。使用FlexClone授權、在傳統資料存放區內使用FlexVol 實體磁碟區的複本卸載作業既快速又有效率、但FlexVol 在各個實體磁碟區之間的複本可能會較慢。如果您將VM範本保留為複製來源、請考慮將其放在資料存放區磁碟區內（使用資料夾或內容程式庫來組織它們）、以獲得快速且具空間效益的複本。</block>
  <block id="f3968368501d882b3969da59138db6e2" category="paragraph">您也可以直接複製ONTAP 實體內部的磁碟區或LUN、以複製資料存放區。有了NFS資料存放區、FlexClone技術就能複製整個Volume、而且可從ONTAP VMware匯出該實體複本、並由ESXi作為另一個資料存放區來掛載。對於VMFS資料存放區、ONTAP VMware可以複製一個或整個Volume內的LUN、包括其中的一個或多個LUN。包含VMFS的LUN必須對應至ESXi啟動器群組（igroup）、然後由ESXi重新簽名、才能掛載並作為一般資料存放區使用。在某些臨時使用案例中、可以掛載複製的VMFS、而無需重新簽名。複製資料存放區之後、就可以登錄、重新設定及自訂其中的VM、就像是個別複製的VM一樣。</block>
  <block id="1c12a8dd266e356901d22c0b7711369d" category="paragraph">在某些情況下、您可以使用額外的授權功能來強化複製功能、例如SnapRestore 針對備份或FlexClone的功能。這些授權通常包含在授權套裝組合中、不需額外付費。VVol複製作業需要FlexClone授權、也需要支援VVol的託管Snapshot複本（從Hypervisor卸載至ONTAP 不支援）。FlexClone授權也能在資料存放區/磁碟區內使用時、改善特定的VAAI型複本（建立即時、節省空間的複本、而非區塊複本）。SRA也會在測試災難恢復複本的恢復時使用此複本、SnapCenter 而使用此複本來執行複製作業、並瀏覽備份複本來還原個別檔案。</block>
  <block id="6d30b2619de7fa18e965516b291a1937" category="section-title">儲存效率與資源隨需配置</block>
  <block id="616c027f14ee5f1bbc866171c4017141" category="paragraph">NetApp以儲存效率創新技術引領業界、例如第一次用於主要工作負載的重複資料刪除技術、以及內嵌資料壓縮技術、可強化壓縮並有效儲存小型檔案與I/O。支援即時與背景重複資料刪除、以及即時與背景資料壓縮。ONTAP</block>
  <block id="8f105eeb6dc3fc4ce0d4758aeab4a256" category="paragraph">下圖說明ONTAP 了功能強大的功能特性、</block>
  <block id="4b7a9b58ab55917c054d5a636481a8b8" category="paragraph"><block ref="4b7a9b58ab55917c054d5a636481a8b8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8e89f9787f44321e33f85595321efc66" category="paragraph">以下是ONTAP 在vSphere環境中使用效能提升的建議：</block>
  <block id="c2eea4e122397fa75d749bdbdcd4302d" category="list-text">實現的重複資料刪除節省量取決於資料的通用性。利用NetApp 9.1及更早版本、重複資料刪除技術可在磁碟區層級運作、但在更新版本的NetApp 9.2中、資料會在整個NetApp系統上的集合體中、對所有磁碟區進行重複資料刪除。ONTAP ONTAP AFF您不再需要在單一資料存放區中將類似的作業系統和類似的應用程式分組、以達到最大的節約效益。</block>
  <block id="59eb554aa77d0e4dfdc304b3b914dd76" category="list-text">為了在區塊環境中實現重複資料刪除的效益、LUN必須精簡配置。雖然VM管理員仍認為LUN採用已配置的容量、但重複資料刪除的節約效益會傳回磁碟區、以供其他需求使用。NetApp建議將這些LUN部署在FlexVol 同樣精簡配置的VMware vSphere ONTAP 磁碟區（VMware vSphere的VMware工具可將磁碟區大小比LUN大5%）。</block>
  <block id="1e84230a4e75abc233d64344b14fd511" category="list-text">此外、也建議（而且是預設）將資源隨需配置用於NFS FlexVol SFC磁碟區。在NFS環境中、使用精簡配置的磁碟區、儲存設備和VM管理員都能立即看到重複資料刪除的節約效益。</block>
  <block id="b26ed63d0f1199652537e2c4b6752130" category="list-text">精簡配置也適用於VM、NetApp通常會建議採用精簡配置的VMDK、而非完整配置。使用精簡配置時、請務必使用ONTAP VMware vSphere、ONTAP VMware vCenter或其他可用工具的VMware vCenter工具來監控可用空間、以避免空間不足的問題。</block>
  <block id="041f3a2c9d939c181dbd2a95595455d0" category="list-text">請注意、搭配ONTAP 使用精簡配置搭配使用時、效能不會受到任何影響；資料會寫入可用空間、以便將寫入效能和讀取效能最大化。儘管如此、有些產品（例如Microsoft容錯移轉叢集或其他低延遲應用程式）可能需要保證或固定的資源配置、因此遵循這些要求以避免支援問題是明智的做法。</block>
  <block id="473c8efc5f9b8640820a9cc1f9c84862" category="list-text">為達到最大的重複資料刪除節約效益、請考慮在硬碟型系統上排程背景重複資料刪除、或AFF 是在各種系統上自動執行背景重複資料刪除。不過、排程的程序會在執行時使用系統資源、因此理想情況下、應在較少的使用時間（例如週末）排程、或是更頻繁地執行、以減少要處理的變更資料量。在不影響前景活動的情況下、自動在幕後重複資料刪除AFF 技術的影響會大幅降低。背景壓縮（適用於硬碟型系統）也會耗用資源、因此只能考量效能需求有限的次要工作負載。</block>
  <block id="dd76252ea7a50def2a98f218cb1505b4" category="inline-link">知識庫文章</block>
  <block id="ac2fab512a521d04e53c7257ef490187" category="list-text">NetApp AFF 產品特色系統主要使用內嵌儲存效率功能。使用NetApp工具（例如7-Mode Transition Tool、SnapMirror或Volume Move）將資料移至這些工具時、執行壓縮和壓縮掃描程式以最大化效率節約效益、是非常實用的做法。檢閱此NetApp支援<block ref="a24ae202a787a3e4695f02339b72bb57" category="inline-link-rx"></block> 以取得更多詳細資料。</block>
  <block id="af21d2d4e0d0faaa6435e780ed7fbc49" category="list-text">Snapshot複本可能會鎖定可透過壓縮或重複資料刪除來減少的區塊。使用排程的背景效率或一次性掃描程式時、請確定在執行下一個Snapshot複本之前、它們都已執行完成。檢閱Snapshot複本和保留資料、確保您只保留所需的Snapshot複本、尤其是在執行背景或掃描儀工作之前。</block>
  <block id="8f4468ee9f4f074a9f705cd8240de3d9" category="paragraph">下表針對不同類型ONTAP 的NetApp儲存設備上的虛擬化工作負載、提供儲存效率準則：</block>
  <block id="68eaabb91b0d1c52be44217a24f27b91" category="cell">工作負載</block>
  <block id="84f3306d313cbbe707b0df3807aa77ef" category="cell">儲存效率準則</block>
  <block id="c8984126713ed072b9cb0a44a162be4d" category="cell">AFF</block>
  <block id="5325da9878854628027602da18e5fc14" category="cell">Flash Pool</block>
  <block id="9aa1187640093122ffdb7e1c18f8586d" category="cell">硬碟機</block>
  <block id="9bbf225892f3ce69fc504d145abe3ded" category="cell">VDI與SVI</block>
  <block id="1be6174441cf80d01c59eb7a9c004498" category="paragraph">對於一線和二線工作負載、請使用：</block>
  <block id="738b6df06bc30a1f2fa6d500095bfceb" category="list-text">可調適的即時壓縮</block>
  <block id="f801303ba7009e27cce2fe9a73dc5ebe" category="list-text">即時重複資料刪除技術</block>
  <block id="f94a70bfe4407315e07db5e64706e531" category="list-text">背景重複資料刪除技術</block>
  <block id="95f3762d2d933ff2c0f6e30ef2c767c9" category="list-text">即時資料精簡</block>
  <block id="22be9b04282591df89574efb0e9d2315" category="paragraph">對於主要工作負載、請使用：</block>
  <block id="e37f23785e68eb0a9d5afd7457b0903e" category="paragraph">對於次要工作負載、請使用：</block>
  <block id="7901e1160498e7aff40dc0f858411c54" category="list-text">可調整的背景壓縮</block>
  <block id="be0ec3d9251292dd856ea0924ecc6873" category="section-title">服務品質（QoS）</block>
  <block id="f437881fa7e42bf0e4563bbec8176f81" category="paragraph">執行ONTAP 支援功能的系統可使用ONTAP 「支援服務品質」功能、限制檔案、LUN、磁碟區或整個SVM等不同儲存物件的每秒處理量（以Mbps和/或I/O（IOPS）為單位）。</block>
  <block id="fb4aa9631cd742ae8a88f672b4464b37" category="paragraph">處理量限制可在部署前控制未知或測試工作負載、以確保不會影響其他工作負載。它們也可用於在識別出高效能工作負載之後加以限制。也支援以IOPS為基礎的最低服務層級、以提供一致的效能、適用於ONTAP VMware的SAN物件、以及ONTAP 支援VMware的NAS物件。</block>
  <block id="3e4a2dc31acddb628ba286d25b1bd36e" category="paragraph">有了NFS資料存放區、QoS原則可套用至FlexVol 整個VMware磁碟區或其中的個別VMDK檔案。使用ONTAP 使用VMware LUN的VMFS資料存放區時、QoS原則可套用至FlexVol 包含LUN或個別LUN的VMware磁碟區、但不能套用個別VMDK檔案、因為ONTAP VMware對VMFS檔案系統沒有任何認知。使用vVols時、可使用儲存功能設定檔和VM儲存原則、在個別VM上設定最低和/或最高QoS。</block>
  <block id="534ecd446aac2f9c809eef9064f44aab" category="paragraph">物件的QoS最大處理量限制可設定為Mbps和/或IOPS。如果兩者皆使用、ONTAP 則由支援執行第一個上限。工作負載可以包含多個物件、QoS原則也可以套用至一或多個工作負載。當原則套用至多個工作負載時、工作負載會共用原則的總限制。不支援巢狀物件（例如、磁碟區內的檔案無法各自擁有自己的原則）。QoS最低值只能以IOPS設定。</block>
  <block id="040f184b126879657b253b6d258661d9" category="paragraph">下列工具目前可用於管理ONTAP 不實的QoS原則、並將其套用至物件：</block>
  <block id="de134183bea5df515a6756a539ce6f18" category="list-text">CLI ONTAP</block>
  <block id="6ad5e0a20f49ad6a370454bb3afc9a9e" category="list-text">系統管理程式ONTAP</block>
  <block id="8e23e05fc0865e950d6a3581e0dd8ce9" category="list-text">OnCommand Workflow Automation</block>
  <block id="5ecb6b24c169667ff1a176768115659e" category="list-text">Active IQ Unified Manager</block>
  <block id="8cc4e713850f67a131e9dbf8b997f61e" category="list-text">NetApp PowerShell Toolkit for ONTAP</block>
  <block id="fcdb48d0d22627e4910a8352c80bd87a" category="list-text">VMware vSphere VASA Provider適用的工具ONTAP</block>
  <block id="e6defd03e0f49585b6d47614713e97f7" category="paragraph">若要將QoS原則指派給NFS上的VMDK、請注意下列準則：</block>
  <block id="10509998e8d4c4d7be30fc1d0b6b2a1e" category="list-text">此原則必須套用至包含實際虛擬磁碟映像的「vmname-flat.vmdk」、而非「vmname.vmdk」（虛擬磁碟描述元檔案）或「vmname.vmx」（VM描述元檔案）。</block>
  <block id="2175e0e29bc4b213fa8b9c7afd591b6b" category="list-text">請勿將原則套用至其他VM檔案、例如虛擬交換檔（'vmname.vswp'）。</block>
  <block id="8230e9b5c1e9862fedb2c69f7cc5d3d1" category="list-text">使用vSphere Web用戶端尋找檔案路徑（資料存放區&gt;檔案）時、請注意、它會結合「-flat.vmdk」和「」的資訊。vmdk'並只顯示一個名稱為「」的檔案。vmdk的大小。將「-flat」新增至檔案名稱、以取得正確的路徑。</block>
  <block id="1d4614aca13104c98d5d8cc2d415b941" category="paragraph">若要將QoS原則指派給LUN、包括VMFS和RDM、ONTAP 顯示為Vserver的SVM、LUN路徑和序號、可從ONTAP VMware vSphere的「VMware vSphere的VMware vSphere」（VMware vSphere）「VMware vCenter工具」首頁上的「儲存系統」功能表取得。選取儲存系統（SVM）、然後選取「相關物件」&gt;「SAN」。使用ONTAP 其中一項功能來指定QoS時、請使用此方法。</block>
  <block id="8ce0096ff26ebe0a38466de6a64f461d" category="paragraph">利用ONTAP VMware vSphere或Virtual Storage Console 7.1及更新版本的VMware vSphere或Virtual Storage Console 7.1工具、可輕鬆將最大和最小QoS指派給VVol型VM。為VVol容器建立儲存功能設定檔時、請在效能功能下指定最大和/或最小IOPS值、然後將此SCP與VM的儲存原則一起參照。建立VM或將原則套用至現有VM時、請使用此原則。</block>
  <block id="421c9efa4ff1b039a5378be7bc1e2e49" category="paragraph">使用VMware vSphere 9.8及更新版本的VMware vSphere 9.8版的VMware VMware vCenter資料存放區提供增強的QoS功能。FlexGroup ONTAP您可以輕鬆地在資料存放區或特定VM的所有VM上設定QoS。如FlexGroup 需詳細資訊、請參閱本報告的「參考資料」一節。</block>
  <block id="77bb2ba950959bd3f1c55da523ace0be" category="section-title">QoS和VMware SIOC ONTAP</block>
  <block id="b2e21dac6070ea83831ff6521a66a447" category="paragraph">VMware vSphere儲存I/O控制（SIOC）是相輔相成的技術、vSphere和儲存管理員可以搭配使用、來管理執行VMware軟體之系統上所託管vSphere VM的效能。ONTAP ONTAP每個工具都有自己的優點、如下表所示。由於VMware vCenter和ONTAP VMware vCenter的範圍不同、有些物件可由一個系統來查看和管理、而非由另一個系統來管理。</block>
  <block id="5ad234cb2cde4266195252a23ca7d84e" category="cell">屬性</block>
  <block id="b8b8d1ba8fa345f03438a90f29af5784" category="cell">QoS ONTAP</block>
  <block id="c2a4cb962db2a4a6782b69864f0e411c" category="cell">VMware SIOC</block>
  <block id="aa628d5a66888444926b4dc042458200" category="cell">當作用中時</block>
  <block id="688b10fcfff927dee65634e3b3636064" category="cell">原則永遠處於作用中狀態</block>
  <block id="a981c4aa67c29ff2d36fc614d8b28808" category="cell">存在爭用時作用中（超過臨界值的資料存放區延遲）</block>
  <block id="f46e64a82c96db56f3d6657d4fb53f00" category="cell">單位類型</block>
  <block id="878b4223bb85b95d8caf0429d9406cd5" category="cell">IOPS、Mbps</block>
  <block id="3e189a34f422a141311dad231f9ad5b5" category="cell">IOPS、共享</block>
  <block id="7367a0ec46339213625cbc77d56a9572" category="cell">vCenter或應用程式範圍</block>
  <block id="1faff19290bb64ce8ff6bc1220496881" category="cell">多個vCenter環境、其他Hypervisor和應用程式</block>
  <block id="1e664a3cc0ab109fcabcc81b488cebb1" category="cell">單一vCenter伺服器</block>
  <block id="ebccc9f5c939841d86e5382988dfcc47" category="cell">在VM上設定QoS？</block>
  <block id="cddd0980ce99890d2ea90288f6b03117" category="cell">僅NFS上的VMDK</block>
  <block id="928629d8a2a889f5274cad9940a06da0" category="cell">NFS或VMFS上的VMDK</block>
  <block id="305e85b992089534091855224f60cf75" category="cell">設定LUN上的QoS（RDM）？</block>
  <block id="e798014243cf5682e7fb3aaf4ee7cecf" category="cell">在LUN（VMFS）上設定QoS？</block>
  <block id="9cd021ea9d3c88de723fe9a2e50a2380" category="cell">在Volume（NFS資料存放區）上設定QoS？</block>
  <block id="c352b53c32380efcf4436926da6d0414" category="cell">在SVM（租戶）上設定QoS？</block>
  <block id="86aad9b5d177180a5b9e828a8e05e819" category="cell">以原則為基礎的方法？</block>
  <block id="b31c76176f26196c6379a9bcce212d99" category="cell">是；可由原則中的所有工作負載共用、或完全套用至原則中的每個工作負載。</block>
  <block id="1ff33557bad923d68973872cacf2e43a" category="cell">是、使用vSphere 6.5及更新版本。</block>
  <block id="d5f1465492190ee9d30a09b36f64f4b7" category="cell">需要授權</block>
  <block id="4cec76d82991abd453484c23f7e3788a" category="cell">隨附ONTAP 於此功能</block>
  <block id="6bb36803f4670824ff9ebdf665654829" category="cell">Enterprise Plus</block>
  <block id="400cc516a4a40acd605aef2cfd4ba4c0" category="section-title">VMware Storage Distributed Resource Scheduler</block>
  <block id="06604b0172f4ae639ffe8c44fa7c77d8" category="paragraph">VMware儲存分散式資源排程器（SDR）是vSphere功能、可根據目前的I/O延遲和空間使用量、將VM放置在儲存設備上。接著、它會在資料存放區叢集中的資料存放區之間（也稱為Pod）、在不中斷營運的情況下移動VM或VMDK、並選取將VM或VMDK置於資料存放區叢集中的最佳資料存放區。資料存放區叢集是類似資料存放區的集合、會從vSphere管理員的觀點彙總成單一使用單位。</block>
  <block id="5735cfd4d72f50fd28717ac30361b503" category="paragraph">將SDR搭配適用於ONTAP VMware vSphere的NetApp VMware版資訊工具使用時、您必須先使用外掛程式建立資料存放區、使用vCenter建立資料存放區叢集、然後將資料存放區新增至其中。建立資料存放區叢集之後、可直接從「詳細資料」頁面上的資源配置精靈、將其他資料存放區新增至資料存放區叢集。</block>
  <block id="b028cce2007c32457c41f20d2954c0c2" category="paragraph">SDR的ONTAP 其他最佳實務做法包括：</block>
  <block id="d11eff5be5178b7ba95b06270611ffc8" category="list-text">叢集中的所有資料存放區都應該使用相同類型的儲存設備（例如SAS、SATA或SSD）、無論是所有VMFS或NFS資料存放區、都具有相同的複寫和保護設定。</block>
  <block id="76db7ce67615bbc16da685df79ed0aa9" category="list-text">請考慮在預設（手動）模式下使用SDR。此方法可讓您檢閱建議、並決定是否要套用建議。請注意VMDK移轉的下列影響：</block>
  <block id="97f4ed95cb52bb29629002a25cb5039f" category="list-text">當SDR在資料存放區之間移動VMDK時、ONTAP 任何從還原複製或重複資料刪除所節省的空間都會遺失。您可以重新執行重複資料刪除、以重新獲得這些節約效益。</block>
  <block id="cc1aa351f771fc36d1542fa93e1fac8e" category="list-text">在SDR移動VMDK之後、NetApp建議在來源資料存放區重新建立Snapshot複本、因為空間會被移動的VM鎖定。</block>
  <block id="09a99cbc4fb85d10c7af970e79032a05" category="list-text">在同一個集合體上的資料存放區之間移動VMDK並沒有什麼好處、而且SDR無法看到可能共用該集合體的其他工作負載。</block>
  <block id="a30850531baecbfbe4486d4be9e79e30" category="section-title">儲存原則型管理與vVols</block>
  <block id="f2606439d8a3fed353e38254458c0a32" category="paragraph">VMware vSphere API for Storage感知（VASA）可讓儲存管理員輕鬆設定具有明確定義功能的資料存放區、並讓VM管理員在需要時使用這些功能來配置VM、而不需要彼此互動。值得一看、瞭解這種方法如何簡化您的虛擬化儲存作業、避免許多瑣碎的工作。</block>
  <block id="ad0bd815b4fb6f01acc94f160af3dca7" category="paragraph">在VASA之前、VM管理員可以定義VM儲存原則、但他們必須與儲存管理員合作、以識別適當的資料存放區、通常是使用文件或命名慣例。有了VASA、儲存管理員可以定義一系列的儲存功能、包括效能、分層、加密及複寫。一組磁碟區或一組磁碟區的功能稱為儲存功能設定檔（scp）。</block>
  <block id="a3af04d147e48682c8be6bd0c1b66520" category="paragraph">該scp支援VM資料VVols的最低和/或最高QoS。只AFF 有在不支援的系統上才支援最低QoS。VMware vSphere的VMware vSphere工具包含儀表板、可顯示VM精細的效能、以及在VMware系統上用於vVols的邏輯容量。ONTAP ONTAP</block>
  <block id="4240fa68f6d9919e6d039c4038175025" category="paragraph">下圖說明ONTAP VMware vSphere 9.8 vVols儀表板的各項功能。</block>
  <block id="d3fcb217aa8b45eb8a95f8958c1f7746" category="paragraph"><block ref="d3fcb217aa8b45eb8a95f8958c1f7746" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a6257d346f635c1b16a2f39df0830a48" category="paragraph">定義儲存功能設定檔之後、就可以使用識別其需求的儲存原則來配置VM。VM儲存原則與資料存放區儲存功能設定檔之間的對應、可讓vCenter顯示相容資料存放區清單以供選擇。這種方法稱為儲存原則型管理。</block>
  <block id="ca100a4ba1d4641f17806479f93c8b1a" category="paragraph">VASA提供查詢儲存設備的技術、並將一組儲存功能傳回vCenter。VASA廠商供應商會提供儲存系統API與架構之間的轉譯、以及vCenter所瞭解的VMware API。NetApp的VASA Provider ONTAP for VMware是ONTAP VMware vSphere應用裝置VM的支援工具之一、vCenter外掛程式提供介面、可用來配置及管理VVol資料存放區、以及定義儲存功能設定檔（SCP）的功能。</block>
  <block id="dad160104969c39365dd2cd4c98dd300" category="inline-link">TR-4400</block>
  <block id="79f0d5feb7ec25a16c407f3f585eabb2" category="paragraph">支援VMFS和NFS vVol資料存放區。ONTAP將vVols與SAN資料存放區搭配使用、可帶來NFS的部分效益、例如VM層級的精細度。以下是一些最佳實務做法、您可以在中找到更多資訊<block ref="4f23d4db151ca74200684ac8aef53fed" category="inline-link-rx"></block>：</block>
  <block id="bd490c925219bcb312338a370589bf70" category="list-text">VVol資料存放區可由FlexVol 多個叢集節點上的多個支援功能區所組成。最簡單的方法是單一資料存放區、即使磁碟區具有不同的功能也一樣。SPBM可確保VM使用相容的Volume。然而、這些磁碟區必須全部屬於ONTAP 單一的一套功能、並使用單一傳輸協定來存取。每個節點的每個傳輸協定只需一個LIF就足夠了。避免在ONTAP 單一VVol資料存放區中使用多個版本的支援、因為儲存功能可能因版本而異。</block>
  <block id="0cc956d6da91fefae9dad9b2c8c9519b" category="list-text">使用ONTAP VMware vSphere外掛程式的VMware vCenter工具來建立及管理VVol資料存放區。除了管理資料存放區及其設定檔之外、它還會自動建立傳輸協定端點、以便在需要時存取vVols。如果使用LUN、請注意LUN PE是使用LUN ID 300以上的LUN來對應。確認ESXi主機進階系統設定「磁碟、最大LUN」允許的LUN ID號碼高於300（預設值為1、024）。若要執行此步驟、請在vCenter中選取ESXi主機、然後選取「Configure（設定）」索引標籤、並在「Advanced System Settings（進階系統設定）」清單中找到「磁碟。MaxLUN」。</block>
  <block id="fac85f355a1eb47127ef1b94e7603924" category="list-text">請勿安裝或移轉VASA Provider、vCenter Server（應用裝置或Windows）或ONTAP VMware vSphere的各種支援工具到vVols資料存放區、因為這些工具彼此相依、因此在停電或其他資料中心中斷時、您無法管理這些工具。</block>
  <block id="27bd00c8827fc3d77d1b5650103b676f" category="list-text">定期備份VASA Provider VM。至少要建立包含VASA Provider之傳統資料存放區的每小時Snapshot複本。如需保護及恢復VASA Provider的詳細資訊、請參閱此<block ref="9d642870dca1748c69f7aa0b6fb95a89" category="inline-link-rx"></block>。</block>
  <block id="2d2d2e356f9ab117b7d2a58d42cc5988" category="paragraph">下圖顯示vVols元件。</block>
  <block id="6aadcb77504dae1dbfed2e4d1c969158" category="paragraph"><block ref="6aadcb77504dae1dbfed2e4d1c969158" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0ce8b0e3e0d7dc7f39c62fb74a28b3bf" category="section-title">雲端移轉與備份</block>
  <block id="4fe11b4a91ff38ec9933009a15dd5b0b" category="paragraph">另一ONTAP 項優勢是廣泛支援混合雲、將內部部署私有雲中的系統與公有雲功能合併在一起。以下是一些可搭配vSphere使用的NetApp雲端解決方案：</block>
  <block id="67464b4510c09197c8a5e16ba6702435" category="list-text">* Cloud Volumes.* NetApp Cloud Volumes Service 的AWS或GCP及Azure NetApp Files 適用於ANF的支援功能、可在領先業界的公有雲環境中提供高效能、多重傳輸協定的託管儲存服務。VMware Cloud VM來賓可以直接使用。</block>
  <block id="0ac7b95ec26051fb8842ae35427ecc22" category="list-text">*《NetApp》資料管理軟體可在您選擇的雲端上、為您的資料提供控制、保護、靈活度及效率。Cloud Volumes ONTAP Cloud Volumes ONTAPNetApp是以NetApp解決方案儲存軟體為建置基礎的雲端原生資料管理軟體。Cloud Volumes ONTAP ONTAP搭配Cloud Manager一起使用、即可部署Cloud Volumes ONTAP 及管理包含ONTAP 內部部署的各種系統的不二執行個體。利用進階NAS和iSCSI SAN功能、以及統一化資料管理、包括Snapshot複本和SnapMirror複寫。</block>
  <block id="2a11701c0c01affc0ce96eb0d0c16ed9" category="list-text">* Cloud Services。*使用Cloud Backup Service NetApp或SnapMirror Cloud、利用公有雲儲存設備保護內部部署系統的資料。可協助您在NAS、物件儲存區和物件儲存區之間移轉及保持資料同步。Cloud Sync Cloud Volumes Service</block>
  <block id="fa9b5353337118a51ced7968bccc02a0" category="inline-link">儲存更多VM的Snapshot複本</block>
  <block id="c79f1f00e1e3c8f100e8604eec888859" category="list-text">* FabricPool 《*》FabricPool *《*》*《*》提供快速且簡單的ONTAP 資料分層功能。Snapshot複本中的冷區塊可移轉至公有雲或私有StorageGRID 的物件存放區、ONTAP 並在再次存取該資料時自動重新叫用。或是將物件層用作SnapVault 已由效益管理的資料的第三層保護。您可以使用這種方法<block ref="1d0add9d2d81e2d7e790f727021e53aa" category="inline-link-rx"></block> 在一線ONTAP 和/或二線的不二元儲存系統上。</block>
  <block id="1a7072854c9dd945a98f4314b3f77408" category="list-text">*《*》。*使用NetApp軟體定義的儲存設備、將您的私有雲端延伸至遠端設施和辦公室、您可以使用《》來支援區塊和檔案服務、以及您在企業資料中心擁有的相同vSphere資料管理功能。ONTAP Select ONTAP Select</block>
  <block id="79aec220098057ef8c0e46281a45d6c2" category="paragraph">在設計VM型應用程式時、請考慮未來的雲端行動力。例如、應用程式和資料檔案不會放在一起、而是使用個別的LUN或NFS匯出來匯出資料。這可讓您將VM和資料分別移轉至雲端服務。</block>
  <block id="af63597853dc0983258c8f86a12aae0b" category="section-title">vSphere資料加密</block>
  <block id="eb969673f581d94df982f8e2a6001f30" category="paragraph">如今、透過加密保護閒置資料的需求與日俱增。雖然最初的焦點是財務與醫療資訊，但對於保護所有資訊的興趣日益增加，無論這些資訊儲存在檔案、資料庫或其他資料類型中。</block>
  <block id="77652ecf0c76f1d4194171dc720320be" category="paragraph">執行ONTAP 此軟體的系統可透過閒置加密、輕鬆保護任何資料。NetApp儲存加密（NSE）使用自我加密的磁碟機ONTAP 搭配使用、以保護SAN和NAS資料。NetApp也提供NetApp Volume Encryption和NetApp Aggregate Encryption、這是一種簡單、以軟體為基礎的方法、可加密任何磁碟機上的磁碟區。此軟體加密不需要特殊磁碟機或外部金鑰管理程式、ONTAP 不需額外付費、即可提供給其他客戶。您可以在不中斷用戶端或應用程式的情況下升級及開始使用、而且它們已通過FIPS 140-2第1級標準驗證、包括內建金鑰管理程式。</block>
  <block id="937a352e0f824ff55e4cd50c8e3b051e" category="paragraph">有幾種方法可以保護在VMware vSphere上執行的虛擬化應用程式資料。其中一種方法是在客體作業系統層級使用VM內部的軟體來保護資料。vSphere 6.5等較新的Hypervisor現在也支援VM層級的加密、這是另一種替代方案。不過、NetApp軟體加密既簡單又簡單、而且具有下列優點：</block>
  <block id="92fbd315c4413db381567a775570b78c" category="list-text">*對虛擬伺服器CPU沒有影響。*某些虛擬伺服器環境需要其應用程式的每個可用CPU週期、但測試顯示、Hypervisor層級加密需要高達5倍的CPU資源。即使加密軟體支援Intel的AES-NI指令集、以卸載加密工作負載（如同NetApp軟體加密）、由於新CPU與舊伺服器不相容、因此這種方法可能不可行。</block>
  <block id="6abee98aea26f85e6f0fe8d4db70f998" category="list-text">*隨附機上金鑰管理程式。* NetApp軟體加密包含內建金鑰管理程式、不需額外付費、因此無需購買和使用複雜的高可用度金鑰管理伺服器、即可輕鬆開始使用。</block>
  <block id="c216121021de8554d33503ef6616b256" category="list-text">*對儲存效率沒有影響。*目前廣泛使用重複資料刪除與壓縮等儲存效率技術、是以具成本效益的方式使用Flash磁碟媒體的關鍵。不過、加密資料通常無法進行重複資料刪除或壓縮。NetApp硬體與儲存加密的運作層級較低、可充分運用領先業界的NetApp儲存效率功能、不像其他方法。</block>
  <block id="5f9aa8333f218d1c21e67c8608a48672" category="list-text">*輕鬆進行資料存放區精細加密。*有了NetApp Volume Encryption、每個磁碟區都能獲得自己的AES 256位元金鑰。如果您需要變更、只要使用一個命令即可。如果您有多個租戶、或需要證明不同部門或應用程式的獨立加密、這種方法非常適合。這種加密是在資料存放區層級進行管理、比管理個別VM容易得多。</block>
  <block id="088124cfa6d59c647e63177c5a4af318" category="paragraph">開始使用軟體加密非常簡單。安裝授權之後、只要指定通關密碼、即可設定內建金鑰管理程式、然後建立新的磁碟區、或是執行儲存端磁碟區移轉、即可啟用加密功能。NetApp正致力於在未來的VMware工具版本中、為加密功能提供更多整合式支援。</block>
  <block id="c95fa5b56a01e5c1a80c540c1ab1a750" category="paragraph">利用VMware Infrastructure、您可以清楚掌握虛擬基礎架構中的虛擬機器、並監控及疑難排解虛擬環境中的儲存與效能問題。Active IQ Unified Manager</block>
  <block id="be75250c2f30870dc1e359b4ade2a767" category="paragraph">典型的虛擬基礎架構部署ONTAP 在整個運算、網路和儲存層之間、有許多不同的元件。VM應用程式中的任何效能延遲都可能是因為各個元件在各個層面上所面臨的延遲問題。</block>
  <block id="d1734f6f2e65a1488896f74695db5254" category="paragraph">下列螢幕快照顯示Active IQ Unified Manager 「VMware虛擬機器」檢視畫面。</block>
  <block id="8aa017c9f67ad32dd7301ecf52b61d72" category="paragraph"><block ref="8aa017c9f67ad32dd7301ecf52b61d72" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2118336fa447fcc0f213cb8c40c516af" category="paragraph">Unified Manager會在拓撲檢視中呈現虛擬環境的底層子系統、以判斷運算節點、網路或儲存設備是否發生延遲問題。此檢視也會強調導致效能延遲的特定物件、以便採取補救步驟並解決根本問題。</block>
  <block id="d8a78b994fcd4e04901203a2e7bc6414" category="paragraph">下列螢幕快照顯示AIQUM擴充拓撲。</block>
  <block id="e9659be2b7d3d69eccdb443ed2acec75" category="paragraph"><block ref="e9659be2b7d3d69eccdb443ed2acec75" category="inline-image-macro-rx" type="image"></block></block>
  <block id="93b94e62ad8cb02a1d1a7b0944a5445d" category="summary">本文件討論ONTAP VMware vSphere的產品安全性功能。</block>
  <block id="289953e1dbd51c07cae2ecf1e6fb88a1" category="doc">WP-7353：ONTAP VMware vSphere的基礎工具-產品安全性</block>
  <block id="595319f89334a6a0b8edd4f81172fc71" category="paragraph">NetApp Jenn Schrie的Dan Tulledge、Chance Bingen</block>
  <block id="7ab9df3e4e38ca227c1b48b0f6740675" category="section-title">安全的開發活動</block>
  <block id="1a79eb278bc02ebdbd2ab32925e316f6" category="paragraph">使用適用於ONTAP VMware vSphere的NetApp支援軟體工程技術、採用下列安全開發活動：</block>
  <block id="39e5fc9eb192f011ab14dae6c2974c4e" category="list-text">*威脅建模。*威脅建模的目的是在軟體開發生命週期初期、發現某項功能、元件或產品的安全性瑕疵。威脅模式是對影響應用程式安全性的所有資訊的結構化呈現。基本上、它是透過安全性觀點來檢視應用程式及其環境。</block>
  <block id="9f16ab3a50bca32d19c4729319035c8d" category="list-text">*動態應用程式安全性測試（dast）。*這項技術的設計、是為了偵測應用程式在執行狀態下的易受影響狀況。Dast會測試開放Web應用程式的公開HTTP和HTML介面。</block>
  <block id="267bed0525e4dab477e4c24ca5a1794e" category="list-text">*協力廠商程式碼貨幣。*在開放原始碼軟體（開放原始碼軟體）的軟體開發過程中、您必須解決與產品內建的任何開放原始碼軟體相關的安全性弱點。這是一項持續努力、因為新的開放源碼版本可能隨時都有新發現的弱點報告。</block>
  <block id="db7bc87c89c1ee76d313865a32fc0e06" category="list-text">*弱點掃描。*弱點掃描的目的是在NetApp產品中發現常見且已知的安全性弱點之後、再將弱點發佈給客戶。</block>
  <block id="1a4c104571630526efc77b84e82380fe" category="list-text">*滲透測試。*滲透測試是評估系統、Web應用程式或網路以找出攻擊者可能利用的安全性弱點的程序。NetApp的滲透測試（筆測試）是由一群獲核准且值得信賴的第三方公司進行。其測試範圍包括利用精密的利用方法或工具、對類似於惡意入侵者或駭客的應用程式或軟體發動攻擊。</block>
  <block id="7e98fc3ea1ec077cfd1727a58e9c9020" category="section-title">產品安全功能</block>
  <block id="85d61648687f15050da0b86741b90358" category="paragraph">適用於VMware vSphere的NetApp ONTAP 產品組合工具在每個版本中均包含下列安全功能。</block>
  <block id="dff88c2ef0b49b09246ffd6f9ec55195" category="list-text">*登入橫幅。* SSH預設為停用、如果從VM主控台啟用、則僅允許一次性登入。使用者在登入提示中輸入使用者名稱後、會顯示下列登入橫幅：</block>
  <block id="399875025e8e96cc13102a4dd72f2434" category="paragraph">*警告：*禁止未經授權存取本系統、並依法律予以起訴。存取本系統即表示您同意、若懷疑有未獲授權的使用情形、您的行動可能受到監控。</block>
  <block id="2d8330ed99c80a842ffbd1362e038e5e" category="paragraph">使用者透過SSH通道完成登入後、會顯示下列文字：</block>
  <block id="677528ad13d460c058ac50e8a62092cf" category="list-text">*角色型存取控制（RBAC）。* ONTAP 有兩種RBAC控制項與VMware Tools相關聯：</block>
  <block id="ac38773d017495a97d5b88f242578cb8" category="list-text">原生vCenter Server權限</block>
  <block id="31cedac82fef311cb790a12f96897223" category="list-text">vCenter外掛程式特定權限。如需詳細資訊、請參閱<block ref="e5f6920797dbff91ef59367270a82669" category="inline-link-rx"></block>。</block>
  <block id="5d32469f8a65b884a8f70abf95fe485a" category="list-text">*加密的通訊通道。*所有外部通訊都是透過使用TLS 1.2版的HTTPS進行。</block>
  <block id="600d4f98483fae8e58054f976d7e0c0e" category="list-text">*最小的連接埠曝光。*只有必要的連接埠會在防火牆上開啟。</block>
  <block id="0406f8902379502d1eba01f043c232b7" category="paragraph">下表說明開放連接埠的詳細資料。</block>
  <block id="69fc9fe9cbb7709e97a433352aecf77d" category="cell">TCP v4/v6連接埠#</block>
  <block id="86408593c34af77fdd90df932f8b5261" category="cell">功能</block>
  <block id="d16c4afdc5f340936b747baf91efc843" category="cell">用於REST API的HTTPS連線</block>
  <block id="1f4deeb2f64336d4ff65ea3d2b4ffe2f" category="cell">HTTPS連線</block>
  <block id="5852f8019b572f4cdef5bab783fa799f" category="cell">HTTPS連線用於透過https連線的SOAP此連接埠必須開啟、才能讓用戶端連線ONTAP 至VMware Tools API伺服器。</block>
  <block id="f4e339608b243f9b57b78ffaf061b498" category="cell">SSH（預設為停用）</block>
  <block id="ef34781e03f49b5db5dd8fa267c4c41b" category="cell">HTTPS連線- VP和SRA -僅從回送進行內部連線</block>
  <block id="fe01ac95967cd8cb5f5b5669b685277a" category="cell">HTTPS連線：VP和SRA用於https連線上的SOAP</block>
  <block id="4a0724da5c6f4e4817663ae822550800" category="cell">VP SNMP設陷封包</block>
  <block id="60135f95267c6e0711bf5a2858dfff2f" category="cell">僅在此電腦與本身之間的外部連線不接受（僅限內部連線）</block>
  <block id="e4b8a8d8761aab7733e317b585d5d606" category="cell">用於連線ONTAP 至叢集</block>
  <block id="bf6184406d1e18fffc86ecf770fbb391" category="inline-link">知識庫文章</block>
  <block id="fedac49792829de4ff38fcf7a3846faa" category="list-text">*支援憑證授權單位（CA）簽署的憑證。* ONTAP VMware vSphere的各種工具支援CA簽署的憑證。請參閱<block ref="0903a062b2072644a9b744a7fece4216" category="inline-link-rx"></block> 以取得更多資訊。</block>
  <block id="9fca19988370da2a459b24505e9d23d5" category="list-text">*稽核記錄。*您可以下載支援套裝組合、而且內容極為詳細。使用者登入和登出活動會記錄在個別的記錄檔中。ONTAPVASA API呼叫會記錄在專屬的VASA稽核記錄（本機CXF.log）中。</block>
  <block id="7d60a2806aedd934b75cce55d6693689" category="list-text">*密碼原則。*遵循下列密碼原則：</block>
  <block id="f82f7513742f08b9d2784923213bdc75" category="list-text">密碼不會記錄在任何記錄檔中。</block>
  <block id="83040c348e071499488a8128db207545" category="list-text">密碼不會以純文字形式傳達。</block>
  <block id="bc319862df3312f423a50fece7730db9" category="list-text">密碼是在安裝程序本身期間設定的。</block>
  <block id="853c2ea85b86882d0ea73b606a9800a4" category="list-text">密碼歷程記錄是可設定的參數。</block>
  <block id="b3d3877bc96752ae50a409c72597d47a" category="list-text">密碼最短使用期限設為24小時。</block>
  <block id="fb0bdec50022a37424a405b53da7c9c8" category="list-text">密碼欄位的自動完成功能已停用。</block>
  <block id="3a04f054be8ad983ea82fd5079519810" category="list-text">利用SHA256雜湊功能、將所有儲存的認證資訊加密。ONTAP</block>
  <block id="62783f5d69cb5d3cb22b077c1d2b8777" category="cell">2021年11月</block>
  <block id="7be2e69e5d19c282db8d81c60a51c862" category="summary">本頁說明在ONTAP VMware vSphere環境中實作NetApp解決方案的最佳實務做法。</block>
  <block id="d3ba101543fc97ba1dd9272c87bf65da" category="doc">虛擬磁碟區（vVols）與儲存原則型管理（SPBM）</block>
  <block id="25e09c324ad3c89ee3aa01454fce14cd" category="section-title">關於vVols和SPBM</block>
  <block id="ab3304a5226d57b9bcaf0c7b3f819735" category="paragraph">NetApp是VMware在開發vSphere虛擬磁碟區（vVols）方面的早期設計合作夥伴、為vVols和VMware vSphere API提供架構輸入和早期支援、以提高儲存感知（VASA）的能力。這種方法不僅能將VM精細的儲存管理功能導入VMFS、也支援透過儲存原則型管理（SPBM）來自動化儲存資源配置。</block>
  <block id="ce09fc365ce48a9d89c0fdb5222c3909" category="paragraph">SPBM提供一個架構、可在虛擬化環境可用的儲存服務與透過原則配置的儲存元素之間、做為抽象層。此方法可讓儲存架構設計師設計具有不同功能的儲存資源池、讓VM管理員輕鬆使用。接著系統管理員可以根據已配置的儲存資源池來比對虛擬機器工作負載需求、以便精細控制每個VM或虛擬磁碟層級的各種設定。</block>
  <block id="2902acda09b9786460c2dd928a2d8f1a" category="paragraph">這個解決方案是VVols擴充儲存產業的領導廠商、可在單一叢集內支援數十萬個vVols、而企業陣列和小型Flash陣列廠商則支援每個陣列數千個vVols。ONTAPNetApp也透過即將推出的VVols 3.0支援功能、推動VM精細管理的演進。</block>
  <block id="fda9c21a4aefd4a1f42ad0b195e6ef0a" category="inline-link">TR-4400: VMware vSphere虛擬Volume ONTAP with VMware</block>
  <block id="69173613658292fc2adeb513b12f29ca" category="admonition">如需VMware vSphere虛擬磁碟區、SPBM及ONTAP VMware的詳細資訊、請參閱<block ref="354226c2546b1aed39f1c0c484e6a98a" category="inline-link-rx"></block>。</block>
  <block id="dcaf091737df278b1b4bdd2e37c10a75" category="summary">自ONTAP 2002年推出現代化資料中心以來、NetApp功能一直是VMware vSphere環境的領先儲存解決方案、並持續增加創新功能、以簡化管理、同時降低成本。</block>
  <block id="1fdf67ffe178876efb8b8cacfb0f052b" category="doc">TR-4900：VMware Site Recovery Manager搭配NetApp ONTAP 功能9</block>
  <block id="cc6ab3d11d2dc330a573866f7c9f67aa" category="paragraph">NetApp的Chance Bingen</block>
  <block id="60398bdc931fc67a9b6d781434c3a15a" category="section-title">vSphere適用的ONTAP</block>
  <block id="09d6c6a1868cc36795c7a0f8f84e50c9" category="paragraph">自ONTAP 2002年推出現代化資料中心以來、NetApp功能一直是VMware vSphere環境的領先儲存解決方案、並持續增加創新功能、以簡化管理、同時降低成本。本文件介紹ONTAP VMware Site Recovery Manager（SRM）的解決方案、這是VMware領先業界的災難恢復（DR）軟體、其中包括最新的產品資訊和最佳實務做法、可簡化部署、降低風險及簡化後續管理。</block>
  <block id="e3445c3aa798f5ad98665e33d34dd952" category="paragraph">最佳實務做法是輔助其他文件、例如指南和相容性工具。這些技術是根據實驗室測試和NetApp工程師與客戶廣泛的現場經驗所開發。在某些情況下、建議的最佳實務做法可能不適合您的環境；不過、它們通常是最簡單的解決方案、能滿足大多數客戶的需求。</block>
  <block id="c3edc14dbc5862176444f521372d1744" category="paragraph">本文件著重於ONTAP 近期發行的《支援功能》、搭配ONTAP VMware vSphere支援版本的《支援功能》（包括NetApp儲存複寫介面卡[SRA]和VASA Provider [VP]）、以及VMware Site Recovery Manager 8。4.</block>
  <block id="c40f8c2af56356193284f6b46865d954" category="section-title">為何ONTAP 要搭配SRM使用此功能？</block>
  <block id="3c41d5be62c97a13079e9c7abf078292" category="paragraph">NetApp資料管理平台採用ONTAP VMware軟體、是SRM最廣泛採用的儲存解決方案之一。原因很多：安全、高效能、統一化的傳輸協定（NAS與SAN結合在一起）資料管理平台、提供業界定義的儲存效率、多租戶、服務品質控管、利用節省空間的Snapshot複本提供資料保護、以及使用SnapMirror進行複寫。所有這些工具都能運用原生混合式多雲端整合技術來保護VMware工作負載、並在彈指之間提供大量的自動化與協調工具。</block>
  <block id="0d573b6a27c08499fee406e3db49812f" category="paragraph">當您使用SnapMirror進行陣列型複寫時、就能充分利用ONTAP最獲實證且最成熟的技術之一。SnapMirror可讓您享有安全且高效率的資料傳輸優勢、只複製變更的檔案系統區塊、而非複製整個VM或資料存放區。即使是這些區塊、也能善用空間節約效益、例如重複資料刪除、壓縮及壓縮等。現代化ONTAP 的支援系統現在使用獨立於版本的SnapMirror、讓您能夠靈活選擇來源和目的地叢集。SnapMirror已真正成為最強大的災難恢復工具之一。</block>
  <block id="36b04390d6103d8075862e4b825a485e" category="paragraph">無論您使用傳統NFS、iSCSI或光纖通道附加資料存放區（現在支援vVols資料存放區）、SRM都能提供強大的第一方產品、充分發揮ONTAP 災難恢復或資料中心移轉規劃與協調的最佳功能。</block>
  <block id="5d111e8a6885460b43ecf1f7abb6377e" category="section-title">SRM如何運用ONTAP VMware®</block>
  <block id="16d4ec242c9f020f3a1fade311c776ed" category="paragraph">SRM利用ONTAP VMware ONTAP vSphere的進階資料管理技術與VMware vSphere的VMware vSphere工具整合、此虛擬應用裝置包含三個主要元件：</block>
  <block id="d54038ba1f2a04a5b5f26c96627ae3e7" category="list-text">vCenter外掛程式先前稱為虛擬儲存主控台（VSC）、可簡化儲存管理與效率功能、增強可用度、並降低儲存成本與營運成本、無論您使用SAN或NAS。它採用最佳實務做法來配置資料存放區、並針對NFS和區塊儲存環境最佳化ESXi主機設定。為獲得所有這些好處、NetApp建議您在使用vSphere搭配執行ONTAP VMware軟體的系統時、使用此外掛程式。</block>
  <block id="a106bb15d6dc2b11535ed4fefc81fbf4" category="list-text">VASA Provider for ONTAP VMware vStorage API for Storage感知（VASA）架構。VASA Provider將vCenter Server與ONTAP VMware連線、以協助資源配置及監控VM儲存設備。它可支援VMware虛擬磁碟區（vVols）、並管理儲存功能設定檔（包括vVols複寫功能）和個別VM vVols效能。它也提供監控容量和設定檔法規遵循的警示。搭配SRM使用時、VASA Provider ONTAP for VMware可支援vVols型虛擬機器、而不需要在SRM伺服器上安裝SRA介面卡。</block>
  <block id="f2007951062862f5f0d593acbb23bcb4" category="list-text">SRA與SRM搭配使用、可管理傳統VMFS與NFS資料存放區的正式作業與災難恢復站台之間的VM資料複寫、也可用於災難恢復複本的不中斷測試。它有助於自動化探索、還原及重新保護等工作。其中包括適用於Windows SRM伺服器和SRM應用裝置的SRA伺服器應用裝置和SRA介面卡。</block>
  <block id="8ccaa60ee78ecc93c4870b3b2ad15284" category="paragraph">在SRM伺服器上安裝並設定SRA介面卡、以保護VASA Provider設定中的非vVols資料存放區和/或啟用vVols複寫之後、即可開始設定vSphere環境進行災難恢復。</block>
  <block id="0a1e25166326359cd5f50d0ab83e6a37" category="paragraph">SRA與VASA Provider提供SRM伺服器的命令與控制介面、可管理ONTAP 包含VMware虛擬機器（VM）的VMware FlexVols、以及保護它們的SnapMirror複寫。</block>
  <block id="38db855935949f86c5db7bfe7d49873e" category="paragraph">從SRM 8.3開始、SRM伺服器引進新的SRM vVols Provider控制路徑、讓它能與vCenter伺服器通訊、並透過該路徑與VASA Provider通訊、而不需要SRA。如此一來、SRM伺服器就能比ONTAP 以往更深入地控制這個叢集、因為VASA提供完整的API來進行緊密耦合的整合。</block>
  <block id="53e971f0dfb3ef96ca359dcb648176b9" category="paragraph">SRM可以使用NetApp專屬的FlexClone技術、在不中斷營運的情況下測試您的災難恢復計畫、以便在災難恢復站台上建立受保護資料存放區的近乎即時的複本。SRM會建立沙箱以安全地進行測試、讓組織和客戶在發生真正災難時受到保護、讓您對組織在災難期間執行容錯移轉的能力充滿信心。</block>
  <block id="04a8f82007ed4bec45053912a49b6f85" category="paragraph">如果發生真正的災難、甚至是計畫性的移轉、SRM可讓您透過最終的SnapMirror更新（如果您選擇這樣做）、將任何最後一分鐘的變更傳送至資料集。然後中斷鏡射、並將資料存放區掛載至DR主機。此時、您的VM可以根據預先規劃的策略、以任何順序自動開機。</block>
  <block id="b2560426a08ae6ceb167dad2bfb5e8ae" category="section-title">SRM搭配ONTAP 功能完善和其他使用案例：混合雲和移轉</block>
  <block id="ed4c730bd8636c27d3eaa876c63b3d45" category="inline-link">Equinix的NetApp私有儲存設備</block>
  <block id="b422e05bc5c6f52208b66ff51d718b9d" category="paragraph">與ONTAP 本地儲存選項相比、將SRM部署與豐富的資料管理功能整合、可大幅提升擴充性與效能。除此之外、它還能帶來混合雲的靈活度。混合雲可將未使用的資料區塊從高效能陣列分層、到您偏好的超大規模擴充系統（FabricPool 例如NetApp Sirse-）、藉此節省成本StorageGRID 。您也可以使用ONTAP Select SnapMirror來搭配使用Cloud Volumes ONTAP 以軟體定義的功能、或是使用功能（CVO）或雲端型DR的邊緣型系統<block ref="37a666d3a37f1c4a8c4c8dba379664a4" category="inline-link-rx"></block> 適用於Amazon Web Services（AWS）、Microsoft Azure和Google Cloud Platform（GCP）、可在雲端中建立完全整合的儲存設備、網路和運算服務堆疊。</block>
  <block id="10ae334f731d3c4fabafa8017f7a3ab2" category="paragraph">藉助FlexClone、您可以在雲端服務供應商的資料中心內執行測試容錯移轉、而且儲存空間幾乎不佔空間。保護組織的成本現在比以往更低。</block>
  <block id="12d0cbcf61df7df30bf9b020f6fbb051" category="paragraph">SRM也可利用SnapMirror、將VM從一個資料中心有效地傳輸到另一個資料中心、甚至是同一個資料中心內、無論您是自己、或是透過任何數量的NetApp合作夥伴服務供應商、來執行計畫性的移轉作業。</block>
  <block id="d4f43ea12f3f521c93fb3dd4d93c428d" category="summary">本頁提供在ONTAP VMware vSphere環境中部署適用於VMFS資料存放區的NetApp支援NVMe / FC儲存設備的步驟。</block>
  <block id="9e433440cdaf3b61716784200e8abf6d" category="doc">vSphere VMFS資料存放區- ONTAP NVMe / FC搭配VMware</block>
  <block id="bbe48fb854ea022537208eeeff822f91" category="section-title">關於這項工作</block>
  <block id="9367f3df6c8d54eba1da3cd9c5fa2776" category="paragraph">本節說明如何使用ONTAP NVMe/FC建立包含不含資料的VMFS資料存放區。</block>
  <block id="1563a554e82b055714efd37bc6d1fdd6" category="paragraph">如需自動化資源配置、請使用下列其中一個指令碼： <block ref="a45ba722ee80832fb205d0588df91e01" category="inline-xref-macro-rx"></block>、 <block ref="d9559d06f0afa5b213d78afb48b783e7" category="inline-xref-macro-rx"></block>或 <block ref="e5e7d2f44064f3bfeddfdbea251f7835" category="inline-xref-macro-rx"></block>。</block>
  <block id="6ac65708de8f04eeb173ca99f3eb19fa" category="section-title">您需要的一切</block>
  <block id="6af0e7a38739ed6e2658342101a7b51e" category="list-text">管理vSphere環境與ONTAP VMware所需的基本技能。</block>
  <block id="7890464cdce93f078097395e27132775" category="inline-link-macro">對NVMe/FC的基本瞭解</block>
  <block id="c6e7cd589502f52a9398e779ede56d14" category="list-text"><block ref="62a43aa3bd2eb01e27a6091d3017311c" category="inline-link-macro-rx"></block>。</block>
  <block id="5422bc00db54a341b2c538f4cea614c0" category="list-text">執行｛ONTAP_VERSION｝的VMware®支援系統（FAS/AFF/CVO/ONTAP Select/ASA）ONTAP</block>
  <block id="fdb8f60c37b623874df816146436f56b" category="list-text">資訊（SVM名稱、使用者ID和密碼）ONTAP</block>
  <block id="2ec64af43682ffa45eeaf33a86950347" category="list-text">主機、目標及SVM及LUN資訊的適用項目ONTAP</block>
  <block id="62eadfe081f86e1f9a72988a4feb7bfc" category="inline-link-macro">完整的FC組態工作表</block>
  <block id="f186921a73873df63dc496b515bc2099" category="list-text"><block ref="f186921a73873df63dc496b515bc2099" category="inline-link-macro-rx"></block></block>
  <block id="c4436d4a190778b7ec1e9461f6454bdd" category="list-text">vCenter Server</block>
  <block id="5fd6c6da49bc906cc217c5aff2041a52" category="list-text">vSphere主機資訊（｛vSphere_version｝）</block>
  <block id="63fc76a195a29345d466bc86f293ca14" category="list-text">網路交換器</block>
  <block id="60ce38e4967c52c316eff771b7a3c4ec" category="list-text">連接了VMware Data連接埠和vSphere主機。ONTAP</block>
  <block id="32086766e64ae646fcadddc3e16b203b" category="list-text">啟用了N_port ID虛擬化（NPIV）功能。</block>
  <block id="b6e0bd021536c90aa87cfea18d73d453" category="list-text">建立單一啟動器目標區域。</block>
  <block id="df7f994fb0c494b66708667a64b2c406" category="list-text">為每個啟動器（單一啟動器區域）建立一個區域。</block>
  <block id="f386e9f209710f55d41a97e9502d1c7c" category="list-text">針對每個區域、包括一個目標、該目標是ONTAP SVM的Sf2 FC邏輯介面（WWPN）。每個SVM每個節點至少應有兩個邏輯介面。請勿使用實體連接埠的WWPN。</block>
  <block id="71d4977f0fd6be92644e1ff9f8096637" category="section-title">配置VMFS資料存放區</block>
  <block id="a9df884192a193f56d8208439b4d1fca" category="list-text">檢查與的相容性<block ref="3028580b30f2b1d483aad9f9a7a65c7a" category="inline-link-rx"></block>。</block>
  <block id="f42c50210dcc0a3a69c8258256e75e4b" category="inline-link-macro">確認支援NVMe / FC組態。</block>
  <block id="5312bcc81ee6d7bce6549b2089c9d1ac" category="list-text"><block ref="5312bcc81ee6d7bce6549b2089c9d1ac" category="inline-link-macro-rx"></block></block>
  <block id="cfa5eceb5ac37d5ebd3af6f265d9ce4c" category="section-title">執行任務ONTAP</block>
  <block id="1a04100ec801e5e2d1708d89eb1159b6" category="inline-link-macro">驗ONTAP 證FCP的不實授權。</block>
  <block id="9d17f91ad987b7e7cf2fa7249cd97343" category="list-text"><block ref="7fcd357d480b8eaa4a38cdbbddfd6c97" category="inline-link-macro-rx"></block>使用「系統授權show」命令、檢查是否列出了「nvm_of」。使用「license add -license code-Code &lt; license code&gt;」來新增授權。</block>
  <block id="7193bed15c5b4f7c80f1f19630b57e1e" category="list-text">確認SVM上已啟用NVMe傳輸協定。</block>
  <block id="5eabd2d7390fc49cb61f882324bdcac0" category="inline-link-macro">設定NVMe的SVM。</block>
  <block id="3838b8ad26ea53cc8ddea76f2a58b20a" category="list-text"><block ref="3838b8ad26ea53cc8ddea76f2a58b20a" category="inline-link-macro-rx"></block></block>
  <block id="f2fd2de931ce484e947c89ae8207346a" category="list-text">確認SVM上的NVMe / FC邏輯介面可用。</block>
  <block id="aa01379022dd5b86e18f436c76f651f5" category="list-text">使用「Network Interface show」來驗證FCP介面卡。</block>
  <block id="978583cfbb47e2700c599c43b7949a53" category="list-text">當使用GUI建立SVM時、邏輯介面即為該程序的一部分。</block>
  <block id="3866119a70b69102c1584c0baa386190" category="list-text">若要重新命名網路介面、請使用「Network Interface modify」命令。</block>
  <block id="6ad7e9002145710745843d16314895e3" category="inline-link-macro">建立NVMe命名空間和子系統</block>
  <block id="06badf30aa173febc3374aceef25c5ce" category="list-text"><block ref="06badf30aa173febc3374aceef25c5ce" category="inline-link-macro-rx"></block></block>
  <block id="722a3f8fc9c281f41b6ca7a69ca15ec0" category="section-title">VMware vSphere工作</block>
  <block id="7407e0a15262132133381a890e36e47a" category="inline-link-macro">儲存介面卡資訊</block>
  <block id="c6613394adcc7526a48f6e92b61ee067" category="list-text">確認已安裝HBA驅動程式。VMware支援的HBA已隨裝即用部署驅動程式、請參閱 <block ref="57f7eb139c8bc258309d8e16d3df13fe" category="inline-link-macro-rx"></block></block>
  <block id="9761a89a99469e468e71b7a0087be29d" category="inline-link-macro">執行vSphere Host NVMe驅動程式安裝與驗證工作</block>
  <block id="926e4d89379d3dde2510965ca53771af" category="list-text"><block ref="926e4d89379d3dde2510965ca53771af" category="inline-link-macro-rx"></block></block>
  <block id="e229fd9b7b8948ddebf276bda8a9145e" category="inline-link-macro">建立VMFS資料存放區</block>
  <block id="3dbbea9263919f89335d7ba053f09a39" category="list-text"><block ref="3dbbea9263919f89335d7ba053f09a39" category="inline-link-macro-rx"></block></block>
  <block id="a9b73ebef33c98ef5a1044177d2b49f3" category="summary">VMware vCenter Site Recovery Manager是一項災難恢復服務、可自動協調及不中斷測試集中式恢復計畫、以簡化所有虛擬化應用程式的災難恢復管理。</block>
  <block id="06f589670c0d0455912cc8bb70b78701" category="paragraph">在NetApp ONTAP 的NetApp支援系統上部署Site Recovery Manager、可大幅降低災難恢復的成本與複雜度。NetApp提供高效能、易於管理且可擴充的儲存設備與強大的軟體產品、提供靈活的儲存與資料管理解決方案、以支援vSphere環境。</block>
  <block id="00549aec33ddcae6a708ed7368a7bcd0" category="paragraph">本指南所提供的最佳實務做法與建議、並非一體適用的解決方案。本文件包含一系列最佳實務做法與建議、提供規劃、部署及管理SRM災難恢復計畫的指導方針。規劃VMware vCenter Site Recovery環境並將其部署至NetApp儲存設備時、請諮詢當地的NetApp VMware專家。NetApp VMware專家可以快速識別任何vSphere環境的需求、並據此調整儲存解決方案。</block>
  <block id="c5cd657df037c277c37216b73efb0b08" category="summary">如有可能、請務必使用ONTAP 「資訊工具」來配置資料存放區和磁碟區。這可確保磁碟區、交會路徑、LUN、igroup、匯出原則、 和其他設定均以相容的方式進行設定。</block>
  <block id="d3b26e9021e83573a3d2a9050400a33a" category="doc">營運最佳實務做法</block>
  <block id="f02207fb26160d7e47cf5ea35d07df03" category="section-title">資料存放區與傳輸協定</block>
  <block id="4d15db58f26b374b36c283df6b5a5fc1" category="paragraph">當ONTAP 透過SRA使用陣列型複寫時、SRM支援iSCSI、Fibre Channel及NFS版本3 with VMware®9。SRM不支援使用傳統或vVols資料存放區的NFS 4.1版陣列型複寫。</block>
  <block id="61f54ceeb0338787a2ee2d801cbc62cd" category="paragraph">若要確認連線能力、請務必確認您可以從目的地ONTAP 叢集掛載並卸載DR站台上的新測試資料存放區。測試您要用於資料存放區連線的每個傳輸協定。最佳實務做法是使用ONTAP 「VMware工具」來建立測試資料存放區、因為它是依照SRM的指示來執行所有資料存放區自動化作業。</block>
  <block id="0ac3e8abbf45a28af68d22b0f59a973e" category="paragraph">每個站台的SAN傳輸協定應該是同質的。您可以混合使用NFS和SAN、但SAN傳輸協定不應在站台內混合使用。例如、您可以在站台A中使用FCP、而在站台B中使用iSCSI您不應在站台A同時使用FCP和iSCSI原因是SRA不會在恢復站台建立混合式igroup、而且SRM不會篩選指派給SRA的啟動器清單。</block>
  <block id="150f8d9d5018ff00285d9aa158451d7b" category="paragraph">先前建議建立LIF至資料位置的指南。也就是說、務必使用實體擁有磁碟區的節點上的LIF來掛載資料存放區。這已不再是ONTAP 現今版本的更新要求。只要有可能、ONTAP 而且如果給定叢集範圍內的認證、那麼就會選擇在資料的本機生命期之間平衡負載、但這並不需要高可用度或高效能。</block>
  <block id="ef6e8713285283721507f92e3c3ec674" category="paragraph">如果ONTAP 自動調整大小無法提供足夠的緊急容量、則可將NetApp供應器9設定為自動移除Snapshot複本、以在空間不足的情況下維持正常運作時間。此功能的預設設定不會自動刪除SnapMirror所建立的Snapshot複本。如果刪除SnapMirror Snapshot複本、則NetApp SRA將無法針對受影響的磁碟區進行還原和重新同步複寫。若要防止ONTAP SnapMirror刪除Snapshot Snapshot複本、請設定要嘗試的Snapshot自動刪除功能。</block>
  <block id="a4f47f677f45e1e7075186d98e4f3ec1" category="paragraph">對於包含SAN資料存放區的磁碟區、Volume自動調整大小應設為「擴充」、而NFS資料存放區則設為「擴充」。請參閱<block ref="ee2474fa4563985f2f3ebe16d4e1ab3a" category="inline-link-rx"></block> 以取得特定語法。</block>
  <block id="e6955db66b8dc4aee170ebdb0b560249" category="section-title">SPBM與vVols</block>
  <block id="3077a08ffed60acebf18d37874130d44" category="paragraph">從SRM 8.3開始、支援使用vVols資料存放區來保護VM。當在ONTAP 「VMware Tools設定」功能表中啟用vVols複寫時、VASA供應商會將SnapMirror排程公開給VM儲存原則、如下列螢幕擷取畫面所示。</block>
  <block id="399c1894baf71c0529aa0fba66ea18fb" category="paragraph">下列範例顯示vVols複寫功能的啟用。</block>
  <block id="b180e7f35111dca8acd6c56cdbcabb3e" category="paragraph"><block ref="b180e7f35111dca8acd6c56cdbcabb3e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="be41c3baf700984021c43e2e6b661b0a" category="paragraph">以下螢幕快照提供「建立VM儲存原則」精靈中所顯示的SnapMirror排程範例。</block>
  <block id="43c130b36e9e2b3d61409aa974f89fc7" category="paragraph"><block ref="43c130b36e9e2b3d61409aa974f89fc7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f6292d9eb6ea467a3c3560a65b7f63b5" category="paragraph">支援將故障切換至不同儲存設備的功能。ONTAP例如、系統可能會從ONTAP Select 位於邊緣位置的停止執行、到AFF 核心資料中心的故障轉移。無論儲存設備的相似性為何、您都必須針對啟用複寫的VM儲存原則、設定儲存原則對應和反轉對應、以確保恢復站台所提供的服務符合期望和要求。下列螢幕擷取畫面會強調顯示原則對應範例。</block>
  <block id="783a951245ce43eb84161804072a38c6" category="paragraph"><block ref="783a951245ce43eb84161804072a38c6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1eb90dc8f7adfd00c74af3b815e2ac15" category="section-title">為vVols資料存放區建立複寫的磁碟區</block>
  <block id="18231879821321e0aed7de84fe876766" category="paragraph">與先前的vVols資料存放區不同、複寫的vVols資料存放區必須從啟用複寫的開始建立、而且必須使用ONTAP 在具有SnapMirror關係的SnapMirror系統上預先建立的磁碟區。這需要預先設定叢集對等和SVM對等等項目。這些活動應由ONTAP 您的管理員執行、因為這有助於將管理ONTAP 多個站台之VMware系統的人員與主要負責vSphere作業的人員、嚴格分開責任。</block>
  <block id="0a8c8293003bf411817ef3cedf18a2a9" category="paragraph">這是vSphere管理員的新要求。由於建立的磁碟區超出ONTAP 了功能性測試工具的範圍、因此在ONTAP 定期排程的重新探索期間之前、系統管理員不會察覺到您所做的變更。因此、當您建立要與vVols搭配使用的Volume或SnapMirror關係時、一律執行重新探索是最佳實務做法。只要在主機或叢集上按一下滑鼠右鍵、然後選取「NetApp ONTAP 支援工具」&gt;「更新主機與儲存資料」、如下面螢幕快照所示。</block>
  <block id="dd5e006520a09e3975e52f6fb8991fd2" category="paragraph"><block ref="dd5e006520a09e3975e52f6fb8991fd2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="550d51e15336d4a33bcbb0f26a6810f7" category="paragraph">在vVols和SRM方面、請務必謹慎處理。請勿在同一個vVols資料存放區中混用受保護和未受保護的VM。原因是當您使用SRM容錯移轉至DR站台時、只有屬於保護群組的VM才會在DR中上線。因此、當您重新保護（將SnapMirror從災難恢復還原至正式作業）時、可能會覆寫未容錯移轉的VM、並可能包含寶貴的資料。</block>
  <block id="6d717f70d89096b731dfc63d7a1379e1" category="section-title">關於陣列配對</block>
  <block id="6dd3f3008fe81f402905b00c8dca007c" category="paragraph">系統會為每個陣列配對建立陣列管理程式。有了SRM和ONTAP VMware等工具、每個陣列配對都是以SVM的範圍來完成、即使您使用叢集認證資料也是如此。這可讓您根據指派給租戶的SVM進行管理、在租戶之間分割DR工作流程。您可以為指定的叢集建立多個陣列管理員、這些管理員本質上可能是不對稱的。您可以在不同ONTAP 的叢集之間進行扇出或扇入。例如、您可以將叢集1上的SVMA和SVM-B複製到叢集2上的SVM-C、叢集3上的SVM-D、或反之。</block>
  <block id="2219228418c053eb593ce0a1f318da47" category="paragraph">在SRM中設定陣列配對時、您應該一律以新增至ONTAP 「VMware工具」的相同方式、在SRM中新增這些配對、也就是說、它們必須使用相同的使用者名稱、密碼和管理LIF。這項需求可確保SRA與陣列正常通訊。下列螢幕快照說明ONTAP 叢集在「叢集工具」中的顯示方式、以及如何將其新增至陣列管理程式。</block>
  <block id="7ec48584a43ed8a9b1dda55398d97cf4" category="paragraph"><block ref="7ec48584a43ed8a9b1dda55398d97cf4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3b34135c8c4d2b14ceb7ebf595f00193" category="section-title">關於複寫群組</block>
  <block id="6be59afd3c8bb91501f55a7e77ebe794" category="paragraph">複寫群組包含一起還原的虛擬機器邏輯集合。這個功能可讓VASA Provider自動為您建立複寫群組。ONTAP由於SnapMirror複寫是在磁碟區層級進行、因此一個磁碟區中的所有VM都位於相同的複寫群組中。ONTAP</block>
  <block id="b57ec021fce4e5261ba61df6f0c013af" category="paragraph">複寫群組的考量因素有多種、以及如何將VM分散到FlexVol 整個流程區。將類似的VM分組到同一個磁碟區、可藉由ONTAP 缺乏集合體層級重複資料刪除技術的舊版系統來提高儲存效率、但分組會增加磁碟區的大小、並減少磁碟區I/O並行性。在現代化ONTAP 的VMware系統中、將VM分散到FlexVol 同一個集合體中的各個VMware Volume、藉此充分發揮集合體層級的重複資料刪除技術、並在多個磁碟區之間取得更大的I/O平行化、藉此達到效能與儲存效率的最佳平衡。您可以將磁碟區中的虛擬機器一起還原、因為保護群組（如下所述）可以包含多個複寫群組。此配置的缺點是、區塊可能會透過線路傳輸多次、因為Volume SnapMirror並未將重複資料刪除的集合體納入考量。</block>
  <block id="c727c1020d3128dd7495a6e3e6f23736" category="paragraph">複寫群組的最後一個考量是、每個群組的本質都是一個邏輯一致性群組（請勿與SRM一致性群組混淆）。這是因為磁碟區中的所有VM都會使用相同的快照一起傳輸。因此、如果您有必須彼此一致的VM、請考慮將它們儲存在同FlexVol 一個地方。</block>
  <block id="9f8a350a2113ea4be6b4e5e5112514a3" category="section-title">關於保護群組</block>
  <block id="df77671ab2743af7f1d1457c200eb12c" category="paragraph">保護群組會將虛擬機器和資料存放區定義為群組、這些群組會從受保護的站台一起還原。受保護站台是指在正常穩定狀態作業期間、保護群組中設定的VM存在的位置。請務必注意、雖然SRM可能會針對保護群組顯示多個陣列管理程式、但保護群組無法跨越多個陣列管理程式。因此、您不應該跨不同SVM上的資料存放區跨VM檔案。</block>
  <block id="b148467d645c3613c1c7a2607764c515" category="section-title">關於恢復計畫</block>
  <block id="fd28cd9834ad3aa213c4fec2881064b5" category="paragraph">恢復計畫會定義在相同程序中恢復哪些保護群組。您可以在相同的恢復計畫中設定多個保護群組。此外、若要啟用更多執行恢復計畫的選項、可在多個恢復計畫中加入單一保護群組。</block>
  <block id="77aa84394124509e5e4006dcfd18789f" category="paragraph">恢復計畫可讓SRM管理員定義恢復工作流程、將VM指派給優先順序群組、從1（最高）指派至5（最低）、預設值為3（中）。在優先順序群組中、可設定VM以因應相依性。</block>
  <block id="6d72567442b1f361e3c0e89cbc7dfd6a" category="paragraph">例如、貴公司可能擁有第1層業務關鍵應用程式、而該應用程式則仰賴Microsoft SQL Server來建立資料庫。因此、您決定將虛擬機器置於優先順序群組1。在優先順序群組1中、您開始規劃訂單以啟動服務。您可能希望Microsoft Windows網域控制器在Microsoft SQL伺服器之前開機、而Microsoft SQL伺服器必須在應用程式伺服器之前上線、依此類推。您可以將所有這些VM新增至優先順序群組、然後設定相依性、因為相依性僅適用於指定的優先順序群組。</block>
  <block id="030d749269f8866de516a551b0286001" category="paragraph">NetApp強烈建議您與應用程式團隊合作、瞭解容錯移轉案例中所需的作業順序、並據此建構您的恢復計畫。</block>
  <block id="cebb1167d3e78885137c837f0abf8026" category="section-title">測試容錯移轉</block>
  <block id="2772828493452c4a2ff21f8b2b66a1a7" category="paragraph">最佳實務做法是、只要對受保護的VM儲存設備組態進行變更、就必須執行測試容錯移轉。如此可確保在發生災難時、您可以信任Site Recovery Manager能夠在預期的RTO目標內還原服務。</block>
  <block id="6ae8acfc86f5df3426d525fb95767506" category="paragraph">NetApp也建議偶爾確認來賓應用程式功能、尤其是在重新設定VM儲存設備之後。</block>
  <block id="bd47371bcd8b3d08d6b4b15481b08d93" category="paragraph">執行測試還原作業時、會在ESXi主機上為VM建立私有測試球型網路。不過、此網路不會自動連線至任何實體網路介面卡、因此無法在ESXi主機之間提供連線功能。為了在DR測試期間允許在不同ESXi主機上執行的VM之間進行通訊、會在DR站台的ESXi主機之間建立實體私有網路。若要驗證測試網路是否為私有網路、可以實體分隔測試網路、或使用VLAN或VLAN標記來分隔測試網路。此網路必須與正式作業網路隔離、因為在恢復VM時、無法將其置於可能與實際正式作業系統衝突的IP位址正式作業網路上。在SRM中建立恢復計畫時、所建立的測試網路可選取為私有網路、以便在測試期間連接VM。</block>
  <block id="2be58fc410ddf2ba9c350135a617944a" category="paragraph">在測試通過驗證且不再需要之後、請執行清除作業。執行清除功能會將受保護的VM恢復至初始狀態、並將恢復計畫重設為「就緒」狀態。</block>
  <block id="6f07b53963ee80903f0f13654de2cc3a" category="section-title">容錯移轉考量</block>
  <block id="9d33d94019b4a595a1ea232926a4da1b" category="paragraph">除了本指南所述的作業順序之外、還有其他幾個考量因素是站台容錯移轉。</block>
  <block id="74abdd5cb502cd65bcf1d7ca484ab0c2" category="paragraph">您可能必須面對的一個問題是站台之間的網路差異。某些環境可能會在主要站台和DR站台上使用相同的網路IP位址。這項功能稱為「延伸虛擬LAN（VLAN）」或「延伸網路設定」。其他環境可能需要在主要站台使用不同的網路IP位址（例如不同的VLAN）、相對於DR站台。</block>
  <block id="1b41638d2115765dc12f82d77ce70138" category="paragraph">VMware提供多種方法來解決此問題。例如VMware NSS-T Data Center等網路虛擬化技術、會從作業環境的第2層到第7層、將整個網路堆疊抽象化、以提供更多可攜的解決方案。您可以閱讀更多有關SRM NSX-T選項的資訊<block ref="99d78d594865360c3d4b527bf0a2a7f6" category="inline-link-rx"></block>。</block>
  <block id="09a74136e56a63c5aba38b89802d9080" category="paragraph">SRM也可讓您在VM恢復時變更其網路組態。此重新設定包括IP位址、閘道位址和DNS伺服器設定等設定。不同的網路設定會在個別虛擬機器恢復時套用、可在還原計畫中的虛擬機器內容設定中指定。</block>
  <block id="99f0a91111e8acb2462e8df5ecf0ab8f" category="paragraph">若要設定SRM將不同的網路設定套用到多個VM、而不需要編輯恢復計畫中每個VM的內容、VMware提供一種稱為DR-IP-customizer的工具。如需如何使用此公用程式的相關資訊、請參閱VMware的文件<block ref="b959814092e3e6cdc8d22e768887e618" category="inline-link-rx"></block>。</block>
  <block id="3c8c527afa8ce5009c8f707f7fd4fabf" category="section-title">重新保護</block>
  <block id="3b496038cb575fc404f8b0783e570f7a" category="paragraph">恢復之後、恢復站台將成為新的正式作業站台。由於恢復作業中斷了SnapMirror複寫、因此新的正式作業站台不會受到任何未來災難的保護。最佳實務做法是在恢復後立即將新的正式作業站台保護到另一個站台。如果原始正式作業站台可運作、VMware管理員可以將原始正式作業站台當作新的恢復站台、以保護新正式作業站台、有效反轉保護方向。只有在非災難性故障時、才能使用重新保護功能。因此、原始vCenter Server、ESXi伺服器、SRM伺服器及對應的資料庫最終必須可還原。如果無法使用、則必須建立新的保護群組和新的恢復計畫。</block>
  <block id="6d80a3efb80520f47b63dc279e1bea3d" category="section-title">容錯回復</block>
  <block id="2bf236f8aceaaff2b305848df524c42e" category="paragraph">容錯回復作業基本上是以不同於以往的方向進行容錯移轉。最佳實務做法是在嘗試容錯回復之前、或是在容錯移轉至原始站台之前、先確認原始站台是否恢復為可接受的功能層級。如果原始站台仍遭入侵、您應該延遲容錯回復、直到故障獲得充分補救為止。</block>
  <block id="cb03753531bad31391d7156433b98ae6" category="paragraph">另一個容錯回復最佳做法是在完成重新保護後、在執行最終容錯回復之前、一律執行測試容錯移轉。如此可驗證原始站台上的系統是否能夠完成作業。</block>
  <block id="900a3b65ea54b6dcff72ed0d6ac66fdf" category="section-title">重新保護原始網站</block>
  <block id="2a0c13d7b927063987bf931a141f2662" category="paragraph">在容錯回復之後、您應該向所有利害關係人確認他們的服務已恢復正常、然後再執行重新保護、</block>
  <block id="12d059a2c7519f2e3497b30a71121503" category="paragraph">在容錯回復後執行重新保護、基本上會使環境回到最初的狀態、並再次從正式作業站台執行SnapMirror複寫至還原站台。</block>
  <block id="e69b470437a857bf2d9517ce4ef8d2c1" category="summary">本頁提供在ONTAP VMware vSphere環境中部署NetApp支援功能FC VMFS資料存放區的步驟。</block>
  <block id="91d9498cf61618ef81368a106318efd2" category="doc">vSphere VMFS資料存放區-含ONTAP 功能不實的光纖通道儲存後端</block>
  <block id="b6e52e53cc59b8620dcdc05f2b812be4" category="paragraph">本節將說明如何建立ONTAP 含有「Fibre Channel」（FC）儲存設備的VMFS資料存放區。</block>
  <block id="6b70d8f91894fa50b3c04af804f090b6" category="list-text">管理vSphere環境與ONTAP VMware所需的基本技能</block>
  <block id="0335588c7903659bdeaa310c8f7bcdf4" category="list-text">執行｛ONTAP_version｝的支援系統（FAS/AFF/CVO/ONTAP Select/ASA）ONTAP</block>
  <block id="f2a03b032017931383878c3ef48cdb0a" category="list-text">主機、目標及SVM和LUN資訊的WWPN ONTAP</block>
  <block id="d0a36a0dcdef62d026caa08afbaa4a42" category="inline-link-macro">完整的FC組態工作表</block>
  <block id="5c42144bb611ba366591a823d4c2955e" category="list-text"><block ref="5c42144bb611ba366591a823d4c2955e" category="inline-link-macro-rx"></block></block>
  <block id="24c066a87410cc7b08ad4b5ca45565d7" category="list-text">vCenter Server認證</block>
  <block id="c7f58b1f94665d7ebf6f107970d1b91b" category="list-text">vSphere主機資訊</block>
  <block id="cdce6351191da46d795898e4570b8da2" category="list-text">｛vSphere_version｝</block>
  <block id="6c2e28f86b2049d110f0e73e9bb78709" category="list-text">連線ONTAP 的VMware Data連接埠和vSphere主機</block>
  <block id="52dd4b667b031cd80a33b9d176e43827" category="list-text">啟用了N_port ID虛擬化（NPIV）功能</block>
  <block id="46fdd1539543376bfbbf2cc6da976539" category="list-text">建立單一啟動器單一目標區域。</block>
  <block id="5a1cb943a687396a356750829002d982" category="list-text">針對每個區域、包括一個目標、該目標是ONTAP SVM的Sf2 FC邏輯介面（WWPN）。每個SVM每個節點至少應有兩個邏輯介面。請勿使用實體連接埠的WWPN。</block>
  <block id="acd7065eaa19f6ad949216b6dcca52b6" category="list-text">VMware vSphere的一套可部署、設定及隨時使用的VMware vCenter工具。ONTAP</block>
  <block id="d13dd15101d292f5b2c56e5be828fec8" category="section-title">配置VMFS資料存放區</block>
  <block id="95877ca095b0f0a0a981f8a12d234ad5" category="paragraph">若要配置VMFS資料存放區、請完成下列步驟：</block>
  <block id="94dafc85e46c3bc0d374c052b1075890" category="list-text">請使用檢查相容性<block ref="3028580b30f2b1d483aad9f9a7a65c7a" category="inline-link-rx"></block></block>
  <block id="195e1a47999aff0fbaa4eb8d97be6c40" category="inline-link-macro">支援FCP組態</block>
  <block id="e1b87801d0d31fd947fb52aa411c2815" category="list-text">確認 <block ref="a0240d867f430aa7cc80ec129fc2bdb1" category="inline-link-macro-rx"></block>。</block>
  <block id="0b3f75b021ef6bdc0a532e2d9b2a9d74" category="inline-link-macro">確認您擁有ONTAP FCP的不確定授權。</block>
  <block id="3c56f50608e95955ed2e1a3fb8b1dad1" category="list-text"><block ref="3c56f50608e95955ed2e1a3fb8b1dad1" category="inline-link-macro-rx"></block></block>
  <block id="e7dc6b39e7e5bd6df8fa93e90a426161" category="list-text">使用「系統授權show」命令檢查是否列出FCP。</block>
  <block id="f8aa00b1a94d3290ba6ac653b792dd8a" category="list-text">使用「licen se add -lice-code-&lt;授權代碼&gt;」新增授權。</block>
  <block id="86a53381cefd41dcca81850274f0203a" category="list-text">確定SVM上已啟用FCP傳輸協定。</block>
  <block id="169e237a691059b9ac1933f0e7be8f56" category="inline-link-macro">驗證現有SVM上的FCP。</block>
  <block id="5bb60b756067a0334c310be1e2260c3b" category="list-text"><block ref="5bb60b756067a0334c310be1e2260c3b" category="inline-link-macro-rx"></block></block>
  <block id="fab6621b43b19a018afc1860a5b85c21" category="inline-link-macro">在現有SVM上設定FCP。</block>
  <block id="7d4ca3fa89beb77990d305e17ed9ba64" category="list-text"><block ref="7d4ca3fa89beb77990d305e17ed9ba64" category="inline-link-macro-rx"></block></block>
  <block id="0d195904efc6cfb176bbc04e93c2947d" category="inline-link-macro">使用FCP建立新的SVM。</block>
  <block id="df062a6cafa16aee5f7ea64ea6991776" category="list-text"><block ref="df062a6cafa16aee5f7ea64ea6991776" category="inline-link-macro-rx"></block></block>
  <block id="5aab5d056538757626dd0562a563471a" category="list-text">確保FCP邏輯介面可在SVM上使用。</block>
  <block id="f89eac3d097d3dae5c0159f0da84b1c7" category="list-text">使用GUI建立SVM時、邏輯介面是該程序的一部分。</block>
  <block id="946b60eb8bd4945ad82b28fd9ccd3c63" category="list-text">若要重新命名網路介面、請使用「網路介面修改」。</block>
  <block id="52fa81ab62bea2599ed516f01925678d" category="inline-link-macro">建立及對應LUN。</block>
  <block id="c8ecf540bebb63423545ecd3d02c6ca0" category="list-text"><block ref="a2b18e9ce335dd856363e6613d961c1a" category="inline-link-macro-rx"></block> 如果您使用ONTAP VMware vSphere的VMware VMware vSphere的VMware工具、請跳過此步驟。</block>
  <block id="e4f7ebeb9544fb23a73028ab714ca87c" category="section-title">VMware vSphere工作</block>
  <block id="25d85157bcfdbb601bbda056cd3a5bc6" category="list-text">已安裝HBA驅動程式。VMware支援的HBA已隨裝即用部署驅動程式、應可在中看到 <block ref="57f7eb139c8bc258309d8e16d3df13fe" category="inline-link-macro-rx"></block>。</block>
  <block id="c57f32bc5ce6f95f5f9bec8260ecdb08" category="inline-link-macro">使用ONTAP VMware不穩定工具來配置VMFS資料存放區</block>
  <block id="b3a5f140339b1ca0940c5875b2a76d0b" category="list-text"><block ref="89ebfed741bd060c10a4a1472581f4e2" category="inline-link-macro-rx"></block>。</block>
  <block id="fa7b524ea902bff51145e4279b653d84" category="summary">本頁提供影片和教學課程的簡介。</block>
  <block id="7dcf4233280fcc0e80d2c5b8ce82af91" category="paragraph">NetApp SnapCenter 流通軟體是易於使用的企業平台、可安全地協調及管理應用程式、資料庫及檔案系統之間的資料保護。</block>
  <block id="7dc8c97b0d6d3055290baa0eb36dbfa5" category="paragraph">VMware vSphere的《VMware vSphere支援VMware外掛程式」SnapCenter 可讓您針對VM執行備份、還原及附加作業、以及SnapCenter 針對直接在VMware vCenter內以「VMware vCenter」登錄的資料存放區執行備份與掛載作業。</block>
  <block id="00389b40803806e30e1877e1a0469e22" category="inline-link">適用於VMware vSphere的NetApp SnapCenter 功能外掛程式總覽</block>
  <block id="4267881eb271396086a3cc1387da9a3a" category="section-title">NetApp與VMware Tanzu合作</block>
  <block id="2dd739333b022cfeccd93e19c8c39d83" category="paragraph">VMware Tanzu可讓客戶透過vSphere或VMware Cloud Foundation來部署、管理及管理Kubernetes環境。VMware產品組合可讓客戶從單一控制面板管理所有相關的Kubernetes叢集、選擇最符合需求的VMware Tanzu版本。</block>
  <block id="f8d0723a562ed498a977795477b75cb0" category="inline-link">VMware Tanzu概述</block>
  <block id="2d3e9ef8ae693e8ff80c4d6e70f0a876" category="paragraph">如需VMware Tanzu的詳細資訊、請參閱<block ref="1951d4038519ab642a1c0f8898cecfe0" category="inline-link-rx"></block>。本審查涵蓋使用案例、可用的新增項目、以及有關VMware Tanzu的更多資訊。</block>
  <block id="31c49b154032d3d6039542b651e0f3d4" category="list-text"><block ref="31c49b154032d3d6039542b651e0f3d4" category="inline-link-rx"></block></block>
  <block id="fcf1189eaf4e4e32d27ee5174d63ae3c" category="list-text"><block ref="fcf1189eaf4e4e32d27ee5174d63ae3c" category="inline-link-rx"></block></block>
  <block id="5963b1ea39cb7cc8a0a4f5ce7c5ef816" category="list-text"><block ref="5963b1ea39cb7cc8a0a4f5ce7c5ef816" category="inline-link-rx"></block></block>
  <block id="20cf4402cce1622d010e58ef54b0c753" category="section-title">採用Red Hat OpenShift的NetApp</block>
  <block id="0454c59b86dfb678c92c2c7480958d1c" category="paragraph">Red Hat OpenShift是一款企業Kubernetes平台、可讓您以開放式混合雲策略來執行以容器為基礎的應用程式。Red Hat OpenShift可在領先業界的公有雲或自助管理軟體上作為雲端服務提供客戶在設計容器型解決方案時所需的靈活度。</block>
  <block id="2426b725f5be26f50931584ae804c2eb" category="inline-link">Red Hat OpenShift總覽</block>
  <block id="ad973740d0b3378d367abba8a74a610e" category="paragraph">如需Red Hat OpenShift的詳細資訊、請參閱此<block ref="dc6de73076240cafa99651f2d6acfef4" category="inline-link-rx"></block>。您也可以檢閱產品文件和部署選項、深入瞭解Red Hat OpenShift。</block>
  <block id="3699cb747ce71b2fed488fef61ad35be" category="inline-link">工作負載移轉：採用NetApp的Red Hat OpenShift</block>
  <block id="ade88b04ec62ed28eb857e48bc32cef5" category="list-text"><block ref="ade88b04ec62ed28eb857e48bc32cef5" category="inline-link-rx"></block></block>
  <block id="a2f2cd3053597e34724347a57620122b" category="list-text"><block ref="a2f2cd3053597e34724347a57620122b" category="inline-link-rx"></block></block>
  <block id="5a44477fe5ac4beac2dc6574097cf079" category="summary">本頁提供在ONTAP VMware vSphere環境中部署NetApp支援iSCSI VMFS資料存放區的步驟。</block>
  <block id="6fe85aae6e8fa231a1f417edfeef3759" category="doc">vSphere VMFS資料存放區- iSCSI儲存後端ONTAP 搭配功能</block>
  <block id="4f6f7882fc7b858bc0eb3e3a41991494" category="paragraph">本節說明如何使用ONTAP VMware iSCSI儲存設備來建立VMFS資料存放區。</block>
  <block id="383b1f30f341cb0eff11db96d70e9f50" category="list-text">管理vSphere環境與ONTAP VMware所需的基本技能。</block>
  <block id="47c341511ad626bfba98caeaa0762774" category="list-text">iSCSI的網路連接埠、SVM和LUN資訊ONTAP</block>
  <block id="f76f5dc5c6861d7938aa8d60b08976c8" category="inline-link-macro">完整的iSCSI組態工作表</block>
  <block id="275e54409e966e03b62ee630e4856daa" category="list-text"><block ref="275e54409e966e03b62ee630e4856daa" category="inline-link-macro-rx"></block></block>
  <block id="c7e4d06c6b5e45fbb711be2b15976173" category="list-text">iSCSI VMKernel介面卡IP資訊</block>
  <block id="9068992a529de63b07b7c2250be12f87" category="list-text">網路交換器</block>
  <block id="980e76f4fd03b06bfe740133284e92a9" category="list-text">搭配ONTAP 使用NetApp系統網路資料連接埠和連線的vSphere主機</block>
  <block id="3a6f48cf422509b67592ce2a0b4dd558" category="list-text">為iSCSI設定的VLAN</block>
  <block id="44786c36009327ad04469602f3f96832" category="list-text">（選用）連結集合、設定ONTAP 用於連接至整套網路資料連接埠</block>
  <block id="503023bddb3bd1c7803b35b4ace6aa7a" category="list-text">VMware vSphere適用的VMware vSphere工具已部署、已設定且隨時可供使用ONTAP</block>
  <block id="f3a29486bed19a90f2da6d007818b427" category="section-title">步驟</block>
  <block id="881de4e9f9e9dba55f3d9f09d3fc8eac" category="inline-link-macro">驗證是否支援iSCSI組態。</block>
  <block id="6a2fb6d042919f5807315156f926ab10" category="list-text"><block ref="6a2fb6d042919f5807315156f926ab10" category="inline-link-macro-rx"></block></block>
  <block id="e103d9cdc55ef0be25a4fd8054bc28bc" category="list-text">完成下列ONTAP 的VMware及vSphere工作。</block>
  <block id="f04a1b9690234d25ff072d6719666947" category="inline-link-macro">驗ONTAP 證iSCSI的不實授權</block>
  <block id="41bf6980693d9ba9f5e7a797fe2f4417" category="list-text"><block ref="0767ceac1f7ac130ade75fb7fae3fc53" category="inline-link-macro-rx"></block>。</block>
  <block id="3ffc628bd3f213f0998146fb5262f366" category="list-text">使用「系統授權show」命令檢查是否列出iSCSI。</block>
  <block id="d1b0a5732b3cb229ef0f788fbb095f05" category="list-text">使用「license add -license code-Code &lt; license code&gt;」來新增授權。</block>
  <block id="97035bc2443de65f877c3fddd838c6ae" category="inline-link-macro">確認SVM上已啟用iSCSI傳輸協定。</block>
  <block id="3807dbdaab3b890b6a293c99c7b46f63" category="list-text"><block ref="3807dbdaab3b890b6a293c99c7b46f63" category="inline-link-macro-rx"></block></block>
  <block id="cb66a92bc9fa6195f8b2914bcf868664" category="list-text">驗證SVM上是否有iSCSI網路邏輯介面可用。</block>
  <block id="da91d0d17d1f671a0af23e7ebb96ec92" category="admonition">使用GUI建立SVM時、也會建立iSCSI網路介面。</block>
  <block id="da6a83da2309e8dbd81bb5b55c7c9602" category="list-text">使用「網路介面」命令來檢視或變更網路介面。</block>
  <block id="53fd22677faa2085c1fc51f1d116faff" category="admonition">建議每個節點使用兩個iSCSI網路介面。</block>
  <block id="69fea75e454b43e67ba176dddb604159" category="inline-link-macro">建立iSCSI網路介面。</block>
  <block id="1bc0e04873be7c6291aef492ff2785cc" category="list-text"><block ref="d503e168b9096ac416caa1c8f13ab28a" category="inline-link-macro-rx"></block> 您可以使用預設資料區塊服務原則。</block>
  <block id="bd494b2c15d88a1dfa29c308b39e8f6e" category="inline-link-macro">驗證資料iSCSI服務是否包含在服務原則中。</block>
  <block id="c436a9a899f5e1cfacf8828c90931ca9" category="list-text"><block ref="24788d985e181b3194881517c2ec7650" category="inline-link-macro-rx"></block> 您可以使用「網路介面服務原則展示」來驗證。</block>
  <block id="c0e1d066d0482fc5cc1554edaa3f36b2" category="inline-link-macro">驗證是否已啟用巨型框架。</block>
  <block id="a355e4512cfabb746ee4c05a87a61107" category="list-text"><block ref="a355e4512cfabb746ee4c05a87a61107" category="inline-link-macro-rx"></block></block>
  <block id="5ccd820a879b8d1daef5e44125431184" category="inline-link-macro">建立及對應LUN。</block>
  <block id="c49b54ab60508b16176724eeb8118049" category="list-text"><block ref="3a73ce9b9237c3e09863bf7b049ce423" category="inline-link-macro-rx"></block> 如果您使用ONTAP VMware vSphere的VMware VMware vSphere的VMware工具、請跳過此步驟。針對每個LUN重複此步驟。</block>
  <block id="5c9b297b088335a8562568dc59549c7d" category="list-text">確認至少有一個NIC可供iSCSI VLAN使用。為了提升效能和容錯能力、我們建議使用兩個NIC。</block>
  <block id="fe9e58c95c20042a4032ef737d6e8400" category="inline-link-macro">識別vSphere主機上可用的實體NIC數目。</block>
  <block id="96cf3cacac94299a7630f48f5cf5b7e3" category="list-text"><block ref="96cf3cacac94299a7630f48f5cf5b7e3" category="inline-link-macro-rx"></block></block>
  <block id="87d3329dab6e8f24601b6f45d40614ea" category="inline-link-macro">設定iSCSI啟動器。</block>
  <block id="536d7ac288972152b209e6f004917285" category="list-text"><block ref="95a6e2e5fae04247474cdc6a729342fc" category="inline-link-macro-rx"></block> 典型的使用案例是軟體iSCSI啟動器。</block>
  <block id="fd823eb37045485458bb3d5d52ddc46f" category="inline-link-macro">驗證iSCSI的TCPIP堆疊是否可用</block>
  <block id="875d65383afa504aad11a619d920adc7" category="list-text"><block ref="025b4ff12eca60b6c5b5be76597b5e95" category="inline-link-macro-rx"></block>。</block>
  <block id="e45f6655250b094b5a8370ff511869c3" category="inline-link-macro">確認iSCSI連接埠群組可用</block>
  <block id="4c93429599cf15be2af5aa0f59131c17" category="list-text"><block ref="5e67546a702454fa060946b3e582d0e9" category="inline-link-macro-rx"></block>。</block>
  <block id="b7b554d373b5992838a126134a03ba0d" category="list-text">我們通常使用單一虛擬交換器搭配多個上行鏈路連接埠。</block>
  <block id="879d70f2184599f483fd94f0f274163f" category="list-text">使用1：1介面卡對應。</block>
  <block id="9f60e3586ab900b8f879404be003b539" category="list-text">確認iSCSI VMKernel介面卡已啟用、以符合NIC數量、並已指派IP。</block>
  <block id="3e6e09b1cda3200c7407173a3473a103" category="inline-link-macro">將iSCSI軟體介面卡連結至iSCSI VMKernel介面卡。</block>
  <block id="70d687ef257c5d00e0d85844c0101c77" category="list-text"><block ref="70d687ef257c5d00e0d85844c0101c77" category="inline-link-macro-rx"></block></block>
  <block id="187fbd973609969af8f47e857f8579c4" category="inline-link-macro">使用ONTAP VMware不穩定工具來配置VMFS資料存放區</block>
  <block id="1e9df60603ff2a9fe2495b189aecc647" category="list-text"><block ref="efecd5d76f6fc92c9c9a8111cf809724" category="inline-link-macro-rx"></block>。對所有資料存放區重複此步驟。</block>
  <block id="5f4723c28ea2b13a27b86c1116720a8a" category="inline-link-macro">確認硬體加速支援。</block>
  <block id="aa0cfa24dd578f0629299a21b453583c" category="list-text"><block ref="aa0cfa24dd578f0629299a21b453583c" category="inline-link-macro-rx"></block></block>
  <block id="1d3fa7ee382266d716ba7a360f30f188" category="paragraph">完成這些工作之後、VMFS資料存放區就可以開始耗用資源來配置虛擬機器。</block>
  <block id="53001b412ce4896686a413a19f6dcc5f" category="listing-title">Ansible教戰手冊</block>
  <block id="9bf6b8df29f265cdaf3246f6645ca922" category="inline-link"><block ref="9bf6b8df29f265cdaf3246f6645ca922" category="inline-link-rx"></block></block>
  <block id="bc0f3321a29c580fa0e3cca0c00ee7cd" category="list-text">VMware產品文件<block ref="3bdcd80def6a1e2849d8b38049a04af9" category="inline-link-rx"></block></block>
  <block id="fa4af55c3fdbce23e96d2cf73261fa5b" category="inline-link"><block ref="fa4af55c3fdbce23e96d2cf73261fa5b" category="inline-link-rx"></block></block>
  <block id="0f185ccd88416daec4eee0a846d110b8" category="list-text">NetApp 產品文件<block ref="2e85fc867cab94d246e0bf6043b361cd" category="inline-link-rx"></block></block>
  <block id="9db3527848e891e0a9340c443515e770" category="doc">開始使用NetApp與VMware</block>
  <block id="4b1c76979225b75a8e5f476356ed17e8" category="paragraph">VMware on NetApp：您的旅程從這裡開始！</block>
  <block id="d7b056332bb039010d62c71ede534471" category="paragraph">如果您已準備好開始轉型VMware環境、請瀏覽最新的解決方案總覽、檢閱我們最新的技術解決方案和產品示範。如果您已準備好迎接下一步、請與NetApp和VMware專家社群一起協助規劃及執行您的資料中心現代化、混合雲或容器化應用程式方案。</block>
  <block id="bbaff12800505b22a853e8b7f4eb6a22" category="inline-link-macro">聯絡人</block>
  <block id="be52ccc9c4dbcee449a6257062c0bcda" category="paragraph">不確定從何處開始？ <block ref="dcd7ec98fb935d9a5fd8ade723a47456" category="inline-link-macro-rx"></block> NetApp的VMware專家成員。</block>
  <block id="27b7a196b8196df4eeee9d21ade20a45" category="inline-link-macro">PDF格式</block>
  <block id="e2fd99d21fbe7a1b2ed6388c40d48b0f" category="admonition">此頁面上呈現的內容也可從下載 <block ref="a182addaadbc8a97de909268c8dc9bf0" category="inline-link-macro-rx"></block>。</block>
  <block id="d3db539e5d56da6e251021138c5fe53f" category="section-title">瞭解NetApp與VMware解決方案</block>
  <block id="09f93ac387258fa68c085baba3c8fc44" category="inline-link-macro">NetApp &amp;amp; VMware：更好地結合在一起</block>
  <block id="fb758bbc93c23b25607ef41f302d4eef" category="list-text"><block ref="35ef54e3b8ad8ec505bab4b973f86177" category="inline-link-macro-rx"></block></block>
  <block id="b6741313b8f46ab1018ebd6a361c22a4" category="inline-link-macro">VMware概述的最新功能ONTAP</block>
  <block id="d393be6d50183d7362f0adb8bc92ae08" category="list-text"><block ref="d393be6d50183d7362f0adb8bc92ae08" category="inline-link-macro-rx"></block></block>
  <block id="b25a3522acbb33341ccacac99424fcce" category="inline-link-macro">利用SnapCenter VMware vSphere的VMware外掛程式</block>
  <block id="a65898b7011ddfb663cdba62f90581c6" category="list-text"><block ref="a65898b7011ddfb663cdba62f90581c6" category="inline-link-macro-rx"></block></block>
  <block id="60b0390f50a5ad13d613d49cfe1bce0b" category="inline-link-macro">利用NetApp和NVMe重新定義VMware效能</block>
  <block id="f6dde7f191b6b8f8351902b139ec8672" category="list-text"><block ref="f6dde7f191b6b8f8351902b139ec8672" category="inline-link-macro-rx"></block></block>
  <block id="c576371db342dc9cb166c73b0e157fb5" category="inline-link-macro">在AWS上執行VMware Cloud的低成本效能世界</block>
  <block id="89487ceb1ada10e49befbbaed3b714ec" category="list-text"><block ref="89487ceb1ada10e49befbbaed3b714ec" category="inline-link-macro-rx"></block></block>
  <block id="92061b0dd7904e2299ac65ed9bc2d6af" category="inline-link-macro">介紹VMware Tanzu與NetApp</block>
  <block id="ae7c9beb8e4adca6da75607ee83e2403" category="list-text"><block ref="ae7c9beb8e4adca6da75607ee83e2403" category="inline-link-macro-rx"></block></block>
  <block id="a88a91878fb958db59873117d16ad078" category="inline-link-macro">虛擬桌面基礎架構（VDI）：隨需提供員工工作站</block>
  <block id="9467ff6388811a059199513a0a484f0b" category="list-text"><block ref="9467ff6388811a059199513a0a484f0b" category="inline-link-macro-rx"></block></block>
  <block id="d5e64137a19403f8c1c89f50546b82c5" category="inline-link-macro">VMware on AWS：架構與服務選項</block>
  <block id="6cb2c8a80e576f132097e4d28cec24cd" category="list-text"><block ref="6cb2c8a80e576f132097e4d28cec24cd" category="inline-link-macro-rx"></block></block>
  <block id="cd4efd0ada1938b240dd48aa08010f04" category="inline-link-macro">利用NetApp Cloud Volumes Service 的NetApp解決方案API進行程式設計、以最佳化AWS體驗</block>
  <block id="f61369e9428a21eb1090be340ef36f16" category="list-text"><block ref="f61369e9428a21eb1090be340ef36f16" category="inline-link-macro-rx"></block></block>
  <block id="6d14f3ca0f5be54f01fd579906dd80bb" category="inline-link-macro">Kubernetes：在vSphere和Tanzu上執行K8s</block>
  <block id="ef8e103737164442c629df5b5d98769d" category="list-text"><block ref="ef8e103737164442c629df5b5d98769d" category="inline-link-macro-rx"></block></block>
  <block id="7e0caac7f6d493fab662f4f4d65ae213" category="section-title">打造您的虛擬化資料架構</block>
  <block id="f1f4041236ed90e2a5e65e9a3c858875" category="section-title">檢閱我們最新的NetApp VMware解決方案</block>
  <block id="0e8dd76bc961a90df87833953de6d067" category="inline-link-macro">VMware vSphere ONTAP with VMware解決方案：NetApp解決方案</block>
  <block id="4e36e97d23b00520e4b573859ee4cb26" category="list-text"><block ref="4e36e97d23b00520e4b573859ee4cb26" category="inline-link-macro-rx"></block></block>
  <block id="b761cb4d962320708880627e8e2fe971" category="inline-link-macro">VMware vSphere Virtual Volumes with ONTAP VMware</block>
  <block id="5b90454e2bf0f381c8f7fc928ef6fb9e" category="list-text"><block ref="5b90454e2bf0f381c8f7fc928ef6fb9e" category="inline-link-macro-rx"></block></block>
  <block id="3390e3575b3e341afa2b7172ff5b33a7" category="inline-link-macro">VMware vSphere的插件SnapCenter</block>
  <block id="730c2cf92bbe409c31ef1f39cf25377a" category="list-text"><block ref="730c2cf92bbe409c31ef1f39cf25377a" category="inline-link-macro-rx"></block></block>
  <block id="c375e5bb7184da46adef700a9a36d674" category="inline-link-macro">NetApp Modern NVMeoF VMware vSphere工作負載設計與擴大機；驗證</block>
  <block id="b54be27467e63a98d65e6b17a914e373" category="list-text"><block ref="902dd483e9192a0b4645b4c8be7acbff" category="inline-link-macro-rx"></block></block>
  <block id="b860a89f6215a92f2320f0afe4e0ee05" category="inline-link-macro">適用於VMware &amp;amp; SQL Server的NetApp現代化NVMeoF雲端連線Flash解決方案</block>
  <block id="0ebff16085636352cc1aa1e5b0003bdb" category="list-text"><block ref="ac70b8666634dd9095602966c4c61093" category="inline-link-macro-rx"></block></block>
  <block id="eccda9b55035b56259299545d5781136" category="inline-link-macro">利用VMware Tanzu &amp;amp; ONTAP VMware加速您的Kubernetes之旅</block>
  <block id="bb79e474557eb86fc30118354eef0039" category="list-text"><block ref="5dd92e330c2d45255a2025ee1eedd52d" category="inline-link-macro-rx"></block></block>
  <block id="7f8cf1c43494d40e935f5e99e38ce659" category="inline-link-macro">降低在AWS上執行VMware Cloud的成本</block>
  <block id="f0d8a1b084d604c4db4319a2c5bbd522" category="list-text"><block ref="f0d8a1b084d604c4db4319a2c5bbd522" category="inline-link-macro-rx"></block></block>
  <block id="5ab6c918ee903c74a7d7c97b2432ebaf" category="section-title">瀏覽最新VMware解決方案的示範影片</block>
  <block id="7128c22bfdae1fe8be75c9a9ee56eca9" category="inline-link-macro">VMware vSphere和NetApp ONTAP 的最佳實務做法</block>
  <block id="d2fa143a4aaef3477f2edb0d92676341" category="inline-link-macro">您的VMware環境：讓我們在NVMe上執行ONTAP 、搭配VMware</block>
  <block id="207681662de4971035cc8d5c9347c986" category="list-text"><block ref="207681662de4971035cc8d5c9347c986" category="inline-link-macro-rx"></block></block>
  <block id="e9c2b8b8a9962013c07f83742ca35f0e" category="inline-link-macro">vVols災難恢復：ONTAP 利用VMware SRM和VMware vCenter SRM</block>
  <block id="8ca7386c3cb63b01ffc6387ba41427ae" category="list-text"><block ref="8ca7386c3cb63b01ffc6387ba41427ae" category="inline-link-macro-rx"></block></block>
  <block id="e308c2a1dacddb5bc6ffa093081111e4" category="inline-link-macro">適用於Data Fabric的VMware備份與還原</block>
  <block id="9934e59457fa5f31d39a58f1d55ac5d5" category="list-text"><block ref="9934e59457fa5f31d39a58f1d55ac5d5" category="inline-link-macro-rx"></block></block>
  <block id="c10a86f3b9530baf3bed3b02aaaf873f" category="section-title">為VMware部署靈活的混合雲與現代化應用程式基礎架構</block>
  <block id="554cfab3938e21d9270bd6b75931f96f" category="section-title">影片</block>
  <block id="f20368920280b50131814db2f83fda66" category="inline-link-macro">在NetApp All Flash FAS 上架構VMware資料存放區</block>
  <block id="8ff6498eeabd53b4271d75f543dc3bc4" category="list-text"><block ref="8ff6498eeabd53b4271d75f543dc3bc4" category="inline-link-macro-rx"></block></block>
  <block id="f1c2408ffc6e67ac6b34eb8da2b3039c" category="list-text"><block ref="f1c2408ffc6e67ac6b34eb8da2b3039c" category="inline-link-macro-rx"></block></block>
  <block id="253d309203cf1f2c1bb57255bd0a5bdc" category="inline-link-macro">將VMware VM移轉至Google Cloud</block>
  <block id="7518aab5e189037f632ee46ea9e3cf07" category="video-title">部署適用於VMware Tanzu的動態持續NetApp儲存設備、第1部分</block>
  <block id="f86bf601d6e42c44cf076ea1772ae13c" category="video-title">部署適用於VMware Tanzu的動態持續NetApp儲存設備、第2部分</block>
  <block id="bf5c12d4eed319d2dc2b2b7279944f71" category="video-title">部署適用於VMware Tanzu的動態持續NetApp儲存設備、第3部分</block>
  <block id="d6b9ea32b921a9f56de32062ba4b94f3" category="section-title">部落格</block>
  <block id="a398d57165e21c951dd9c9def41598a9" category="inline-link-macro">AWS上的VMware Cloud：Fujitsu如何使用CVO節省數百萬美元</block>
  <block id="d750d47d5e87a6c526e7b40e12eab95b" category="list-text"><block ref="d750d47d5e87a6c526e7b40e12eab95b" category="inline-link-macro-rx"></block></block>
  <block id="3ca2b14e719d79aed66780282e879db4" category="section-title">接洽NetApp與VMware專家</block>
  <block id="20475522c77401af1c203f23942ffda5" category="inline-link-macro">參加VMware解決方案討論論壇</block>
  <block id="1dccc60a61431b3ef3f48709a0f68de7" category="list-text"><block ref="1dccc60a61431b3ef3f48709a0f68de7" category="inline-link-macro-rx"></block></block>
  <block id="a5810200dda7a3f37fc7eae5378cc8f3" category="inline-link-macro">請聯絡NetApp全球服務團隊以開始使用</block>
  <block id="efb954cbfdbe0c54f04c904a2719b98a" category="list-text"><block ref="efb954cbfdbe0c54f04c904a2719b98a" category="inline-link-macro-rx"></block></block>
  <block id="963739e9818c0bf4d8959b5cdf6a7956" category="summary">使用vVols複寫時、SRM內部的工作流程與SRA和傳統資料存放區使用的工作流程大不相同。</block>
  <block id="56687c1a324f03f5d1429500efea710e" category="doc">使用vVols複寫時疑難排解SRM</block>
  <block id="14acf40cbe69d8682b4c844ac7fbf7f6" category="paragraph">使用vVols複寫時、SRM內部的工作流程與SRA和傳統資料存放區使用的工作流程大不相同。例如、沒有Array Manager概念。因此，永遠看不到「discoverArray」和「discoverdevices'命令。</block>
  <block id="ef74d715544e3b067a6bec3218ac5044" category="paragraph">疑難排解時、瞭解下列新工作流程會有所助益：</block>
  <block id="47f0942d341ee10381b2eff35089d75d" category="list-text">查詢複製對等方：探索兩個故障網域之間的複寫合約。</block>
  <block id="136a299aae29998a147852cb0cba5b4a" category="list-text">查詢FaultDomain：探索故障網域階層。</block>
  <block id="c071098c5df923c31f6245e4db2f3861" category="list-text">查詢複製群組：探索來源或目標網域中的複寫群組。</block>
  <block id="792cfe9ad3a3dc8528080a262e92989a" category="list-text">SyncReplicationGroup：在來源與目標之間同步資料。</block>
  <block id="39afb1e1e3b180a6230e07bb8571667e" category="list-text">查詢點時間複本：探索目標上的時間點複本。</block>
  <block id="9fb25fe2ff084dc9ccfb99eaccba7212" category="list-text">testFailoverReplicationGroupStart：開始測試容錯移轉。</block>
  <block id="bd4e1dacaca4c37a53b5286b6ae0239d" category="list-text">testFailoverReplicationGroupStop：結束測試容錯移轉。</block>
  <block id="887f376a43cf9de1d6e14a8d69e588f6" category="list-text">促銷複製群組：將目前正在測試的群組推廣至正式作業。</block>
  <block id="17ab16c5c0786ff381e6a085318bad9b" category="list-text">PrepareFailoverReplicationGroup：準備災難恢復。</block>
  <block id="665dd64ebcc4016bda94e0e8020d8c8e" category="list-text">容錯移轉複製群組：執行災難恢復。</block>
  <block id="6936cf00e30b7cd4421225113a023c3e" category="list-text">混響複寫群組：啟動反轉複寫。</block>
  <block id="61ac8950a043e6998b458d4f8171154c" category="list-text">queryMatchingContainer：尋找容器（連同主機或複寫群組）、以特定原則來滿足資源配置要求。</block>
  <block id="05c9efdc056d2af4640bc441ab61b53a" category="list-text">查詢資源中繼資料：從VASA提供者探索所有資源的中繼資料、可傳回資源使用率做為查詢配對Container功能的答案。</block>
  <block id="01fa56986f885c588b1be8c206623de8" category="paragraph">設定vVols複寫時最常見的錯誤是無法發現SnapMirror關係。這是因為磁碟區和SnapMirror關係是在ONTAP 不屬於「需求工具」範圍的情況下建立。因此、最佳實務做法是在ONTAP 嘗試建立複寫的vVols資料存放區之前、務必確認SnapMirror關係已完全初始化、並在兩個站台上執行「ReDiscovery工具」中的重新探索。</block>
  <block id="6104c8ef7be4222a76596ab6a22bb422" category="doc">建議的ESXi主機和其他ONTAP 功能設定</block>
  <block id="0416d04b345b434b120840c30ddaf0a1" category="paragraph">NetApp已開發出一套ESXi主機多重路徑和HBA逾時設定、可根據ONTAP NetApp測試、以正確的方式執行功能。使用ONTAP VMware vSphere的VMware VMware vSphere的VMware VMware Infrastructure可輕鬆設定這些功能。在「摘要」儀表板中、按一下「主機系統」入口小程式中的「編輯設定」、或在vCenter中的主機上按一下滑鼠右鍵、然後瀏覽ONTAP 至「VMware工具」&gt;「設定建議值」。以下是9.8版目前建議的主機設定。</block>
  <block id="73663d0d00956f0632e4ae75d811d53f" category="cell">VMFS3.HardwareAcceleratedLocking</block>
  <block id="1b50110aedae4d8d2043a4eb9beb20af" category="cell">VMFS3.EnablBlockDelete</block>
  <block id="571cc1d48c6d1ff3cf7e3a54cb035753" category="cell">* NFS設定*</block>
  <block id="c3b49a515dd0046685e06092642aa139" category="cell">net.TcpipHeapSize.</block>
  <block id="504e96cc79e7efe30a8271cea152d9d1" category="cell">net.TcpipHeapMax</block>
  <block id="5f1e7b6431061565550e292d05c73588" category="cell">NFS.MaxVolumes</block>
  <block id="3058676a1cf088aa4a73312ac36f2a58" category="cell">NFS41.MaxVolumes</block>
  <block id="62c07f94c64184ee5d530e4c0917093f" category="cell">vSphere 6.0或更新版本、設定為256。</block>
  <block id="18e1fb6924459470760771b20ab0c379" category="cell">NFS.HeartbeatMaxFailures</block>
  <block id="1aa26eb281359ba3b9a9a4b83a09ed46" category="cell">NFS.Heartbeat頻率</block>
  <block id="eb4182715f8cde98563dc59ea36461d3" category="cell">NFS.Heartbeattimeout</block>
  <block id="45aa5481fa55802a29a96aefd2f5dab1" category="cell">所有NFS組態皆設為5。</block>
  <block id="54a08b15243d9078d3b5a47f8242da6f" category="cell">SUNPC。MaxConnPerIP</block>
  <block id="9a9ccbecb3f315797ff8e709d85a0e18" category="cell">vSphere 7.0或更新版本、設定為128。</block>
  <block id="c0b3fd5512c2093847f753f398290f30" category="cell">* FC/FCoE設定*</block>
  <block id="2e556ad678160413b32dcca55c7d1f5f" category="cell">路徑選擇原則</block>
  <block id="117704664d6cada78ac3107380f63d23" category="cell">disk.QFullSampleSize.</block>
  <block id="f66a3c183f0e736240b77f8b755c880e" category="cell">disk.QFullThreshold</block>
  <block id="19c08de7404551288e1274186e039ef4" category="cell">Emulex FC HBA逾時</block>
  <block id="b4dbfc2d52627e923cbb563a31ff756d" category="cell">使用預設值。</block>
  <block id="d46cddda4da7ec11f17472d11df95b68" category="cell">QLogic FC HBA逾時</block>
  <block id="19b5aaf3e2cb86809996ca63a2a416b0" category="cell">* iSCSI設定*</block>
  <block id="fb55ee99c04280ac638757869929785d" category="paragraph">建立完等量磁碟區和LUN時、也會指定特定的預設設定：ONTAP ONTAP FlexVol</block>
  <block id="5938fe448c8661febcef3f4e779e3adb" category="cell">Snapshot保留（-%快照空間）</block>
  <block id="cfcd208495d565ef66e7dff9f98764da" category="cell">0</block>
  <block id="7218aec62575561a6de1cae8d5658390" category="cell">部分保留（-分數保留）</block>
  <block id="3a7e09ff0fa38663ffe6d91324ea75d9" category="cell">存取時間更新（-atime-update）</block>
  <block id="f8320b26d30ab433c5a54546d21f414c" category="cell">錯</block>
  <block id="e93200d5b0d16915bf04236790544b2f" category="cell">最小預先讀取（-min-readahead）</block>
  <block id="eee57b9c7d333899f3df6ffd10ec50df" category="cell">排程的Snapshot複本</block>
  <block id="fd18465573ec21a6218982055981f6b1" category="cell">儲存效率</block>
  <block id="00d23a76e43b46dae9ec7aa9dcbebb32" category="cell">已啟用</block>
  <block id="f65fd63b63c9e9f25bf6bc141e83de34" category="cell">Volume保證</block>
  <block id="c2410aebdf425dabcc65e546e506b03e" category="cell">無（精簡配置）</block>
  <block id="f97c03bf3e9580446d70d479f5aad1e0" category="cell">Volume自動調整大小</block>
  <block id="d89f4f8b1d7c18847b88b46142f61535" category="cell">大幅縮減</block>
  <block id="ace72ec54e17777d27eb8bdb9d57e782" category="cell">LUN空間保留</block>
  <block id="b9f5c797ebbf55adccdd8539a65a0241" category="cell">已停用</block>
  <block id="514aa7792a71ab4ab677eb2385131aae" category="cell">LUN空間配置</block>
  <block id="0464f851d84d05f0a9db9051354e5581" category="section-title">其他主機多重路徑組態考量</block>
  <block id="5fcb3de72ca1920517439049153d961d" category="paragraph">雖然目前未使用ONTAP 可用的VMware工具進行設定、但NetApp建議您考慮下列組態選項：</block>
  <block id="840731ae1cb9e4b23e19f645ab018b6f" category="inline-link">2069356</block>
  <block id="5073fc9da327263a7db04fd449991e6a" category="list-text">在高效能環境中或使用單一LUN資料存放區測試效能時、請考慮將循環配置資源（VMW_PSP_RR）路徑選擇原則（PSP）的負載平衡設定、從預設的IOPS設定1000變更為1。請參閱VMware KB<block ref="f3f4762788a6845119bdb5b9c9179bda" category="inline-link-rx"></block> 以取得更多資訊。</block>
  <block id="1ea3eb55b985cf75e100607ee8bd935d" category="inline-link">路徑選取外掛程式和原則</block>
  <block id="249afbf456bd04d574e8d362d5bf133c" category="list-text">在vSphere 6.7 Update 1中、VMware為Round Robin PSP引進新的延遲負載平衡機制。新選項會在選取I/O最佳路徑時、考量I/O頻寬和路徑延遲在具有非等效路徑連線的環境中使用IT、例如某個路徑上的網路躍點比另一個路徑多、或是使用NetApp All SAN Array系統時、您可能會受益匪淺。請參閱<block ref="f5ecc69f2970e2e9c8638ad278ec38f7" category="inline-link-rx"></block> 以取得更多資訊。</block>
  <block id="f5852a230bef6cf666f848c5a2137db2" category="doc">統一化儲存設備ONTAP</block>
  <block id="0dc14c0a294efec0c8cab98ebffa39f0" category="section-title">關於統一化儲存設備</block>
  <block id="d00516b816f266ee64e7b1de5af59ff2" category="paragraph">執行ONTAP 此軟體的系統以多種重要方式統一化。這種方法原本是指在單一儲存系統上同時支援NAS和SAN傳輸協定、ONTAP 而除了在NAS中的原始優勢、它仍是SAN的領導平台。儲存虛擬機器（SVM）是一種邏輯架構、可讓用戶端存取執行ONTAP 此軟體的系統。SVM可透過邏輯介面（LIF）、透過多種資料存取傳輸協定同時提供資料。SVM透過NAS傳輸協定（例如CIFS和NFS）提供檔案層級的資料存取、並透過SAN傳輸協定（例如iSCSI、FC/FCoE和NVMe）提供區塊層級的資料存取。SVM可同時為SAN和NAS用戶端獨立提供資料。</block>
  <block id="92515b597b8c0784d6000b89ee47c5fd" category="inline-image-macro">統一化儲存設備</block>
  <block id="d6154a0901f9ca6bb5d8fb15c113581e" category="paragraph"><block ref="d6154a0901f9ca6bb5d8fb15c113581e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c3d59082aeee25c59b01266eaef6cb14" category="paragraph">在vSphere環境中、這種方法也可能代表虛擬桌面基礎架構（VDI）的統一化系統、以及虛擬伺服器基礎架構（VSI）。執行ONTAP VMware軟體的系統通常比傳統企業陣列便宜、但在同一個系統中擁有進階的儲存效率功能來處理VDI。此外、從SSD到SATA、還能統一化各種儲存媒體、並將這些媒體輕鬆延伸到雲端。ONTAP不需要購買單一Flash Array來提升效能、SATA陣列用於歸檔、以及獨立的雲端系統。將它們緊密連結在一起。ONTAP</block>
  <block id="e9e0f5f2c513c7138ea70b4c929d6fef" category="inline-link">儲存虛擬化</block>
  <block id="54c9439ad8fb4842a5a86c34d2401e36" category="admonition">如需有關SVM、統一化儲存設備和用戶端存取的詳細資訊、請參閱<block ref="2843f934dec816d79f9c394ad0533c28" category="inline-link-rx"></block> 在VMware的VMware®文件中心。ONTAP</block>
  <block id="c2ffe02d76c4f089648f1647b43e4ee5" category="doc">最佳實務做法</block>
  <block id="ff53ee8001042abcefe5c912d0b5012f" category="section-title">vSphere資料存放區與傳輸協定功能</block>
  <block id="14eae6ee278098bfad4f8a10fd6c1195" category="list-text">FCoE</block>
  <block id="26bcb9f1cb6f391f4b2c18e676bb458d" category="list-text">NVMe / FC</block>
  <block id="0f2f72ef3f176b98134caf100a06cf5f" category="inline-link">VMware組態上限</block>
  <block id="9da73946f1bc3be4a41898d06c9d2e8b" category="cell">功能/特色</block>
  <block id="c982f804d02e2d7e937f125d2cac1024" category="cell">FC/FCoE</block>
  <block id="520d0db389f362bf79ef56ca0af3dcab" category="cell">格式</block>
  <block id="99a3142584ca8ad0a3afadeaa6f2ef69" category="cell">VMFS或原始裝置對應（RDM）</block>
  <block id="26aae26f61844ac20ab7b04ba6f5c515" category="cell">VMFS或RDM</block>
  <block id="8dc6d0c66219ddb809322c0d248e55e6" category="cell">資料存放區或LUN的最大數量</block>
  <block id="2774ddb6f193789c5d9a480b9e53a38d" category="cell">256個掛載預設NFS。最大磁碟區為8。使用VMware vSphere的VMware vSphere功能將其提升至256個。ONTAP</block>
  <block id="51c0dc217976e27de06e262947947a62" category="cell">最大資料存放區大小</block>
  <block id="856c997f909830b8249756c07dc9452b" category="cell">64TB</block>
  <block id="8e5d3a4b085389c59a1a7af7c4067a9b" category="cell">100TB FlexVol 以上的穩定區塊（含FlexGroup 不穩定區）</block>
  <block id="d10549beb2f7bd1e91e5ef8965edd84a" category="cell">62TB</block>
  <block id="9aa56a79640231adaec83bc53e59c929" category="cell">每個LUN或檔案系統的最佳佇列深度</block>
  <block id="edc5121cb9b42a76b718b8ece9d67437" category="paragraph">下表列出支援的VMware儲存相關功能。</block>
  <block id="130b78bfd6c9b050a912fec77e285e3f" category="cell">容量/功能</block>
  <block id="6c1a84b789b54fd42511ce582be94d21" category="cell">vMotion</block>
  <block id="e95b58d02782c970bb339c6cc587ff39" category="cell">Storage VMotion</block>
  <block id="0486e0e3dc3e86859f43b6d8e32b8071" category="cell">VMware HA</block>
  <block id="8be6bd7f20474cbefdd496cb9fd495ca" category="cell">儲存分散式資源排程器（SDR）</block>
  <block id="4244919a64848265426dfd82a14f8248" category="cell">啟用資料保護（VADP）的VMware vStorage API備份軟體</block>
  <block id="28c2f8ab9cdbf296aa4261bc3c58ba0d" category="cell">VM內的Microsoft叢集服務（Microsoft Cluster Service、英文）或容錯移轉叢集</block>
  <block id="01a9a3b8d0fcae3055dc91935e8ec6c6" category="cell">是*</block>
  <block id="aa7f77e663b832d5b0e544c5511e680c" category="cell">不支援</block>
  <block id="aa18abedec09bd4f85e612c307e2eaa6" category="cell">容錯能力</block>
  <block id="bfd52522de4ac6efd6f680e0e754eeb5" category="cell">Site Recovery Manager</block>
  <block id="17d495427086fa21259b9df40b27e00a" category="cell">精簡配置的VM（虛擬磁碟）</block>
  <block id="4ee7af004efef335d6a14c60ee758f5e" category="cell">是、不使用VAAI時、NFS上的所有VM都預設使用此設定。</block>
  <block id="13bc264ff420559de4156ec40980a4b9" category="cell">VMware原生多重路徑</block>
  <block id="8339c514e73f5cced3b83d504d60441b" category="inline-link">Windows Server容錯移轉叢集的設定</block>
  <block id="a06819d91a165d0491c5816c54b41234" category="paragraph">下表列出支援ONTAP 的功能不完整的儲存管理功能。</block>
  <block id="f8d61013f1a3bbf1342f4ced3279c7cf" category="cell">重複資料刪除技術</block>
  <block id="72167540968147afed9deb59f0e9fe00" category="cell">節省陣列成本</block>
  <block id="9a5473a6abaea16b736f096913a749be" category="cell">資料存放區的節約效益</block>
  <block id="6cd880eabbec3488232c6cba3fbcf998" category="cell">資源隨需配置</block>
  <block id="5caeb11c4ed379b808d7f7cdca7cfbf0" category="cell">資料存放區或RDM</block>
  <block id="8a5227cc82d14862956938caffc1acf2" category="cell">資料存放區</block>
  <block id="b71ba22dcd42deceac87150206f7bd12" category="cell">調整資料存放區大小</block>
  <block id="c6b792bfd7aac8067d36337e67d11545" category="cell">僅成長</block>
  <block id="29e23534878bb63341e0b689426b7fb0" category="cell">擴充、自動擴充及縮減</block>
  <block id="76021405cc62a4b8c542e7f65e3d24ed" category="cell">適用於Windows、Linux應用程式（客體內）的列舉外掛程式SnapCenter</block>
  <block id="c0b3c629432c82a9e8500242abb35eaf" category="cell">使用ONTAP VMware vSphere的VMware VMware vSphere的支援工具來監控及主機組態</block>
  <block id="5a915a8215e9a66bcff0f034e8adff18" category="cell">使用ONTAP VMware vSphere的VMware vSphere的VMware工具進行資源配置</block>
  <block id="6495c7cda42bf1b80bc1c2af6166ef58" category="paragraph">下表列出支援的備份功能。</block>
  <block id="1208a2df45bea7d2edea13f0b0cbc686" category="cell">Snapshot複本ONTAP</block>
  <block id="bf22a1b5bc2b72a75825094826a942de" category="cell">SRM支援複寫備份</block>
  <block id="60d3f7d9f265eb34e826da352cb545be" category="cell">Volume SnapMirror</block>
  <block id="fabf31a57c142c986c5d88cb089b3d7b" category="cell">VMDK映像存取</block>
  <block id="40b655e79545b3922b8095be28d59428" category="cell">啟用VADP的備份軟體</block>
  <block id="8215e73d220182794dfbd75ad494c727" category="cell">啟用VADP的備份軟體、vSphere Client和vSphere Web Client資料存放區瀏覽器</block>
  <block id="d7605580ecad0fcb4528789d74cdcad5" category="cell">VMDK檔案層級存取</block>
  <block id="906ece32da286d6c4b323bc0d6443b7c" category="cell">啟用VADP的備份軟體、僅限Windows</block>
  <block id="d17e2fa63a62622f88bf170612132383" category="cell">啟用VADP的備份軟體和協力廠商應用程式</block>
  <block id="4e3d259d82a536e12c5c9c948b62e26a" category="cell">NDMP精細度</block>
  <block id="90d45e02e50c81603c36a4e4ad3649d9" category="cell">資料存放區或VM</block>
  <block id="54b3e11ce37eaaa9884f4086e72dd2be" category="section-title">選擇儲存傳輸協定</block>
  <block id="4bbd62e7748dbf2416c644698342b5f9" category="paragraph">執行ONTAP 支援所有主要儲存傳輸協定的系統、因此客戶可以根據現有和規劃的網路基礎架構和員工技能、選擇最適合自己環境的系統。NetApp測試通常顯示以類似線路速度執行的傳輸協定之間沒有什麼差異、因此最好將重點放在網路基礎架構和員工能力上、而不只是原始傳輸協定效能。</block>
  <block id="0212b4e8bc965dcd8a7ff771dd96bf21" category="paragraph">下列因素可能有助於考量選擇傳輸協定：</block>
  <block id="c0ab9c6170165211885267a562d057a2" category="list-text">*目前的客戶環境。*雖然IT團隊通常擅長管理乙太網路IP基礎架構、但並非所有人都擅長管理FC SAN架構。不過、使用非專為儲存流量設計的通用IP網路可能無法正常運作。請考量您所擁有的網路基礎架構、任何計畫性的改善、以及員工管理這些基礎架構的技能和可用度。</block>
  <block id="774f1348caf3e145710073eb634c4fa1" category="list-text">*易於設定。*除了FC架構的初始組態設定（額外的交換器和纜線、分區、以及HBA和韌體的互通性驗證）之外、區塊傳輸協定也需要建立及對應LUN、以及由客體作業系統探索及格式化。NFS磁碟區建立及匯出之後、便會由ESXi主機掛載並準備好使用。NFS沒有特殊的硬體限制或韌體可管理。</block>
  <block id="bf5169ce5bb544313eaf17435f756da2" category="list-text">*易於管理。*有了SAN傳輸協定、如果需要更多空間、就必須採取幾個步驟、包括擴充LUN、重新掃描以探索新的大小、然後擴充檔案系統）。雖然可以擴充LUN、但減少LUN的大小並不可行、而且恢復未使用的空間可能需要額外的心力。NFS可輕鬆調整規模或縮減規模、儲存系統也能自動調整大小。SAN透過客體作業系統修剪/取消對應命令提供空間回收、讓刪除檔案的空間可以傳回陣列。NFS資料存放區的這類空間回收較為困難。</block>
  <block id="530c759326761c6ac026b313985b255f" category="list-text">*儲存空間的透明度。*在NFS環境中、儲存使用率通常比較容易查看、因為精簡配置可立即回收節約效益。同樣地、相同資料存放區中的其他VM或其他儲存系統磁碟區也可立即使用重複資料刪除和複製的節約效益。NFS資料存放區的VM密度通常也較高、可減少資料存放區的管理數量、進而改善重複資料刪除的節約效益、並降低管理成本。</block>
  <block id="16ee928b12bc598bf52b0f312879ec95" category="section-title">資料存放區配置</block>
  <block id="066ed1c180617b2f9028c1f789078de4" category="paragraph">可靈活建立VM和虛擬磁碟的資料存放區。ONTAP雖然ONTAP 使用VSC來配置vSphere的資料存放區時會套用許多功能不實的最佳實務做法（請參閱一節 <block ref="311a0f5ed21de3c81d57d9c08f2ace49" category="inline-link-macro-rx"></block>）、以下是一些額外的考量準則：</block>
  <block id="dc4d78be836807b32c7ef7f42028b1ef" category="list-text">適用於不只FlexVol 4TB、更能滿足8TB的需求。這種規模對於效能、管理簡易性和資料保護來說、是一個很好的平衡點。從小規模開始（例如4TB）、視需要擴充資料存放區（最高100TB）。較小的資料存放區可更快從備份或災難後恢復、並可在叢集之間快速移動。請考慮使用ONTAP 不同步自動調整大小、以便在使用空間變更時自動擴充及縮小磁碟區。VMware vSphere資料存放區資源配置精靈的「VMware vSphere資料存放區資源配置精靈」預設會針對新的資料存放區使用自動調整大小。ONTAP您可以使用System Manager或命令列、進一步自訂「成長」和「縮減」臨界值、以及最大和最小大小。</block>
  <block id="c74cab014e402128efd8102b941c0b0c" category="list-text">老舊的客體作業系統（OS）需要與儲存系統一致、才能獲得最佳效能和儲存效率。然而、Microsoft和Linux經銷商（例如Red Hat）所支援的現代化作業系統不再需要調整、以使檔案系統分割區與虛擬環境中基礎儲存系統的區塊保持一致。如果您使用的是可能需要調整的舊作業系統、請在NetApp支援知識庫中搜尋文章、使用「VM對齊」、或向NetApp銷售或合作夥伴聯絡人索取TR-3747的複本。</block>
  <block id="3c8b400142a84af9ebe6262bce512ccb" category="list-text">避免在客體作業系統中使用重組公用程式、因為這不會帶來效能效益、也不會影響儲存效率和Snapshot複本空間使用量。也請考慮在客體作業系統中關閉虛擬桌面的搜尋索引。</block>
  <block id="14abb814748566a24367c4459a54840b" category="list-text">以創新的儲存效率功能引領業界、讓您充分發揮可用磁碟空間的效益。ONTAP利用預設的即時重複資料刪除與壓縮技術、支援更高的效率。AFF資料會在集合體中的所有磁碟區中進行重複資料刪除、因此您不再需要將類似的作業系統和類似的應用程式群組在單一資料存放區中、以達到最大的節約效益。</block>
  <block id="154cd001dd3ef8eabdf209f4faf2ddde" category="inline-link">TR-3633：Data ONTAP Oracle資料庫on</block>
  <block id="8f2f733fd8f32e7aaa1ee62e48a55117" category="list-text">在某些情況下、您甚至不需要資料存放區。為獲得最佳效能與管理能力、請避免將資料存放區用於高I/O應用程式、例如資料庫和某些應用程式。相反地、請考慮使用來賓擁有的檔案系統、例如NFS或iSCSI檔案系統、由來賓或RDM管理。如需特定的應用程式指南、請參閱適用於您應用程式的NetApp技術報告。例如、<block ref="8cb1dd6561aaa08584e14e742f429a3e" category="inline-link-rx"></block> 提供虛擬化的相關章節、並提供實用的詳細資料。</block>
  <block id="6cda576d2fd323c1a728b7ac67d6034f" category="list-text">一流磁碟（或改良的虛擬磁碟）可讓vCenter管理的磁碟獨立於vSphere 6.5及更新版本的VM。雖然主要是由API管理、但在vVols上也很實用、尤其是由OpenStack或Kubernetes工具管理時。支援的項目包括ONTAP VMware ONTAP vSphere的VMware vSphere的支援功能和VMware vSphere的支援功能。</block>
  <block id="71318121439b39fdf872bb0bd57494f2" category="section-title">資料存放區與VM移轉</block>
  <block id="e8824ce2062c6d1fc536163f7b8940bd" category="paragraph">將VM從另一個儲存系統上的現有資料存放區移轉至ONTAP 支援區時、請謹記以下幾項實務做法：</block>
  <block id="73b729fbc964c7d78dd90b64aaaeb785" category="list-text">使用Storage VMotion將大部分虛擬機器移至ONTAP VMware。這種方法不僅不中斷虛ONTAP 擬機器的執行、還能讓諸如即時重複資料刪除和壓縮等儲存效率功能、在資料移轉時處理資料。請考慮使用vCenter功能從清單清單清單中選取多個VM、然後在適當的時間排程移轉（按一下「Actions」（動作）時使用Ctrl鍵）。</block>
  <block id="008116a0d875d0de070d1a10314abbaa" category="list-text">雖然您可以仔細規劃移轉至適當的目的地資料存放區、但通常較容易大量移轉、然後視需要組織。如果您有特定的資料保護需求、例如不同的Snapshot排程、您可能會想要使用此方法來引導移轉至不同的資料存放區。</block>
  <block id="616b2180a0659911fed5aa758dba722c" category="list-text">大多數VM及其儲存設備可能會在執行（Hot）時移轉、但從其他儲存系統移轉附加（非資料存放區）儲存設備（例如ISO、LUN或NFS磁碟區）可能需要冷移轉。</block>
  <block id="fbb88da5639930a05f510729e473a216" category="inline-link">TR-4534</block>
  <block id="282806c282d96fdf15b71278587f2bfe" category="list-text">需要更謹慎移轉的虛擬機器包括使用附加儲存設備的資料庫和應用程式。一般而言、請考慮使用應用程式的工具來管理移轉作業。對於Oracle、請考慮使用Oracle工具（例如RMAN或ASM）來移轉資料庫檔案。請參閱<block ref="6b3f565e7a7ce633fa62f4114c295216" category="inline-link-rx"></block> 以取得更多資訊。同樣地、對於SQL Server、請考慮使用SQL Server Management Studio或NetApp工具、例如SnapManager 適用於SQL Server或SnapCenter VMware。</block>
  <block id="ed9018b2e8611a3d2c03bb6a205b9715" category="section-title">VMware vSphere適用的工具ONTAP</block>
  <block id="00f47a68ebd81ba943b17dbc30d78db6" category="paragraph">搭配執行ONTAP VMware vCenter軟體的系統使用vSphere時、最重要的最佳實務做法是安裝及使用ONTAP VMware vSphere外掛程式（前身為虛擬儲存主控台）的VMware VMware vSphere資訊工具。無論使用SAN或NAS、此vCenter外掛程式都能簡化儲存管理、提升可用度、並降低儲存成本和營運成本。它採用最佳實務做法來配置資料存放區、並針對多重路徑和HBA逾時最佳化ESXi主機設定（如附錄B所述）。因為它是vCenter外掛程式、所以可用於連線至vCenter伺服器的所有vSphere Web用戶端。</block>
  <block id="21eddd0bd26d119e0602b3ceb65aff45" category="paragraph">外掛程式也能協助您在ONTAP vSphere環境中使用其他的功能。它可讓您安裝適用於VMware VAAI的NFS外掛程式、以便將複本卸載至ONTAP VMware、以便進行VM複製作業、保留空間以供複本虛擬磁碟檔案使用、ONTAP 以及執行「Snapshot複本卸載」。</block>
  <block id="80303385ad0f7147caa1af6d2162852b" category="paragraph">外掛程式也是VASA Provider許多功能的管理介面、ONTAP 可支援vVols的儲存原則型管理。在登錄VMware vSphere的VMware vSphere基礎架構工具之後ONTAP 、請使用它來建立儲存功能設定檔、將其對應至儲存設備、並確保資料存放區在一段時間內符合設定檔的要求。VASA Provider也提供一個介面、可用來建立及管理VVol資料存放區。</block>
  <block id="9baea886f208a41896164d4ade5b3fde" category="paragraph">一般而言、NetApp建議在ONTAP vCenter內使用VMware vSphere的VMware vCenter功能的VMware vCenter功能、來配置傳統和vVols資料存放區、以確保遵循最佳實務做法。</block>
  <block id="6161d374e9022f89382fd63b4be15aa1" category="section-title">一般網路</block>
  <block id="f0cd6847f2a7a0773ad0b58d0f9dc67d" category="paragraph">使用vSphere搭配執行ONTAP VMware軟體的系統時、設定網路設定很簡單、而且類似於其他網路組態。以下是幾點需要考量的事項：</block>
  <block id="9600865cce7d923667012211ddac46de" category="list-text">將儲存網路流量與其他網路區隔。使用專屬的VLAN或獨立的交換器來儲存、即可建立獨立的網路。如果儲存網路共用實體路徑（例如上行鏈路）、您可能需要QoS或額外的上行鏈路連接埠、以確保有足夠的頻寬。請勿將主機直接連接至儲存設備；請使用交換器建立備援路徑、讓VMware HA在不需介入的情況下運作。</block>
  <block id="7c4904daaa282388097ad83bf382e1a5" category="list-text">如果您的網路需要並支援巨型框架、尤其是使用iSCSI時、可以使用巨型框架。如果使用、請確定在儲存設備和ESXi主機之間的路徑中、所有網路裝置、VLAN等上的設定都相同。否則、您可能會看到效能或連線問題。MTU也必須在ESXi虛擬交換器、VMkernel連接埠、以及每ONTAP 個節點的實體連接埠或介面群組上設定相同。</block>
  <block id="8b6e7f43d1d697e8f99164f0aa2ab1b6" category="inline-link">TR-4182</block>
  <block id="3745abd352adaa2cdec42c798060eef6" category="list-text">NetApp僅建議停用ONTAP 叢集內叢集網路連接埠上的網路流量控制。對於用於資料流量的其餘網路連接埠、NetApp並未提出其他最佳實務做法建議。您應視需要啟用或停用。請參閱<block ref="bdfb81665a0ef86d871a52c0e6ebc591" category="inline-link-rx"></block> 以取得流程控制的更多背景資訊。</block>
  <block id="730a8287f758961d602b1b050bbe2751" category="list-text">當ESXi和ONTAP VMware ESXi儲存陣列連接至乙太網路儲存網路時、NetApp建議將這些系統連接的乙太網路連接埠設定為快速擴充樹狀傳輸協定（RSTP）邊緣連接埠、或使用Cisco PortFast功能。NetApp建議在使用Cisco PortFast功能的環境中、啟用跨距樹狀結構PortFast主幹功能、並在ESXi伺服器或ONTAP VMware®儲存陣列上啟用802.1Q VLAN主幹連線。</block>
  <block id="ac4976538e1fc8726f77afc202561afc" category="list-text">NetApp建議下列連結集合最佳實務做法：</block>
  <block id="2432030fc6183a1a6c52cf5e93f3e9ae" category="paragraph">下表提供網路組態項目的摘要、並指出套用設定的位置。</block>
  <block id="7d74f3b92b19da5e606d737d339a9679" category="cell">項目</block>
  <block id="1aa66ef3a8e34a7a538960a80d2e1e31" category="cell">ESXi</block>
  <block id="bbc155fb2b111bf61c4f5ff892915e6b" category="cell">交換器</block>
  <block id="6c3a6944a808a7c0bbb6788dbec54a9f" category="cell">節點</block>
  <block id="0b7e67b6cdcf0432b624d53588d520fb" category="cell">SVM</block>
  <block id="75ba8d70e3692ba200f0e0df37b4d2ae" category="cell">IP 位址</block>
  <block id="ee6c0f25c2881cc69947a2ef23be5b8c" category="cell">VMkernel</block>
  <block id="e11f298a5bd5344d2d975b5157c27b69" category="cell">否*</block>
  <block id="d6f0876f76c273b8962b749c36153157" category="cell">連結集合體</block>
  <block id="fabd320b3b2249377e53e93099e27657" category="cell">虛擬交換器</block>
  <block id="b1b40427c8eb8d0a083ddb16e250325b" category="cell">否*</block>
  <block id="9881f82f0dd89588831f9d1682bd5492" category="cell">VLAN</block>
  <block id="5fc0d231160fa9650ea5c877f146bbe6" category="cell">VMkernel和VM連接埠群組</block>
  <block id="39a3e05f380e583ae2887c79c7443f11" category="cell">流程控制</block>
  <block id="220071ab44b426f80ef21f1c552c363c" category="cell">NIC</block>
  <block id="6f2c08412f489e52a17a30217f50b3c1" category="cell">跨距樹狀結構</block>
  <block id="4b1c0df98ba3f3d1681c3c3dbdc97746" category="cell">MTU（用於巨型框架）</block>
  <block id="7d6feaf896df4a937157d4ee5b91f4e1" category="cell">虛擬交換器與VMkernel連接埠（9000）</block>
  <block id="0110e50bd8629573701e73a4ba8b056f" category="cell">是（設為上限）</block>
  <block id="061ff5255adf00e4ae68469f43a7bf55" category="cell">有（9000）</block>
  <block id="bcc0e5a3e08cd34e80692195d056b06d" category="cell">容錯移轉群組</block>
  <block id="a4d1a66a448e327c12d3e287098a31d5" category="cell">是（建立）</block>
  <block id="465d5674eb6808b997037470f4dace73" category="cell">是（選取）</block>
  <block id="50ecdab93bf5a2f1bfb4cd8f81b9bd3d" category="paragraph">這些裝置擁有自己的IP位址進行管理、但這些位址並未用於ESXi儲存網路環境。</block>
  <block id="efd0bde36323238fec688b9cdf0c75a3" category="section-title">SAN（FC、FCoE、NVMe/FC、iSCSI）、RDM</block>
  <block id="29cdd488736a6111699f7348320bbed7" category="paragraph">在vSphere中、有三種使用區塊儲存LUN的方法：</block>
  <block id="8982d243303f9d1a8c2470b7d55278e6" category="list-text">使用VMFS資料存放區</block>
  <block id="9a0098c8c1be287e8d1da1aaf3bd2e59" category="list-text">使用原始裝置對應（RDM）</block>
  <block id="93e209176746ac6f25c618631a02643b" category="list-text">由軟體啟動器從VM客體作業系統存取及控制的LUN</block>
  <block id="c25dc676ca39a05ee6067ac9a50dbce0" category="paragraph">VMFS是高效能的叢集式檔案系統、可提供共用儲存資源池的資料存放區。VMFS資料存放區可設定LUN、使用NVMe / FC傳輸協定存取的FC、iSCSI、FCoE或NVMe命名空間來存取。VMFS可讓叢集中的每個ESX伺服器同時存取傳統LUN。支援的最大LUN大小通常為16TB；因此、使用四個16TB LUN（所有SAN陣列系統支援的最大VMFS LUN大小為64TB）、即可建立最大大小為64TB的VMFS 5資料存放區（請參閱本節的第一個表格）ONTAP 。由於VMware不具備小型的個別佇列深度、所以在VMware中、VMFS資料存放區的擴充程度比傳統陣列架構的擴充程度更高、而且相對簡單。ONTAP ONTAP</block>
  <block id="43f67f108e50dab0978a343603cbfec9" category="paragraph">vSphere內建多個儲存裝置路徑的支援功能、稱為原生多重路徑（NMP）。NMP可偵測支援儲存系統的儲存類型、並自動設定NMP堆疊以支援使用中儲存系統的功能。</block>
  <block id="6bf646772584de04f877d166e564b5ff" category="paragraph">NMP和NetApp ONTAP 的支援非對稱邏輯單元存取（ALUA）、可協調最佳化和非最佳化的路徑。在本功能中、ALUA最佳化路徑會使用主控所存取LUN的節點上的目標連接埠、遵循直接資料路徑。ONTAP預設會在vSphere和ONTAP VMware中同時開啟ALUA。NMP將ONTAP 該叢集辨識為ALUA、並使用ALUA儲存陣列類型外掛程式（'VMW_SATP_ALUA'）、然後選取循環配置資源路徑選擇外掛程式（'VMW_PSP_RR'）。</block>
  <block id="b284ee628d89c3e804c4def2a90f0520" category="paragraph">ESXi 6最多可支援256個LUN、並可支援多達1、024條通往LUN的總路徑。ESXi不會看到任何超出這些限制的LUN或路徑。假設LUN數量上限、則路徑限制允許每個LUN有四個路徑。在更大ONTAP 的實體叢集中、可以在LUN限制之前達到路徑限制。為了解決此限制、ONTAP 支援8.3版及更新版本中的選擇性LUN對應（SLM),</block>
  <block id="8466b1e5abb4751e931c5feb1af4e469" category="inline-link">TR-4080</block>
  <block id="4157f0c23fc104508f492dc846f187f3" category="list-text">根據預設、會啟用SLM.除非您使用連接埠集、否則不需要額外的組態。</block>
  <block id="597f1433ad810b3b86c7ae0f8f95afa8" category="list-text">對於Data ONTAP 在更新版本不含更新版本8.3之前建立的LUN、請執行「LUN對應移除報告節點」命令、手動套用SLM、以移除LUN報告節點、並將LUN存取限制在LUN所屬節點及其HA合作夥伴。</block>
  <block id="43919b4d4d6d446ed498e26bff62db84" category="paragraph">區塊傳輸協定（iSCSI、FC和FCoE）使用LUN ID和序號以及唯一名稱來存取LUN。FC和FCoE使用全球名稱（WWNN和WWPN）、iSCSI則使用iSCSI合格名稱（IQN）。儲存設備內部的LUN路徑對區塊傳輸協定毫無意義、而且不會出現在傳輸協定的任何位置。因此、只包含LUN的磁碟區根本不需要內部掛載、而包含資料存放區所用LUN的磁碟區則不需要使用交會路徑。NVMe子系統ONTAP 的運作方式類似。</block>
  <block id="ed0e76ed86e852bd7317a09d856ec4e8" category="paragraph">其他應考慮的最佳實務做法：</block>
  <block id="93586ad57931e0f16fff61cdba9d77df" category="list-text">請確定ONTAP 已為叢集中每個節點上的每個SVM建立邏輯介面（LIF）、以達到最大可用度和行動性。最佳實務做法是每個節點使用兩個實體連接埠和LIF、每個光纖使用一個連接埠。ONTAPALUA可用來剖析路徑、識別作用中最佳化（直接）路徑、以及作用中未最佳化路徑。ALUA用於FC、FCoE和iSCSI。</block>
  <block id="b3cebb7381bddbabb1e950a46d264190" category="list-text">對於iSCSI網路、當存在多個虛擬交換器時、請在不同的網路子網路上使用多個VMkernel網路介面搭配NIC群組。您也可以使用多個實體NIC來連接至多個實體交換器、以提供HA並提高處理量。下圖提供多重路徑連線的範例。在靜態中ONTAP 、設定單一模式介面群組以容錯移轉兩個或多個連結連接至兩個或多個交換器、或使用LACP或其他連結集合技術搭配多重模式介面群組、以提供HA及連結集合的優點。</block>
  <block id="2968b9f3c141bf23bc73d0e6e15a174a" category="list-text">如果在ESXi中使用挑戰握手驗證傳輸協定（CHAP）進行目標驗證、則必須ONTAP 使用CLI（「vserver iSCSI安全性建立」）或System Manager（在「Storage」（儲存）&gt;「SVM」（SVM）&gt;「SVM設定」（SVM設定）&gt;「Protocol」（傳輸協定）&gt;「iSCSI」（iSCSI）下編輯啟動器安全性）。</block>
  <block id="d31f2e075df4ca75ca0874fa08f74b12" category="list-text">使用VMware vSphere的VMware vCenter工具來建立及管理LUN和群組。ONTAP外掛程式會自動決定伺服器的WWPN、並建立適當的igroup。它也會根據最佳實務做法來設定LUN、並將其對應至正確的igroup。</block>
  <block id="de78559e8aed2cd62fbf852f73dc58c2" category="inline-link">實體與虛擬相容模式</block>
  <block id="905221150fdd103b5241870a0a1f2c42" category="list-text">請謹慎使用RDM、因為它們可能較難管理、而且也會使用路徑、但這一點如前所述有所限制。支援這兩種LUN ONTAP<block ref="27e1f8e5a88cfbb2836b083145b004c9" category="inline-link-rx"></block> RDM。</block>
  <block id="636da39a2033c6179a718983c5ce1222" category="inline-link">NVMe / FC主機組態指南ONTAP</block>
  <block id="81ef6507a13da5635951bc5b533deb59" category="inline-link">TR-4684</block>
  <block id="15483b0826bb9a4b11d1c89af2029c5c" category="list-text">如需更多關於將NVMe/FC搭配vSphere 7.0使用的資訊、請參閱此<block ref="6b4ed262d14e47ef641cd57b65c32c38" category="inline-link-rx"></block> 和<block ref="7a29b2f31035a451d5b068728d2b79a7" category="inline-link-rx"></block>下圖說明從vSphere主機到ONTAP VMware LUN的多重路徑連線能力。</block>
  <block id="f9fd9ea22ea7a2e8ec9e95254a449831" category="paragraph"><block ref="f9fd9ea22ea7a2e8ec9e95254a449831" category="inline-image-macro-rx" type="image"></block></block>
  <block id="54452390cac5f65f3bcec580ba079531" category="section-title">FlexGroup</block>
  <block id="f203949f2e35204098b66b9c1519b66e" category="paragraph">支援vSphere中的VMware vSphere資料存放區、以及VMware vSphere 9.8版的VMware vCenter工具。ONTAP FlexGroup ONTAP此功能可簡化大型資料存放區的建立作業、並自動建立多個組成磁碟區、以發揮整個系統的最大效能。FlexGroup ONTAP利用vSphere的功能將VMware支援功能用於單一、可擴充的vSphere資料存放區、並具備完整的VMware叢集功能。FlexGroup ONTAP</block>
  <block id="6829bc8d3038be0130fd2b409ad5e560" category="paragraph">除了針對vSphere工作負載進行廣泛的系統測試之外、ONTAP 還為FlexGroup VMware資料存放區新增了複本卸載機制。這會使用改良的複製引擎、在背景中的成員之間複製檔案、同時允許存取來源和目的地。根據規模、當需要時、多個複本會使用可立即使用且節省空間的檔案複本。</block>
  <block id="760383437e8e5cbe4a2560753da783fb" category="paragraph">此外、針對VMware vSphere儀表板和VM報告、還新增檔案型效能指標（IOPS、處理量和延遲）、這些指標可在VMware vSphere儀表板和VM報告的「參考」工具中檢視。ONTAP FlexGroup ONTAPVMware vSphere外掛程式的支援功能也可讓您使用最大和/或最小IOPS的組合來設定服務品質（QoS）規則。ONTAP這些設定可以跨資料存放區中的所有VM進行設定、也可以針對特定VM個別設定。</block>
  <block id="50783a97403d748762dff691da2d3723" category="paragraph">以下是NetApp開發的其他一些最佳實務做法：</block>
  <block id="d190c5fcdf8146c1dd7aad1140be4e64" category="list-text">使用FlexGroup 預設的資源配置。建議使用VMware vSphere的VMware vSphere功能、因為它能在vSphere中建立及掛載功能、但可能會使用VMware System Manager或命令列來滿足特殊需求。ONTAP FlexGroup ONTAP即使如此、仍會使用預設值、例如每個節點的組成成員數目、因為這是vSphere測試過的項目。</block>
  <block id="9f3fa65c2cc36eabd2228b984c30c5e1" category="list-text">調整FlexGroup VMware資料存放區規模時、請記住FlexGroup 、此功能包含FlexVol 多個較小的、可建立較大命名空間的支援區。因此、請將資料存放區的大小調整為最大虛擬機器的8倍以上。例如、如果您的環境中有6TB的VM、FlexGroup 請將該資料存放區的大小調整至不小於48TB。</block>
  <block id="5fbee6b763967c822bb1e4a31665b11d" category="list-text">允許FlexGroup 執行功能以管理資料存放區空間。vSphere資料存放區已測試過自動調整規模與彈性調整。如果資料存放區接近完整容量、請使用ONTAP VMware vSphere的VMware vCenter功能或其他工具來調整FlexGroup VMware Volume的大小。如果容量允許、則可將資料夾（VM）內的檔案優先順序設定為相同的組成要素、藉此平衡各成員的容量和inode。FlexGroup</block>
  <block id="f5f11bb6aa98d02453eca36d5d1d2e19" category="list-text">vSphere資料存放區支援已在9.8版中測試高達1500部VM。FlexGroup</block>
  <block id="f48591b3ae898f29a551a2995a7dcfe8" category="list-text">使用適用於VMware VAAI的NFS外掛程式進行複本卸載。請注意FlexGroup 、ONTAP 雖然在VMware資料存放區內強化複製功能、但在FlexVol 將VM複製到VMware和/或FlexGroup VMware磁碟區之間時、與ESXi主機複本相比、VMware不提供顯著的效能優勢。</block>
  <block id="57a0d1deb8da99d321814990d26d21ed" category="list-text">使用VMware vSphere 9.8的支援功能、使用VMware vSphere 9.8的支援指標（儀表板和VM報告）來監控各個VM的效能、以及管理個別VM上的QoS。ONTAP FlexGroup ONTAP目前無法透過ONTAP REST指令或API取得這些指標。</block>
  <block id="ad971da24ec0a38449ebf31e4e2c9332" category="list-text">QoS（最大/最小IOPS）可在個別VM或資料存放區中的所有VM上設定。在所有VM上設定QoS會取代任何個別VM設定。設定未來不會延伸至新的或移轉的VM；您可以在新的VM上設定QoS、或是將QoS重新套用至資料存放區中的所有VM。</block>
  <block id="3c9d41390700cbdfb2c273f00df0d6fd" category="list-text">VMware vSphere 4.4版的支援VMware vSphere的子外掛程式、可在主儲存系統的VMware資料存放區中備份及還原VM。SnapCenter FlexGroup雖然SnapMirror可手動用於將FlexGroup 某個不間斷資料複製到二線系統、但4號選擇控制閥並不會管理二線複本。</block>
  <block id="b1c770f25b823d4453567c0ff9d7cf67" category="summary">本頁提供在ONTAP VMware vSphere環境中部署NetApp支援NFS版本3資料存放區的步驟。</block>
  <block id="168dbfe414d4d4089585360152953a57" category="doc">vSphere NFS資料存放區-版本3含ONTAP</block>
  <block id="2be27a78c84ba5629cd9f2c22983240a" category="paragraph">建立NFS版本3資料存放區、並搭配ONTAP 使用不實的NAS儲存設備。</block>
  <block id="106a118b8a267220cb2c40a4bb68b684" category="list-text">管理vSphere環境與ONTAP 功能的基本技能。</block>
  <block id="00c46d0ea9cdf9a5a37b8af04896741f" category="list-text">執行《支援資料》的不支援資料系統（FAS/AFF/CVO/ONTAP Select/Cloud Volume Service/Azure NetApp Files）ONTAP ONTAP</block>
  <block id="d5ba6255ccf331629f7b1b4598223d33" category="list-text">資訊（SVM名稱、使用者ID、密碼）ONTAP</block>
  <block id="190ba592a6988abfd7566be9b5c8217a" category="list-text">NFS的網路連接埠、SVM和LUN資訊ONTAP</block>
  <block id="d5cb637f6500cfa77d4190ebdfd8cce0" category="inline-link-macro">完整的NFS組態工作表</block>
  <block id="915142cb27ebec8265b54739a95840b5" category="list-text"><block ref="915142cb27ebec8265b54739a95840b5" category="inline-link-macro-rx"></block></block>
  <block id="a9ab6317871b5547fc7bf0dd22151f00" category="list-text">vSphere 7.0或更新版本的vSphere主機資訊</block>
  <block id="d7850596008b347e3797ad7dcb7252e5" category="list-text">NFS VMKernel介面卡IP資訊</block>
  <block id="0675fa9a38b420775f29ec7a62d9a8a0" category="list-text">搭配ONTAP 使用NetApp系統網路資料連接埠和連線的vSphere主機</block>
  <block id="a7fb6a7233e9c40554334921be362af1" category="list-text">為NFS設定的VLAN</block>
  <block id="4b18348d39655902cd0e183596a82856" category="list-text">檢查與的相容性<block ref="3028580b30f2b1d483aad9f9a7a65c7a" category="inline-link-rx"></block></block>
  <block id="bc295a5edde99316e021476fd74118c6" category="inline-link-macro">驗證是否支援NFS組態。</block>
  <block id="564210524eadeca61542a5680bf0afca" category="list-text"><block ref="564210524eadeca61542a5680bf0afca" category="inline-link-macro-rx"></block></block>
  <block id="c54d1c547e26987b98af73634278c77a" category="inline-link-macro">驗ONTAP 證NFS的不實授權。</block>
  <block id="8174503ab9e5dc2fe2f74068f651770d" category="list-text"><block ref="8174503ab9e5dc2fe2f74068f651770d" category="inline-link-macro-rx"></block></block>
  <block id="5d3f3e14f3096740cb085fa81836d595" category="list-text">使用「系統授權show」命令、檢查是否列出NFS。</block>
  <block id="8b3434ec0db76b4d537ae9c645aa913c" category="list-text">使用「license add -license code-Code &lt; license code&gt;」來新增授權。</block>
  <block id="135850bb72d05ca77b8b8f846429fe71" category="inline-link-macro">遵循NFS組態工作流程。</block>
  <block id="01a85c06aae02abe9083e7e02d90661f" category="list-text"><block ref="01a85c06aae02abe9083e7e02d90661f" category="inline-link-macro-rx"></block></block>
  <block id="2281b9d958567868b171298a8df5cdee" category="inline-link-macro">遵循vSphere的NFS用戶端組態工作流程。</block>
  <block id="c80c5160cfe2127b3ab167103b20488c" category="paragraph"><block ref="c80c5160cfe2127b3ab167103b20488c" category="inline-link-macro-rx"></block></block>
  <block id="63d5049791d9d79d86e9a108b0a999ca" category="section-title">參考資料</block>
  <block id="883a5adf98ba177c28c5bc7d95e28763" category="paragraph">完成這些工作之後、NFS資料存放區就可以開始耗用資源來配置虛擬機器。</block>
  <block id="1e6584aafa5ae98aebb88d3ddecdaae5" category="doc">vSphere管理員適用的功能介紹ONTAP</block>
  <block id="74587fa4ad90f8713c0446529a3670e0" category="section-title">為何ONTAP 選擇適用於vSphere的呢？</block>
  <block id="135b7f440129fbbacbc948adfb10ccec" category="paragraph">NetApp ONTAP 功能可簡化儲存與資料管理作業、無論是在內部部署或雲端部署、都能為VMware環境帶來顯著的輔助。NetApp同級最佳的資料保護、儲存效率創新技術、以及以SAN和NAS為基礎的VMware架構所提供的卓越效能、是數萬家客戶選擇ONTAP 使用VMware作為vSphere部署儲存解決方案的原因之一。</block>
  <block id="f93e431aaf745d4b5e4ecbd6c005b564" category="paragraph">NetApp提供多種VMware產品的VMware外掛程式、驗證及資格、以支援面臨管理虛擬化環境的獨特挑戰的客戶。NetApp的儲存與資料管理功能與VMware的虛擬化功能相同、可讓客戶專注於核心能力、而非管理實體儲存設備。VMware與NetApp之間的這種將近20年的合作關係持續演進、隨著VMware Cloud Foundation與Tanzu等新技術的興起、客戶的價值也隨之提高、同時持續支援vSphere的基礎。</block>
  <block id="b4e56252f38c98dde71bd489a93805fc" category="paragraph">客戶重視的關鍵因素包括：</block>
  <block id="d6f750861d7ae27706ca32ed1f4c1ac8" category="list-text">*統一化儲存設備*</block>
  <block id="04d737333774adefb9817d0115bab79b" category="list-text">*儲存效率*</block>
  <block id="c44a0be5f0db0511994f2f8e76afeb25" category="list-text">*虛擬磁碟區與儲存原則型管理*</block>
  <block id="d78a5fe569360bb327d51dd5060d723c" category="list-text">*混合雲*</block>
  <block id="45649dc755190fc40be0b7e38ec84851" category="paragraph">如需有關支援的NetApp與VMware解決方案的詳細資訊、請參閱下列資源：</block>
  <block id="ec1bd76731eb238fa601fb03391f78d4" category="inline-link">NetApp互通性對照表工具</block>
  <block id="d46e58d91be6ffba761ab9bd05a46fc5" category="list-text"><block ref="b47ad5992ee82e05d51ff22d87ae20c3" category="inline-link-rx"></block> （僅限部分）IMT 。此功能定義了可用來建置FC/FCoE、iSCSI、NFS和CIFS組態的合格元件和版本。IMT</block>
  <block id="8034c6a17370dafb5b3f6f5add755c62" category="inline-link">《VMware相容性指南》</block>
  <block id="f0c67c4d38f07e6eb4bead0202260ddb" category="list-text"><block ref="a9846c61dcf62d503a7738adf47f11be" category="inline-link-rx"></block>。VMware相容性指南列出系統、I/O、儲存/SAN及備份與VMware Infrastructure和軟體產品的相容性</block>
  <block id="0f0b69f9725d17d0a8d3ceebcf33f72f" category="inline-link">適用於ONTAP VMware的NetApp產品開發工具</block>
  <block id="2be6bbf4ea543b07ab3b9a218eb509cc" category="list-text"><block ref="d1284fbca35bc1b47ead37f18b1c3ba2" category="inline-link-rx"></block>。VMware vSphere的VMware vSphere工具是單一vCenter Server外掛程式、其中包含VSC、VASA Provider及儲存複寫介面卡（SRA）擴充功能。ONTAP</block>
  <block id="6d5f52fb3cf097647a57da8b55e5b08f" category="doc">vSphere傳統區塊儲存資源配置ONTAP 功能、搭配VMware</block>
  <block id="7c2d57185437da757ecede58f5a842d4" category="paragraph">VMware vSphere支援下列VMFS資料存放區選項、ONTAP 並指出支援支援VMware vCenter傳輸協定。</block>
  <block id="c90881491d716de5c0ed7f9f4b09a3ad" category="cell">VMFS資料存放區選項</block>
  <block id="a9181ef164a32ec0949c2cf63315ca31" category="cell">支援SAN傳輸協定ONTAP</block>
  <block id="5903a917b575023b60264c602c220771" category="inline-link-macro">光纖通道（FC）</block>
  <block id="a4bce6d7794ee38a14e6a6d3785039f9" category="cell"><block ref="a4bce6d7794ee38a14e6a6d3785039f9" category="inline-link-macro-rx"></block></block>
  <block id="a6105c0a611b41b08f1209506350279e" category="cell">是的</block>
  <block id="8da5577a58a95e2ebe9c6dd4f19f6c11" category="inline-link-macro">乙太網路光纖通道（FCoE）</block>
  <block id="40b814244a055d57c1af5fd02e4a8747" category="cell"><block ref="40b814244a055d57c1af5fd02e4a8747" category="inline-link-macro-rx"></block></block>
  <block id="b26caac6068e09e5f849cfcb3e8c0c90" category="cell"><block ref="b26caac6068e09e5f849cfcb3e8c0c90" category="inline-link-macro-rx"></block></block>
  <block id="c38e870d503879d110dbddd5bf388ab2" category="cell">RDMA的iSCSI擴充（iSER）</block>
  <block id="7fa3b767c460b54a2be4d49030b349c7" category="cell">否</block>
  <block id="de5a656362f0d785d2cc7d3097a507ef" category="inline-link-macro">採用FC的NVMe over Fabric（NVMe / FC）</block>
  <block id="71a94ffc9bd97f314990ee2cd7a87154" category="cell"><block ref="71a94ffc9bd97f314990ee2cd7a87154" category="inline-link-macro-rx"></block></block>
  <block id="16d2954ba1640e32b21c312695337233" category="cell">NVMe over Fabric搭配RDMA over Converged Ethernet（NVMe / RoCE）</block>
  <block id="344567ba51767dd5805c908c602fb10e" category="admonition">如果需要iSER或NVMe/RoCE VMFS、請檢查SANtricity型儲存系統。</block>
  <block id="93ac3f76e97265952e309b2cbb980030" category="summary">本頁提供在ONTAP VMware vSphere環境中部署NetApp支援NFS版本4資料存放區的步驟。</block>
  <block id="11bbb95c80fd3935828f1472bade3ae4" category="doc">vSphere NFS資料存放區-含ONTAP 功能的4.1版</block>
  <block id="0a339846bb9d45c2252cf84f27f8390e" category="paragraph">本節說明如何建立NFS 4.1版資料存放區、並搭配ONTAP 使用不完整的NAS儲存設備。</block>
  <block id="d5ffdd3b223c5bb3d1d66e5756977564" category="list-text">管理vSphere環境與ONTAP VMware所需的基本技能</block>
  <block id="a65c730562f6a5feffebe8a600829c71" category="list-text">執行｛ONTAP_version｝的資料儲存系統（FAS/AFF/CVO/ONTAP Select/Cloud Volume Service/Azure NetApp Files）ONTAP</block>
  <block id="8e7f2b8f8c015d7ce248683387c1daf5" category="list-text">vSphere主機資訊｛vSphere_version｝</block>
  <block id="7d0a7cdd836d94b19d4ecbce81ba2c1e" category="list-text">具備ONTAP 豐富的系統網路資料連接埠、vSphere主機及連線功能</block>
  <block id="d4e890b3139e840bac898dc24d2330a3" category="list-text">VMware vSphere適用的VMware Tools已部署、設定且隨時可供使用ONTAP</block>
  <block id="f2f6f93a63f235f63bf8a14ad398ddd0" category="inline-link">互通性對照表工具IMT （簡稱「互通性對照表」）。</block>
  <block id="2c364f266e330209041f2cf854afab91" category="list-text">請使用檢查相容性<block ref="975c7893d48b02c6727b59b0582d74bc" category="inline-link-rx"></block></block>
  <block id="863feef43abaa752e441459bd37722c3" category="list-text">完成ONTAP 以下提供的「VMware及vSphere工作」。</block>
  <block id="1b2d2406823c016e35ebeddf0ec29c66" category="inline-link-macro">驗ONTAP 證適用於NFS的驗證功能</block>
  <block id="7209cd833425a764d216b4e565ac65c6" category="list-text"><block ref="7209cd833425a764d216b4e565ac65c6" category="inline-link-macro-rx"></block></block>
  <block id="55d2948d4abb6ad9ea1e2b6a5b73460b" category="list-text">使用「系統授權show」命令來檢查是否列出NFS。</block>
  <block id="0a5e80a3066e5036387d5026a58fe582" category="inline-link-macro">遵循NFS組態工作流程</block>
  <block id="4b9e38c0f910614d9be47f85cf0f07bc" category="list-text"><block ref="4b9e38c0f910614d9be47f85cf0f07bc" category="inline-link-macro-rx"></block></block>
  <block id="4344c7f5d714fb1797033b7d9cca43fd" category="inline-link-macro">遵循vSphere的NFS用戶端組態工作流程。</block>
  <block id="c9fb47d82da1089992044972b4b65103" category="paragraph"><block ref="c9fb47d82da1089992044972b4b65103" category="inline-link-macro-rx"></block></block>
  <block id="2093983846bbd6cd7e3d486531259f7d" category="summary">本頁說明ONTAP 適用於VMware vSphere的混合雲功能。</block>
  <block id="df94231e8c7a2b7372365ba3eb8ad621" category="doc">混合雲ONTAP 搭配VMware及vSphere</block>
  <block id="c689fcb3c54ae34ac006a005e03aad07" category="section-title">關於混合雲</block>
  <block id="cc81a55aaf5bd2bdf603a2aea92a875a" category="paragraph">無論是用於內部部署私有雲、公有雲基礎架構、或是結合兩者最佳功能的混合雲ONTAP 、本解決方案都能協助您打造資料架構、以簡化及最佳化資料管理。從高效能的All Flash系統開始、然後將它們與磁碟或雲端儲存系統結合、以提供資料保護和雲端運算。</block>
  <block id="9afb01441ce427bb3863eaccd46b9b5d" category="paragraph">您可以選擇Azure、AWS、IBM或Google雲端、以最佳化成本並避免受限。視需要運用OpenStack和Container技術的進階支援。</block>
  <block id="8a61dac106bf2a7f3b869c8ff58c4ce5" category="paragraph">資料保護通常是客戶開始雲端之旅時的第一件事。保護可以像非同步複寫金鑰資料一樣簡單、也可以像完整的熱備份站台一樣複雜。資料保護主要以NetApp SnapMirror技術為基礎。</block>
  <block id="d059ff0a497ad1427248dbb8f770b1d5" category="paragraph">有些客戶選擇將整個工作負載移至雲端。這可能比單純使用雲端來保護資料更為複雜、ONTAP 但由於您不需要重新寫入應用程式、就能使用雲端型儲存設備、所以無法簡化移動作業。在雲端上運作的過程如同內部部署的功能一樣。ONTAP ONTAP您的內部部署ONTAP 的支援功能可提供資料效率功能、讓您在較少的實體空間中儲存更多資料、並分層極少使用的資料、以降低儲存成本。無論您是使用混合雲組態、或是將整個工作負載移至雲端、ONTAP 都能使儲存效能與效率達到最大化。</block>
  <block id="ad622d292f56f20b32a61fe1b8bd2f56" category="paragraph">NetApp也提供雲端型備份（SnapMirror Cloud、Cloud Backup Service VMware及Cloud Sync VMware）、以及FabricPool 適用於VMware的儲存分層與歸檔工具（VMware®）ONTAP 、協助降低營運成本、並充分運用雲端的廣泛應用。</block>
  <block id="49c437176039e1c910728eac1f332689" category="paragraph">下圖提供混合雲使用案例範例。</block>
  <block id="e61ead4102c89a9758572df81301a1d2" category="inline-image-macro">混合雲</block>
  <block id="9188eeccf6b5386d9573cea87cf05102" category="paragraph"><block ref="9188eeccf6b5386d9573cea87cf05102" category="inline-image-macro-rx" type="image"></block></block>
  <block id="293f510d2162f186910d817d97121159" category="inline-link">及雲端ONTAP</block>
  <block id="3963100a9d31ca50911a23ac5c87aca1" category="admonition">如需ONTAP 更多有關不景和混合雲的資訊、請參閱<block ref="92883b1d8840f28e1ad4810811bf56b5" category="inline-link-rx"></block> 在VMware的《VMware®文件中心》（英文）ONTAP 中。</block>
  <block id="a7ba4bd9aa10b0456b8f13ef40a2d1d5" category="summary">本頁提供在ONTAP VMware vSphere環境中部署NetApp支援區FCoE VMFS資料存放區的步驟。</block>
  <block id="1937a4bfde18bb02682d378132d0b6a9" category="doc">vSphere VMFS資料存放區-採用ONTAP VMware解決方案的乙太網路光纖通道儲存傳輸協定</block>
  <block id="66439ac6171413528646918952bff23e" category="paragraph">本節說明如何使用乙太網路光纖通道（FCoE）傳輸傳輸傳輸傳輸傳輸傳輸傳輸傳輸協定、建立VMFS資料存放區。ONTAP</block>
  <block id="b087c7e1213b84e69de1a6e5214cd942" category="list-text">執行｛ONTAP_version｝的支援系統（FAS/AFF/CVO/ONTAP Select）ONTAP</block>
  <block id="d9da372e69584852a9808bfa9fcc99a9" category="inline-link-macro">支援的FCoE組合</block>
  <block id="b61947ecee08267d1f6930ccbd646d52" category="list-text"><block ref="b61947ecee08267d1f6930ccbd646d52" category="inline-link-macro-rx"></block></block>
  <block id="08b42ec45ef1147093b9161cc743b0a0" category="inline-link-macro">完整的組態工作表</block>
  <block id="bcf78e9148ebbc12ed4a54d2149cc2bc" category="list-text"><block ref="bcf78e9148ebbc12ed4a54d2149cc2bc" category="inline-link-macro-rx"></block></block>
  <block id="80ba2a0b5b5ae31742a18c682e724b6e" category="list-text">連接了VMware Data連接埠或vSphere主機ONTAP</block>
  <block id="d7b3fbe677a7bffd7e387a3578d6b481" category="inline-link-macro">已設定FC/FCoE分區</block>
  <block id="434da439fcd2a7729ac67cef537d6651" category="list-text"><block ref="434da439fcd2a7729ac67cef537d6651" category="inline-link-macro-rx"></block></block>
  <block id="5d914ccaef7b5404838cb47cff27fa11" category="list-text">FCoE支援</block>
  <block id="b74438cda33fca6618da9e30ef5fee5d" category="list-text">DCB支援</block>
  <block id="69b788fe29f78e1fb439efd1bec08ab6" category="inline-link-macro">FCoE的巨型框架</block>
  <block id="e92f4c11834e879e94fa441894d8e9c9" category="list-text"><block ref="e92f4c11834e879e94fa441894d8e9c9" category="inline-link-macro-rx"></block></block>
  <block id="42cdbee955a0e208306a321b74a948b1" category="section-title">配置VMFS資料存放區</block>
  <block id="f067d14dc86c5c0ec984803b3485a7a6" category="inline-link-macro">驗證是否支援FCoE組態</block>
  <block id="79d164739c1e0aaf7f56e13c2a4c66ac" category="list-text"><block ref="4201ef99768aac8f72883e5cb6ec656f" category="inline-link-macro-rx"></block>。</block>
  <block id="7fcd357d480b8eaa4a38cdbbddfd6c97" category="list-text"><block ref="7fcd357d480b8eaa4a38cdbbddfd6c97" category="inline-link-macro-rx"></block></block>
  <block id="f2a0a9000f5ff3910235e570c0ac5e44" category="list-text">使用「系統授權show」命令來驗證是否列出FCP。</block>
  <block id="e5b8ca3e9ff580bcc9315fabcb34312e" category="list-text">確認SVM上已啟用FCP傳輸協定。</block>
  <block id="015c565181667d59b83b7761e35682d1" category="inline-link-macro">使用FCP建立新的SVM。</block>
  <block id="de4606f963140e2d2d0a3df251ffd646" category="list-text"><block ref="de4606f963140e2d2d0a3df251ffd646" category="inline-link-macro-rx"></block></block>
  <block id="2d6fd01ea0767b50e214a74ff1fcfae0" category="list-text">驗證SVM上是否有FCP邏輯介面可用。</block>
  <block id="46f04290f169589dff914e050d1a987b" category="list-text">使用GUI建立SVM時、邏輯介面即為該程序的一部分。</block>
  <block id="ee7f4720a3fc60686c4a9f7429a60cbc" category="list-text">若要重新命名網路介面、請使用「網路介面修改」。</block>
  <block id="6e67c7d604ae439f60ceb51480fdbb1c" category="inline-link-macro">建立及對應LUN</block>
  <block id="e4eeb9421963195597743339d2f38ff6" category="list-text"><block ref="96e32c32f267ac1d65d603f36f017a41" category="inline-link-macro-rx"></block>；如果您使用ONTAP VMware vSphere的VMware VMware vSphere的VMware工具、請跳過此步驟。</block>
  <block id="f6c0391a150cfd40a68682285c56e835" category="inline-link-macro">儲存介面卡資訊</block>
  <block id="60f05805eb8189d665c19856d5388e3c" category="list-text">確認已安裝HBA驅動程式。VMware支援的HBA已隨裝即用部署驅動程式、應可在中看到 <block ref="c5f1cce809af8cfecf09908d33f4c097" category="inline-link-macro-rx"></block>。</block>
  <block id="3e23a542d0c1cb3dc87ca41f7ec8dc9c" category="doc">適用於VMware vSphere的NetApp SnapCenter 支援外掛程式- SQL Server還原工作流程</block>
  <block id="d16efdedacbd64c8b85d50f0b58e4c60" category="inline-link-macro">上一篇：其他資訊：SnapCenter VMware vSphere的VMware vCenter外掛程式：還原工作流程。</block>
  <block id="553f0bde4f032f393b8659c8440bae26" category="paragraph"><block ref="553f0bde4f032f393b8659c8440bae26" category="inline-link-macro-rx"></block></block>
  <block id="e7f47d4d003703cc37a3f472bf362522" category="doc">適用於VMware vSphere的NetApp SnapCenter 功能外掛程式-備份工作流程</block>
  <block id="b80c59ad5be93a14a5e884c9617272bd" category="inline-link-macro">上一篇：其他資訊SnapCenter - VMware vSphere的解決方案外掛程式-解決方案先決條件。</block>
  <block id="b8c179b73c48ccf857c179c753fc7866" category="paragraph"><block ref="b8c179b73c48ccf857c179c753fc7866" category="inline-link-macro-rx"></block></block>
  <block id="7889fbe4fe01425f9ecdef9442f812b8" category="inline-link-macro">下一步：其他資訊SnapCenter - VMware vSphere的VMware vCenter外掛程式-還原工作流程。</block>
  <block id="907647e9678147c153e1b1f855122048" category="paragraph"><block ref="907647e9678147c153e1b1f855122048" category="inline-link-macro-rx"></block></block>
  <block id="ce4df831657d2621e80bbef9271c33cd" category="summary">隨著舊有虛擬應用裝置的移轉、ONTAP VMware的功能豐富、限制更高、並提供全新vVols支援。</block>
  <block id="45b1565c472fff4046d0f7ddbe1342f2" category="doc">SRM和ONTAP VMware Tools的新功能</block>
  <block id="116d20fc387d73c8e4a86e7998913947" category="section-title">vSphere和Site Recovery Manager的最新版本</block>
  <block id="aa73b07f008975ca9fcabf87bfafb167" category="paragraph">隨著SRM 8.3及更新版本、以及9.7.1及更新版本ONTAP 的版次、您現在可以保護在VMware vSphere 7上執行的VM。</block>
  <block id="96ca6fcc2ffdab3c06d0875be8d4fe29" category="paragraph">NetApp已與VMware建立了近二十年的深厚合作關係、並致力於盡快提供最新版本的支援。請務必查看NetApp互通性對照表工具IMT （NetApp Interoperability Matrix Tool、簡稱「參考資訊」）、以取得最新的合格軟體組合。</block>
  <block id="63fe9875fcf8108a4dca29a0795d8674" category="paragraph">您IMT 可以找到NetApp解決方案<block ref="dd81e3609a71c92c2a90d9165ca7bb00" category="inline-link-rx"></block>。</block>
  <block id="23a6222620917211381cf4455d9e0a83" category="section-title">VVols支援（以及SPBM為何重要、即使是SRM也沒問題）</block>
  <block id="a36269071ceeb480e636654c4620f7fb" category="paragraph">從8.3版開始、SRM現在支援利用vVols和陣列型複寫的儲存原則型管理（SPBM）。為達成此目標、SRM伺服器已更新為包含新的SRM vVols提供者服務、該服務會與vCenter伺服器的SMS服務通訊、以執行VASA相關工作。</block>
  <block id="4567f5576b4577c63b126cac3f6aa5fa" category="paragraph">此架構的一項優點是不再需要SRA、因為所有的工作都是使用VASA來處理。</block>
  <block id="e04031e1cecdb6732f91d44b204dbcf3" category="paragraph">SPBM是vSphere工具箱中功能強大的工具、可在私有雲和混合雲環境中、透過自動化架構、提供簡化、可預測且一致的儲存服務供使用。從根本上說、SPBM可讓您定義符合多元客戶群需求的服務類別。SRM現在可讓您針對需要健全的業界標準災難恢復協調與自動化的關鍵工作負載、向客戶展示複寫功能。</block>
  <block id="6f1ad7cac2af0e3b92a3936efc393a0e" category="paragraph"><block ref="6f1ad7cac2af0e3b92a3936efc393a0e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="48e2854d95fac45929940abc72062193" category="section-title">vVols架構2.3支援以應用裝置為基礎的SRM伺服器</block>
  <block id="925c477f139cce0692e13946a7f75eac" category="paragraph">除了舊版的Windows平台之外、現在還支援以pherton OS為基礎的SRM伺服器。</block>
  <block id="62c2c4203aebe081ddbc6cdd489f8ad7" category="paragraph">您現在可以安裝SRA介面卡、無論您偏好的SRM伺服器類型為何。</block>
  <block id="7cb1700928c008eb817bc79250cc9002" category="section-title">支援IPv6</block>
  <block id="ea9aacd1495949730de8eeab11e66459" category="paragraph">現在支援IPv6、但有下列限制：</block>
  <block id="d6d7f3d43de975c07655ebba1936867a" category="list-text">vCenter 6.7或更新版本</block>
  <block id="eb26ee1a20fe3dbde98204ec8b3ab838" category="list-text">不支援SRM 8.2（8.1、8.3和8）。支援4個）</block>
  <block id="918d32b75f0ab883abba3a8dc0c3ae8d" category="inline-link">互通性對照表工具</block>
  <block id="02e7e71042609d3158020ab7befe45c6" category="list-text">請檢查<block ref="218f4ad7153f69cdc5467065434cd2f0" category="inline-link-rx"></block> 以取得最新的合格版本。</block>
  <block id="e887aed8f9c3dbecd37e8896d96b6637" category="section-title">提升效能</block>
  <block id="3efd4ca8de094abf49f004186cd70fff" category="paragraph">營運效能是執行SRM工作的關鍵需求。為了滿足現代RTO和RPO的需求、採用ONTAP VMware技術的SRA新增了兩項改良功能。</block>
  <block id="bd403c539a0c414afacd7477bf3d311f" category="list-text">*支援並行重新保護作業。*第一次於SRA 9.2.1中推出、啟用此功能可讓您同時在兩個以上的恢復計畫上執行重新保護、進而縮短容錯移轉或移轉後重新保護資料存放區所需的時間、並保留在RTO和RPO參數範圍內。</block>
  <block id="f63b947f655a5aee2cf69d4f30d7f96b" category="list-text">*《支援工具》9.8新增了一種僅限NAS的最佳化模式。*當您使用SVM範圍的帳戶、並僅使用NFS型資料存放區連線至VMware叢集時、您可以啟用僅限NAS的最佳化模式、在支援的環境中達到尖峰效能。ONTAP ONTAP</block>
  <block id="4a4842d7448ef71eb69b013e560b18bb" category="section-title">擴充性更高</block>
  <block id="26738e8d40ae8035805f13bdbf185c30" category="paragraph">搭配SRM 8.3及更新版本使用時、可支援多達500個保護群組（PG）的支援工具SRA。ONTAP</block>
  <block id="b56265ceb6311e42003e668438136a59" category="section-title">同步複寫</block>
  <block id="96cb4d41ca97bd9d3d446984d3170a57" category="paragraph">SnapMirror Synchronous（SM-S）搭配ONTAP 了一套功能、可提供大量精細零RPO資料複寫解決方案、適合任務關鍵型應用程式、這項功能值得期待且期待已久。SM - S需要ONTAP 使用VMware工具9.8或更新版本。</block>
  <block id="b9832b10a87d0c3793ed3b413ee1d839" category="section-title">REST API支援</block>
  <block id="0065ce57adc813187a8e9c640ba6223a" category="paragraph">SRA伺服器組態現在可由REST API管理。我們新增了Swagger UI來協助您建置自動化工作流程、您可在ONTAP 以下網址找到您的VMware Tools應用裝置：https://&lt;appliance&gt;:8143/api/rest/swagger-ui.html#/`。</block>
  <block id="93b698fac9d8f378474fb0765494c4e6" category="doc">vSphere的功能ONTAP</block>
  <block id="9985b4390c40137573e6da05caf85874" category="section-title">通訊協定</block>
  <block id="98f770b0af18ca763421bac22b4b6805" category="section-title">功能</block>
  <block id="99dd82c3472eab7ec4ea64a848fe032d" category="paragraph">有許多ONTAP 可用於管理虛擬化工作負載的功能。下一節將說明需要額外產品授權的部分產品。其他套裝為獨立式工具的工具、有些是ONTAP 針對整個NetApp產品組合的、有些則是針對其進行介紹。</block>
  <block id="671534601eb09388581f095632f815b2" category="paragraph">以下是ONTAP 關於基礎功能的進一步詳細資料：</block>
  <block id="dbef3659822e80f91a3a561ed6d0b0cd" category="list-text">*儲存效率* ONTAP 。*支援即時與背景重複資料刪除與壓縮、零區塊重複資料刪除、以及資料壓縮。</block>
  <block id="287c4830bc87771bdf2b3ae9880ab67e" category="list-text">* Volume與LUN搬移。*可在不中斷營運的情況下移動支援ONTAP vSphere資料存放區與vVols的磁碟區與LUN、以平衡效能與容量、或支援不中斷營運的維護與升級。</block>
  <block id="ba96d4d48c1ff15e2732b37e2e7a435c" category="list-text">* QoS * QoS可讓您管理個別LUN、磁碟區或檔案的效能。此功能可用於限制不明或虛擬機器、或是確保重要的虛擬機器獲得足夠的效能資源。</block>
  <block id="28f638810590337576cbbe9979329c21" category="list-text">*此功能可在區塊層級自動將較低的資料分層至個別的物件存放區、以釋出昂貴的Flash儲存空間。FabricPool</block>
  <block id="ff8a0108cd7cd5019bfee6b6be672b17" category="inline-link">REST API ONTAP</block>
  <block id="9455a10ec937dafee664ae1e0e4fd98c" category="inline-link">Ansible模組</block>
  <block id="85402a535d923d0511a02d404893d1ba" category="section-title">提供授權ONTAP</block>
  <block id="4a9fdcb14826a67d38a7b84170c54ea9" category="paragraph">某些ONTAP 對管理虛擬化工作負載非常重要的功能需要額外的授權、無論是免費提供、授權套裝組合或零點供應。對許多客戶而言、最具成本效益的方法是搭配授權組合。以下是與vSphere相關的主要授權、以及其使用方式：</block>
  <block id="c598be4d4f9f8c476e7f51d6ef5ff139" category="list-text">* FlexClone。* FlexClone可即時、節省空間的複製ONTAP 功能、以利執行各種版本的支援。當VMware vSphere Storage API–Array Integration（VAAI）卸載至儲存系統的作業、用於備份驗證與恢復SnapCenter （VMware vSphere Storage API）、以及VVols複製與Snapshot複本時、就會使用此複製。以下是使用方式：</block>
  <block id="25d6e9f6ac28ecf0d97aaf9f6609f4d4" category="list-text">由於支援vSphere Clone與移轉（Storage vMotion）作業、因此支援將VAAI ONTAP 卸載複本。FlexClone授權可在NetApp FlexVol 供應區內進行快速複製、但如果未獲得授權、仍可使用較慢的區塊複本來進行複製。</block>
  <block id="6f9f0acae1b8d33078f1c061dcc662a3" category="list-text">vVols功能需要FlexClone授權。它可在單一資料存放區內或在資料存放區之間複製vVols、並可啟用vVols的vSphere託管Snapshot複本（卸載至儲存系統）。</block>
  <block id="4370ed35c8063100f2a5b8da39b82668" category="list-text">儲存複寫介面卡（SRA）與VMware Site Recovery Manager搭配使用、且需要FlexClone授權、才能在NAS和SAN環境中測試還原作業。SRA可在不使用FlexClone的情況下用於探索、還原及重新保護工作流程。</block>
  <block id="3117cf0d132cfe6180ee3db3d5250f7f" category="list-text">*《*》*《*》*《*》*《*》*《*》*》*《*》*》*《*》*》*《* SnapRestore SnapRestoreNetApp備份與還原工具（例如SnapCenter 、用來掛載資料存放區的VMware還原工具）必須具備此功能、才能進行驗證與還原作業。</block>
  <block id="a30ea87a20e5dd5b267ec41f29219a1d" category="list-text">* SnapMirror * SnapMirror技術可在ONTAP 內部部署和雲端的各個支援系統之間、輕鬆快速地複寫資料。SnapMirror可透過區塊複寫的效能、支援邏輯複寫的版本靈活度、只會將變更的資料傳送到次要系統。資料可透過鏡射和/或保存原則加以保護、以便進行災難恢復、並可長期保留資料以供備份。SnapMirror支援非同步和同步關係、ONTAP 而功能不只支援SnapMirror營運不中斷、還能讓應用程式容錯移轉更透明。</block>
  <block id="23862d7fc14d71369b9feaeb8d7f98b9" category="paragraph">使用Site Recovery Manager進行SRA複寫時需要SnapMirror。此外、還需要SnapCenter 執行功能才能將Snapshot複本複寫到次要儲存系統。</block>
  <block id="0fdef6775eeade832499deceb497e1d8" category="list-text">*《*》*《*》*《*》*《*》*《*》*》*《*》*》*《*》*《*》*》*《*》*》*《*》*》*《*》* SnapCenter SnapCenter適用於各種系統的資料保護授權套裝組合隨附一份不含功能性授權。SnapCenter AFF FAS如果您使用下列儲存系統、則VMware vSphere的VMware vSphere外掛程式為免費產品：VMware、VMware、VMware、SnapCenter FAS AFF Cloud Volumes ONTAP ONTAP Select不過SnapRestore 、需要使用功能不只是功能而已。</block>
  <block id="a20c69bb9262b2ab09ca5248996e7d63" category="list-text">*《NetApp》是一套同步複寫解決方案、結合校園或都會區的高可用度與災難恢復功能、可同時防範站台災難和硬體中斷。MetroCluster MetroCluster它提供透明的故障恢復功能、零資料遺失（0 RPO）和快速恢復（幾分鐘內達到RTO）。它可在vSphere環境中作為vSphere Metro儲存叢集組態的一部分使用。</block>
  <block id="ee8cc65cae83009c275cd4748f4c58ae" category="section-title">適用於VMware的虛擬化工具ONTAP</block>
  <block id="7b0abbba24b3ff594f013e524b352ef1" category="paragraph">NetApp提供數種獨立式軟體工具、可搭配ONTAP 使用以管理您的虛擬化環境。下列工具隨ONTAP 附於VMware授權中、不需額外付費。請參閱圖1、瞭解這些工具如何在vSphere環境中共同運作。</block>
  <block id="dd55e255500b9ec15305dc69dfa0e15b" category="section-title">適用於VMware VAAI的NFS外掛程式</block>
  <block id="a1c13ec555198266776a3a7b904810dd" category="paragraph">下圖說明ONTAP vSphere的各項功能。</block>
  <block id="f7e876d450acee7c9ed7b18438440fb2" category="paragraph"><block ref="f7e876d450acee7c9ed7b18438440fb2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="334af7a3f788d83aa889d1ca7bd769f5" category="summary">本頁說明ONTAP 功能不完整的儲存效率。</block>
  <block id="c13f924c3ceac59a16a8a1ea96d43c91" category="doc">儲存效率ONTAP</block>
  <block id="241a4f0482dfad2f5fc79419b18356c0" category="section-title">關於儲存效率</block>
  <block id="185081022bfbcfda8db4798eb4eed8c0" category="paragraph">雖然NetApp是第一家針對正式作業工作負載提供重複資料刪除技術的公司、但這項創新技術並非此領域的第一或最後一項。首先是ONTAP 使用不影響效能的空間效率資料保護機制、以及FlexClone技術來即時製作VM的讀寫複本、以供正式作業和備份使用。NetApp繼續提供內嵌功能、包括重複資料刪除、壓縮及零區塊重複資料刪除、讓昂貴的SSD發揮最大的儲存容量。最近ONTAP 、我們在強化儲存效率的過程中、加入了不實的功能。</block>
  <block id="d019495551b4899a9019567122f1e076" category="list-text">*內嵌零區塊重複資料刪除技術。*消除了全零區塊浪費的空間。</block>
  <block id="7634d08ecc5702f74271a3313502ec02" category="list-text">*內嵌壓縮。*壓縮資料區塊、以減少所需的實體儲存容量。</block>
  <block id="8b7bb53489bfc2a6808c1d76314fa0d4" category="list-text">*內嵌重複資料刪除技術。*利用磁碟上現有的區塊來消除傳入的區塊。</block>
  <block id="b762ae2f528b0eca55e7be3f599e909d" category="list-text">*即時資料壓縮。*將較小的I/O作業和檔案整合至每個實體區塊。</block>
  <block id="fba6442665875d123719f22baafc619d" category="inline-image-macro">儲存效率</block>
  <block id="f468c00b41afc3485647008dcf80cba1" category="paragraph"><block ref="f468c00b41afc3485647008dcf80cba1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8405ea940cfeab85adddf9d3ed915a97" category="paragraph">您可以一起執行重複資料刪除、資料壓縮及資料壓縮、或是獨立執行、以在FlexVol 一個影像區上實現最佳的空間節約效益。這些功能的結合、讓客戶看到VSI的節約效益高達5：1、VDI的節約效益高達30：1。</block>
  <block id="b8c11cd315128247329c3d878c2143fe" category="inline-link">使用重複資料刪除技術、資料壓縮及資料壓縮技術來提升儲存效率</block>
  <block id="65bbb718266195d68e8d1accfc443e28" category="admonition">如需ONTAP 更多關於效能提升的資訊、請參閱<block ref="f358a7faf94e9f579d11f8fc4efdbdec" category="inline-link-rx"></block> 在VMware的VMware®文件中心。ONTAP</block>
  <block id="d3b0a496a8cf35e38aa2e2195dec2f94" category="doc">適用於VMware vSphere的NetApp SnapCenter 功能外掛程式-還原工作流程</block>
  <block id="eee0a010c96cd5f8a48024b64979138a" category="inline-link-macro">上一篇：其他資訊- SnapCenter VMware vSphere的VMware vCenter外掛程式-備份工作流程。</block>
  <block id="db5a03b9e1de0d20dc54468940b207eb" category="paragraph"><block ref="db5a03b9e1de0d20dc54468940b207eb" category="inline-link-macro-rx"></block></block>
  <block id="5f01983db70d04ee21145e7d21902fb2" category="inline-link-macro">下一步：其他資訊SnapCenter - VMware vSphere的VMware vCenter外掛程式- SQL還原工作流程。</block>
  <block id="724a2f2542f99df4a44d9ad7cfb15363" category="paragraph"><block ref="724a2f2542f99df4a44d9ad7cfb15363" category="inline-link-macro-rx"></block></block>
  <block id="160f88ca0bed5b24e94c809f4e22f1e7" category="summary">在流程9中ONTAP 、叢集管理員可以看到叢集的實體元件、但使用叢集的應用程式和主機無法直接看到這些元件。</block>
  <block id="89fafdb11a7e8cd8abebb1d4df053dad" category="doc">複寫拓撲</block>
  <block id="be01acd2f018d38f9446f06b99ee4a2a" category="paragraph">在流程9中ONTAP 、叢集管理員可以看到叢集的實體元件、但使用叢集的應用程式和主機無法直接看到這些元件。實體元件提供一個共享資源集區、用於建構邏輯叢集資源。應用程式和主機只能透過含有磁碟區和LIF的SVM存取資料。</block>
  <block id="7758fc02779ee5917b0a09ee22b52221" category="paragraph">在VMware vCenter Site Recovery Manager中、每個NetApp SVM都被視為陣列。SRM支援特定的陣列對陣列（或SVM對SVM）複寫配置。</block>
  <block id="58c0b55a67f4331cc49b073a7183e06c" category="paragraph">單一VM無法在多個SRM陣列上擁有資料（虛擬機器磁碟（VMDK）或RDM）、原因如下：</block>
  <block id="880aeda0b58c0b30120b6319ae5f3beb" category="list-text">SRM只能看到SVM、而非個別的實體控制器。</block>
  <block id="6f55124e085dbeb640e4cb8ad2c97905" category="list-text">SVM可控制橫跨叢集中多個節點的LUN和磁碟區。</block>
  <block id="39d9903201320a83d45d3b36d512f051" category="cell">最佳實務做法</block>
  <block id="d86019fe4ba86b184ac71cf24a22f0c6" category="cell">若要判斷可支援性、請謹記此規則：若要使用SRM和NetApp SRA來保護VM、VM的所有部分都必須只存在於一個SVM上。此規則同時適用於受保護的站台和恢復站台。</block>
  <block id="2e4472d35f80aa8b7eca52ae3dd43dc6" category="section-title">支援的SnapMirror配置</block>
  <block id="d070ad9d8397892aa7f317cbb9046661" category="paragraph">下圖顯示了SRM和SRA支援的SnapMirror關係配置案例。複寫磁碟區中的每個VM在每個站台只擁有一個SRM陣列（SVM）上的資料。</block>
  <block id="39d3085abe6ccb914d8535de8a5f3e37" category="paragraph"><block ref="39d3085abe6ccb914d8535de8a5f3e37" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1ae7670cf947a397bdf6a882fbcc912a" category="paragraph"><block ref="1ae7670cf947a397bdf6a882fbcc912a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="111d3212464dba203cbd675a0338dcbc" category="paragraph"><block ref="111d3212464dba203cbd675a0338dcbc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c5dc3a606b05b41db22793ed3c1a72db" category="paragraph"><block ref="c5dc3a606b05b41db22793ed3c1a72db" category="inline-image-macro-rx" type="image"></block></block>
  <block id="86cf5bd2bdb1b1d67f8f907f41099509" category="section-title">支援的Array Manager配置</block>
  <block id="aacc8f18d659f75715d91a983e872233" category="paragraph">當您在SRM中使用陣列型複寫（ABR）時、保護群組會隔離為單一陣列配對、如下面的快照所示。在這種情況下、恢復站台的「VM1」和「VM2」會與「VM3」和「VM4」進行同步。不過、您只能在建立保護群組時、從兩個陣列配對中選取一個。</block>
  <block id="68a1b289711a591ed50627014cd01ce9" category="paragraph"><block ref="68a1b289711a591ed50627014cd01ce9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1ceb46f3e1c6c7995de4ec5f05601227" category="section-title">不支援的配置</block>
  <block id="611b9b35ac984f20e6594baec9181dbf" category="paragraph">不受支援的組態在個別VM擁有的多個SVM上有資料（VMDK或RDM）。在下圖所示的範例中、「VM1」無法設定為使用SRM保護、因為「VM1」在兩個SVM上有資料。</block>
  <block id="5c251a65e8394fbeaf104ba1a1cad2e1" category="paragraph"><block ref="5c251a65e8394fbeaf104ba1a1cad2e1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f5f5fe64e0e9d0ae7ce2a0777d0ccf62" category="paragraph"><block ref="f5f5fe64e0e9d0ae7ce2a0777d0ccf62" category="inline-image-macro-rx" type="image"></block></block>
  <block id="69851ac8c2fa81b32799efc8522798d5" category="paragraph">任何將個別NetApp磁碟區從一個來源SVM複寫到同一個SVM或不同SVM中的多個目的地的複寫關係、都稱為SnapMirror連出。SRM不支援連出。下圖所示的範例中、無法將「VM1」設定為在SRM中保護、因為它會與SnapMirror一起複寫到兩個不同的位置。</block>
  <block id="688890bdbdfd2d73a05a09883f3c4b40" category="paragraph"><block ref="688890bdbdfd2d73a05a09883f3c4b40" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3f88384b0d5cdcdc25895c644126c1b0" category="section-title">SnapMirror串聯</block>
  <block id="7ebde774ad43c45667d5544308a6d688" category="paragraph">SRM不支援SnapMirror關係的串聯、在這種關係中、來源磁碟區會複寫到目的地磁碟區、而目的地磁碟區也會使用SnapMirror複寫到另一個目的地磁碟區。在下圖所示的案例中、SRM無法用於任何站台之間的容錯移轉。</block>
  <block id="2990fc44e9ba827a397e96e1c278a02a" category="paragraph"><block ref="2990fc44e9ba827a397e96e1c278a02a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8bd15e818d377a0a5cf6ebc429555f79" category="section-title">SnapMirror與SnapVault</block>
  <block id="d440734d1f5d9c6e59aa97f7cbbcd525" category="paragraph">NetApp SnapVault 解決方案軟體可在NetApp儲存系統之間、以磁碟形式備份企業資料。可在同一個環境中共存的VMware vCenter和SnapMirror、不過SRM僅支援SnapMirror關係的容錯移轉。SnapVault</block>
  <block id="7878dfbf4b6ad3bc60d095cf89d79202" category="admonition">NetApp SRA支援「鏡射-保存庫」原則類型。</block>
  <block id="883e69a285ae2d5fd23c80cd29285804" category="paragraph">為了執行效能提升8.2、從一開始就重建了這個系統。SnapVault ONTAP儘管以前Data ONTAP 的使用者應該會發現相似點、SnapVault 但本版的VMware已經做出重大的改善。其中一項重大進展是SnapVault 、能夠在傳輸過程中維持主要資料的儲存效率。</block>
  <block id="9bc21373e0e299579a7ac86dcd4f513d" category="paragraph">架構上的一項重要變更是SnapVault 、在ONTAP Volume層級進行的不只是qtree層級的不完整複寫、7-Mode SnapVault 的情況就是如此。這項設定表示SnapVault 、來源的不景點必須是一個Volume、而且該Volume必須複寫到SnapVault 自己的Volume上的不二系統。</block>
  <block id="f7b20cbc14027c7711d53d03a84f31af" category="paragraph">在SnapVault 使用實體的環境中、會在主要儲存系統上建立特別命名的Snapshot複本。視實作的組態而定、命名Snapshot複本可透過SnapVault 一個動作時間表或NetApp Active IQ Unified Manager 等應用程式在主要系統上建立。然後、在主要系統上建立的命名Snapshot複本會複寫到SnapMirror目的地、並從該複本保存到SnapVault 該目的地。</block>
  <block id="5dd37b7cd36f7d38ba2e6a63c603be4c" category="paragraph">您可以在串聯組態中建立來源Volume、將磁碟區複寫到DR站台的SnapMirror目的地、然後從該磁碟區保存到SnapVault 一個目的地。來源Volume也可建立在連出關係中、其中一個目的地是SnapMirror目的地、另一個目的地SnapVault 是一個目的地。不過、SRA不會在SnapVault 發生SRM容錯移轉或複寫反轉時、自動重新設定「還原」關係、以使用SnapMirror目的地Volume作為資料庫的來源。</block>
  <block id="5bc66b9c84b3f7cc0b375e729376b68d" category="inline-link">TR-4015《SnapMirror組態最佳實務指南ONTAP 》（英文）。</block>
  <block id="0d510e96259254d285c6aaeb8458f45d" category="paragraph">如需SnapMirror和SnapVault 適用於ONTAP SnapMirror的更新資訊、請參閱<block ref="32e7c991f675bf983c547a2a174c2caf" category="inline-link-rx"></block></block>
  <block id="75f8a2d99eea9f336120aec69d8c1010" category="cell">如果SnapVault 在同一個環境中使用了VMware vCenter和SRM、NetApp建議使用SnapMirror SnapVault 來進行還原串聯組態、SnapVault 以便從DR站台的SnapMirror目的地執行還原備份。發生災難時、此組態會使主要站台無法存取。將SnapVault 還原目的地保留在恢復站台、可在SnapVault 容錯移轉後重新設定還原功能、SnapVault 以便在恢復站台上操作時繼續執行還原備份。</block>
  <block id="e082a67e3ddd7f4f92096536440cbb34" category="paragraph">在VMware環境中、每個資料存放區都有通用唯一識別碼（UUID）、而且每個VM都有唯一的託管物件ID（MOID）。在容錯移轉或容錯回復期間、SRM不會維護這些ID。由於SRM在容錯移轉期間不會維護資料存放區UUID和VM MOID、因此在SRM容錯移轉之後、任何依賴這些ID的應用程式都必須重新設定。例如NetApp Active IQ Unified Manager 解決方案就是應用程式、它可協調SnapVault vSphere環境中的功能複寫。</block>
  <block id="657a41cce55646ab17754ac1427970af" category="paragraph">下圖說明SnapMirror至SnapVault SnapMirror串聯組態。如果該站台位於DR站台或第三站台、但不受主站台中斷影響、則可重新設定環境、以便在容錯移轉後繼續備份。SnapVault</block>
  <block id="b56afb9a43332c671116b9fa3d597867" category="paragraph"><block ref="b56afb9a43332c671116b9fa3d597867" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e068178460f103498576eac8ddb7fb82" category="paragraph">下圖說明使用SRM將SnapMirror複寫還原回主要站台之後的組態。環境也經過重新設定、SnapVault 使目前的SnapMirror來源產生了不支援的資料。此設定為SnapMirror SnapVault 的橫向風扇組態。</block>
  <block id="0ffa07ffd89b136d0ed8f2ac5ebcabb8" category="paragraph"><block ref="0ffa07ffd89b136d0ed8f2ac5ebcabb8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b4607a4ee7e1830ab6ba0007df206956" category="paragraph">在SRM執行容錯回復並第二次反轉SnapMirror關係之後、正式作業資料就會回到主要站台。此資料現在的保護方式與容錯移轉至DR站台之前相同、透過SnapMirror和SnapVault 還原備份。</block>
  <block id="63fd1f18d5d53fa97fd05a7fd96090b4" category="section-title">在Site Recovery Manager環境中使用qtree</block>
  <block id="2d88570ceb2de0d8699a068b0140454b" category="paragraph">qtree是允許應用NAS檔案系統配額的特殊目錄。利用SnapMirror複寫的磁碟區中、能夠建立qtree和qtree。ONTAP不過、SnapMirror不允許複寫個別qtree或qtree層級的複寫。所有SnapMirror複寫僅位於磁碟區層級。因此、NetApp不建議搭配SRM使用qtree。</block>
  <block id="345cb3f040f9f7f3f1a4261ed260aa79" category="section-title">混合式FC與iSCSI環境</block>
  <block id="a60b166c2b69b4fdfbb733dc2193668a" category="paragraph">藉由支援的SAN傳輸協定（FC、FCoE和iSCSI）ONTAP 、支援的LUN服務、也就是能夠建立LUN並將其對應至連接的主機。由於叢集由多個控制器組成、因此有多個邏輯路徑是由多重路徑I/O管理、可通往任何個別LUN。主機上使用非對稱邏輯單元存取（ALUA）、以便選取LUN的最佳化路徑、並使其成為資料傳輸的作用中路徑。如果任何LUN的最佳化路徑有所變更（例如、因為包含的磁碟區已移動）、ONTAP 則針對此變更、支援不中斷地自動辨識及調整。如果最佳化路徑無法使用、ONTAP 則不中斷營運地切換至任何其他可用路徑。</block>
  <block id="b9921ac732e72656bc2836f83bb09522" category="paragraph">VMware SRM和NetApp SRA支援在一個站台使用FC傳輸協定、在另一個站台使用iSCSI傳輸協定。不過、它不支援在同一個ESXi主機或同一個叢集中的不同主機上混合使用FC附加資料存放區和iSCSI附加資料存放區。SRM不支援此組態、因為在SRM容錯移轉或測試容錯移轉期間、SRM會在要求中包含ESXi主機中的所有FC和iSCSI啟動器。</block>
  <block id="fccd44a96243e459128798803dca70aa" category="cell">SRM和SRA支援受保護站台與恢復站台之間的混合FC和iSCSI傳輸協定。不過、每個站台只能設定一個FC或iSCSI傳輸協定、而非在同一個站台設定兩個傳輸協定。如果要求在同一個站台同時設定FC和iSCSI傳輸協定、NetApp建議某些主機使用iSCSI、而其他主機則使用FC。在此情況下、NetApp也建議設定SRM資源對應、以便將VM設定為容錯移轉至一組主機或另一組主機。</block>
  <block id="d336a329d910c32fb90337a372f596fc" category="summary">NetApp ONTAP 解決方案是VMware vSphere環境的領導級儲存解決方案、已有將近二十年的歷史、持續增加創新功能來簡化管理、同時降低成本。本文件介紹ONTAP vSphere的解決方案、包括最新的產品資訊和最佳實務做法、以簡化部署、降低風險及簡化管理。</block>
  <block id="952fd691754e388c7b7ba473cf410aff" category="doc">TR-4597：VMware vSphere ONTAP for VMware</block>
  <block id="b4191f5f6b40e39be6030dbbc9052330" category="paragraph">NetApp公司Karl Konnerth</block>
  <block id="bfa7e7fc7c6bf4cc4e4c5c74b09763eb" category="paragraph">最佳實務做法是輔助其他文件、例如指南和相容性清單。這些技術是根據實驗室測試和NetApp工程師與客戶廣泛的現場經驗所開發。它們可能不是每個環境中唯一能運作的支援實務做法、但通常是最簡單的解決方案、能滿足大多數客戶的需求。</block>
  <block id="737453909be77692f8cfdf08a17cee61" category="inline-link-macro">針對vSphere版本的資訊ONTAP</block>
  <block id="18b198d3d2381f05dd78bab3c8cec60c" category="paragraph">本文件著重於ONTAP 在vSphere 6.0或更新版本上執行的最新版VMware®（9.x）功能。請參閱一節 <block ref="4c9a6d8ccb9dfca3b5ae6e43e9663c99" category="inline-link-macro-rx"></block> 以取得與特定版本相關的詳細資料。</block>
  <block id="4b401b0a40ae220c77961312c8238cdb" category="paragraph">有許多理由讓成千上萬的客戶選擇ONTAP 用作vSphere的儲存解決方案、例如支援SAN和NAS傳輸協定的統一化儲存系統、使用節省空間的NetApp Snapshot複本提供強大的資料保護功能、 還有豐富工具可協助您管理應用程式資料。使用與Hypervisor分開的儲存系統、您可以卸載許多功能、並將vSphere主機系統的投資效益最大化。這種方法不僅能確保主機資源專注於應用程式工作負載、也能避免儲存作業對應用程式造成隨機效能影響。</block>
  <block id="0f50acddbdbb9aa9712a471f2276e655" category="paragraph">搭配vSphere使用VMware是一項絕佳組合、可降低主機硬體與VMware軟體的費用。ONTAP您也可以透過一致的高效能、以較低的成本保護資料。由於虛擬化工作負載是行動工作負載、因此您可以使用Storage VMotion、在VMFS、NFS或vVols資料存放區之間移動VM、探索不同的方法、所有這些都在同一個儲存系統上。</block>
  <block id="90977175b761542615a11f2b96cc4cbd" category="paragraph">以下是客戶今日重視的關鍵因素：</block>
  <block id="dc4489aacb3c4d74b8253c49732b73e9" category="list-text">*統一化儲存設備。*執行ONTAP 此功能的系統以多種重要方式統一化。這種方法原本是指NAS和SAN兩種傳輸協定、ONTAP 而除了NAS的原始優勢之外、它仍是SAN的領導平台。在vSphere環境中、這種方法也可能代表虛擬桌面基礎架構（VDI）的統一化系統、以及虛擬伺服器基礎架構（VSI）。執行ONTAP VMware軟體的系統通常比傳統企業陣列便宜、但在同一個系統中擁有進階的儲存效率功能來處理VDI。此外、從SSD到SATA、還能統一化各種儲存媒體、並將這些媒體輕鬆延伸到雲端。ONTAP不需要購買單一Flash Array來提升效能、SATA陣列用於歸檔、以及獨立的雲端系統。將它們緊密連結在一起。ONTAP</block>
  <block id="ec8cd066c60323f007135b1f083b64de" category="list-text">*虛擬磁碟區與儲存原則型管理。* NetApp是VMware的早期設計合作夥伴、負責開發vSphere虛擬磁碟區（vVols）、提供架構輸入及早期支援vVols與VMware vSphere API以提高儲存感知（VASA）。這種方法不僅能將精細的VM儲存管理功能帶入VMFS、也支援透過儲存原則型管理來自動化儲存資源配置。此方法可讓儲存架構設計師設計具有不同功能的儲存資源池、讓VM管理員輕鬆使用。這個解決方案是VVol擴充儲存產業的領導廠商、可在單一叢集內支援數十萬個vVols、而企業陣列和小型Flash陣列廠商則可支援每個陣列數千個vVols。ONTAPNetApp也透過即將推出的VVols 3.0支援功能、推動精細VM管理的演進。</block>
  <block id="fd5311fb87e61b58d3c3d278df26af4f" category="list-text">*儲存效率。*雖然NetApp是第一家針對正式作業工作負載提供重複資料刪除技術的公司、但這項創新並不是此領域的第一或最後一項。首先是ONTAP 使用不影響效能的空間效率資料保護機制、以及FlexClone技術來即時製作VM的讀寫複本、以供正式作業和備份使用。NetApp繼續提供內嵌功能、包括重複資料刪除、壓縮及零區塊重複資料刪除、讓昂貴的SSD發揮最大的儲存容量。最近、利用壓縮技術、將較小的I/O作業和檔案封裝到磁碟區塊中的功能更為豐富。ONTAP這些功能的結合、讓客戶看到VSI的節約效益高達5：1、VDI的節約效益高達30：1。</block>
  <block id="bb73602f3344c326a7b63c94db24362a" category="list-text">*混合雲*無論是用於內部部署的私有雲、公有雲基礎架構、或是結合兩者最佳功能的混合雲、ONTAP 均可利用此解決方案協助您打造資料架構、以簡化及最佳化資料管理。從高效能All Flash系統開始著手、然後將它們與磁碟或雲端儲存系統結合、以提供資料保護和雲端運算。您可以選擇Azure、AWS、IBM或Google雲端、以最佳化成本並避免受限。視需要運用OpenStack和Container技術的進階支援。NetApp也提供雲端型備份（SnapMirror Cloud、Cloud Backup Service VMware及Cloud Sync VMware）、以及FabricPool 適用於VMware的儲存分層與歸檔工具（VMware®）ONTAP 、協助降低營運成本、並充分運用雲端的廣泛應用。</block>
  <block id="0c157ce4e4fd6289dbf0b282993c2f80" category="list-text">*及更多資訊。*善用NetApp AFF Sa系列陣列的極致效能、加速虛擬化基礎架構、同時管理成本。使用橫向擴充ONTAP 的叢集、享受完全不中斷營運的體驗、從維護到升級、到儲存系統的完整更換。使用NetApp加密功能保護閒置資料、無需額外成本。透過精細的服務品質功能、確保效能符合業務服務層級。這些都是ONTAP 業界領先的企業資料管理軟體、即包含在眾多功能中的一部分。</block>
  <block id="c0ddbacfe0f703e62904558059e40001" category="summary">本節提供ONTAP 有關特定版本之VMware及vSphere所支援功能的指引。NetApp建議確認特定版本與NetApp互通性對照表的組合。</block>
  <block id="bc8be72fdc9d6054f356bb2b7f80fd12" category="inline-link">NetApp 互通性對照表</block>
  <block id="2f6ae9fa35fbcb0ec3205505ee027642" category="paragraph">本節提供ONTAP 有關特定版本之VMware及vSphere所支援功能的指引。NetApp建議您確認與的特定版本組合<block ref="50c84d2622d2bc5cc86e7d8724309075" category="inline-link-rx"></block>。</block>
  <block id="7912c2100fd9b3b96b0b03e7a068fc9a" category="section-title">發行版ONTAP</block>
  <block id="8ee2892e0fb10cc58205a3d682abdb58" category="paragraph">在發佈時、NetApp為這些版本系列提供完整支援：</block>
  <block id="0fcf2ee62acd9eae83b609a0e7ecaa72" category="list-text">版本9.5 ONTAP</block>
  <block id="7dd2a92fd3f41a5334edf46f95d77e71" category="list-text">部分9.6 ONTAP</block>
  <block id="3447b91e516e4fc6b5dba827fcb68bee" category="list-text">更新ONTAP</block>
  <block id="2abfff2974f589f7a217325f304e0ec5" category="list-text">部分9.8 ONTAP</block>
  <block id="ee4651b72d795faf25a1382eb1315a95" category="section-title">vSphere與ESXi支援</block>
  <block id="c3123497dcfdcdf46908ad18a51928ca" category="paragraph">NetApp ONTAP 支援vSphere ESXi主機的廣泛功能。上述四個主要版本系列（9.5、9.6、9.7及9.8）均完全支援做為最新vSphere版本的資料儲存平台、包括6.0、6.5及7.0（包括這些版本的更新）。NFS v3互通性是廣泛定義的、NetApp支援任何符合NFS v3標準的用戶端、包括Hypervisor。NFSv4.1支援僅限vSphere 6.0至7.0。</block>
  <block id="8276b4666ec9fee7d71b01f6ee2b9955" category="paragraph">對於SAN環境、NetApp會對SAN元件進行廣泛的測試。一般而言、NetApp支援標準的x86-64機架伺服器和Cisco UCS伺服器、以及用於iSCSI連線的標準乙太網路介面卡。由於需要HBA韌體和驅動程式、因此FC、FCoE和NVMe/FC環境具有更明確的支援定義。</block>
  <block id="a9854fb3ed44e3b8e9236c5b70405101" category="paragraph">請務必檢查<block ref="50c84d2622d2bc5cc86e7d8724309075" category="inline-link-rx"></block> 確認支援特定的硬體與軟體組態。</block>
  <block id="eb3ac5aa51c1cacfa31cee70ac6586f0" category="paragraph">ESXi主機的此外掛程式有助於使用ONTAP VAAI將作業卸載至VMware。最新版本1.1.2支援NFSv4.1資料存放區、包括Kerberos（krb5和krb5i）支援。ESXi 6.0、6.5和7.0搭配ONTAP 使用支援此功能、並搭配使用VMware 9.5至9.8。</block>
  <block id="b2dd36bd4918e00f8b2e15e6d62a4b94" category="section-title">VASA供應商</block>
  <block id="15c15a65e1486d45a44c6f61927ef836" category="paragraph">NetApp的VASA Provider支援VVol資源配置與管理（請參閱第3.7節）。最新版本的VASA Provider支援ESXi 6.0、6.5和7.0、搭配ONTAP 使用支援VMware 9.5%至9.8。</block>
  <block id="c13550c8bc0f9b77e92bd2533221de9d" category="paragraph">VMware vSphere的VMware vSphere工具是搭配vSphere一起管理VMware vSphere的重要工具（最佳實務做法是使用）ONTAP ONTAP 。vSphere 6.5與7.0搭配ONTAP 使用時支援最新版本9.8、並搭配使用</block>
  <block id="6f3666cf392f9aa79924b94f433b64ed" category="doc">適用於VMware vSphere的NetApp SnapCenter 功能外掛程式-在VMware上部署</block>
  <block id="a1dd31a3dca44eb1fe27b895521130ae" category="inline-link-macro">下一步：其他資訊SnapCenter - VMware vSphere的解決方案外掛程式-解決方案先決條件。</block>
  <block id="874d68c7d23e9e2e452ff6efaf757dee" category="paragraph"><block ref="874d68c7d23e9e2e452ff6efaf757dee" category="inline-link-macro-rx"></block></block>
  <block id="02d4482d332e1aef3437cd61c9bcc624" category="doc">聯絡我們</block>
  <block id="3dd3a0a8eebc543e239dc4af5d76b322" category="paragraph">您對本技術報告有任何意見嗎？</block>
  <block id="3c48757505a122bf371d1bf0105b6871" category="paragraph">請寄送電子郵件至doccomments@netapp.com、並在主旨欄中加入TR-4597。</block>
  <block id="1f82b18dcba5f32a085bc502cdd0c6b7" category="summary">利用NetApp技術、儲存虛擬機器（SVM）的概念可在安全的多租戶環境中提供嚴格的區隔。ONTAP</block>
  <block id="7520e12a140ccf3de279fe2fd48889e4" category="doc">部署最佳實務做法</block>
  <block id="1b4574c516231b685bb37b013b789b06" category="section-title">適用於SMT的SVM配置與區隔</block>
  <block id="446e04546ec0567eeeeef8e07368ab40" category="paragraph">利用NetApp技術、儲存虛擬機器（SVM）的概念可在安全的多租戶環境中提供嚴格的區隔。ONTAP某個SVM上的SVM使用者無法從另一個SVM存取或管理資源。如此一ONTAP 來、您就能為不同的業務單位建立獨立的SVM、以便在同一個叢集上管理自己的SRM工作流程、進而提升整體儲存效率、進而充分運用此項技術。</block>
  <block id="f98c1d223f34b2fdaf90eab1a3bc6a25" category="paragraph">考慮ONTAP 使用SVM範圍的帳戶和SVM管理生命體來管理功能、不僅能改善安全控管、也能提升效能。使用SVM範圍的連線時、效能自然會更高、因為SRA不需要處理整個叢集中的所有資源、包括實體資源。而是只需要瞭解抽象化至特定SVM的邏輯資產。</block>
  <block id="849d4d5e8a5d5b2747d8375d2ec03b29" category="paragraph">僅使用NAS傳輸協定（無法存取SAN）時、您甚至可以設定下列參數來使用新的NAS最佳化模式（請注意、此名稱是如此、因為SRA和VASA在應用裝置中使用相同的後端服務）：</block>
  <block id="05f551a655f40911851a53ba0c721997" category="list-text">登入控制面板：「https://&lt;IP address&gt;:9083'」、然後按一下「Web型CLI介面」。</block>
  <block id="b0cc185c73ca964d1429a601551c68f5" category="list-text">執行命令「VP updateconfig-key=enable.qtree .dDiscovery -value=true」。</block>
  <block id="5f7e35f90689bef91afe9f01257c61ac" category="list-text">執行命令「VP updateconfig-key=enable.companyed.SRA -value=true」。</block>
  <block id="ba2a1e4d95dc56709260e82cca20a789" category="list-text">執行命令「VP reloadconfig」。</block>
  <block id="2d14ca751c8ce5a724606e4f75f02c50" category="section-title">部署ONTAP vVols的各種功能與考量</block>
  <block id="fa3a193f1892cf0f45f4a95a35aa3c4b" category="paragraph">如果您打算搭配vVols使用SRM、則必須使用叢集範圍認證和叢集管理LIF來管理儲存設備。這是因為VASA供應商必須瞭解基礎實體架構、才能滿足VM儲存原則所需的原則。例如、如果您的原則需要All Flash儲存設備、則VASA Provider必須能夠查看哪些系統是Flash。</block>
  <block id="31d279d1cc3bc5a4281567ba697f678d" category="paragraph">另一個部署最佳實務做法是、切勿將ONTAP 您的VMware Tools應用裝置儲存在其所管理的vVols資料存放區。這可能會導致您無法開啟VASA供應商的電源、因為您無法為應用裝置建立切換VVol、因為應用裝置離線。</block>
  <block id="97399fb37deca0d463aa5c7dc8d064a6" category="section-title">管理ONTAP 功能的最佳實務做法</block>
  <block id="b4cbecf196108ad163c73c4e4194dde2" category="paragraph">如前所述、您可以ONTAP 使用叢集或SVM範圍內的認證和管理生命體來管理等叢集。為了獲得最佳效能、您可能會想要在不使用vVols時、考慮使用SVM範圍內的認證資料。不過、在這樣做的過程中、您應該瞭解某些需求、而且您確實會失去某些功能。</block>
  <block id="fec05e53ca7d96aaf3e4c1a1b2502bea" category="list-text">預設的vsadmin SVM帳戶沒有執行ONTAP 各項功能工作所需的存取層級。因此、您需要建立新的SVM帳戶。</block>
  <block id="8557644859e03f54860c95ffb0bcfd53" category="list-text">如果您使用ONTAP 的是NetApp的支援功能表、NetApp建議您使用ONTAP VMware System Manager的使用者功能表、以及ONTAP 您的支援功能應用裝置上的Json檔案來建立最不具權限的RBAC使用者帳戶、網址為：https://&lt;IP address&gt;:9083/VSC/config/。使用您的系統管理員密碼下載Json檔案。這可用於SVM或叢集範圍內的帳戶。</block>
  <block id="a7a83b5e4f375c0585588b9c7ff92219" category="inline-link">NetApp支援網站工具箱</block>
  <block id="fdfe9ba9104df6a32fff0f859291ea3c" category="paragraph">如果您使用ONTAP 的是32個以上版本的版本、則應使用中提供的RBAC使用者建立工具（RUC）<block ref="bdbf96c18cf8ac76d01fba7057b81b87" category="inline-link-rx"></block>。</block>
  <block id="ea7a3d08d55dc3e8ecf89d2a5d5e302d" category="list-text">由於vCenter UI外掛程式、VASA Provider和SRA伺服器都是完全整合的服務、因此您必須以在vCenter UI中新增儲存設備以供ONTAP 支援VMware工具的相同方式、將儲存設備新增至SRM的SRA介面卡。否則、SRA伺服器可能無法辨識透過SRA介面卡從SRM傳送的要求。</block>
  <block id="b473de4177eeaa79a66448798a446db3" category="list-text">使用SVM範圍認證時、不會執行NFS路徑檢查。這是因為實體位置從SVM邏輯上抽象化。不過這並不是令人擔心的問題、因為使用ONTAP 間接路徑時、現代的功能不再受到明顯的效能下降影響。</block>
  <block id="6e62430b92a7c5a0b8512436b163a10d" category="list-text">可能不會報告儲存效率所節省的Aggregate空間。</block>
  <block id="93d86aa51e0909549d1b1210f887aef3" category="list-text">在支援的情況下、無法更新負載共用鏡像。</block>
  <block id="647d380b52e259fe7ed2e2582bc54b27" category="list-text">可能無法在ONTAP 以SVM範圍認證來管理的各種系統上執行EMS記錄。</block>
  <block id="14c4dbb7c61081eee1c499c4cf138c96" category="inline-link-macro">Oracle 19c RAC資料庫位於FlexPod 包含Cisco UCS和NetApp AFF 透過FC的NetApp UCA800的不支援資料中心</block>
  <block id="760b7d532df381143dc946fd59bf0b62" category="inline-link-macro">SQL Server on Azure NetApp Files</block>
  <block id="78463a384a5aa4fad5fa73e2f506ecfc" category="inline-link-macro">英文</block>
  <block id="37ce0afb395b0346118a74c4f05f20a7" category="list-text"><block ref="3b277c3e8740f32e48fe9dd888ed34aa" category="inline-link-macro-rx"></block>&amp;f：@face_soultion_mktg=[AI、分析、人工智慧]+++[AI部落格位於NetApp.com</block>
  <block id="750b570f7c6cacf7b9f43c1c7919ad96" category="inline-link-macro">AI部落格</block>
  <block id="183754618306c7f8d7df04f981d234f0" category="list-text"><block ref="183754618306c7f8d7df04f981d234f0" category="inline-link-macro-rx"></block></block>
  <block id="bf647454e36069fd16f1a7a35cf6a865" category="sidebar">快速入門</block>
  <block id="f0b83f1f7d211bfb4e278dafd2d6b4fa" category="sidebar">NetApp儲存解決方案的Apache Spark工作負載</block>
  <block id="6bf79bc16e8a34cf5698aabd27cecef1" category="sidebar">現代化資料分析解決方案簡介</block>
  <block id="cd47dd01745339787e4c7300389401f2" category="sidebar">最佳實務做法</block>
  <block id="1bd369d8fc8172d625ac41a1815aa09d" category="sidebar">Conflent Kafka的最佳實務做法</block>
  <block id="8e2406d586d4192dc66b85722da1c3b9" category="sidebar">NetApp StorageGRID 支援Splunk SmartStore</block>
  <block id="5e3dc34b61f6a21ffd6549ee40d4631b" category="sidebar">NetApp E系列E5700與Splunk Enterprise</block>
  <block id="3ed3645b4e41749082a0692a758a3132" category="sidebar">混合雲解決方案：Spark和Hadoop使用案例</block>
  <block id="89d5e6802ef5a3ae4296f49d4d6bc447" category="sidebar">其他資源</block>
  <block id="8598954d073301b356199d49f5c02a69" category="sidebar">部落格：Apache Spark在NetApp Data Analytics Playground中扮演重要角色</block>
  <block id="0795007b8521bf374f9ddd4eb68a4a2b" category="sidebar">部落格：使用XCP從Data Lake和HPC移轉資料至ONTAP 支援NFS</block>
  <block id="c254d48fc85fff80674335af647fc2d3" category="sidebar">NetApp TV：Big Data Analytics播放清單</block>
  <block id="91770f038cd944a1d3b9b347edeb2b10" category="sidebar">新增功能</block>
  <block id="17c3771ed0b6c1ae15740eff715e9922" category="sidebar">影片與示範</block>
  <block id="22169240c9a4c0ab61a4ed13c981c5ef" category="sidebar">整合式基礎架構、適用於AI工作負載</block>
  <block id="12797522e94d75727dd0a05a4ed9f5ff" category="sidebar">支援NVIDIA的AI ONTAP</block>
  <block id="8508ab1994a5679882beb6400778e8ba" category="sidebar">採用NVIDIA的EF系列AI</block>
  <block id="ec820f861118408d42b077dbf109f374" category="sidebar">IBM Spectrum擴充搭配NetApp E系列儲存設備</block>
  <block id="b63ada7ec650c01320cddeda05deb779" category="sidebar">AI在Edge大會上推斷：NetApp採用Lenovo ThinkSystem</block>
  <block id="7e9b2db694c8b0a87a271e7085251d0e" category="sidebar">適用於ONTAP AI的NetApp支援與Lenovo ThinkSystem SR670</block>
  <block id="e5c3eeefe82172631e21562a8d3672a5" category="sidebar">適用於AFF AI的NetApp RE-A800與Fujitsu Server PRIMERGY GX2570 M5</block>
  <block id="2fa3e2a0ff5682666455eed0a7b1b569" category="sidebar">資料湖與資料管道</block>
  <block id="6ac39037a7efa2708d15c0e0e20fb188" category="sidebar">適用於自主駕駛工作負載的資料湖StorageGRID</block>
  <block id="eeb4980c2a89f07abf1a0b927066b23c" category="sidebar">利用E系列和BeeGFS進行AI資料搬移</block>
  <block id="549d044fec039c71abf82f76a0d7969c" category="sidebar">將資料從巨量資料環境移至AI環境</block>
  <block id="13f985aafb32ac9e387186e5a437f96e" category="sidebar">採用資料快取的混合雲AI</block>
  <block id="ac82c7a9ef13f3b604553ccfe1a5bd76" category="sidebar">澳洲及澳洲的</block>
  <block id="3cd04d0e6cf45786c9e94148f213b537" category="sidebar">適用於AI Pipeline和Workspace Orchested的NetApp AI Control Plane</block>
  <block id="447e8e0102d91009c125adb678cd7fb5" category="sidebar">採用Iguazio的MLRun Pipeline</block>
  <block id="d5c1931461d1e204a84a486796df2cca" category="sidebar">採用Run:AI的NetApp協調解決方案</block>
  <block id="71e6eb0dc5951ca93effe179d000f534" category="sidebar">情緒分析</block>
  <block id="cfff43e76ea0e95d290a279bdb279a2e" category="sidebar">點選率預測- Azure的分散式訓練</block>
  <block id="29931fafbbc65eabe1029aee9a3a5a85" category="sidebar">Lane Detection：Azure的分散式訓練</block>
  <block id="7656ac1f9ee1e1763f07a285578d922a" category="sidebar">使用NVIDIA JARVIS的對話AI</block>
  <block id="8f0148532a5b5382ec4f005c8a96a4fa" category="sidebar">自主駕駛</block>
  <block id="f869ce5572b45e50fe014954c4248d60" category="sidebar">醫療-診斷成像</block>
  <block id="951b9c6690c2a4c1228ada2a9980d5a8" category="sidebar">信用卡詐騙偵測</block>
  <block id="e7060d0555f178d672a4197df38e1d39" category="sidebar">設定虛擬化環境</block>
  <block id="2408eed8aca98d53134097e8990c8225" category="sidebar">來賓連線儲存選項</block>
  <block id="624e816c7f229d54827ad7bc018eb8da" category="sidebar">支援的儲存選項</block>
  <block id="40d267fad784266cb59c36d76573e7c6" category="sidebar">NetApp on AWS（VMC）</block>
  <block id="a64cd881ec955d17faa5e396a891e1e6" category="sidebar">NetApp on Azure（AVS）</block>
  <block id="d1b0ccc0fc426266cf228929d5424ce4" category="sidebar">NetApp on Google Cloud Platform（GCVG）</block>
  <block id="b84034a4ed4e546b39d5bd268ff06eaa" category="sidebar">入門/最佳實務做法</block>
  <block id="b0f878715a3d12827d6fb02b0df1f23c" category="sidebar">NetApp與VMware：入門</block>
  <block id="690359e9e894d87f3144da561090e3f0" category="sidebar">NetApp ONTAP 為VMware vSphere管理員帶來的效益</block>
  <block id="c0bf5949fe87e1e5caf42e4746cd0080" category="sidebar">VMware vSphere搭配ONTAP 《最佳實務做法》</block>
  <block id="584132370dee3f2fccd2ca59888bee18" category="sidebar">公有雲中的VMware</block>
  <block id="631ed8aac33a641d62d751c3abd77c57" category="sidebar">適用於AWS VMC的NetApp</block>
  <block id="9f5fbecd7c791f090de17716e147c3a5" category="sidebar">適用於Azure AVS的NetApp</block>
  <block id="b2ab132403a71f074bc776eb29725292" category="sidebar">NetApp for Google Cloud Platform GCVE</block>
  <block id="07a2344d318341cbbdb1983d22dc80f0" category="sidebar">安全資料保護</block>
  <block id="10e5369e04057873bcce3de87e2c6187" category="sidebar">VMware Site Recovery Manager（SRM）搭配NetApp ONTAP 功能9</block>
  <block id="9f4b95975f14f6481a322f453e05049c" category="sidebar">VMware vSphere適用的VMware工具-產品安全性ONTAP</block>
  <block id="c4f0254bef611d7217287539f6e00feb" category="sidebar">VMware vSphere Automation</block>
  <block id="ce006038ddc2a04747fe5a2c9c43b8f5" category="sidebar">示範與教學課程</block>
  <block id="eccb6fc5c04122d7aef60d899a77089e" category="sidebar">更多資源</block>
  <block id="5e4af7ed70d1a211f16d528dcdfc6474" category="sidebar">虛擬桌面解決方案</block>
  <block id="cf04feec36847ba9c9671b28661cd1fc" category="sidebar">NetApp解決方案文件</block>
  <block id="38d9ffc674675d65fbb8aabd7e47acd3" category="sidebar">解決方案FlexPod</block>
  <block id="6f4bb0fa6fee4cf4ae1b8b1fc16e17cb" category="sidebar">老NetApp HCI 舊的解決方案</block>
  <block id="3523ec156cfc8217bb64d1273e5663fa" category="sidebar">關於NetApp解決方案</block>
  <block id="d648f2a68a54fd1b3329efc3cf24d29c" category="sidebar">法律聲明</block>
  <block id="e673b6ab6c5649a4df8e874aaa9017b9" category="sidebar">支援的組態</block>
  <block id="0333ddced253ee1c6929eda5612dea92" category="sidebar">要求自動化</block>
  <block id="bdca592f24222e5064192bb9e2f9af6e" category="sidebar">NetApp Cisco解決方案FlexPod</block>
  <block id="0da8a1ebf94a3a1e650dbfbd01c69dd9" category="sidebar">解決方案技術內容FlexPod</block>
  <block id="32591d046a055939af0d128133dc8606" category="sidebar">銷售頁面FlexPod</block>
  <block id="9e2c62f406d88ad1ee253efd74f593df" category="sidebar">提出新的解決方案</block>
  <block id="7fd861566be88364067d817b54a44688" category="sidebar">提供解決方案意見反應</block>
  <block id="5d7b876a73a9025080fbf6dd921d1fdd" category="sidebar">資料移轉與資料保護</block>
  <block id="68dfe5056c735db544868f482f9f1d6f" category="sidebar">NetApp XCP最佳實務準則</block>
  <block id="c5071cdf8081474104ef1eee5ec6d784" category="sidebar">透過ACL從來源儲存箱移轉CIFS資料至ONTAP 功能區</block>
  <block id="712d83d9ce8f26363e9bfd1cba104b88" category="sidebar">NetApp E系列與CommVault Data Platform V11</block>
  <block id="aa8156dc9f7aa240e4f412f2f5fedaf5" category="sidebar">E系列與EF系列參考架構與儲存最佳實務做法搭配Veeam備份複寫9.5</block>
  <block id="74e4bedcc2ff5b37a8770caa0ef72975" category="sidebar">使用NetApp E系列儲存設備部署Veritas NetBackup</block>
  <block id="029f60716c50acd9acf9ce4a9394c91a" category="sidebar">適用於FISMA的NIST安全控管、適用於多租戶基礎架構的HyTrust</block>
  <block id="645198fb2e03205a7f761aeaff8ef26f" category="sidebar">NetApp解決方案自動化與Ansible入門</block>
  <block id="22d04ecae9fae88d0b8d4548a46a545b" category="sidebar">要求自動化</block>
  <block id="4f25c5c9b33cc2f12b098bd8cc026222" category="sidebar">Big Data分析資料到人工智慧</block>
  <block id="713522228cb3164cc6e71ff6d49c3b13" category="sidebar">GPFS至NFS -詳細步驟</block>
  <block id="7f8513139888dda0c0ecb82a93548af9" category="sidebar">Conflent Kafka的最佳實務做法</block>
  <block id="497da8ae75854ffd62dc59e332c15252" category="sidebar">協調自我重新平衡叢集</block>
  <block id="c9f0818cde41901681a02b50763ec342" category="sidebar">NetApp混合雲資料解決方案：根據客戶使用案例、Spark和Hadoop</block>
  <block id="924f605d39858bdb10692c8d8f810464" category="sidebar">使用案例1 -備份Hadoop資料</block>
  <block id="c028df954696d2e4011963e651237b7c" category="sidebar">使用案例2：從雲端到內部部署的備份與災難恢復</block>
  <block id="f1ab9c16fee4088d930b2a43e3d48f64" category="sidebar">使用案例3：在現有Hadoop資料上啟用DevTest</block>
  <block id="4e7c79467b7b25f0415a3a4538d3e2f5" category="sidebar">使用案例4：資料保護與多雲端連線</block>
  <block id="f38bc790ec57f948f20cbd270b996cc6" category="sidebar">使用案例5：加速分析工作負載</block>
  <block id="df6654a22cda1b94cf0f51d6ae94bb69" category="sidebar">不同分析策略的不同解決方案解決方案簡介</block>
  <block id="427d072a2c1690c6d9ece23bef05477b" category="sidebar">Apache Spark Workload with NetApp儲存解決方案（部署指南）</block>
  <block id="0a2866cc3e2ba203c7e2e3ebeca395be" category="sidebar">SAP搭配Oracle on UNIX和NFS搭配NetApp叢集Data ONTAP 式功能</block>
  <block id="54d2cdd3035ca1cdff5803c30f2ed2e1" category="sidebar">部署Oracle資料庫</block>
  <block id="c880b35e02dbb5854452c86028138e2a" category="sidebar">在NetApp ONTAP 上部署Oracle資料庫</block>
  <block id="699700175d80778f1738d906ee9540d5" category="sidebar">入門與需求</block>
  <block id="210fdbe41d80b2e8690a970de86a7ffb" category="sidebar">自動化Oracle 19c AWX/Tower部署</block>
  <block id="13cf6478a61a7904a3062d587248fb75" category="sidebar">自動化Oracle 19c CLI部署</block>
  <block id="12367669ba6a0b6e059b69b5a95f2902" category="sidebar">Oracle資料庫資料保護</block>
  <block id="3e9d3644ee18a66c51ddd16b668eaa5a" category="sidebar">自動化Oracle資料保護</block>
  <block id="82be90bcfc8fd03855e030edaa25583a" category="sidebar">自動Oracle Data Protection for AWX/Tower</block>
  <block id="bc113eb23aa0579a5e1d93e97ca13635" category="sidebar">NetApp EF系列上的Oracle資料庫</block>
  <block id="78898e52fcbdc5337204a384f2456d4f" category="sidebar">Microsoft SQL Server</block>
  <block id="61def2ac347af2f10fd60cd67052a311" category="sidebar">參考設計（即時高階設計）</block>
  <block id="89447eb7454239e11376250fa04a88f7" category="sidebar">SAP搭配Microsoft SQL Server、在Windows上使用叢集Data ONTAP 式功能</block>
  <block id="7c02456b91ace7501ea6f18d1657dcf7" category="sidebar">現代化Microsoft SQL Server</block>
  <block id="5c008a8422e884d74da1d4b50a7ada55" category="sidebar">採用NetApp EF系列的Microsoft SQL Server最佳實務做法指南</block>
  <block id="30b22b544972f5adb280ca2975099846" category="sidebar">混合雲資料庫解決方案SnapCenter 搭配</block>
  <block id="59f8ae0d5c4ba13dee4828e2727c8859" category="sidebar">內部部署快速入門</block>
  <block id="9a9891facf2fa1c878c0fc18c6638005" category="sidebar">AI融合式基礎架構</block>
  <block id="687350c847aefbf978e16be26609d101" category="sidebar">採用NVIDIA DGX A100系統設計指南的AI ONTAP</block>
  <block id="4c7a8c5b878fcdf733694f638b393b6b" category="sidebar">採用NVIDIA DGX A100系統的AI部署指南ONTAP</block>
  <block id="74c684b866e5fcffcc9c5165a491d5b2" category="sidebar">採用NVIDIA DGX A100系統與Mellanox Spectrum乙太網路交換器設計指南的AI ONTAP</block>
  <block id="f8363659ae3ab117a0afa4163ca69fc7" category="sidebar">採用NVIDIA DGX A100系統和Mellanox Spectrum Ethernet交換器的AI部署指南ONTAP</block>
  <block id="c70e778edabe427cd2db90132a56e456" category="sidebar">採用NVIDIA DGX A100系統和BeeGFS設計的EF系列AI</block>
  <block id="06aa576b3e3e95c5df800228d146af65" category="sidebar">EF系列AI搭配NVIDIA DGX A100系統與BeeGFS部署</block>
  <block id="9cb9fe27a24f987a1889d5fc1d5d139e" category="sidebar">BeeGFS with NetApp E系列部署指南</block>
  <block id="2967ab4748573d0cb6f2c4084c4fd70f" category="sidebar">BeeGFS搭配NetApp E系列參考架構</block>
  <block id="1db760587a86f5c1b9ab39aa8cf8cf3d" category="sidebar">部署IBM Spectrum scale搭配NetApp E系列儲存設備</block>
  <block id="08479c0355c887a02e772206b0d5d7f5" category="sidebar">適用於ONTAP AI和ML模型訓練工作負載的NetApp支援與Lenovo ThinkSystem SR670</block>
  <block id="e648dd2d4df65a903e9c1204d81abaed" category="sidebar">適用於AFF AI和ML模型訓練工作負載的NetApp RE-A800和Fujitsu Server PRIMERGY GX2570 M5</block>
  <block id="6a571fb799acb43b64f874729f838e2a" category="sidebar">資料管道、資料湖區與管理</block>
  <block id="c79bd5ac7ebc0eae5588b9ad529a380f" category="sidebar">適用於StorageGRID 自主駕駛工作負載的NetApp數據湖</block>
  <block id="fad62e8b886e655813cc4ce635152f62" category="sidebar">Trident部署</block>
  <block id="8ad188089680179dea816084001d7bf0" category="sidebar">利用E系列和BeeGFS進行資料搬移、以利AI和分析工作流程</block>
  <block id="ae270ffdc87820776fadfe121aa13143" category="sidebar">運用NetApp AI進行情緒分析</block>
  <block id="f74720767a0bf20cfdb6bba5f215d795" category="sidebar">部署支援中心意見分析</block>
  <block id="1863627f5be51826024a24014fce26ff" category="sidebar">Azure的分散式訓練：點選率預測</block>
  <block id="7f39827ac712fa5b76b27ff0b267373c" category="sidebar">使用NetApp DataOps Toolkit的資料集與模型版本管理</block>
  <block id="458df51beb3b33cfa61bdc8725403f5b" category="sidebar">Jupyter筆記型電腦以供參考</block>
  <block id="70be05b3500f28affc2d048f81c4f7ab" category="sidebar">分散式Azure訓練：Lane偵測</block>
  <block id="7767872606b9c99eb656c9568c1fdd83" category="sidebar">線道偵測–採用RUN AI的分散式訓練</block>
  <block id="ce3b746194cb1fb7d96dfe14187115e0" category="sidebar">採用資料快取的混合雲AI作業系統</block>
  <block id="18e04180e0442e18a559941bb8de310c" category="sidebar">AI在Edge大會上推斷- NetApp採用Lenovo ThinkSystem -解決方案設計</block>
  <block id="f1e7c981dec3bcee348bda96c55363c4" category="sidebar">使用NVIDIA的對話AI</block>
  <block id="c0a0f5bbb431dea70000d73b29e50249" category="sidebar">利用Run AI實現最佳叢集與GPU使用率</block>
  <block id="09c995632f33d1ee4a581eb951793f35" category="sidebar">執行AI安裝</block>
  <block id="5c9e37e6d7e6f5e3a76854d8343d626b" category="sidebar">執行AI儀表板和檢視</block>
  <block id="29ebede332931243e314d8a3f333c1a7" category="sidebar">在Run AI CLI中提交工作</block>
  <block id="2943702718c42a5063e0c70598cebdc6" category="sidebar">適用於ONTAP 自主駕駛工作負載的NetApp SAI解決方案設計</block>
  <block id="d11813566a7c636e892d384601baf2c3" category="sidebar">適用於ONTAP 醫療產業的NetApp人工智慧參考架構：診斷影像</block>
  <block id="ab8526a90cc9cc979ddd23c87fff57bd" category="sidebar">適用於ONTAP 金融服務工作負載的NetApp AI參考架構</block>
  <block id="6efd886c994d37b6577e22359be2310e" category="sidebar">採用NetApp E系列和BeeGFS進行AI部署</block>
  <block id="3863e8a73e226ce0c0a6ad02b90ee75b" category="sidebar">Quantum StorNext with NetApp E系列系統設計指南</block>
  <block id="7891972f4586e6ee183ea541991ebe9f" category="sidebar">Quantum StorNext with NetApp E系列系統部署指南</block>
  <block id="cdc53c90644739ab9cb455ad8b663d7b" category="sidebar">Red Hat Openshift總覽</block>
  <block id="82ebdc178ed6bd9adb7b66c2edfb70d0" category="sidebar">NetApp儲存系統總覽</block>
  <block id="aef2d8db139dd41c9ae6c878ab92ae75" category="sidebar">NetApp儲存整合概述</block>
  <block id="5f6fc3deb668cb75e9e6c8932620df6a" category="sidebar">NetApp Astra控制中心總覽</block>
  <block id="846665f4ec19bffa9d9a8c3937c2f9fd" category="sidebar">註冊Red Hat OpenShift叢集</block>
  <block id="b1dbcb80c89b000949ef64c6d6d6c42b" category="sidebar">選擇要保護的應用程式</block>
  <block id="2913361a2ab3fddb4242f1761d4a6e38" category="sidebar">保護您的應用程式</block>
  <block id="b066abadb76f5e6776aa1e7cfdf56b38" category="sidebar">NetApp Astra Trident總覽</block>
  <block id="938033783443233af5517c828deb6d1e" category="sidebar">OpenShift的進階組態選項</block>
  <block id="d48e549b4fdcc889e0243c53bbb4dda0" category="sidebar">解決方案驗證與使用案例</block>
  <block id="f99e4eb05e28c150680cb72ca8410d93" category="sidebar">使用NetApp ONTAP 功能在Red Hat OpenShift上設定多租戶共享</block>
  <block id="51a25aff8c490f11d9be543c7af23a0d" category="sidebar">叢集管理員工作</block>
  <block id="244e9cd91466ef1240c125511568880a" category="sidebar">儲存管理員工作</block>
  <block id="bc967dc2d57e6eff184a821bf7577a80" category="sidebar">擴充</block>
  <block id="d6bf2b10101446c7afd28ff94926fc44" category="sidebar">透過營運者部署</block>
  <block id="e6b088db24ebe67ed0e9567d309387ec" category="sidebar">工作流程</block>
  <block id="88c506562ebadd679bb16d76a4558619" category="sidebar">虛擬機器複製</block>
  <block id="d313887d8fa4b2493a50d1e00bad440e" category="sidebar">應用程式生命週期管理</block>
  <block id="03cae7751c31cc76a90cf5e94e86eb3a" category="sidebar">治理與風險</block>
  <block id="f55899cffbf639043209795d5a1af970" category="sidebar">建立資源</block>
  <block id="ef55a9d1028eac237813e753d20134df" category="sidebar">適用於公有雲的VMware</block>
  <block id="27c378e12a7c59dc5aa13b13cc6cecff" category="sidebar">超大規模雲端上的VMware Cloud</block>
  <block id="452b0b090c1c37a0d467a8df764fd81f" category="sidebar">超大規模雲端中的NetApp儲存設備</block>
  <block id="2190ab0d2f6281b2f3a73e0fc8e1f560" category="sidebar">摘要與結論</block>
  <block id="75fcfea0185575f935a7f5f149efd8ca" category="sidebar">VMware混合雲使用案例</block>
  <block id="e251010eb0cac5793d760ab2e5f51473" category="sidebar">使用案例總覽</block>
  <block id="9d0be07780aeb437025d4b3420d12540" category="sidebar">NetApp XCP資料移轉</block>
  <block id="2a643eb4634917213492cef085506d45" category="sidebar">開始使用NetApp和VMware</block>
  <block id="6c30682e8603121e14abe8bab7bd88f3" category="sidebar">VMware ONTAP 虛擬化技術</block>
  <block id="cadc483b04d069f993431e3ac64341bf" category="sidebar">虛擬Volume與儲存原則型管理</block>
  <block id="1918f1bc0ea91d0e5d8e37878d5ab562" category="sidebar">VMware Site Recovery Manager搭配NetApp ONTAP 功能9</block>
  <block id="86fbb5b9292be9b680987addfa410586" category="sidebar">傳統區塊儲存資源配置</block>
  <block id="805a0828a65bce146a58e3556113b017" category="sidebar">VMFS -光纖通道</block>
  <block id="26e113624e0cc32cbe2a26e1cde1da24" category="sidebar">VMFS -乙太網路光纖通道</block>
  <block id="8237af9088e8905784b1cb373e3a080d" category="sidebar">VMFS - iSCSI</block>
  <block id="94cab344ef7124917167bd5415b137cf" category="sidebar">VMFS - NVMe over Fabric</block>
  <block id="348ee034e8868e5211a6501c09d4b0f0" category="sidebar">傳統檔案儲存資源配置</block>
  <block id="614b997c0fb5abcd68fda0ab9ca05d69" category="sidebar">NFS - v3</block>
  <block id="912655e9dd57ab01b86691021957e61e" category="sidebar">NFS - v4.1</block>
  <block id="a87e5ca19422686ef96f1e6799e9111d" category="sidebar">虛擬桌面服務（VDS）</block>
  <block id="b89c617ff394cc85df3935994baa194b" category="sidebar">使用登入VSI進行單一伺服器負載測試</block>
  <block id="6abbceca4793ffe4b329045f63b4d219" category="sidebar">營運管理</block>
  <block id="1b31ca8ddb749644af37aa10b42e6930" category="sidebar">GPU考量</block>
  <block id="a1da2a2d050a6b61256020afd015a056" category="sidebar">業界解決方案</block>
  <block id="739169d2451850e6df7246db70c28cc7" category="sidebar">ESG技術驗證：採用NetApp虛擬桌面服務的企業級VDI</block>
  <block id="4725a75839c620bb95363c5f7f2ee9bc" category="sidebar">VMware Horizon</block>
  <block id="e2a1b52ebd707739003f77464bbcaa80" category="sidebar">解決方案FlexPod</block>
  <block id="02674a4ef33e11c879283629996c8ff8" category="cell">方向</block>
  <block id="0c95054981de037de06e544a52eb3613" category="cell">8143.</block>
  <block id="a8e6fe5b9e68f30a146cefebaa7edcc3" category="cell">傳入</block>
  <block id="5bd529d5b07b647a8863cf71e98d651a" category="cell">8043</block>
  <block id="cb4b69eb9bd10da82c15dca2f86a1385" category="cell">9060</block>
  <block id="b6d767d2f8ed5d21a44b0e5886680cb9" category="cell">22</block>
  <block id="d82d678e9583c1f5f283ec56fbf1abb7" category="cell">9080</block>
  <block id="a44ba9086b2b83ccf2baf7c678723449" category="cell">9083.</block>
  <block id="abea47ba24142ed16b7d8fbf2c740e0d" category="cell">1162</block>
  <block id="5cce8dede893813f879b873962fb669f" category="cell">1527</block>
  <block id="91c15b8eb529bf2100c10383d1010a1e" category="cell">僅限內部使用</block>
  <block id="13f3cf8c531952d72e5847c4183e6910" category="cell">443..</block>
  <block id="1ef2b5426b0824e93e33753fa87ddbf5" category="cell">雙向</block>
  <block id="d56302f459af314c7996db681d5b4696" category="cell">2022年3月29日</block>
  <block id="ee0b2b1b7d5e8eb309b29d0051f84d0c" category="cell">新增全新TR：採用NetApp Astra的DevOps</block>
  <block id="a32ca451a300bb4e3c6b19cb1592126a" category="inline-link-macro">採用NetApp Astra的DevOps</block>
  <block id="cb6bb56e7a1df42aff4aeae660a2df10" category="cell"><block ref="cb6bb56e7a1df42aff4aeae660a2df10" category="inline-link-macro-rx"></block></block>
  <block id="73677e8d319e77c91f647e668e868ecb" category="paragraph">如需詳細資訊、請造訪OpenShift網站<block ref="35d5a627a33ce17e4bd125258d59fbc4" category="inline-link-rx"></block>。</block>
  <block id="f582083d849d313b57029bcb7e14f0b5" category="paragraph">如需詳細資訊、請造訪NetApp網站<block ref="95da63d781dead5af723667a3f69096a" category="inline-link-rx"></block>。</block>
  <block id="8fe0ec287a8d48a38a4f1454d62282f5" category="paragraph">NetApp Astra Control Center提供豐富的儲存設備與應用程式感知資料管理服務、適用於部署在內部環境中且採用值得信賴的NetApp資料保護技術的狀態式Kubernetes工作負載。</block>
  <block id="54fe0fc00087535e613994102131f164" category="paragraph">Astra Trident是開放原始碼且完全支援的儲存協調工具、適用於｛k8s_Distribution_name｝等容器與Kubernetes發佈版本。</block>
  <block id="8f98c507505a202b216bb930f143954d" category="paragraph">NetApp擁有數個符合Astra Trident與Astra Control資格的儲存平台、可為容器化應用程式提供、保護及管理資料。</block>
  <block id="1268e1be2d69bcbe60fed1b018c4c7be" category="list-text">在可高度擴充的環境中、支援以區塊為基礎的（iSCSI）使用案例。NetApp Element</block>
  <block id="c64f419c58469b610f6840042d2d188c" category="admonition">NetApp產品組合中的每個儲存系統都能輕鬆管理內部部署站台和雲端之間的資料、讓您的資料成為應用程式所在。</block>
  <block id="8d866fd138999801041cd8ebf044c39f" category="paragraph">下列頁面提供｛Solution _名稱｝解決方案所驗證的NetApp儲存系統相關其他資訊：</block>
  <block id="31190025c7f2a3470ada77c7c360ad75" category="list-text"><block ref="31190025c7f2a3470ada77c7c360ad75" category="inline-link-macro-rx"></block></block>
  <block id="15155104ed4dffb0c6f48a716c490eb6" category="list-text"><block ref="15155104ed4dffb0c6f48a716c490eb6" category="inline-link-macro-rx"></block></block>
  <block id="8bd43c9f55116966ac61fd08aa3cd4bf" category="list-text">與公有雲無縫整合、以利分層和保護資料。此外、支援強大的資料保護功能、可在任何環境中脫穎而出：ONTAP</block>
  <block id="d06c8b79097ede1a26446d68bec0ca39" category="paragraph">如需ONTAP 更多關於效能的資訊、請參閱<block ref="b961dc88c1ac3ab8c78f9fff5ef05edb" category="inline-link-rx"></block>。</block>
  <block id="a95908309fdc4765216365a8dc7d2561" category="paragraph">這兩種系統均採用ONTAP NetApp的NetApp支援資料管理軟體、這是業界最先進的資料管理軟體、可簡化、高可用度的雲端整合式儲存管理、為您的資料架構需求提供企業級的速度、效率和安全性。</block>
  <block id="158de41b0c768154e1c26d384097971b" category="paragraph">透過軟體定義部署的NetApp解決方案、可將其部署到您環境中的Hypervisor上。ONTAP Select ONTAP它可以安裝在VMware vSphere或KVM上、並提供硬體ONTAP 式的整套功能和體驗。</block>
  <block id="87517df6852cb879fffc1e5811e773eb" category="paragraph">NetApp提供許多產品、協助您協調、管理、保護及移轉狀態化容器化應用程式及其資料。</block>
  <block id="a4d4eca64bc27dfd5dc959bc05745797" category="paragraph"><block ref="a4d4eca64bc27dfd5dc959bc05745797" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c60042e38b748289146bd910731af5f0" category="paragraph">NetApp Astra Control提供豐富的儲存設備與應用程式感知資料管理服務、適用於採用NetApp資料保護技術的狀態式Kubernetes工作負載。Astra Control Service可支援雲端原生Kubernetes部署中的狀態工作負載。Astra Control Center可支援企業Kubernetes平台（例如｛k8s_distribution_name｝）內部部署中的狀態工作負載。如需詳細資訊、請參閱NetApp Astra Control網站<block ref="508f471fa59796a53754f031c40091c1" category="inline-link-rx"></block>。</block>
  <block id="40de36ed0c5ebc385749ac6095c24949" category="paragraph">NetApp Astra Trident是開放原始碼且完全支援的儲存協調工具、適用於｛k8s_Distribution_name｝等容器與Kubernetes發佈版本。如需詳細資訊、請造訪Astra Trident網站<block ref="845024b96ab150d9f628b33995c60669" category="inline-link-rx"></block>。</block>
  <block id="ccbb3765ebd50818c2e13a7aba362360" category="paragraph">下列頁面提供更多有關已通過｛Solution _名稱｝解決方案中應用程式與持續儲存管理驗證的NetApp產品資訊：</block>
  <block id="9dc16d6a3e39a8a9654ccfa622d163cf" category="list-text"><block ref="9dc16d6a3e39a8a9654ccfa622d163cf" category="inline-link-macro-rx"></block></block>
  <block id="65b4726a91c7e38728e01572140c82b3" category="list-text"><block ref="65b4726a91c7e38728e01572140c82b3" category="inline-link-macro-rx"></block></block>
  <block id="61e8a38bc32bac1a07ee434aa2849ff7" category="paragraph">NetApp Astra Control Center可安裝在｛k8s_distribution_name｝叢集上、該叢集已部署Astra Trident Storage Orchestrator、並已設定儲存類別和儲存後端、以供NetApp ONTAP orsname儲存系統使用。</block>
  <block id="ca272f711326de89f484505d0ad670ab" category="paragraph">如需Astra Trident的詳細資訊、請參閱 <block ref="fdebacf9b174a956e59f11468f6dd03c" category="inline-link-macro-rx"></block>。</block>
  <block id="c46717c86eab6ada72e202311e47bf46" category="paragraph">在雲端連線的環境中、Astra Control Center會使用Cloud Insights 效益技術來提供進階監控和遙測功能。若缺乏Cloud Insights 一個不穩定的連線、則可透過開放式指標端點、將有限的監控和遙測（價值七天的指標）匯出至Kubernetes原生監控工具（Prometheus和Grafana）。</block>
  <block id="b5348ca8ff6fec2e5b760e7176813e60" category="paragraph">除了Astra Control Center的付費版本、我們也提供90天的評估授權。評估版本可透過電子郵件和社群Slack通路支援。客戶可從產品內的支援儀表板存取這些資源、其他知識庫文章及文件。</block>
  <block id="8b05a70d35504af755eb73a78fd137f0" category="paragraph">若要深入瞭解Astra產品組合、請造訪 <block ref="230f9d60eb4e7cc8be41a0e702c37eff" category="inline-link-macro-rx"></block>。</block>
  <block id="82c67e38528d52fd46de6b6ba7370337" category="paragraph">Astra Trident的開發週期很快、就像Kubernetes一樣、每年發行四次。</block>
  <block id="ed42e52f359216f47260ed1d21ef331c" category="paragraph">從20.04版本開始、Trident設定由Trident操作員執行。營運者讓大規模部署變得更簡單、並提供額外支援、包括自修復部署為Trident安裝一部分的Pod。</block>
  <block id="ef55276f0238c6b1a3f893bc026b5644" category="summary">NetApp Container解決方案是許多熱門的Kubernetes型容器協調程式、經過驗證的部署、並與NetApp儲存管理系統和軟體整合。</block>
  <block id="d56bc5e4affc2f557b7bb79afe47b1be" category="doc">NetApp Container解決方案</block>
  <block id="6fd40b989d7667b2025880aec23fdf21" category="paragraph">本參考文件提供Google Cloud Anthos在多種不同資料中心環境中的部署驗證、並已通過NetApp驗證。此外、它也詳細說明了與NetApp儲存系統的儲存整合、使用Astra Trident儲存協調程式來管理持續儲存設備、以及使用NetApp Astra Control Center來管理及保護狀態化應用程式。最後、我們會探索並記錄許多解決方案驗證和實際使用案例。</block>
  <block id="7768400c23564e6141f156e229944614" category="summary">Anthos將開發與IT作業整合在單一平台上、以一致的方式在內部部署與混合雲基礎架構之間建置、部署及管理應用程式。Anthos以虛擬或裸機格式、將GKE Kubernetes叢集直接帶入您的資料中心環境。</block>
  <block id="346f4310b75e0cc51fdf8a1db6149978" category="doc">Anthos總覽</block>
  <block id="89ef90a5be38c2b656627392eee1a2a9" category="paragraph">Anthos with NetApp是經過驗證、最佳實務的混合雲架構、可可靠可靠地部署內部部署的Google Kubernetes Engine（GKE）環境。這份NetApp驗證架構參考文件可做為部署至裸機和虛擬環境之NetApp解決方案的Anthos設計指南和部署驗證。本文件中所述的架構已通過NetApp和Google Cloud的主題專家驗證、可在企業資料中心環境中提供執行Anthos的優勢。</block>
  <block id="72efb373513d77a08aa5dd7e375a418f" category="section-title">安索斯</block>
  <block id="5b1a0b45a2d6518143a0c9b299e736b4" category="paragraph">Anthos是混合雲Kubernetes資料中心解決方案、可讓組織建構及管理現代化的混合雲基礎架構、同時採用敏捷的工作流程、專注於應用程式開發。Anthos on VMware是以開放原始碼技術為基礎的解決方案、可在VMware vSphere基礎架構的內部環境中執行、並可在Google Cloud中與Anthos GKE連線及互通。採用容器、服務網格及其他轉型技術、可讓組織在本機和雲端型環境中、體驗一致的應用程式開發週期和正式作業就緒工作負載。下圖說明Anthos解決方案、以及內部部署資料中心的部署如何與雲端的基礎架構互連。</block>
  <block id="42fc2dc2813b6a8c6bbca7ebe6d3f51e" category="paragraph">如需更多關於Anthos的資訊、請參閱Anthos網站<block ref="bcfc39c80df16a8beb60f78ea034be9d" category="inline-link-rx"></block>。</block>
  <block id="ed4b514e0a9558c7acbec81ecc5fe0e1" category="list-text">*適用於Kubernetes應用程式的Google Cloud Marketplace。*這是精選的容器應用程式目錄、可供輕鬆部署。</block>
  <block id="b2f70465e1ea6dcdc0843dc8ed3b7f55" category="list-text">*移轉至Anthos *自動將實體服務和VM從內部部署移轉至雲端。</block>
  <block id="52bc26b321a0b4cd1f91f7961a0783c8" category="list-text">* Google提供的Stackdrivan.*管理服務、用於記錄及監控雲端執行個體。</block>
  <block id="9d1fde4a5ff757f9279ca3b948ce8cb2" category="paragraph"><block ref="9d1fde4a5ff757f9279ca3b948ce8cb2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a4777b2291cea091fd5877d9051ff1a3" category="section-title">Anthos的部署方法</block>
  <block id="0b7914a951055f790f36ed2e8e90bf01" category="section-title">VMware的Anthos叢集</block>
  <block id="1702288bedca391f972e58fc0561e9ed" category="paragraph">部署至VMware vSphere環境的Anthos叢集、可輕鬆部署、維護及快速擴充、以因應大多數終端使用者Kubernetes工作負載。</block>
  <block id="6f2ed4f8e4ebad80d7a306a0dc285156" category="paragraph">如需更多有關VMware上的Anthos叢集（與NetApp一起部署）的資訊、請參閱頁面 <block ref="2f8f1280f6424b00276dc85d82fdb14f" category="inline-link-macro-rx"></block>。</block>
  <block id="45a6d5427a773bd692ba6faf09ae9200" category="paragraph">部署在裸機伺服器上的Anthos叢集不受硬體限制、可讓您針對個人化的使用案例、選擇最佳化的運算平台。</block>
  <block id="00d32067724b7191cb5b0ffaf99cc3fe" category="list-text">執行「kubecll」命令來建立儲存類別。</block>
  <block id="36a95a56c85c06906ce9ed37f6c88bbe" category="list-text">使用「kubecll」命令建立永久虛電路。視所建立的備用磁碟區大小而定、建立作業可能需要一些時間、因此您可以在完成時觀看程序。</block>
  <block id="f9d11737e933d637293dde1af50cc17c" category="inline-link-macro">本文件</block>
  <block id="8e6bdc78726b4f56217f2db215176c4c" category="paragraph">如需安裝及組態Astra Trident以支援Astra Control Center、請參閱 <block ref="a26f48e8d5c30c46f5b177e7942c3e6b" category="inline-link-macro-rx"></block>。</block>
  <block id="5a45cefd7ffdd292bbc23212059fae63" category="paragraph">在雲端連線的環境中、Astra Control Center會使用Cloud Insights 效益技術來提供進階監控和遙測功能。如果沒有支援功能、則可透過開放式指標端點、將有限的監控和遙測（價值7天的指標）匯出至Kubernetes原生監控工具（Prometheus和Grafana）Cloud Insights 。</block>
  <block id="f7606168abf643ab18d0fa39eaf87445" category="admonition">在站台上安裝每個OpenShift的最佳做法、就是使用專屬的SVM來進行持續儲存。多站台部署需要額外的儲存系統。</block>
  <block id="cdcf8f111b01a0c0037e638c481f80b0" category="admonition">Docker安裝必須使用高於20.10的Docker版本、而Podman安裝的podman版本必須大於3.0。</block>
  <block id="bcd2576f09ac9988bca57ac067028342" category="section-title">安裝後步驟</block>
  <block id="f1712afd3ab64493ad6802bfa9e5be87" category="list-text">檢查「acc oper-控制 器管理程式」記錄、確認安裝已完成。</block>
  <block id="da44b5941c7cfd27a6f5686a3168f332" category="list-text">第一次使用CRD提供的管理電子郵件地址登入Astra Control Center GUI時、您應該變更密碼。</block>
  <block id="d46a5e1e10f8a4a33306d0696cef14f5" category="summary">本參考文件提供Anthos with NetApp解決方案的部署驗證、部署於多個資料中心環境、並已通過NetApp與我們的工程合作夥伴的驗證。</block>
  <block id="9d171bf7d3d65afb2e7e56d43b4b9ed5" category="doc">NVA-1165：Anthos與NetApp合作</block>
  <block id="e961a4cbc5c7e2be5e3f72a578aeb4da" category="paragraph">NetApp公司Alan Cowles和NIKhil Kulkarni</block>
  <block id="9b3053daf2ec8e22b4a577982f08f107" category="paragraph">Anthos with NetApp解決方案的架構旨在為具有下列使用案例的客戶提供卓越價值：</block>
  <block id="cbc828fed325d3834b2bf3b1f2b5e639" category="inline-link">Kubevirt</block>
  <block id="341508ebeee3f32bbf4f6fee6cb456a0" category="list-text">結合企業容器和虛擬化工作負載的強大威力、以及部署在vSphere上或裸機上的Anthos<block ref="3149dc0a8051bd1d167afbb1fe9775d9" category="inline-link-rx"></block>。</block>
  <block id="de800fedc3b1bf6c4cf497db01ca193d" category="list-text">實際的組態與使用案例、突顯了Anthos在與NetApp儲存設備搭配使用時的功能、而Astra Trident則是Kubernetes的開放原始碼儲存協調工具。</block>
  <block id="22acab0d08b6253aa6c7d6be2fd3f4d3" category="paragraph">Anthos with NetApp解決方案包含下列主要元件：</block>
  <block id="c6e52ea38355d1c4527e874a4c673b5b" category="section-title">Anthos on Prem</block>
  <block id="385c65f480dfcbc7cb530a2c6c807ae9" category="paragraph">Anthos on Prem是完全受支援的企業Kubernetes平台、可部署在VMware vSphere Hypervisor或您選擇的裸機基礎架構上。</block>
  <block id="b73ed4ba665437210c3da7d43d6618bf" category="paragraph">Astra Trident是開放原始碼且完全支援的儲存協調工具、適用於容器和Kubernetes配送、包括Anthos。</block>
  <block id="87f76f310cf20e85a098d49fa77367e5" category="cell">VMware上的Anthos叢集</block>
  <block id="bdca6efb043178ef172612dd1e173dde" category="cell">1.10</block>
  <block id="eb5d694ff9583283fe6d0190a39d5f7a" category="cell">6.7U3、7.0U3</block>
  <block id="5b9abd64aa4865a31820ebec932e54f2" category="section-title">Anthos Ready儲存合作夥伴方案。</block>
  <block id="02046ad0e82ff27f6e1774aa588fd853" category="cell">部署類型</block>
  <block id="1552eec8291d257c4b855dcfa425d802" category="cell">儲存系統</block>
  <block id="6a5025e8000765df098a91023b66544a" category="cell">Astra Trident版本</block>
  <block id="888a77f5ac0748b6c8001822417df8b6" category="cell">傳輸協定</block>
  <block id="56079badd056a19303cc26e6a4fcc7e0" category="cell">VMware</block>
  <block id="955ddf0f7e289ee80cdea4b5324b620d" category="cell">22.01</block>
  <block id="c07ee5debf5f3a3fef16c1ee5e8e4942" category="cell">NAS</block>
  <block id="e5db66c80967b6fa50a1eede0ce50e2f" category="cell">多寫入器、Volume Expansion、快照</block>
  <block id="62a0282d39568be094470486eaf70c4f" category="cell">SAN</block>
  <block id="4c606f506efd3b3bef3499e3342b5933" category="cell">原始區塊、Volume擴充、快照</block>
  <block id="231afe47f3f37d3808096b36c28b4ded" category="cell">元素</block>
  <block id="a2da3c930443e5d1421caec9ee18a376" category="cell">裸機</block>
  <block id="ddffa1813009160db4406c9ef143dd1e" category="section-title">NetApp儲存整合</block>
  <block id="de3b8bd79707b5ac064727a07d81d808" category="paragraph">Anthos在裸機上的硬體無關功能、可讓您選擇專為個人化使用案例最佳化的運算平台、並提供許多其他優點。</block>
  <block id="b872ec62b57abae84b75461c58e0a0a7" category="list-text">*帶上您自己的伺服器。*您可以使用符合現有基礎架構的伺服器來降低資本支出和管理成本。</block>
  <block id="2c912ca37607e38556f15eebae425241" category="paragraph">Google Cloud會透過其Anthos Ready平台合作夥伴方案、定期要求更新新版Anthos的合作夥伴伺服器平台驗證。您可以找到目前已驗證的伺服器平台清單、以及所支援的Anthos版本<block ref="3b2369e07f297fb9367d6c18ca70e2ac" category="inline-link-rx"></block>。</block>
  <block id="6a655d9810c4c5ea4ab7a5520d43ca6f" category="paragraph">下表包含NetApp與NetApp合作夥伴工程師已測試過的伺服器平台、以驗證裸機部署上的Anthos。</block>
  <block id="c0bd7654d5b278e65f21cf4e9153fdb4" category="cell">製造商</block>
  <block id="529a05ca6c1263aab080ec4f20754411" category="cell">製造</block>
  <block id="7b1d1185b835814de783483f686e9825" category="cell">Cisco</block>
  <block id="21f20abdc637c3f2ef02355079dac15d" category="cell">UCS</block>
  <block id="8746d13b8a20e92a40041de84ef0df6f" category="cell">B200 M5</block>
  <block id="3cd9b23ed31110b2ebcbcc8c9a1dc8c0" category="cell">HPE</block>
  <block id="dcaa84314614529edc3d258cff7f565a" category="cell">ProLiant</block>
  <block id="76cca00a6b1e58467cea8165c904fe4f" category="cell">360</block>
  <block id="c5c8661ff74179fd251af29468f2ee7d" category="paragraph">下表列出NetApp與合作夥伴用來驗證解決方案的Linux作業系統清單。</block>
  <block id="b8e7b465df7c5979dc731d06e84ce2cf" category="cell">版本</block>
  <block id="97f1ca2cfbf4529686b9719bf26e07c0" category="cell">Anthos版本</block>
  <block id="6762f053abca7510f6648c71492724a7" category="cell">8.4.</block>
  <block id="6a3bfb64d8c5e16ce63f46624e637b30" category="cell">18.04 LTS</block>
  <block id="d4a5ee60a5a19102b6c00749a050feaf" category="cell">20.04 LTS</block>
  <block id="26181b11798a17989dc697461dc3e9d0" category="section-title">額外硬體</block>
  <block id="629f0a0ce45378aa8d3f93d405eb19cc" category="paragraph">為了完成將Anthos部署在裸機上、做為完全驗證的解決方案、NetApp與合作夥伴工程師已測試了網路與儲存設備的其他資料中心元件。</block>
  <block id="9e5fa7e53550abb6c768c926e7888df7" category="paragraph">下表包含這些額外基礎架構元件的相關資訊。</block>
  <block id="b763f3ad097c7d9beb9849be170a627a" category="cell">硬體名稱</block>
  <block id="8c692721fdfc559bf4689567aa48fb47" category="cell">Nexus</block>
  <block id="5cb4ead83aaa15a241ef0e8c36f0678c" category="cell">C9336C-FX2</block>
  <block id="2f72e4f4112efeb63b9fb0ed1eefd1c9" category="cell">A250</block>
  <block id="8bb152d8bbc90b878b63c05b6b953334" category="section-title">其他軟體</block>
  <block id="effae9170216f08fb6cb3265a4cae9cc" category="paragraph">下表列出在驗證環境中部署的其他軟體版本。</block>
  <block id="91c8cbe28b4928f6ea19ea8d1894623a" category="cell">軟體名稱</block>
  <block id="604081aa29d106416ce93ba7c42a41e3" category="cell">NXOS</block>
  <block id="55e62f54b487de5f2a89d645f80d77b4" category="cell">9.3（5）</block>
  <block id="e0f2ed66fa5adfb40b7738ba72a899c9" category="paragraph">在由NetApp與我們的合作夥伴團隊在全球技術（WWT）執行的「Anthos就緒」平台驗證期間、實驗室環境是以下列圖表為基礎所打造、可讓我們測試每種伺服器類型、作業系統、網路裝置、 以及部署在解決方案中的儲存系統。</block>
  <block id="f8caba75d33af6e6a5a53160c246688e" category="paragraph"><block ref="f8caba75d33af6e6a5a53160c246688e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c7a2b443f8714e7071c1d55a3bd2715f" category="section-title">基礎架構支援資源</block>
  <block id="f8f0e385abfb7fc517b1b9b4e9e8d19e" category="paragraph">在裸機上部署Anthos之前、應先建立下列基礎架構：</block>
  <block id="957478b81604fc0a340d863f3b89a2da" category="summary">NetApp擁有數個符合Trident Storage Orchestrator資格的儲存平台、可為部署在Anthos上的應用程式配置儲存設備。</block>
  <block id="f623f7fc1ffb9cfc3afddcf52e2fec23" category="paragraph">NetApp擁有數個符合Astra Trident Storage Orchestrator資格的儲存平台、可為部署在Anthos上的應用程式配置儲存設備。</block>
  <block id="0c5e049b7be7649501696f84472d6820" category="paragraph"><block ref="0c5e049b7be7649501696f84472d6820" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0e2719bf8f96a980f38256b7a4060368" category="list-text">若要使用Ansible教戰手冊來部署Astra Control Center、您必須安裝有Ansible的Ubuntu / RHEL機器。請依照所述程序進行<block ref="3c36e2d6ece22f6d90a18a4cf2722cef" category="inline-link-rx"></block> 適用於Ubuntu和<block ref="94346839427703f278bfb2bc5962a814" category="inline-link-rx"></block> 適用於RHEL。</block>
  <block id="bf98d9390f43e942cd74d874e3bf6d68" category="list-text">將目錄變更為「na_astra_control_suITE」。</block>
  <block id="cfcf9f0f05f9790927b65e14214edc6e" category="list-text">執行教戰手冊以部署Astra Control Center。本方針要求特定組態具備root權限。</block>
  <block id="3c0e37ba6fc2025cda3b9ec88b955aab" category="paragraph">如果執行方針的使用者是root或設定了無密碼Sudo、請執行下列命令來執行方針。</block>
  <block id="6b682acdf6e246de63c54d6f90044faa" category="paragraph">如果使用者已設定以密碼為基礎的Sudo存取、請執行下列命令來執行教戰手冊、然後輸入Sudo密碼。</block>
  <block id="bbdfa4f0841eb6d317a11ae76992b8b8" category="summary">本節專為想要使用NetApp部署自訂其「特質」的使用者、探討負載平衡器選項。</block>
  <block id="b935e49429349d1edf159cd09a0b8ff5" category="paragraph">下列頁面提供有關Anthos with NetApp解決方案中已驗證之負載平衡器選項的其他資訊：</block>
  <block id="fbc20d9fb2c2f042edf73e3b39b3278a" category="paragraph"><block ref="fbc20d9fb2c2f042edf73e3b39b3278a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f1bcd982a417f561201a3262b52a84d7" category="list-text">* NetApp SnapLock 功能*可將不可重複寫入的資料寫入無法在指定期間覆寫或清除的特殊磁碟區、以有效管理不可重複寫入的資料。</block>
  <block id="99634a0c579c45d299cfbb8b818c51bb" category="paragraph"><block ref="99634a0c579c45d299cfbb8b818c51bb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="678cbe37bb872d145128736b4650ef68" category="paragraph">NetApp提供強大的All Flash AFF （VMware）和橫向擴充混合FAS 式（VMware）儲存平台、專為低延遲效能、整合式資料保護及多重傳輸協定支援而量身打造。</block>
  <block id="a150469d40f75f1df1e87a9558f50769" category="paragraph">這兩種系統均採用ONTAP NetApp的NetApp支援資料管理軟體、此軟體是業界最先進的資料管理軟體、可提供高可用度、雲端整合、簡化的儲存管理、為您的資料架構提供企業級的速度、效率和安全性。</block>
  <block id="a9b90f3200d3b94ea47e85db3a435816" category="paragraph">如需更多關於NetApp AFF 的資訊、FAS 請按一下<block ref="629508ef5a91b5835f70894f34eed424" category="inline-link-rx"></block>。</block>
  <block id="7bfa2a7b059f09c3a772620888e93ef4" category="list-text">輸入備份詳細資料、選取要保留備份檔案的物件儲存區、然後按一下「Next（下一步）」。檢閱詳細資料後、按一下備份。視應用程式和資料的大小而定、備份可能需要數分鐘的時間。備份成功完成後、備份狀態便會變為可用。</block>
  <block id="bf6a757407fc5616f49930e56f86f233" category="list-text">若要複製應用程式、請瀏覽至「應用程式」&gt;「託管」索引標籤、然後按一下有問題的應用程式。按一下應用程式名稱旁的下拉式功能表、然後按一下Clone（複製）。</block>
  <block id="9b6757a6af2937cac7096646ee8dedb8" category="paragraph">F5 BIG-IP是應用程式交付控制器（ADC）、提供一系列進階、正式作業等級的流量管理與安全服務、例如L4-L7負載平衡、SSL/TLS卸載、DNS、防火牆等。這些服務可大幅提升應用程式的可用度、安全性和效能。</block>
  <block id="402c558f65f9d58557e4d79511d71f01" category="paragraph">F5 BIG-IP是Anthos on Prem首款隨附的負載平衡器解決方案、已用於NetApp解決方案的Anthos Ready合作夥伴早期驗證。</block>
  <block id="b662a8c121a377d9111fe64265c8d819" category="paragraph">此解決方案使用部署在VMware vSphere中的虛擬應用裝置。根據您的網路環境、可將用於F5 Big IP虛擬應用裝置的網路設定為兩次佈防或三次佈防。本文件中的部署是以兩個已設定的組態為基礎。如需設定虛擬應用裝置以搭配Anthos使用的其他詳細資料、請參閱<block ref="f18a28d0c935319437c4d1b1e33e5728" category="inline-link-rx"></block>。</block>
  <block id="a1fa27779242b4902f7ae3bdd5c6d508" category="cell">類型</block>
  <block id="37f438df6a6d5ba4c17ef8ca58562f00" category="cell">F5</block>
  <block id="90524e294c6b7accf9b320977f3f5baa" category="cell">Big IP VE</block>
  <block id="bc75f10c94df92e80198364d879456ab" category="cell">15.0.1-0.11</block>
  <block id="c2c889e06ea18c0e72996bc4b43c8115" category="cell">16.1.0-0.19</block>
  <block id="674751c31a2db2596bf7788e2953b80f" category="paragraph">若要安裝F5 BIG-IP、請完成下列步驟：</block>
  <block id="ee5cd6f83412e93266bf30ff048db6ff" category="list-text">從F5下載虛擬應用程式Open Virtual Appliance（OVA）檔案<block ref="cafae381bde5e2381c6df42a3aa937c6" category="inline-link-rx"></block>。</block>
  <block id="fff9995f30a825c5d3e5709e7b78117a" category="admonition">若要下載應用裝置、使用者必須向F5註冊。他們為Big IP Virtual Edition負載平衡器提供30天的示範授權。NetApp建議在設備的正式作業部署中使用10Gbps的永久授權。</block>
  <block id="1a104d04970b6b80d8cf31f554404f4d" category="list-text">在基礎架構資源集區上按一下滑鼠右鍵、然後選取「部署OVF範本」。精靈隨即啟動、可讓您選取您剛在步驟1中下載的OVA檔案。按一下「下一步」</block>
  <block id="fdf7304b13d736c791bc745a330e7309" category="image-alt">部署Big IP應用裝置</block>
  <block id="fbd07b7802c1a124a9359b27b9f46968" category="list-text">精靈顯示的下一個畫面可讓您自訂要用於環境的虛擬網路。選取「VM_Network」作為「外部」欄位、然後選取「Management」（管理）欄位的「Management Network」（管理網路）。內部和HA用於F5 Big IP應用裝置的進階組態、且未設定。這些參數可以單獨保留、也可以設定為連線至非基礎架構的分散式連接埠群組。按一下「下一步」</block>
  <block id="93353313944577e80d34c3d9491db6ce" category="list-text">檢閱應用裝置的摘要畫面、如果所有資訊都正確、請按一下「Finish（完成）」開始部署。</block>
  <block id="68b984a73f20c874fb80feeaa4621109" category="list-text">部署虛擬應用裝置之後、請以滑鼠右鍵按一下該應用裝置並啟動。它應該會在管理網路上接收DHCP位址。此應用裝置是以Linux為基礎、並已部署VMware Tools、因此您可以檢視它在vSphere用戶端中收到的DHCP位址。</block>
  <block id="d92e443c00989a23096c72b760af7de8" category="list-text">開啟網頁瀏覽器、然後從上一個步驟以IP位址連線至應用裝置。預設登入為admin/admin、第一次登入後、應用裝置會立即提示您變更管理密碼。然後返回一個畫面、您必須使用新的認證登入。</block>
  <block id="dbe135d0d5ae1eb2c137c81f0ce0bdfb" category="image-alt">Big IP組態</block>
  <block id="bdb0e3e1ff63b6d5f08545e207448035" category="list-text">第一個畫面會提示使用者完成設定公用程式。按一下「Next（下一步）」開始公用程式。</block>
  <block id="8523c09995ae3cfb4593cd6c4e09029f" category="list-text">下一個畫面會提示啟動應用裝置的授權。按一下「啟動」以開始。在下一頁出現提示時、請貼上您在註冊下載時收到的30天試用授權金鑰、或貼上您購買應用裝置時所取得的永久授權金鑰。按一下「下一步」</block>
  <block id="38d2bfb14ed98f122ce9d9b9cdb2a127" category="admonition">若要讓裝置執行啟動、管理介面上定義的網路必須能夠連線至網際網路。</block>
  <block id="6ba845d7cd0e966d0a2a21209623a5b4" category="list-text">下一個畫面會顯示終端使用者授權合約（EULA）。如果授權中的條款可接受、請按一下「Accept（接受）」。</block>
  <block id="c14be37e927625fe613c8c559de70df1" category="list-text">下一個畫面會在驗證到目前為止所做的組態變更時、計算經過的時間。按一下「Continue（繼續）」以繼續初始組態。</block>
  <block id="3c3d807fce3ffcb905b00324d2f7e2b9" category="list-text">Configuration Change（組態變更）視窗隨即關閉、Setup Utility（設定公用程式）會顯示Resource Provisioning（資源配置）功能表。此視窗列出目前已授權的功能、以及虛擬應用裝置和每個執行中服務的目前資源配置。</block>
  <block id="117c183bcbd703e6b0520f843e971c9b" category="list-text">按一下左側的「Platform（平台）」功能表選項、即可進一步修改平台。修改內容包括設定以DHCP設定的管理IP位址、設定主機名稱和裝置安裝所在的時區、以及確保應用裝置不受SSH存取。</block>
  <block id="fad130ca7ff2a3734a8b7547b3ebc404" category="list-text">接著按一下「網路」功能表、即可設定標準網路功能。按一下「下一步」開始「標準網路組態」精靈。</block>
  <block id="37f1b31abf7679b5f5e495d8796a48a7" category="admonition">此頁面中的「自我IP位址」、「網路遮罩」和「浮動IP位址」空格可以填入不可路由傳送的IP作為預留位置。如果您部署的是三個已配置的組態、也可以將內部網路設定為虛擬來賓的分散式連接埠群組。必須完成這些步驟才能繼續執行精靈。</block>
  <block id="c3966f18c8da763e8d9f315b3e44811e" category="list-text">在下一頁、如果您要在環境中部署多個虛擬應用裝置、則可以設定內部HA網路。若要繼續、您必須填入「自行IP位址」和「子網路遮罩」欄位、而且必須選取介面1.3作為VLAN介面、此介面對應至OVF範本精靈所定義的HA網路。</block>
  <block id="0d469ac29aab926968093104ad6265df" category="list-text">下一頁可讓您設定NTP伺服器。然後按「Next（下一步）」繼續DNS設定。DNS伺服器和網域搜尋清單應已由DHCP伺服器填入。按一下「Next（下一步）」接受預設值並繼續。</block>
  <block id="97a60c27b370d45c17075cff06f473a3" category="list-text">在精靈的其餘部分中、按一下「下一步」繼續執行進階對等設定、其組態超出本文件的範圍。然後按一下「Finish（完成）」結束精靈。</block>
  <block id="0953ce81fac634b21f33efe8dee24c28" category="list-text">為Anthos管理叢集和環境中部署的每個使用者叢集建立個別分割區。按一下左側功能表中的「System（系統）」、瀏覽至「Users（使用者）」、然後按一下「PartitionList（分割清單）</block>
  <block id="616e4c989df3c842830310568b54cee6" category="section-title">與Anthos整合</block>
  <block id="c0018d5f0e0d9decd39a8059cc2bc473" category="paragraph">本頁提供的範例包括NetApp的Anthos解決方案驗證與使用案例。</block>
  <block id="fdd1d4ba64f526087e6e49e35a884fbd" category="summary">本節專供實際使用者在將此解決方案部署至正式作業環境時可能需要執行的自訂作業、例如部署自訂負載平衡器執行個體。</block>
  <block id="90f687894749dad073416489141eb43f" category="list-text">NetApp Astra Trident文件</block>
  <block id="7cfc9495aac39bbaa5defc76b7f4e8db" category="list-text">VMware上的Anthos叢集文件</block>
  <block id="f5266df5a7db89637cf0d7391221b756" category="inline-link"><block ref="f5266df5a7db89637cf0d7391221b756" category="inline-link-rx"></block></block>
  <block id="1bdc624c553dda22bc7a529bda2dd06b" category="paragraph"><block ref="1bdc624c553dda22bc7a529bda2dd06b" category="inline-link-rx"></block></block>
  <block id="9ee8ef3c59727b8b17070caf87743214" category="list-text">Anthos on裸機文件</block>
  <block id="bc10096da41c680de98ecf3f1def7d17" category="inline-link"><block ref="bc10096da41c680de98ecf3f1def7d17" category="inline-link-rx"></block></block>
  <block id="d642746f7d7a37b7cb340d9a62d751a5" category="paragraph"><block ref="d642746f7d7a37b7cb340d9a62d751a5" category="inline-link-rx"></block></block>
  <block id="10a641cf7647f6970bad748b52bb253b" category="paragraph"><block ref="10a641cf7647f6970bad748b52bb253b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7f640668ae5a8fc28f807fe0d6b9128b" category="paragraph">如此一來、如果節點故障之後又發生磁碟區重新分佈、則登出後登入並重新導向至新位置後、主機連線能力將不會受到影響。利用iSCSI登入重新導向功能、NetApp Element 一套自我修復的橫向擴充架構、能夠不中斷升級與作業。</block>
  <block id="206188ac4e8ec83453b82a36311f1a25" category="paragraph">VMware上的Anthos叢集是Google Kubernetes Engine的延伸、部署於終端使用者的私有資料中心。組織可以在內部部署Kubernetes叢集的Google Cloud容器中部署相同的應用程式。VMware上的Anthos叢集可部署至資料中心內現有的VMware vSphere環境中、以節省資金支出、並能更快速地進行部署和擴充作業。</block>
  <block id="b107e7085d2931bbe4118d8c5eed9643" category="paragraph">在VMware上部署Anthos叢集包括下列元件：</block>
  <block id="d17685a3ddd89e969b430984ce944772" category="paragraph"><block ref="d17685a3ddd89e969b430984ce944772" category="inline-image-macro-rx" type="image"></block></block>
  <block id="348ed6380fe1c4753877d1f13d95d39a" category="paragraph">VMware上的Anthos叢集具有下列優點：</block>
  <block id="cf97925041bebbd35543bc4fc24fa499" category="list-text">*進階多租戶共享*每位終端使用者都能被指派自己的使用者叢集、並以自己開發環境所需的虛擬資源進行部署。</block>
  <block id="a6c34625dcf8367e84732b5219f81cb7" category="list-text">*開發然後發佈。*內部部署可在應用程式開發期間使用、以便在公開於雲端上使用之前、先在本機資料中心的隱私環境中測試應用程式。</block>
  <block id="4418ae814387892bd88d45091a182234" category="list-text">* vSphere High Availability。*為了避免主機故障時發生中斷、VMware vSphere允許將主機叢集化並設定為高可用度。由於主機故障而中斷的VM會在叢集中的其他主機上、於近期重新開機、以還原服務。</block>
  <block id="44da02789c784d2615f858b0e9007c1d" category="inline-link">NetApp FlexPod</block>
  <block id="08edd2123939d5309dced149763a50ee" category="inline-link">NetApp HCI</block>
  <block id="58d64ca3570be3edd23e4165a8c0d9ee" category="paragraph">下表包含NetApp與NetApp合作夥伴工程師已測試過的伺服器平台、用於驗證VMware部署上的Anthos叢集。這些解決方案包括<block ref="5ea2f6a45afb6a8f064f7631dd737389" category="inline-link-rx"></block> 搭配Cisco UCS伺服器和<block ref="3ff4d1b07fc6ed14e7fcf7636d0ad5aa" category="inline-link-rx"></block> 混合雲基礎架構平台。</block>
  <block id="bcb24d33d2a22de9b0c3e9f38becc496" category="cell">HCI</block>
  <block id="9f80c25863c6e1e85d8d5492b437cb64" category="cell">C410</block>
  <block id="696c660ff8d9323e55146a6dbd4e4088" category="section-title">作業系統</block>
  <block id="69da39b403ff0537d2282cb291d4397c" category="paragraph">VMware上的Anthos叢集可部署至客戶選擇的vSphere 6和7環境、以協助符合其目前的資料中心基礎架構。</block>
  <block id="23d300c91b3d48f94c1e7f5953ad3e5e" category="cell">7.0U3</block>
  <block id="89f7e5d7117ac9eb1ece116273f5f012" category="paragraph">為了完成以NetApp為完整驗證解決方案的Anthos部署、NetApp與合作夥伴工程師已測試網路與儲存設備的其他資料中心元件。</block>
  <block id="fe02a8fc8838381700e175498b8e1db0" category="cell">Mellanox</block>
  <block id="92666505ce75444ee14be2ebc2f10a60" category="cell">SN</block>
  <block id="d7a84628c025d30f7b2c52c958767e76" category="cell">2010年</block>
  <block id="bf07aaec06ff922b8a11ef624141bfdb" category="cell">S410</block>
  <block id="dd4a9a41d8672c9659041812469e1df2" category="paragraph">下表列出在驗證環境中部署的軟體版本。</block>
  <block id="da0d53141f6343167596fe8598964773" category="cell">軟體名稱</block>
  <block id="3c537b8d673e06e2107129b600143391" category="cell">4.1（3e）</block>
  <block id="f932bed2d12442d21507b51d22b88dd7" category="cell">1.8</block>
  <block id="c1770c414b5c19c253a48e36fa2da50f" category="paragraph">在NetApp執行的「Anthos就緒」平台驗證期間、實驗室環境是以下列圖表為基礎所建置、讓我們能夠測試多個部署的使用者叢集、以及多個NetApp儲存系統和儲存後端。</block>
  <block id="c1c59b2c25178eb5f3956ae189dc384b" category="paragraph"><block ref="c1c59b2c25178eb5f3956ae189dc384b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="13d18f8604b3585f7ab88b87766a8d38" category="paragraph">在部署Anthos之前、應先建立下列基礎架構：</block>
  <block id="92b7a761f185f74bf3bf9d2229c67a28" category="list-text">當叢集需要動態擴充時、可隨需提供網路位址租用的DHCP伺服器。</block>
  <block id="8256d4d5c73a64213343972bedd38f45" category="section-title">將Anthos部署到至少三個節點的ESXi叢集</block>
  <block id="150754dbd257c09eef8557a399e5ebc2" category="paragraph">啟用VM和主機關聯性、即可在多個Hypervisor節點之間分散Anthos叢集節點。</block>
  <block id="659aed3f7f249a658860ff0d51cdef11" category="paragraph">若要設定關聯群組、請參閱下方適用於您的VMware vSphere版本的適當連結。</block>
  <block id="bfe724d354657c9ac5cef22bd231f66f" category="inline-link">vSphere 7.0文件：使用DRS關聯性規則</block>
  <block id="10c2b11d36730909ac14bcf903f9c456" category="paragraph"><block ref="0817a5be4b4f4733045646ef5cffc66c" category="inline-link-rx"></block>。<block ref="211975e132e07e8f3a0d0d18ff3759e5" category="inline-link-rx"></block>。</block>
  <block id="a272bae97494286f198c532bb9579161" category="list-text">接著、將映像登錄TLS憑證上傳至OpenShift節點。若要這麼做、請使用TLS憑證在「openshift-config」命名空間中建立組態對應、並將其修補至叢集映像組態、使憑證成為信任的憑證。</block>
  <block id="306235ad6a87783a223e0ba03145dc12" category="doc">建立私有映像登錄</block>
  <block id="56a0195518edf56f84e2b789302cf485" category="paragraph">本程序說明如何建立私有映像登錄、並以由Astra Trident和NetApp ONTAP 供應的持續磁碟區作為後盾。</block>
  <block id="13bb7c6596c212587d7a35708de351f2" category="admonition">Astra Control Center需要登錄來裝載Astra容器所需的映像。下節說明在Red Hat OpenShift叢集上設定私有登錄的步驟、以及推送支援Astra Control Center安裝所需的映像。</block>
  <block id="83806e2d09a78bbe33b3e817a88df12b" category="list-text">如果您使用入口操作員OpenShift登錄路由的預設TLS憑證、可以使用下列命令擷取TLS憑證：</block>
  <block id="6714b6fa43a8d03bcbfeb657bd27788d" category="list-text">OpenShift內部登錄是由驗證控制。所有OpenShift使用者都能存取OpenShift登錄、但登入使用者可以執行的作業取決於使用者權限。</block>
  <block id="489c81c1a0ec76cf6ab9a12890120550" category="list-text">若要將IT修補為服務帳戶、請執行下列命令：</block>
  <block id="ec0c98e5e0be835a1df04b40b6c8e96c" category="list-text">若要從工作站推送或拉出OpenShift節點以外的映像、請完成下列步驟：</block>
  <block id="872c01365a01300e2a8a772cd65e51b1" category="summary">本頁詳述SEETAW負載平衡器的安裝與組態指示。</block>
  <block id="1ffbf83c6ff924ed568f0f88c922ac88" category="paragraph">本頁列出SEETAW託管負載平衡器的安裝與組態指示。</block>
  <block id="aa2bdb165616b7814c712fd55ecd1ce8" category="paragraph">以下文字是GKE管理叢集分割區組態的範例。需要取消註釋和修改的值會以粗體顯示於下方：</block>
  <block id="b7e1a8e2925f8cb0b4f88b8532edd6d7" category="admonition">此檔案提供負載平衡器提供給基礎叢集之網路的閘道和網路遮罩、以及部署以執行負載平衡器之虛擬機器的管理IP和主機名稱。</block>
  <block id="5137c3284aa2dc8893ef670919f28a5f" category="list-text">開始安裝之前、請先將Astra Control Center映像推送到映像登錄。您可以選擇使用Docker或Podman來執行此作業；本步驟提供這兩種方法的說明。</block>
  <block id="123a55fe7e6f2398763a03f409e2c1de" category="admonition">或者、您也可以建立服務帳戶、指派登錄編輯器和/或登錄檢視器角色（取決於您是否需要推入/拉取存取）、然後使用服務帳戶的權杖登入登錄。</block>
  <block id="a917b1e998a1fed8ddebd661c3ff12b3" category="list-text">建立Shell指令碼檔案、然後將下列內容貼入其中。</block>
  <block id="f2f27bc59d06be1e1f58b94160cf9949" category="admonition">如果您使用「kubeadmin」使用者登入私有登錄、請使用權杖而非密碼-「docker login-u ocp-user-p權杖astra-registry.apps.ocp-vmw.cie.netapp.com`」。</block>
  <block id="61dbdb9822ed0d400254915ff02a4ee9" category="admonition">或者、您也可以建立服務帳戶、指派登錄編輯器和/或登錄檢視器角色（取決於您是否需要推入/拉取存取）、然後使用服務帳戶的權杖登入登錄。</block>
  <block id="37a5c97f291196f8c672c75798a29beb" category="admonition">如果您使用OpenShift內部登錄搭配來自入口操作員的預設TLS憑證搭配路由、您仍需依照前一個步驟將憑證修補成路由主機名稱。若要從入口操作員擷取憑證、您可以使用命令「oc擷取機密/路由器- CA -金鑰=TLS.crt - n openshift-入口 操作員」。</block>
  <block id="08e6bc541e2517b4105b8ac0ccbfe0f3" category="list-text">使用認證資料建立秘密、以登入「NetApp-acc operator」命名空間中的映像登錄。</block>
  <block id="e1e6f0b52690f367570b6c16ddf92d98" category="list-text">選取「NetApp-acc operator」方塊、然後按一下「Install（安裝）」。</block>
  <block id="1c17ca035fc060e6a6c77e025e8f27a1" category="list-text">在「Install Operator（安裝操作員）」畫面上、接受所有預設參數、然後按一下「Install（安裝）」。</block>
  <block id="5fa86531d41ab8ca8bee80ba657a599d" category="list-text">操作員安裝成功後、請瀏覽至「View operator.</block>
  <block id="72c52a676e647d2aa400f12fe446f9f1" category="list-text">然後按一下操作員中Astra Control Center互動程序中的Create Instance（建立執行個體）。</block>
  <block id="500c99ec2ed1582312d17f1ea94ab5d0" category="list-text">填寫「Create適用的」表單欄位、然後按一下「Create」（建立）。</block>
  <block id="097026a522eed2b2c71f07efd97bcf31" category="list-text">輸入Astra Control Center的帳戶名稱和管理員詳細資料、例如名字、姓氏和電子郵件地址。</block>
  <block id="ad2acc92f46f11a5d2a5ace0c933a44c" category="list-text">在「Image登錄」中、輸入登錄的FQDN以及將映像推送到登錄時所提供的組織名稱（在此範例中為「astra-registry.apps.ocp-vmw.cie.netapp.com/netapp-astra`」）。</block>
  <block id="3e99f691e1f9756e43f68a0aa28e61e0" category="list-text">如果您使用需要驗證的登錄、請在「映像登錄」區段中輸入機密名稱。</block>
  <block id="f009662483a899fd0d4b99ff5f1912f3" category="list-text">設定Astra Control Center資源限制的擴充選項。</block>
  <block id="c8a326f53d0d33a113452a303c243987" category="summary">NetApp與Google Cloud已有多年的穩固關係、NetApp率先推出雲端資料服務給Google Cloud Cloud Volumes ONTAP 、其中包含了使用支援功能的支援功能、以及使用功能完善Cloud Volumes Service 的功能。接著、我們驗證NetApp HCI 了適用於內部部署的Google Cloud Anthos（以Hypervisor為基礎的混合式多雲端Kubernetes解決方案、部署在VMware vSphere上）的VMware平台、藉此擴大這種關係。NetApp接著通過了Anthos Ready的NetApp Astra Trident、ONTAP Dynamic及NFS傳輸協定資格、為容器提供動態持續儲存。</block>
  <block id="f989491ea62ea4778f84ec6b21a68adf" category="paragraph">NetApp與Google Cloud已有多年的穩固關係、NetApp率先推出雲端資料服務、適用於具備Cloud Volumes ONTAP 支援功能的Google Cloud with動動動動地和Cloud Volumes Service 支援功能的整個過程。接著、我們驗證NetApp HCI 了適用於內部部署的Google Cloud Anthos（以Hypervisor為基礎的混合式多雲端Kubernetes解決方案、部署在VMware vSphere上）的VMware平台、藉此擴大這種關係。NetApp接著通過了Anthos Ready的NetApp Astra Trident、ONTAP Dynamic及NFS傳輸協定資格、為容器提供動態持續儲存。</block>
  <block id="1349318f8c0f3a02420c7453ca5cda7d" category="paragraph">現在、Anthos可以直接安裝在客戶環境中的裸機伺服器上、這也為客戶增加了額外的選項、讓他們無需Hypervisor就能將Google Cloud延伸至其本機資料中心。此外、藉由運用NetApp ONTAP 的NetApp瑞斯特儲存作業系統和NetApp Astra Trident的功能、您可以整合容器的持續儲存設備、來擴充平台的功能。</block>
  <block id="2b9593caebc55ca069d98dcb7a3473c8" category="list-text">使用NetApp Astra Trident從NetApp ONTAP 供應及附加所要求的持續Volume。</block>
  <block id="c0724935c9b9fa3acfd0441317cac5e4" category="list-text">驗證持續磁碟區的分離與重新附加功能。</block>
  <block id="05053a6eeca3d00f1ffdaead4d65118f" category="list-text">驗證從節點上的其他Pod對持續磁碟區進行多重附加、唯讀存取。</block>
  <block id="d7b2cdc877c7db996d45c651b4e7834a" category="paragraph">本文件概述使用ONTAP 適用於Kubernetes的開放原始碼儲存協調程式NetApp Astra Trident、在裸機平台上使用Google Cloud的Anthos來設定及驗證NetApp支援的NetApp解決方案儲存平台、以部署及管理狀態化應用程式容器的持續儲存設備。</block>
  <block id="4ed7e16612fd7090efc8d89c68421b74" category="paragraph">執行NetApp 9.7軟體的NetApp AFF SireA300儲存系統ONTAP 已實際安裝並連線至與Anthos工作節點相同的Nexus 9k交換器配對。這些網路上行鏈路已彙總至介面群組（a0a）、並標記適當的資料網路VLAN、以便工作節點與儲存系統互動。儲存虛擬機器（SVM）是以支援NFS傳輸協定的資料LIF所建立、並專門用於Trident的儲存作業、為部署在裸機叢集上的Anthos中的容器提供持續儲存。NetApp Astra Trident 20.10提供這些持續性磁碟區、這是最新版的NetApp開放原始碼儲存設備協調工具、適用於Kubernetes。</block>
  <block id="6a5e993e443aa30456050e2589b6e1a7" category="paragraph">NetApp Astra Trident是開放原始碼且完全支援的儲存協調工具、適用於容器和Kubernetes配送、包括Google Cloud Anthos。它可搭配完整的NetApp儲存產品組合、包括NetApp ONTAP 的整套軟體。Trident完全符合CSI標準、可讓您從NetApp儲存系統進行資源配置與管理、而無需儲存管理員介入、進而加速DevOps工作流程。Trident是以營運者的形式部署、透過在NetApp儲存系統上建立及管理磁碟區、直接與Kubernetes API端點通訊、以持續磁碟區宣告（PVCS）的形式來處理容器的儲存要求。</block>
  <block id="eb3bc37ad07db70234f55e02bb4fa499" category="paragraph">如需NetApp Astra Trident的詳細資訊、請參閱<block ref="9f564c4a71f7ad715885fb9db4485dda" category="inline-link-rx"></block> 頁面。</block>
  <block id="3752e68cccc911651920465532b3d6b4" category="paragraph">Anthos在裸機上的硬體無關功能可讓您選擇專為使用案例最佳化的運算平台。因此、您的可以符合現有的基礎架構、並降低資本支出。</block>
  <block id="fb5205026c598f136a15ad6c49fc1826" category="paragraph">下表列出實作解決方案所需的最低儲存硬體元件數量、不過所使用的硬體機型可能會因客戶需求而異。</block>
  <block id="0e98dfa85df93b279e4fd456b30409cf" category="admonition">此多作業系統環境顯示與裸機解決方案上的Anthos支援作業系統版本之間的互通性。我們預期客戶會將部署的一或一部分作業系統標準化。</block>
  <block id="65ffe919dd9568cce4454508d8e543bd" category="paragraph">Anthos on裸機搭配NetApp提供健全的平台、可讓您自訂部署的基礎架構、有效執行以容器為基礎的工作負載。客戶可以使用自己選擇的伺服器基礎架構和支援的作業系統、甚至在現有基礎架構內部署解決方案。這些環境的強大功能與靈活度、透過整合NetApp ONTAP 功能和NetApp Astra Trident、有效地配置及管理容器的持續儲存設備、進而支援狀態化的應用程式工作負載。藉由將Google Cloud的潛力延伸至採用NetApp技術的資料中心、客戶就能實現完全受支援、高可用度、易於擴充且完全受管理的Kubernetes解決方案所帶來的效益、以利開發及生產應用程式工作負載。</block>
  <block id="96bef5489c133651bd324f8029d14586" category="paragraph"><block ref="96bef5489c133651bd324f8029d14586" category="inline-link-macro-rx"></block></block>
  <block id="8b682694b3e16be71600ae19c5a6e2fe" category="doc">運用NetApp Astra Control執行事後分析、並還原您的應用程式</block>
  <block id="7715f0efda43c06909ce1afad9f650b6" category="inline-link-macro">下一步：其他資訊：DevOps with NetApp Astra。</block>
  <block id="5d74a508c84dc62d2e7a448ba2c651fa" category="paragraph"><block ref="5d74a508c84dc62d2e7a448ba2c651fa" category="inline-link-macro-rx"></block></block>
  <block id="97e84aad4ef505e4cda6422dc1c95990" category="doc">其他資訊：DevOps with NetApp Astra</block>
  <block id="0221d1074d249c254f0679e761454a05" category="inline-link"><block ref="0221d1074d249c254f0679e761454a05" category="inline-link-rx"></block></block>
  <block id="40454fb96e27a719bd7a751c4ec47d16" category="paragraph"><block ref="40454fb96e27a719bd7a751c4ec47d16" category="inline-link-rx"></block></block>
  <block id="5eae6f5974c9d4195ebe0cf8b607647e" category="list-text">Ansible文件</block>
  <block id="015674032a5c43c779a74ee9e3dbfc94" category="inline-link"><block ref="015674032a5c43c779a74ee9e3dbfc94" category="inline-link-rx"></block></block>
  <block id="f13ae695d1de0b91201bca0cd4e87c69" category="paragraph"><block ref="f13ae695d1de0b91201bca0cd4e87c69" category="inline-link-rx"></block></block>
  <block id="f89c93af274397315016bac75d215351" category="inline-link"><block ref="f89c93af274397315016bac75d215351" category="inline-link-rx"></block></block>
  <block id="9e4287aba38224954e73e528ce96bb47" category="paragraph"><block ref="9e4287aba38224954e73e528ce96bb47" category="inline-link-rx"></block></block>
  <block id="7a42c46751036b34f81738e60f1b7e97" category="list-text">Rancher文件</block>
  <block id="6483799d4ba7ad61fe06633600d8824a" category="inline-link"><block ref="6483799d4ba7ad61fe06633600d8824a" category="inline-link-rx"></block></block>
  <block id="b8e7a2183995014079b38a90770a02ea" category="paragraph"><block ref="b8e7a2183995014079b38a90770a02ea" category="inline-link-rx"></block></block>
  <block id="d7c98030ea1f0ace5cb1fc0a5954a87c" category="list-text">Kubernetes文件</block>
  <block id="1c333560e2edbd1cefb05f127658b17f" category="doc">Astra Control Center提供CI/CD傳輸途徑中的資料保護功能</block>
  <block id="943b2a1ab5485e1a2db3098051987614" category="summary">使用FlexClone技術快速部署</block>
  <block id="065cb44483a670695f374bc25a1f01b4" category="doc">使用案例驗證：採用NetApp Astra的DevOps</block>
  <block id="438d983a4a02b97c1363407ba1bb3dbd" category="paragraph">下列使用案例已通過NetApp Astra DevOps驗證：</block>
  <block id="47d55e9f9b259c93da777f74a5e832ee" category="inline-link-macro">利用NetApp Astra Control將保護功能整合至CI/CD管路</block>
  <block id="86ebb4e5f51da406d6b6170528e02c8c" category="list-text"><block ref="86ebb4e5f51da406d6b6170528e02c8c" category="inline-link-macro-rx"></block></block>
  <block id="a9e51e0a4f30c204f900ee62c24b54e8" category="inline-link-macro">運用Astra Control來協助事後分析及還原應用程式</block>
  <block id="5ea6f0d962656bf6d901dedc10e9da49" category="list-text"><block ref="5ea6f0d962656bf6d901dedc10e9da49" category="inline-link-macro-rx"></block></block>
  <block id="6c9a3a62fc54ba1feccaee9df9c39f88" category="inline-link-macro">利用NetApp FlexClones加速軟體開發</block>
  <block id="001bc4e878f5da889174d53f10bc3a58" category="list-text"><block ref="001bc4e878f5da889174d53f10bc3a58" category="inline-link-macro-rx"></block></block>
  <block id="69955eeaaa4d02c4d90d3119741235a0" category="inline-link-macro">下一步：影片與示範：利用NetApp Astra實現DevOps。</block>
  <block id="d2ed0f238fb1fa6e7a14606baf24c2ab" category="paragraph"><block ref="d2ed0f238fb1fa6e7a14606baf24c2ab" category="inline-link-macro-rx"></block></block>
  <block id="d0f564d49f74b4698141e88cbce5ad41" category="summary">NetApp擁有數個符合Astra Trident與Astra Control資格的儲存平台、可為容器化應用程式提供資源、保護及管理資料、進而協助定義及最大化DevOps處理量。</block>
  <block id="b43c4021858544ebd3a492d082a7f349" category="doc">NetApp儲存系統總覽</block>
  <block id="e3775ded02e90946eb22f7f559238e62" category="list-text"><block ref="e3775ded02e90946eb22f7f559238e62" category="inline-link-macro-rx"></block></block>
  <block id="9111d84a5d538f39612bb42cb2a729aa" category="inline-link-macro">下一步：NetApp儲存整合概述。</block>
  <block id="1139e8039447d6c6f83fa4a35ea79999" category="paragraph"><block ref="1139e8039447d6c6f83fa4a35ea79999" category="inline-link-macro-rx"></block></block>
  <block id="70806b7246c09c2ec58c7947d781ebdf" category="doc">NetApp Astra Control總覽</block>
  <block id="3d4bc8fb320a39f7369e26aa8dd43ff9" category="paragraph">如需Astra Control Center的詳細安裝與作業指南、請參閱文件 <block ref="30c5ae998902105fcf03dc0b9654af4c" category="inline-link-macro-rx"></block>。</block>
  <block id="778aa9cc77239e29447d4ec0991d37ed" category="section-title">Astra控制中心自動化</block>
  <block id="1c3dabdc1df77100ef6e17757091285e" category="paragraph">Astra Control Center具備完整功能的REST API、可進行程式化存取。使用者可以使用任何程式設計語言或公用程式來與Astra Control REST API端點互動。若要深入瞭解此API、請參閱文件 <block ref="bb2ca4e10b1254bc49d4388c68f9edb7" category="inline-link-macro-rx"></block>。</block>
  <block id="5d9f4b40183d98a25c3ab751a2c22032" category="paragraph">如果您正在尋找現成的軟體開發工具套件、以便與Astra Control REST API互動、NetApp提供含有Astra Control Python SDK的工具套件、您可以下載 <block ref="ccffe56769527505ab07c82206690bfe" category="inline-link-macro-rx"></block>。</block>
  <block id="22082fb9e9a42ddec66d9e75b3a3e61f" category="paragraph">如果程式設計不適合您的情況、而且您想要使用組態管理工具、您可以複製並執行NetApp發佈的可執行教戰手冊 <block ref="8c91b346fb645d82eb54fe01a7c0cd36" category="inline-link-macro-rx"></block>。</block>
  <block id="d10e08b0a3edeee9dca36ed4d8843516" category="inline-link-macro">下一步：使用案例驗證：使用NetApp Astra實現DevOps</block>
  <block id="05caddd89629dc542b78549ec8132f7e" category="paragraph"><block ref="05caddd89629dc542b78549ec8132f7e" category="inline-link-macro-rx"></block></block>
  <block id="b75bc3343d170f8dd97d55a434b978ed" category="doc">使用Astra Control來協助事後分析及還原應用程式</block>
  <block id="3bbc946d425216e518cab3d8bcac2d2e" category="inline-link-macro">第一次使用案例</block>
  <block id="3693bda9c9f6c60fbcfaa68a3c84d1c0" category="paragraph">在中 <block ref="378d294ca149bdd5226353f2fb623f62" category="inline-link-macro-rx"></block>、我們示範如何使用NetApp Astra Control Center來保護Kubernetes中的應用程式。本節說明如何使用NetApp Astra工具套件中的Python SDK、透過Astra Control將應用程式備份直接整合至您的開發工作流程。此方法可在持續整合與持續部署（CI/CD）程序期間、將隨需備份自動化、藉此保護開發與正式作業環境。在CI/CD傳輸途徑和正式作業應用程式中加入這一層額外的應用程式一致資料保護功能、如果程序發生問題、開發程序就能安全無虞、進而促進良好的營運持續性實務做法。</block>
  <block id="93cf0eac312e112dec7819cf9726e08d" category="paragraph">在傳統的工作流程中、當應用程式升級至新版本時遇到故障之後、開發團隊會根據客戶提供的錯誤報告、嘗試即時疑難排解問題。或者、在第一次發生問題時、團隊可能會嘗試將應用程式重新部署到平行的偵錯環境、使該程序離線。他們可以將舊版程式碼庫從舊版重新部署至正式作業環境、以便將應用程式還原至正常運作狀態。</block>
  <block id="63cbc205a471137f16d61f24cd16531d" category="image-alt">傳統工作流程</block>
  <block id="cd78d769508976f182829ab0d59eb537" category="paragraph">雖然此方法可行、但團隊必須確保中斷的正式作業應用程式狀態與發生問題時在正式作業環境中看到的版本相符。他們也必須花時間將已知良好的建置作業提升至正式作業環境、方法是從儲存庫擷取程式碼、然後重新部署機器映像、將應用程式還原至良好的執行狀態。此外、在此案例中、我們並未考慮正式作業資料庫本身是否因為錯誤的程式碼而毀損。理想情況下、資料庫資料有個別的備份程序、但我們必須假設它們與應用程式發佈時的狀態一致嗎？使用Astra Control進行狀態化和應用程式一致的備份、還原和複製、在這種情況下、真正展現出其價值。</block>
  <block id="8b8ad5ef011a096e139bfa3245f80536" category="paragraph">首先、我們可以使用Astra Control來協助驗證後分析應用程式狀態。我們會以應用程式一致的方式、將正式作業版本複製到平行測試環境、以達成此目標。將此環境保留在錯誤狀態下、讓我們能夠即時疑難排解問題。</block>
  <block id="f94a2c6cdc2965b0f258d8215d1d28e0" category="paragraph">此外、Astra Control還支援就地還原功能、可讓我們將正式作業應用程式還原至上次可接受的備份（在受影響的程式碼版本之前）。還原的版本會以應用程式一致且有狀態的方式（包括先前指派的入口IP）、假設先前的錯誤正式作業應用程式位置。因此、存取前端的客戶將不會察覺到移轉到備份版本。</block>
  <block id="1b0d7d8dcdf6d93ab2d330cc2396dfbc" category="image-alt">驗證後工作流程</block>
  <block id="204890df83c01d375e4f4b6a724cc278" category="section-title">使用案例驗證先決條件</block>
  <block id="93323e0f22b5aab17967ba48325ffbfa" category="paragraph">下列工具或平台已部署並設定為先決條件：</block>
  <block id="f4f24690df38094196eebb86cb8ae057" category="list-text">Red Hat OpenShift Container Platform。</block>
  <block id="727324215fe79d6ac06ad699c15bc8b6" category="list-text">NetApp Astra Trident安裝在OpenShift上、後端設定為NetApp ONTAP 的整套系統。</block>
  <block id="229afb3c2926b78c5616a952d849e68c" category="list-text">預設已設定的儲存設備、指向NetApp ONTAP 的後端。</block>
  <block id="ba5452097a4c1be15b1efd3a6b26349f" category="list-text">NetApp Astra Control Center安裝在OpenShift叢集上。</block>
  <block id="81c0c009a723f32f259a76657c0df955" category="list-text">OpenShift叢集已新增為Astra Control Center的受管理叢集。</block>
  <block id="6500a898faeb0dbf12368cd5d4c62b66" category="list-text">Jenkins安裝在OpenShift叢集上。</block>
  <block id="76046924ab57dbfe48ac94a0d7cd184f" category="list-text">安裝在正式作業環境中的Magento應用程式。此使用案例中的正式作業環境是Red Hat OpenShift叢集中稱為「magento prod」的命名空間。</block>
  <block id="7e5531e0bbdbf2a1b4736169f5261238" category="list-text">由Astra Control Center管理的正式作業應用程式。</block>
  <block id="be3750e953403822ff53f62de7d378c9" category="list-text">使用Astra Control擷取的正式作業應用程式已知良好的備份。</block>
  <block id="a571d6a950aa43dc09919def5e2f001a" category="section-title">複製與還原管線</block>
  <block id="c04ae281a30f44b5bfe0091b23da26f7" category="paragraph">考慮到應用程式已升級至新版本、正式作業環境中的應用程式（「magento prod」）在升級後並未如預期運作。假設由前端查詢傳回的資料與要求不符、或是資料庫已毀損。若要複製及還原管線、請完成下列步驟：</block>
  <block id="8c2af21e6b34f2b1071040d4d1cfcb1c" category="image-alt">失敗的應用程式</block>
  <block id="6b1006b72a3e1550c386243b3965f2dc" category="list-text">登入Jenkins並按一下「New item（新項目）」、然後按一下「Pipeline（管道）」、建立管道。</block>
  <block id="42c6ce7c0a0da42cf240660b7916b661" category="list-text">從Jenkinsfile複製管路<block ref="8676dd4f33dff00c4bf2944921591642" category="inline-link-rx"></block>。</block>
  <block id="64b46adfefce359622cb0f4882c6c1bd" category="list-text">將管線貼到Jenkins Pipeline區段、然後按一下「Save（儲存）」。</block>
  <block id="68d9707b516a968ed4c0757cbe9d5a9f" category="list-text">在Jenkins管線的參數中填入相關的詳細資料、例如目前正式作業的Magento應用程式版本、Astra Control Center FQDN、API權杖、正式作業與偵錯環境的執行個體ID和應用程式名稱或命名空間、以及來源與目的地叢集名稱。就本使用案例而言、正式作業環境是稱為「magent-prod」的命名空間、而偵錯環境則是在Red Hat OpenShift叢集上設定的命名空間、稱為「magento除錯」。</block>
  <block id="0aada8c0ec6d36d56210caa3cac9e025" category="list-text">按一下「立即建置」。管道會開始執行、並逐步完成各個步驟。應用程式會先在目前狀態下複製到偵錯環境、然後將應用程式還原至已知可運作的備份。</block>
  <block id="4413dc875e85526bf92964b740f23064" category="image-alt">驗證後處理管道</block>
  <block id="4abbf0b75dc539f2afebf5014fbe6ea8" category="list-text">驗證複製的應用程式是否為內含錯誤的版本。</block>
  <block id="cbcf57aecdb6a6d216d8239a690bc2f6" category="image-alt">複製的應用程式失敗</block>
  <block id="e73e23a9c5f896c3c98ea35a77116dfe" category="list-text">確認正式作業環境已還原為正常運作的備份、而且正式作業中的應用程式也能正常運作。</block>
  <block id="b24fb6cbfbfd8a2620eab1cb8f9d1563" category="image-alt">還原的Prod應用程式</block>
  <block id="cbd612409ffde58db700aacbf7ea15ca" category="paragraph">這兩項作業會同時加速恢復正常業務營運。若要查看實際使用案例、請觀看影片 <block ref="f5eb99e953852b5d0acfc08abd7c4f00" category="inline-link-macro-rx"></block>。</block>
  <block id="847338f2bbcf0d01da4eec4011f6ad14" category="summary">本技術報告概述NetApp如何在使用容器化應用程式時、讓DevOps使用案例在多個方面變得簡單又有效率。首先、我們會利用Astra產品組合、詳述NetApp儲存系統及其與Kubernetes平台的整合。最後、我們會探索並記錄許多解決方案驗證和實際使用案例。</block>
  <block id="322f410c2f08f93c29982d4bf9cabcc0" category="doc">TR-4919：採用NetApp Astra的DevOps</block>
  <block id="ede7528f12f050f41a167a0f19204ecb" category="paragraph">採用NetApp Astra解決方案的DevOps旨在為下列使用案例的客戶提供卓越價值：</block>
  <block id="2dcb73ff09329212051362094e88c1a7" category="list-text">在支援的Kubernetes發佈版本上、輕鬆部署及管理應用程式與開發環境。</block>
  <block id="c267f4560fe6c3f4bee2d0420cdd7977" category="list-text">討論DevOps工作流程的實際使用案例、以及NetApp可提供的工具與方法範例、協助您更輕鬆地採用及使用這些方法。</block>
  <block id="52d3258544cd838f0c52461847e6943b" category="list-text">探索如何使用應用程式一致的快照、備份和複製來增強DevOps體驗。</block>
  <block id="6071498e95e7692ffc4f3f66e80e1fe2" category="list-text">堆疊中所有層級的高可用度、讓工作流程永遠不會中斷。</block>
  <block id="0fd2f931dbf65015445450e54266b6dd" category="list-text">簡易的終端使用者部署與管理程序。</block>
  <block id="683aa4d78ced60b9236f9cc2f4eaf1eb" category="list-text">API導向且可程式化的基礎架構、可跟上微服務和開發人員敏捷度的腳步。</block>
  <block id="440bd390f196ecee0d5c1bbc242f74c1" category="list-text">能夠根據工作負載需求、以自動化方式獨立擴充基礎架構。</block>
  <block id="e1151e572983d1f8759759f2765ccd80" category="list-text">保護應用程式及其持續備份的DevOps工作流程資料集、無需仰賴重新部署或手動複製資料、可加速上市時間。</block>
  <block id="556e90029d54aba834e233882cb7bdb5" category="paragraph">本技術報告瞭解這些功能與挑戰、概述使用各種NetApp產品組合來改善及簡化容器化應用程式的DevOps使用案例流程。</block>
  <block id="3c4a3a2e21fd3a1caee264afd78ccaa4" category="paragraph">DevOps with NetApp解決方案包含下列主要元件：</block>
  <block id="26ebb4a3d87e964eeae59f74f1cf7565" category="section-title">DevOps實務</block>
  <block id="d113ef32a81ded7eb94b33e9a12344d3" category="paragraph">DevOps實務著重於自動化、可重複執行且易於管理的作業、讓終端使用者能夠控制開發程式碼的環境、進而強化開發工作流程。本解決方案提供幾個範例和使用案例、其中NetApp技術可為這類作業帶來最大效益。</block>
  <block id="301a5e3f98e4b9ad41275bc224cd61ec" category="paragraph">目前有許多容器協調平台正在使用中。雖然這些平台大多是以Kubernetes為基礎、但每個平台都有優缺點。因此、在選擇適用於DevOps工作流程的容器協調平台時、務必瞭解功能集與整合。有了NetApp Astra產品套件、我們就能支援下列平台、滿足正式的DevOps使用案例：</block>
  <block id="6c00bd8314a0e887501377d7e80e84a0" category="list-text"><block ref="41493d18eda2456ccaff840381cd2ba9" category="inline-link-rx"></block> 4.6.8+</block>
  <block id="82033d4b30c6027097326898ed36b593" category="inline-link">Rancher</block>
  <block id="30fad75d887172c8bd19dcc5febd9364" category="list-text"><block ref="f47c99eede6f9eae831133d1e9b5034b" category="inline-link-rx"></block> 2.5以上</block>
  <block id="22bd2466d697a7c77e319d9a31c2166f" category="list-text"><block ref="fe8d70118059c4a67994e27a008bb3e0" category="inline-link-rx"></block> 1.20以上</block>
  <block id="a56837df79ae6671b6b511c330431135" category="inline-link">VMware Tanzu Kubernetes Grid</block>
  <block id="b2bc0f20995d2c98d2f854eb51c195c7" category="list-text"><block ref="3f98585591c50cc93953cd157cf0939c" category="inline-link-rx"></block> 1.4以上</block>
  <block id="a1c1bb4994628000cfe61563bf4ff4f5" category="inline-link">VMware Tanzu Kubernetes Grid整合版</block>
  <block id="a75ee0eed3c5f01371e94695f023b820" category="list-text"><block ref="948fe538658bc79d22a37c7852e43c83" category="inline-link-rx"></block> 1.12.2+</block>
  <block id="fba78f40ce7eabf1a8bf79ee5c44bd8e" category="inline-link-macro">下一步：DevOps總覽。</block>
  <block id="a9d268e4b26cd47b2d7a0aa5a816a1c8" category="paragraph"><block ref="a9d268e4b26cd47b2d7a0aa5a816a1c8" category="inline-link-macro-rx"></block></block>
  <block id="44a18520ed05f9b0b2e06135a4ff7518" category="summary">本技術報告概述DevOps與潛在使用案例。</block>
  <block id="74b9fd8d0b2ef1c2b396580a2afd59ae" category="doc">DevOps總覽</block>
  <block id="d5df4eecbaafa5d83d7698ba92c7cecd" category="paragraph">過去幾年來、建置軟體的組織一直都在擁抱DevOps的概念。DevOps實務打破組織障礙、讓開發與營運團隊更緊密地合作。DevOps實務也讓團隊能夠加速交付、提高可用度、並使服務與應用程式更穩定、進而提升團隊的生產力。此外、採用自動化架構也是成功的關鍵要素、無論是大規模建置、測試及操作應用程式、或是管理全自動化的基礎架構平台或堆疊。以下我們將討論DevOps的一些主要使用案例、其中NetApp解決方案可實作以協助改善DevOps實務人員在日常實務中所遇到的體驗。</block>
  <block id="e7ccc944261680ee4a52d724dd1ca1c5" category="section-title">DevOps使用案例</block>
  <block id="e4fd3fc8a04e3e1d2e788cd1b017e1f2" category="paragraph">雖然DevOps並沒有單一且普遍接受的定義、但DevOps工作人員的解決方案通常包含類似的架構或思想、可輕鬆進行大規模實作、重複及管理。以下各節說明NetApp解決方案所支援的DevOps工作流程可能使用案例。</block>
  <block id="020a9588f0f051f7f9ff59fabaffa365" category="section-title">持續整合、持續交付及持續部署（CI/CD）</block>
  <block id="b1a2676c9ceea5e6ef4c514562097e9a" category="paragraph">持續整合、持續交付及持續部署（CI/CD）是一種編碼理念、可建立方法、讓開發人員以自動化方式持續更新、測試及部署程式碼、藉此鼓勵開發人員實作及轉型編碼實務。在大多數DevOps工作流程中實作CI/CD最受歡迎的方法是CI/CD傳輸途徑、也有幾個協力廠商軟體應用程式可協助達成此目標。</block>
  <block id="3ff91355eb24188940a49b15da87cb74" category="image-alt">CI/CD映像</block>
  <block id="64d92cb8c4c053363095cf796a7b89ba" category="paragraph">請參閱下列可協助CI/CD型工作流程的熱門應用程式範例：</block>
  <block id="418f66e40d28aac0fa315742070e645f" category="inline-link">阿爾古CD</block>
  <block id="2e54334c0a5ce2e3e5a5845df3ab3ada" category="inline-link">Jenkins</block>
  <block id="e1500a23f27fb897c6cdf5caab04195d" category="inline-link">特克頓</block>
  <block id="4d094d290ed5b2a855427290709addea" category="paragraph"><block ref="ff7d5093e53bbd8006cbcaaeb044f69a" category="inline-link-rx"></block>
<block ref="0d8e72f4ae085bb6c45eba7c3f144090" category="inline-link-rx"></block>
<block ref="313a601d85cff2a8e7d85ce0f552cc73" category="inline-link-rx"></block></block>
  <block id="2c14caaf080b9d4ff53b1e0d7364a348" category="paragraph">本技術報告稍後所述的一些使用案例已在Jenkins中證實、但主要的CI/CD原則可套用至組織在其本身實務中實作的任何工具。</block>
  <block id="af41549605744cf23f27cbc14458bf82" category="section-title">基礎架構即程式碼</block>
  <block id="3e9f73de1e8a89473ea5df8ed9ad7651" category="paragraph">基礎架構即程式碼可透過自動化命令、API及軟體開發套件（SDK）來協助資源的配置與管理。此概念可消除實體資料中心或資源限制、避免開發人員達成目標、大幅提升DevOps體驗。</block>
  <block id="9b2cf15c50955773c7604b77322b057e" category="image-alt">基礎架構即程式碼映像</block>
  <block id="a7f5f35426b927411fc9231b56382173" category="inline-link">Python</block>
  <block id="d51d5ee15f404c2f4f7863bebcde1fac" category="inline-link">Ansible</block>
  <block id="14590850b4107a6f92feb1af739b82eb" category="inline-link">Puppet</block>
  <block id="10feac82bf81358ba2b3681989464290" category="paragraph">終端使用者通常會使用程式設計語言、例如<block ref="11022d613ff738bd6763caad4acd7f7e" category="inline-link-rx"></block> 或自動化工具、例如<block ref="9790ec336069075a6bee003fe52e73bb" category="inline-link-rx"></block> 或<block ref="82158671408fe4876cefcfa78b9fd777" category="inline-link-rx"></block> 建立自動化且可重複執行的基礎架構擴充行動、開發人員可視需要進行呼叫。</block>
  <block id="25d4b1e166882d63d2b4f8c8919a7513" category="paragraph">NetApp ONTAP 的支援功能和Astra Control均包含面向公衆的API和Ansible模組、或是軟體開發工具套件、可讓自動化作業變得非常容易導入及整合至DevOps程序。</block>
  <block id="137a72e2db1a693e6a6d286f154ddc67" category="inline-link-macro">下一步：NetApp儲存系統總覽。</block>
  <block id="436a9385e01c8134ffa76de0039b69e9" category="paragraph"><block ref="436a9385e01c8134ffa76de0039b69e9" category="inline-link-macro-rx"></block></block>
  <block id="72a943bda30daac28d5a7097897df424" category="summary">NetApp提供多種產品、協助客戶協調及管理以Container為基礎的環境中的持續資料。</block>
  <block id="d9ac8f9dec3643254ee6240ba67244f5" category="list-text"><block ref="d9ac8f9dec3643254ee6240ba67244f5" category="inline-link-macro-rx"></block></block>
  <block id="dd2387c2fbbd7ec35d40da2a116c5349" category="list-text"><block ref="dd2387c2fbbd7ec35d40da2a116c5349" category="inline-link-macro-rx"></block></block>
  <block id="0218e43406cb3e0a01af575972d39479" category="inline-link-macro">下一步：使用案例驗證：使用NetApp Astra實現DevOps。</block>
  <block id="138b9ec9c8120fa5dbf98537df5269d4" category="paragraph"><block ref="138b9ec9c8120fa5dbf98537df5269d4" category="inline-link-macro-rx"></block></block>
  <block id="ae5d1fe148e47e375a2109cb3f29045a" category="paragraph">請參閱文件 <block ref="a57add0d538360cd0adbee43a89f028d" category="inline-link-macro-rx"></block> 安裝及使用Astra Trident。</block>
  <block id="dc51ad14ee45a258aa1e6606251cf967" category="doc">影片與示範：利用NetApp Astra實現DevOps</block>
  <block id="cd70acb1d118792e37e49b5dc15142ad" category="paragraph">下列影片示範本文件所述的部分功能：</block>
  <block id="47a3fe612643a48831699e345fc50086" category="inline-link-macro">影片：將資料保護整合至CI/CD傳輸途徑與Astra Control</block>
  <block id="b137de00495bfd71913e4fe2ecc2fbb5" category="list-text"><block ref="b137de00495bfd71913e4fe2ecc2fbb5" category="inline-link-macro-rx"></block></block>
  <block id="11a855b91bda336c24ae0014cf0b01aa" category="list-text"><block ref="11a855b91bda336c24ae0014cf0b01aa" category="inline-link-macro-rx"></block></block>
  <block id="760ebcab0161b35f2cbcee21a65a788a" category="list-text"><block ref="760ebcab0161b35f2cbcee21a65a788a" category="inline-link-macro-rx"></block></block>
  <block id="c6b924f851b08c850fe2e53f34ada256" category="doc">利用NetApp FlexClone技術加速軟體開發</block>
  <block id="e071982902994eb194aeef35d4e7d131" category="paragraph">在Kubernetes叢集中複製已部署的應用程式、對於想要與合作夥伴共享環境、或在開發環境中測試新版本程式碼、而不干擾目前所使用版本的開發人員來說、是非常實用的工具。Kubernetes應用程式的狀態化及應用程式一致的複製、是NetApp Astra Control隨附的主要功能、以及應用程式的備份與還原。此外、如果應用程式是使用相同的儲存後端、在同一個Kubernetes叢集內複製、則Astra Control預設使用NetApp FlexClone技術來複製持續資料磁碟區、因此可大幅加速程序。藉由加速此程序、複製的環境會在幾分鐘內完成配置並可供使用、相較於重新部署測試或開發環境、開發人員只需稍作暫停即可恢復工作。此外、NetApp Astra Control提供的所有功能都可透過API來呼叫、以便輕鬆整合至Ansible等自動化架構。因此、環境可以更快速地分段、因為只需要在方針或角色中做些細微的變更、就能開始複製程序。</block>
  <block id="130a289acaa6c63f08a152e232264781" category="section-title">什麼是NetApp FlexClone技術？</block>
  <block id="de7fc3e1378f3d66008013e37abfc654" category="paragraph">NetApp FlexClone技術是可寫入的時間點Snapshot型NetApp FlexVol 產品複本。這些資源幾乎會立即配置、包含來源磁碟區的所有資料、而且在新磁碟區中的資料開始從來源轉移之前、不會佔用額外的儲存空間。當多個資料複本可用於接移目的、而儲存系統的資源有限、無法配置這些磁碟區時、通常會在開發或範本型環境中使用這些資料複本。相較於必須多次複製資料以節省大量儲存空間與時間的傳統儲存系統、NetApp FlexClone技術可加速儲存相關工作。</block>
  <block id="66b43b8d36a821005edbb505f73e703f" category="image-alt">FlexClone映像</block>
  <block id="b9ca5ba97cf75d3dafb51f78e073770a" category="inline-link">NetApp文件</block>
  <block id="b9c059adc88329f807d19beff36c402c" category="paragraph">若要深入瞭解NetApp FlexClone技術、請造訪網頁：<block ref="26a4454b15f9e59c91953aae4d5cca61" category="inline-link-rx"></block>。</block>
  <block id="c2bdd689dbc313e32552cbc9e519673e" category="list-text">支援的Kubernetes Distribution、例如Red Hat OpenShift 4.6.8+、Rancher 2.5+或Kubernetes 1.19+。</block>
  <block id="17909bff47021a48534aa137533988cb" category="list-text">NetApp Astra Control Center 21：12+。</block>
  <block id="f6e864ce20ae64f2d8e8d9788960ddcb" category="list-text">NetApp ONTAP 的NetApp功能系統、其儲存後端是透過NetApp Astra Trident設定的。</block>
  <block id="02de8f49568cea93a498f8b7b321a4e4" category="list-text">Ansible 2.9+。</block>
  <block id="0f466e306fc4825f1141ddc130ca599a" category="list-text">您想要在NetApp Astra Control中複製為託管應用程式的環境範本。</block>
  <block id="3e36385ca501623e48219eaf55547185" category="section-title">使用案例簡介</block>
  <block id="c7af167d0f4082e772505e76bb547621" category="paragraph">在此使用案例中、我們會將類似下列工作流程的內容視覺化：</block>
  <block id="fc1fa3a113fd483da9a2a706cef62740" category="image-alt">工作流程映像</block>
  <block id="3056a7af3144c13993f45fa84e78699e" category="list-text">使用者執行Ansible教戰手冊、以建立新的接移環境。</block>
  <block id="c48538a3317fc98bc2fa8cf73553ca0b" category="list-text">Ansible使用URI-API模組呼叫Astra Control來執行複製作業。</block>
  <block id="af27beb3ef227700c87619b941ef922d" category="list-text">Astra Control會在預先配置的範本環境中執行複製作業、進而建立新的託管應用程式。</block>
  <block id="afec891492c1e0c4d92776aa8fbb7a37" category="admonition">此環境可以是開發中的單一獨立應用程式、也可以是Jenkins CI/CD管道等整個開發環境。</block>
  <block id="b120622a84d96b41ece4bf14a2afc42c" category="list-text">然後、使用者會從Gitea等線上儲存庫、將其程式碼版本擷取到複製的開發環境中。</block>
  <block id="58b9c8dff15389cfc89079bed15b0353" category="list-text">新版應用程式由NetApp Astra Control部署及管理。</block>
  <block id="512473ae00b91f234459da9d54a73d63" category="admonition">這兩種程序都可以自動化。</block>
  <block id="45469e0108aa4b426d8e379bf3e01032" category="list-text">使用者可在此複製環境中開發新程式碼。</block>
  <block id="290324e3d59e2f7053c0f9e9e6e0efa3" category="list-text">當使用者對開發工作感到滿意時、他們可以將程式碼推回託管儲存庫。</block>
  <block id="30d4a5dfd238538be60a29a62c199938" category="paragraph">此處提供的使用案例取決於您想要複製的特定環境或應用程式是否有黃金範本。在我們的環境中、我們建立了三個範本、一個用於WordPress部署、一個用於Magento部署、另一個用於Jenkins CI/CD環境、以及我們標題為DevTools的Gitea。</block>
  <block id="c30f4e03a21fface6aa43659a4078d71" category="image-alt">範本映像</block>
  <block id="1107495525479f3871a68bae36a3f17b" category="paragraph">每個環境都由NetApp Astra控制管理、其中持續的Volume目前儲存在NetApp ONTAP 的NetApp解決方案儲存系統上、並採用NetApp Astra Trident提供的NFS後端。</block>
  <block id="2ba3749d66f6540154024e19b4d99cc9" category="section-title">使用案例驗證</block>
  <block id="7a73c2eecaec86daa9aee3eff521b699" category="list-text">複製NetApp解決方案工程團隊提供的Ansible工具組、其中包括複製角色和應用程式更新方針。</block>
  <block id="6264ab91acf969dcae78c1602bca2059" category="list-text">編輯「vars/clone _vars.ml」、並填入符合Astra Control環境的全域值。</block>
  <block id="240e34a15ccbba0aea72efc21aaab86d" category="admonition">您需要填寫的全域環境值可在「API存取」功能表下的NetApp Astra Control中的使用者設定檔圖示下找到。</block>
  <block id="f35821a1d6caaf6d90163620f4ea7458" category="image-alt">API存取映像</block>
  <block id="25037aa69bc75f53a1077e99016fcb35" category="list-text">完成全域變數之後、您可以選擇要複製的特定應用程式值。若要將devtoolS環境複製到名為「Alan devtools/」的個人環境、您可以執行下列動作：</block>
  <block id="3c88bcd7ff9904c39c203d75df0f43aa" category="admonition">若要在複製程序中善用NetApp FlexClone技術、「shrc叢集」和「最大叢集」必須相同。</block>
  <block id="7701b76fd4e9f02523bba989b59e089f" category="list-text">您現在可以執行方針來複製應用程式。</block>
  <block id="b843fd904e687b09c9fea5652dd26835" category="admonition">撰寫的方針書必須由root使用者執行、或是由能夠透過Sudo程序傳遞「-K」引數而向上呈報的人執行。</block>
  <block id="47261a281b6d461c0e208fcdd564b6ef" category="list-text">當實戰手冊完成執行時、複製的應用程式會顯示為Astra Control Center主控台可用的應用程式。</block>
  <block id="4ebfaaa8ab1aa4f1a8e1f0e4c080a066" category="image-alt">複製的應用程式映像</block>
  <block id="d7d808da7950a8d4bece269105013664" category="list-text">然後使用者可以登入部署應用程式的Kubernetes環境、驗證應用程式是否有新的IP位址公開、然後開始開發工作。</block>
  <block id="ba87075b7677acd5c3798c45d5899095" category="paragraph">如需此使用案例的示範、以及升級應用程式的範例、請參閱 <block ref="c3446aeb84c085acd211fbde68c1be91" category="inline-link-macro-rx"></block>。</block>
  <block id="a7f77f303480f7b7143a247c228eaebb" category="doc">利用Astra Control和NetApp FlexClone技術加速軟體開發</block>
  <block id="2f1df67ff878abb3db18e3010bcc2920" category="paragraph">DevOps工作流程最常見的用途之一是持續整合與持續部署（CI/CD）管線、可在開發人員提交新程式碼時、在應用程式上建置、整合及執行自動化測試套件。DevOps工程師與站台可靠性工程師（SRE）通常擁有專為開發新功能、回歸測試、錯誤修復、品質工程及開發流程中其他功能所設計的各種工作流程管道。</block>
  <block id="1413f73ce604910297e839d41a24e9f9" category="paragraph">隨著團隊提高自動化程度、實際執行中應用程式的變更速度可能會令人感到難以抗拒。因此、有些團隊偏好保護正式作業中的應用程式或服務。除了保護程式碼和容器映像之外、他們也想要保護應用程式狀態、組態資料（例如Kubernetes物件和與應用程式相關的資源）、以及應用程式的持續資料。</block>
  <block id="8322f060ae0335cf0232ac3b55da6556" category="paragraph">在此使用案例中、我們將深入探討一條促銷到正式作業的傳輸途徑、這條途徑會部署新版本的應用程式：先進入接移環境、然後進入正式作業環境。此範例同樣適用於主要公有雲、也適用於內部部署環境。雖然我們展示了某個應用程式版本的部署、但管道也可搭配其他策略使用、例如藍色/綠色或金卡部署。在CI/CD管道中、我們將建立完整的應用程式備份來保護應用程式。對正式作業應用程式及其資料、狀態和組態的應用程式感知備份、對於許多DevOps工作流程而言、都很實用。</block>
  <block id="13c258a59936aa47a4215b1c02921c7d" category="image-alt">採用NetApp Astra使用案例1架構的DevOps</block>
  <block id="fcd7f001e9274fdefb14bff91c799306" category="inline-link">Magento</block>
  <block id="0e8625d3981b9d26e0866da357d318c8" category="inline-link">NetApp Astra Control Python SDK</block>
  <block id="e5c0235557a0821c530e70a6ac76e817" category="paragraph">用於驗證此使用案例的應用程式為<block ref="ca8bdc27f15f815590190c112abb55a0" category="inline-link-rx"></block>這是一種電子商務解決方案、具備網路型前端、搜尋與分析功能的Elasticsearch執行個體、以及追蹤所有購物庫存與交易詳細資料的MariaDB資料庫。此容器化應用程式安裝於Red Hat OpenShift叢集。應用程式中的每個Pod都使用持續磁碟區來儲存資料。NetApp Astra Trident會自動建立持續性磁碟區、這是Container Storage Interface相容的Kubernetes儲存協調程式、可在NetApp儲存系統上配置儲存設備。此外、為了利用Astra Control Center的應用程式保護功能、相關應用程式是由Astra Control管理、Astra Control隨後用於觸發應用程式備份、以儲存應用程式狀態及持續磁碟區中的資料。我們使用<block ref="d0b4b6e44937c3a38c218d58868f48cf" category="inline-link-rx"></block> 將觸發應用程式備份的程序自動化、然後將其導入CI/CD傳輸途徑。此管道是使用稱為的熱門CI/CD工具來建立和執行 <block ref="2362760839a75356cff2ce591e8175c5" category="inline-link-rx"></block>]將建置、保護及部署應用程式的流程自動化。</block>
  <block id="be6d35c56a8d9c9eda054648f5aaf778" category="paragraph">讓我們來執行先決條件和程序、以便在CI/CD管道中引進保護措施。</block>
  <block id="019b3399490601533f0c22df26617506" category="list-text">NetApp Astra Trident安裝在OpenShift上、ONTAP 並已設定後端至NetApp的整套系統</block>
  <block id="32714d2e851023befd52d2dafcb3df12" category="list-text">預設已設定的儲存設備、指向NetApp ONTAP 的後端</block>
  <block id="4feccdee8cd5d15c137a63228c1e8035" category="list-text">NetApp Astra Control Center安裝在OpenShift叢集上</block>
  <block id="89a7002b85e3c07334367a744cb41016" category="list-text">OpenShift叢集已新增為Astra Control Center的受管理叢集</block>
  <block id="f485827022df06c2991a88b97eeb4e48" category="list-text">Jenkins安裝在OpenShift叢集上、並設定了安裝Docker引擎的代理程式節點</block>
  <block id="e6b72ced375884adc1f139800a859ef1" category="section-title">安裝應用程式</block>
  <block id="cd03481692ef65344c4dd7bf363bc056" category="paragraph">讓我們先從在接移和正式作業環境中初始安裝應用程式開始著手。就本使用案例而言、此步驟為必要步驟、因此必須手動執行。CI/CD傳輸途徑可用於應用程式新版本的後續建置與部署工作流程。</block>
  <block id="2ee68ca17059fe4d4ab06d0230bed0c3" category="paragraph">此使用案例中的正式作業環境稱為「magento prod」命名空間、而對應的接移環境則是在Red Hat OpenShift叢集上設定的命名空間「magento接移」。若要安裝所有應用程式、請完成下列步驟：</block>
  <block id="05586ccfd2c7dbe7b3226b21240add7c" category="list-text">在正式作業環境中使用位元名稱管理圖表來安裝Magento應用程式。我們將rwx PV用於Magento和MariaDB Pod。</block>
  <block id="14224ce39d8587f380c4b992c668c24d" category="admonition">Magento bitnami船旗圖表需要負載平衡器服務才能公開Magento GUI服務。我們使用 <block ref="6beef47e42ff9b3760535f361acb6931" category="inline-link-macro-rx"></block> 以提供內部負載平衡器服務。</block>
  <block id="4750ba228d6f73ce1e9d9e27f0cd2ca5" category="list-text">幾分鐘後、請確認所有的Pod和服務都在執行中。</block>
  <block id="3a0715e577e143188e1e748efe2fca27" category="list-text">對接移環境重複相同的程序。</block>
  <block id="e684201cc94f2e04edf2353711b58fe5" category="section-title">在Astra Control Center中管理Magento應用程式</block>
  <block id="e9758d5e82771fcca93395ce3a7c1d40" category="list-text">瀏覽至「應用程式」、然後選取「探索到的應用程式」索引標籤。</block>
  <block id="082833c45c4a99b63cbf53365495e0d2" category="list-text">在正式作業環境中、按一下Magento應用程式的省略符號（「magent-prod」）、然後按一下「Manage（管理）」。</block>
  <block id="28a12dc4e9b29cb97bfaf36914e9983a" category="list-text">Magento應用程式現在由Astra Control Center管理。Astra Control支援的所有作業都可在應用程式上執行。也請記下應用程式的版本。</block>
  <block id="4ef629c07108e88861fc4036780e9a1f" category="image-alt">升級前請檢查Magento版本</block>
  <block id="c03f75891d5e0356b60d3752df0f0444" category="list-text">在接移環境（「magento接移」）中重複管理Magento應用程式的步驟。</block>
  <block id="881e2f21543c210893e098f6383f4199" category="section-title">整合式保護功能的CI/CD傳輸途徑</block>
  <block id="841e01ce1d424839fd87eed89e1ce154" category="paragraph">當我們使用新版本的應用程式時、我們會使用CI/CD管道來建置容器映像、備份暫存和正式作業環境、將新版本的應用程式部署到暫存環境、等待核准升級至正式作業環境、 然後將新版本的應用程式部署到正式作業環境。若要使用CI/CD管道、請完成下列步驟：</block>
  <block id="88ba71f9d62d24eeb2decfe9cd30cfb1" category="list-text">登入Jenkins並建立所需的認證資料：一項用於Magento creds、一項用於MariaDB管理creds、第三項用於MariaDB根creds。</block>
  <block id="9743ff34b00bc2d03fdc0b6ee11b0781" category="list-text">瀏覽至「管理Jenkins」&gt;「管理認證」、然後按一下適當的網域。</block>
  <block id="5efc31d04501ec1bfbc5b2e785ac7cc2" category="list-text">按一下「Add Credentials（新增認證）」、然後將「種類」設為「使用者名稱」、並將「範圍」設為輸入認證的使用者名稱、密碼和ID、然後按一下「OK（確定）」。</block>
  <block id="5ff08be42358b0ed5a5235096ccfa397" category="image-alt">建立認證資料</block>
  <block id="ef7b482a4875dec8ec53a6a7ecea081b" category="list-text">對其他兩個認證重複相同的程序。</block>
  <block id="955b68bae8db1bc3b2abbf6ada3710be" category="list-text">返回儀表板、按一下「New item（新項目）」建立管道、然後按一下「Pipeline（管道）」。</block>
  <block id="027f0bd54326a6b14e6c7daf65d07f5c" category="list-text">從Jenkinsfile複製管路<block ref="94d69998dfd97a76d20ae02a64c629ae" category="inline-link-rx"></block>。</block>
  <block id="843730ff8981a034040c0f42fdaa48ce" category="list-text">在Jenkins管線的參數中填入相關詳細資料、包括船舵圖表版本、要升級至的Magento應用程式版本、Astra工具組版本、Astra Control Center FQDN、API權杖及其執行個體ID。指定正式作業和暫存環境的Docker登錄、命名空間和Magento IP、並指定所建立認證的認證ID。</block>
  <block id="3f52d6cbc878f43533503f2bd5a61952" category="list-text">按一下「立即建置」。管道會開始執行、並逐步完成各個步驟。應用程式映像會先建置並上傳至Container登錄。</block>
  <block id="059d6fb9b965d0897c20fb2482659279" category="image-alt">管道進度</block>
  <block id="ed2c1f4dfcf187d5140cf31e58801b4f" category="list-text">應用程式備份是透過Astra Control啟動。</block>
  <block id="633d66eb7984b86ee4487b6a10ffc34a" category="image-alt">備份已啟動</block>
  <block id="75b0ba1236c133f891fdd36b2e3913f3" category="list-text">備份階段成功完成後、請從Astra Control Center驗證備份。</block>
  <block id="2b3a33094c5c31ac6cc6be770417a07c" category="image-alt">備份成功</block>
  <block id="fec272abe380f3502ef64cbc2cc652bf" category="list-text">然後將新版本的應用程式部署至接移環境。</block>
  <block id="4576032c05f55b22a040f067151cde6f" category="image-alt">已啟動接移部署</block>
  <block id="4d4659ee9b2600243399d4aceca7c670" category="list-text">完成此步驟之後、程式會等待使用者核准正式作業部署。在此階段、假設QA團隊執行一些手動測試並核准正式作業。然後、您可以按一下「核准」、將新版本的應用程式部署到正式作業環境。</block>
  <block id="e30db45e8514d0d8f662187e28b8b5ec" category="image-alt">正在等待促銷</block>
  <block id="3a7b15850615e9fd306b379f77e0e016" category="list-text">確認正式作業應用程式也已升級至所需的版本。</block>
  <block id="f11253856e2b859c46731353f46b732e" category="image-alt">Prod應用程式已升級</block>
  <block id="70817285f3f68722fd851dde7464feb2" category="paragraph">在CI/CD管道中、我們建立完整的應用程式感知備份、展現保護應用程式的能力。由於整個應用程式都已備份為促銷活動到正式作業的傳輸途徑之一、因此您對於高度自動化的應用程式部署更有信心。此應用程式感知備份包含應用程式的資料、狀態和組態、對於眾多DevOps工作流程而言非常實用。其中一項重要工作流程是在發生無法預期的問題時、將應用程式回復至舊版。</block>
  <block id="94ec4ad32f9ba408876eabf1a42f6901" category="paragraph">雖然我們透過Jenkins工具展示了CI/CD工作流程、但這項概念可以輕鬆且有效率地推斷到不同的工具和策略。若要查看實際使用案例、請觀看影片 <block ref="2eda593691b1da530fed5bfcba32a663" category="inline-link-macro-rx"></block>。</block>
  <block id="b36bddb7c9d9a83be2a0353a3a744767" category="paragraph">NetApp擁有數個符合Astra Trident與Astra Control資格的儲存平台、可為容器化應用程式提供、保護及管理資料。</block>
  <block id="963b3936c1baa510ebca7a5496ece873" category="paragraph">NetApp提供多種產品來協助您協調、管理、保護及移轉狀態化容器化應用程式及其資料。</block>
  <block id="8a52e85b93902c27be7f0b5fa8493e52" category="paragraph">NetApp Astra Control提供豐富的儲存設備與應用程式感知資料管理服務、適用於狀態明確的Kubernetes工作負載、採用NetApp資料保護技術。Astra Control Service可支援雲端原生Kubernetes部署中的狀態工作負載。Astra Control Center可支援企業Kubernetes平台（例如｛k8s_distribution_name｝）內部部署中的狀態工作負載。如需詳細資訊、請參閱NetApp Astra Control網站<block ref="508f471fa59796a53754f031c40091c1" category="inline-link-rx"></block>。</block>
  <block id="6026755482efeb14efb7399db02c4e5e" category="paragraph">Astra Trident是開放原始碼且完全支援的儲存協調工具、適用於｛k8s_Distribution_name｝等容器與Kubernetes發佈版本。Trident可搭配整個NetApp儲存產品組合（包括NetApp ONTAP 的整套和Element儲存系統）使用、也支援NFS和iSCSI連線。Trident可讓終端使用者從NetApp儲存系統配置及管理儲存設備、而無需儲存管理員介入、進而加速DevOps工作流程。</block>
  <block id="0e60ae06a3d7bec5f8950d8ea76b57d4" category="paragraph">最新版的Astra Trident於2022年4月推出22.04版。支援對照表、顯示哪些版本的Trident已通過測試、可找到Kubernetes經銷產品<block ref="34562000b9988739736848a0014e5230" category="inline-link-rx"></block>。</block>
  <block id="b453397e87e54278a4cd32ac644d5934" category="sidebar">關於我們的合作夥伴解決方案</block>
  <block id="ff94fd25dea669a1eb9fc9bad5af5e80" category="sidebar">Red Hat OpenShift網站</block>
  <block id="8cf2142329e586b4350d53a76071db82" category="sidebar">Anthos網站</block>
  <block id="a5860a0f10641c9e31f8301d3f3ae548" category="sidebar">關於我們的Container資源</block>
  <block id="e2ed9dce9d5bb40e79fc6d3008de22ff" category="sidebar">Anthos與NetApp合作</block>
  <block id="500ce409f120039287d7670f42ff1821" category="sidebar">NetApp的DevOps</block>
  <block id="59b5f97219239806c778ffff9bda8ad0" category="sidebar">使用案例驗證</block>
  <block id="1a4f47ee7c7d8b59e68be952ac121268" category="sidebar">Anthos的進階組態選項</block>
  <block id="b0ed101b405f642695988c7ef3313b52" category="sidebar">歸檔解決方案</block>
  <block id="9eb662185982de390339607d2ee459a4" category="summary">在Google Cloud中使用支援多種方式、以原生方式保護資料安全。Cloud Volumes Service</block>
  <block id="52aa20c1efa9dfeda78d72f4c056c23f" category="doc">Google Cloud的功能介紹如何保護資料安全Cloud Volumes Service</block>
  <block id="c0db72d078098472051229dbdb83118e" category="inline-link-macro">上一步：總覽。</block>
  <block id="78dad9c3bba77d55493b24502dbe6a1d" category="paragraph"><block ref="78dad9c3bba77d55493b24502dbe6a1d" category="inline-link-macro-rx"></block></block>
  <block id="9967209a1408f78f781d93dd0cdf88c4" category="section-title">安全的架構與租戶模式</block>
  <block id="9ba9e0f1cce71f64d3188bfdc502a43d" category="inline-link-macro">「架構」Cloud Volumes Service</block>
  <block id="33186704f78f73f32736a9ba7f8ddc85" category="inline-link">私有服務存取</block>
  <block id="5971da0242ce7b616ff2972978613cef" category="inline-link-macro">「租賃模式」</block>
  <block id="01760cb04e3a4a93404ab2c878b036db" category="inline-link-macro">「共享VPC」</block>
  <block id="e70da8f06ec706ed45906f411481eda0" category="paragraph">在此架構中、租戶（請參閱一節 <block ref="0a088dd892133b6a77304655c2b8b829" category="inline-link-macro-rx"></block>）定義為Google Cloud專案、除非使用者明確連線、否則這些專案彼此之間完全隔離。租戶可利用Cloud Volumes Service 這個功能、將資料磁碟區、外部名稱服務及解決方案的其他重要部分、與其他租戶完全隔離在一起。由於此平台是透過VPC對等連接、因此隔離也適用於此平台。Cloud Volumes Service您Cloud Volumes Service 可以使用共享VPC、在多個專案之間共用一個支援區塊（請參閱一節） <block ref="c2426c8c5bcdce9adb82a8906c5a3478" category="inline-link-macro-rx"></block>）。您可以將存取控制套用至SMB共用和NFS匯出、以限制可以檢視或修改資料集的人員或內容。</block>
  <block id="35a0e1620a03f33da8739635aaa3b607" category="section-title">針對控制面板提供強大的身分識別管理功能</block>
  <block id="4504de40d15959838801111af31d224e" category="inline-link">身分識別存取管理（IAM）</block>
  <block id="d242c9a4fc4e118d87391841845ef44b" category="paragraph">在執行不完整組態的控制面板Cloud Volumes Service 中、使用管理身分識別管理<block ref="490163f8d94b8a8397824811fb91c5ec" category="inline-link-rx"></block>。IAM是一項標準服務、可讓您控制Google Cloud專案執行個體的驗證（登入）和授權（權限）。所有組態都是透過Cloud Volumes Service 使用TLS 1.2加密的安全HTTPS傳輸來執行、而驗證則是使用JWT權杖來執行、以提高安全性。Google Console UI Cloud Volumes Service for the取消功能、可將使用者輸入內容轉譯為Cloud Volumes Service 使用者對功能不整的API呼叫。</block>
  <block id="688247a9da881160b1073a4b76442640" category="section-title">安全強化：限制攻擊面</block>
  <block id="4901056002c8d64da3b67da6a5a2dbbb" category="paragraph">有效安全性的一部分是限制服務中可用的攻擊面數量。攻擊面可能包括各種內容、包括閒置資料、飛行傳輸、登入及資料集本身。</block>
  <block id="733e720a346376b07eb9adac497c4063" category="inline-link-macro">「服務營運、」</block>
  <block id="aa6187208cb06e0a43851ee1783a370c" category="paragraph">託管服務可移除設計中固有的部分攻擊面。基礎架構管理、如一節所述 <block ref="ddbc8ce5f4099ff7254959018f566688" category="inline-link-macro-rx"></block> 由專屬團隊處理、並自動化以減少人員實際接觸組態的次數、有助於減少刻意和非蓄意的錯誤數量。網路已被隔離、因此只有必要的服務才能彼此存取。加密會被納入資料儲存設備、只有資料層需要Cloud Volumes Service 得到資訊管理員的安全注意。藉由將大部分的管理隱藏在API介面之後、可藉由限制攻擊面來實現安全性。</block>
  <block id="d8d81a048343e815b76f916e1c58e636" category="section-title">零信任模式</block>
  <block id="d2c4e1022fc22d0780bd913d3f16498e" category="paragraph">過去、IT安全理念一直是信任、但卻是驗證、而且只是仰賴外部機制（例如防火牆和入侵偵測系統）來減輕威脅。然而、攻擊與入侵事件演變成透過網路釣魚、社交工程、內部威脅及其他驗證方法、規避環境中的驗證、進而進入網路並造成嚴重破壞。</block>
  <block id="853f80d22a64d4fff24c05d305e800a8" category="paragraph">零信任已成為安全性的新方法、目前的宗旨是「在驗證一切的同時、不信任任何事物」。 因此、預設不允許任何存取。這項強制原則有多種執行方式、包括標準防火牆和入侵偵測系統（IDS）、也有下列方法：</block>
  <block id="d07f4106373448c16aedf0c01749e560" category="list-text">強式驗證方法（例如AES加密的Kerberos或JWT權杖）</block>
  <block id="4bbee6cac6b31b494ade66a9fc2f16e7" category="list-text">單一強身分識別來源（例如Windows Active Directory、輕量型目錄存取傳輸協定（LDAP）和Google IAM）</block>
  <block id="da31693a70531052458cd4eff104672d" category="list-text">網路區隔和安全的多租戶共享（預設只允許租戶存取）</block>
  <block id="a8ce5780cff146b27ae2c2b3fddc0447" category="list-text">以最低權限存取原則進行精細的存取控制</block>
  <block id="493f70c348ea51d5c7cb8a28593df5a1" category="list-text">專屬且值得信賴的小型專屬系統管理員清單、提供數位稽核與書面記錄</block>
  <block id="fd5070ec3e2f12398e4de9b77b900cbf" category="paragraph">在Google Cloud上執行的解決方案採用零信任模式、實作「無信任、驗證一切」的立場。Cloud Volumes Service</block>
  <block id="d7f2615c71a1567cc13cf3a7f7de0aea" category="section-title">加密</block>
  <block id="83c3a5400dd4f14665a803a22add4a9d" category="inline-link-macro">「閒置時的資料加密」</block>
  <block id="a37154afafe65368d5170741a4669261" category="inline-link-macro">「SMB加密」</block>
  <block id="e688fd1eb8866f914263d3493c30ccbb" category="inline-link-macro">「跨區域複寫」</block>
  <block id="c05431edaaaefc20b48a7cd96f110e5d" category="inline-link-macro">「傳輸中的資料加密」</block>
  <block id="48aa29a35d8e13e796333876f4ea9f62" category="inline-link-macro">「Google Cloud Network」</block>
  <block id="31d64d3cd8b2a692701b32dd6a611c76" category="paragraph">加密閒置資料（請參閱一節 <block ref="ce3046d8bb0cfdf8a89295f31068c29b" category="inline-link-macro-rx"></block>）搭配NetApp Volume Encryption（NVE）和線上使用XTS-AES-256密碼 <block ref="9963d74c8d0d381d9818a5c550dd7163" category="inline-link-macro-rx"></block> 或NFS Kerberos 5p支援。瞭解跨區域複寫傳輸受到TLS 1.2加密保護、讓您高枕無憂（請參閱一節） <block ref="8b1fa1a1fab3125dbb820bfe80ca0428" category="inline-link-macro-rx"></block>）。此外、Google網路也提供加密通訊（請參閱一節 <block ref="051d363ef6081e123484b5da28bebf19" category="inline-link-macro-rx"></block>）提供額外的保護層、防範攻擊。如需傳輸加密的詳細資訊、請參閱一節 <block ref="0e3bb83173de6418179f08aaa25b48dd" category="inline-link-macro-rx"></block>。</block>
  <block id="db57ea7882be0cb73c78bf1ba25a6823" category="section-title">資料保護與備份</block>
  <block id="48b5832efbf50440742eee7bfd02733b" category="inline-link-macro">支援Cloud Volumes Service</block>
  <block id="cdb185875636a141b69ddabde6df7040" category="paragraph">安全性不只是預防攻擊而已。這也與我們如何在攻擊發生時或發生時從攻擊中恢復有關。此策略包括資料保護與備份。提供在停電時複製到其他地區的方法（請參閱一節Cloud Volumes Service <block ref="8b1fa1a1fab3125dbb820bfe80ca0428" category="inline-link-macro-rx"></block>）或資料集受到勒索軟體攻擊的影響。也Cloud Volumes Service 可以使用、將資料非同步備份到非執行個體的位置 <block ref="92f2015a7a07a74ffc21a27b08fadbb0" category="inline-link-macro-rx"></block>。透過定期備份、降低安全事件的時間、節省成本、並使系統管理員感到焦慮。</block>
  <block id="3b0aab94fdc89c539c78fcbbf0190080" category="section-title">利用領先業界的Snapshot複本、快速緩解勒索軟體</block>
  <block id="e7d51c7f9901730a4f176b908516d9f0" category="inline-link-macro">「可永久保存的Snapshot複本」</block>
  <block id="613542b40dc5d23e9b7129726e6901e9" category="inline-link-macro">「服務營運」</block>
  <block id="06646d879e1be0df7191f42262dc1293" category="paragraph">除了資料保護與備份、Cloud Volumes Service 支援不可變的Snapshot複本（請參閱一節） <block ref="46dfee0c3fc63af00a088b428ebe2c09" category="inline-link-macro-rx"></block>）允許從勒索軟體攻擊中恢復的磁碟區（請參閱一節 <block ref="f545e9c9b1aa4e21f947ee53ac36de63" category="inline-link-macro-rx"></block>）在發現問題的幾秒鐘內、並將中斷時間降至最低。恢復時間與影響取決於Snapshot排程、但您可以建立Snapshot複本、在勒索軟體攻擊中提供最少一小時的差異。Snapshot複本對效能和容量使用率的影響微乎其微、是保護資料集的低風險高報酬方法。</block>
  <block id="f21f1562468eeb7bb67162f8fc79596c" category="inline-link-macro">下一步：安全考量與攻擊面。</block>
  <block id="d6cb5b8910b7e61e1d2a16900dff7414" category="paragraph"><block ref="d6cb5b8910b7e61e1d2a16900dff7414" category="inline-link-macro-rx"></block></block>
  <block id="9b6e8c1f1a4d79991136cfd2b3fde77a" category="summary">支援將您的實例連接至外部Active Directory伺服器、以便同時為SMB和UNIX使用者進行身分識別管理。Cloud Volumes Service Cloud Volumes Service建立Active Directory連線是Cloud Volumes Service 在支援功能方面使用SMB的必要條件。</block>
  <block id="d099e6eafff98e1042c1029849e2db1b" category="doc">建立Active Directory連線的考量事項</block>
  <block id="1ca3bc7ee6e687110fa43103bcff28e9" category="inline-link-macro">先前版本：雙傳輸協定/多傳輸協定。</block>
  <block id="90e9716dfe1097d996980af0b2d435b6" category="paragraph"><block ref="90e9716dfe1097d996980af0b2d435b6" category="inline-link-macro-rx"></block></block>
  <block id="b092138563f7b68473c3bf2a6a23a434" category="inline-link">私有 Google 存取</block>
  <block id="dd1f65c08f03e8278da92a88b4c609b5" category="inline-link">在Google Cloud中使用Active Directory的最佳實務做法</block>
  <block id="758d9a1746e1f53cf6e7882ed864c1a4" category="paragraph">此設定提供多種選項、需要考量安全性。外部Active Directory伺服器可以是內部部署執行個體或原生雲端。如果您使用的是內部部署的Active Directory伺服器，請勿將網域暴露給外部網路（例如使用DMZ或外部IP位址）。而是使用安全的私有通道或VPN、單向樹系信任或內部部署網路專用的網路連線<block ref="76bc9bf9d2d87bee997fb1ade7da1eaa" category="inline-link-rx"></block>。如需詳細資訊、請參閱Google Cloud文件<block ref="28831e2b31059cd3ce2ee26e8b5c8fcf" category="inline-link-rx"></block>。</block>
  <block id="22900d9fe4089ff2f29ada31dfd82836" category="admonition">CVS軟體要求Active Directory伺服器位於同一個地區。如果嘗試在CVs-SW中連線至其他地區、嘗試就會失敗。使用CVs-SW時、請務必建立包含Active Directory DC的Active Directory網站、然後在Cloud Volumes Service 其中指定站台、以避免跨區域DC連線嘗試。</block>
  <block id="9f69695f33b67147c3fd64e477aa784b" category="section-title">Active Directory認證</block>
  <block id="2ae640f39e0e652f621ec44b74e57892" category="paragraph">啟用SMB或LDAP for NFS時Cloud Volumes Service 、支援使用者可與Active Directory控制器互動、以建立機器帳戶物件來進行驗證。這與Windows SMB用戶端加入網域的方式並不不同、而且需要對Active Directory中的組織單位（OU）擁有相同的存取權限。</block>
  <block id="d5b16e2c41dd06274f88cd52182d8034" category="paragraph">在許多情況下、安全性群組不允許在Cloud Volumes Service 外部伺服器上使用Windows系統管理員帳戶、例如在某些情況下、Windows系統管理員使用者會完全停用、這是安全性最佳實務做法。</block>
  <block id="e33d961644188dff361a3a61603aee23" category="section-title">建立SMB機器帳戶所需的權限</block>
  <block id="7274d74c9decfd509d3c2a9c91098fca" category="inline-link">委派權限以建立及修改機器帳戶物件</block>
  <block id="da90c2a52e7d047f641621a25fcd43c7" category="paragraph">若要新增Cloud Volumes Service 物件至Active Directory、則該帳戶具有網域的管理權限或擁有<block ref="39a1d8c5f0c0a4ae053b3e24111592ed" category="inline-link-rx"></block> 需要指定的OU。您可以透過Active Directory中的委派控制精靈來執行此作業、方法是建立自訂工作、讓使用者以提供下列存取權限來存取電腦物件的建立/刪除：</block>
  <block id="db3317ceb65be02e43db6f277e0ad94e" category="list-text">讀取/寫入</block>
  <block id="9da76760248a4997f94bdd63f1c04f01" category="list-text">建立/刪除所有子物件</block>
  <block id="858ac25470b9539b8e2bb4d6958fde5b" category="list-text">讀取/寫入所有內容</block>
  <block id="e798906fb7bcd7b0403d97d21044e339" category="list-text">變更/重設密碼</block>
  <block id="4eb6bcf48028313e542c0964c09b46b9" category="paragraph">這樣做會自動將已定義使用者的安全ACL新增至Active Directory中的OU、並將Active Directory環境的存取權限減至最低。在委派使用者之後、此視窗中的使用者名稱和密碼可提供為Active Directory認證。</block>
  <block id="66d939bc6b363153976bbd24624850b8" category="admonition">傳遞至Active Directory網域的使用者名稱和密碼會在機器帳戶物件查詢和建立期間、運用Kerberos加密技術來提高安全性。</block>
  <block id="8575c9ec9ca166098f9d546c3c12e9b1" category="section-title">Active Directory連線詳細資料</block>
  <block id="452740f6c26f32def386962441d5cb2c" category="inline-link">Active Directory連線詳細資料</block>
  <block id="af31d4ab1f284e1f94d3522fd1fa36fe" category="paragraph">。<block ref="9255123c1378b2d08be170075ba389b5" category="inline-link-rx"></block> 提供欄位給系統管理員、以提供機器帳戶放置的特定Active Directory架構資訊、例如：</block>
  <block id="353000b4dd170de2ebede38bb7420e40" category="list-text">* Active Directory連線類型。*用於指定區域中的Active Directory連線是用於Cloud Volumes Service 供應各種類型的SView或CVS效能服務的磁碟區。如果現有連線的設定不正確、使用或編輯時可能無法正常運作。</block>
  <block id="d5cc4c55027c65e3b8d52c15d308935d" category="list-text">*網域。* Active Directory網域名稱。</block>
  <block id="c3fab9d188d8e1e4a9e0ba27a52306c6" category="inline-link">考量</block>
  <block id="925e235ec5866cd9c094261d9e20eec4" category="list-text">*站台。*將Active Directory伺服器限制為特定站台、以確保安全性和效能<block ref="cae534855afa8eaefaa37d26edea88d5" category="inline-link-rx"></block>。當多個Active Directory伺服器橫跨多個區域時、這是必要的、因為Cloud Volumes Service 目前不支援將Active Directory驗證要求允許在Cloud Volumes Service 不同於此執行個體的區域內執行Active Directory伺服器。（例如、Active Directory網域控制器所在的區域僅支援CVs-Performance、但您想要在CVs-SW執行個體中使用SMB共用區）。</block>
  <block id="bc3a6531a92e21b83c95f7d7044fd498" category="list-text">* DNS伺服器。* DNS伺服器、用於名稱查詢。</block>
  <block id="44ea07387884d17ba7d18393d327374b" category="inline-link-macro">如何在Active Directory中顯示此功能Cloud Volumes Service</block>
  <block id="32b5af659fee51ef98e34710303d53ba" category="list-text">* NetBios名稱（選用）。*如果需要、則為伺服器的NetBios名稱。這是使用Active Directory連線建立新機器帳戶時所使用的功能。例如、如果將NetBios名稱設為CVs-East、則機器帳戶名稱將為CVs-East-{12334}。請參閱一節 <block ref="0bba591d00c255586e052c023629a690" category="inline-link-macro-rx"></block> 以取得更多資訊。</block>
  <block id="00a4c212426e322a34af5aeccdc494f7" category="list-text">*組織單位（OU）。*建立電腦帳戶的特定OU。如果您要將機器帳戶的控制權委派給使用者至特定OU、這很有用。</block>
  <block id="06852342816b885474a42d89311e2113" category="list-text">* AES Encryption。*您也可以勾選或取消勾選「啟用AD驗證的AES加密」核取方塊。啟用AES加密以進行Active Directory驗證、可在Cloud Volumes Service 使用者和群組查詢期間、提供額外的安全性、以利執行功能以進行通訊。啟用此選項之前、請先洽詢您的網域管理員、確認Active Directory網域控制器支援AES驗證。</block>
  <block id="7d51d6a8b37a2763f6c84b7b3a3a7e97" category="admonition">根據預設、大部分的Windows伺服器不會停用較弱的密碼（例如：Des或RC4-HMAC）、但如果您選擇停用較弱的密碼、請確認Cloud Volumes Service 已設定「更新Active Directory」連線以啟用AES。否則會發生驗證失敗。啟用AES加密並不會停用較弱的密碼、而是將AES密碼的支援新增至Cloud Volumes Service 該SMB機器帳戶。</block>
  <block id="3da975567fcd6ebd164f43cca13384f2" category="section-title">Kerberos領域詳細資料</block>
  <block id="9a62ab6b4d79a99749d02cd8af945f25" category="paragraph">此選項不適用於SMB伺服器。而是在設定NFS Kerberos for Cloud Volumes Service the Sing系統時使用。填入這些詳細資料時、NFS Kerberos領域會設定（類似於Linux上的krb5..conf檔案）、並在Cloud Volumes Service 建立實體磁碟區時指定NFS Kerberos時使用、因為Active Directory連線會做為NFS Kerberos發佈中心（kdc）。</block>
  <block id="e53ab7e80d5d436b4a496f0c2bef7cb2" category="admonition">非Windows KDC目前不支援Cloud Volumes Service 搭配使用。</block>
  <block id="f447ac856e7e72435904956e3b15f433" category="section-title">區域</block>
  <block id="38da42463bdc613d24159bd6e0405ba6" category="paragraph">區域可讓您指定Active Directory連線所在的位置。此區域必須與Cloud Volumes Service 《非洲地理區：</block>
  <block id="4dfb982db9679a6eec578ccd86af978a" category="list-text">*本機NFS使用者搭配LDAP.*本節中、也有允許本機NFS使用者搭配LDAP的選項。如果您想要將UNIX使用者群組成員資格支援延伸到NFS（延伸群組）的16群組限制之外、則必須取消選取此選項。不過、使用延伸群組時、需要設定用於UNIX身分識別的LDAP伺服器。如果您沒有LDAP伺服器、請取消選取此選項。如果您有LDAP伺服器、而且想要使用本機UNIX使用者（例如root）、請選取此選項。</block>
  <block id="5059a39455b0e2649d69d289516cdf1b" category="section-title">備份使用者</block>
  <block id="0e051a51493712b34966f346e858a0c3" category="inline-link">啟用該使用者存取的稽核</block>
  <block id="d3980aa1c5f0625161c9b0fb5a6cace0" category="paragraph">此選項可讓您指定對Cloud Volumes Service 該Windows Volume具有備份權限的Windows使用者。某些應用程式必須具備備份權限（SeBackup權限）、才能在NAS磁碟區中正確備份及還原資料。此使用者擁有大量的磁碟區資料存取權限、因此您應該考慮<block ref="b5fba80299f6d29935863b6604a98277" category="inline-link-rx"></block>。啟用後、稽核事件會顯示在「事件檢視器」&gt;「Windows記錄」&gt;「安全性」中。</block>
  <block id="70136e0b9257bc91e1eb5216b32580de" category="paragraph"><block ref="70136e0b9257bc91e1eb5216b32580de" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6833e65d65b96c0d79b7fc114c9a2968" category="section-title">安全性權限使用者</block>
  <block id="63a19a4d390181634079ba6ba20fe287" category="inline-link">例如SQL Server</block>
  <block id="c9a97779c6062109c66675cc5368a6b8" category="inline-link">稽核使用者存取權限</block>
  <block id="296bdd6f36456d0f48d21431f3bd7853" category="paragraph">此選項可讓您指定Windows使用者、這些使用者具有Cloud Volumes Service 對此功能進行安全性修改的權限。某些應用程式需要安全性權限（SeSecurityPrivilege） <block ref="cef5278acd430b226f8e7bcad71f9075" category="inline-link-rx"></block>）在安裝期間正確設定權限。管理安全性記錄時需要此權限。雖然此權限不如SeBackup權限強大、但NetApp建議您使用<block ref="2238ada9972b35c5f01addc7598ffd7a" category="inline-link-rx"></block> 如果需要、請使用此權限層級。</block>
  <block id="f044d72e46ac4189129dc6e27333c449" category="inline-link">指派給新登入的特殊權限</block>
  <block id="1384ec27890f8bac59aae8edf1ff83e9" category="paragraph">如需詳細資訊、請參閱<block ref="791e82319c9cb432525cbf92f3a07623" category="inline-link-rx"></block>。</block>
  <block id="3fc6256a9aed6803167ff54873f78a00" category="paragraph">在Active Directory中顯示為一般機器帳戶物件。Cloud Volumes Service命名慣例如下。</block>
  <block id="864917f152404280b59cd43c564f6733" category="list-text">CIFS/SMB和NFS Kerberos會建立個別的機器帳戶物件。</block>
  <block id="79adcd3b0eb62b997e160c91e737deb2" category="list-text">啟用LDAP的NFS會在Active Directory中建立機器帳戶、以進行Kerberos LDAP繫結。</block>
  <block id="2ed35f8c3fa643ff6b7226a2163085c5" category="list-text">具有LDAP的雙傳輸協定磁碟區會共用CIFS/SMB機器帳戶、以供LDAP和SMB使用。</block>
  <block id="3028cc04aacef3f671388051ac5a05cf" category="list-text">CIFS/SMB機器帳戶的機器帳戶命名慣例為：名稱-1234（隨機四位數ID、加上連字號、加上&lt;10個字元名稱）。您可以使用Active Directory連線上的[NetBios名稱]設定來定義名稱（請參閱「」一節）<block ref="7d2ad38c1c26cdc0446a7f473a720f92" category="inline-xref-macro-rx"></block>」）。</block>
  <block id="b3330aabe270fd3b52fec421dc299283" category="list-text">NFS Kerberos使用NFS-name-1234作為 命名慣例（最多15個字元）。如果使用超過15個字元、則名稱為nfs -截短名稱-1234.</block>
  <block id="50b0fcc303b033d01b24dbb96023de81" category="list-text">僅NFS的CVS效能執行個體若啟用LDAP、則會建立SMB機器帳戶、以與CIFS/SMB執行個體相同的命名慣例來繫結至LDAP伺服器。</block>
  <block id="d4895b82fd7385bed173b438d89c807e" category="inline-link-macro">「預設隱藏共用」</block>
  <block id="6d7a9f810c1df414bda9e341201f414b" category="list-text">建立SMB機器帳戶時、預設的隱藏管理共用區（請參閱一節 <block ref="15f1050f174b7bbba32ef5b54c17bc40" category="inline-link-macro-rx"></block>）也會建立（c$、admin$、ipc$）、但這些共用區並未指派ACL、因此無法存取。</block>
  <block id="e1547130d9a70017a557e263270469eb" category="list-text">依預設、機器帳戶物件會放置在CN=電腦中、但您可以在必要時指定不同的OU。請參閱「」一節<block ref="99b866e46eaefba106810f4a564a9de4" category="inline-xref-macro-rx"></block>」、以瞭解新增/移除Cloud Volumes Service 機器帳戶物件所需的存取權限。</block>
  <block id="5a1324cda45cd652ecb95755709fd8e1" category="paragraph">當將SMB機器帳戶新增至Active Directory時Cloud Volumes Service 、會填入下列欄位：</block>
  <block id="650ca2f93573bbd3b4e7f2e4fc5d536e" category="list-text">（使用指定的SMB伺服器名稱）</block>
  <block id="493629591f73624fd57b9ff00cb6d94e" category="list-text">dnsHostName（含SMBserver.domain.com）</block>
  <block id="ed877e9b9c0c0bb19ecf1f342cdda00f" category="list-text">MSDS-SupportedEncryptionTypes（如果未啟用AES加密、則允許使用DES_CBC_MD5、RC4 _HMAC_MD5；如果啟用AES加密、則允許使用DES_CBC_MD5、RC4 _HMAC_MD5、AES128 _CTs_HMAC_SHA1_96、AES256_CTs_HMAC_SHA1_96進行Kerberos票證交換）</block>
  <block id="987e945fa65d0a9e76f890e3892961cc" category="list-text">名稱（使用SMB伺服器名稱）</block>
  <block id="6c4b390273352496044f436350e3e996" category="list-text">SamAccountName（含SMBserver$）</block>
  <block id="603c37960edbea70b7dd05f369016869" category="list-text">servicePrincipalName（含主機/smbserver.domain.com和主機/smbserver SPN for Kerberos）</block>
  <block id="e4d5beb18aee5989e4944d5f91b181e4" category="paragraph">如果您要停用機器帳戶上較弱的Kerberos加密類型（加密類型）、可以將機器帳戶上的MSDS-SupportedEncryptionTypes值變更為下表中的其中一個值、以僅允許AES。</block>
  <block id="d7b35b0eb85a800cd27ae4d86378e957" category="cell">msDS-SupportedEncryptionTypes值</block>
  <block id="b20e97401d06f2734903c9c8ce3bd34e" category="cell">已啟用EncType</block>
  <block id="3afb17e90ee63072dfd4ad5496e22ecf" category="cell">ds_CBC_MD5</block>
  <block id="427e6bbc6e437e1008a5c41adc923d0e" category="cell">RC4_HMAC</block>
  <block id="16105c1a0d76dfdb5c1df287b56762db" category="cell">僅限AES122_CTs_HMAC_SHA1_96</block>
  <block id="bdacd7093a31449b44a8d708a5a055de" category="cell">僅限AES256_CTs_HMAC_SHA1_96</block>
  <block id="1ff1de774005f8da13f42943881c655f" category="cell">24</block>
  <block id="ea8f561ef42d9f42f97782208f239797" category="cell">AES122_CTs_HMAC_SHA1_96與AES256_CTs_HMAC_SHA1_96</block>
  <block id="34173cb38f07f89ddbebc2ac9128303f" category="cell">30</block>
  <block id="bbfe7622403fb2a786b158ba768ac4ca" category="cell">DES_CBC_MD5、RC4_HMAC、AES122_CTs_HMAC_SHA1_96和AES256_CTs_HMAC_SHA1_96</block>
  <block id="adfa4c5560980c9b2841dda24bda5935" category="paragraph">若要啟用SMB機器帳戶的AES加密、請在建立Active Directory連線時按一下「啟用AD驗證的AES加密」。</block>
  <block id="fd0625de17999274e1465433cabc43a7" category="inline-link">請參閱Cloud Volumes Service 《》文件</block>
  <block id="9e167fdd1e36cc753653d71cef598f95" category="paragraph">若要啟用NFS Kerberos的AES加密、<block ref="a1ea73992eb480d81ba9d6fd0002e272" category="inline-link-rx"></block>。</block>
  <block id="c36c6a3451be9921bddbe958fc50f971" category="inline-link-macro">下一步：其他NAS基礎架構服務相依性（Kdc、LDAP、DNS）。</block>
  <block id="0a243881b9403f37a34293a498b9dcb8" category="paragraph"><block ref="0a243881b9403f37a34293a498b9dcb8" category="inline-link-macro-rx"></block></block>
  <block id="5e64a4b25a4f107aefb7d4e2a56b9dfb" category="summary">使用Cloud Volumes Service 適用於NAS共享的功能時、可能需要外部相依性才能正常運作。在特定情況下、這些相依關係仍在發揮。</block>
  <block id="f4b5e0cbc9d84ca994a4dc85d6f45205" category="doc">其他NAS基礎架構服務相依性（Kdc、LDAP和DNS）</block>
  <block id="619169033066c83ff7d1cc580d748cd6" category="inline-link-macro">先前：建立Active Directory連線的考量事項。</block>
  <block id="a67d66e488b843722a2bb6124e92d2c0" category="paragraph"><block ref="a67d66e488b843722a2bb6124e92d2c0" category="inline-link-macro-rx"></block></block>
  <block id="c4c97073fa9e6d604787db13592331a3" category="paragraph">使用Cloud Volumes Service 適用於NAS共享的功能時、可能需要外部相依性才能正常運作。在特定情況下、這些相依關係仍在發揮。下表顯示各種組態選項、以及必要的相依性（如果有）。</block>
  <block id="c9b3a27f085427ada9b946daa430f1f8" category="cell">所需相依性</block>
  <block id="954898296a4e7ec7e15ab65964b50da0" category="cell">僅限NFSv3</block>
  <block id="e69d896f8231ad7dd96dd4937ba18d07" category="cell">僅NFSv3 Kerberos</block>
  <block id="6040c1d5c15727690384a7cd3e8d3fa4" category="cell">Windows Active Directory：* kdc * DNS * LDAP</block>
  <block id="b88d0e1e32f67294d9d45e05a25495e7" category="cell">僅限NFSv4.1</block>
  <block id="1cc44815edb1648976dd6fa410f26802" category="cell">用戶端ID對應組態（/etc/idmap.conf）</block>
  <block id="c2e2e93edfc9ea6acddd551b71be27bf" category="cell">僅NFSv4.1 Kerberos</block>
  <block id="411c501ecf4d59f4ef8d7e9c444b838a" category="list-text">Windows Active Directory：Kdc DNS LDAP</block>
  <block id="59b6dd4c5b36405b29c64750f1e82401" category="cell">僅限SMB</block>
  <block id="11a431c64d07fefe0bbb5880e03069c5" category="cell">Active Directory：* kdc * dns</block>
  <block id="420da7f0cb45485c925482687369c1ad" category="cell">多重傳輸協定NAS（NFS和SMB）</block>
  <block id="b756e6f6a894749273e32e03e551180c" category="list-text">用戶端ID對應組態（僅限NFSv4.1；/etc/idmap.conf）</block>
  <block id="8777a112bd8b1e9205dda0717a12965b" category="section-title">機器帳戶物件的Kerberos Keytab旋轉/密碼重設</block>
  <block id="b8333cf0e11040ea157a74560b3a6d77" category="paragraph">利用SMB機器帳戶Cloud Volumes Service 、此資訊可排定SMB機器帳戶的定期密碼重設。這些密碼會使用Kerberos加密進行重設、並在晚上11點到凌晨1點之間的隨機時間、於每四個星期日的排程中運作。這些密碼重設會變更Kerberos金鑰版本、旋轉Cloud Volumes Service 儲存在支援系統上的金鑰索引標籤、並協助維護執行Cloud Volumes Service 於支援更新版本的SMB伺服器的安全性。機器帳戶密碼是隨機配置的、系統管理員不知道。</block>
  <block id="6df7123d2b1a64b11c7df1c2b837f752" category="paragraph">對於NFS Kerberos機器帳戶、密碼重設只會在建立新的金鑰索引標籤並與Kdc交換時進行。目前Cloud Volumes Service 無法在不執行此動作的情況下進行。</block>
  <block id="7631991924ea0015e269781ad88bd8d3" category="section-title">用於LDAP和Kerberos的網路連接埠</block>
  <block id="52d1b9583b81da6bee6ba24d74c4018b" category="inline-link">安全考量的相關文件Cloud Volumes Service</block>
  <block id="2363dee608bcd9f6ce7f980bfdad5789" category="section-title">LDAP</block>
  <block id="d0a2de9b178b436803f7732ff69d0c14" category="paragraph">充當LDAP用戶端、並使用標準LDAP搜尋查詢來查詢UNIX身分識別的使用者和群組。Cloud Volumes Service如果您想要使用Cloud Volumes Service 超出由供應之標準預設使用者的使用者和群組、則必須使用LDAP。如果您打算搭配使用者主體使用NFS Kerberos（例如user1@domain.com）、也必須使用LDAP。目前僅支援使用Microsoft Active Directory的LDAP。</block>
  <block id="2eaa173e56517db74fb0eb92806a0877" category="inline-link">RFC-2307-bis</block>
  <block id="50af1bf8bee07c6cb1c61e9c19599403" category="paragraph">若要將Active Directory當作UNIX LDAP伺服器使用、您必須在要用於UNIX身分識別的使用者和群組上填入必要的UNIX屬性。使用預設的LDAP架構範本來查詢屬性Cloud Volumes Service<block ref="54011f528a38d24d58a7f02f98da0d00" category="inline-link-rx"></block>。因此、下表顯示使用者和群組所需的最低Active Directory屬性、以及每個屬性的用途。</block>
  <block id="a6e75b8341b03d08fb1d6817635b1d47" category="inline-link">管理雙傳輸協定存取。</block>
  <block id="c0f3d72f07b570cdf3f5d1376c72a389" category="paragraph">如需在Active Directory中設定LDAP屬性的詳細資訊、請參閱<block ref="c2741a8ac44d0c827e11ee9004dcd081" category="inline-link-rx"></block></block>
  <block id="f2bbdf9f72c085adc4d0404e370f0f4c" category="cell">屬性</block>
  <block id="b12c51b935d86f01d092fb23a1fa4f9f" category="cell">它的作用</block>
  <block id="e266bea072e01571abba7fc5075c2c86" category="cell">UID*</block>
  <block id="0689aaddc7bfae9cad3778f6d706bd7a" category="cell">指定UNIX使用者名稱</block>
  <block id="525f84e25602ba8efb61d7b8ca793b7c" category="cell">uidNumber*</block>
  <block id="604edb3bb733537b2d6c63b0b84fa1ec" category="cell">指定UNIX使用者的數字ID</block>
  <block id="825c2f924ee564de1d57d2b63edd800d" category="cell">gidNumber*</block>
  <block id="eb91949970817d632278971bdf06baef" category="cell">指定UNIX使用者的主要群組數字ID</block>
  <block id="18b5aa92067bde95c39c3039f02bf70e" category="cell">objectClass *</block>
  <block id="ce41297dde1628c606d60ef2bbe154cd" category="cell">指定要使用的物件類型；Cloud Volumes Service 物件類別清單中必須包含「使用者」（預設會包含在大部分的Active Directory部署中）。</block>
  <block id="db108aa570113ecd6745a2e272d68544" category="cell">帳戶的一般資訊（真實姓名、電話號碼等、也稱為gecos）</block>
  <block id="17a12df2f12fa6f25328eb6c9fcffedf" category="cell">unixUserPassword</block>
  <block id="4306442303f7519026403fc1912e8e2e" category="cell">無需設定、不適用於NAS驗證的UNIX身分識別查詢。設定此選項會將設定的unixUserPassword值設為純文字。</block>
  <block id="d146b96a250f5bcf84b56d2a0f8a2f87" category="cell">unixHomeDirectory</block>
  <block id="1208d15552f3ca8721989c162201e0de" category="cell">當使用者從Linux用戶端驗證LDAP時、定義UNIX主目錄的路徑。如果您要使用LDAP來執行UNIX主目錄功能、請設定此選項。</block>
  <block id="0693ba16c955b74875d26f79148b66f0" category="cell">LoginShell</block>
  <block id="61940c4af8b62a3bb77f4ab0eb491c08" category="cell">當使用者根據LDAP驗證時、定義Linux用戶端的Basash/profile Shell路徑。</block>
  <block id="9ed4554644da662e0634bf83a7e18666" category="paragraph">*表示屬性是使用Cloud Volumes Service 功能不正確的必要條件。其餘屬性僅供用戶端使用。</block>
  <block id="ac975e575ff07bee5423d326c261e07e" category="cell">CN*</block>
  <block id="b982e168cd50ef73d1f3ce851cb4ddac" category="cell">指定UNIX群組名稱。使用Active Directory for LDAP時、會在第一次建立物件時設定此選項、但稍後可加以變更。此名稱不得與其他物件相同。例如、如果您的UNIX使用者user1屬於Linux用戶端上名為user1的群組、則Windows不允許兩個具有相同CN屬性的物件。若要解決此問題、請將Windows使用者重新命名為唯一名稱（例如user-UNIX）；Cloud Volumes Service LDAP in Wesc使用UNIX使用者名稱的uid屬性。</block>
  <block id="dc1d913bf6d70def379cf9f0d70abace" category="cell">指定UNIX群組的數字ID。</block>
  <block id="1afbf0b9465b3d5c13329cd43dda4e9e" category="cell">指定要使用的物件類型；Cloud Volumes Service 使用物件類別清單時、需要將群組包含在物件類別清單中（此屬性預設會包含在大部分的Active Directory部署中）。</block>
  <block id="5e4db984d78b91a65e9096eebf726d40" category="cell">memberUid</block>
  <block id="6cd5795a9ccf8fa0d1da852e88da95cd" category="cell">指定哪些UNIX使用者是UNIX群組的成員。在Active Directory LDAP Cloud Volumes Service 的不實情況下、此欄位是不必要的。「支援組成員資格」功能使用「成員」欄位Cloud Volumes Service 。</block>
  <block id="cadd4e3eefdff4ed3ad7de830179c314" category="cell">成員*</block>
  <block id="defbfcaae1980c16f810c5ddaa1ecb87" category="cell">群組成員資格/次要UNIX群組所需。此欄位是透過新增Windows使用者至Windows群組來填入。但是，如果Windows群組未填入UNIX屬性，則不會包含在UNIX使用者的群組成員資格清單中。任何需要在NFS中使用的群組、都必須填入此表格中所列的必要UNIX群組屬性。</block>
  <block id="14476f6ea303cd9ac37328cb484a1fa1" category="section-title">LDAP連結資訊</block>
  <block id="af0c1d97230a1daa0f7341dc35f53a29" category="paragraph">若要查詢LDAP中的使用者、Cloud Volumes Service 必須將（登入）連結至LDAP服務。此登入具有唯讀權限、可用於查詢LDAP UNIX屬性以進行目錄查詢。目前只能使用SMB機器帳戶來進行LDAP連結。</block>
  <block id="4a9b831487cab83d7de4d5a515e0eadd" category="paragraph">您只能針對「CVS效能」執行個體啟用LDAP、並將其用於NFSv3、NFSv4.1或雙傳輸協定磁碟區。Active Directory連線必須與Cloud Volumes Service 支援LDAP的Volume在相同的地區建立、才能成功部署。</block>
  <block id="c41605f9de6fa81e35ab98dd9e8b1b02" category="paragraph">啟用LDAP時、會在特定情況下發生下列情況。</block>
  <block id="f9f5dcaa4945ab96d402d905be4ed78c" category="list-text">如果Cloud Volumes Service 僅將NFSv3或NFSv4.1用於該項目、則會在Active Directory網域控制器中建立新的機器帳戶、Cloud Volumes Service 而在其中的LDAP用戶端則會使用機器帳戶認證來繫結至Active Directory。不會為NFS磁碟區和預設的隱藏管理共用建立SMB共用區（請參閱一節） <block ref="15f1050f174b7bbba32ef5b54c17bc40" category="inline-link-macro-rx"></block>）刪除共享ACL。</block>
  <block id="f3dad67ce399cefb4b495c573d3ddcb8" category="list-text">如果Cloud Volumes Service 將雙傳輸協定磁碟區用於執行此項目、則Cloud Volumes Service 只會使用專為SMB存取所建立的單一機器帳戶、將位於的LDAP用戶端連結至Active Directory。不會建立其他機器帳戶。</block>
  <block id="7168c010de7dd97d077c0e69f48cfbb5" category="list-text">如果專屬SMB磁碟區是分開建立（在啟用LDAP的NFS磁碟區之前或之後）、則LDAP繫結的機器帳戶會與SMB機器帳戶共用。</block>
  <block id="248e702975c1b53305536e1e9c698e19" category="list-text">如果也啟用NFS Kerberos、則會建立兩個機器帳戶：一個用於SMB共用和（或）LDAP繫結、另一個用於NFS Kerberos驗證。</block>
  <block id="738deb1a3cec2cc7d670e7de69d3a7c6" category="section-title">LDAP查詢</block>
  <block id="a204dba492103f34b09fe60e7ab98921" category="paragraph">雖然LDAP繫結已加密、但LDAP查詢會使用通用LDAP連接埠389、以純文字形式透過線路傳送。這個廣為人知的連接埠目前無法在Cloud Volumes Service 更新過程中進行變更。因此、在網路中存取封包偵測功能的人可以看到使用者和群組名稱、數字ID和群組成員資格。</block>
  <block id="d10f3c8108e06d8e622b7a6fb88adb08" category="inline-link-macro">「封包偵測/追蹤考量。」</block>
  <block id="b046f19aab64225d509f228ccd32fb2c" category="paragraph">不過、Google Cloud VM無法窺探其他VM的單點傳播流量。只有主動參與LDAP流量（亦即能夠連結）的VM、才能看到來自LDAP伺服器的流量。如需Cloud Volumes Service 更多有關資料包偵測功能的資訊、請參閱一節 <block ref="e06a781bd551a4c8ed55a5dfd008a50c" category="inline-link-macro-rx"></block></block>
  <block id="d815e456141423f092087c21cd312f23" category="section-title">LDAP用戶端組態預設值</block>
  <block id="1c1b57ee3fb14f95067e88e579a44eec" category="paragraph">在Cloud Volumes Service 某個實例中啟用LDAP時、預設會以特定組態詳細資料建立LDAP用戶端組態。在某些情況下、選項可能不適用於Cloud Volumes Service 不支援的功能（不支援）、也可能無法設定。</block>
  <block id="cc2eacdb2cc579f99a0f4359e61ed258" category="cell">LDAP用戶端選項</block>
  <block id="31ce3cdcd67850870b616f75b555bbc5" category="cell">預設值</block>
  <block id="216a8093d27a97d2912ed6822d19d410" category="cell">可以改變嗎？</block>
  <block id="ffe990396bf99448f8fe6e6fa1c3c3ea" category="cell">LDAP伺服器清單</block>
  <block id="0b22102603051537f2c4bfccc964b74e" category="cell">設定用於查詢的LDAP伺服器名稱或IP位址。這並不適用於Cloud Volumes Service 不適用。而是使用Active Directory網域來定義LDAP伺服器。</block>
  <block id="9ba66a9f92056682b7d86a38b4bc18c0" category="cell">未設定</block>
  <block id="f490d3302e7cd81f3dafead6c8311b60" category="cell">Active Directory網域</block>
  <block id="63dfe9dc44b2881b25560d6d5bd5dff6" category="cell">設定Active Directory網域用於LDAP查詢。利用DNS中的SRVs LDAP記錄、在網域中尋找LDAP伺服器。Cloud Volumes Service</block>
  <block id="6575821e7d2ff9eec297128f6e66933a" category="cell">設定為Active Directory連線中指定的Active Directory網域。</block>
  <block id="00227bc990a551282373139d6439feb4" category="cell">慣用的Active Directory伺服器</block>
  <block id="01d685ed68515214956910d3e26f1c71" category="cell">設定要用於LDAP的慣用Active Directory伺服器。不受Cloud Volumes Service 支援。而是使用Active Directory站台來控制LDAP伺服器選擇。</block>
  <block id="f41520c4ef898fb19bb93ee749be3fdd" category="cell">未設定。</block>
  <block id="b626ddcd91311f0f7c4622fdcb7ba05e" category="cell">使用SMB伺服器認證進行連結</block>
  <block id="cb97b8ae4a5bb23e8ffa9e1547fe5078" category="cell">使用SMB機器帳戶連結至LDAP。目前Cloud Volumes Service 、唯一受支援的LDAP綁定方法就是支援的功能。</block>
  <block id="f827cf462f62848df37c5e1e94a4da74" category="cell">是的</block>
  <block id="d95e3278cf3c7f4cd1d7e40c5a89e7a7" category="cell">架構範本</block>
  <block id="33387315b367e8397cc901a4bf37ad44" category="cell">用於LDAP查詢的架構範本。</block>
  <block id="16165a1c7229a30ce1a980b0e648d65f" category="cell">MS-AD-BIS</block>
  <block id="b825dd7cf8df99909db6f3117c567721" category="cell">LDAP伺服器連接埠</block>
  <block id="731fba188f3670e36bac64d2ca64db37" category="cell">用於LDAP查詢的連接埠號碼。目前僅使用標準LDAP連接埠389。Cloud Volumes Service目前不支援LDAPS/Port 636。</block>
  <block id="c86a7ee3d8ef0b551ed58e354a836f2b" category="cell">389</block>
  <block id="9a76dbbba394b04594907973bb6c192e" category="cell">是否已啟用LDAPS</block>
  <block id="98c3437e89f8128c7359f6b999731fcc" category="cell">控制LDAP over Secure Socket Layer（SSL）是否用於查詢和連結。目前不受Cloud Volumes Service 支援。</block>
  <block id="3452a15eecd4e9b3215025c747cfce4e" category="cell">查詢逾時（秒）</block>
  <block id="4fbc7a2f8fb9f56de093d04afac67fa3" category="cell">查詢逾時。如果查詢的時間超過指定值、查詢就會失敗。</block>
  <block id="4211f908e9b523117776324e2349a87c" category="cell">最小綁定驗證層級</block>
  <block id="cf6cfd37577ec3f1cc20caa7fb10bd45" category="cell">支援的最低連結層級。由於使用機器帳戶進行LDAP連結、且Active Directory預設不支援匿名連結、因此此選項不適用於安全性。Cloud Volumes Service</block>
  <block id="7079c72c21415131774625ba1d64f4b0" category="cell">匿名</block>
  <block id="58384d924f3205aaac5f4a09d3b33801" category="cell">連結DN</block>
  <block id="4d73cec492ef07eaddad38a4a553639d" category="cell">使用簡單繫結時用於繫結的使用者/辨別名稱（DN）。使用機器帳戶進行LDAP連結、目前不支援簡單的連結驗證。Cloud Volumes Service</block>
  <block id="6c22befafec962f5002017b68e639f92" category="cell">基礎DN</block>
  <block id="413689794b4599826344869870d6e0a7" category="cell">用於LDAP搜尋的基礎DN。</block>
  <block id="796658213567ec39e68bd43e48ac6eff" category="cell">Windows網域用於Active Directory連線、採用DN格式（亦即DC=DOWN, DC=local）。</block>
  <block id="30e8b85f236e0c0e7b13a8a98bd46d6f" category="cell">基礎搜尋範圍</block>
  <block id="26cbec2c997dd79e69cd5279817c5506" category="cell">基礎DN搜尋的搜尋範圍。值可以包括base、onel海拔 或子樹狀結構。僅支援子樹狀結構搜尋。Cloud Volumes Service</block>
  <block id="187c471e7dfcb7890077311c532fffd0" category="cell">子樹狀結構</block>
  <block id="de20d00fd9f0840e6c05dce6aca169e4" category="cell">使用者DN</block>
  <block id="4ddd431d35193d0d6dc9555aeecf86e1" category="cell">定義使用者開始搜尋LDAP查詢的DN。目前不支援Cloud Volumes Service 使用此功能、因此所有使用者搜尋都從基礎DN開始。</block>
  <block id="389048eda41eb7c0e810c83269814943" category="cell">使用者搜尋範圍</block>
  <block id="0c5e0f35296916ccacc860481c53c663" category="cell">使用者DN搜尋的搜尋範圍。值可以包括base、onel海拔 或子樹狀結構。不支援設定使用者搜尋範圍。Cloud Volumes Service</block>
  <block id="68a7f97c57468e034a3f8016831c3c54" category="cell">群組DN</block>
  <block id="5874ce023df38d8485da62d095f714f5" category="cell">定義群組開始搜尋LDAP查詢的DN。目前不支援Cloud Volumes Service 使用此功能、因此所有群組搜尋都會從基礎DN開始。</block>
  <block id="c76b264e7f1c2aadf6b61ca4a7b9dc52" category="cell">群組搜尋範圍</block>
  <block id="2d21b088cabd39a7f25a62fc99148f20" category="cell">群組DN搜尋的搜尋範圍。值可以包括base、onel海拔 或子樹狀結構。不支援設定群組搜尋範圍。Cloud Volumes Service</block>
  <block id="9819b4f0996b3e603488836501e3318e" category="cell">網路群組DN</block>
  <block id="b5e1f3448b6d3c978f83c2d3d12a2d1e" category="cell">定義netgroup開始搜尋LDAP查詢的DN。目前不支援Cloud Volumes Service 使用此功能、因此所有網路群組搜尋都會從基礎DN開始。</block>
  <block id="de25b155c30a2cba210598b604a5b8c8" category="cell">網路群組搜尋範圍</block>
  <block id="334dde86dbe71e59b3c942c6a2384d70" category="cell">netgroup DN搜尋的搜尋範圍。值可以包括base、onel海拔 或子樹狀結構。不支援設定netgroup搜尋範圍。Cloud Volumes Service</block>
  <block id="e2bdddbf27283c0eca38d39759107a44" category="cell">透過LDAP使用start_tls</block>
  <block id="24788f1c660aa47d895fa832d61d2fcf" category="cell">利用Start TLS透過連接埠389進行憑證型LDAP連線。目前不受Cloud Volumes Service 支援。</block>
  <block id="cb64fc71803a6196ec2185116e525243" category="cell">啟用各主機的網路群組查詢</block>
  <block id="d92aed09a16438d9bc4cf2735e54815f" category="cell">可依主機名稱進行網路群組查詢、而非展開網路群組以列出所有成員。目前不受Cloud Volumes Service 支援。</block>
  <block id="ae1e3e9f0f050830d9ad4ff1441a4080" category="cell">網路群組的主機DN</block>
  <block id="6dc9eeb7bc11f937a1c509e27237db6f" category="cell">定義netgroup by host開始搜尋LDAP查詢的DN。不支援Cloud Volumes Service 以主機為單位的netgroup。</block>
  <block id="0b5200ff3b38841dd95a404d7e6ff385" category="cell">Netgroup依主機搜尋範圍</block>
  <block id="4ce621e884478e7fc52e17ed91eed525" category="cell">netgroup by主機DN搜尋的搜尋範圍。值可以包括base、onel海拔 或子樹狀結構。不支援Cloud Volumes Service 以主機為單位的netgroup。</block>
  <block id="19a0fc26f19842a9f7bc78040d0c381c" category="cell">用戶端工作階段安全性</block>
  <block id="16ed23b379774b2be1797f8efa0fe9a5" category="cell">LDAP參照追蹤</block>
  <block id="a408a02f7b8e36f4913d8dc2debb2b95" category="cell">使用多個LDAP伺服器時、如果第一個伺服器中找不到項目、參照追蹤功能可讓用戶端參照清單中的其他LDAP伺服器。目前不支援此功能Cloud Volumes Service 。</block>
  <block id="5f362229a019eb903f4b21e28b15a1f5" category="cell">群組成員資格篩選器</block>
  <block id="55ad576cc6cd581d8a2f558d69828312" category="cell">提供自訂LDAP搜尋篩選器、以便在從LDAP伺服器查詢群組成員資格時使用。目前不支援Cloud Volumes Service 使用此功能。</block>
  <block id="b735835c02ee9b8eba41846beea27bc6" category="section-title">使用LDAP進行非對稱名稱對應</block>
  <block id="10d248b3ae3729560e0f9f75ff23f70e" category="paragraph">根據預設、不需特殊組態、即可雙向對應具有相同使用者名稱的Windows使用者和UNIX使用者。Cloud Volumes Service只要Cloud Volumes Service 找到有效的UNIX使用者（使用LDAP）、就會產生1：1名稱對應。例如、如果使用Windows使用者「johnsmith」、Cloud Volumes Service 那麼如果在LDAP中找到名為「johnsmith」的UNIX使用者、則名稱對應會為該使用者成功、所有由「johnsmith」建立的檔案/資料夾都會顯示正確的使用者擁有權、 而影響「johnsmith」的所有ACL、無論使用的是哪種NAS傳輸協定、都是受到尊重的。這稱為對稱名稱對應。</block>
  <block id="a4e6c429f8e2b5bc009025d9469cd6bd" category="paragraph">非對稱名稱對應是指Windows使用者和UNIX使用者身分不相符的情況。舉例Cloud Volumes Service 來說、如果Windows使用者「johnsmith」的UNIX身分為「jsmith」、那麼就需要一種方式來瞭解這種差異。由於目前不支援建立靜態名稱對應規則、因此LDAP必須用於查詢Windows和UNIX身分識別的使用者身分、以確保檔案和資料夾擁有適當的所有權、以及預期的權限。Cloud Volumes Service</block>
  <block id="159e0e9db457fce00641b7a639cdfef9" category="paragraph">根據預設Cloud Volumes Service 、在名稱對應資料庫的n-switches中加入「LDAP」、以便使用LDAP提供非對稱名稱的名稱對應功能、您只需修改部分使用者/群組屬性、以反映Cloud Volumes Service 出本產品的外觀。</block>
  <block id="5083578eb1523417a04b030704e11a97" category="paragraph">下表顯示在LDAP中必須填入哪些屬性才能使用非對稱名稱對應功能。在大多數情況下、Active Directory已設定為執行此作業。</block>
  <block id="2e4b53007a09bf23d9111917c46d1902" category="cell">屬性Cloud Volumes Service</block>
  <block id="009097a0950f2d6565c2cb446aa081dd" category="cell">供名稱對應之用的值Cloud Volumes Service</block>
  <block id="df642bb30c436da15b0b74923cb45806" category="cell">Windows到UNIX的objectClass</block>
  <block id="75f68f87af42701b9e548f875f39cefe" category="cell">指定要使用的物件類型。（也就是使用者、群組、posixAccount等）</block>
  <block id="2b731e8ed189a8b7587c21b21d6620cf" category="cell">必須包含使用者（如有需要、可包含多個其他值）。</block>
  <block id="288eebd1d2cddc03953f475edbcb2d5f" category="cell">Windows至UNIX屬性</block>
  <block id="1b356493e583b25fdd7b1e44d6a4df0d" category="cell">定義建立時的Windows使用者名稱。可將此功能用於Windows到UNIX的查詢。Cloud Volumes Service</block>
  <block id="5ce0ca6d681fede8d46460fed64bf8ef" category="cell">此處無需變更；sAMAccountName與Windows登入名稱相同。</block>
  <block id="e7d22294bdcb7133967c3548ece982e5" category="cell">UID</block>
  <block id="d93b9102027ae26f7bbfa53ff0cd3f28" category="cell">定義UNIX使用者名稱。</block>
  <block id="abd2101078216980cdcf2dc6f87172b9" category="cell">所需的UNIX使用者名稱。</block>
  <block id="78e7065e65f76fc53c1953f598d424de" category="paragraph">由於目前無法在LDAP查詢中使用網域前置碼、因此多個網域LDAP環境無法在LDAP namemap查詢中正常運作。Cloud Volumes Service</block>
  <block id="1a19ad8ba3f26bc83d40bf699210c5b3" category="paragraph">以下範例顯示Windows名稱為「不對稱」、UNIX名稱為「UNIX使用者」的使用者、以及從SMB和NFS寫入檔案時所遵循的行為。</block>
  <block id="cf613896f3bf97cfe22b19367188faac" category="paragraph">下圖顯示LDAP屬性從Windows伺服器的外觀。</block>
  <block id="bb859b3ee7438471d7bd0441aec37b09" category="paragraph"><block ref="bb859b3ee7438471d7bd0441aec37b09" category="inline-image-macro-rx" type="image"></block></block>
  <block id="74a3bb1b92afc37821849f4d2c6a2e08" category="paragraph">從NFS用戶端、您可以查詢UNIX名稱、但不能查詢Windows名稱：</block>
  <block id="9a9b54fd5d17009b1290538bd0bea332" category="paragraph">從NFS將檔案寫入為「UNIX使用者」時、NFS用戶端會產生下列結果：</block>
  <block id="2d78fc711a4a8afa3553c40cb81a7f5a" category="paragraph">從Windows用戶端、您可以看到檔案擁有者已設定為適當的Windows使用者：</block>
  <block id="dd276babf175f2baaf7d31c63630e9ce" category="paragraph">相反地、Windows使用者從SMB用戶端建立的「非對稱」檔案、會顯示適當的UNIX擁有者、如下文所示。</block>
  <block id="840e343f2946d2e3ecafb4d3af6751c5" category="paragraph">中小企業：</block>
  <block id="7369fcede1216c5a449bffa4016f597a" category="paragraph">NFS：</block>
  <block id="1a2ced64ce54d0878867c66c1264ef73" category="section-title">LDAP通道繫結</block>
  <block id="7bc3122060898b084ade9ae81cb840d5" category="inline-link">Microsoft安全性摘要報告ADV190023</block>
  <block id="9c2bd50d1c3b17373f80735ce60e0d91" category="paragraph">由於Windows Active Directory網域控制器存在弱點、<block ref="9230172696f08489abbbe06ad2878984" category="inline-link-rx"></block> 變更DC允許LDAP繫結的方式。</block>
  <block id="c389bcb5002ce56cb9cf28680eb6ff4c" category="paragraph">對功能的影響Cloud Volumes Service 與對任何LDAP用戶端的影響相同。目前不支援通道連結。Cloud Volumes Service由於根據預設、透過協商來支援LDAP簽署、因此LDAP通道繫結不應成為問題。Cloud Volumes Service如果您在啟用通道繫結的情況下、無法連結至LDAP、請遵循ADV190023的修正步驟、讓LDAP從Cloud Volumes Service 支援區連結成功。</block>
  <block id="ed5f2bdecbd4bd349d09412d1ff6a6fb" category="section-title">DNS</block>
  <block id="8cc300201cbc74e712f45393efb60e69" category="inline-link">動態DNS</block>
  <block id="80052c998ef6da49a98a2d9004c75c33" category="paragraph">Active Directory和Kerberos都依賴DNS來解析主機名稱與IP / IP之間的主機名稱。DNS需要開啟連接埠53。不修改DNS記錄、也不支援使用Cloud Volumes Service<block ref="2df544fb17221302fef729d1eb6bd715" category="inline-link-rx"></block> 在網路介面上。</block>
  <block id="5f36386498075ef9c05d674112b69981" category="inline-link">安全的Windows DNS</block>
  <block id="e3aa134886f9dad39f14489844fe7763" category="paragraph">您可以設定Active Directory DNS、限制哪些伺服器可以更新DNS記錄。如需詳細資訊、請參閱<block ref="1abda701cc77717e0b1a0b391ec2fed8" category="inline-link-rx"></block>。</block>
  <block id="e8ba0470f4bd2498fbecdead3ab1b183" category="paragraph">請注意、Google專案中的資源預設為使用Google Cloud DNS、而Google Cloud DNS並未與Active Directory DNS連線。使用Cloud DNS的用戶端無法解析Cloud Volumes Service 由解決所傳回的UNC路徑。加入Active Directory網域的Windows用戶端已設定為使用Active Directory DNS、並可解析此類的UNC路徑。</block>
  <block id="71870bac7a9267067ab69566f75d36c3" category="inline-link">為什麼我的用戶端無法解析SMB NetBios名稱？</block>
  <block id="b0ffc266c9e05cd7ae80810305b932bf" category="paragraph">若要將用戶端加入Active Directory、您必須將其DNS組態設定為使用Active Directory DNS。您也可以設定Cloud DNS、將要求轉送至Active Directory DNS。請參閱<block ref="d568657413aac86de4b237a9edcddc2d" category="inline-link-rx"></block>以取得更多資訊。</block>
  <block id="a0c7db04deaabb45ee60d5a501e67eb8" category="admonition">目前不支援DNSSEC、DNS查詢則以純文字執行。Cloud Volumes Service</block>
  <block id="c3a18bc4fd14cf11bc551540f29f6375" category="section-title">檔案存取稽核</block>
  <block id="cc6e776769986190d1536969ad7e5307" category="paragraph">目前不支援Cloud Volumes Service 使用此功能。</block>
  <block id="5cffe1f133f0ed3a472da05d0b1d3f0d" category="section-title">防毒保護</block>
  <block id="2b91875198ddd07e9b4cff7f1fe46663" category="paragraph">您必須在Cloud Volumes Service 用戶端執行「從位向至NAS共享區的」功能中的防毒掃描。目前沒有原生的防毒整合Cloud Volumes Service 功能可搭配使用。</block>
  <block id="f0e8b8e3bd62a1e919cd1935e44bf79c" category="inline-link-macro">下一步：服務營運。</block>
  <block id="fba0107176535938bcee4c0774160668" category="paragraph"><block ref="fba0107176535938bcee4c0774160668" category="inline-link-macro-rx"></block></block>
  <block id="fd7d290d66c64aa2fc13dd9bbca9c540" category="summary">支援將相同的資料集共享給SMB和NFS用戶端、同時維持適當的雙傳輸協定存取權限。Cloud Volumes Service這是透過協調不同傳輸協定之間的身分識別對應、以及使用集中式後端LDAP伺服器、將UNIX身分識別提供Cloud Volumes Service 給支援中心來完成。您可以使用Windows Active Directory為Windows和UNIX使用者提供方便使用的功能。</block>
  <block id="d27d01220b09abd6dc8be87dd2b7f8d4" category="doc">雙傳輸協定/多傳輸協定</block>
  <block id="8c14d6d170254470aea76e2185e26901" category="inline-link-macro">上一篇：SMB。</block>
  <block id="692e0ebc2797e7ae1a9618bdac0b5c02" category="paragraph"><block ref="692e0ebc2797e7ae1a9618bdac0b5c02" category="inline-link-macro-rx"></block></block>
  <block id="9a5ba82ef925964774fad34d380585ce" category="inline-link">雙傳輸協定</block>
  <block id="afbf550dbb927e70d6e5e81aba4cf54e" category="paragraph">支援將相同的資料集共享給SMB和NFS用戶端、同時維持適當的存取權限Cloud Volumes Service <block ref="090248040bf8d7cbf59e0f5bcb2aeb23" category="inline-link-rx"></block>）。這是透過協調不同傳輸協定之間的身分識別對應、以及使用集中式後端LDAP伺服器、將UNIX身分識別提供Cloud Volumes Service 給支援中心來完成。您可以使用Windows Active Directory為Windows和UNIX使用者提供方便使用的功能。</block>
  <block id="65bd83537129be15c8027ec94bec5bd3" category="section-title">存取控制</block>
  <block id="b481dc764d87d694bd99e41051212b98" category="inline-link-macro">「擁有本機/BUILTIN/系統管理員/備份權限的帳戶。」</block>
  <block id="4349221797619aa2539cd1d814d55cf3" category="inline-link">MMC/電腦管理</block>
  <block id="ab67de3b2d37b16da324871c9cd7f96b" category="list-text">*共享存取控制。*決定哪些用戶端和（或）使用者和群組可以存取NAS共用區。對於NFS、匯出原則和規則會控制用戶端對匯出的存取。NFS匯出是從Cloud Volumes Service 整個過程中管理。SMB使用CIFS/SMB共用和共用ACL、在使用者和群組層級提供更精細的控制。您只能使用從SMB用戶端設定共用層級ACL<block ref="dbc4cec831b164bbb509e51caacd0209" category="inline-link-rx"></block> 擁有Cloud Volumes Service 管理員權限的帳戶（請參閱一節） <block ref="c9946e41ec7364b03516e2beacd1b339" category="inline-link-macro-rx"></block>）。</block>
  <block id="1020ac8238c0e64a401514745b8a3c6a" category="list-text">*檔案存取控制。*控制檔案或資料夾層級的權限、且永遠從NAS用戶端進行管理。NFS用戶端可以使用傳統模式位元（rwx）或NFSv4 ACL。SMB用戶端運用NTFS權限。</block>
  <block id="dcfd17a407b936210845de342300e631" category="paragraph">將資料提供給NFS和SMB的磁碟區存取控制權取決於使用中的傳輸協定。如需雙協定權限的相關資訊、請參閱「」一節<block ref="7251f6a3aba1b22d43e125a8c39f6f0a" category="inline-xref-macro-rx"></block>。」</block>
  <block id="20d918db09dacfd5fbfbaadfaede2f80" category="section-title">使用者對應</block>
  <block id="c9677302c2548820abda217b496a541b" category="paragraph">當用戶端存取Volume時Cloud Volumes Service 、嘗試將傳入的使用者對應至相反方向的有效使用者。這是確定跨傳輸協定適當存取的必要條件、並確保要求存取的使用者確實是他們聲稱的對象。</block>
  <block id="7e9b11fc569fee58c3b42b689df2fbec" category="paragraph">例如、如果名為「Joe」的Windows使用者嘗試透過SMB存取具有UNIX權限的Volume、Cloud Volumes Service 則會執行搜尋、尋找名為「Joe」的對應UNIX使用者。如果存在、則以Windows使用者「Joe」的身分寫入SMB共用區的檔案會顯示為來自NFS用戶端的UNIX使用者「Joe」。</block>
  <block id="b9e4f77748fb373f23ad2bc9eb2d3de0" category="paragraph">或者、如果名為「Joe」的UNIX使用者嘗試以Cloud Volumes Service Windows權限存取某個Windows Volume、則UNIX使用者必須能夠對應至有效的Windows使用者。否則、將拒絕存取磁碟區。</block>
  <block id="98b9b81e4ad07f5198dd8381a0c5d43c" category="inline-link">建立AD連線</block>
  <block id="d6210f83492bb730b32d0e719a1d5100" category="paragraph">目前、只有Active Directory支援使用LDAP進行外部UNIX身分識別管理。如需設定此服務存取權的詳細資訊、請參閱<block ref="cfe0f81fca904ab10d3dcbbfceb0f3de" category="inline-link-rx"></block>。</block>
  <block id="7fc7c5bf3cd7f453807f2e17dc846957" category="section-title">權限模式</block>
  <block id="94b74cdf7c7dc9ef00fc04cf642127d9" category="paragraph">使用雙傳輸協定設定時Cloud Volumes Service 、利用磁碟區的安全樣式來判斷ACL的類型。這些安全型態是根據所指定的NAS傳輸協定來設定、或是在建立Cloud Volumes Service 完實體磁碟區時選擇使用雙傳輸協定。</block>
  <block id="b3544688f5ad40244fc991f13471c525" category="list-text">如果您只使用NFS、Cloud Volumes Service 則Sfelles Volume會使用UNIX權限。</block>
  <block id="95b899e9e3d21a94ae7e8ce04eac3bb3" category="list-text">如果您只使用SMB、Cloud Volumes Service 則支援使用NTFS權限的功能。</block>
  <block id="51c16477dee3c257c4930e8614eda5ba" category="paragraph">如果要建立雙傳輸協定磁碟區、您可以在建立磁碟區時選擇ACL樣式。這項決定應以所需的權限管理為基礎。如果使用者管理來自Windows / SMB用戶端的權限、請選取NTFS。如果您的使用者偏好使用NFS用戶端和chmod/chown、請使用UNIX安全性樣式。</block>
  <block id="fd859db4ea28a81227f07e2c125fc927" category="inline-link-macro">下一步：建立Active Directory連線的考量事項。</block>
  <block id="bc695a7a8573373413beec401ab691e1" category="paragraph"><block ref="bc695a7a8573373413beec401ab691e1" category="inline-link-macro-rx"></block></block>
  <block id="451abeb07875465ff669fc3bfc502564" category="summary">安全性、尤其是在基礎架構不受儲存管理員控制的雲端環境中、對於信任您的資料、以提供由雲端供應商提供的服務而言、是非常重要的。本文件概述NetApp Cloud Volumes Service 支援Google Cloud的安全功能。</block>
  <block id="85f174d487aef272a0a9ea0f980e4827" category="doc">TR-4918：安全性總覽- Google Cloud Volumes Service Cloud中的NetApp功能</block>
  <block id="09f7873d6f07efaef82aef2b95f42e0a" category="paragraph">Oliver Krause、Justin Parisi、NetApp</block>
  <block id="1e06922fd676ae97f9dc69dbbfc93992" category="section-title">文件範圍</block>
  <block id="c2f1a37c5b3a149d2e79ad5a41c86139" category="inline-link">支援Google Cloud Cloud Volumes Service</block>
  <block id="c2197b5184a5af948e5dc6e6dcf6e5c3" category="paragraph">安全性、尤其是在基礎架構不受儲存管理員控制的雲端環境中、對於信任您的資料、以提供由雲端供應商提供的服務而言、是非常重要的。本文檔概述NetApp提供的安全產品<block ref="b29f7971c7793aea2bb4311fa5c38ee0" category="inline-link-rx"></block>。</block>
  <block id="f2b84afd0523a6df7547c404aa3647d8" category="section-title">目標對象</block>
  <block id="75ff467aeacdad8bd3ed9fe31431d022" category="paragraph">本文件的目標對象包括但不限於下列角色：</block>
  <block id="3487d2ed085064f5b68318d25038bcd6" category="list-text">雲端供應商</block>
  <block id="203ea32883f92321782cc1a312345903" category="list-text">儲存管理員</block>
  <block id="7e89bd35a6b8558a95e9e4ec446df00d" category="list-text">儲存架構設計師</block>
  <block id="528efe83de18ec1cf2eb982cc641bb89" category="list-text">現場資源</block>
  <block id="a6205b388d7b872550efc1a57461e045" category="list-text">企業決策者</block>
  <block id="d9a404dc3c51a0dfc2360a6f7f97c00c" category="inline-link-macro">「聯絡我們」。</block>
  <block id="ec45e675f8dd5d470d6edacfc9ac6a2d" category="paragraph">如果您對本技術報告內容有任何疑問、請參閱一節 <block ref="bbd2d7f57ba5e479a6b271845e2b7ec0" category="inline-link-macro-rx"></block></block>
  <block id="b54d58d7e43c404563f91e38d3efbcac" category="cell">縮寫</block>
  <block id="0b890b1926b90387673882e6ccae7fdc" category="cell">定義</block>
  <block id="e898e7a5df4dec909ad011657b510e2d" category="cell">CVS軟體</block>
  <block id="3b558136fa0b6447d030d5fd2d28765b" category="cell">支援服務類型CVS Cloud Volumes Service</block>
  <block id="439d7969e09b4b31626fcf209b8fdcb7" category="cell">CVS效能</block>
  <block id="3da305112390b1f2d5e6ad8818e00065" category="cell">Cloud Volume Service、服務類型CVs-Performance</block>
  <block id="041159b903daf7d5923837346de98407" category="cell">PSA</block>
  <block id="eb2108209f61048e4b7ebba4b61f91ee" category="inline-link-macro">下一步：Cloud Volumes Service Google Cloud的功能介紹如何保護資料安全。</block>
  <block id="4c9538193c211d1d025b959f6407da23" category="paragraph"><block ref="4c9538193c211d1d025b959f6407da23" category="inline-link-macro-rx"></block></block>
  <block id="60298c0c8282022dec640948e48114c1" category="summary">這個支援團隊負責管理Google Cloud的後端服務、並運用多種策略來保護平台安全、防止不必要的存取。Cloud Volumes Service</block>
  <block id="d5558f87207ef258cc599e6b4f31fa1f" category="doc">服務營運</block>
  <block id="23fa70110ac44a6aa038c42f52919e60" category="inline-link-macro">先前版本：其他NAS基礎架構服務相依性（Kdc、LDAP、DNS）。</block>
  <block id="09db248feade063e1b222ff7a6fa8bae" category="paragraph"><block ref="09db248feade063e1b222ff7a6fa8bae" category="inline-link-macro-rx"></block></block>
  <block id="01f3694459a5570182960c35de3adea0" category="paragraph">每位客戶都有自己專屬的子網路、預設會有與其他客戶隔離的存取權限、Cloud Volumes Service 而在這個子網路中、每個租戶都會獲得自己的命名空間和VLAN、以實現整體資料隔離。驗證使用者之後、服務交付引擎（SDE）只能讀取該租戶專屬的組態資料。</block>
  <block id="3efd389b601ec82d2d3d7d1fe8c7a952" category="section-title">實體安全性</block>
  <block id="e6cbbd1872a42cfa36ceca16da55e6af" category="paragraph">在適當的預先核准下、只有現場工程師和NetApp認可的現場支援工程師（FSE）才能存取機箱和機架進行實體工作。不允許進行儲存與網路管理。只有這些現場資源能夠執行硬體維護工作。</block>
  <block id="f4cc7ff420af18ead26b06b01e65be30" category="paragraph">對於現場工程師、會提出一份工作說明書（SOW）的票證、其中包括機架ID和裝置位置（RU）、以及所有其他詳細資料均包含在票證中。對於NetApp FSE、必須向Colo出示網站參訪票證、票證中必須包含訪客的詳細資料、日期和時間、以供稽核之用。FSE的SOW會在內部傳達給NetApp。</block>
  <block id="e6da80db21921cfa31a2ec8ae71c8a44" category="section-title">營運團隊</block>
  <block id="575c886f27b4fd6adbc422b9466a7d77" category="paragraph">支援此功能的營運團隊Cloud Volumes Service 由Production Engineering和Site可靠性工程師（SRE）組成、負責雲端Volume Services、以及NetApp現場支援工程師和硬體合作夥伴。所有營運團隊成員均已獲得Google Cloud認證、並會針對每張提出的問題單、維護詳細的工作記錄。此外、也有嚴格的變更控管與核准程序、確保每項決策都經過適當的審查。</block>
  <block id="62b92b1afcd6e99ad8ef6fc6e66fe1c6" category="paragraph">SRE團隊負責管理控制面板、以及如何將資料從UI要求路由傳送至Cloud Volumes Service 支援的後端硬體和軟體。SRE團隊也會管理系統資源、例如磁碟區和inode上限。SRES不得與客戶資料互動或存取。SRES也能與退貨材料授權（RMA）協調、例如新磁碟或後端硬體的記憶體更換要求。</block>
  <block id="20ac318b6aafb241498518b27a204f2d" category="section-title">客戶責任</block>
  <block id="5b18708f6a9b76d94aad073287e9c4aa" category="paragraph">客戶負責管理組織的Active Directory和使用者角色管理、以及磁碟區和資料作業。Cloud Volumes Service客戶可以擁有管理角色、並可使用NetApp和Google Cloud提供的兩個預先定義角色（管理員和檢視者）、將權限委派給同一個Google Cloud專案中的其他終端使用者。</block>
  <block id="70612d623f8ac2ccbad1aa9289e54eb2" category="paragraph">系統管理員可以對等客戶專案中的任何VPC、Cloud Volumes Service 使客戶認爲適當。客戶有責任管理其Google Cloud市場訂閱的存取權、以及管理可存取資料層面的VPC。</block>
  <block id="1e9614b8d81927a9e9bad94fe64884d6" category="section-title">惡意SRE保護</block>
  <block id="1ced9b3b1b2408070d8594c7310def52" category="paragraph">可能會產生的一項疑慮是Cloud Volumes Service 、當發生惡意SRE或SRE認證遭入侵時、如何保護不受攻擊？</block>
  <block id="0cf58dc2d9a00ecaeb191e61685b36e5" category="paragraph">只有少數SRE人員能夠存取正式作業環境。系統管理權限進一步限制給少數經驗豐富的系統管理員。我們的安全資訊與事件管理（SIEM）威脅情報平台會記錄所有在整個流程環境中由任何人執行的行動Cloud Volumes Service 、並偵測到任何基礎異常或可疑活動。因此、在Cloud Volumes Service 對該後端造成太多損害之前、可以追蹤並減輕惡意行為。</block>
  <block id="9893b21aa64e031fdfd6920fef8147a3" category="section-title">Volume生命週期</block>
  <block id="1135939baa7babe550972f3d2430315f" category="paragraph">僅管理服務中的物件、而非磁碟區內的資料。Cloud Volumes Service只有存取磁碟區的用戶端才能管理資料、ACL、檔案擁有者等。這些磁碟區中的資料會在閒置時加密、而且只能由Cloud Volumes Service 執行個體的租戶存取。</block>
  <block id="dd04bd242a373a0c9b066d0704ba4d66" category="paragraph">支援的Volume生命週期Cloud Volumes Service 是「cree-update-delete」。Volume會保留Volume的Snapshot複本、直到磁碟區被刪除為止、而且只有通過驗證Cloud Volumes Service 的NetApp管理員才能刪除Cloud Volumes Service 整個實體中的Volume。當系統管理員要求刪除磁碟區時、需要輸入磁碟區名稱的其他步驟來驗證刪除作業。刪除磁碟區後、磁碟區便會消失、無法恢復。</block>
  <block id="1744c1e09f5b1b7990b7f2b80a7a9500" category="paragraph">如果終止了某個方面的合約、NetApp會在特定時間段後將磁碟區標示為刪除。Cloud Volumes Service在該期間到期之前、您可以應客戶的要求來恢復磁碟區。</block>
  <block id="13e637fe96062929286b911c16b3c2df" category="section-title">認證</block>
  <block id="af06a002abcc2b02896192d8fd1052cd" category="inline-link">法規遵循：資料安全與資料隱私</block>
  <block id="258a58248bd2280e3d97717c4150b3cf" category="paragraph">Cloud Volumes Services for Google Cloud目前已通過ISO/IEC 27001：2013和ISO/IEC 27018：2019標準的認證。該服務最近也收到SOC2類型I證明報告。如需NetApp對資料安全性與隱私權承諾的相關資訊、請參閱<block ref="751448d9ace7c1569cfa25749b75ea26" category="inline-link-rx"></block>。</block>
  <block id="4e94c8ad46c8aef1ca637841dfbe2159" category="section-title">GDPR</block>
  <block id="ee69241049506ca93a3a1cd627e44851" category="inline-link">客戶合約</block>
  <block id="15655a5f67808f893102ffa3cbde3b01" category="inline-link">客戶資料處理附錄</block>
  <block id="cd0ae90a69c7d21d42b18252b9e1707d" category="inline-link">標準合約條款</block>
  <block id="de315e46a9bdf4936de71254f87d2fe0" category="paragraph">我們對隱私權和遵守GDPR的承諾、已在我們的多個公司中提供 <block ref="c2118342007d8714fcb1b4f6106c575c" category="inline-link-rx"></block>、例如我們的<block ref="7f657124cd056ea8e74c57dcafd4df75" category="inline-link-rx"></block>、其中包括 <block ref="85bd1a4ed188bfd53fcaef2fb6e1962a" category="inline-link-rx"></block> 由歐盟委員會提供。我們也會在隱私權政策中做出這些承諾、並以公司行為準則中所列的核心價值為後盾。</block>
  <block id="648d64814699b339816911e595b789cd" category="inline-link-macro">下一步：其他資訊、版本歷程記錄及聯絡資訊。</block>
  <block id="259ea0e5275404f9f6b7793a369cf8d5" category="paragraph"><block ref="259ea0e5275404f9f6b7793a369cf8d5" category="inline-link-macro-rx"></block></block>
  <block id="81e9930d895d3e301d9d41dffc998bf4" category="summary">信任雲端解決方案的一部分是瞭解架構及其安全性。本節說明Cloud Volumes Service Google中的各個環節、以協助您減輕資料安全的潛在疑慮、並指出可能需要採取額外組態步驟才能獲得最安全部署的領域。</block>
  <block id="cce1d49f67059a9bd1ae8d0bdb0c40c6" category="inline-link-macro">先前版本：安全考量與攻擊面。</block>
  <block id="64ff582fefc046b48708216a4686161c" category="paragraph"><block ref="64ff582fefc046b48708216a4686161c" category="inline-link-macro-rx"></block></block>
  <block id="e5a9d7217b1490853e4230120cdedb32" category="paragraph">整體的架構Cloud Volumes Service 可以分為兩個主要元件：控制面板和資料面板。</block>
  <block id="650717c72d7a99e6505592f83821e4ed" category="section-title">控制面</block>
  <block id="b2b6e947ec64376b51417e89ab29e213" category="paragraph">在這個過程中、由NetApp原生自動化軟體的管理員負責管理後端基礎架構。Cloud Volumes Service Cloud Volumes Service此架構對終端使用者完全透明、包括網路、儲存硬體、軟體更新等、有助於為Cloud Volumes Service 諸如更新的雲端解決方案提供價值。</block>
  <block id="52a0e67f81bfbe486860a8219dfb3707" category="section-title">資料平面</block>
  <block id="9d4d4fccf74cab21d8073077985a0cf6" category="paragraph">在資料架構Cloud Volumes Service 中、資料層面包括實際的資料量和Cloud Volumes Service 整體的支援（例如存取控制、Kerberos驗證等）。資料平面完全由Cloud Volumes Service 最終使用者和使用者控制。</block>
  <block id="099a80e29da5319c76116b6b2b41b2bf" category="paragraph">每個平面的安全與管理方式各有不同。以下各節涵蓋這些差異、從Cloud Volumes Service 架構概述開始。</block>
  <block id="69259c19ec0d9503c7d352a664a85953" category="inline-link-macro">下一步：Cloud Volumes Service 架構。</block>
  <block id="06ef1ecb5da986ebfb9901831437a0d8" category="paragraph"><block ref="06ef1ecb5da986ebfb9901831437a0d8" category="inline-link-macro-rx"></block></block>
  <block id="9114bfd7ba3e781df4e595c0a3199bfb" category="summary">瞭解如何保護資料安全的第一步、就是找出風險和潛在的攻擊面。</block>
  <block id="d446619c29484b970941bed7884dfd57" category="doc">安全考量與攻擊面</block>
  <block id="9835bd91d6121b399eb4318f5f6aecab" category="inline-link-macro">上一篇：Cloud Volumes Service Google Cloud的功能介紹如何保護資料安全。</block>
  <block id="00bbf283b6d94328be9e19fd69a5e57d" category="paragraph"><block ref="00bbf283b6d94328be9e19fd69a5e57d" category="inline-link-macro-rx"></block></block>
  <block id="da24915274d8feb20f2be6f37c42bb43" category="paragraph">瞭解如何保護資料安全的第一步、就是找出風險和潛在的攻擊面。其中包括（但不限於）下列項目：</block>
  <block id="1f48f12466296c53740ed0375b4d0111" category="list-text">系統管理與登入</block>
  <block id="78b73d10586b526c3f0d3f97bd32dfba" category="list-text">閒置資料</block>
  <block id="42517361027a563c9ab61d813badc939" category="list-text">資料傳輸中</block>
  <block id="58be36e591707c2a60f9bed405a8ef25" category="list-text">網路和防火牆</block>
  <block id="3a7d83d110f5fe7d4f435b9594806caf" category="list-text">勒索軟體、惡意軟體和病毒</block>
  <block id="417a78919920edf51d22038b236740f1" category="paragraph">瞭解攻擊面可協助您更妥善地保護環境安全。在Google Cloud中、不需進行任何管理互動、即可將許多主題納入考量、並在預設情況下實作安全功能。Cloud Volumes Service</block>
  <block id="70e43ccaf26985ea09dd44568ea9f36b" category="section-title">確保安全登入</block>
  <block id="67fe2a3de92df4f2c45227cff1adea77" category="paragraph">保護關鍵基礎架構元件的安全時、必須確保只有獲核准的使用者才能登入及管理您的環境。如果不良的使用者違反您的管理認證、他們就能擁有城堡的金鑰、而且可以執行任何他們想要的動作：變更組態、刪除磁碟區和備份、建立後端或停用Snapshot排程。</block>
  <block id="3a2f2973e275ef04d08d1dda935f1ee0" category="paragraph">支援Google Cloud的解決方案可透過模糊化的儲存即服務（StaaS）、防止未經授權的系統管理登入。Cloud Volumes Service由雲端供應商完全維護、無法從外部登入。Cloud Volumes Service所有的設定和組態作業都是完全自動化的、因此除非情況非常罕見、否則人員管理員永遠不需要與系統互動。</block>
  <block id="22b01eb5fb8c08ffb16c6ef9ef8b71b6" category="inline-link-macro">「架構」Cloud Volumes Service 。</block>
  <block id="b019d60ff2b9589700c94d2d71d13c8f" category="paragraph">如果需要登入、Cloud Volumes Service Google Cloud中的功能驗證可確保登入安全、只要維護一份可供登入系統之受信任系統管理員的簡短清單即可。這項網關保存功能有助於減少可能的不良使用者存取權。此外、Google Cloud網路也將系統隱藏在網路安全層的背後、只向外界公開所需的內容。如需Google Cloud Cloud Volumes Service 的資訊、請參閱「架構」一節 <block ref="d008df97450ac642ad54d58196f67862" category="inline-link-macro-rx"></block></block>
  <block id="582157e9744c945cab3000f99e5c51f4" category="section-title">叢集管理與升級</block>
  <block id="ac816ab3f2fb9ede37e87c223bf39690" category="paragraph">有潛在安全風險的兩個領域包括叢集管理（如果不良的使用者具有管理存取權限、會發生什麼事）和升級（如果軟體映像遭到破壞、會發生什麼事）。</block>
  <block id="e3f83199a3d154c9a938a90ed76188d4" category="section-title">儲存管理保護</block>
  <block id="e9406b6097629a60364e6b24a83dd40b" category="inline-link-macro">「服務營運。」</block>
  <block id="a16c40cfa1517a64fe23c8a84e7fca32" category="paragraph">儲存設備即服務可移除對雲端資料中心外部終端使用者的存取權限、進而移除管理員曝險的額外風險。而唯一的組態是由客戶進行資料存取。每個租戶都會管理自己的磁碟區、而且沒有租戶能夠觸及其他Cloud Volumes Service 的實體執行個體。此服務是由自動化管理、其中只有一小份受信任的系統管理員清單、可透過本節所述的程序存取系統 <block ref="b466e98e9a7ec570a0e595b4839650b9" category="inline-link-macro-rx"></block></block>
  <block id="bc94b58452719d0cfedd1ceb30c4fd53" category="paragraph">CVS效能服務類型提供跨區域複寫選項、可在區域故障時、為不同區域提供資料保護。在這些情況Cloud Volumes Service 下、可將無法存取的功能故障轉移至未受影響的區域、以維持資料存取。</block>
  <block id="b8bb5b62315a69e1364d070de73bbfa5" category="section-title">服務升級</block>
  <block id="a5e1144c0e37d7facbd53bdffaa58f52" category="paragraph">更新有助於保護易受影響的系統。每項更新都提供安全性增強功能和錯誤修正、可將攻擊面減至最低。軟體更新是從集中式儲存庫下載、並在允許更新之前驗證、以驗證是否使用正式映像、以及升級是否受到不良行為的影響。</block>
  <block id="79f1689ccfaec67bc50dd620185adbac" category="paragraph">有了NetApp、雲端供應商團隊就能處理更新、提供具備組態與升級能力的專家、並將程序自動化且經過完整測試、藉此消除系統管理員團隊面臨的風險風險。Cloud Volumes Service升級不會中斷營運、Cloud Volumes Service 而為了獲得最佳整體效果、我們會維護最新的更新。</block>
  <block id="6a274e2791c8f2a1f59a7a6f87261122" category="paragraph">如需執行這些服務升級之系統管理員團隊的相關資訊、請參閱一節 <block ref="b466e98e9a7ec570a0e595b4839650b9" category="inline-link-macro-rx"></block></block>
  <block id="eeae9bcc33a487e1224ffb4815f79821" category="section-title">保護閒置資料的安全</block>
  <block id="11062b94d57add7cf5c44a9ec7e9274c" category="paragraph">當磁碟遭竊、退回或重新使用時、靜止資料加密對於保護敏感資料非常重要。使用軟體式加密、可保護靜態資料Cloud Volumes Service 。</block>
  <block id="ad04a8dc3b058793f75e8c97c787ceea" category="list-text">Google產生的金鑰用於CVs-SW。</block>
  <block id="b114edcfa107ab9d459e2e75aea2cfdb" category="inline-link">FIPS 140-2認證編號4144</block>
  <block id="855bcb8730de4b24527a09801b103d97" category="list-text">如需CVS效能、每個Volume金鑰會儲存在Cloud Volumes Service 內建於支援核心的金鑰管理程式中、此管理程式使用NetApp ONTAP 還原資料模組來產生AES-256加密金鑰。CryptoModis會列在CMVP FIPS 140-2驗證模組清單中。請參閱<block ref="c8bf3ef21e8efdca1f27a1e57e809607" category="inline-link-rx"></block>。</block>
  <block id="a934c8bfa11942a4baa792ed229b8bb8" category="paragraph">自2021年11月起、客戶管理的加密（CMEK）功能預覽已推出CVS效能。此功能可讓您使用Google金鑰管理服務（KMS）中所裝載的個別專案、每個區域的主要金鑰、來加密每個Volume金鑰。KMS可讓您附加外部金鑰管理程式。</block>
  <block id="08a22fe6e00e4ceb40cd56453b4a5864" category="paragraph">如需架構的詳細資訊、請參閱一節 <block ref="d008df97450ac642ad54d58196f67862" category="inline-link-macro-rx"></block></block>
  <block id="fb787119808b111e9df5553be31361c8" category="section-title">保護資料傳輸安全</block>
  <block id="8255b8a6d9844c87b5ecd1d2287b2f60" category="paragraph">除了確保閒置資料的安全、Cloud Volumes Service 您也必須能夠在資料在執行個體與用戶端或複寫目標之間傳輸時、保護資料安全。利用加密方法（例如使用Kerberos的SMB加密、封包的簽署/密封、以及用於資料傳輸端點對端點加密的NFS Kerberos 5p）、為透過NAS傳輸的傳輸中資料提供加密功能。Cloud Volumes Service</block>
  <block id="c42b0018cf60c30c0490998e63dfdac1" category="paragraph">利用AES-GCM加密方法、複寫Cloud Volumes Service 不中斷的實體磁碟區使用TLS 1.2。</block>
  <block id="17882f1649689ee4f6fcf4aeba6d150b" category="paragraph">預設會停用最不安全的傳輸協定、例如：Telnet、NDMP等。不過、DNS並非Cloud Volumes Service 由支援DNS的功能加密（不支援DNS安全）、因此應盡可能使用外部網路加密來加密。請參閱一節 <block ref="051d363ef6081e123484b5da28bebf19" category="inline-link-macro-rx"></block> 以取得更多關於保護資料傳輸安全的資訊。</block>
  <block id="4bb00cc1adfaf9a4b73ae2593bc7d4e8" category="inline-link-macro">「NAS傳輸協定」。</block>
  <block id="d47f2c6bf1e6a3776038244ab35f5415" category="paragraph">如需NAS傳輸協定加密的相關資訊、請參閱一節 <block ref="386abb448925212e530f9be720946265" category="inline-link-macro-rx"></block></block>
  <block id="46dc4f8fa1d2951250a02fa29fccc4cb" category="section-title">NAS權限的使用者和群組</block>
  <block id="4a6786c54b7ea4a860834c0ffda11c7f" category="paragraph">保護雲端資料的一部分是適當的使用者和群組驗證、其中存取資料的使用者會在環境中驗證為真實使用者、而群組則包含有效的使用者。這些使用者和群組提供初始共用和匯出存取、以及儲存系統中檔案和資料夾的權限驗證。</block>
  <block id="52c7382ae7438c8a3366ad6f38d5d2a4" category="paragraph">針對SMB共用和Windows型權限、使用標準的Active Directory型Windows使用者和群組驗證。Cloud Volumes Service此服務也能運用UNIX身分識別供應商、例如LDAP for UNIX使用者和群組進行NFS匯出、NFSv4 ID驗證、Kerberos驗證及NFSv4 ACL。</block>
  <block id="59935480b9f5ac6361a1a360ad8a9ec2" category="admonition">目前僅支援Active Directory LDAP Cloud Volumes Service 搭配「以供LDAP使用」功能。</block>
  <block id="7c47e0b7c3aa389a1b437364885d5562" category="section-title">偵測、防範及防範勒索軟體、惡意軟體及病毒</block>
  <block id="b647cba0e4b0ad0f479019e47713c5a2" category="paragraph">勒索軟體、惡意軟體和病毒是系統管理員持續面臨的威脅、企業組織最需要注意的是偵測、防範和防範這些威脅。關鍵資料集上的單一勒索軟體事件可能會花費數百萬美元、因此您可以採取最大程度的行動來降低風險。</block>
  <block id="ba1e21a6e8310b88e0349770718e717c" category="inline-link">自動勒索軟體偵測</block>
  <block id="b80fb0d337605da9f0fdaf2687c3de1e" category="paragraph">雖然目前不包含原生偵測或預防措施、例如防毒保護或Cloud Volumes Service<block ref="2ed126fbf9f5caf3d13a90f230e3475a" category="inline-link-rx"></block>、您可以透過啟用定期Snapshot排程、快速從勒索軟體事件中恢復。Snapshot複本是不可變更的、而且是檔案系統中變更區塊的唯讀指標、幾乎是即時性的、對效能的影響最小、而且只有在資料變更或刪除時才會佔用空間。您可以設定Snapshot複本的排程、以符合所需的可接受恢復點目標（RPO）/恢復時間目標（RTO）、而且每個Volume最多可保留1、024個Snapshot複本。</block>
  <block id="e9c1c7d4ca860adb553d87c2c1d9ef35" category="inline-link">NetApp勒索軟體解決方案</block>
  <block id="85ebd62090617323187e9e7827c343e7" category="paragraph">Snapshot支援不需額外付費（除了Snapshot複本所保留的變更區塊/資料的資料儲存費用）Cloud Volumes Service 、而且在發生勒索軟體攻擊時、也可在攻擊發生之前、用於回溯至Snapshot複本。快照還原只需幾秒鐘即可完成、之後您就能恢復正常的資料服務。如需詳細資訊、請參閱<block ref="e347ba4858ee244fead32d2fe59a64dd" category="inline-link-rx"></block>。</block>
  <block id="7994d1312e8f4fe2cdf2f7e13347d8bf" category="paragraph">若要防止勒索軟體影響您的業務、需要採用多層方法、其中包括下列一項或多項：</block>
  <block id="7aa2bd35ac13684bd5c9434296dd6b03" category="list-text">端點保護</block>
  <block id="9cdff1d919782c79338864086178c7b0" category="list-text">透過網路防火牆防範外部威脅</block>
  <block id="eb4079f2ecc7735fcfaa169c5562cbfd" category="list-text">偵測資料異常</block>
  <block id="aac3c67c846910bdfd381a7101344e96" category="list-text">關鍵資料集的多重備份（現場與異地）</block>
  <block id="3845e8b5ec9d78bcebac29ec50d8077f" category="list-text">定期還原備份測試</block>
  <block id="a550fe6fd1b40af5260e9636cdea66fd" category="list-text">不可變的唯讀NetApp Snapshot複本</block>
  <block id="533a4f72ffc639d4cc87d034dfe92f2c" category="list-text">關鍵基礎架構的多因素驗證</block>
  <block id="b1d3b419f981a509b3c5203c7546b96b" category="list-text">系統登入的安全性稽核</block>
  <block id="4e329c801824e6bdc0209c98146064c3" category="paragraph">這份清單遠非詳盡無遺、但在處理勒索軟體攻擊的可能性時、這是一個很好的藍圖。在Google Cloud中提供多種方法來保護勒索軟體事件、並減少其影響。Cloud Volumes Service</block>
  <block id="2fdb508dbc71674add1fe7fc21ccbf8e" category="section-title">不可變的Snapshot複本</block>
  <block id="1682a7464d9210c8161ec78abc8010e2" category="paragraph">由於資料刪除或整個磁碟區遭到勒索軟體攻擊、因此本機可提供可自訂排程的不可變唯讀Snapshot複本、以便在資料刪除或整個磁碟區遭到勒索軟體攻擊時、快速進行時間點還原。Cloud Volumes Service快照還原至先前的良好Snapshot複本、可根據Snapshot排程和RTO/RPO的保留期間、迅速將資料遺失減至最低。Snapshot技術的效能影響微乎其微。</block>
  <block id="c0bd33c36fff1f6dbb2bf9253a7f40dd" category="paragraph">由於VMware的Snapshot複本Cloud Volumes Service 是唯讀的、因此除非勒索軟體擴散到未注意到的資料集、而且Snapshot複本已被勒索軟體感染、否則這些複本將不會受到勒索軟體的感染。因此、您也必須考慮根據資料異常狀況來偵測勒索軟體。目前無法原生提供偵測功能、但您可以使用外部監控軟體。Cloud Volumes Service</block>
  <block id="9b641219ac63451505f5a25a887038d4" category="section-title">備份與還原</block>
  <block id="5e2f84170723d4cfed011f9ebc6c557e" category="paragraph">支援標準NAS用戶端備份功能（例如透過NFS或SMB進行備份）Cloud Volumes Service 。</block>
  <block id="0d69441d7fc21e56d3cf2eb944fbf6c1" category="inline-link">Volume複製</block>
  <block id="161b127f579db2727ace94e4fb6f9e5b" category="inline-link">雲端備份</block>
  <block id="56a32ac982c7663e59f24c58cfb673d6" category="paragraph">Volume複寫提供確切的來源磁碟區複本、可在發生災難時（包括勒索軟體事件）進行快速容錯移轉。</block>
  <block id="ae2679a66d07f8c7efd50d972a34a112" category="section-title">跨區域複寫</block>
  <block id="1a094951f7e9c42a89c4ef4b0b328eee" category="paragraph">CVS效能可讓您在Google雲端區域之間安全地複寫磁碟區、以便在NetApp控制的後端服務網路上使用TLS1.2 AES 256 GCM加密、並使用特定介面在Google網路上執行複寫、以保護資料及歸檔使用案例。主要（來源）Volume包含作用中正式作業資料、並複寫至次要（目的地）Volume、以提供主要資料集的確切複本。</block>
  <block id="f8e2c7b5b15f4332525ac9687a100a28" category="paragraph">初始複寫會傳輸所有區塊、但更新只會傳輸主磁碟區中變更的區塊。例如、如果將位於主要磁碟區上的1TB資料庫複寫到次要磁碟區、則初始複寫時會傳輸1TB的空間。如果該資料庫在初始化與下一個更新之間有幾百列（假設、幾MB）的變更、則只有變更列的區塊會複寫到次要（幾MB）。這有助於確保傳輸時間保持低、並降低複寫費用。</block>
  <block id="fd25283b48ea77209e43fe9173df1354" category="paragraph">檔案和資料夾的所有權限都會複寫到次要磁碟區、但共用存取權限（例如匯出原則和規則、SMB共用和共用ACL）必須分開處理。在站台容錯移轉的情況下、目的地站台應利用相同的名稱服務和Active Directory網域連線、以一致的方式處理使用者和群組的身分識別和權限。當發生災難時、您可以使用次要Volume做為容錯移轉目標、方法是打破複寫關係、將次要Volume轉換為讀寫。</block>
  <block id="940c6fa9c7eb366ae4e471e545edb27b" category="paragraph">Volume複本為唯讀、可在異地提供不可改變的資料複本、以便在病毒感染資料或勒索軟體加密主要資料集的情況下、快速恢復資料。唯讀資料不會加密、但如果主要磁碟區受到影響並發生複寫、則受感染的區塊也會複寫。您可以使用較舊且不受影響的Snapshot複本進行還原、但SLA可能超出承諾的RTO/RPO範圍、視偵測到攻擊的速度而定。</block>
  <block id="fe62647cc35dde214e0df1ae1fe9d0ab" category="inline-link">安全考量</block>
  <block id="8ee215caafa31f1ecdd53056d288eb19" category="paragraph">雖然此功能可提供高資料持久性、但外部事件可能導致資料遺失。Cloud Volumes Service如果發生病毒或勒索軟體等安全事件、備份與還原對於及時恢復資料存取而言、將會變得非常重要。系統管理員可能不小心刪除Cloud Volumes Service 了一個聲音區。或者、使用者只是想保留資料的備份版本好幾個月、而在磁碟區內保留額外的Snapshot複本空間、就成為成本上的挑戰。雖然Snapshot複本應該是保留過去幾週備份版本以還原遺失資料的首選方法、但它們位於磁碟區內部、如果磁碟區消失、就會遺失。</block>
  <block id="a5cef37749b0ea6b89d13e2bfc190bcc" category="paragraph">利用Google Cloud Storage（GCS）、即可在該磁碟區上產生一份複本。Cloud Volumes Service它只會備份儲存在磁碟區內的實際資料、而非可用空間。它的運作方式永遠是遞增的、也就是說、它只會在繼續備份變更的資料時、一次傳輸磁碟區內容、一次又一次從該處傳輸。相較於採用多個完整備份的傳統備份概念、它可節省大量備份儲存設備、進而降低成本。由於備份空間的每月價格比磁碟區低、因此是延長備份版本時間的理想選擇。</block>
  <block id="d41618915810c18642064f885af2a835" category="paragraph">使用者可以使用Cloud Volumes Service 支援還原功能、將任何備份版本還原至相同區域內的相同或不同磁碟區。如果刪除來源磁碟區、則會保留備份資料、並需要獨立管理（例如刪除）。</block>
  <block id="3289695e643b478f0efa19edc74cf567" category="inline-link">支援的文件Cloud Volumes Service</block>
  <block id="be7923d42a302a1a86fdaa9f096fde63" category="inline-link">支援的最大備份版本數</block>
  <block id="59aab28b54594c59dab8d19afd9478e4" category="inline-link">定價</block>
  <block id="9a647ae53ed9b2a783aef42530e1fe97" category="paragraph">專案的所有備份資料都儲存在GCS儲存區內、此儲存區由服務管理、使用者看不到。每個專案都使用不同的儲存庫。目前、這些庫位與Cloud Volumes Service 《非洲地理區（Sin the Same volume）」位於同一個區域、但我們正在討論更多選項。如需最新狀態、請參閱文件。</block>
  <block id="4e1c6d2a637d959db4ce4a09b3e5c580" category="paragraph">從資料庫傳輸Cloud Volumes Service 到GCS時、會使用內部服務的Google網路、搭配HTTPS和TLS1.2。資料會以Google管理的金鑰進行閒置加密。</block>
  <block id="5e467dce18f46b1803b06097fae60b82" category="inline-link">角色/netappcloudVolumes.admin</block>
  <block id="d5588adba169169b3d9fbc3d40fa9e91" category="inline-link-macro">下一步：架構總覽。</block>
  <block id="70c94a86f99e1aa5d40b6ca87c17a399" category="paragraph"><block ref="70c94a86f99e1aa5d40b6ca87c17a399" category="inline-link-macro-rx"></block></block>
  <block id="6ab0778deb23383f6063990e47d38567" category="summary">所有的流通量Cloud Volumes Service 均使用AES-256加密進行閒置加密、這表示寫入媒體的所有使用者資料都會加密、而且只能使用每個磁碟區的金鑰來解密。</block>
  <block id="05a42723f4aebc1b8fea32f0da56f531" category="doc">閒置資料加密</block>
  <block id="914e9cc2016ed2891bc115163b671205" category="inline-link-macro">上一篇：傳輸中的資料加密。</block>
  <block id="3ab72ed338391088a345040cc4ede7e0" category="paragraph"><block ref="3ab72ed338391088a345040cc4ede7e0" category="inline-link-macro-rx"></block></block>
  <block id="4a41d68019f2643468ef37e122fc87a9" category="list-text">在CVS軟體中、會使用Google產生的金鑰。</block>
  <block id="68056df8fa340722ff859d534da347e4" category="list-text">如需CVS效能、每個Volume金鑰會儲存在Cloud Volumes Service 內建於此功能的關鍵管理程式中。</block>
  <block id="e23c4fadd8e7d70663bc3393bca7d576" category="inline-link">Google金鑰管理服務（KMS）。</block>
  <block id="387ccb6d293c8d2f51b2730c375c3f3a" category="paragraph">自2021年11月起、客戶管理的加密金鑰（CMEK）功能已可供預覽。這可讓您使用裝載於的每個專案個別區域主金鑰來加密每個Volume金鑰<block ref="145d140dc09dde7f8aacc53f1269c2de" category="inline-link-rx"></block> KMS可讓您附加外部金鑰管理程式。</block>
  <block id="1988a6b2308f38718c8100c2e344eb5c" category="inline-link">設定客戶管理的加密金鑰</block>
  <block id="6a2064a5b36d77d1da28e1bb96fe613e" category="inline-link-macro">下一步：防火牆。</block>
  <block id="d78ea12f26e93e819db4dd4772e8cb6e" category="paragraph"><block ref="d78ea12f26e93e819db4dd4772e8cb6e" category="inline-link-macro-rx"></block></block>
  <block id="13a2c7416db43025d8318ec9db325859" category="summary">傳輸中的資料可在NAS傳輸協定層加密、Google Cloud網路本身也會加密、如下列各節所述。</block>
  <block id="f7ccd4455f141bba37dd989458bfd1f3" category="doc">傳輸中的資料加密</block>
  <block id="44782cad8de83a97138ea3bcbd36c028" category="inline-link-macro">先前版本：資料平面架構。</block>
  <block id="9e17ee7c2f94201998bfd10292b5e098" category="paragraph"><block ref="9e17ee7c2f94201998bfd10292b5e098" category="inline-link-macro-rx"></block></block>
  <block id="8de1715de3864b137091fa8f6d71053f" category="section-title">Google Cloud網路</block>
  <block id="a94ac9daf8e09a31f9e81f7de9ee7ab6" category="inline-link">傳輸中加密</block>
  <block id="57d5b464e5bc1a25ae2337c72e492c88" category="paragraph">Google Cloud會加密網路層級的流量、如所述<block ref="df3d10947a311abbd08a64a5cc9629d3" category="inline-link-rx"></block> 在Google文件中。如「Cloud Volumes Services Architecture」一節所述、Cloud Volumes Service NetApp控制的PSAPa生產商專案將提供此功能。</block>
  <block id="4322a5ae7fc781564c1349bf92846311" category="paragraph">在CVs-SW的情況下、生產商租戶會執行Google VM來提供服務。Google Cloud Volumes Service 會自動加密使用者VM和不支援的VM之間的流量。</block>
  <block id="d3072f2789ba193441ddf485cc806a82" category="inline-link">IEEE 802.1AE加密（MAC安全）</block>
  <block id="6141361c43c6e429fa93fd0f6f8b2dac" category="inline-link">封裝</block>
  <block id="2a5cd9c0503b957ff28d59f12a8bb05a" category="paragraph">雖然CVS效能的資料路徑在網路層上並未完全加密、但NetApp與Google仍使用這種組合<block ref="83e770b09a2e800e59cae429b60dde07" category="inline-link-rx"></block>、<block ref="c5a2137e5d30663db35a2f990a0275f0" category="inline-link-rx"></block> （資料加密）和實體受限的網路、以保護Cloud Volumes Service 資料在整個過程中在整個過程中在靜止CVS效能服務類型和Google Cloud之間傳輸。</block>
  <block id="95151e0beeb1cf14e98ed9e0e0ebc86f" category="section-title">NAS傳輸協定</block>
  <block id="7661437a0dea607fd6013193db5363be" category="paragraph">NFS和SMB NAS傳輸協定可在傳輸協定層提供選用的傳輸加密。</block>
  <block id="198a269fc15076e5cc8ab572d6711771" category="section-title">SMB加密</block>
  <block id="69c2cd6d510299a43f241a4afbeef373" category="paragraph"><block ref="ebb0763fea63f976f4d3ea586b6fe491" category="inline-link-rx"></block> 提供SMB資料的端點對端點加密、並保護資料免於在不受信任的網路上遭人竊取。您可以啟用用戶端/伺服器資料連線（僅適用於支援SMB3.x的用戶端）和伺服器/網域控制器驗證的加密。</block>
  <block id="a8c42b910beec902a232a69b59a37847" category="paragraph">啟用SMB加密時、不支援加密的用戶端將無法存取共用區。</block>
  <block id="72635a952bf12498ca4ca124b1a14d51" category="paragraph">支援RC4-HMAC、AES-122-CTS-HMA-SHA1和AES-256-CTS-HMA-SHA1安全密碼、以進行SMB加密。Cloud Volumes ServiceSMB會交涉至伺服器支援的最高加密類型。</block>
  <block id="980b28eb45b1ea66cdd07d05e78099a3" category="section-title">NFSv4.1 Kerberos</block>
  <block id="b97e4c9117cfcc0dd5d7a10e1a7a2631" category="inline-link">RFC7530</block>
  <block id="69a4f8e652e19cfdfb26e27d4447ae98" category="paragraph">對於NFSv4.1、CVS效能提供如所述的Kerberos驗證<block ref="526af9c532c496dd16998f764e15dc87" category="inline-link-rx"></block>。您可以針對每個磁碟區啟用Kerberos。</block>
  <block id="b2833929a77bd8c490997197ed3f00be" category="paragraph">Kerberos目前最強大的加密類型是AES-256-CTS-HMA-SHA1。NetApp Cloud Volumes Service 支援AES-256-CTS-HMA-SHA1、AES-123-CTS-HMA-SHA1、DES3和DES for NFS。它也支援CIFS/SMB流量的ARCFOUR-HMAC（RC4）、但不支援NFS。</block>
  <block id="59417c70dd426d4c6a1a81a09043bb7b" category="paragraph">Kerberos為NFS裝載提供三種不同的安全性層級、可讓您選擇Kerberos安全性的強度。</block>
  <block id="710c8a535ea62cee124026e31e71a5bd" category="inline-link">通用掛載選項</block>
  <block id="224b49d2f24ee42bbb73b2ca635c6d9a" category="paragraph">根據RedHat<block ref="1849b335749f623c227052141b2e8b11" category="inline-link-rx"></block> 文件：</block>
  <block id="babd6b3b4aea27ca41d56a231f2625af" category="paragraph">一般而言、Kerberos安全性層級越高、效能就越差、因為用戶端和伺服器花費時間來加密和解密所傳送的每個封包的NFS作業。許多用戶端和NFS伺服器都支援AES-NI卸載至CPU、以獲得更好的整體體驗、但Kerberos 5p（完整端對端加密）的效能影響遠高於Kerberos 5（使用者驗證）的影響。</block>
  <block id="986c123032dbfdac18bc180d1a2c3562" category="paragraph">下表顯示每個層級在安全性和效能方面的差異。</block>
  <block id="f12149bd43eabe8557e021017cfb9b1f" category="cell">安全性層級</block>
  <block id="af75613ef5351b4f2563e49218c01d5b" category="cell">NFSv3—系統</block>
  <block id="d65540b3d2f3c15e237b23f6d4d823e5" category="list-text">最不安全；純文字、含數字使用者ID /群組ID</block>
  <block id="2310efb28386099d85b1dbcaf5f9c51f" category="list-text">能夠檢視UID、GID、用戶端IP位址、匯出路徑、檔案名稱、 封包擷取的權限</block>
  <block id="07b50706d3894aa894686195ddeed426" category="list-text">最適合大多數情況</block>
  <block id="54fcc149f825f18bfaaa374d6876e25a" category="cell">NFSv4.x—系統</block>
  <block id="3777f761befcdc3f42a4d77cde2962fe" category="list-text">比NFSv3（用戶端ID、名稱字串/網域字串比對）更安全、但仍是純文字</block>
  <block id="25199bb4f6f6a3eadd28c84579d0fcf7" category="list-text">能夠檢視UID、GID、用戶端IP位址、名稱字串、網域ID、 在封包擷取中匯出路徑、檔案名稱、權限</block>
  <block id="5145a8956e4807aeba5a7a4a1677c598" category="list-text">適合連續工作負載（例如VM、資料庫、大型檔案）</block>
  <block id="bc96a40b0174b0ec2f9133e1e704d7cb" category="list-text">高檔案數/高中繼資料的不良（差30-50%）</block>
  <block id="f25baf1a23f237c73f28b4834def4161" category="cell">NFS—KRB5</block>
  <block id="0661ead41dc806181d0a0bff696e49df" category="list-text">每個NFS封包中的認證Kerberos加密：在GSS包裝程式的RPC呼叫中、將使用者/群組的UID/GID封包起來</block>
  <block id="b012a8b71e44e4c118c2a97f94c11c1f" category="list-text">要求存取掛載的使用者需要有效的Kerberos票證（透過使用者名稱/密碼或手動金鑰索引標籤交換）；票證會在指定的時間段後過期、使用者必須重新驗證才能存取</block>
  <block id="ab2293d06a9e3594a17eb02b827c471a" category="list-text">不加密NFS作業或掛載/連接埠對應器/ NLM等輔助通訊協定（可參閱匯出路徑、IP位址、檔案處理、權限、檔案名稱、 封包擷取的時間/時間）</block>
  <block id="6d140d250a49ec533ff2211674c16138" category="list-text">在大多數情況下最佳的Kerberos；比AUTH_SYS更糟</block>
  <block id="bc578f6162e4255fe0d1d4445ec8d975" category="cell">NFS：krb5i</block>
  <block id="7886fbf427a34b659783d690ee4ad3dd" category="list-text">要求存取掛載的使用者需要有效的Kerberos票證（透過使用者名稱/密碼或手動金鑰索引標籤交換）；票證會在指定的時間段後過期、使用者必須重新驗證才能存取</block>
  <block id="49d02d7e5db8eb8139c3777891f63e2e" category="list-text">每個封包都會新增Kerberos GSS Checksum、以確保不會攔截封包。如果校驗和相符、則允許對話。</block>
  <block id="0ea3431437c971e8ac8f271b60694b38" category="list-text">優於krb5p、因為NFS有效負載未加密；只有與krb5相比、新增的額外負荷才是完整性Checksum。krb5i的效能不會比krb5差很多、但會有一些降低。</block>
  <block id="facbd78bc28fa0b36f521d74ff5f0cec" category="cell">NFS–krb5p</block>
  <block id="d11093694c8bd1d8897446e4cf645e48" category="list-text">要求存取掛載的使用者需要有效的Kerberos票證（透過使用者名稱/密碼或手動Keytab交換）；票證會在指定的時間段後過期、而且使用者必須重新驗證才能存取</block>
  <block id="29af1c9e08784f1ef0e42433aef21eee" category="list-text">所有NFS封包有效負載都會使用GSS包裝進行加密（無法在封包擷取中看到檔案處理代碼、權限、檔案名稱、atime/mtime）。</block>
  <block id="70aa40903816c1fda65618ae32c56d8b" category="list-text">包括完整性檢查。</block>
  <block id="3e7dfd7567a414307d5fe93ea83ce4f6" category="list-text">NFS作業類型可見（Fsinfo, access, GetAttr等）。</block>
  <block id="6b375be1f905197ba21c586647e973f4" category="list-text">輔助通訊協定（掛載、連接埠對應、NLM等）未加密-（請參閱匯出路徑、IP位址）</block>
  <block id="6de6f14759a24d6fcb16973384e01c00" category="list-text">安全性層級效能最差；krb5p必須加密/解密更多資料。</block>
  <block id="abac32415b4bfbaf4765dec9d36149cd" category="paragraph">在VMware中、已設定的Active Directory伺服器會做為Kerberos伺服器和LDAP伺服器（從RFC2307相容架構查詢使用者身分）Cloud Volumes Service 。不支援其他Kerberos或LDAP伺服器。NetApp強烈建議您使用LDAP進行Cloud Volumes Service 身分識別管理。如需有關NFS Kerberos如何顯示在封包擷取中的資訊、請參閱一節 <block ref="e06a781bd551a4c8ed55a5dfd008a50c" category="inline-link-macro-rx"></block></block>
  <block id="656b94b95418723e2acea6b86dc53e48" category="inline-link-macro">下一步：閒置資料加密。</block>
  <block id="6ca1480f90da15333bae5670283ea19f" category="paragraph"><block ref="6ca1480f90da15333bae5670283ea19f" category="inline-link-macro-rx"></block></block>
  <block id="d1a7050a3a677e1c229160462a179103" category="doc">其他資訊、版本歷程記錄及聯絡資訊</block>
  <block id="b67313323e9670f2b3cc78a36af15174" category="inline-link-macro">上一篇：服務營運。</block>
  <block id="5390c35bfa9dd0545fb51b84c8af3252" category="paragraph"><block ref="5390c35bfa9dd0545fb51b84c8af3252" category="inline-link-macro-rx"></block></block>
  <block id="4780631a0451a6605045de3ace692cc6" category="list-text">Google Cloud文件Cloud Volumes Service</block>
  <block id="6e0173c8a46418c9ee6c916c7c275ef8" category="inline-link"><block ref="6e0173c8a46418c9ee6c916c7c275ef8" category="inline-link-rx"></block></block>
  <block id="8e65fc49f8ebbf3d9cc9651ce7940654" category="paragraph"><block ref="8e65fc49f8ebbf3d9cc9651ce7940654" category="inline-link-rx"></block></block>
  <block id="0e8aec42089c0c73812fa42d1888b3c8" category="list-text">Google私有服務存取</block>
  <block id="02aed7d7f25878a636d26b696ed151bb" category="list-text">NetApp產品文件</block>
  <block id="f670e58416e680d41a98914939ff8b4d" category="list-text">密碼編譯驗證模組方案—NetApp CryptoMod</block>
  <block id="904728949094c548bcec2129979a28a6" category="inline-link"><block ref="904728949094c548bcec2129979a28a6" category="inline-link-rx"></block></block>
  <block id="50dc6dd0a76419597a78231ee45ad7f5" category="paragraph"><block ref="50dc6dd0a76419597a78231ee45ad7f5" category="inline-link-rx"></block></block>
  <block id="fb35bc32af8e0bce21ef22bad9052b39" category="inline-link"><block ref="0ea855bd074e3e4be70d90c120079c12" category="inline-link-rx"></block></block>
  <block id="56f0874ab11ee024b4419753f2a3f06f" category="paragraph"><block ref="801eea2aa1601f12cc3d53d718ad33a7" category="inline-link-rx"></block></block>
  <block id="61eb0e8494826dc8f30af9122fd97664" category="list-text">TR-4616：ONTAP NFS Kerberos in Sf2</block>
  <block id="ed78f5221deba5e60a950d28a62de702" category="inline-link"><block ref="ed78f5221deba5e60a950d28a62de702" category="inline-link-rx"></block></block>
  <block id="d677acd46c811ecd9bac37aa26d8668c" category="paragraph"><block ref="d677acd46c811ecd9bac37aa26d8668c" category="inline-link-rx"></block></block>
  <block id="b56a5394775a9f077c12cb3e770d913c" category="cell">2022年5月</block>
  <block id="1bebe65011b1928d45d041533c04d2b1" category="paragraph">請告訴我們如何改善這份技術報告。</block>
  <block id="8b1418ea0c579605e873907335ca62c7" category="paragraph">請聯絡我們：mailto：doccomments@netapp.com doccomments@netapp.com。在主題行中加入技術報告4918。</block>
  <block id="402d245fd6f48d88ea661814c622456e" category="summary">NAS傳輸協定是讓網路上的多個用戶端存取儲存系統上相同資料的方法、例如Cloud Volumes Service GPC上的NFS和SMB是定義的NAS傳輸協定、可在Cloud Volumes Service 客戶端/伺服器上運作、其中的伺服器是由支援服務器使用。</block>
  <block id="900608117b1be22303e2a172c6d9b280" category="doc">NAS傳輸協定的基本概念</block>
  <block id="d23b6e095547133ec383cdcb0f080e6e" category="inline-link-macro">上一篇：NAS傳輸協定總覽。</block>
  <block id="8de032a7ba389eddc7880273654515a6" category="paragraph"><block ref="8de032a7ba389eddc7880273654515a6" category="inline-link-macro-rx"></block></block>
  <block id="b03874a8574793b2c634d05da5dae732" category="paragraph">NAS傳輸協定是讓網路上的多個用戶端存取儲存系統上相同資料的方法、例如Cloud Volumes Service GPC上的NFS和SMB是定義的NAS傳輸協定、可在Cloud Volumes Service 客戶端/伺服器上運作、其中的伺服器是由支援服務器使用。用戶端會傳送存取、讀取和寫入要求給伺服器、伺服器負責協調檔案的鎖定機制、儲存權限、以及處理身分識別和驗證要求。</block>
  <block id="86a29faa66a25c7e3fd290cf1e53761c" category="paragraph">例如、如果NAS用戶端想要在資料夾中建立新檔案、則會遵循下列一般程序。</block>
  <block id="817aaff54aa6b5cd0e96c54c0b20ea1d" category="list-text">用戶端會要求伺服器提供目錄的相關資訊（權限、擁有者、群組、檔案ID、可用空間、 等）；如果要求的用戶端和使用者對父資料夾擁有必要的權限、伺服器就會回應該資訊。</block>
  <block id="9ec40c2869366ebe8cf1a8c690bb6471" category="list-text">如果目錄上的權限允許存取、則用戶端會詢問伺服器所建立的檔案名稱是否已存在於檔案系統中。如果檔案名稱已在使用中、建立就會失敗。如果檔案名稱不存在、伺服器會讓用戶端知道它可以繼續。</block>
  <block id="83a9d09522edde42d016b5f2649ad9b6" category="list-text">用戶端會呼叫伺服器、以使用目錄處理和檔案名稱來建立檔案、並設定存取和修改時間。伺服器會對檔案發出唯一的檔案ID、以確保沒有以相同的檔案ID建立其他檔案。</block>
  <block id="4884742626257d3e2fee8f3fa6d74f9c" category="list-text">用戶端會在寫入作業之前傳送呼叫來檢查檔案屬性。如果權限允許、用戶端就會寫入新檔案。如果傳輸協定/應用程式使用鎖定、用戶端會要求伺服器提供鎖定、以防止其他用戶端在鎖定時存取檔案、以避免資料毀損。</block>
  <block id="9f36fd781ab1b50b7d007cb7bbd31f1f" category="inline-link-macro">下一步：NFS。</block>
  <block id="e120d5e9a70a32a053802947c9767294" category="paragraph"><block ref="e120d5e9a70a32a053802947c9767294" category="inline-link-macro-rx"></block></block>
  <block id="432be93985cd954e5f755048381e528d" category="summary">NFS是一種分散式檔案系統傳輸協定、是在Request for Comments（RFC）中定義的開放式IETF標準、可讓任何人實作該傳輸協定。</block>
  <block id="ba3cb198ccc0137ff2861f85eff2b3ce" category="inline-link-macro">上一篇：NAS傳輸協定的基礎知識_總覽。</block>
  <block id="2be8e5e3e57aed02dfb62a58afdadfad" category="paragraph"><block ref="2be8e5e3e57aed02dfb62a58afdadfad" category="inline-link-macro-rx"></block></block>
  <block id="b53dfc952aa9d99343d94971cf6c3fee" category="paragraph">透過匯出可供用戶端或一組用戶端存取的路徑、將位於此功能的Volume Cloud Volumes Service 共享給NFS用戶端。掛載這些匯出的權限是由匯出原則和規則所定義、Cloud Volumes Service 這些原則和規則可由資訊管理員設定。</block>
  <block id="0e3cb63bde3f98dbd812d470d8b100cf" category="paragraph">NetApp NFS實作被視為傳輸協定的黃金標準、可用於無數的企業NAS環境。以下各節涵蓋Cloud Volumes Service 支援的NFS和特定安全功能、以及如何實作這些功能。</block>
  <block id="8b575afc20d2914501471190a68364ed" category="section-title">預設的本機UNIX使用者和群組</block>
  <block id="c9f0864944a97085b2897c473c91dccc" category="paragraph">包含多個預設UNIX使用者和群組、可提供各種基本功能。Cloud Volumes Service這些使用者和群組目前無法修改或刪除。目前無法將新的本機使用者和群組新增Cloud Volumes Service 至無法更新的功能。外部LDAP名稱服務必須提供預設使用者和群組以外的UNIX使用者和群組。</block>
  <block id="8002bcf6ec4e483483e32633f99bee00" category="paragraph">下表顯示預設使用者和群組及其對應的數字ID。NetApp建議不要在LDAP或重新使用這些數字ID的本機用戶端上建立新的使用者或群組。</block>
  <block id="0346306b31bbb7a0ae5245da13ec03c4" category="cell">預設使用者：數字ID</block>
  <block id="c782adef8851cb8855543f329d548bb2" category="cell">預設群組：數字ID</block>
  <block id="a38b2868ff594195dcec8e7fe562b0be" category="list-text">根目錄：0</block>
  <block id="44b4512252320c293616b69743e2a445" category="list-text">pcuser:65534</block>
  <block id="95312f9502cf30aaff5cbbd3a4585a68" category="list-text">無人：65535</block>
  <block id="39fff4671c3793536f3df78e41aed899" category="list-text">精靈：1.</block>
  <block id="ffe991bd5946c28affb0a08326a88c3f" category="admonition">使用NFSv4.1時、root使用者在NFS用戶端上執行列出命令的目錄時、可能會顯示為nobnobody。這是因為用戶端的ID網域對應組態。請參閱「」一節 <block ref="122d38ffc304701fda2219494370e55a" category="inline-xref-macro-rx"></block> 以取得此問題的詳細資訊及解決方法。</block>
  <block id="97d69dfca64d2bd85ec6cc9736cd662b" category="section-title">root使用者</block>
  <block id="767a04b899f673915ec8d6d78f549f3b" category="paragraph">在Linux中、root帳戶可以存取Linux型檔案系統中的所有命令、檔案和資料夾。由於此帳戶的強大功能、安全性最佳實務做法通常會要求root使用者停用或限制某種方式。在NFS匯出中、root使用者對檔案和資料夾的控制能力、可Cloud Volumes Service 透過匯出原則和規則、以及稱為root squash的概念、在整個過程中加以控制。</block>
  <block id="7cd60419657f1f0735c557afd44724f0" category="inline-link">setuid/setgid命令（sticky位元）</block>
  <block id="b95ee7e499b2b5ee7f9c911c9c86f8a2" category="paragraph">root使用者之間的衝突可確保存取NFS掛載的root使用者被擠到匿名的數字使用者65534（請參閱「」一節）<block ref="07a7b24bc0f7cda943dc05060d1188d8" category="inline-xref-macro-rx"></block>」）、目前僅適用於使用CVS效能的情況、方法是在建立匯出原則規則期間選取「Off」（關閉）進行root存取。如果root使用者被擠到匿名使用者、就無法再執行chown或<block ref="451ac5d05b7e3e41db0c92126d9290ad" category="inline-link-rx"></block> 在NFS掛載的檔案或資料夾上、root使用者建立的檔案或資料夾會將anon UID顯示為擁有者/群組。此外、NFSv4 ACL無法由root使用者修改。不過、root使用者仍可存取不具有明確權限的chmod和刪除檔案。如果您想限制root使用者的檔案和資料夾權限存取、請考慮使用具有NTFS ACL的磁碟區、建立名為「root」的Windows使用者、並將所需權限套用至檔案或資料夾。</block>
  <block id="0b2cc4ee83c7e73e4426e294c95be2c7" category="section-title">匿名使用者</block>
  <block id="f489703ccadc6e9616bab479ace6cf03" category="paragraph">匿名（anon）使用者ID會指定對應至用戶端要求的UNIX使用者ID或使用者名稱、而該用戶端要求沒有有效的NFS認證。使用root使用者時、這可能包括root使用者。Anon的Cloud Volumes Service 使用者是65534。</block>
  <block id="48da046d67add0ab58d9cbc2c2da421c" category="paragraph">此UID通常與Linux環境中的使用者名稱「nobnob」或「nfsnobn」相關聯。也使用65534作為本機UNIX使用者的pcuser'（請參閱「Cloud Volumes Service<block ref="21f1cd16f2baec63c7c604945762d1f2" category="inline-xref-macro-rx"></block>」）、這也是Windows到UNIX名稱對應的預設後援使用者、但LDAP中找不到有效的相符UNIX使用者。</block>
  <block id="1a64786b80a72f5b468ee5a6c27c19bb" category="paragraph">由於Linux使用者名稱與Cloud Volumes Service 適用於UID 65534的使用者名稱不同、因此使用NFSv4.1時對應至65534的使用者名稱字串可能不相符。因此、您可能會在某些檔案和資料夾上看到「無人」的使用者身分。請參閱「」一節<block ref="122d38ffc304701fda2219494370e55a" category="inline-xref-macro-rx"></block>」以取得此問題的相關資訊及解決方法。</block>
  <block id="093b885796f6b6edbf133d153a574ee0" category="section-title">存取控制/匯出</block>
  <block id="c40a72feaf9e622dcbd1a55edff6fdbf" category="paragraph">NFS裝載的初始匯出/共用存取是透過匯出原則中包含的主機型匯出原則規則來控制。定義主機IP、主機名稱、子網路、網路群組或網域、以允許存取掛載NFS共用區、以及允許存取主機的層級。匯出原則規則組態選項取決於Cloud Volumes Service 哪些方面。</block>
  <block id="519377bf4a5b0a2078c3d66b249040aa" category="paragraph">對於CVS軟體、下列選項可用於匯出原則組態：</block>
  <block id="fdbbd602d808015eb2f536ce2add5b6e" category="list-text">*用戶端相符*以逗號分隔的IP位址清單、以逗號分隔的主機名稱、子網路、網路群組、網域名稱清單。</block>
  <block id="4984ee657e0bd2919476369a84dfe159" category="list-text">* RO/RW存取規則。*選取「讀取/寫入」或「唯讀」以控制匯出的存取層級。</block>
  <block id="3a3236a433ddc1bb46fe40e058aad584" category="list-text">*根存取權（開啟/關閉）。*設定根分區（請參閱「<block ref="60067fcb7aeefdc389264d741499b983" category="inline-xref-macro-rx"></block>」的詳細資料）。</block>
  <block id="0c1b0b2a02124e4f1e2111f36d28432e" category="list-text">*傳輸協定類型。*這會將NFS掛載的存取限制為特定的傳輸協定版本。為Volume指定NFSv3和NFSv4.1時、請將兩者留白或同時勾選兩個方塊。</block>
  <block id="553de93bd85985676f0ef4762f4de2ab" category="list-text">* Kerberos安全性層級（選取「啟用Kerberos」時）。*提供krb5、krb5i及/或krb5p選項、以進行唯讀或讀寫存取。</block>
  <block id="a98abf6af551f8564e89efb200e37032" category="section-title">變更擁有權（chown）和變更群組（chgrp）</block>
  <block id="545978eda72a981e986a37d84621575d" category="paragraph">NFS on Cloud Volumes Service 支援僅允許root使用者在檔案和資料夾上執行chown / chgrp。其他使用者也會看到「不允許操作」錯誤、即使是他們自己擁有的檔案也一樣。如果您使用root quash（如一節中所述）<block ref="60067fcb7aeefdc389264d741499b983" category="inline-xref-macro-rx"></block>」）時、root會被擠到非root使用者、且不允許存取chown和chgrp。目前在不允許非root使用者使用chown和chgrp的因應措施Cloud Volumes Service 。如果需要變更擁有權、請考慮使用雙傳輸協定磁碟區、並將安全樣式設定為NTFS、以便從Windows端控制權限。</block>
  <block id="b40637b973f7941123dacf09ceef0fba" category="section-title">權限管理</block>
  <block id="b48f3521890100492cddc30349f6e7b2" category="paragraph">支援兩種模式位元（例如rwx的644、777等）和NFSv4.1 ACL、以控制使用UNIX安全型態之磁碟區在NFS用戶端上的權限。Cloud Volumes Service標準權限管理用於這些項目（例如、chmod、chown或nfs4_setfacl）、並可與任何支援這些項目的Linux用戶端搭配使用。</block>
  <block id="a4f4a04396f203764eb677e59aeea059" category="paragraph">此外、當使用設為NTFS的雙傳輸協定磁碟區時、NFS用戶端可以利用Cloud Volumes Service 指向Windows使用者的名稱對應功能來解析NTFS權限。這需要LDAP連線Cloud Volumes Service 至才能提供數字ID對使用者名稱的轉譯、因為Cloud Volumes Service 需要有效的UNIX使用者名稱才能正確對應至Windows使用者名稱。</block>
  <block id="40c93306b7b5fa43d5bdeaaf6446b5c8" category="section-title">為NFSv3提供精細的ACL</block>
  <block id="38244b1450366af1bc12c6d85adcf6d2" category="paragraph">模式位元權限僅涵蓋語義中的擁有者、群組及其他所有人、這表示基本NFSv3沒有精細的使用者存取控制。由於不支援POSIX ACL、也不支援擴充屬性（例如chatr）、因此使用NFSv3時、只有在下列情況下才能使用精細的ACL：Cloud Volumes Service</block>
  <block id="15ad8d0b9866344d62ea9ffa4ae25982" category="list-text">NTFS安全型磁碟區（需要CIFS伺服器）、具有有效的UNIX至Windows使用者對應。</block>
  <block id="c14f9a108935fe84b2ee2c80664062d4" category="list-text">使用管理用戶端掛載NFSv4.1套用NFSv4.1 ACL以套用ACL。</block>
  <block id="b90aebde70afe18a23fa55cafb7bd6e7" category="inline-link-macro">「LDAP」</block>
  <block id="fc96ac54908c774cd60159cf8c65272e" category="paragraph">這兩種方法都需要LDAP連線才能進行UNIX身分識別管理、並填入有效的UNIX使用者和群組資訊（請參閱一節 <block ref="941c88f858b9781fbfe78651e071df70" category="inline-link-macro-rx"></block>）和僅適用於CVS效能執行個體。若要將NTFS安全型磁碟區搭配NFS使用、您必須使用雙傳輸協定（SMB和NFSv3）或雙傳輸協定（SMB和NFSv4.1）、即使沒有建立SMB連線。若要在NFSv3掛載中使用NFSv4.1 ACL、您必須選取「兩者（NFSv3/NFSv4.1）」作為傳輸協定類型。</block>
  <block id="b9fd9ad6fc3c3b72bb1d8b9db35c4ff8" category="inline-link">nfs4_ACL - NFSv4存取控制清單</block>
  <block id="8454ec39d80a4c7dced33aed7bc5cc3c" category="paragraph">一般UNIX模式位元在權限方面的精細度與NTFS或NFSv4.x ACL所提供的精細度不同。下表比較NFSv3模式位元與NFSv4.1 ACL之間的權限精細度。如需NFSv4.1 ACL的相關資訊、請參閱<block ref="6f8990d4da30b2d9c1096f2d7fdec422" category="inline-link-rx"></block>。</block>
  <block id="04bf6ba29148b02f9bc0aece8b1ab976" category="cell">NFSv3模式位元</block>
  <block id="ec969632045eaebe3e92b63bc00edf03" category="cell">NFSv4.1 ACL</block>
  <block id="b7073329ceba059aa3ad7875190c661f" category="list-text">設定執行時的使用者ID</block>
  <block id="573fa671705c50ff1c121cd141dfeb90" category="list-text">設定執行時的群組ID</block>
  <block id="0ab8eb5c98bf5a8e01cc9dc03065fd63" category="list-text">儲存交換的文字（未在POSIX中定義）</block>
  <block id="78e3e57905e586d5d03519b5883d9b49" category="list-text">擁有者的讀取權限</block>
  <block id="07ea3a6ddfd17ab896abc34a5fb98c32" category="list-text">擁有者的寫入權限</block>
  <block id="ef1c725ac00a8daafb96e6f926b38e84" category="list-text">對檔案擁有者執行權限；或在目錄中查詢（搜尋）擁有者權限</block>
  <block id="d51cc2a74a686e9f6b08108c215a677e" category="list-text">群組的讀取權限</block>
  <block id="6750a7dbc586cfe9c3c1e6fc348bc47f" category="list-text">群組的寫入權限</block>
  <block id="66471165b6102256624c1aaa1bf05ef9" category="list-text">對檔案上的群組執行權限；或查詢（搜尋）目錄中的群組權限</block>
  <block id="860c8444d0dfe3bf1e1818fdbe8c3733" category="list-text">其他人的讀取權限</block>
  <block id="95663f359ae8aaa2910488b36c7168fb" category="list-text">其他人的寫入權限</block>
  <block id="54384d9f12231abb228dd692b2c7a689" category="list-text">對檔案上的其他人執行權限；或查詢（搜尋）目錄中的其他人權限</block>
  <block id="4d6deb7613496d18f12d0d0d0fe84ecb" category="paragraph">存取控制項目（ACE）類型（允許/拒絕/稽核）*繼承旗標*目錄繼承*檔案繼承*不傳播繼承*僅繼承</block>
  <block id="13640bb94453faf76256f49439337e2e" category="paragraph">權限*讀取資料（檔案）/ list-directory（目錄）*寫入資料（檔案）/建立檔案（目錄）*附加資料（檔案）/ create子目錄（目錄）*執行（檔案）/變更目錄（目錄）*刪除*刪除子項目*讀取屬性*寫入屬性*讀取命名屬性*寫入命名屬性*寫入命名屬性* ACL</block>
  <block id="0bfe97b6a2010bf8a46c30c256d9bc67" category="paragraph">最後、根據RPC封包限制、NFS群組成員資格（NFSv3和NFSv4.x）的AUTH_SYS預設上限為16。NFS Kerberos最多可提供32個群組、NFSv4 ACL則可透過精細的使用者和群組ACL（每個ACE最多可容納1024個項目）來移除限制。</block>
  <block id="27aabeb671232f388e6288cf9395fda9" category="inline-link">建立及管理NFS磁碟區</block>
  <block id="75812520c9040a205064d0d2cb2263e9" category="section-title">NFSv3使用者與群組ID</block>
  <block id="b1695eaaf5db3491be45228e42d7894f" category="paragraph">NFSv3使用者和群組ID會以數字ID而非名稱的形式出現在線路上。使用NFSv3時、由於UNIX安全型磁碟區只使用模式位元、因此無法針對這些數字ID進行使用者名稱解析。Cloud Volumes Service當NFSv4.1 ACL存在時、即使使用NFSv3、仍需要數字ID查詢和/或名稱字串查詢、才能正確解析ACL。使用NTFS安全型磁碟區時Cloud Volumes Service 、必須先將數字ID解析為有效的UNIX使用者、然後對應至有效的Windows使用者以協商存取權限。</block>
  <block id="c88acee1e86a1d4e088392362c04bb3b" category="section-title">NFSv3使用者與群組ID的安全性限制</block>
  <block id="51d0cb09f5edabf17b3490e1b53d7b22" category="paragraph">使用NFSv3時、用戶端和伺服器永遠不需要確認使用者使用數字ID進行讀取或寫入、這只是隱含信任而已。如此一來、只要偽造任何數字ID、檔案系統就會遭受潛在的資料外洩。為了避免這類安全漏洞、Cloud Volumes Service 我們提供一些選項供大家選擇。</block>
  <block id="467b69ba310f54b371bbdbffe09e6497" category="list-text">實作Kerberos for NFS會強制使用者使用使用者名稱和密碼或Keytab檔案進行驗證、以取得Kerberos票證、以便存取掛載。Kerberos適用於CVS效能執行個體、僅適用於NFSv4.1。</block>
  <block id="9120b024c7fefc321f0ebc6fee670c59" category="list-text">限制匯出原則規則中的主機清單、會限制NFSv3用戶端存取Cloud Volumes Service 該卷的權限。</block>
  <block id="1b652183dcffb7bab733d50929de6844" category="list-text">使用雙傳輸協定磁碟區並將NTFS ACL套用至磁碟區、會強制NFSv3用戶端將數字ID解析為有效的UNIX使用者名稱、以便正確驗證以存取裝載。這需要啟用LDAP並設定UNIX使用者和群組身分識別。</block>
  <block id="8d5c591e079f79f63fd9e9807dc0f747" category="list-text">浪費root使用者的力量可限制root使用者對NFS掛載所造成的損害、但並不會完全消除風險。如需詳細資訊、請參閱「」一節<block ref="60067fcb7aeefdc389264d741499b983" category="inline-xref-macro-rx"></block>。」</block>
  <block id="2013c75e17676506ba3c06142530277a" category="paragraph">最後、NFS安全性僅限於您所使用的傳輸協定版本。NFSv3的整體效能比NFSv4.1高、但提供的安全性層級卻不相同。</block>
  <block id="1d9f0263509a5bc0f447962105bb1a92" category="paragraph">NFSv4.1提供比NFSv3更高的安全性與可靠性、原因如下：</block>
  <block id="11d0cb4a0817a571de35b1a57bcd7b86" category="list-text">透過租賃型機制進行整合式鎖定</block>
  <block id="2a7079f12b8b7175a78aa4192442cceb" category="list-text">狀態工作階段</block>
  <block id="78d4290f55bf351449981f773525bc0b" category="list-text">單一連接埠上的所有NFS功能（2049）</block>
  <block id="53ec1aa3e51de041ca30580dcd5695db" category="list-text">僅TCP</block>
  <block id="762c048886aaa3279e7ff7d4bbe56f5c" category="list-text">ID網域對應</block>
  <block id="7e6be8eb2ba9a556864cfd20857c1565" category="list-text">Kerberos整合（NFSv3可以使用Kerberos、但僅適用於NFS、而非用於NLM等輔助傳輸協定）</block>
  <block id="1f2bcbb2c0049fcc033a40cb665f19fc" category="section-title">NFSv4.1相依性</block>
  <block id="f83a89d33e724f74ff5a673c34fe9ac6" category="paragraph">由於NFSv4.1還有額外的安全功能、因此不需要使用NFSv3（類似於SMB需要相依性（例如Active Directory）的方式）、也會涉及一些外部相依性。</block>
  <block id="0e8ff8f10d56a8534800018ecdbcbfb7" category="paragraph">支援NFSv4.x ACL、相較於一般的POSIX式權限、可提供明顯的優勢、例如：Cloud Volumes Service</block>
  <block id="e7c21967cc185dee47ba9548ba30b26e" category="list-text">精細控制使用者對檔案和目錄的存取</block>
  <block id="a5e0d0cbd4020f568d08cdaed3dedd6b" category="list-text">更好的NFS安全性</block>
  <block id="fd272c227f4884473fc1b4409d1fa6f0" category="list-text">改善與CIFS/SMB的互通性</block>
  <block id="1c0d9e3bfe82d85776be6deeefb1b8d1" category="list-text">使用AUTH_SYS安全性移除每位使用者16個群組的NFS限制</block>
  <block id="37c82add6470c2f73fad45f1e887f214" category="list-text">ACL不需要群組ID（GID）解析、因此能有效移除GID限制NFSv4.1 ACL、而非Cloud Volumes Service 從無法更新的NFS用戶端控制。若要使用NFSv4.1 ACL、請確定用戶端的軟體版本支援這些ACL、並已安裝適當的NFS公用程式。</block>
  <block id="f497540fbfe4bb6c8784249b7ca44322" category="section-title">NFSv4.1 ACL與SMB用戶端之間的相容性</block>
  <block id="b18893becc5c5979b433330d581d0502" category="paragraph">NFSv4 ACL與Windows檔案層級ACL（NTFS ACL）不同、但具有類似的功能。不過、在多重傳輸協定NAS環境中、如果有NFSv4.1 ACL、而且您使用的是雙傳輸協定存取（NFS和SMB位於同一個資料集）、則使用SMB2.0及更新版本的用戶端將無法從Windows安全性索引標籤檢視或管理ACL。</block>
  <block id="e24382a2de980eb4d0fad087c2279291" category="section-title">NFSv4.1 ACL的運作方式</block>
  <block id="65da9b80e25e8e6b76e6f95a27e33773" category="paragraph">下列術語為參考定義：</block>
  <block id="3f33ebc7aedc435f5da6f0cdb363e903" category="list-text">*存取控制清單（ACL）。*權限項目清單。</block>
  <block id="e8b619b2feea9964d68e458010421937" category="list-text">*存取控制項目（ACE）。*清單中的權限項目。</block>
  <block id="e22c8ddaa933012f7b9658b15556e1d9" category="paragraph">當用戶端在設定作業期間、在檔案上設定NFSv4.1 ACL時、Cloud Volumes Service 會將物件上的ACL設定為由任何現有的ACL取代。如果檔案上沒有ACL、則檔案的模式權限會從Owner@、group @和任何人@計算。如果檔案上有任何現有的SUID/SGID/便利貼位元、則不會受到影響。</block>
  <block id="bbfc3dd393a8c0fb0275a317ea92cdb6" category="paragraph">當用戶端在GetAttr作業期間取得檔案的NFSv4.1 ACL時、Cloud Volumes Service 會讀取與物件相關聯的NFSv4.1 ACL、建構ACE清單、並將清單傳回用戶端。如果檔案具有NT ACL或模式位元、則會從模式位元建構ACL並傳回用戶端。</block>
  <block id="e91b7b9c71eaf21c16d5232d74f4c5c3" category="paragraph">如果ACL中存在拒絕的ACE、則會拒絕存取；如果存在允許的ACE、則會授予存取權。不過、如果ACL中沒有任何ACE、也會拒絕存取。</block>
  <block id="85e34118580ac115f838cd805832291e" category="paragraph">安全性描述元由安全性ACL（SACL）和判別ACL（DACL）組成。當NFSv4.1與CIFS/SMB互操作時、DACL會以一對一的方式對應NFSv4和CIFS。DACL由允許和拒絕的ACE組成。</block>
  <block id="f26fe9c5bd9a38964b075295ff6b600f" category="paragraph">如果在已設定NFSv4.1 ACL的檔案或資料夾上執行基本的「chmod」、則會保留現有的使用者和群組ACL、但會修改預設的「擁有者」、「群組@」、「每個人@」ACL。</block>
  <block id="51cdc67f907418899df11513b246dd1c" category="inline-link">繼承旗標</block>
  <block id="bfb9f4f4e0b3ee74bbf0624c3acb6f05" category="paragraph">使用NFSv4.1 ACL的用戶端可以設定及檢視系統上檔案和目錄的ACL。當在具有ACL的目錄中建立新檔案或子目錄時、該物件會繼承ACL中已標記適當的所有ACE<block ref="efe32d9e162a0a9bfdfda1b55921a64c" category="inline-link-rx"></block>。</block>
  <block id="4ede33bb65432e74e322d690608c2334" category="paragraph">如果檔案或目錄具有NFSv4.1 ACL、則無論使用哪種傳輸協定來存取檔案或目錄、該ACL都能用來控制存取。</block>
  <block id="0d733f1633c2aa51a107a6e21dfd5644" category="paragraph">只要將ACE標記為正確的繼承旗標、檔案和目錄就會從父目錄的NFSv4 ACL繼承ACE（可能需要適當的修改）。</block>
  <block id="a61aaa9a4f599d5b80e71c232d23147a" category="paragraph">當檔案或目錄是因NFSv4要求而建立時、產生的檔案或目錄上的ACL取決於檔案建立要求是否包含ACL或僅包含標準UNIX檔案存取權限。ACL也取決於父目錄是否具有ACL。</block>
  <block id="5ac8b682abcf5cc600bff1df60b6eeb0" category="list-text">如果要求包含ACL、則會使用該ACL。</block>
  <block id="68d4655ff3b6740e5735fd80c7910023" category="list-text">如果要求僅包含標準UNIX檔案存取權限、且父目錄沒有ACL、則會使用用戶端檔案模式來設定標準UNIX檔案存取權限。</block>
  <block id="2cf6ef9c801da66f5a80033edc51acf8" category="list-text">如果要求僅包含標準UNIX檔案存取權限、且父目錄具有不可繼承的ACL、則會針對新物件設定以傳遞至要求的模式位元為基礎的預設ACL。</block>
  <block id="c1eac2f9759f1dd2f7680287789d03f9" category="list-text">如果要求僅包含標準UNIX檔案存取權限、但父目錄具有ACL、則只要將ACE標記為適當的繼承旗標、父目錄ACL中的ACE就會由新檔案或目錄繼承。</block>
  <block id="1aeffd8cf8d8faca5f1d6379d7ad7b42" category="section-title">ACE權限</block>
  <block id="be30a66f742a1c4b197f654c5456f525" category="inline-link">使用方法：使用NFSv4 ACL</block>
  <block id="1e0ba766d5b81a0076401367c75ba49d" category="paragraph">NFSv4.1 ACL權限使用一系列大小寫字母值（例如「raptncy」）來控制存取。如需這些字母值的詳細資訊、請參閱<block ref="19e15d2b871d5802ed53b8bb943cfa1d" category="inline-link-rx"></block>。</block>
  <block id="e5db87d9c7835194478e833b1c2341a3" category="section-title">具有umask和ACL繼承的NFSv4.1 ACL行為</block>
  <block id="2d01b8b9abf1cd5dd5dc3a87babfa478" category="inline-link">NFSv4 ACL可提供ACL繼承功能</block>
  <block id="90f70b82033cb9c398aab9c2ab8e4b97" category="inline-link">ACL繼承旗標</block>
  <block id="b40177dea06ae321d6ba903c296a8bf4" category="paragraph"><block ref="a4a4eca6555a8c7e71d54636b6d02bd2" category="inline-link-rx"></block>。ACL繼承意味著在使用NFSv4.1 ACL集的物件下建立的檔案或資料夾、可以根據的組態來繼承ACL<block ref="0dfdf6ea7cd5f3c14c3e752e09504ece" category="inline-link-rx"></block>。</block>
  <block id="e3847e2a1d0d27fe2e50f7b68080126e" category="inline-link">umask</block>
  <block id="391e42635de569b9fd15585f0b03777a" category="inline-link">RFC 5661</block>
  <block id="a5147a6538ae36d50a705033dee8e1ea" category="paragraph"><block ref="63bfc707387dfd47bf50e485c5b4d27f" category="inline-link-rx"></block> 用於控制在目錄中建立檔案和資料夾的權限等級、而無需系統管理員互動。根據預設Cloud Volumes Service 、支援使用者使用支援功能來覆寫繼承的ACL、這是預期的行為<block ref="c202d210fe4151f93fd56939449ae558" category="inline-link-rx"></block>。</block>
  <block id="c283f512453dfbe4a4d54a5de963c63a" category="section-title">ACL格式化</block>
  <block id="af26ba96448cb4f36fa75d37c0c24884" category="paragraph">NFSv4.1 ACL具有特定格式化。下列範例是檔案上的ACE設定：</block>
  <block id="90bdfef72a7e9f73c8492c28764bfecc" category="paragraph">上述範例遵循下列ACL格式準則：</block>
  <block id="7d665626903fe1069f3c052eb3b93597" category="inline-link"><block ref="7d665626903fe1069f3c052eb3b93597" category="inline-link-rx"></block></block>
  <block id="192707027419e02a79fe3b9af5a845c4" category="paragraph">一種「A」表示「允許」。 在此情況下不會設定繼承旗標、因為主體不是群組、不包含繼承。此外、由於ACE不是稽核項目、因此不需要設定稽核旗標。如需NFSv4.1 ACL的詳細資訊、請參閱<block ref="588b628ed19e81b60db990218fbd0aa2" category="inline-link-rx"></block>。</block>
  <block id="767a03c18193757348519856b05f7d1c" category="paragraph">如果NFSv4.1 ACL設定不正確（或用戶端和伺服器無法解析名稱字串）、則ACL可能無法如預期般運作、或ACL變更可能無法套用及拋出錯誤。</block>
  <block id="e0ad83b43ccb7e44bcdb46bcdc1189d9" category="paragraph">範例錯誤包括：</block>
  <block id="bf837e35002530c307569ba2ec195e9a" category="section-title">明確拒絕</block>
  <block id="68a14c985893a66fdf24403b891ddc6c" category="paragraph">NFSv4.1權限可包含擁有者、群組及所有人的明確拒絕屬性。這是因為NFSv4.1 ACL是預設拒絕ACL、這表示如果某個ACL未由ACE明確授予、就會拒絕該ACL。明確拒絕屬性會覆寫任何明確或不明確的存取ACE。</block>
  <block id="22759a58413e45c1ab8a0a53300ea43c" category="paragraph">拒絕ACE的屬性標籤設定為「D」。</block>
  <block id="3bce872a832106c5038ea04d532162ba" category="paragraph">在以下範例中、允許群組@擁有所有讀取和執行權限、但拒絕所有寫入權限。</block>
  <block id="8b4ed201924d12a3d0ec41f5538460b2" category="paragraph">應盡可能避免使用拒絕的ACE、因為它們可能會造成混淆和複雜；允許不明確定義的ACL被隱含拒絕。當設定拒絕ACE時、使用者預期會被授予存取權限時、可能會被拒絕存取。</block>
  <block id="fb976fa579c74ac9e0b64ac922a938d7" category="paragraph">上述一組ACE相當於模式位元中的755、這表示：</block>
  <block id="de9d71e2841fbf06bf2e96e40b0655d0" category="list-text">擁有者擁有完整權利。</block>
  <block id="391533122a44e47fc6d7eed8f3d46152" category="list-text">群組具有唯讀。</block>
  <block id="233c314243fd8ff0f129355150358c9b" category="list-text">其他人則為唯讀。</block>
  <block id="004367158d382df49675a222d852e2c2" category="paragraph">不過、即使權限調整為等同的775個權限、仍會因為每個人都設定明確的拒絕權限而拒絕存取。</block>
  <block id="c9533a3d4ca28b597d9e4f0b7c2d7d28" category="section-title">NFSv4.1 ID網域對應相依性</block>
  <block id="b8c7283821c3d4795f01644c47598298" category="paragraph">NFSv4.1利用ID網域對應邏輯做為安全層、協助驗證嘗試存取NFSv4.1掛載的使用者確實是他們宣稱的對象。在這些情況下、來自NFSv4.1用戶端的使用者名稱和群組名稱會附加名稱字串、並傳送至Cloud Volumes Service 該實例。如果該使用者名稱/群組名稱和ID字串組合不相符、則使用者和（或）群組會被擠到用戶端上「/etc/idmapd.conf」檔案中指定的預設nober使用者。</block>
  <block id="5aec5d2b81e4e7bc2bb96b8eee7f6a1f" category="paragraph">此ID字串是適當遵循權限的必要條件、尤其是使用NFSv4.1 ACL和/或Kerberos時。因此、需要使用名稱服務伺服器相依性（例如LDAP伺服器）來確保用戶端之間的一致性、Cloud Volumes Service 以及使用者和群組名稱身分識別解析是否正確。</block>
  <block id="ea6c924c6846969cae29ab27aa4c3d9e" category="paragraph">使用靜態預設ID網域名稱值「defaultv4iddomain.com」Cloud Volumes Service 。NFS用戶端的ID網域名稱設定預設為DNS網域名稱、但您可以在「/etc/idmapd.conf」中手動調整ID網域名稱。</block>
  <block id="a524142e9e2e4c80b2545aea06b82fb6" category="paragraph">如果在Cloud Volumes Service 支援功能中啟用LDAP、Cloud Volumes Service 則當NFS ID網域在DNS中變更為搜尋網域所設定的項目時、不需要修改用戶端、除非他們使用不同的DNS網域搜尋名稱。</block>
  <block id="13c371145cb8e423bcc06c41dafa7d27" category="paragraph">當能夠解析本機檔案或LDAP中的使用者名稱或群組名稱時、會使用網域字串、而非相符的網域ID則會對nobnobody進行儲存。Cloud Volumes Service如果Cloud Volumes Service 無法在本機檔案或LDAP中找到使用者名稱或群組名稱、則會使用數字ID值、NFS用戶端會正確解析名稱（這與NFSv3行為類似）。</block>
  <block id="2920d1231c77a15a148be7e24a4224a8" category="paragraph">在不變更用戶端的NFSv4.1 ID網域以符合Cloud Volumes Service 使用的功能的情況下、您會看到下列行為：</block>
  <block id="cf7f7139ed9bd9c2ce206642dd7fa858" category="list-text">UNIX使用者和群組的本機項目Cloud Volumes Service （例如root、如本機UNIX使用者和群組所定義）會被浪費在nobnobody值。</block>
  <block id="b4aa27a84e1a2079915902824805faed" category="list-text">如果Cloud Volumes Service DNS網域不同於NFS用戶端和Cloud Volumes Service 更新、則UNIX使用者和在LDAP中有項目的群組（如果將Sfuse設定為使用LDAP）會被浪費給任何人。</block>
  <block id="ef7ad0d3015777d2990a6af6b71f374b" category="list-text">沒有本機項目或LDAP項目的UNIX使用者和群組會使用數字ID值、並解析為NFS用戶端上指定的名稱。如果用戶端上不存在名稱、則只會顯示數字ID。</block>
  <block id="62dcf28b3972264f1b30c2bd51a03def" category="paragraph">以下顯示上述案例的結果：</block>
  <block id="696c02f546b2ffcdac74d99c917daa24" category="paragraph">當用戶端和伺服器ID網域相符時、相同的檔案清單看起來就像這樣：</block>
  <block id="406ef9702da9a43b3a7b54a25411d799" category="paragraph">如需此問題及其解決方法的詳細資訊、請參閱「」一節<block ref="122d38ffc304701fda2219494370e55a" category="inline-xref-macro-rx"></block>。」</block>
  <block id="feb3aa3308fe030fd35a38b78a2300bd" category="section-title">Kerberos相依性</block>
  <block id="40bbfae3ce12130d42058c7017ceb5ed" category="paragraph">如果您打算使用Kerberos搭配NFS、Cloud Volumes Service 則必須搭配下列功能搭配使用才能使用：</block>
  <block id="97a82eff6d3d292af521c01da598a578" category="list-text">適用於Kerberos Distribution Center服務（Kdc）的Active Directory網域</block>
  <block id="7539d3051db830d97dee8f6d5d504289" category="list-text">Active Directory網域中的使用者和群組屬性會填入UNIX資訊以供LDAP功能使用（Cloud Volumes Service 在列舉NFS Kerberos時、需要使用者的SPN-UNIX使用者對應才能正常運作）。</block>
  <block id="39780a85d8e7edcc28fd4bc1f6b379f9" category="list-text">LDAP已在Cloud Volumes Service 實例上啟用</block>
  <block id="9b306ebe81f909f9a456adcadd197090" category="list-text">DNS服務的Active Directory網域</block>
  <block id="3f1e5b600401b83c49c16e0c80170842" category="section-title">NFSv4.1和nobody使用者/群組</block>
  <block id="5c79e57a072b5ea9e69b08395268c3fe" category="paragraph">NFSv4.1組態最常見的問題之一、就是檔案或資料夾列在使用「ls」的清單中、顯示為「user:group」的「nobnon:nobnobnone」組合。</block>
  <block id="2436a7de6f774d774219a86839e40d54" category="paragraph">數字ID是「99」。</block>
  <block id="89429eb5e6061e2e0b04707c39588b82" category="paragraph">在某些情況下、檔案可能會顯示正確的擁有者、但不會顯示「nobody」為群組。</block>
  <block id="8155be8c03c24d2ae2a39ba5b9659708" category="paragraph">誰是無人？</block>
  <block id="01e2f333d529d07a7774464ebe7c0d52" category="paragraph">NFSv4.1中的「nobn」使用者與「nfsnobnobn」使用者不同。您可以執行「id」命令來檢視NFS用戶端如何查看每位使用者：</block>
  <block id="bb1a16c53f7bf27e8010e55518128316" category="paragraph">使用NFSv4.1時、「noban」使用者是由「idmapd.conf」檔案定義的預設使用者、可定義為任何您要使用的使用者。</block>
  <block id="25df38609547f38c12a30d2f7fa376e3" category="paragraph">為什麼會發生這種情況？</block>
  <block id="0c52fa2fe9ffee5f1757712d7b9151d3" category="paragraph">由於透過名稱字串對應來確保安全性是NFSv4.1作業的重要宗旨、因此名稱字串不適當時的預設行為是將該使用者分成通常無法存取使用者和群組所擁有之檔案和資料夾的使用者。</block>
  <block id="ee345fce71ab8dd58d64ab30df90665d" category="paragraph">當您在檔案清單中看到使用者和（或）群組的「nobnoby」時、這通常表示NFSv4.1中的某些項目設定錯誤。區分大小寫的功能可在此處發揮。</block>
  <block id="6f0eaeb67bf8645d4cb5b6d6634d62e9" category="paragraph">例如、如果user1@CVSDEM.LOSLL（uid、1234、gid、1234）正在存取匯出、Cloud Volumes Service 則必須找到user1@CVSDEM.LOSLL（uid、gid、1234）。如果Cloud Volumes Service 使用者在支援資料的範本中是USER1@CVSDEMO.在許多情況下、您可以在用戶端的訊息檔案中看到下列內容：</block>
  <block id="501dfba2ca7e696ebe3828fe0a72358d" category="paragraph">用戶端和伺服器必須都同意使用者確實是他們聲稱的對象、因此您必須檢查下列項目、以確保用戶端看到的使用者擁有Cloud Volumes Service 與此使用者相同的資訊。</block>
  <block id="c45f88d46edf246ef524b5ae57bfd939" category="list-text">* NFSv4.x ID網域。*用戶端：「idmapd.conf」檔案；Cloud Volumes Service 使用「defaultv4iddomain.com」、無法手動變更。如果將LDAP搭配NFSv4.1使用、Cloud Volumes Service 則將ID網域變更為DNS搜尋網域所使用的網域、與AD網域相同。</block>
  <block id="4ad682a8c77e394fdf80dd7dc8013933" category="list-text">*使用者名稱和數字ID。*這會決定用戶端尋找使用者名稱的位置、並運用名稱服務交換器組態：用戶端：「nsswitch.conf」和（或）本機密碼和群組檔案；Cloud Volumes Service 不允許對此進行修改、但會在啟用時自動將LDAP新增至組態。</block>
  <block id="278ba27763f1a046a43e86bd394f831b" category="list-text">*群組名稱和數字ID。*這會決定用戶端尋找群組名稱的位置、並運用名稱服務交換器組態（用戶端：「nsswitch.conf」和/或本機密碼和群組檔案）；Cloud Volumes Service 不允許對此進行修改、但會在啟用時自動將LDAP新增至組態。</block>
  <block id="6b9ce9cbf95dd872dc03e91534746dc9" category="paragraph">在幾乎所有的情況Cloud Volumes Service 下、如果您在用戶端的使用者和群組清單中看到「nobnoby」、問題在於使用者或群組名稱網域ID轉譯功能會在更新到NFS用戶端之間進行。若要避免這種情況發生、請使用LDAP來解決用戶端和Cloud Volumes Service 客戶端之間的使用者和群組資訊。</block>
  <block id="55c4b4ea1ecc6c7d5d39c90a0b42830f" category="section-title">在用戶端上檢視NFSv4.1的名稱ID字串</block>
  <block id="c194a1cc7281e9894e494f5ccc1267d9" category="paragraph">如果您使用NFSv4.1、NFS作業期間會發生名稱字串對應、如前所述。</block>
  <block id="600a8e1223f644dfc8fc6d9eaf7c6585" category="inline-link">nfsidmap -l</block>
  <block id="315b0c6cb599d172afa3879fb5aff687" category="paragraph">除了使用「/var/log/Messages」來找出NFSv4 ID的問題、您也可以使用<block ref="b0f2e0837ffda1ff0550aeef038779e7" category="inline-link-rx"></block> NFS用戶端上的命令、可檢視哪些使用者名稱已正確對應至NFSv4網域。</block>
  <block id="c72321f4072e32fa1625318fcee53b38" category="paragraph">例如、此命令會在用戶端找到使用者之後輸出、Cloud Volumes Service 並由用戶端存取NFSv4.x掛載：</block>
  <block id="7fdd86c292924f1df8a7d9127ece25dc" category="paragraph">如果未正確對應至NFSv4.1 ID網域的使用者（在此案例中為「NetApp-user」）嘗試存取相同的掛載、並接觸檔案、就會依照預期指派「nobnan:nobnobnobn」。</block>
  <block id="bf667093961d1f59e9282ef8a28d89f7" category="paragraph">nfidmap -l輸出顯示螢幕上的使用者為「pcuser"、但不是「NetApp-user"；這是我們的匯出原則規則（「65534」）中的匿名使用者。</block>
  <block id="5ec4dbbd0b1975ade000088ec562aebe" category="inline-link-macro">下一步：SMB。</block>
  <block id="a1989578ae6cff04ad5b049565c028a6" category="paragraph"><block ref="a1989578ae6cff04ad5b049565c028a6" category="inline-link-macro-rx"></block></block>
  <block id="f054dd8cc88786d8030b18d90271f377" category="summary">可公開多個TCP連接埠以服務NFS和SMB共用。Cloud Volumes Service</block>
  <block id="c5381dc540506dbb210e2d300554e4cd" category="doc">防火牆</block>
  <block id="3081ff6911f8297ddc53dab3c34d0811" category="inline-link-macro">上一篇：閒置資料加密。</block>
  <block id="4591bc0b4ed2ba115e753bad56145791" category="paragraph"><block ref="4591bc0b4ed2ba115e753bad56145791" category="inline-link-macro-rx"></block></block>
  <block id="1e45092c94634e40f68ce647e16109a4" category="paragraph">可公開多個TCP連接埠以服務NFS和SMB共用：Cloud Volumes Service</block>
  <block id="8ace993e6a8c37342617dbf22185890a" category="inline-link">NFS存取所需的連接埠</block>
  <block id="259c7a7ef42d8165caa2c0238cb6f9fe" category="inline-link">SMB存取所需的連接埠</block>
  <block id="48e54afcf03ca45bfe38f6b7ff58764a" category="inline-link">已設定</block>
  <block id="2957bc03d53f1be7c11d427906ed1479" category="inline-link">DNS型DC探索</block>
  <block id="02d7b2e18b6bb033bf88be07d39aab4c" category="inline-link">登入Cloud Volumes Service 時</block>
  <block id="934adb56d62c2e8a1334785cbb6d4987" category="inline-link">請依照Cloud Volumes Service 此處所述、將連接埠公開給這些開發署</block>
  <block id="fa995eb117a30c2365b6a07bf00e36e4" category="inline-link-macro">下一步：NAS傳輸協定總覽。</block>
  <block id="6160acafbed3bd228bd0703f2991a4cb" category="paragraph"><block ref="6160acafbed3bd228bd0703f2991a4cb" category="inline-link-macro-rx"></block></block>
  <block id="4a3327b1b286d1e67b6b26ccadab7e11" category="paragraph">請聯絡我們：mailto：doccomments@netapp.com doccomments@netapp.com。在主題行中加入技術報告4918。</block>
  <block id="8a7d64073f6ea3e3562e48ad7babe165" category="summary">NAS傳輸協定包括NFS（v3和v4.1）和SMB/CIFS（2.x和3.x）。這些通訊協定是CVS如何允許跨多個NAS用戶端共用存取資料。此外Cloud Volumes Service 、支援同時存取NFS和SMB/CIFS用戶端（雙傳輸協定）、同時遵守NAS共用中檔案和資料夾的所有身分識別和權限設定。</block>
  <block id="90654829f21fcf187b576a4c4bad0d65" category="doc">NAS傳輸協定總覽</block>
  <block id="571468eb1eb9e9369a3f638191a66df7" category="inline-link-macro">先前版本：防火牆。</block>
  <block id="01d123c65f0dd57ade00e4f9754df7de" category="paragraph"><block ref="01d123c65f0dd57ade00e4f9754df7de" category="inline-link-macro-rx"></block></block>
  <block id="2ea1602d2ad8b38f601e3e9a049c625d" category="paragraph">NAS傳輸協定包括NFS（v3和v4.1）和SMB/CIFS（2.x和3.x）。這些通訊協定是CVS如何允許跨多個NAS用戶端共用存取資料。此外Cloud Volumes Service 、支援同時存取NFS和SMB/CIFS用戶端（雙傳輸協定）、同時遵守NAS共用中檔案和資料夾的所有身分識別和權限設定。為了維持最高的資料傳輸安全性、Cloud Volumes Service 支援使用SMB加密和NFS Kerberos 5p的傳輸協定加密。</block>
  <block id="4fbbc372dd84225f54ba28f08d3ff4c7" category="admonition">雙傳輸協定僅適用於CVs-Performance。</block>
  <block id="51f1eaeaea4deb044aabf0797f51c5c0" category="inline-link-macro">下一步：NAS傳輸協定的基本概念。</block>
  <block id="fcb7e93b14f588cd063c2c111732d865" category="paragraph"><block ref="fcb7e93b14f588cd063c2c111732d865" category="inline-link-macro-rx"></block></block>
  <block id="be0bbf78cc02e3b8c5c134bc7dd71544" category="summary">所有的功能都是透過API來執行。Cloud Volumes Service整合至GCP雲端主控台的BIOS管理也會使用此功能的Cloud Volumes Service Cloud Volumes Service</block>
  <block id="dd03419f7f2124dca2e83694ae1b7211" category="doc">控制面板架構</block>
  <block id="1d2a3e9b2f45b43494c66482366a665a" category="inline-link-macro">先前版本：Cloud Volumes Service 架構。</block>
  <block id="f73a9343c8393a91c87eda2847dfab85" category="paragraph"><block ref="f73a9343c8393a91c87eda2847dfab85" category="inline-link-macro-rx"></block></block>
  <block id="791716f366839a73d41b8ac1ae95bad0" category="section-title">身分識別與存取管理</block>
  <block id="41dff7155cc7aeb11c06434f6a450bb3" category="inline-link">IAM</block>
  <block id="d0455114933a93b857dff40ad9829c80" category="paragraph">身分識別與存取管理 <block ref="3e7f3b73b3f103986fbe162302b5e57e" category="inline-link-rx"></block>）是一項標準服務、可讓您控制Google Cloud專案執行個體的驗證（登入）和授權（權限）。Google IAM提供完整的權限授權與移除稽核追蹤。目前Cloud Volumes Service 無法提供控制面板稽核。</block>
  <block id="697308a09680ed006fe009f5a90fd74c" category="section-title">授權/權限總覽</block>
  <block id="cb5b383a5c27210bdf8f2fd443c68ebb" category="inline-link">請在此填寫詳細權限清單</block>
  <block id="f6c6a3fb346fa0197c1eeba05a4736c6" category="paragraph">IAM也提供兩種預先定義的角色：「netappcloudVolumes.admin」和「netappcloudVolumes.viewer」。這些角色可指派給特定使用者或服務帳戶。</block>
  <block id="6d90e176a60105dd03d5580c615cc5fe" category="paragraph">指派適當的角色和權限、讓IAM使用者能夠管理Cloud Volumes Service 功能。</block>
  <block id="010558e705f1d93db66b5a129431b39d" category="paragraph">使用精細權限的範例包括：</block>
  <block id="cf95655b33a1e3a77d897074d8353e7e" category="list-text">建立只有「Get / List / cred/ update」權限的自訂角色、讓使用者無法刪除磁碟區。</block>
  <block id="fdc24340d58c0f0e7d38a4a3f6a7218c" category="list-text">使用僅具有「napshot.*」權限的自訂角色、建立用於建置應用程式一致Snapshot整合的服務帳戶。</block>
  <block id="b1ef9a9445de9905dc5e0ab77e08e183" category="list-text">建立自訂角色、將「volumereplication*」委派給特定使用者。</block>
  <block id="c33f7c2cbeaca5f1462c1b3e1c276145" category="section-title">服務帳戶</block>
  <block id="303e96f80576360d0c7b07ae7528fa4b" category="inline-link">Terraform</block>
  <block id="b6d8efd38d2a5551a2c43104314740bd" category="paragraph">透過Cloud Volumes Service 指令碼或進行功能不均的API呼叫<block ref="d99d6c9612fe6a2189c372e0abf640d5" category="inline-link-rx"></block>、您必須建立角色為「角色/netappcloudVolumes.admin」的服務帳戶。您可以使用此服務帳戶、以Cloud Volumes Service 兩種不同的方式產生驗證申請表API要求所需的JWT權杖：</block>
  <block id="87cacfdb2dd389d5d00fef712c2f874b" category="list-text">產生Json金鑰、並使用Google API從其衍生JWT權杖。這是最簡單的方法、但需要手動管理機密（Json金鑰）。</block>
  <block id="d77fb2baf15918343921ee724cfacb2f" category="inline-link">服務帳戶模擬</block>
  <block id="9d8270b5a4616fc246d5f96cccc9f61e" category="inline-link">應用程式預設認證</block>
  <block id="c1f48ac217f6b993bda4f82835777177" category="list-text">使用<block ref="09540132e155f93461287a2e21a4e25d" category="inline-link-rx"></block> 使用角色/iam.serviceAccountTokenCreator`。程式碼（指令碼、Terraform等）會與一起執行<block ref="ffba44c35d88772fc8c63157b8dc0cf7" category="inline-link-rx"></block> 並模擬服務帳戶以取得其權限。這種方法反映了Google的最佳安全實務做法。</block>
  <block id="01aa2fa55c64df5a4122b637c9ababc7" category="inline-link">建立您的服務帳戶和私密金鑰</block>
  <block id="a325b85a1545e8c507701fb5aa32e6b8" category="section-title">部分API Cloud Volumes Service</block>
  <block id="d06e940dcf329e87ca49cb2a665f5fd8" category="inline-link">Google雲端文件中的Cloud Volumes API</block>
  <block id="de13c3e3b25af602f2652dd51a503a8a" category="paragraph">API端點由NetApp使用標準HTTPS（TLSv1.2）功能來操作及保護。</block>
  <block id="8eac7c9151aa7742216ac387e27479a7" category="section-title">JWT權杖</block>
  <block id="56ebd33e81a27d6c3c78f2f67f2d3c1a" category="inline-link">RFC-7519</block>
  <block id="f2c16a4802323f9b9c1ac55acf92645f" category="paragraph">API驗證是以JWT承載權杖執行 <block ref="89a64c0d993ae56a4af8e7ccde6ee59e" category="inline-link-rx"></block>）。必須使用Google Cloud IAM驗證來取得有效的JWT權杖。這必須透過提供服務帳戶Json金鑰、從IAM擷取權杖來完成。</block>
  <block id="f45362733fe1dd1af3c58ae64471d466" category="section-title">稽核記錄</block>
  <block id="1ccbd48d467dc56358432c49ba82e95a" category="paragraph">目前沒有使用者可存取的控制面板稽核記錄可供使用。</block>
  <block id="f2787c6d19935adb1d88d6c832b68083" category="inline-link-macro">下一步：資料平面架構。</block>
  <block id="9025e4ef245b32ed6f318a902095bafc" category="paragraph"><block ref="9025e4ef245b32ed6f318a902095bafc" category="inline-link-macro-rx"></block></block>
  <block id="9dfacef1e7d01943a3363c481a0ab54f" category="summary">適用於Google Cloud的解決方案運用Google Cloud私有服務存取架構。Cloud Volumes Service在此架構中、使用者可以連線Cloud Volumes Service 到這個功能。此架構使用服務網路和VPC對等架構、如同其他Google Cloud服務、確保租戶之間完全隔離。</block>
  <block id="65d49b550fb0a0afd0ad601dc275ea12" category="doc">資料平面架構</block>
  <block id="bbabe197f6618c2911a8ad624a658a46" category="inline-link-macro">先前版本：控制面板架構。</block>
  <block id="dfb92e74bf9227851402850c5c488e3c" category="paragraph"><block ref="dfb92e74bf9227851402850c5c488e3c" category="inline-link-macro-rx"></block></block>
  <block id="57e0a1cde7582cc59173756aff450054" category="paragraph">適用於Google Cloud的解決方案運用Google Cloud Cloud Volumes Service<block ref="466f20229cc0e1fa2efa2b4b45528417" category="inline-link-rx"></block> 架構。在此架構中、使用者可以連線Cloud Volumes Service 到這個功能。此架構使用服務網路和VPC對等架構、如同其他Google Cloud服務、確保租戶之間完全隔離。</block>
  <block id="fabc0e878e19ad7e95bb8e906ab9e8a1" category="inline-link">架構Cloud Volumes Service</block>
  <block id="81001e33ae42635e6a292ced69cda439" category="paragraph">如需Cloud Volumes Service Google Cloud的架構總覽、請參閱<block ref="7e96ff285aa6f06b814f61dc37a8da61" category="inline-link-rx"></block>。</block>
  <block id="dcfa6d27a1891efb4ad8492d3a127b28" category="paragraph">使用者VPC（獨立式或共享）會在Cloud Volumes Service 託管的代管租戶專案中連接至VPC、以裝載這些磁碟區。</block>
  <block id="fcf4e9439b20c7a36f8ee4116fd5bc6d" category="paragraph"><block ref="fcf4e9439b20c7a36f8ee4116fd5bc6d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7e3d4716c5a2ddac5bbd6a03d58d03af" category="paragraph">上圖顯示一個專案（中間是CVS消費者專案）、其中三個VPC網路連接Cloud Volumes Service 到多個運算引擎VM（GCE1-7）共用磁碟區：</block>
  <block id="fbf1e8aceed7750d8ed8c4e7168cdb02" category="list-text">VPC1允許GCE1存取磁碟區A和B</block>
  <block id="dc5d4ca9052ec8ea299a69ef985a32b0" category="list-text">VPC2可讓GCE2和GCE4存取Volume C</block>
  <block id="3274f78cc9286288af4912642932b72e" category="list-text">第三個VPC網路是共享的VPC、與兩個服務專案共用。它可讓GCE3、GCE4、GCE5和GCE6存取Volume D和E共享VPC網路僅支援CVS效能服務類型的磁碟區。</block>
  <block id="be3759e5f4a6574585df9e1159c20c30" category="admonition">GCE7無法存取任何Volume。</block>
  <block id="597134b02aeec788dec5f24fa0adba89" category="paragraph">資料可在傳輸中（使用Kerberos和/或SMB加密）加密、Cloud Volumes Service 也可在支援中加密。</block>
  <block id="f8426b7150021bc2586e9c150051a408" category="inline-link-macro">下一步：傳輸中的資料加密。</block>
  <block id="39148875a23c5a4ea00752d82ac14b14" category="paragraph"><block ref="39148875a23c5a4ea00752d82ac14b14" category="inline-link-macro-rx"></block></block>
  <block id="3e7c5a939584e1a53201dd8eddfe85d1" category="summary">以類似其他Google Cloud原生服務的方式、例如CloudSQL、Google Cloud VMware Engine（GCVE）和檔案儲存庫Cloud Volumes Service 、使用Google psa來提供服務。</block>
  <block id="16929468b925d0d420441bcbba519e7d" category="doc">架構Cloud Volumes Service</block>
  <block id="98cdf6a29cf39ecd5239e5071cb0dc88" category="inline-link">Google PSA</block>
  <block id="d4d6aaf620a68430d28b38f847f2a6af" category="inline-link">VPC網路對等關係</block>
  <block id="353164decd5aa0c4f58b4e56559e1b13" category="inline-link">架構區段</block>
  <block id="8055d5a25a1838f115c8636545abb21a" category="paragraph"><block ref="8055d5a25a1838f115c8636545abb21a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a6f34964d3060f5dd66e2cc7c8711679" category="paragraph">虛線上方的部分顯示服務的控制面、控制磁碟區生命週期。虛線下方的部分顯示資料平面。左藍色方塊描繪使用者VPC（服務消費者）、右藍色方塊則是NetApp提供的服務製造商。兩者都透過VPC對等連接。</block>
  <block id="0d127864a05110e3053c2690dea7d914" category="section-title">租賃模式</block>
  <block id="dc947df9f7b14883cbc411bc0a7de469" category="paragraph">在本例中、個別專案被視為獨特的租戶。Cloud Volumes Service這表示每個專案都會執行對磁碟區、Snapshot複本等的操作。換句話說、所有磁碟區都屬於在其中建立的專案、而且根據預設、只有該專案能管理及存取其中的資料。這被視為服務的控制面板檢視。</block>
  <block id="b9ea9f76a11191d80f8fe1abc9437eb6" category="section-title">共享VPC</block>
  <block id="cc11b3be8b129e07961938139b138eb5" category="paragraph">在資料平面檢視中Cloud Volumes Service 、無法連接至共享的VPC。您可以在託管專案或連接至共享VPC的其中一個服務專案中建立磁碟區。連接至該共享VPC的所有專案（主機或服務）都能到達網路層（TCP/IP）的磁碟區。由於在共享VPC上具有網路連線能力的所有用戶端都可能透過NAS傳輸協定存取資料、因此必須使用個別Volume上的存取控制（例如使用者/群組存取控制清單（ACL）和NFS匯出的主機名稱/ IP位址）來控制誰可以存取資料。</block>
  <block id="0b97558649d416ff7a157c6ebb3415d9" category="paragraph">每個客戶專案最多可連接Cloud Volumes Service 到五部VPC。在控制面板上、專案可讓您管理所有建立的磁碟區、無論這些磁碟區連接到哪個VPC。在資料層面上、VPC彼此隔離、而且每個磁碟區只能連接至一個VPC。</block>
  <block id="be52fe1bd184b72048acd2ba911bb069" category="paragraph">個別磁碟區的存取是由特定傳輸協定（NFS/SMB）存取控制機制所控制。</block>
  <block id="a3328901555fee8fe9134fc5bd6e641b" category="paragraph">換句話說、在網路層上、所有連線至共享VPC的專案都能看到該磁碟區、而在管理端、控制面板只能讓擁有者專案查看該磁碟區。</block>
  <block id="90f3668b3811dddcb8de24b77c6a6d64" category="section-title">VPC服務控制</block>
  <block id="d5fc4459a5e756d9c4ad2c88c260092b" category="paragraph">VPC服務控管機制建立了Google Cloud服務周邊的存取控制、這些服務已連接至網際網路、可在全球各地存取。這些服務可透過使用者身分識別提供存取控制、但無法限制來自哪些網路位置要求。VPC服務控制功能引進限制存取已定義網路的功能、藉此彌補這項落差。</block>
  <block id="601553f09795c6051748c4f4f63ce893" category="paragraph">此資料平面並未連線至外部網際網路、而是連線至具有明確定義網路邊界（周邊）的私有VPC。Cloud Volumes Service在該網路中、每個磁碟區都使用特定於傳輸協定的存取控制。任何外部網路連線都是由Google Cloud專案管理員明確建立。然而、控制面板並未提供與資料面板相同的保護、任何人只要擁有有效的認證資料（<block ref="f0e6a8c8639b1f1713f124143221142a" category="inline-link-rx"></block>）。</block>
  <block id="7755a392158406ad802334080cd41f73" category="paragraph">簡而言之Cloud Volumes Service 、不需要支援VPC服務控制、也不明確使用VPC服務控制、即可透過資料中心提供網路存取控制功能。</block>
  <block id="892d60d0a1c71243b5ddff2c66ed584c" category="section-title">封包偵測/追蹤考量</block>
  <block id="93b0389d05d1b6926967749b8692f2f6" category="paragraph">封包擷取可用於疑難排解網路問題或其他問題（例如NAS權限、LDAP連線等）、但也可惡意用來取得網路IP位址、MAC位址、使用者和群組名稱、以及端點使用的安全層級等資訊。由於Google Cloud網路、VPC和防火牆規則的設定方式、如果沒有使用者登入認證或、就很難取得不必要的網路封包存取權 <block ref="2a18c6d0cd80103144f47d02366a785f" category="inline-link-macro-rx"></block> 雲端執行個體。封包擷取只能在端點（例如虛擬機器（VM））上進行、而且只能在VPC內部的端點上進行、除非使用共享VPC和（或）外部網路通道/ IP轉送來明確允許外部流量進入端點。無法從用戶端外部窺探流量。</block>
  <block id="ce58b63a24bebe6bac29cfe248428477" category="paragraph"><block ref="ce58b63a24bebe6bac29cfe248428477" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c72e76f5c978aa82e296df17081b6836" category="admonition">unixUserPassword是由LDAP查詢、不會以純文字傳送、而是以Salted雜湊傳送。根據預設、Windows LDAP不會填入unixUserPassword欄位。只有當您需要利用Windows LDAP透過LDAP互動登入用戶端時、才需要此欄位。不支援互動式LDAP登入執行個體。Cloud Volumes Service</block>
  <block id="01b21a51d124432b5b7fe641eae6a004" category="paragraph">下圖顯示NFS Kerberos對話擷取的封包擷取、位於透過AUTH_SYS擷取NFS的旁邊。請注意、追蹤中的可用資訊在兩者之間有何差異、以及啟用飛行中加密如何為NAS流量提供更高的整體安全性。</block>
  <block id="0d66010f122b3df766abd8a0cb2ff598" category="paragraph"><block ref="0d66010f122b3df766abd8a0cb2ff598" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5ba81028f56cfd4f5e21c7102a8eff68" category="paragraph"><block ref="5ba81028f56cfd4f5e21c7102a8eff68" category="inline-image-macro-rx" type="image"></block></block>
  <block id="04aa3ce627dbf5b220c8aa6d4955fb34" category="section-title">VM網路介面</block>
  <block id="8ec45d68b7d371d25a3b82a76db3142b" category="inline-link">混雜模式</block>
  <block id="e59b81e20588b0d3a3c495a545d75322" category="paragraph">攻擊者可能會嘗試將新的網路介面卡（NIC）新增至中的VM<block ref="39c80826df1f145e2784d4b04af9d477" category="inline-link-rx"></block> （連接埠鏡射）或在現有NIC上啟用雜亂模式、以利窺探所有流量。在Google Cloud中、新增NIC需要完全關閉虛擬機器、才能建立警示、因此攻擊者無法察覺。</block>
  <block id="b726bce4fa04e9b7a6d788f212f00c17" category="paragraph">此外、NIC完全無法設定為雜亂模式、而且會在Google Cloud中觸發警示。</block>
  <block id="5be5e913f29871f00d216882fc58f26a" category="inline-link-macro">下一步：控制面板架構。</block>
  <block id="f9f0b661819d64fded86dba6dee4dd6b" category="paragraph"><block ref="f9f0b661819d64fded86dba6dee4dd6b" category="inline-link-macro-rx"></block></block>
  <block id="599e7197321e9ab772426d7187714f67" category="summary">SMB是由Microsoft開發的網路檔案共用傳輸協定、可透過乙太網路為多個SMB用戶端提供集中式使用者/群組驗證、權限、鎖定及檔案共用。</block>
  <block id="b4fdd997b1f33e0d4c6964444c2bf399" category="doc">中小企業</block>
  <block id="b619a787e67dd6b7b38f5db3e4da5e80" category="inline-link-macro">上一篇：NFS。</block>
  <block id="d5c73fd283fc4c7fcf6fefda8649450f" category="paragraph"><block ref="d5c73fd283fc4c7fcf6fefda8649450f" category="inline-link-macro-rx"></block></block>
  <block id="e0a515b0910f55d3d1d5adda978e8e4f" category="paragraph"><block ref="395dbbdb78e4ae6be8daf8ab2b7828a7" category="inline-link-rx"></block> 是由Microsoft開發的網路檔案共用傳輸協定、可透過乙太網路為多個SMB用戶端提供集中式使用者/群組驗證、權限、鎖定及檔案共用。檔案和資料夾會以共用的方式呈現給用戶端、您可以設定各種共用內容、並透過共用層級權限來提供存取控制。SMB可以呈現給任何支援該傳輸協定的用戶端、包括Windows、Apple和Linux用戶端。</block>
  <block id="63f2e3eee09c9d71b23530e2205eb36a" category="paragraph">支援SMB 2.1和3.x版的傳輸協定。Cloud Volumes Service</block>
  <block id="cc4a835dfb2ac9e7ba402c068a4ef9a0" category="section-title">存取控制/SMB共用區</block>
  <block id="f122c057113b41c182d10fddf2a82817" category="list-text">當Windows使用者名稱要求存取Cloud Volumes Service 到此卷時、Cloud Volumes Service 功能區會使用Cloud Volumes Service 由管理員設定的方法尋找UNIX使用者名稱。</block>
  <block id="ac960a1b86a1625e4ff98dbb3feef120" category="list-text">如果已設定外部UNIX身分識別供應商（LDAP）、且Windows / UNIX使用者名稱相同、則Windows使用者名稱會將1：1對應至UNIX使用者名稱、而不需要任何額外的組態。啟用LDAP時、會使用Active Directory來裝載使用者和群組物件的UNIX屬性。</block>
  <block id="3c60aff1fcf4407fc40492eebac8e37b" category="inline-link-macro">「使用LDAP進行非對稱名稱對應」</block>
  <block id="e4adb9d6d8d5650dfb0663dde5495dff" category="list-text">如果Windows名稱和UNIX名稱不一致、則必須將LDAP設定為允許Cloud Volumes Service 使用LDAP名稱對應組態（請參閱一節） <block ref="1cca6755f54a82023ec645e8be5d4c82" category="inline-link-macro-rx"></block>）。</block>
  <block id="5205bf34161159f00d7f28cb5e6e2a89" category="list-text">如果未使用LDAP、則Windows SMB使用者會對應至Cloud Volumes Service 預設的本地UNIX使用者、名稱為「pcuser" in fuse」。這表示在Windows中、對應到「pcuser'」的使用者所寫入的檔案、會在多重傳輸協定NAS環境中、將UNIX擁有權顯示為「pcuser'」。這裏的「pcuser」實際上是Linux環境中的「nobnobody」使用者（UID 65534）。</block>
  <block id="0ff58f508b02c651e0b4ee271b1792d9" category="paragraph">在僅使用SMB的部署中、「pcuser'」對應仍會發生、但這並不重要、因為Windows使用者和群組擁有權已正確顯示、而且不允許NFS存取SMB專屬磁碟區。此外、純SMB磁碟區在建立之後、不支援轉換成NFS或雙傳輸協定磁碟區。</block>
  <block id="9327392a148953617bfae88e7e46a666" category="paragraph">Windows利用Kerberos與Active Directory網域控制器進行使用者名稱驗證、這需要與Cloud Volumes Service AD DC交換使用者名稱/密碼、此區段是由實例外部的。當SMB用戶端使用「\伺服器名稱」的UNC路徑時、就會使用Kerberos驗證、下列情況為真：</block>
  <block id="61caea7c1c859702c330a0781763fd23" category="list-text">伺服器名稱存在DNS A/Aaaa項目</block>
  <block id="de4327d512f4e62f9b3ae80f8bb719cc" category="list-text">伺服器名稱具有SMB / CIFS存取的有效SPN</block>
  <block id="f5c19a901f7d9431872c0e8893aaa498" category="inline-link-macro">「Cloud Volumes Service 如何在Active Directory中顯示此功能。」</block>
  <block id="93c756ce24f344cc333703bcd2e7a06e" category="paragraph">建立一個支援功能的SMB Volume時、會依區段中的定義建立機器帳戶名稱Cloud Volumes Service <block ref="087d516981f271a0b6f0df624ae1e840" category="inline-link-macro-rx"></block> 該機器帳戶名稱也會成為SMB共用存取路徑、因為Cloud Volumes Service 它利用動態DNS（DDNS）在DNS中建立必要的A/AAAA和PTr項目、以及在機器帳戶主體上建立必要的SPN-s項目。</block>
  <block id="aafa8c8c59e359a65d0c657f05772244" category="admonition">若要建立PTr項目、Cloud Volumes Service DNS伺服器上必須存在適用於此實例IP位址的反向對應區域。</block>
  <block id="ecd31d9efcb752f09a0690c2f62bf88f" category="paragraph">例如Cloud Volumes Service 、此Sesvvolume使用下列的UNC共用路徑：「\cs-east- 433d.cvsdemo.local'」。</block>
  <block id="c6ee58936680de9d2229f523a4c54ffb" category="paragraph">在Active Directory中、這些是Cloud Volumes Service產生的SPN項目：</block>
  <block id="5c3c803198a53be899a500a43fcf1d24" category="paragraph"><block ref="5c3c803198a53be899a500a43fcf1d24" category="inline-image-macro-rx" type="image"></block></block>
  <block id="97422e33b69a5567af9908d5b2d397fc" category="paragraph">這是DNS轉送/反轉查詢結果：</block>
  <block id="1d3d964bf7fdd6249507cb3738908e54" category="paragraph">或者、啟用Cloud Volumes Service /要求SMB加密以利執行更多存取控制、以利執行支援。如果其中一個端點不支援SMB加密、則不允許存取。</block>
  <block id="e5e9be92303e18ef3f22dfa57dcbd0d3" category="section-title">使用SMB名稱別名</block>
  <block id="500c4de8d7a022d507313e514b85d485" category="paragraph">在某些情況下、終端使用者可能會擔心安全問題、因為他們知道Cloud Volumes Service 使用中的機器帳戶名稱以供使用。在其他情況下、您可能只想提供更簡單的存取路徑給終端使用者。在這些情況下、您可以建立SMB別名。</block>
  <block id="6c7c194988807a9112adc7f6bc9b1dd5" category="paragraph">如果您想要為SMB共用路徑建立別名、可以利用DNS中稱為「CNAME-」記錄的名稱。例如、如果您想要使用名稱「\CIFS」來存取共享區、而不是「\CVS東- 433d.cvsdemo.local」、但仍想要使用Kerberos驗證、DNS中的一種命名為「CNAME」、指向現有的A/AAAA記錄、以及新增至現有機器帳戶的其他SPN-s、則可提供Kerberos存取。</block>
  <block id="620b0e4f14250d32e58b3411c5fd3044" category="paragraph"><block ref="620b0e4f14250d32e58b3411c5fd3044" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9a030a66483dc3115cd014273bad041d" category="paragraph">這是在新增CNAME:</block>
  <block id="97ec437207d5ac6fb22613655e7e395e" category="paragraph">這是新增SPN後產生的SPN查詢：</block>
  <block id="5730e2788651b014b918d2ee1bfdfe67" category="paragraph"><block ref="5730e2788651b014b918d2ee1bfdfe67" category="inline-image-macro-rx" type="image"></block></block>
  <block id="df91b2b002b78b2f9f87c79b56293060" category="paragraph">在封包擷取中、我們可以使用與CNAMA相關的SPN來查看工作階段設定要求。</block>
  <block id="8b36b24049a6cda34019fd47ea0273fc" category="paragraph"><block ref="8b36b24049a6cda34019fd47ea0273fc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="65cc39e4fb8a95d5fcc2098d620ff3b6" category="section-title">SMB驗證的語言</block>
  <block id="fe9fdc3d8157e10bf5b31e8d28fe7827" category="inline-link">方言</block>
  <block id="c50c24feef6ada40d8e2f7be85359c0f" category="paragraph">支援下列項目Cloud Volumes Service<block ref="88f3097f4ad7d144185bbacf0330fbeb" category="inline-link-rx"></block> SMB驗證：</block>
  <block id="dfd5b430bc4db2c2836d0227ad9ac0c4" category="list-text">LM</block>
  <block id="d11322c1a7a2383491c23f13113c59ea" category="list-text">NTLM</block>
  <block id="d0952ee882764dd5c3105f5b23a3e505" category="list-text">NTLMv2</block>
  <block id="87b3695bfd6f672e2c7c4da7ca2b46a8" category="list-text">Kerberos</block>
  <block id="11012bc0af4eda341c391c39cf6aa27c" category="paragraph">SMB共用存取的Kerberos驗證是您可以使用的最安全驗證層級。啟用AES和SMB加密後、安全層級會進一步提升。</block>
  <block id="e5c584f1ac6fa07c9594321f8fc845e2" category="paragraph">支援LM和NTLM驗證的向下相容性。Cloud Volumes Service當Kerberos設定錯誤時（例如建立SMB別名時）、共用存取會回復到較弱的驗證方法（例如：NTLMv2）。由於這些機制較不安全、因此在某些Active Directory環境中會停用這些機制。如果停用較弱的驗證方法、但未正確設定Kerberos、則共用存取會失敗、因為沒有有效的驗證方法可以還原。</block>
  <block id="d87250f3f8075c2dfbcfe941d0c7bde9" category="inline-link">網路安全性：LAN Manager驗證層級</block>
  <block id="f4457a3dba045094cb39418e2233c8c1" category="paragraph">如需在Active Directory中設定/檢視支援的驗證層級的相關資訊、請參閱<block ref="d671b936eec72b8caa6e3a555955a849" category="inline-link-rx"></block>。</block>
  <block id="6ccfb9a0791b337d38ef8ff2cdf26cf8" category="section-title">權限模式</block>
  <block id="b1728e361f14c53940f081871f87e6ee" category="section-title">NTFS/檔案權限</block>
  <block id="3e5348fb86c26b3cabf2912e6e597902" category="paragraph">NTFS權限是指套用至檔案系統中符合NTFS邏輯的檔案和資料夾。您可以在「基本」或「進階」中套用NTFS權限、並可設定為「允許」或「允許」以進行存取控制。</block>
  <block id="80b0c49680a2b15ae6a40273fadefaa8" category="paragraph">基本權限包括：</block>
  <block id="704a2a0ea2e007dae9f25d038a988076" category="list-text">完全控制</block>
  <block id="7f090bbab1cc7f9c08bf4e54d932d3c0" category="list-text">修改</block>
  <block id="3ed713666b4f5112539dd5ffb9376ff4" category="list-text">讀取與執行</block>
  <block id="7a1a5f3e79fdc91edf2f5ead9d66abb4" category="list-text">讀取</block>
  <block id="1129c0e4d43f2d121652a7302712cff6" category="list-text">寫入</block>
  <block id="75484cb1059b92206b918bde1204007a" category="paragraph">當您設定使用者或群組的權限（稱為ACE）時、該使用者或群組會駐留在ACL中。NTFS權限使用與UNIX模式位元相同的讀取/寫入/執行基礎、但也可延伸至更精細且延伸的存取控制（也稱為特殊權限）、例如「取得所有權」、「建立資料夾/附加資料」、「寫入屬性」等。</block>
  <block id="77636166006179e57dc5edc6df25b80c" category="paragraph">標準UNIX模式位元提供的精細度與NTFS權限不同（例如、能夠設定ACL中個別使用者和群組物件的權限、或是設定延伸屬性）。不過NFSv4.1 ACL確實提供與NTFS ACL相同的功能。</block>
  <block id="9434d016806e0f50ac7f14efbfa3a3df" category="paragraph">NTFS權限比共用權限更為特定、可搭配共用權限使用。使用NTFS權限結構時、會套用最嚴格的限制。因此、在定義存取權限時、明確拒絕使用者或群組甚至會覆寫「完全控制」。</block>
  <block id="c0ad12f90a714e04744ab070d26a9c80" category="paragraph">NTFS權限由Windows SMB用戶端控制。</block>
  <block id="ef950b5546945ec414f9da7909c4fe8a" category="section-title">共用權限</block>
  <block id="3df5ef25e4045d2e51c43effb69aa5de" category="paragraph">共用權限比NTFS權限更為一般（唯讀/變更/完全控制）、並控制SMB共用的初始項目、類似於NFS匯出原則規則的運作方式。</block>
  <block id="41123e00ec2463c8d7c60a10f3d3ede4" category="paragraph">雖然NFS匯出原則規則可透過主機型資訊（例如IP位址或主機名稱）來控制存取、但SMB共用權限可以使用共用ACL中的使用者和群組ACE來控制存取。您可以從Windows用戶端或Cloud Volumes Service 從功能區管理UI設定共用ACL。</block>
  <block id="7f455f054b3ad11fb335d2f9ec69e3ff" category="paragraph">根據預設、共用ACL和初始Volume ACL包括「完全控制的每個人」。檔案ACL應該變更、但共用權限會被共用區中物件的檔案權限所取代。</block>
  <block id="8d37bee954f03966b12b65871768a438" category="paragraph">例如、如果使用者只能讀取Cloud Volumes Service 對此實體磁碟區檔案ACL的存取權、則即使共用ACL設定為「擁有完全控制權的所有人」、仍無法存取建立檔案和資料夾、如下圖所示。</block>
  <block id="47ff9e7720c14a2a27bfa4ce12bbd268" category="paragraph"><block ref="47ff9e7720c14a2a27bfa4ce12bbd268" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ef46360b81c847c0d6f5015920fd5f3e" category="paragraph"><block ref="ef46360b81c847c0d6f5015920fd5f3e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="316a22056a64a8465269d31ac436fc22" category="paragraph">若要獲得最佳的安全性結果、請執行下列步驟：</block>
  <block id="09fced4bea14e9b030bd1179b95f3b89" category="list-text">從共用和檔案ACL中移除「所有人」、改為設定使用者或群組的共用存取權。</block>
  <block id="8941d253e49282460162b7dac68ad2ba" category="list-text">使用群組進行存取控制、而非個別使用者、以利管理、並更快移除/新增使用者、透過群組管理來共用ACL。</block>
  <block id="f63df4fd4f9e10c567332b34b05d35ae" category="list-text">允許對共用權限上的ACE進行較少限制、較為一般的共用存取、並鎖定具有檔案權限的使用者和群組存取、以達到更精細的存取控制。</block>
  <block id="afe52910905ef63730591f8a01bcb75e" category="list-text">避免一般使用明確拒絕ACL、因為它們會覆寫允許ACL。限制使用者或群組的明確拒絕ACL、以防止他們快速存取檔案系統。</block>
  <block id="9a2191ac8d9f65679cdf29455149f6cb" category="inline-link">ACL繼承</block>
  <block id="780d68252d03e9f7617f6bf5fe95c1ce" category="list-text">請務必注意<block ref="19af65d9616f33b3ccaee367e8d4dc82" category="inline-link-rx"></block> 修改權限時的設定；在目錄或磁碟區的最上層設定具有高檔案計數的繼承旗標、表示該目錄或磁碟區下方的每個檔案都已新增繼承權限、 這可能會在調整每個檔案時產生不必要的行為、例如非預期的存取/拒絕、以及冗長的權限修改。</block>
  <block id="0c2104afa1bd6c96b5ccc9c7a7ee8a6a" category="section-title">SMB共享安全功能</block>
  <block id="05ec24f8004d55ad7596b79266cd4691" category="paragraph">當您第一次在Cloud Volumes Service 支援SMB存取的情況下建立Volume時、系統會提供一系列的選項來保護該Volume。</block>
  <block id="53eaeead30ddbd2dcb1526241312aedf" category="paragraph">這些選項中的部分取決於Cloud Volumes Service 「樣層」（「效能」或「軟體」）、選項包括：</block>
  <block id="d65a6ba5ce40987a368f3f757b5721ae" category="list-text">*使Snapshot目錄可見（同時適用於CVs-Performance和CVs-SW）。*此選項控制SMB用戶端是否可以存取SMB共用區（「\伺服器\共用\~snapshot」和/或「舊版」索引標籤）中的Snapshot目錄。未核取預設設定、這表示磁碟區預設為隱藏及不允許存取「~snapshot」目錄、而且磁碟區的「舊版」索引標籤不會顯示Snapshot複本。</block>
  <block id="9ebf5e1b6bf20c2942f0add8e979dd7a" category="paragraph"><block ref="9ebf5e1b6bf20c2942f0add8e979dd7a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="baf0124343f1806f3ff44f011e92c73f" category="paragraph">基於安全理由、效能理由（將這些資料夾隱藏在AV掃描之外）或偏好、可能需要從終端使用者處隱藏Snapshot複本。由於「支援快照」是唯讀的、因此即使這些快照可見、終端使用者仍無法刪除或修改Snapshot目錄中的檔案。Cloud Volumes Service應用Snapshot複本時、檔案或資料夾的檔案權限。如果檔案或資料夾的權限在Snapshot複本之間變更、則變更也會套用至Snapshot目錄中的檔案或資料夾。使用者和群組可以根據權限存取這些檔案或資料夾。雖然無法刪除或修改Snapshot目錄中的檔案、但仍可將檔案或資料夾從Snapshot目錄中複製出來。</block>
  <block id="2716bd858fb85bb9b111c5d51138cb40" category="list-text">*啟用SMB加密（同時適用於CVs-Performance和CVs-SW）。* SMB加密預設為停用（未核取）。核取此方塊可啟用SMB加密、這表示SMB用戶端與伺服器之間的流量會在傳輸中加密、並以議定的最高支援加密層級進行加密。支援高達AES-256的SMB加密。Cloud Volumes Service啟用SMB加密確實會造成效能損失、而您的SMB用戶端可能會或可能不會察覺到這種情況、範圍大致介於10-20%之間。NetApp強烈建議測試、以瞭解效能損失是否可接受。</block>
  <block id="ab7715a00a3e7691d84318bb2f1a3bc1" category="list-text">*隱藏SMB共用區（同時適用於CVS效能和CVS軟體）。*設定此選項會隱藏SMB共用路徑、使其無法正常瀏覽。這表示不知道共用路徑的用戶端在存取預設的UNC路徑（例如：「\CVS SMB」）時、無法看到共用區。核取此核取方塊時、只有明確知道SMB共用路徑或由群組原則物件定義共用路徑的用戶端才能存取該路徑（透過混淆來確保安全）。</block>
  <block id="67699a5a5f5ec8d69977d9f44b521201" category="inline-link">存取型列舉（ABE）如何運作？</block>
  <block id="eb36f3383eadcd01f954bc9848b7de21" category="list-text">*啟用存取型列舉（ABE）（僅限CVs-SW）。*這類似於隱藏SMB共用區、但共用區或檔案只會隱藏在沒有存取物件權限的使用者或群組中。例如、如果不允許Windows使用者「Joe」透過權限至少讀取存取權、則Windows使用者「Joe」根本看不到SMB共用區或檔案。此功能預設為停用、您可以選取核取方塊來啟用此功能。如需ABE的詳細資訊、請參閱NetApp知識庫文章<block ref="6d2d0139fec74415d85dc1015aa48640" category="inline-link-rx"></block></block>
  <block id="5ff6480cf15803c821d9cc9bb3dcbe5c" category="inline-link">持續可用的SMB共用</block>
  <block id="17faa8cfb0bc70572c6d4f120cb6de10" category="list-text">*啟用持續可用的（CA）共用支援（僅限CVS效能）。*<block ref="97476034cc2961d2c1c061d5bdcc519a" category="inline-link-rx"></block> 透過在Cloud Volumes Service 整個節點之間複寫鎖定狀態、將容錯移轉事件期間的應用程式中斷降至最低。這不是一項安全功能、但確實能提供更好的整體恢復能力。目前、此功能僅支援SQL Server和FSLogix應用程式。</block>
  <block id="f816f594817af59eac10c8385f34d319" category="section-title">預設隱藏共用</block>
  <block id="7ce84bf53b21b783ae6c62b61f60f9e3" category="inline-link">隱藏的管理共用</block>
  <block id="31a7b0c828b1a1039c3fe9e855430acd" category="paragraph">當SMB伺服器是以Cloud Volumes Service 支援功能建立時、就會出現這種情況<block ref="e698db250309574e2563e69229bd950f" category="inline-link-rx"></block> （使用$命名慣例）、這是在資料Volume SMB共用區之外建立的。其中包括C$（命名空間存取）和IPC$（共用具名管道、用於程式之間的通訊、例如用於Microsoft管理主控台（MMC）存取的遠端程序呼叫（RPC）））。</block>
  <block id="64667cec654fa57a129c5c1fe752d7ae" category="inline-link">Windows預設不允許匿名存取這些共用</block>
  <block id="7962a42fa319b5ea9ccf0429193d4f3c" category="paragraph">IPC$共用區不含共用ACL、無法修改、嚴格用於RPC呼叫和<block ref="582b1e06ccfbbf9885ff446ec79f8b0f" category="inline-link-rx"></block>。</block>
  <block id="c2c8a4f76f99f203d14ee3c1adae3c40" category="paragraph">依預設、C$共用可讓BUILTIN/系統管理員存取、但Cloud Volumes Service 由於能夠存取C$共用區、因此無法檢視Cloud Volumes Service 所有安裝於此的磁碟區、因此無法存取共享ACL。因此、嘗試瀏覽至「\SERVER\C$」失敗。</block>
  <block id="444613ce56f4180cf88b531783a9e3bc" category="section-title">具有本機/BUILTIN/系統管理員/備份權限的帳戶</block>
  <block id="5659f387517ed75a127b9a6bda6f1329" category="paragraph">由於本機群組（例如BUILTIN\Administrator）會套用存取權限給選取的網域使用者和群組、因此、支援SMB伺服器的功能與一般Windows SMB伺服器類似。Cloud Volumes Service</block>
  <block id="709eb202e09b717ba82624b788948428" category="inline-link">SeBackup權限和Se恢復 權限</block>
  <block id="03455d8db7797aab1e6e9efe9bf4d2a5" category="paragraph">當您指定要新增至備份使用者的使用者時、該使用者會新增至Cloud Volumes Service 使用該Active Directory連線的執行個體中BUILTIN\Backup Operators群組、然後取得<block ref="3d66e5b4422b04db3b01ddbcafb3649a" category="inline-link-rx"></block>。</block>
  <block id="b5b39a908a856900d75e0b129fb9e349" category="inline-link">SMB共用上的SQL Server</block>
  <block id="52f5e8856edf4d634cf608cb64bec885" category="paragraph">當您將使用者新增至「安全性權限使用者」時、系統會將SeSecurityPrivilege賦予使用者、這在某些應用程式使用案例（例如）中很有用<block ref="b685ff2242ac25f5022af8207109cc39" category="inline-link-rx"></block>。</block>
  <block id="99c9211b9f5166d96d9e6613c4be9f77" category="paragraph"><block ref="99c9211b9f5166d96d9e6613c4be9f77" category="inline-image-macro-rx" type="image"></block></block>
  <block id="59976878f4cfcf8cd4a9bccf37270fec" category="paragraph">您可以Cloud Volumes Service 透過具有適當權限的MMC檢視本地的群組成員資格。下圖顯示使用Cloud Volumes Service 者已透過使用此功能新增的使用者。</block>
  <block id="9b02abec53251430b553f5124b676b1f" category="paragraph"><block ref="9b02abec53251430b553f5124b676b1f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="09e7cb53843328fd35bff1d1075e8e04" category="paragraph">下表顯示預設BUILTIN群組清單、以及預設新增的使用者/群組。</block>
  <block id="52087222d7968b7bd85e5698912f6cee" category="cell">本機/BUILTIN.群組</block>
  <block id="c899fa178e9ccd9c46154a79773b9e8e" category="cell">預設成員</block>
  <block id="f6c0ddae69a704e001f6cba9fba3f951" category="cell">內建\系統管理員*</block>
  <block id="6930162f33d7d3cc792907afc2d709d6" category="cell">網域\網域管理員</block>
  <block id="291b9d53abc37bd4eeab64a68607df4f" category="cell">內建\備份操作員*</block>
  <block id="f87e4b3cc74234e59b0d07ad558b2c05" category="cell">內建\訪客</block>
  <block id="bea5dc29e529ecf572942e7f6cbbf19b" category="cell">網域\網域來賓</block>
  <block id="bafee069f6320499a0f630485028a961" category="cell">內建\超級使用者</block>
  <block id="d3ffae89384cc2219d9dc26887d6422c" category="cell">內建\網域使用者</block>
  <block id="a26444fe66f07a77f6e392ad714158ff" category="cell">網域\網域使用者</block>
  <block id="ee6df957412594fad1ce714d75089e5f" category="paragraph">*群組成員資格是由Cloud Volumes Service 不實Active Directory連線組態所控制。</block>
  <block id="c648fec724703de3d038fda21e884ef7" category="paragraph">您可以在MMC視窗中檢視本機使用者和群組（及群組成員）、但無法從這個主控台新增或刪除物件或變更群組成員資格。根據預設、Cloud Volumes Service 只有Domain Admins群組和Administrator會新增至功能區的BUILTIN\Administrator群組。目前您無法修改此項目。</block>
  <block id="39aedbfda9a943aea0e4c841bc68dc0a" category="paragraph"><block ref="39aedbfda9a943aea0e4c841bc68dc0a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0ae7d2b2ec0c231b6934886bf6690c9e" category="paragraph"><block ref="0ae7d2b2ec0c231b6934886bf6690c9e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="255c5bd3cdece4dd4a7891941d9c964e" category="section-title">MMC/電腦管理存取</block>
  <block id="7f956759e187dbb2b65022241e8053cd" category="paragraph">SMB存取Cloud Volumes Service 功能可連線至電腦管理MMC、讓您檢視共用區、管理共用ACL、以及檢視/管理SMB工作階段和開啟檔案。</block>
  <block id="e3d561744b3b4f6ab5953c2f96daaad7" category="paragraph">若要使用MMC來檢視Cloud Volumes Service SMB共用區和Sessions、目前登入的使用者必須是網域管理員。其他使用者可以從MMC檢視或管理SMB伺服器、並在嘗試檢視Cloud Volumes Service 有關Sisb執行個體的共用或工作階段時、收到「您沒有權限」對話方塊。</block>
  <block id="aaf8b324d80834b9d235cb6b6d84be89" category="paragraph">若要連線至SMB伺服器、請開啟「電腦管理」、在「電腦管理」上按一下滑鼠右鍵、然後選取「連線至其他電腦」。這會開啟「Select Computer（選取電腦）」對話方塊、您可以在其中輸入SMB伺服器名稱（可在Cloud Volumes Service 《支援資料》資料冊中找到）。</block>
  <block id="c34ce8bbe19f26cf58867de938f87920" category="paragraph">當您檢視具有適當權限的SMB共用時、Cloud Volumes Service 您會看到共享Active Directory連線的所有可用共享區。若要控制這種行為、請在Cloud Volumes Service 現象區執行個體上設定隱藏SMB共用選項。</block>
  <block id="b939aeb87de29dc576ad4adc5fa19bce" category="paragraph"><block ref="b939aeb87de29dc576ad4adc5fa19bce" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c57a1134332b8bafcaa5f411a65b4a49" category="paragraph"><block ref="c57a1134332b8bafcaa5f411a65b4a49" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1325fb66f29e707e7e3402f0d45d59dc" category="paragraph">下表顯示MMC支援/不支援的功能清單。</block>
  <block id="241bac47978fca670a6b9c52e3432067" category="cell">支援的功能</block>
  <block id="fe2de21fdfcaf4ed19a251aab83bf0ff" category="cell">不支援的功能</block>
  <block id="ad338fe21209358afd2f29eee14817c6" category="list-text">檢視共享區</block>
  <block id="a5dc19ca94f052a57587a2f4f1433678" category="list-text">檢視作用中的SMB工作階段</block>
  <block id="ff50826288707e494282b4cf6bec983b" category="list-text">檢視開啟的檔案</block>
  <block id="8c006cf58f2706f56d65e1431b1e128e" category="list-text">檢視本機使用者和群組</block>
  <block id="bad02cc8e307a9ac8bf6899188811a54" category="list-text">檢視本機群組成員資格</block>
  <block id="5ab1c0d0251d23bc086198a8fc219a69" category="list-text">列舉系統中的工作階段、檔案和樹狀結構連線清單</block>
  <block id="bd7ff4b31e7eade785d74789a052242c" category="list-text">關閉系統中開啟的檔案</block>
  <block id="3a6cd2ea18cf077c57b65c28c40f9851" category="list-text">關閉開啟的工作階段</block>
  <block id="e5ded1413b3fd0a1690184029acf1845" category="list-text">建立/管理共用</block>
  <block id="b4d1348a7ae3aa39ac1fbd299a07ebb9" category="list-text">建立新的本機使用者/群組</block>
  <block id="5c3d34e6fdaee1edee0722fcef147f8a" category="list-text">管理/檢視現有的本機使用者/群組</block>
  <block id="1c79052ffd16d848acb6278dd54f0d33" category="list-text">檢視事件或效能記錄</block>
  <block id="eedf037c0977372c4f0adaa359d5f6e0" category="list-text">管理儲存設備</block>
  <block id="d5d1ca904ae55c0d5399eb923b8d6d21" category="list-text">管理服務與應用程式</block>
  <block id="dddaf61539328810b230a60430960038" category="section-title">SMB伺服器安全性資訊</block>
  <block id="7c7ff5a0c882bba2c6d86dc13caa6e49" category="paragraph">本產品的SMB伺服器Cloud Volumes Service 使用一系列選項來定義SMB連線的安全性原則、包括Kerberos時鐘偏移、票證存留期、加密等。</block>
  <block id="bdf80cb84c583e3d6af81c4778921102" category="paragraph">下表列出這些選項、其功能、預設組態、以及是否可以使用Cloud Volumes Service 更新。部分選項不適用於Cloud Volumes Service 此功能。</block>
  <block id="708cc30ece03d9ba30511bea4ea09792" category="cell">安全選項</block>
  <block id="ad67361f283520dada90173b5fbfaad7" category="cell">Kerberos時鐘最大偏差（分鐘）</block>
  <block id="ebd83f9f3f1a10793a7aaf199f57a32b" category="cell">最大Cloud Volumes Service 程度地縮短了在各個領域控制器之間的時間偏差。如果時間偏移超過5分鐘、Kerberos驗證就會失敗。這會設為Active Directory預設值。</block>
  <block id="e4da3b7fbbce2345d7772b0674a318d5" category="cell">5.</block>
  <block id="ccf9068a42f159a1b1cd3e07b84c5ecd" category="cell">Kerberos票證壽命（小時）</block>
  <block id="34c1c29ec6cffe3b75b5f4db3cd4e12f" category="cell">Kerberos票證在要求續約之前保持有效的最長時間。如果在10小時之前沒有續約、您必須取得新的通知單。系統會自動執行這些續約作業。Cloud Volumes Service10小時為Active Directory預設值。</block>
  <block id="b63288488b52af4af602d79dce8aa252" category="cell">Kerberos票證續約上限（天）</block>
  <block id="082ea39c709884c3439c0b1e937ee15a" category="cell">在需要新授權要求之前、可以續約Kerberos票證的最大天數。自動更新SMB連線的問題單。Cloud Volumes ServiceActive Directory預設值為七天。</block>
  <block id="8f14e45fceea167a5a36dedd4bea2543" category="cell">7.</block>
  <block id="2127af947646b417ab67c66e82922af5" category="cell">Kerberos Kdc連線逾時（秒）</block>
  <block id="4a4dfa50ac48d9523d22b929a8df2e01" category="cell">Kdc連線逾時前的秒數。</block>
  <block id="09b779421f875a0831c9165f7730b710" category="cell">需要簽署傳入的SMB流量</block>
  <block id="8f4c5ae7b0c978c58bbe10790f9eb578" category="cell">設定為需要SMB流量的簽署。如果設為true、則不支援簽署的用戶端會失敗連線。</block>
  <block id="c77326ff7e3ae38e2b7ed07e3bff97e8" category="cell">本機使用者帳戶需要密碼複雜度</block>
  <block id="fab3a355aeb5f939ba8dcdc4ae0ea4b8" category="cell">用於本機SMB使用者的密碼。由於不支援建立本機使用者、因此此選項不適用於支援。Cloud Volumes Service Cloud Volumes Service</block>
  <block id="a3ab2beb782b5f0d7b6d1eb3cacdff1f" category="cell">Active Directory LDAP連線使用start_tls</block>
  <block id="0e46800ed1870ec055aaa1a1193ff94e" category="cell">用於啟用Active Directory LDAP的啟動TLS連線。目前不支援啟用此功能。Cloud Volumes Service</block>
  <block id="b3734582301f762d04b757dd4bc38917" category="cell">為啟用Kerberos的AES-128和AES-256加密</block>
  <block id="4f36af6c9bdde3ebcee7b34176ffe895" category="cell">這會控制AES加密是否用於Active Directory連線、並在建立/修改Active Directory連線時、使用「啟用Active Directory驗證的AES加密」選項加以控制。</block>
  <block id="60a39bccb81f56ddfcbb75f0ffcd1fb6" category="cell">LM相容層級</block>
  <block id="a4ada97522d5a887e144bf5d59b41a79" category="cell">Active Directory連線所支援的驗證語言層級。請參閱「」一節<block ref="17dc1460fa48a825f7967ddb6804d663" category="inline-xref-macro-rx"></block>」以取得更多資訊。</block>
  <block id="cba8970659f15f342022079c22a97ee9" category="cell">vLMvb-krb</block>
  <block id="5e22abe32604d6b7925fa4768934bb5d" category="cell">傳入CIFS流量需要SMB加密</block>
  <block id="ae7c4fcb353d520e8996acadf9c9c42f" category="cell">所有共用都需要SMB加密。這不是Cloud Volumes Service 由靜止使用；而是根據每個磁碟區設定加密（請參閱「」一節）<block ref="6931acdfb95dc44f28af40d26d20d65c" category="inline-xref-macro-rx"></block>」）。</block>
  <block id="e00514b301b6206c1024de564d0d71fe" category="cell">用戶端工作階段安全性</block>
  <block id="b9e69cb6a219e02ada3e29b808558c45" category="inline-link-macro">「LDAP通道繫結。」</block>
  <block id="d16466e25f07f41d5c768e32becc9751" category="cell">設定LDAP通訊的簽署和/或密封。目前未在Cloud Volumes Service 不必要的情況下設定、但未來版本可能需要此功能來解決此問題。因Windows修補程式而導致的LDAP驗證問題補救措施將在一節中說明 <block ref="4bb24ef2f48443c7e6d43902d0f8498e" category="inline-link-macro-rx"></block>。</block>
  <block id="b4c17f5cf25d927d8fb7dbab5e1d84c5" category="cell">SMB2可啟用DC連線</block>
  <block id="31a7643648d0d4454c1fd8a860f1a12d" category="cell">使用SMB2進行DC連線。預設為啟用。</block>
  <block id="2cd88a3568a04efbfd46abb6cce9a411" category="cell">系統預設值</block>
  <block id="6158881a00903bd45b66955e6487a27c" category="cell">LDAP轉介追蹤</block>
  <block id="4ddc9ad0bd193ba15a48f662666ccd96" category="cell">使用LDAPS進行安全的Active Directory連線</block>
  <block id="4182d7f699521f08b56835082e7caf27" category="cell">啟用LDAP over SSL。目前不受Cloud Volumes Service 支援。</block>
  <block id="b31e0a21b1fa97ab2faf1479ea00c9db" category="cell">DC連線需要加密</block>
  <block id="23cc5b51f575d3c458ac112689f7a2f1" category="cell">需要加密才能成功建立DC連線。在功能不完整的情況下、預設為停用Cloud Volumes Service 。</block>
  <block id="595451bb2138edcd7bd73c4e11f8890d" category="inline-link-macro">下一步：雙傳輸協定/多傳輸協定。</block>
  <block id="47b43136bb3740d6abdf3823c798bd7e" category="paragraph"><block ref="47b43136bb3740d6abdf3823c798bd7e" category="inline-link-macro-rx"></block></block>
  <block id="ebd8431a0b14e9588377860f5d21d80b" category="sidebar">架構總覽</block>
  <block id="a20fe2a1eb3b2546487a96f1e639d4f3" category="sidebar">其他NAS基礎架構服務相依性（Kdc、LDAP、DNS）</block>
  <block id="92e704fe041898cac086cd4a192a1815" category="cell">05/20/2022</block>
  <block id="efae07e57b0f279c460d1361b379cf52" category="cell">適用於SupermPOD的全新BeeGFS設計與部署指南</block>
  <block id="197d6fccbd337f46908b50e1ac3ece5d" category="sidebar">SupermPOD：NetApp與NVIDIA解決方案</block>
  <block id="ed05ff1aa7ef3023c5dc2359de4e2d15" category="sidebar">BeeGFS on NetApp（設計指南）</block>
  <block id="b877ddfe299c52df6f7a340fdcaa52eb" category="sidebar">BeeGFS on NetApp（部署指南）</block>
  <block id="e6bec38fe69985a0817e3c0b2b3a0c20" category="cell">*內容登陸頁*</block>
  <block id="b1dc18184f115680e9fe3b64295c4678" category="cell">AI型解決方案的集合。AI登陸頁面提供內容特定「區塊」中的熱門內容。</block>
  <block id="e68818392f0eda6e918ccb9e7537e282" category="inline-link-macro">AI內容</block>
  <block id="748eaad82fcc3f281aebd8c5467a4d91" category="cell"><block ref="748eaad82fcc3f281aebd8c5467a4d91" category="inline-link-macro-rx"></block></block>
  <block id="53840db4921094507c6397fb6ee31d58" category="cell">現代資料分析解決方案的集合（例如 Splunk SmartStore、Apache Spark等）。現代化的Data Analytics登陸頁面提供內容特定「區塊」的熱門內容。</block>
  <block id="1b1956b226e3085af9e004e60ce183b4" category="inline-link-macro">現代化資料分析內容</block>
  <block id="16321f09e6ea361ef5515d5939fa73f1" category="cell"><block ref="16321f09e6ea361ef5515d5939fa73f1" category="inline-link-macro-rx"></block></block>
  <block id="87867e178542e6ed3cf6ea885807d4f1" category="cell">虛擬化核心解決方案的集合、包括桌面虛擬化。虛擬化登陸頁面提供內容特定「區塊」的熱門內容。</block>
  <block id="5654a75155b39867a9f4372fcc292bab" category="inline-link-macro">虛擬化內容</block>
  <block id="82e9b7248dcd1a1ae85e7fa485bf1f4b" category="cell"><block ref="82e9b7248dcd1a1ae85e7fa485bf1f4b" category="inline-link-macro-rx"></block></block>
  <block id="24a8e607718680e8d1dd293b9d736add" category="cell">容器型解決方案的集合。虛擬化登陸頁面提供內容特定「區塊」的熱門內容。</block>
  <block id="afb6dbef1b44c7f79b8883cae5cc3b30" category="inline-link-macro">容器內容</block>
  <block id="d76e9a2c09fc047c91b6cb4c2f340644" category="cell"><block ref="d76e9a2c09fc047c91b6cb4c2f340644" category="inline-link-macro-rx"></block></block>
  <block id="0cf49f958731e4b4c23d4b04f0802ba0" category="cell">商業應用程式與資料庫</block>
  <block id="73c685140b2461529432f6e9628ef281" category="cell">商業應用程式與資料庫解決方案的集合。SAP與SAP HANA登陸頁面會顯示內容特定「區塊」中的熱門內容。Oracle與SQL Server資料庫解決方案也會在本節中說明。</block>
  <block id="ef0bea1a6ce6e68dd3ebae18ea2de71f" category="inline-link-macro">SAP與SAP HANA內容</block>
  <block id="589c17157183d6295af608cccff7c8da" category="cell"><block ref="589c17157183d6295af608cccff7c8da" category="inline-link-macro-rx"></block></block>
  <block id="d7339a230985e723af5d49a6470f4fc8" category="cell">收集資料移轉、資料保護及資料安全解決方案。</block>
  <block id="d3d4dd76fc599d6c513fa0434537bc08" category="summary">一系列部落格、討論所有NetApp解決方案內容的解決方案功能</block>
  <block id="4d46b81ad5db47d845e86c95088ff47a" category="doc">NetApp解決方案：部落格</block>
  <block id="a93daa19938c1852de52ce10350307a4" category="paragraph">部落格總覽、重點介紹許多NetApp解決方案的特定功能。</block>
  <block id="bf20a476dd72893f0f21a3d56a601784" category="open-title">人工智慧</block>
  <block id="e6c9e9316fee7048645938d93d674056" category="list-text"><block ref="e6c9e9316fee7048645938d93d674056" category="inline-link-macro-rx"></block></block>
  <block id="3e78754f8bb90f06073e18a2399d0b7f" category="list-text"><block ref="3e78754f8bb90f06073e18a2399d0b7f" category="inline-link-macro-rx"></block></block>
  <block id="821c35321bcc709868cdd0b7f31165ee" category="cell">04/01/2022</block>
  <block id="b4ea7c36c784b6da08e2b44d82018c65" category="open-title">AWS / VMC</block>
  <block id="b9b37266c1f6c6a5244f3fef48f644e1" category="list-text">部署及設定適用於AWS的VMware Cloud</block>
  <block id="57669ed11798d25a8216675c3f0f6ecf" category="inline-link-macro">VMC的組態步驟</block>
  <block id="fc835ae678d144f168b78fafb98286b2" category="paragraph">檢視詳細資訊 <block ref="0bca421d9cd22e10e81bd0c987fad54b" category="inline-link-macro-rx"></block>。</block>
  <block id="9e88bf7f3ee359d8f536975aa39ab6a5" category="open-title">Azure / AVS</block>
  <block id="293193a848a4345d095f41ff490fd1a4" category="inline-link-macro">AVS的組態步驟</block>
  <block id="e2501a40b45cdc3295c28e82fc2ffa18" category="paragraph">檢視詳細資訊 <block ref="29745c898e96ab7473e2b2c19fa34fbf" category="inline-link-macro-rx"></block>。</block>
  <block id="7e7790ea083a371632d0764a881695f6" category="open-title">GCP / GCV</block>
  <block id="e44b11e9adb07a14c72f48599f700cd4" category="inline-link-macro">GCVE.的組態步驟</block>
  <block id="0969e77be69a346b123e1b2c625e25b0" category="paragraph">檢視詳細資訊 <block ref="7ffa56a4f5c5cf9fb86200a4dd2e1a5d" category="inline-link-macro-rx"></block>。</block>
  <block id="52be4c6acc8cca3a598e3a651421de3d" category="inline-link-macro">VMC的來賓連線儲存選項</block>
  <block id="a8e9a5787febc7740af29cd0bebf2e95" category="inline-link-macro">AVS的來賓連線儲存選項</block>
  <block id="2da991b20a7647acbdd67154515723cf" category="inline-link-macro">GCVE的來賓連線儲存選項</block>
  <block id="5d49b0ee57ad4b529c897b49789aa965" category="paragraph">檢視詳細資訊 <block ref="39710aaf95ad3f60e444c45fa2d1a561" category="inline-link-macro-rx"></block>。</block>
  <block id="685435b4b2388bd8f370b8fbb6ef6cc7" category="cell">*來賓連線*</block>
  <block id="8299249ba5f910704b6288ee7e271747" category="cell">* AWS *</block>
  <block id="eb35b03ceb49f5f06a4570454e08c34c" category="cell">CVO FSX ONTAP<block ref="999b20d9470091fda2e66b2dde5b0af7" category="inline-link-macro-rx"></block></block>
  <block id="1bdeba09294eb5abc383607bb93ff443" category="cell">* Azure *</block>
  <block id="06a1c60be3b7274c063385eaa240863f" category="cell">CVO ANF<block ref="f44f46a20eba78aa72ad4f68a0486a31" category="inline-link-macro-rx"></block></block>
  <block id="25bdffbd4ab087e994a0e54fe22ff6bd" category="cell">* GCP*</block>
  <block id="96e48152153beabed038aa4e41f2abf8" category="cell">CVO CVS<block ref="a54d2eac225d57696bf863778373ea0b" category="inline-link-macro-rx"></block></block>
  <block id="a46eb72d67c0cbcbbdfcde010fbc0b03" category="paragraph">深入瞭解NetApp為Azure提供的解決方案。</block>
  <block id="d8732ebfbd98db5a8cd9db59aa5b0637" category="paragraph">VMware將雲端工作負載定義為三種類別之一：</block>
  <block id="2cb256015e8585083bd2350f010676fb" category="list-text">保護（包括災難恢復和備份/還原）</block>
  <block id="3bc026b815790a05493fa56fc4b8d8bd" category="list-text">延伸</block>
  <block id="2c0a3f21d3cbc96381e4c2fe29329ec1" category="paragraph">請瀏覽下列各節提供的解決方案。</block>
  <block id="97740c0c87b83b324e18993ba93f0617" category="open-title">保護</block>
  <block id="e74fe990166c1a4bb77dde7f12823b5d" category="paragraph">即將推出！！</block>
  <block id="3d98cfc43616995ea335b20aa9b10ef2" category="paragraph">Azure可透過原生Azure NetApp Files 的不穩定（anf）服務或Cloud Volumes ONTAP 使用支援以客體連線的NetApp儲存設備（CVO）。</block>
  <block id="8f53b5241aa3284f9058318dcbc2504d" category="section-title">產品統計（ ANF ） Azure NetApp Files</block>
  <block id="2295dc11d84df2756a1eaac36330b417" category="paragraph">支援Azure的企業級資料管理與儲存、讓您輕鬆管理工作負載與應用程式。Azure NetApp Files將工作負載移轉至雲端、然後在不犧牲效能的情況下執行。</block>
  <block id="806f1ffa4d2e1d7ee40a30337658a5ef" category="paragraph">解決障礙、讓您將所有檔案型應用程式移至雲端。Azure NetApp Files第一次、您不需要重新建構應用程式、也能在不複雜的情況下、持續為應用程式提供儲存設備。</block>
  <block id="12eb3a27c6c1134f55e12f1349b87a91" category="paragraph">由於此服務是透過Microsoft Azure Portal提供、因此使用者在Microsoft企業協議中享有完整的託管服務。由Microsoft管理的世界級支援、讓您完全安心。此單一解決方案可讓您快速輕鬆地新增多重傳輸協定工作負載。您可以建置及部署Windows和Linux檔案型應用程式、即使是舊有環境也沒問題。</block>
  <block id="7afda8c8e445dfa1015ae8245fa8026e" category="section-title">驗證（CVO）Cloud Volumes ONTAP</block>
  <block id="8560d03d6d9a5398acd72a06a8fddd12" category="paragraph">NetApp以NetApp的整套儲存軟體為基礎、是領先業界的雲端資料管理解決方案、原生可在Amazon Web Services（AWS）、Microsoft Azure和Google Cloud Platform（GCP）上使用。Cloud Volumes ONTAP ONTAP</block>
  <block id="12f2a9cf238d1339eddfc43be9f107e1" category="paragraph">這是ONTAP 由軟體定義的版本、會消耗雲端原生儲存設備、讓您在雲端和內部環境中擁有相同的儲存軟體、減少重新訓練IT人員以全新方法管理資料的需求。</block>
  <block id="62c9becbf4c5643c0df4cbe868b09f0c" category="paragraph">CVO讓客戶能夠無縫地將資料從邊緣移至資料中心、移至雲端和移回、將混合式雲端整合在一起、所有這些都是透過單一窗格管理主控台NetApp Cloud Manager進行管理。</block>
  <block id="aafae379e910c7a153b831ce5122f5e8" category="paragraph">根據設計、CVO提供極致效能和進階資料管理功能、即使是雲端最嚴苛的應用程式、也能輕鬆滿足需求</block>
  <block id="6db49f93b02d752e6b80616d15759056" category="inline-link-macro">NetApp / VMware雲端解決方案</block>
  <block id="a088d0b353502e225826d0feb3041d57" category="list-text"><block ref="a088d0b353502e225826d0feb3041d57" category="inline-link-macro-rx"></block></block>
  <block id="9e348c60eb79913385ed14a65efffff6" category="paragraph">檢視詳細資訊 <block ref="be78464beb9b2a2b1696a7fe38c0e484" category="inline-link-macro-rx"></block>。</block>
  <block id="cb9ab2dcef988aa0eaa2da1d789cfdb4" category="section-title">解決方案使用案例</block>
  <block id="c9c270552e6f44a0219e4d2459cb4b90" category="paragraph">有了NetApp和VMware雲端解決方案、在Azure AVS中部署的許多使用案例都很簡單。系統會針對VMware定義的每個雲端領域定義SE案例：</block>
  <block id="3fac70d2bc4023bd8c5bb8f7c93b16e8" category="list-text">保護（包括災難恢復和備份/還原）</block>
  <block id="79e4e4c7346c156a268641272a85c01e" category="inline-link-macro">瀏覽適用於Azure AVS的NetApp解決方案</block>
  <block id="6626f21cba60531fb6ab33c5b686fd03" category="paragraph"><block ref="6626f21cba60531fb6ab33c5b686fd03" category="inline-link-macro-rx"></block></block>
  <block id="ef3abc0e33a9bba2f6844fc8bc6416c6" category="section-title">適用於VMware環境的NetApp解決方案</block>
  <block id="7c56979dc4b16fa4dd69a289608a432d" category="paragraph">無論您是以混合雲模式或「雲端優先」模式運作、NetApp都能提供各式各樣的解決方案、以因應在雲端或混合雲模式中管理工作負載的最常見使用案例。</block>
  <block id="14b428df74ec47d859b4b41c2a528f79" category="paragraph">如需每個超大規模擴充系統可用解決方案的詳細資訊、請造訪：</block>
  <block id="d7d90ddf3d849c680942374007293390" category="inline-link-macro">AWS / VMC解決方案</block>
  <block id="3efe4c396a8490c63650f3271e66c5ab" category="list-text"><block ref="3efe4c396a8490c63650f3271e66c5ab" category="inline-link-macro-rx"></block></block>
  <block id="902d95c8e7b033260ed791d46b121684" category="inline-link-macro">Azure / AVS解決方案</block>
  <block id="a22d65ac7c37a480dfd6ea3cc467903d" category="list-text"><block ref="a22d65ac7c37a480dfd6ea3cc467903d" category="inline-link-macro-rx"></block></block>
  <block id="739e02805dc104b2c68811e1ea86f2e5" category="inline-link-macro">GCP / GCVE解決方案</block>
  <block id="72792598cb09eae6cc992790a3677b2d" category="list-text"><block ref="72792598cb09eae6cc992790a3677b2d" category="inline-link-macro-rx"></block></block>
  <block id="4c27cd4763075e77fef142db7e967384" category="paragraph">深入瞭解NetApp為AWS帶來的解決方案。</block>
  <block id="6619dc0097706121ef2efa1294da110b" category="example-title">註冊AWS帳戶</block>
  <block id="3f01bd52a695afbced7f2a43525ec966" category="example-title">註冊My VMware帳戶</block>
  <block id="f52c436d16c8976963f940ce7dfbd3b0" category="paragraph">AWS支援以原生FSX服務（FSX0 ONTAP ）或Cloud Volumes ONTAP 透過Sfor（CVO）連接來賓的NetApp儲存設備。</block>
  <block id="480bc55cb0b0c11472f598d17424afa2" category="section-title">FSX ONTAP</block>
  <block id="6df37dbe4c736ce113cfd677b79431d8" category="paragraph">Amazon FSX for NetApp ONTAP Sfing是一項完全託管的服務、以NetApp廣受歡迎ONTAP 的Sfing檔案系統為基礎、提供高度可靠、可擴充、高效能且功能豐富的檔案儲存設備。FSX for ONTAP VMware將NetApp檔案系統熟悉的功能、效能、功能和API作業、以及完全託管的AWS服務的敏捷度、擴充性和簡易性結合在一起。</block>
  <block id="f1afd8f76dc3ed417abd5daffa1d5a5f" category="paragraph">FSX for ONTAP FSfor支援功能豐富、快速且靈活的共享檔案儲存設備、可從在AWS或內部部署環境中執行的Linux、Windows及MacOS運算執行個體進行廣泛存取。FSX for ONTAP VMware提供高效能固態硬碟（SSD）儲存設備、延遲低於毫秒。使用FSXfor ONTAP Sfor Sf0、您可以為工作負載達到SSD等級的效能、同時只需支付一小部分資料的SSD儲存設備費用。</block>
  <block id="dd29cd696f931f8230a783a5d65ab8c4" category="paragraph">只ONTAP 要按一下按鈕、就能輕鬆使用FSXfor Sfor Sfor功能來管理資料、快照、複製及複寫檔案。此外ONTAP 、FSX for Sfor Sfor Sfor Sfor Elfed會自動將您的資料分層、以降低成本、靈活儲存、減少您配置或管理容量的需求。</block>
  <block id="697c147172074c2927997e2d7c472fc0" category="paragraph">FSX for ONTAP Sfor Sfor支援跨區域災難恢復、提供高度可用且持久的儲存設備、並具備完整的備份管理功能。為了讓資料更容易保護和保護、FSXfor ONTAP Sfor支援熱門的資料安全和防毒應用程式。</block>
  <block id="461ab3a83d6c51e1cc25f42118f407bd" category="paragraph">檢視詳細資訊 <block ref="f56028ac73883785be6a54941a0e4e64" category="inline-link-macro-rx"></block>。</block>
  <block id="3721bfebe60fa9888e0ea17bd294772d" category="paragraph">有了NetApp和VMware雲端解決方案、許多使用案例都很容易部署在AWS VMC中。每個VMware定義的雲端領域都定義了使用案例：</block>
  <block id="7c9a6204c3d04cd593127efe773bc82e" category="inline-link-macro">瀏覽NetApp的AWS VMC解決方案</block>
  <block id="e9923439d335946afaff146da3d107ff" category="paragraph"><block ref="e9923439d335946afaff146da3d107ff" category="inline-link-macro-rx"></block></block>
  <block id="7c0dae765c7854235808e7e373346d06" category="paragraph">深入瞭解NetApp為GCP帶來的解決方案。</block>
  <block id="370e7d693bc429e40244684cac20b0cf" category="list-text"><block ref="370e7d693bc429e40244684cac20b0cf" category="inline-link-macro-rx"></block></block>
  <block id="80d79003a84a32474624e54935709e67" category="paragraph">檢視詳細資訊 <block ref="996ade122099ed78c4d5fea15d95f62c" category="inline-link-macro-rx"></block>。</block>
  <block id="80b43a415019d937ea5c38446043549a" category="paragraph">檢視詳細資訊 <block ref="8e20eef09273fc2519292ca4ed666573" category="inline-link-macro-rx"></block>。</block>
  <block id="e67def868f3133574b28ffe738ad44c1" category="inline-link-macro">瀏覽適用於Google Cloud GCVE的NetApp解決方案</block>
  <block id="5e7670e99ae7db80618f16965d677af6" category="paragraph"><block ref="5e7670e99ae7db80618f16965d677af6" category="inline-link-macro-rx"></block></block>
  <block id="f0f52a47448cc3bc6237a09f83ad3e74" category="example-title">部署及設定GCVE</block>
  <block id="7973cdedf3e9a37ff146bc9fd29ff017" category="paragraph">GCP支援客戶連線的NetApp儲存設備Cloud Volumes ONTAP 搭配使用NetApp功能（CVO）或Cloud Volumes Service 使用支援功能（CVS）。</block>
  <block id="622f93ad4ff43627a425523c5e2538ad" category="section-title">CVS（CVS）Cloud Volumes Service</block>
  <block id="b5a9beef520c0dd1f8e978800f35268e" category="paragraph">Cloud Volumes Services（CVS）是一套完整的資料服務產品組合、可提供進階雲端解決方案。Cloud Volumes Services支援主要雲端供應商的多種檔案存取傳輸協定（NFS和SMB支援）。</block>
  <block id="82c8cb0896f20daa9ddbb9d49332f9b6" category="paragraph">其他優點與功能包括：使用Snapshot保護資料與還原；在內部部署或雲端上複寫、同步及移轉資料目的地的特殊功能；以及在專屬Flash儲存系統層級上提供一致的高效能。</block>
  <block id="443f43c84a8efb54c46feb5a61b1a9cc" category="paragraph">在本文件中、我們將使用VMware使用案例來詳細說明雲端工作負載參考資料。這些使用案例包括：</block>
  <block id="0198315ccfb9d5c56e9c865f01bee365" category="paragraph">有了NetApp和VMware雲端解決方案、許多使用案例都能輕鬆部署到您選擇的超大規模環境中。VMware將主要雲端工作負載使用案例定義為：</block>
  <block id="e0525641cbca59e199eed50739c0c3b8" category="inline-link-macro">瀏覽NetApp的AWS / VMC解決方案</block>
  <block id="3a602723648efc3d9a864906b6ec2d9c" category="paragraph"><block ref="3a602723648efc3d9a864906b6ec2d9c" category="inline-link-macro-rx"></block></block>
  <block id="d18a9fea9b4ca38bf7f042e32420e14e" category="inline-link-macro">瀏覽適用於Azure / AVS的NetApp解決方案</block>
  <block id="bd6708bcf0c060976324512475c1a212" category="paragraph"><block ref="bd6708bcf0c060976324512475c1a212" category="inline-link-macro-rx"></block></block>
  <block id="cac969404c87e9e141b320e34ee1ba4b" category="inline-link-macro">瀏覽適用於Google Cloud Platform（GCP）/ GCVE的NetApp解決方案</block>
  <block id="7f86100566a3de37a45dc2bd4ea422a0" category="paragraph"><block ref="7f86100566a3de37a45dc2bd4ea422a0" category="inline-link-macro-rx"></block></block>
  <block id="95adefbc130d345041c4487820a9ab16" category="summary">NetApp企業資料庫解決方案是一套策略與技術功能、可在主要企業資料庫中展現NetApp儲存設備的功能。</block>
  <block id="e890f04973d00c3664a44f4cc586bb5d" category="doc">NetApp企業資料庫解決方案</block>
  <block id="809247403bb2b3e7178b69b038356678" category="inline-link-macro">vSphere資料存放區與傳輸協定功能：NFS</block>
  <block id="ff7854cc2ae62511b4a52320f31aa005" category="paragraph"><block ref="ff7854cc2ae62511b4a52320f31aa005" category="inline-link-macro-rx"></block></block>
  <block id="6309162dffb4a082a2a106613c448e9f" category="doc">混合雲、虛擬化與容器影片與示範</block>
  <block id="ccf0b7773e492df3e851d36b689b69b1" category="paragraph">請觀看下列影片和示範、重點介紹混合雲、虛擬化和容器解決方案的特定功能。</block>
  <block id="ab5efb952cd51767fdde3f548f7d3f18" category="paragraph">如需有關SnapCenter 適用於VMware vSphere的NetApp解決方案外掛程式的詳細資訊、請參閱 <block ref="39b49e6fd504a137658d6db31d129abd" category="inline-link-macro-rx"></block>。</block>
  <block id="0b59976821e81163a037c4ed7f21b209" category="paragraph"><block ref="0b59976821e81163a037c4ed7f21b209" category="inline-link-macro-rx"></block></block>
  <block id="4bff68299377013f00a500a01c7a2f19" category="list-text"><block ref="4bff68299377013f00a500a01c7a2f19" category="inline-link-macro-rx"></block></block>
  <block id="e5f4fe92e1832b16532011df56ee39a5" category="list-text"><block ref="c30f78a476776106411b5cd1ee097f4f" category="inline-link-macro-rx"></block></block>
  <block id="380fbb2dc2a4b42876553664c398fb3f" category="paragraph">在提供解決方案以因應現今的商業挑戰時、NetApp提供的解決方案具有下列目標：</block>
  <block id="008347e050bccf7e2812ae39dd816f41" category="list-text">提供經過驗證的部署與組態步驟、</block>
  <block id="4ef594072d2fdf53ad9ca6af7fe16569" category="list-text">提供易於使用的解決方案、</block>
  <block id="3f68e576fe6e3e328b5feeea03707572" category="list-text">提供可預測結果的解決方案部署、可在客戶的企業中輕鬆重複且可擴充。</block>
  <block id="928a4532882b0eb0208abcae9b7fd6f0" category="paragraph">為了達成這些目標、透過我們的解決方案來簡化基礎架構和/或應用程式的部署和組態、是非常重要的。NetApp致力於透過自動化來簡化解決方案使用。</block>
  <block id="d6d7e89b087a9e69ae7622847dc932e5" category="paragraph">NetApp解決方案運用開放原始碼自動化工具、例如Red Hat Ansible、HashiCorp Terraform或Microsoft PowerShell、能夠自動化應用程式部署、雲端資源配置、組態管理及許多其他常見IT工作。NetApp的解決方案利用公開提供的自動化成品、以及NetApp著作的自動化功能、來簡化解決方案的整體部署。</block>
  <block id="e532e5979d2ecc30b8177530683810e2" category="paragraph">若有自動化功能、解決方案文件將引導使用者透過特定的自動化工具、完成解決方案或解決方案步驟的自動化程序。</block>
  <block id="aaac1ea7463ef799eaafc693b16b1f81" category="doc">NetApp解決方案自動化入門</block>
  <block id="66bd3dbe1f46a5715420e201e457ff65" category="paragraph">NetApp解決方案自動化可為NetApp解決方案所使用的許多常見工作提供簡易性與重複性。</block>
  <block id="bf7d92f5ef43a7e0ab10c8d11d28ef6e" category="paragraph">在執行任何解決方案自動化之前、必須針對自動化的執行方式設定環境。您可以選擇從命令列或透過AWX或直立式等工具來執行自動化作業。</block>
  <block id="dcdcb9b7436ca5ceca042e84e9c3ccf5" category="paragraph">下列各節將概述設定每個指定環境的環境所需步驟。</block>
  <block id="60e34857d044a02ae86f645c2e97e40f" category="paragraph">stdin&gt;中的未解析指令-包括：contains/RH-os-n_overview _Astra _cc_install手冊.adc[]</block>
  <block id="2b0a99e34b337bd6d8ed27dd9482c9e6" category="paragraph">stdin&gt;中的未解析指令-包括：contains/RH-OS-n_overview、Astra _cc_install、Ansible、adc[]</block>
  <block id="245ab73d4b9beb43ff76c082e9bc77db" category="open-title">AI /資料分析</block>
  <block id="901b32f6abd15fbb3d43fbd044218a64" category="open-title">企業應用程式與資料庫</block>
  <block id="71fbb346a6b64c94052f0e171d5d3eed" category="open-title">資料保護與資料移轉</block>
  <block id="10b2aec15aae4d935355e27497e66c5f" category="summary">一系列影片和示範、討論NetApp許多解決方案的功能</block>
  <block id="6354d74cd74c1d9f49224ac4e6209bab" category="doc">NetApp解決方案：影片與示範</block>
  <block id="60b5065968cf0f66d862a344124f6415" category="paragraph">影片與示範總覽、重點介紹許多NetApp解決方案的特定功能。</block>
  <block id="ab440644113265a70e7e0bb7c44b2f63" category="paragraph">*案例研究*</block>
  <block id="25aa061b5bc79f1f85182fd8ca1f3165" category="inline-link-macro">VMware影片集</block>
  <block id="847fff0b97afdc8ceabb5c717634d413" category="list-text"><block ref="847fff0b97afdc8ceabb5c717634d413" category="inline-link-macro-rx"></block></block>
  <block id="55418abe87135e6107123ca2c087964c" category="sidebar">適用於超大規模雲端環境中VMware的NetApp解決方案</block>
  <block id="195b49c0610d30d327f5440759b7b642" category="sidebar">支援的解決方案</block>
  <block id="3ffbc70cc0bdd47bd7c4ed3cfa35be8a" category="sidebar">FSX ONTAP 不支援來賓連線儲存設備</block>
  <block id="06e1970c26d133efed67d51224ceff1c" category="sidebar">安全性總覽- Cloud Volumes Service Google Cloud中的NetApp解決方案（CVS）</block>
  <block id="c252fd6dfe5fa6dc4ba36515512a8070" category="sidebar">工作負載保護解決方案</block>
  <block id="2579e0b6258e495e90e159e678bd55a8" category="sidebar">AWS上的VMware Cloud：新區域、外部儲存設備與採購選項</block>
  <block id="f74a2791289e2f0411e5ffbd3e5a1d68" category="sidebar">Google Cloud VMware Engine搭配NetApp Cloud Volumes Service 功能</block>
  <block id="30162ed78b6c10f731411f2fc440c24f" category="sidebar">Oracle</block>
  <block id="51b19c4a2c13c8f8a69b0608959bdfca" category="sidebar">Oracle 19c RAC資料庫、FlexPod 位於</block>
  <block id="a71f76c3256e4c206a4841d8eb0fed35" category="sidebar">SQL Server</block>
  <block id="81d59bad51a910734812cab3d20641b0" category="sidebar">混合雲資料庫解決方案</block>
  <block id="934553b3e6b7dd417ef37d2b3213dd00" category="sidebar">SAP SAP HANA</block>
  <block id="1f036821b23def9a55e4116bdbd60c1b" category="sidebar">變更記錄</block>
  <block id="bb5dc731b06d417365e41cb2d0230213" category="sidebar">影片示範</block>
  <block id="f9cffb4fda587c713c06e50699299f0f" category="sidebar">解決方案登陸頁面</block>
  <block id="bf8e2974cd692b57a29e42874b662b52" category="sidebar">企業資料庫</block>
  <block id="84145683557fc8692113a2a97c3ec239" category="sidebar">NetApp混合式多雲端與VMware</block>
  <block id="d4a3e435684aa9918c9dd0bada78d4fb" category="sidebar">設定VMC for AWS</block>
  <block id="883512106f2cef4187ee5f6b5a94c6f8" category="sidebar">設定Azure的AVS</block>
  <block id="a271625e92b27bca4202ba79dab27301" category="sidebar">設定GCP的GCVE</block>
  <block id="76862b378878c90a8052499ae898932f" category="sidebar">VMC的來賓連線儲存設備</block>
  <block id="5703f41cd5551fad387ed46631532278" category="sidebar">AVS的來賓連線儲存設備</block>
  <block id="1f9511a418cf9a352bacd19d937a5237" category="sidebar">GCVE.訪客連線儲存設備</block>
  <block id="a0e8297bc18713002f47301829625ea1" category="sidebar">適用於AWS / VMC的NetApp</block>
  <block id="d530fb3a1e80511b2d7787728700d3fa" category="sidebar">適用於Azure / AVS的NetApp</block>
  <block id="8d9d90a84ad6b34129f140e0b3e23326" category="sidebar">適用於GCP / GCVE</block>
  <block id="a3e92580de1a77cd25163bb63cd24a7d" category="inline-image-macro">LINK=<block ref="9b22e52230cfacf7992c01194e7a95d2" category="inline-link-rx"></block></block>
  <block id="f9da9dedda46425dea9fe2b0092e4b1a" category="paragraph"><block ref="f9da9dedda46425dea9fe2b0092e4b1a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="46ded0be5f6c48090d38435b6dafa3e2" category="summary">本節概述本解決方案已驗證的三種情境。</block>
  <block id="71446ef316489c70b5279867eb81a86b" category="doc">測試與驗證計畫</block>
  <block id="8e593eca45d74047c3d169456d36d74a" category="paragraph"><block ref="8e593eca45d74047c3d169456d36d74a" category="inline-link-macro-rx"></block></block>
  <block id="68cdc250e271cc43502e5f009d0ebec7" category="paragraph">針對此解決方案設計、已驗證下列三種情境：</block>
  <block id="83c38d8dc6bc37fe6bb9691e75d0f881" category="list-text">JupyterLab工作區中的一項推斷工作、無論是否使用Protopia混淆、都是使用適用於Kubernetes的NetApp DataOps Toolkit進行協調。</block>
  <block id="da4ec54ac3b4b67b77d52ccf0ebaefc0" category="list-text">Kubernetes上的批次推斷工作（無論是否有Protopia混淆）、是使用NetApp DataOps Toolkit for Kubernetes所協調的資料Volume。</block>
  <block id="5526e24c695504cfa8b2187b0a3da212" category="list-text">使用NVIDIA Triton Inference Server執行個體的推斷工作、使用適用於Kubernetes的NetApp DataOps Toolkit進行協調。在啟動Triton推斷API之前、我們先將Protopia混淆套用至映像、以模擬透過網路傳輸的任何資料都必須模糊不清的常見需求。此工作流程適用於在信任區域內收集資料、但必須在信任區域外傳遞資料以供推斷的使用案例。如果不使用Protopia混淆、就無法在未將敏感資料離開信任區域的情況下實作此類工作流程。</block>
  <block id="9a1eb36c3c2949c4b9618b70f9947341" category="paragraph"><block ref="9a1eb36c3c2949c4b9618b70f9947341" category="inline-link-macro-rx"></block></block>
  <block id="91bc87f1c8c087219cec868bb9eec3e7" category="summary">為了進行此驗證、我們使用一組原始影像來推斷影像偵測使用案例。然後、我們在相同的影像集上執行相同的推斷工作、並在推斷之前新增Protopia模糊功能。我們使用不同的Alpha值來重複執行Protopia混淆元件的工作。</block>
  <block id="f63c4677c27e0489f346c0711720cc39" category="doc">推斷準確度比較</block>
  <block id="c06030c36071611ee2f3a9a21205eaf8" category="paragraph"><block ref="c06030c36071611ee2f3a9a21205eaf8" category="inline-link-macro-rx"></block></block>
  <block id="0c71eb4e1fba60fba81db988197da57d" category="paragraph">為了進行此驗證、我們使用一組原始影像來推斷影像偵測使用案例。然後、我們在相同的影像集上執行相同的推斷工作、並在推斷之前新增Protopia模糊功能。我們使用不同的Alpha值來重複執行Protopia混淆元件的工作。在Protopia混淆的情況下、Alpha值代表套用的模糊處理量、而較高的Alpha值代表較高層級的模糊處理。然後我們比較這些不同路跑的推斷準確度。</block>
  <block id="93d52a2c23957d4188c7b2ce8b2ae884" category="paragraph">下表提供使用案例的詳細資料、並概述結果。</block>
  <block id="65a3419ae19e457df9db4c0e110b2538" category="paragraph">Protopia直接與客戶合作、針對特定使用案例來判斷適當的Alpha值。</block>
  <block id="e558777bd1568637c97294a33389e930" category="cell">FaceBoxes（PyTorch）-</block>
  <block id="20172a059ee71423ad0d94393e819e10" category="cell">FDDB資料集</block>
  <block id="06a8fb4576a28a6488c929097c870fe1" category="cell">普洛皮亞混淆</block>
  <block id="002101f8725e5c78d9f30d87f3fa4c87" category="cell">Alpha</block>
  <block id="d78f1fb7e69f7cddcf3e168f2663db20" category="cell">準確度</block>
  <block id="646738dcd35eaf5c3f3c9bfdc6a90b78" category="cell">0.9337148153739079</block>
  <block id="b14399cbaac6da4b5b733b483106383f" category="cell">0.05</block>
  <block id="bcf8c22771ff8c7065180f5a6526d4a6" category="cell">0.9028766627325002</block>
  <block id="cb5ae17636e975f9bf71ddf5bc542075" category="cell">0.1</block>
  <block id="1336b1cb08d93aa0a453c53e27efa594" category="cell">0.9024301009661478</block>
  <block id="b1cb1b288bfae3850c74795f5691dc4e" category="cell">0.9081836283186280</block>
  <block id="b9e8c964d5c5d3e7c815896cd6235239" category="cell">0.90766107482036</block>
  <block id="57489d9101ec373d9e2841292a5b3af9" category="cell">0.8847816568680239</block>
  <block id="57eeec0a6974ecb4e9fcf68fab052f7b" category="cell">0.8</block>
  <block id="8ab8d7756b82eb70d635bc66c1bc532b" category="cell">0.8841195749171925</block>
  <block id="a894124cc6d5c5c71afe060d5dde0762" category="cell">0.9.</block>
  <block id="226cc0951c1f30973a4c71f0f567936a" category="cell">0.84554276775252052</block>
  <block id="248a7444f08189bb31ba143eabebe4e5" category="cell">0.95</block>
  <block id="0f39c006b0d74178bc826c1d567a79dc" category="inline-link-macro">下一步：模糊化速度。</block>
  <block id="ca9c4b25b025c5564f5ffb65a712a47c" category="paragraph"><block ref="ca9c4b25b025c5564f5ffb65a712a47c" category="inline-link-macro-rx"></block></block>
  <block id="a41206687a4ac62c15fc883554a75883" category="summary">本節概述解決方案設計驗證環境。</block>
  <block id="172ddae93475d6ccf42e145bb593da46" category="inline-link-macro">上一篇：測試與驗證計畫。</block>
  <block id="9ea432ca0ec547aa219093f8f5f560cc" category="paragraph"><block ref="9ea432ca0ec547aa219093f8f5f560cc" category="inline-link-macro-rx"></block></block>
  <block id="0d013965bb31fe1cc0ba44ef3b846d09" category="paragraph">下表概述解決方案設計驗證環境。</block>
  <block id="32f014d18e1f60596057834de2864322" category="cell">1.21.6</block>
  <block id="b0f69588db488e358ab3c85429ab6b3a" category="cell">NetApp Astra Trident SCSI驅動程式</block>
  <block id="297924c1d3fec9d97f9a1f3b49ee0709" category="cell">適用於Kubernetes的NetApp DataOps工具套件</block>
  <block id="70e2b24f7d348efe6b30b41469d5070c" category="cell">2.3.0</block>
  <block id="2c5e74d45708e2fae638e03f88353b75" category="cell">NVIDIA Triton Inference伺服器</block>
  <block id="099d96b4d8f70fb73f1d4661f98c337a" category="cell">21.11-py3.</block>
  <block id="53e01217bc7db361f46a1f8e0e601655" category="paragraph"><block ref="53e01217bc7db361f46a1f8e0e601655" category="inline-link-macro-rx"></block></block>
  <block id="fcd8d375e90bbb5d8febe3b3eac09c2b" category="doc">何處可以找到其他資訊、認知和版本歷程記錄</block>
  <block id="86a4acc956f71e307a08f732dd442d3f" category="paragraph"><block ref="86a4acc956f71e307a08f732dd442d3f" category="inline-link-macro-rx"></block></block>
  <block id="f85150beb9ce598095b212b1de60815f" category="list-text">NetApp ONTAP 數據管理軟體ONTAP —資訊庫</block>
  <block id="eb87ce8a565e070f3b8c09faa4e840c1" category="inline-link"><block ref="eb87ce8a565e070f3b8c09faa4e840c1" category="inline-link-rx"></block></block>
  <block id="20a0f3ab42054c3aa4add8c8901b4aa9" category="paragraph"><block ref="20a0f3ab42054c3aa4add8c8901b4aa9" category="inline-link-rx"></block></block>
  <block id="2cd8f6bd0ec1bbc37315b8bc134e16c5" category="list-text">NetApp容器持續儲存設備：NetApp Astra Trident</block>
  <block id="89f170193efdf8434f549c8e91adf860" category="list-text">Protopia AI—機密推論</block>
  <block id="62faa8d62bfb6098877b809cce925de5" category="inline-link"><block ref="62faa8d62bfb6098877b809cce925de5" category="inline-link-rx"></block></block>
  <block id="45b79877f4c11139882c88df94d50fa6" category="paragraph"><block ref="45b79877f4c11139882c88df94d50fa6" category="inline-link-rx"></block></block>
  <block id="2c54e28a12ce15452929a28550a30a96" category="inline-link"><block ref="2c54e28a12ce15452929a28550a30a96" category="inline-link-rx"></block></block>
  <block id="bc5345c4517d46bdf8a87f10d404839f" category="paragraph"><block ref="bc5345c4517d46bdf8a87f10d404839f" category="inline-link-rx"></block></block>
  <block id="fba4b133e329411c361e02e05efed0b9" category="list-text">NVIDIA Triton Inference Server文件</block>
  <block id="cce40efbd4a717916ccbab694b676e9c" category="inline-link"><block ref="cce40efbd4a717916ccbab694b676e9c" category="inline-link-rx"></block></block>
  <block id="170ba65f4e4807f3643de39afb3f2e16" category="paragraph"><block ref="170ba65f4e4807f3643de39afb3f2e16" category="inline-link-rx"></block></block>
  <block id="ba1d5cc71378020998752955821460b2" category="list-text">PyTorch中的FaceBoxes</block>
  <block id="ace8d80d2ede0fadf07325408b376b83" category="inline-link"><block ref="ace8d80d2ede0fadf07325408b376b83" category="inline-link-rx"></block></block>
  <block id="a688d324b63c4f882d06673058aa2f61" category="paragraph"><block ref="a688d324b63c4f882d06673058aa2f61" category="inline-link-rx"></block></block>
  <block id="121ef407a6a3c08ce9fa247e382d7637" category="list-text">NetApp首席產品經理Mark Cates</block>
  <block id="fb345adb43ea24ffc891d20327bdca09" category="list-text">NetApp技術行銷工程師Sufian Ahmad</block>
  <block id="711ba3fec382e550526a6ab0f49bdf3a" category="list-text">Protopia AI技術長暨教授HADI Esmaeilzadeh</block>
  <block id="0844bd2427e754de1d07ca91d15284a5" category="cell">文件版本歷程記錄</block>
  <block id="cd24a85c5cf2d1a7af0bade6066be0aa" category="summary">資料存在於三種狀態：閒置、傳輸和運算。任何AI推斷服務的重要一環、都應該是在整個流程中保護資料免受威脅。在推斷過程中保護資料是非常重要的、因為此程序可能會揭露外部客戶和提供推斷服務的企業的私人資訊。</block>
  <block id="fd8d4cefd4e31d8ce81b0b6c4cf90ae2" category="inline-link-macro">上一篇：模糊化速度。</block>
  <block id="12deb7181b69808aaa08117bd40978a3" category="paragraph"><block ref="12deb7181b69808aaa08117bd40978a3" category="inline-link-macro-rx"></block></block>
  <block id="4282c9ab06938351529fcc9258e39d5a" category="paragraph">資料存在三種狀態：閒置、傳輸和運算。任何AI推斷服務的重要一環、都應該是在整個流程中保護資料免受威脅。在推斷過程中保護資料是非常重要的、因為此程序可能會揭露外部客戶和提供推斷服務的企業的私人資訊。Protopia AI是專為機密AI提供的不突兀軟體專屬解決方案、可在當今市場中提供相關資訊。有了Protopia、AI只會在資料記錄中輸入經過轉換的資訊、而這些資訊對於執行手邊的AI/ML工作而言非常重要、而且不再需要其他資訊。這種隨機轉型並不是一種遮罩形式、而是以數學方式使用「精選雜訊」來變更資料的呈現方式為基礎。</block>
  <block id="945691f1b395ce7af4d5e818b4e62b9b" category="paragraph">NetApp儲存系統ONTAP 具備各種功能、可提供與本機SSD儲存設備相同或更高的效能、並搭配NetApp DataOps Toolkit、為資料科學家、資料工程師、AI/ML開發人員、企業或企業IT決策者提供下列效益：</block>
  <block id="2d1d64cb5768a8ce2a6d6bda322d2ecd" category="list-text">企業級的資料保護與資料治理功能、可滿足災難恢復、營運不中斷及法規要求。</block>
  <block id="58b8e67477c25a96d3b430f4ee8d75cf" category="list-text">簡化資料管理作業的叫用作業；快速取得資料科學家工作區的Snapshot複本、以便從Jupyter筆記型電腦的NetApp DataOps Toolkit進行備份與追蹤。</block>
  <block id="57e858ddb0a3e1c340cfe4ba7d5c3a14" category="paragraph">NetApp與Protopia解決方案提供靈活的橫向擴充架構、是企業級AI推斷部署的理想選擇。它能保護資料、並為敏感資訊提供隱私保護、在內部部署和混合雲部署中、均能以負責的AI實務做法來滿足機密AI推斷要求。</block>
  <block id="6073423c521e84b849e3b84fa1cc380c" category="inline-link-macro">下一步：何處可以找到其他資訊、認知和版本歷程記錄。</block>
  <block id="9eebc409a853e8c97008be61e4a0b83a" category="paragraph"><block ref="9eebc409a853e8c97008be61e4a0b83a" category="inline-link-macro-rx"></block></block>
  <block id="6bee97571af49e4c38ff85a4abbbe0e9" category="summary">本節說明完成驗證所需的工作。</block>
  <block id="c17e6835560e56c00184a993e1b0bfdb" category="paragraph"><block ref="c17e6835560e56c00184a993e1b0bfdb" category="inline-link-macro-rx"></block></block>
  <block id="df06a8aa3d194f798e70c253c55d915c" category="paragraph">若要執行本節所述的工作、您必須安裝並設定下列工具、才能存取Linux或MacOS主機：</block>
  <block id="c0ffe26d3756a5c964ff9bc591e1fc16" category="list-text">Kubectl（設定為存取現有的Kubernetes叢集）</block>
  <block id="e436fe7c4ecfcca0f0327b41471955df" category="list-text">您可以找到安裝與組態指示<block ref="f6d4f9e359e394de0cb3015a4518672c" category="inline-link-rx"></block>。</block>
  <block id="e3e34254666d96b8967227676b54e135" category="list-text">您可以找到安裝指示<block ref="9535953c30e005e9672e48b24a3ac733" category="inline-link-rx"></block>。</block>
  <block id="1a66086f406852b100e9d8f85d007b87" category="section-title">案例1–JupyterLab的隨需推斷</block>
  <block id="28876e2d40a33fcbc3630d7408b14046" category="list-text">為AI / ML推斷工作負載建立Kubernetes命名空間。</block>
  <block id="1464ad61957a8ed3db5f67edbc20cc41" category="list-text">使用NetApp DataOps Toolkit來配置持續磁碟區、以儲存您要在其中執行推斷的資料。</block>
  <block id="da33a6119aa0b49526bd284e9a865ed5" category="list-text">使用NetApp DataOps Toolkit建立新的JupyterLab工作區。使用「-mount-PVC'」選項來掛載上一步建立的持續磁碟區。使用「-nvidia-GPU」選項、視需要將NVIDIA GPU分配給工作區。</block>
  <block id="810e88d69a6b7f454f24db3a25ba375a" category="paragraph">在以下範例中、持續性磁碟區「推斷資料」會掛載到JupyterLab工作區容器、位於「/home/jovyan/data」。使用正式的Project Jupyter Container映像時、「/home/jovyan」會顯示為JupyterLab網路介面中的頂層目錄。</block>
  <block id="ecca64929aad192e0cdba66d89af6fc2" category="list-text">使用「create jupyterlab」命令輸出中指定的URL存取JupyterLab工作區。資料目錄代表掛載到工作區的持續磁碟區。</block>
  <block id="1f069f45990199d6afbe5926fb26f127" category="paragraph"><block ref="1f069f45990199d6afbe5926fb26f127" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b5989087fa6f30a7b2ad79b3b28f4f68" category="list-text">開啟「DATA」目錄、然後上傳要執行提示的檔案。檔案上傳至資料目錄時、會自動儲存在掛載至工作區的持續磁碟區上。若要上傳檔案、請按一下「上傳檔案」圖示、如下圖所示。</block>
  <block id="f6d07c27f458648455903cf09530655f" category="paragraph"><block ref="f6d07c27f458648455903cf09530655f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c6da42e23b9d4e193c2fb146b8189581" category="list-text">返回最上層目錄並建立新的筆記本。</block>
  <block id="59e51e40d73317a796f7d0b25d8fa003" category="paragraph"><block ref="59e51e40d73317a796f7d0b25d8fa003" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8d6d5c0ae1c38484d2d4fd513ff80f90" category="list-text">在筆記本中加入推斷程式碼。下列範例顯示影像偵測使用案例的推斷代碼。</block>
  <block id="901ae9d6148669912b400c6d2647bfbf" category="paragraph"><block ref="901ae9d6148669912b400c6d2647bfbf" category="inline-image-macro-rx" type="image"></block></block>
  <block id="45f10850488ed018cdad31f8ac9e8bab" category="paragraph"><block ref="45f10850488ed018cdad31f8ac9e8bab" category="inline-image-macro-rx" type="image"></block></block>
  <block id="296d40736553e2033f5cf8817174bc7c" category="list-text">將Protopia混淆新增至您的推斷程式碼。Protopia直接與客戶合作、提供特定使用案例的文件、並不在本技術報告的範圍之內。以下範例顯示新增Protopia混淆功能時、影像偵測使用案例的推斷程式碼。</block>
  <block id="5a10342224477df560528e700989b536" category="paragraph"><block ref="5a10342224477df560528e700989b536" category="inline-image-macro-rx" type="image"></block></block>
  <block id="20f77c05fa583bdc62074b26870e07e7" category="paragraph"><block ref="20f77c05fa583bdc62074b26870e07e7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9d5709eb5c3d3d4a700397ee447f9818" category="section-title">案例2：Kubernetes上的批次推斷</block>
  <block id="77b69d61f1889c8321dce66f3c3e2e1a" category="list-text">在新的持續磁碟區中填入您要執行推斷的資料。</block>
  <block id="8b6983cc7986c7b0553983d8ab669289" category="inline-link">NetApp DataOps Toolkit S3 Data Mover功能</block>
  <block id="2933df0ebac7b47c349bd6bd7099fb90" category="paragraph">有多種方法可將資料載入至PVc。如果您的資料目前儲存在S3相容的物件儲存平台、例如NetApp StorageGRID 功能區或Amazon S3、您就可以使用<block ref="5d1617256d53e0547b237f3cf3fda5b0" category="inline-link-rx"></block>。另一種簡單的方法是建立JupyterLab工作區、然後透過JupyterLab網頁介面上傳檔案、如「」一節中步驟3至5所述<block ref="db54c391b2f7c3a38c2e40a69aa744e3" category="inline-xref-macro-rx"></block>。」</block>
  <block id="a62147e18dbac7ad5eab17791c371ad4" category="list-text">為批次推斷工作建立Kubernetes工作。下列範例顯示影像偵測使用案例的批次推斷工作。此工作會在一組映像中的每個映像上執行推斷、並將推斷準確度指標寫入stdout。</block>
  <block id="a883fb9f7bda67c6fbcab6dfb8f091ce" category="list-text">確認推斷工作已成功完成。</block>
  <block id="590888c60942c47f5268c19f273109ee" category="list-text">在推斷工作中加入Protopia混淆。您可以在本技術報告範圍之外的Protopia中、找到直接新增Protopia混淆的使用案例特定指示。下列範例顯示使用0.8的Alpha值新增Protopia模糊處理時、面偵測使用案例的批次推斷工作。此工作會先套用Protopia混淆、再對一組影像中的每個影像進行推斷、然後將推斷準確度指標寫入stdout。</block>
  <block id="7a1adb5cebbf78f3eddc08a64751149e" category="inline-link-macro">「推斷準確度比較」。</block>
  <block id="da2c9dc305dff324654e67571156b295" category="paragraph">我們重複此步驟以取得Alpha值、包括0.05、0.1、0.2、0.4、0.6、 0.8、0.9及0.95。您可以在中看到結果 <block ref="af158494e4986d64d04037857fed2d1c" category="inline-link-macro-rx"></block></block>
  <block id="76d6540fbdbbcd913fb6272a50d0e3f2" category="section-title">案例3–NVIDIA Triton Inference Server</block>
  <block id="c470d7124546c64e8539c39ced806428" category="list-text">使用NetApp DataOps Toolkit來配置持續磁碟區、以作為NVIDIA Triton Inference Server的模型儲存庫。</block>
  <block id="1ddcb92ade31c8fbd370001f9b29a7d9" category="inline-link">格式</block>
  <block id="97be18cb741b4fd763ebe22e034705fa" category="list-text">將您的模型儲存在中的新持續磁碟區上<block ref="bfcdc35d352d3deff6efdd3b8b2ac7ac" category="inline-link-rx"></block> NVIDIA Triton Inference伺服器也能辨識這點。</block>
  <block id="6c21d87641bab7a6c49bc29065185e4f" category="paragraph">有多種方法可將資料載入至PVc。簡單的方法是建立JupyterLab工作區、然後透過JupyterLab網路介面上傳檔案、如「」中的步驟3至5所述<block ref="db54c391b2f7c3a38c2e40a69aa744e3" category="inline-xref-macro-rx"></block>。」</block>
  <block id="fc35606f82a544f9c79f09561d7a234d" category="list-text">使用NetApp DataOps Toolkit部署新的NVIDIA Triton Inference Server執行個體。</block>
  <block id="27a920b35a8f949700a98b22803c70fc" category="list-text">使用Triton用戶端SDK執行推斷工作。下列Python程式碼摘錄使用Triton Python用戶端SDK、針對面偵測使用案例執行推斷工作。此範例會呼叫Triton API、並傳入影像以供參考。然後Triton Inference伺服器會收到要求、啟動模型、並傳回推斷輸出、做為API結果的一部分。</block>
  <block id="7b5e296090a5d063fdbd3ebb69fc6547" category="list-text">將Protopia混淆新增至您的推斷程式碼。您可以找到直接從Protopia新增Protopia混淆的使用案例特定指示、不過此程序不在本技術報告的範圍之內。以下範例顯示與前述步驟5相同的Python程式碼、但新增了Protopia混淆功能。</block>
  <block id="c3069165ee6fb9d5dde8d8472d8b4602" category="paragraph">請注意、Protopia混淆會套用至映像、然後再傳遞至Triton API。因此、不模糊的影像永遠不會離開本機機器。只有模糊的映像會透過網路傳送。此工作流程適用於在信任區域內收集資料、但需要在信任區域外傳遞資料以進行推斷的使用案例。如果沒有Protopia混淆、就無法在不敏感資料離開信任區域的情況下實作這類工作流程。</block>
  <block id="38bb883cb543c747fc0f113099f5072d" category="inline-link-macro">下一步：推斷準確度比較。</block>
  <block id="1f2c820475fbde991c6219936a645aea" category="paragraph"><block ref="1f2c820475fbde991c6219936a645aea" category="inline-link-macro-rx"></block></block>
  <block id="c46aabfbeb0af662ede62f7325853fa2" category="summary">數位影像處理有許多優點、讓許多組織能夠充分利用視覺呈現的相關資料。此NetApp與Protopia解決方案提供獨特的AI推斷設計、可在ML/DL生命週期內保護及私有化AI/ML資料。它可讓客戶保留敏感資料的所有權、運用公有雲或混合雲部署模式來擴充規模和提高效率、減輕隱私權相關疑慮、並在邊緣部署AI推斷。</block>
  <block id="b7aff368ab91b524750e403085893177" category="paragraph"><block ref="b7aff368ab91b524750e403085893177" category="inline-link-macro-rx"></block></block>
  <block id="55ece983a5251583397e3db1cd3926ec" category="section-title">環境情報</block>
  <block id="d0f24bc92f5b7838f03e893b41066a90" category="paragraph">產業在環境危害領域中、有許多方法可以利用地理空間分析。政府和公共工程部門可針對公共衛生和天氣狀況、提出可行的見解、以便在流行病或天然災難（例如野火）期間、更好地向大眾提供建議。例如、您可以在機場或醫院等公共空間中識別COVID-正向病患、而不會影響受影響個人的隱私、並提醒鄰近的相關機關和大眾採取必要的安全措施。</block>
  <block id="4f9352e4f65872238d755155cd23edec" category="section-title">邊緣裝置穿戴式裝置</block>
  <block id="315a1bbca88dbcbdc95471a0061c333f" category="paragraph">在軍事領域和戰場上、您可以使用邊緣的AI推斷裝置作為穿戴式裝置、來追蹤戰士的健康狀況、監控駕駛行為、並向主管機關警示接近軍事車輛的安全風險及相關風險、同時保留及保護戰士的隱私。軍事的未來將透過戰場物聯網（IoBT）和軍事物聯網（IoMT）來發展高科技、以提供穿戴式戰鬥裝備、協助戰士利用快速邊緣運算來識別敵人、並在戰鬥中表現更好。保護和保留從無人機和穿戴式設備等邊緣設備收集的視覺資料、對於讓駭客和敵人留在海灣是至關重要的。</block>
  <block id="d6dded41a42f767150e641793fc0c929" category="section-title">非戰鬥人員清空作業</block>
  <block id="c5b381de9b2a4ee73bcc524aa380d725" category="paragraph">非戰鬥人員清空作業（NEO）由國防部執行、以協助疏散美國公民和國民、DOD文職人員、以及生命面臨適當安全避風港危險的指定人員（接待國（HN）和第三國國民（TCN）。已實施的管理控管措施主要是手動進行疏散者篩選程序。不過、使用高度自動化的AI/ML工具搭配AI / ML影片混淆技術、可能會改善疏散人員識別、疏散追蹤及威脅篩選的準確度、安全性及速度。</block>
  <block id="2d930616ec617ae047b7b7eaefb0822c" category="section-title">AI / ML分析的雲端移轉</block>
  <block id="073395e7b5fc53b602884ac0aaf757fb" category="inline-link">資料保護</block>
  <block id="c9f2e6462caf995f1d336ab4bb33a7c2" category="inline-link">TR-4886 AI在邊緣推斷</block>
  <block id="ae1b6ac445119145d739025d55fe616f" category="inline-link">情報與隱私</block>
  <block id="215649425fa669fb4825e25a6ace492e" category="paragraph">如需其他跨其他產業的邊緣運算和AI推斷使用案例、請參閱<block ref="922342ea98ca297422c6dc441f974a04" category="inline-link-rx"></block> 以及NetApp AI部落格、<block ref="bc130be57ffb0325128dc7274bbdbc64" category="inline-link-rx"></block>。</block>
  <block id="5318c453b0f0b1d5351026eca9f9899d" category="paragraph"><block ref="5318c453b0f0b1d5351026eca9f9899d" category="inline-link-macro-rx"></block></block>
  <block id="4c787c1632a0a940cb0b44706b1d24c6" category="summary">本節概述完成本解決方案所需的各種技術元件。</block>
  <block id="2c6beb1e15771dbe426409f9b5d4aaf9" category="inline-link-macro">先前：解決方案領域。</block>
  <block id="8a26bc3756fc01f4b929845a326e9b9d" category="paragraph"><block ref="8a26bc3756fc01f4b929845a326e9b9d" category="inline-link-macro-rx"></block></block>
  <block id="a6d48b22bcf266404bdb8c57102c14a4" category="section-title">Protopia</block>
  <block id="b2cbc1ff8afd6c872961a852572e1782" category="paragraph">Protopia AI提供不引人注目的純軟體解決方案、可在當今市場上進行機密推論。Protopia解決方案可將敏感資訊的曝險降至最低、為推論服務提供無與倫比的保護。AI只會提供資料記錄中的資訊、而這些資訊對於執行手邊的工作而言、是真正不可或缺的。大多數推斷工作並不會使用每個資料記錄中的所有資訊。無論您的AI是使用影像、語音、視訊、甚至是結構化的表格式資料、Protopia都能提供您所需的推斷服務。專利的核心技術使用數學上精心策劃的雜訊、以隨機方式轉換資料、並找出特定ML服務不需要的資訊。此解決方案並不會遮罩資料、而是使用精選的隨機雜訊來變更資料呈現方式。</block>
  <block id="46ce082967eab6fe2e33798614d50861" category="paragraph">Protopia解決方案會產生將呈現變更為漸層式的靜止最大化方法的問題、此方法仍會保留輸入功能空間中與模型功能相關的資訊。此探索程序會在訓練結束時、以微調通過的方式執行ML模型。通過後會自動產生一組機率分配、低成本的資料轉換會將這些分配的雜訊樣本套用至資料、在將其傳遞至模型進行推斷之前、先將其模糊化。</block>
  <block id="4fb9892dc0183c3142a3629cecc3104a" category="paragraph">NetApp ONTAP 採用DGX A100系統和NetApp雲端連線儲存系統的NetApp AI參考架構、是由NetApp和NVIDIA開發與驗證的。它為IT組織提供以下優點的架構：</block>
  <block id="988d7b305f79b990bbacdaed46f4b2bf" category="paragraph">AI將DGX A100系統與NetApp的Arde-A800儲存系統與最先進的網路技術緊密整合。ONTAP AFF藉由消除設計複雜度和猜測、AI簡化了AI部署。ONTAP客戶可以從小規模開始、不中斷營運地成長、同時以智慧方式管理從邊緣到核心到雲端及後端的資料。</block>
  <block id="57e22b018aa5130ece9890cd6b45e779" category="paragraph">下圖顯示ONTAP 採用DGX A100系統的整個解決方案系列有多種差異。多達八個DGX A100系統可驗證系統效能。AFF透過將儲存控制器配對新增至ONTAP VMware叢集、架構可擴充至多個機架、以線性效能支援許多DGX A100系統及PB儲存容量。此方法可根據所使用的DL機型大小和所需的效能指標、靈活地改變運算與儲存設備的比率。</block>
  <block id="316a5094893ef1b058844a75c53aaf04" category="paragraph"><block ref="316a5094893ef1b058844a75c53aaf04" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ecc164061fb57b585c892f0faa6f4dcf" category="inline-link">NVA-1153：採用ONTAP NVIDIA DGX A100系統和Mellanox Spectrum乙太網路交換器的NetApp W人工 智慧。</block>
  <block id="3046083f382853b50c004323f2cda8f9" category="paragraph">如需ONTAP 更多關於AI的資訊、請參閱<block ref="2c1616ab9baa55036487e7ef75b3821d" category="inline-link-rx"></block></block>
  <block id="862dcadd0f2887701abaa60bf59d5aa5" category="paragraph">NetApp最新一代的儲存管理軟體《支援產業》（NetApp）、可讓企業將基礎架構現代化、並移轉至雲端就緒的資料中心。ONTAP利用領先業界的資料管理功能ONTAP 、無論資料位於何處、只要使用一組工具、即可管理及保護資料。您也可以自由地將資料移至任何需要的位置：邊緣、核心或雲端。包含許多功能、可簡化資料管理、加速及保護關鍵資料、並在混合雲架構中提供新一代基礎架構功能。ONTAP</block>
  <block id="94c4b42bd5bfaa12f328387b161a1686" category="paragraph">NetApp DataOps Toolkit是Python程式庫、讓開發人員、資料科學家、DevOps工程師及資料工程師能夠輕鬆執行各種資料管理工作、例如近乎即時地配置新的資料Volume或JupyterLab工作區、近乎即時地複製資料Volume或JupyterLab工作區、 並近乎即時地擷取資料磁碟區或JupyterLab工作區的快照、以供追蹤或建立基準。此Python程式庫可做為命令列公用程式、或是可匯入任何Python程式或Jupyter筆記型電腦的函數庫。</block>
  <block id="dea84e2e635ce73ddc479a38d5616c98" category="paragraph">NVIDIA Triton Inference Server是開放原始碼的推斷服務軟體、可協助標準化模型部署與執行、在正式作業中提供快速且可擴充的AI。Triton Inference Server可讓團隊從任何GPU或CPU基礎架構上的任何架構、部署、執行及擴充訓練精良的AI模型、進而簡化AI推斷。Triton Inference Server支援所有主要架構、例如TensorFlow、NVIDIA TensorRT、PyTorch、MXNet、 OpenVINO等。Triton與Kubernetes整合、提供協調與擴充功能、可用於所有主要公有雲AI和Kubernetes平台。它也與許多MLOps軟體解決方案整合。</block>
  <block id="95b88f180e9eb5678e0f9ebac2cbe643" category="section-title">PyTorch</block>
  <block id="04f7f16178ab3e9bddfd0837b64d21a2" category="paragraph"><block ref="7b17fc2d2143dfdbd3bff6783f73e17c" category="inline-link-rx"></block> 是開放原始碼ML架構。這是最佳化的張量程式庫、可用於深度學習、使用GPU和CPU。PyTorch套件包含多維度游標的資料結構、可提供許多公用程式、以便在其他實用的公用程式之間有效序列化游標。它也有CUDA對應產品、可讓您在具有運算能力的NVIDIA GPU上執行張量運算。在這項驗證中、我們使用OpenCV-Python（CV2）程式庫來驗證我們的模型、同時充分運用Python最直覺式的電腦視覺概念。</block>
  <block id="47b2e74e56111387efd2ff8314d1154c" category="paragraph">資料管理對於企業IT營運和資料科學家而言至關重要、因此可將適當的資源用於AI應用程式和訓練AI/ML資料集。下列關於NetApp技術的其他資訊超出此驗證範圍、但可能會因您的部署而有所差異。</block>
  <block id="31c0318dee8b7049a328f752c457824f" category="paragraph">包含下列功能的資料管理軟體、可簡化及簡化作業、並降低您的總營運成本：ONTAP</block>
  <block id="258ce6748736436345d3a4ade7bfcd47" category="list-text">即時資料精簡與擴充重複資料刪除技術。資料壓縮可減少儲存區塊內的空間浪費、重複資料刪除技術可大幅提升有效容量。這適用於本機儲存的資料、以及分層至雲端的資料。</block>
  <block id="e0243dd3e4c9bff6b7a18cab1c1e37c8" category="list-text">最低、最大及可調適的服務品質（AQO）。精細的服務品質（QoS）控制有助於維持高共享環境中關鍵應用程式的效能等級。</block>
  <block id="c3528a5e48bbe189e76cf8d737aa5961" category="inline-link">TR-4598：FabricPool 最佳實務做法</block>
  <block id="adc171e1d8b6a0bed3a98762139c9875" category="list-text">NetApp FabricPool自動將冷資料分層至公有和私有雲端儲存選項、包括Amazon Web Services（AWS）、Azure和NetApp StorageGRID 等儲存解決方案。如需FabricPool 更多有關資訊、請參閱<block ref="234c921b7066bc1bdd676ae1a510e5c5" category="inline-link-rx"></block>。</block>
  <block id="d9cd75773d759d63134b34db3490eab3" category="paragraph">提供優異的效能與資料保護、並以下列方式擴充這些功能：ONTAP</block>
  <block id="cdea8196113c492688981e0a035baa29" category="list-text">效能與較低的延遲。以最低的延遲提供最高的處理量。ONTAP</block>
  <block id="fa126db4297464dd03b3ceef190df0d0" category="list-text">資料保護：支援所有平台的通用管理功能、可提供內建的資料保護功能。ONTAP</block>
  <block id="892dd840b39835d7da795bbd29f99987" category="list-text">NetApp Volume Encryption（NVE）。支援內建和外部金鑰管理、提供原生Volume層級的加密功能。ONTAP</block>
  <block id="1f17e94c6f48114ff29ad3267277420c" category="list-text">多租戶和多因素驗證。支援以最高安全等級共享基礎架構資源。ONTAP</block>
  <block id="836ed833c0dea3b588f04d16ca3f850d" category="paragraph">下列功能可協助滿足嚴苛且不斷變化的業務需求：ONTAP</block>
  <block id="b816bfff9511bcd88a9aa06fe0fd6389" category="list-text">無縫擴充與不中斷營運。支援在不中斷營運的情況下、將容量新增至現有控制器和橫向擴充叢集。ONTAP客戶可以升級至最新技術、例如NVMe和32GB FC、而不需進行昂貴的資料移轉或中斷運作。</block>
  <block id="74c384c0caae9c39b0e414cecc8c66ea" category="list-text">雲端連線：NetApp是最具雲端連線能力的儲存管理軟體、可在所有公有雲中選擇軟體定義儲存（AI）和雲端原生執行個體（NetApp）ONTAP ONTAP Select Cloud Volumes Service 。</block>
  <block id="2a7e7bc180cc3d059089e02f091bac27" category="list-text">與新興應用程式整合。利用支援現有企業應用程式的相同基礎架構、為新一代平台和應用程式提供企業級資料服務、例如自動駕駛車輛、智慧城市和產業4.0。ONTAP</block>
  <block id="377c9a91b43c5423691b5ce75db91350" category="section-title">NetApp Astra Control</block>
  <block id="35b46e301702b6fcb16192f9f4cf4533" category="inline-link">Astra控制服務</block>
  <block id="eb75cc706ac8cc6c0f4cb17f4fb073dd" category="paragraph">NetApp Astra產品系列提供儲存與應用程式感知資料管理服務、適用於Kubernetes應用程式的內部部署與公有雲、採用NetApp儲存與資料管理技術。它可讓您輕鬆備份Kubernetes應用程式、將資料移轉至不同的叢集、並即時建立運作中的應用程式複本。如果您需要管理在公有雲上執行的Kubernetes應用程式、請參閱的文件<block ref="6d442ad773e9d31651277931acd1583a" category="inline-link-rx"></block>。Astra Control Service是NetApp管理的服務、可在Google Kubernetes Engine（GKE）和Azure Kubernetes Service（KS）中、提供Kubernetes叢集的應用程式感知資料管理功能。</block>
  <block id="545b3003eeeed3a05db492712188eaa8" category="paragraph">Astra<block ref="b792e70a7bbe82fe69049fd18abe3c18" category="inline-link-rx"></block> NetApp是適用於Docker和Kubernetes的開放原始碼動態儲存協調工具、可簡化持續儲存的建立、管理和使用。Kubernetes原生應用程式Trident直接在Kubernetes叢集內執行。Trident可讓客戶將DL Container映像無縫部署到NetApp儲存設備、並為AI Container部署提供企業級體驗。Kubernetes使用者（ML開發人員、資料科學家等）可以建立、管理及自動化協調與複製、以充分利用NetApp技術所提供的進階資料管理功能。</block>
  <block id="434636f83b39076d7f319707cddbd844" category="paragraph"><block ref="f0ec1a9d50acb3759e364a1cdfa9961d" category="inline-link-rx"></block> 是一項NetApp服務、可快速且安全地同步資料。無論您需要在內部部署NFS或SMB檔案共享之間傳輸檔案、NetApp StorageGRID 效益、NetApp ONTAP S3、NetApp Cloud Volumes Service 效益、Azure NetApp Files 支援、Amazon Simple Storage Service（Amazon S3）、Amazon Elastic File System（Amazon EFS）、Azure Blob、Google Cloud Storage、 或者IBM Cloud Object Storage Cloud Sync 、讓您快速安全地將檔案移至所需的位置。資料傳輸完成後、即可在來源和目標上完全使用。根據預先定義的排程、不間斷地同步資料、只移動差異、因此能將資料複寫所花費的時間和金錢減至最低。Cloud Sync不只是軟體即服務（SaaS）工具、設定與使用極為簡單。Cloud Sync由資料代理人執行由功能不整所觸發的資料傳輸Cloud Sync 。您可以在Cloud Sync AWS、Azure、Google Cloud Platform或內部部署中部署不實資料代理程式。</block>
  <block id="66b5cd4a3c9ce410ceb216447176b92c" category="section-title">NetApp Cloud Data Sense</block>
  <block id="37b37a18c5e4fe4e0985503adba1ee06" category="paragraph">採用強大的AI演算法、 <block ref="41205542004b3a03df744ae454bd65c9" category="inline-link-rx"></block> 在整個資料產業中提供自動化控管與資料治理功能。您可以輕鬆找出成本節約效益、找出法規遵循與隱私權的考量、並找出最佳化商機。Cloud Data Sense儀表板可讓您深入瞭解如何識別重複資料、以消除備援、對應個人、非個人及敏感資料、並針對敏感資料和異常狀況開啟警示。</block>
  <block id="b391770315ecce50e9dae3b6506d3513" category="inline-link-macro">下一步：測試與驗證計畫。</block>
  <block id="d063081c0d1c6aff0b7c690b473d4045" category="paragraph"><block ref="d063081c0d1c6aff0b7c690b473d4045" category="inline-link-macro-rx"></block></block>
  <block id="fb0e25ed6b061ae8d5a55a94457e445e" category="summary">在這項驗證中、我們將Protopia混淆套用至1920 x 1080像素映像五倍、並測量每次執行模糊化步驟所需的時間量。</block>
  <block id="9c6852dd5556b48ff70dd2583a5d3aa0" category="doc">模糊化速度</block>
  <block id="237d31dab91fe077925e5102e132072f" category="inline-link-macro">上一篇：推斷準確度比較。</block>
  <block id="6e3fd8b18c15e04e41fb57acfcafc5aa" category="paragraph"><block ref="6e3fd8b18c15e04e41fb57acfcafc5aa" category="inline-link-macro-rx"></block></block>
  <block id="d6edf1cfcac22abc6c577706f85eb816" category="paragraph">在這項驗證中、我們將Protopia混淆套用至1920 x 1080像素映像五倍、並測量每次執行模糊化步驟所需的時間量。我們使用在單一NVIDIA V100 GPU上執行的PyTorch來套用混淆、並在執行期間清除GPU快取。在這五次路跑中、混淆步驟分別花費5.47毫秒、5.27毫秒、4.54毫秒、5.24毫秒和4.84毫秒來完成。平均速度為5.072ms。</block>
  <block id="eee25724989c730f34a19e19a1db23b2" category="paragraph"><block ref="eee25724989c730f34a19e19a1db23b2" category="inline-link-macro-rx"></block></block>
  <block id="6d01d0026564c98aa0d6274cd39c586a" category="summary">本文件說明已通過驗證的設計解決方案、可在三種不同的情境下、針對維護隱私權及部署負責的AI解決方案、提供或不提供影像模糊功能。</block>
  <block id="0bbb7f0a0d464779fc0832c366f3a4e7" category="paragraph">Sathish Thyagarajan、Michael Oglesby、NetApp秉恩、Jennifer Cwagenberg、Protopia</block>
  <block id="c110f3156d66710a207ebd7135164ec1" category="paragraph">視覺判讀已成為溝通不可或缺的一部分、因為影像擷取和影像處理的出現。數位影像處理中的人工智慧（AI）帶來嶄新商機、例如癌症醫學領域和其他疾病辨識、研究環境危害的地理空間視覺分析、模式辨識、打擊犯罪的影片處理等。然而、這次機會也帶來非凡的責任。</block>
  <block id="0159205b6d54375adfabd56a2258fcb9" category="paragraph">企業組織將越多決策交給AI、就越能接受與資料隱私和安全性、以及法律、道德和法規問題有關的風險。負責的AI能讓公司和政府組織建立信任與治理、這對於大型企業的AI規模而言至關重要。本文件說明NetApp在三種不同案例中驗證的AI推斷解決方案、其方法是將NetApp資料管理技術與Protopia資料混淆軟體搭配使用、以將敏感資料私有化、並降低風險和道德疑慮。</block>
  <block id="fade8b24490b0ba74a7ffa05d3f8631a" category="paragraph">消費者和企業實體每天都會透過各種數位裝置產生數百萬個影像。隨著資料與運算工作負載的大規模爆炸、企業紛紛改用雲端運算平台來實現擴充性與效率。同時、將影像資料中所含的敏感資訊傳輸至公有雲時、也會產生隱私顧慮。缺乏安全性與隱私權保證、成為部署映像處理AI系統的主要障礙。</block>
  <block id="e9ac7ec9dd27fe52477986ab1dccbcae" category="inline-link">銷毀權利</block>
  <block id="49dca35d3e0662046425327194fd8965" category="inline-link">隱私權法案</block>
  <block id="f615b294f87bd53494e01691ab95c654" category="paragraph">此外、還有<block ref="ac9ac606204db63758cb1efd6e89e43e" category="inline-link-rx"></block> 根據GDPR、個人有權要求組織清除所有個人資料。也有<block ref="fd57f794f9c27951b4a5b543db96bdb6" category="inline-link-rx"></block>，建立公平資訊實務守則。照片等數位影像可能構成GDPR規定的個人資料、而GDPR規定必須如何收集、處理及清除資料。若未遵守GDPR、可能會因違反法規而導致高額罰款、嚴重傷害組織。隱私權原則是實作負責AI的骨幹、可確保機器學習（ML）和深度學習（DL）模型預測的公平性、並降低違反隱私權或法規遵循的相關風險。</block>
  <block id="d365f4ef3ed2b414236f81df850880a3" category="paragraph">本文件說明已通過驗證的設計解決方案、可在三種不同的情境下、使用或不使用與維護隱私權及部署負責AI解決方案相關的影像模糊化：</block>
  <block id="bd12a6b0ed0be7808c1e30b1e360bee6" category="list-text">*情境1.* Jupyter筆記型電腦內的隨需推斷。</block>
  <block id="bf93b5af78256f2e49d2c0351133b08d" category="list-text">*案例2.*在Kubernetes上進行批次推斷。</block>
  <block id="d5a10e810e1d293a064388e4980bde15" category="list-text">*情境3.* NVIDIA Triton推斷伺服器。</block>
  <block id="870f1cf4b101c66b438e8dd024f24118" category="paragraph">針對此解決方案、我們使用專為研究不受限制的面偵測問題而設計的面向區域資料集（FDDB）、以及用於實作FaceBoxes的PyTorch機器學習架構。此資料集包含一組2845個不同解析度影像中5171個面的註釋。此外、本技術報告也提供一些解決方案領域、以及在適用本解決方案的情況下、從NetApp客戶和現場工程師收集到的相關使用案例。</block>
  <block id="e28a169eb64ee1d32c878a26595922f0" category="paragraph">本技術報告適用於下列對象：</block>
  <block id="167e9693dfa764051f26b64ec22356a9" category="list-text">想要設計及部署負責AI、並解決公共空間中的面向影像處理相關資料保護與隱私權問題的企業領導者與企業架構設計師。</block>
  <block id="304e871b0b1ea55fe3e4f07ead7a7d42" category="list-text">資料科學家、資料工程師、AI /機器學習（ML）研究人員、以及致力保護及維護隱私權的AI/ML系統開發人員。</block>
  <block id="dcf26996b3ab9f385a95f72c1d0a0dce" category="list-text">企業架構設計師、為符合GDPR、CCPA或國防部隱私權法案（DoD）和政府組織等法規標準的AI/ML模型和應用程式設計資料混淆解決方案。</block>
  <block id="bb6887ed7c7b07cbb7bd3ec71f951e6f" category="list-text">資料科學家和AI工程師正在尋求有效方法來部署深度學習（DL）和AI / ML / DL推斷模型、以保護敏感資訊。</block>
  <block id="69adf8f52a6229e7062bda4b2b9679fb" category="paragraph">此解決方案的設計、是為了處理大型資料集上的即時和批次推斷AI工作負載、其處理能力是利用GPU與傳統CPU的處理能力。這項驗證可證明對於ML的隱私保護推論、以及尋求負責AI部署的組織所需的最佳資料管理。此解決方案提供適用於單一或多節點Kubernetes平台的架構、可用於邊緣與雲端運算、透過ONTAP 內部部署核心的NetApp AI、NetApp DataOps Toolkit、以及使用Jupyter Lab和CLI介面的Protopia混淆軟體進行互連。下圖顯示採用DataOps Toolkit和Protopia技術之NetApp技術的資料架構邏輯架構總覽。</block>
  <block id="950724ad73ee22fd3b76ae9570281f64" category="paragraph"><block ref="950724ad73ee22fd3b76ae9570281f64" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7dfea85fd355e4966805c3504348aa8b" category="paragraph">Protopia混淆軟體可在NetApp DataOps Toolkit上順暢執行、並在離開儲存伺服器之前轉換資料。</block>
  <block id="3d68457cd44385c7acbd55eeda70e8f8" category="inline-link-macro">下一步：解決方案領域。</block>
  <block id="55da59d3fe9630935dbd4fc25d52b939" category="paragraph"><block ref="55da59d3fe9630935dbd4fc25d52b939" category="inline-link-macro-rx"></block></block>
  <block id="c94ba9961c97321b49a2f0af40a3c81b" category="sidebar">負責的AI和機密推斷資料-採用Protopia Image Transformation的NetApp AI</block>
  <block id="2ffe7358ce461fb4d630742ed966cf0b" category="example-title">適用於VMware vSphere的NetApp ONTAP 產品開發工具</block>
  <block id="e78afc9f7bd61b3284539108287c91ca" category="example-title">VMware Cloud on AWS搭配AWS FSX for NetApp ONTAP 功能</block>
  <block id="f83bc0ebbeff6798c7394f8638db2695" category="example-title">VMware適用的VMware工具-總覽ONTAP</block>
  <block id="f1d501df2ff1e67b18b06eedd1bad6e8" category="example-title">VMware iSCSI Datastore隨ONTAP 需配置</block>
  <block id="a5e8a94cc8a28008eb4e2e719f658780" category="example-title">VMware NFS資料存放區資源配置ONTAP 功能</block>
  <block id="d69c8ea377286ab60d47066fa2946919" category="example-title">Windows Guest連線儲存設備搭配ONTAP 使用iSCSI的FSX功能</block>
  <block id="113249c2329945af0bbbc9830088e9ea" category="example-title">Linux Guest連線儲存設備搭配ONTAP 使用NFS的FSX功能</block>
  <block id="05799bad32c5bd80547efe4144fb57af" category="example-title">VMware vSphere的解決方案外掛程式-解決方案先決條件SnapCenter</block>
  <block id="47d7646bd1c6577d907ac316431ae609" category="example-title">VMware vSphere的VMware外掛程式- SnapCenter 部署</block>
  <block id="11d13047d237d5bccdd941bafda45d9d" category="example-title">VMware vSphere的VMware外掛程式-備份工作流程SnapCenter</block>
  <block id="16bbc152851c33a02fcac2fbf943ffee" category="example-title">VMware vSphere的VMware外掛程式-還原工作流程SnapCenter</block>
  <block id="305f1daa74a8ec01eaf0ce2c9a8ce355" category="example-title">支援SQL還原工作流程SnapCenter</block>
  <block id="891220762a1a15ebfba11cf98afb3729" category="cell">06/07/2022</block>
  <block id="e19e98a669ae21f94ffd1659998fd072" category="cell">資料分析</block>
  <block id="c32698794f1279b1f46bacea38a72264" category="cell">新增Splunk Enterprise解決方案的NetApp EF600連結</block>
  <block id="32e9989956756ffe28b84c0dab24eb03" category="cell">06/02/2022</block>
  <block id="9ceed07936bb73f756027dc20e7869e5" category="open-title">美洲</block>
  <block id="a58c228b4723aee54800749a595ee3d1" category="cell">* AWS地區*</block>
  <block id="0ea8853bd99df0275ce197d81b4acdf3" category="cell">* VMC可用度*</block>
  <block id="da5de74c1914c54c36141e9bbc0bfb2c" category="cell">* FSX ONTAP 不間斷供應*</block>
  <block id="db1904255fd919e193388d9dfc4066ae" category="cell">* NFS資料存放區可用度*</block>
  <block id="34f9a39dcbb737fbdd35cfb9214308b5" category="cell">美國東部（北維吉尼亞州）</block>
  <block id="227b0fc1350a24236051cdda52db89ae" category="cell">美國東部（俄亥俄州）</block>
  <block id="578ab1f7b2f00d70184a6fd055855a32" category="cell">美國西部（北加州）</block>
  <block id="2826ad747baf050dc2cfb69d5171f78f" category="cell">美國西部（俄勒岡州）</block>
  <block id="1978cc170637ba3fa169853b7c5b2791" category="cell">GovCloud（美國西部）</block>
  <block id="86378e5a26945a10df6434e3cebc709b" category="cell">加拿大（中部）</block>
  <block id="1289483fccf49359b30e09d42f550943" category="cell">南美洲（聖保羅）</block>
  <block id="dbb56fbaa43a12cf5dc69fde5096e785" category="paragraph">最後更新日期：2022年6月2日。</block>
  <block id="0f1c6d45b761226679e0927cc47d24d3" category="open-title">EMEA</block>
  <block id="8c0594d8d8e156a108f31e22903e4349" category="cell">歐洲（愛爾蘭）</block>
  <block id="05f6cd9d18df6f52665dab10eda2ebe1" category="cell">歐洲（倫敦）</block>
  <block id="5efd079b952b87c886a8a02de8dd5d83" category="cell">歐洲（法蘭克福）</block>
  <block id="5be61c2e880e77ca057a65a4ff532d45" category="cell">歐洲（巴黎）</block>
  <block id="ecb3d21f3ca319a515169d4aafe9ed99" category="cell">歐洲（米蘭）</block>
  <block id="529f3fee69162e06098d8924e8084ca6" category="cell">歐洲（斯德哥爾摩）</block>
  <block id="2ebc1f6a39f03ec89f2b4bfdaf802f4c" category="open-title">亞太地區</block>
  <block id="4c2aaaa08c4d6f6e7e5af0e5fecf29df" category="cell">亞太地區（悉尼）</block>
  <block id="60b549aa334760e9f2bd47c8296afb7b" category="cell">亞太地區（東京）</block>
  <block id="dfbd3a51c0e9a689817234013c0d51ee" category="cell">亞太地區（大阪）</block>
  <block id="c8d7db357b2344e3ebeab70a1e63c6c9" category="cell">亞太地區（新加坡）</block>
  <block id="5294ca76dd36c8368fcafd7e951115ef" category="cell">亞太地區（首爾）</block>
  <block id="78c8c0f60d4851b109cbd33284f812ca" category="cell">亞太地區（Mumbai）</block>
  <block id="82f98bf67698e189fc9d846325345bbd" category="cell">亞太地區（雅加達）</block>
  <block id="1b15cf1d695d130132edd42a701b41a1" category="cell">亞太地區（香港）</block>
  <block id="3b041c1182ede15a52a683344c9512e0" category="section-title">AWS區域可用度</block>
  <block id="c5fde59b3560ee1ea5aeeebaf94bdf39" category="section-title">Azure區域可用度</block>
  <block id="7ddf4642a2bfdc9a45847e5d375a1ddb" category="inline-link-macro">詳細資料</block>
  <block id="844f1178f4ff7b95030ee50d8917da61" category="sidebar">NFS資料存放區的區域支援</block>
  <block id="15b1cf33f2d910f9ab5e6fdaeb331bcc" category="sidebar">AWS中的NFS資料存放區區域支援</block>
  <block id="81a6037600add9bb79d72eb49534ff94" category="sidebar">Azure中的NFS資料存放區區域支援</block>
  <block id="1da3fb2408fde551ca108534afed1987" category="sidebar">採用Splunk Enterprise的NetApp EF600</block>
  <block id="419f5ca56c881443509bda0a14523c9c" category="cell">更新AVS地區支援、以符合公開預覽公告/支援</block>
  <block id="40640c0c34d4427f5d18b9ca476e3158" category="summary">本頁說明NetApp ONTAP 支援儲存設備上Oracle19c的自動化資料保護。</block>
  <block id="19c95c19bd7c939577775cd0ecce3df1" category="section-title">醫療與生物醫學研究</block>
  <block id="a047c61461aba5a84a0a221900c33984" category="paragraph">影像處理是用來診斷從電腦斷層掃描（CT）或磁共振造影（MRI）取得的3D影像進行手術規劃的不正常情況。HIPAA隱私權規則規範組織如何收集、處理及清除所有個人資訊和數位影像（例如照片）的資料。為了讓資料符合HIPAA安全港規定的可共享資格、必須移除全面相片影像和任何類似影像。用於從結構性CT/磁 共振影像中隱藏個人的面向功能的自動辨識或頭骨刪除演算法等技術、已成為生物醫學研究機構資料共享程序的重要一環。</block>
  <block id="2c5c3872e94de8a36eac45213c5bf2e6" category="paragraph">企業客戶過去曾接受過內部部署的AI/ML模式訓練與部署。基於規模經濟與效率的考量、這些客戶正不斷擴充、將AI/ML功能移轉至公有雲、混合雲或多雲端雲端部署。但是、它們受到其他基礎架構所能接觸到的資料所約束。NetApp解決方案可解決所需的各種網路安全威脅<block ref="9da3a9a08c9461b229d33f221e8caa37" category="inline-link-rx"></block> 以及安全性評估、並與Protopia資料轉型結合使用、將影像處理AI/ML工作負載移轉至雲端的相關風險降至最低。</block>
  <block id="236e54165aafef697c2c82c667e05d36" category="doc">TR-4928：負責的AI與機密資料推斷-採用Protopia Image與資料轉型的NetApp AI</block>
  <block id="5b8a88d59edea26637f628caefd05974" category="list-text">您已經有一個正常運作的Kubernetes叢集、而且您正在執行Trident支援的Kubernetes版本。如需支援版本的清單、請參閱<block ref="77881c904b113f84b0f08c355b95174f" category="inline-link-rx"></block>。</block>
  <block id="b81146e6af95bf6e22cf57459890216f" category="inline-link">後端</block>
  <block id="f652904c3bfb48fb25a0a75f485f0ff6" category="inline-link">儲存類別</block>
  <block id="05543563edfd7ed0348edd3b47280705" category="list-text">如果您沒有使用NVIDIA DeepOps來部署Kubernetes叢集、或是想要手動部署Trident、您可以遵循來部署Trident<block ref="e119dd171387190517d77417752a581c" category="inline-link-rx"></block> 在Trident文件中。請務必至少建立一個Trident Backend和至少一個Kubernetes StorageClass、以取得如何設定的詳細資訊<block ref="9e44c6ae604c64be7a70b0384fa1cccd" category="inline-link-rx"></block> 和<block ref="336146b6899186b663ba5a7b38e8c39b" category="inline-link-rx"></block> 請參閱NetApp文件中的連結小節。</block>
  <block id="36522cc6d4eb67d30ef19d321901fa6e" category="cell">2022年6月16日</block>
  <block id="e1ea84e227dd99913363ade155774bcf" category="cell">新增NVIDIA DGX SupermPOD with NetApp設計指南</block>
  <block id="1edbb6849585c57ecbf402c0706ecf2d" category="sidebar">NVIDIA DGX超級POD with NetApp（設計指南）</block>
  <block id="e340bc103d02ce2b8e016eb60705029c" category="sidebar">SAP與SAP HANA</block>
  <block id="f1fc5bef6accc6d1fab4ab73142df7f3" category="list-text">若要使用Ansible教戰手冊來部署Astra Control Center、您需要安裝Ansible的Ubuntu / RHEL機器。請依照程序進行<block ref="3c36e2d6ece22f6d90a18a4cf2722cef" category="inline-link-rx"></block> 適用於Ubuntu和程序<block ref="94346839427703f278bfb2bc5962a814" category="inline-link-rx"></block> 適用於RHEL。</block>
  <block id="703fd9e283392bf196948a4c2ed72680" category="list-text">登入NetApp支援網站、下載最新版的NetApp Astra Control Center。若要這麼做、必須附上NetApp帳戶的授權。下載後、將其傳輸至工作站。</block>
  <block id="42042ccfc3ffee97e94beca237148ed4" category="list-text">建立或取得具有OpenShift叢集管理員存取權的Kbeconfig檔案、以安裝Astra Control Center。</block>
  <block id="aff7b433e7f33e585c67f69803192117" category="list-text">編輯「vars/vars.yml」檔案、並在變數中填入所需資訊。</block>
  <block id="b4ca5df207a7b1e22a2f19cac43dd6ad" category="paragraph">如果使用者已設定以密碼為基礎的Sudo存取、請執行下列命令來執行方針、然後輸入Sudo密碼。</block>
  <block id="f04c9d184475a1c831571242df5998ca" category="paragraph">除了Astra Control Center的付費版本、我們也提供90天的評估授權。評估版本可透過電子郵件和社群Slack通路支援。客戶可從產品內的支援儀表板存取這些資源、其他知識庫文章及文件。</block>
  <block id="9c38b2d834f16a22a033cc493828d911" category="paragraph">NetApp Cloud Volumes ONTAP 功能是雲端部署版本的NetApp ONTAP 功能、可部署在許多公有雲上、包括Amazon AWS、Microsoft Azure和Google Cloud。</block>
  <block id="c48c25afacd7dddac49ab104ad056df0" category="paragraph">Astra Trident是一款開放原始碼且完全支援的儲存協調工具、適用於｛k8s_Distribution_name｝等容器與Kubernetes發佈版本。Trident可搭配整個NetApp儲存產品組合（包括NetApp ONTAP 的整套和Element儲存系統）使用、也支援NFS和iSCSI連線。Trident可讓終端使用者從NetApp儲存系統配置及管理儲存設備、而無需儲存管理員介入、進而加速DevOps工作流程。</block>
  <block id="7654a00ca744e9bf01021439190e3119" category="doc">VMware Tanzu Kubernetes Grid整合版（TKGI）總覽</block>
  <block id="644bd75ee9c13f7d8778e4638d9eb2b2" category="paragraph">VMware Tanzu Kubernetes Grid Integrated（TKGi）Edition（前身為VMware Enterprise PKS）是獨立的容器協調平台、以Kubernetes為基礎、具備生命週期管理、叢集健全狀況監控、進階網路、容器登錄等功能。TKGI會使用TKGI控制面板來配置及管理Kubernetes叢集、其中包含Bosh和Ops Manager。</block>
  <block id="a84b33dfae5a2fdc1618084442bc3df0" category="paragraph">TKGI可在內部部署的vSphere或OpenStack環境上安裝及操作、或是在各自IaaS產品的任何主要公有雲上安裝及操作。此外、整合TKGI與NSX T和Harbour、可為企業工作負載提供更廣泛的使用案例。若要深入瞭解TKGI及其功能、請參閱文件 <block ref="0b1e387b87be5caa8371b58b8e02b1f8" category="inline-link-macro-rx"></block>。</block>
  <block id="26f1f37ed65557967fe3a789aa75c364" category="paragraph">TKGI可根據不同的使用案例和設計、在多種平台上以各種組態安裝。請依照指南操作 <block ref="54093918574a441541c9219fc9d087f1" category="inline-link-macro-rx"></block> 以安裝及設定TKGI及其先決條件。TKGi使用Bosh VM做為Tanzu Kubernetes叢集的節點、這些叢集執行不可變的組態映像、而且在Bosh VM上進行的任何手動變更、在重新開機後不會持續進行。</block>
  <block id="58959a34911d9e88e191f3453ddc81f0" category="paragraph">重要注意事項：</block>
  <block id="d7fc6fcd5f3c3c3fca9edded9bf380e1" category="list-text">NetApp Trident需要具有權限的容器存取權。因此、在安裝TKGI期間、請務必選取步驟中的「啟用貴賓容器」核取方塊、以設定Tanzu Kubernetes叢集節點計畫。</block>
  <block id="651650f759262b05cb38b56003e55784" category="image-alt">TKGI中的特殊權限容器</block>
  <block id="956d281862a0ec3c4bb386cd28bf959c" category="list-text">NetApp建議將所有正式作業環境部署在多個主要部署環境中、以提供容錯能力、並可選擇工作節點的組態、以符合預期工作負載的需求。因此、針對高度密集的工作負載、所建議的TKGi叢集計畫至少包含三位主機和三位工作人員、其中至少有四個vCPU和12GB的RAM。</block>
  <block id="74d32c3e98de18a4adf66bd3f05e6088" category="inline-link-macro">下一步：NetApp儲存系統總覽。</block>
  <block id="86de08c652cda2ec18cd6f36a36cfcfa" category="paragraph"><block ref="86de08c652cda2ec18cd6f36a36cfcfa" category="inline-link-macro-rx"></block></block>
  <block id="71417a3dd01aa388d35bf54aa4c401fa" category="summary">本頁提供影片連結、說明本文件所述的部分功能。</block>
  <block id="952be0b8dee874c73cd76a4d6a526b27" category="doc">影片與示範：VMware Tanzu搭配NetApp</block>
  <block id="811263b3dba6ff02a02f70eb9730ca2e" category="inline-link-macro">使用Astra Trident在VMware Tanzu中配置持續儲存設備</block>
  <block id="6aa25c5e03abeab0ced9fac672bb2330" category="list-text"><block ref="6aa25c5e03abeab0ced9fac672bb2330" category="inline-link-macro-rx"></block></block>
  <block id="03a87e35f2de41c34385d72c2c717acf" category="inline-link-macro">使用Astra Control Center複製VMware Tanzu中的應用程式</block>
  <block id="591774815c932f725e0adbded50b634b" category="list-text"><block ref="591774815c932f725e0adbded50b634b" category="inline-link-macro-rx"></block></block>
  <block id="bf6a387fea3d3444126eab19bcb4bbcd" category="inline-link-macro">下一步：其他資訊：VMware Tanzu with NetApp。</block>
  <block id="df2a7ac55fe19fad5a5006603cfd8662" category="paragraph"><block ref="df2a7ac55fe19fad5a5006603cfd8662" category="inline-link-macro-rx"></block></block>
  <block id="84053bd81ac19b225e107ad3b65ca58d" category="paragraph"><block ref="84053bd81ac19b225e107ad3b65ca58d" category="inline-link-macro-rx"></block></block>
  <block id="de15ad9e760a3587b2effb60a58133b1" category="summary">Astra Trident是開放原始碼且完全支援的儲存協調工具、適用於容器和Kubernetes配送、包括VMware Tanzu。</block>
  <block id="143c9ea21ac76ba425aa94411fbba07b" category="doc">Astra Trident總覽</block>
  <block id="ebe5598ec22d01fe25c02071b488309b" category="section-title">使用Helm部署Trident運算子</block>
  <block id="a082551b03c5e35829be23792317ac16" category="list-text">新增NetApp Astra Trident Helm儲存庫。</block>
  <block id="836237f5ff429cb9283688cdfaa56c76" category="list-text">更新Helm儲存庫。</block>
  <block id="875c7439b686e253522033c63d909efe" category="list-text">建立新的命名空間以安裝Trident。</block>
  <block id="82b1cf842f022e618212caef5d3c942d" category="list-text">利用Docker Hub認證資料建立秘密、下載Astra Trident影像。</block>
  <block id="e5073fdda88ef7d6b18ac4f938abbece" category="list-text">對於由TKGS（含Tanzu的vSphere）或TKG管理的使用者或工作負載叢集、請完成下列程序以安裝Astra Trident：</block>
  <block id="d409e9c69dd2082fd0ed8a86d87258e8" category="list-text">確認登入的使用者具有在Trident命名空間中建立服務帳戶的權限、且Trident命名空間中的服務帳戶具有建立Pod的權限。</block>
  <block id="397ae57f2a6cbd8444c419c896f19886" category="list-text">執行下列helm命令、在建立的命名空間中安裝Trident運算子。</block>
  <block id="eef6352658410e2218bd7027ae8ff351" category="list-text">對於由TKGI部署所管理的使用者或工作負載叢集、請執行下列helm命令、在建立的命名空間中安裝Trident運算子。</block>
  <block id="12d34565a0d56eff4f8d3f99b138e11a" category="list-text">確認Trident Pod已啟動且正在執行。</block>
  <block id="f48fa73c7f509e20ce14901e4639f13d" category="paragraph">完成Astra Trident操作員安裝之後、您必須為所使用的特定NetApp儲存平台設定後端。請依照下列連結繼續Astra Trident的設定與組態。</block>
  <block id="c060cacb4d77409e1402a5dcab49bf8b" category="list-text"><block ref="c060cacb4d77409e1402a5dcab49bf8b" category="inline-link-macro-rx"></block></block>
  <block id="2280e7f4e3cc9a8caee65d058e1db860" category="list-text"><block ref="2280e7f4e3cc9a8caee65d058e1db860" category="inline-link-macro-rx"></block></block>
  <block id="fca47dd46473e4571bb1904fe2d5f3f5" category="inline-link-macro">下一步：影片與示範：VMware Tanzu搭配NetApp。</block>
  <block id="61a5a682a4430d961b9bc43c2f902e94" category="paragraph"><block ref="61a5a682a4430d961b9bc43c2f902e94" category="inline-link-macro-rx"></block></block>
  <block id="fa6f7af807ffa3ac6e2efb5c31463a4f" category="paragraph">若要透過ONTAP NFS啟用Trident與NetApp支援儲存系統的整合、您必須建立後端、以便與儲存系統進行通訊。我們在此解決方案中設定基本的後端、但如果您想要更多自訂選項、請參閱文件 <block ref="f72d871ae286e7b7cf7d9ea12426661a" category="inline-link-macro-rx"></block>。</block>
  <block id="aaa6c6e969e6e978f9a8bce54e31b5f7" category="section-title">在SVM ONTAP 中建立SVM</block>
  <block id="b1c04b7e96694453a1307ecc81208ae5" category="list-text">登入ONTAP 「支援系統管理程式」、瀏覽至「儲存設備」&gt;「儲存VM」、然後按一下「新增」。</block>
  <block id="f53bd08113ff367a9bcd470b70a036d8" category="list-text">輸入SVM的名稱、啟用NFS傳輸協定、勾選「允許NFS用戶端存取」核取方塊、然後在匯出原則規則中新增工作節點所在的子網路、以允許將磁碟區掛載為工作負載叢集中的PV。</block>
  <block id="0cdb2a8f015b7a7d81ab5c3d73de88a5" category="image-alt">SVM使用NFS建立</block>
  <block id="e570ad3092406b5118fcd78a9374e048" category="admonition">如果您使用以NAT'ed部署搭配NSN-T的使用者叢集或工作負載叢集、則必須將Egress子網路（若為TKGS0或浮動IP子網路（若為TKGi）新增至匯出原則規則。</block>
  <block id="8f254daa71e82320e11e55258b095b00" category="list-text">提供資料生命量的詳細資料及SVM管理帳戶的詳細資料、然後按一下「Save（儲存）」。</block>
  <block id="02ffb816541fbf18a204c877564fb92e" category="image-alt">SVM資料生命量與SVM管理</block>
  <block id="491df82049a4ac2d8b8b2fe6b773d65d" category="list-text">將集合體指派給SVM。瀏覽至「Storage（儲存設備）」&gt;「Storage VM（儲存設備VM）」、按一下新建立的SVM旁的省略符號、然後按一下「Edit（編輯）」。核取「將Volume建立限制為偏好的本機層級」核取方塊、然後將所需的集合體附加到其中。</block>
  <block id="85c5adc69f6da0ebb2ebf365c4211508" category="image-alt">SVM Aggregate分配</block>
  <block id="95fdf7e31ffa1073f8c42359589c334e" category="list-text">如果要在其中安裝Trident的使用者或工作負載叢集進行NAT部署、則儲存掛載要求可能會因為SNAT而從非標準連接埠送達。根據預設、ONTAP 從根連接埠發出磁碟區掛載要求時、僅能使用此功能。因此、請登入ONTAP 不符合標準的CLI並修改設定、以允許來自非標準連接埠的掛載要求。</block>
  <block id="03c8ff4111bb9cfc032f786c9bd7c6e8" category="section-title">建立後端和StorageClass</block>
  <block id="e15177ebae9bfb9adab94a9ccf5f2e96" category="list-text">對於ONTAP 提供NFS的NetApp支援系統、請在跳接主機上使用backendName、managementLIF、dataLIF、SVM、UserName、 密碼及其他詳細資料。</block>
  <block id="c75cfbdcbbe9d48dc121fc816d4a2ccf" category="list-text">執行下列命令來建立Trident後端。</block>
  <block id="ad2008cda12d454189828df19b2f9742" category="list-text">建立後端之後、您必須接著建立儲存類別。下列儲存類別定義範例強調顯示必要和基本欄位。參數「backendType」應反映新建立之Trident後端的儲存驅動程式。</block>
  <block id="0286d73690ed0ef54af06bd9175945cd" category="list-text">執行kubecl命令來建立儲存類別。</block>
  <block id="8d8b689e86dbd34b31294b3f829db499" category="list-text">建立儲存類別之後、您必須建立第一個持續磁碟區宣告（PVc）。以下提供範例PVc定義。請確定「儲存類別名稱」欄位符合剛建立的儲存類別名稱。根據所需的工作負載、您可以進一步自訂PVc定義。</block>
  <block id="c764ff1d25a2f9241afec7161127f74d" category="list-text">發出kubectl命令來建立PVc。視所建立的備用磁碟區大小而定、建立作業可能需要一些時間、因此您可以在完成時觀看程序。</block>
  <block id="5f87e8fbf603b28eb84592d8e64980c6" category="doc">其他資訊：VMware Tanzu搭配NetApp</block>
  <block id="a6f4f5f0d313fa8894e4ad13a09339c0" category="list-text">VMware Tanzu文件</block>
  <block id="57a35ee57ca4eb666386f668ebc74599" category="inline-link"><block ref="57a35ee57ca4eb666386f668ebc74599" category="inline-link-rx"></block></block>
  <block id="35d5768f9d0ee829a3e2cae0cba15216" category="paragraph"><block ref="35d5768f9d0ee829a3e2cae0cba15216" category="inline-link-rx"></block></block>
  <block id="2839dd9e9e31ca41ba6399c0a64d3333" category="list-text">VMware Tanzu Kubernetes Grid文件</block>
  <block id="94ecd750f91f6d1908b92ec42eb37398" category="inline-link"><block ref="94ecd750f91f6d1908b92ec42eb37398" category="inline-link-rx"></block></block>
  <block id="f0a59887fc9e8ee88512ff6312c13efa" category="paragraph"><block ref="f0a59887fc9e8ee88512ff6312c13efa" category="inline-link-rx"></block></block>
  <block id="9cf21c31f745a435ac892addf1fd1a3f" category="list-text">VMware Tanzu Kubernetes Grid Service文件</block>
  <block id="98978b88e05533d45b79613d9ee6f26d" category="inline-link"><block ref="98978b88e05533d45b79613d9ee6f26d" category="inline-link-rx"></block></block>
  <block id="56c4cea9b33fd23cf082d00ca92d5a46" category="paragraph"><block ref="56c4cea9b33fd23cf082d00ca92d5a46" category="inline-link-rx"></block></block>
  <block id="c23715ed7437fed1084a24cebb89e63c" category="list-text">VMware Tanzu Kubernetes Grid整合版文件</block>
  <block id="fd2560680b89b39b1b988587bf383fb4" category="inline-link"><block ref="fd2560680b89b39b1b988587bf383fb4" category="inline-link-rx"></block></block>
  <block id="f4b2873e621660e86074a62e5a6c5eac" category="paragraph"><block ref="f4b2873e621660e86074a62e5a6c5eac" category="inline-link-rx"></block></block>
  <block id="3ff1ba174bc4d7824738ba1a0c0b4035" category="summary">NetApp Astra Control Center提供一套豐富的儲存設備與應用程式感知資料管理服務、適用於狀態穩定的Kubernetes工作負載、部署於內部環境、採用NetApp值得信賴的資料保護技術。</block>
  <block id="678f429fd30f5d3718b72e260e17f5f0" category="paragraph">如果您正在尋找現成的軟體開發工具套件、以便與Astra Control REST API互動、NetApp會提供工具套件、其中包含Astra Control Python SDK、您可以下載 <block ref="ccffe56769527505ab07c82206690bfe" category="inline-link-macro-rx"></block>。</block>
  <block id="6b24baf9bd0e230b887612f836d0fbd5" category="paragraph">如果程式設計不適合您的情況、而且您想要使用組態管理工具、您可以複製並執行NetApp發佈的Ansible教戰手冊 <block ref="8c91b346fb645d82eb54fe01a7c0cd36" category="inline-link-macro-rx"></block>。</block>
  <block id="c90524de7ee251d8a5128ac3f59847c6" category="paragraph">Astra Control Center安裝需要下列先決條件：</block>
  <block id="9f2559e9a5f31fdb3d5489aa3367ae35" category="list-text">一個或多個Tanzu Kubernetes叢集、由管理叢集或TKGS管理。支援TKG工作負載叢集1.4以上和TKGI使用者叢集1.12.2+。</block>
  <block id="c94e1287a80d82c490967572d336083d" category="list-text">每個Tanzu Kubernetes叢集上都必須已安裝並設定Astra Trident。</block>
  <block id="ba1c516a3e7a998469a5ac73695127ce" category="admonition">這是在站台上安裝每個Tanzu Kubernetes的最佳實務做法、可讓專屬的SVM用於持續儲存。多站台部署需要額外的儲存系統。</block>
  <block id="c756010e6a027d7d6ae199c033f4b1db" category="list-text">每個Tanzu Kubernetes叢集上都必須設定Trident儲存後端、並以SVM作為後盾ONTAP 、以供支援整個叢集。</block>
  <block id="dd7ed1e31baf27a40282a08242cf6efc" category="list-text">在每個Tanzu Kubernetes叢集上設定的預設StorageClass、其中Astra Trident是儲存資源配置程式。</block>
  <block id="e8ed7f9c94a716f73364706e6db9c1c6" category="list-text">如果您使用的是擷取類型「AccTraefik」、則必須在每個Tanzu Kubernetes叢集上安裝和設定負載平衡器、以進行負載平衡和曝光Astra Control Center。</block>
  <block id="6b769b6cd8bf0a312e04e05973e13018" category="list-text">如果您使用的是「一般」擷取類型、則必須在每個Tanzu Kubernetes叢集上安裝並設定入口控制器、以曝光Astra Control Center。</block>
  <block id="0e6886020b4adf5871ebc7346b63c3a0" category="list-text">您必須擁有叢集管理存取權、才能存取安裝Astra Control Center的Tanzu Kubernetes叢集。</block>
  <block id="8bd3433e327d75f3a3c33d9998840fce" category="list-text">RHEL或Ubuntu管理工作站。</block>
  <block id="ed060d0439d2eda03baa2005199d9bc1" category="paragraph">本解決方案說明使用Ansible教戰手冊安裝Astra Control Center的自動化程序。如果您正在尋找安裝Astra Control Center的手動程序、請遵循詳細的安裝與操作指南 <block ref="30c5ae998902105fcf03dc0b9654af4c" category="inline-link-macro-rx"></block>。</block>
  <block id="662609908ab8e0f372d83dea3511370b" category="inline-link">程序</block>
  <block id="8575c02ec176b0f64904bcbd79e81cba" category="list-text">若要使用部署Astra Control Center的Ansible教戰手冊、您必須安裝有Ansible的Ubuntu / RHEL機器。請遵循此步驟<block ref="c1972c5d94c51919767b49f6cefbf6ba" category="inline-link-rx"></block> 適用於Ubuntu及此<block ref="c4dab530b5bf152ded398881b8308451" category="inline-link-rx"></block> 適用於RHEL。</block>
  <block id="df57d245f4173d8ac23df756917bb6ae" category="list-text">建立或取得Kubeconfig檔案、並以系統管理存取權限存取要安裝Astra Control Center的使用者或工作負載Tanu Kubernetes叢集。</block>
  <block id="b2d9440273952d4b05aed1b36c66494d" category="list-text">將目錄變更為「na_Astra_control_suITE」。</block>
  <block id="7489123185b81a6e11b42218fabb4c3b" category="list-text">編輯「vars/vars.yml」檔案、並在變數中填入必要資訊。</block>
  <block id="2b6b49be82749b9e141c2f0a23c8d11f" category="paragraph">如果執行教戰手冊的使用者是root或設定了無密碼Sudo、請執行下列命令來執行教戰手冊。</block>
  <block id="111dd0947a16442f317af649a2aac536" category="list-text">如果擷取類型為AccTraefik、請取得trraefik服務負載平衡器IP。</block>
  <block id="25ce05402248633e67c7cbc234573b60" category="list-text">Astra Control Center需要取得授權、才能讓所有功能正常運作。若要新增授權、請瀏覽至「帳戶」&gt;「授權」、按一下「新增授權」、然後上傳授權檔案。</block>
  <block id="bf3293f2603ff733102e45d1152bc0a1" category="admonition">如果您在安裝或組態NetApp Astra Control Center時遇到問題、我們將提供已知問題的知識庫<block ref="695f48b1d8b7348c0e2828947d24161e" category="inline-link-rx"></block>。</block>
  <block id="1e89038a8ae648db9dd4b203267abd3a" category="inline-link-macro">下一步：註冊您的Tanzu Kubernetes叢集。</block>
  <block id="c7f57c40ce02379584ec7748d9444ee0" category="paragraph"><block ref="c7f57c40ce02379584ec7748d9444ee0" category="inline-link-macro-rx"></block></block>
  <block id="318a4bce7f9fca07a60ed82408fbcd29" category="doc">VMware Tanzu Kubernetes Grid（TKG）總覽</block>
  <block id="11e5f8209ef45e9884518caf7b5bc68d" category="paragraph">VMware Tanzu Kubernetes Grid也稱為TKG、可讓您跨混合雲或公有雲環境部署Tanzu Kubernetes叢集。TKG安裝為管理叢集、這是Kubernetes叢集本身、可部署及操作Tanzu Kubernetes叢集。這些Tanzu Kubernetes叢集是實際部署工作負載的工作負載Kubernetes叢集。</block>
  <block id="9a67a32e17609515d2fc11383d1a7b59" category="paragraph">Tanzu Kubernetes Grid以幾個有前途的上游社群專案為基礎、提供由VMware開發、行銷及支援的Kubernetes平台。除了Kubernetes配送之外、Tanzu Kubernetes Grid還提供額外的附加元件、這些附加元件是必要的正式作業級服務、例如登錄、負載平衡、驗證等。具有管理叢集的VMware TKG廣泛用於vSphere 6.7環境、即使受到支援、也不建議部署vSphere 7環境、因為TKGS具備與vSphere 7的原生整合功能。</block>
  <block id="4e6c29e9760f3e53993a64a5f6c63aaa" category="image-alt">VMware Tanzu Kubernetes Grid搭配管理叢集</block>
  <block id="ec30336a82729146050b0931adab64f2" category="paragraph">如需有關Tanzu Kubernetes Grid的詳細資訊、請參閱文件 <block ref="f4dbc56b610d9f5cd603e1a13bb6dedf" category="inline-link-macro-rx"></block>。</block>
  <block id="86fcbed2a7f5b8edced11b10bd1e4266" category="paragraph">根據Tanzu Kubernetes Grid是安裝於vSphere叢集內部部署環境或雲端環境、請依照安裝指南準備及部署Tanzu Kubernetes Grid <block ref="492c3fae38681e036fd18bedc1bf8ae5" category="inline-link-macro-rx"></block>。</block>
  <block id="c1f07986544fbf96897f8099577b0e72" category="paragraph">安裝Tanzu Kubernetes Grid的管理叢集之後、請依照文件的說明、視需要部署使用者叢集或工作負載叢集 <block ref="7d3f6d9f879d392af501006eacd0d221" category="inline-link-macro-rx"></block>。VMware TKG管理叢集需要提供SSH金鑰、才能安裝及操作Tanzu Kubernetes叢集。此金鑰可用於使用「capv」使用者登入叢集節點。</block>
  <block id="07f15dfb0f84a062c67184adcee67a8b" category="summary">本參考文件提供VMware Tanzu Kubernetes解決方案的部署驗證、可部署成Tanzu Kubernetes Grid（TKG）、Tanzu Kubernetes Grid Service（TKGS）或Tanzu Kubernetes Grid Integrated（TKGi）、以供在多種不同的資料中心環境中使用、並通過NetApp驗證。</block>
  <block id="bec8bc9f783c7d01005b7e64d1ad1785" category="doc">NVA-1166：採用NetApp的VMware Tanzu</block>
  <block id="c837e955d75d674feb57af7e68b3d74c" category="paragraph">本參考文件提供VMware Tanzu Kubernetes解決方案的部署驗證、可部署成Tanzu Kubernetes Grid（TKG）、Tanzu Kubernetes Grid Service（TKGS）或Tanzu Kubernetes Grid Integrated（TKGi）、以供在多種不同的資料中心環境中使用、並通過NetApp驗證。同時也說明與NetApp儲存系統和Astra Trident儲存協調程式的儲存整合、以管理持續儲存設備、以及Astra控制中心、以便使用該持續儲存設備備份及複製狀態化應用程式。最後、文件提供解決方案整合與驗證的影片示範。</block>
  <block id="c0a14f456cfcfac669f2cf374f60561b" category="paragraph">採用NetApp的VMware Tanzu解決方案的架構設計、可為具有下列使用案例的客戶提供卓越價值：</block>
  <block id="8cc1d80dbdd5d6d142f0173d8c8f2261" category="list-text">易於部署和管理VMware Tanzu Kubernetes Grid產品、這些產品部署在VMware vSphere上、並與NetApp儲存系統整合。</block>
  <block id="8796988ff3c4f065733c3b887d886609" category="list-text">結合企業容器與虛擬化工作負載的強大功能、以及VMware Tanzu Kubernetes Grid產品。</block>
  <block id="d7071bc518e2fa9a30b1debdd8e721f1" category="list-text">實際組態與使用案例、突顯VMware Tanzu與NetApp儲存設備及NetApp Astra產品套件搭配使用時的功能。</block>
  <block id="3d4565b89cb9591acc32839ce0d48627" category="list-text">應用程式一致的保護或移轉部署在VMware Tanzu Kubernetes Grid叢集上的容器化工作負載、這些叢集的資料使用Astra Control Center存放在NetApp儲存系統上。</block>
  <block id="29375f7cc2c5eece7fdd9c99f40eb3f8" category="list-text">能夠在混合雲模式中部署、並在內部部署資料中心和雲端上執行容器。</block>
  <block id="ddea0381617b5a4b43a0a98a440c6658" category="paragraph">VMware Tanzu與NetApp共同肯定這些挑戰、並提供解決方案、協助客戶在混合雲環境中部署VMware Tanzu Kubernetes產品、以解決每個疑慮。</block>
  <block id="c57f369df48137f738543c0e5012006c" category="paragraph">VMware Tanzu with NetApp解決方案包含下列主要元件：</block>
  <block id="67d7b0b61202e57bcae8cda82f02e2b3" category="section-title">VMware Tanzu Kubernetes平台</block>
  <block id="55ad4cb8f0feecb71e184ef92cff1f70" category="paragraph">VMware Tanzu提供多種不同的功能、NetApp的解決方案工程團隊已在實驗室中通過驗證。每個Tanzu版本都能與NetApp儲存產品組合成功整合、而且每個產品都能滿足特定的基礎架構需求。下列項目符號重點說明本文件所述的每個Tanzu版本的特色與產品。</block>
  <block id="5849f8d5cb1d66cb095da163e533dea7" category="paragraph">VMware Tanzu Kubernetes Grid（TKG）</block>
  <block id="45915535ce313f81567f3b3c41571fe9" category="list-text">部署在VMware vSphere環境中的標準上游Kubernetes環境。</block>
  <block id="32fcd5c42dc47b5cc021d74a489dee4f" category="list-text">前身為Essential PKS（取自2019年2月的赫特（Hetio）收購案）。</block>
  <block id="16196833d09cc8d52a1ef3790b4e15d3" category="list-text">TKG是以獨立的管理叢集執行個體來部署、以支援vSphere 6.7U3及更高版本。</block>
  <block id="08f2ff1c0826ffc53a185010cce7dac7" category="list-text">TKG部署也可與AWS或Azure一起部署在雲端。</block>
  <block id="15aa7eec2d32a1ba74b5cea8af5241ec" category="list-text">允許使用Windows或Linux工作節點（Ubuntu / Photon）。</block>
  <block id="89a8813ef0f3f2c1a9b0f20dab87e2a2" category="list-text">NSX T、HA Proxy、Avi網路或負載平衡器可用於控制面板。</block>
  <block id="2ad16c86af27df82ae725dfd15176212" category="list-text">TKG支援應用程式/資料平面的MetalLB。</block>
  <block id="7bf259c507ef53db8da3607757164b2e" category="list-text">可以使用vSphere SI以及NetApp Astra Trident等第三方SI。</block>
  <block id="c840af216b38aff44cc5ba246da60e17" category="paragraph">VMware Tanzu Kubernetes Grid Service（TKGS）</block>
  <block id="27077307fac1683851c72a97ba11c62e" category="list-text">TKGS僅在vSphere 7.0U1及後續版本上隨監督者叢集和工作負載叢集一起部署。</block>
  <block id="3ee27cde76894c76ad60736ecbca78da" category="list-text">TKGS支援應用程式/資料平面的MetalLB。</block>
  <block id="443c9bd7eeb4bc3d39f67cc555b4aab2" category="list-text">支援搭配Tanzu的vSphere Pod、可讓Pod直接在環境中啟用的ESXi主機上執行。</block>
  <block id="f4ef19f9ee886fa602632ef3f35019ad" category="list-text">先前稱為企業PKS（取自2019年2月的赫塔（Hetio）收購案）。</block>
  <block id="28789df26df63aa440b3aded601e67a6" category="list-text">可以使用NSX T、HA Proxy或Avi。您也可以提供自己的負載平衡器。</block>
  <block id="2b681f710a75cd56332534e50fe625ff" category="list-text">支援vSphere 6.7U3及AWS、Azure和GCP。</block>
  <block id="f09eefe449cf027cce033ceb064c2fae" category="list-text">透過精靈進行設定、以便輕鬆部署。</block>
  <block id="78c9a89b579a1005676bf4b1a4b3aad7" category="list-text">在由Bosh管理的可控不可變虛擬機器中執行Tanzu。</block>
  <block id="46c96f35ab6c6f57dd96776e1f115737" category="list-text">可以使用vSphere SI以及NetApp Astra Trident等第三方SI（部分條件適用）。</block>
  <block id="b63d5ee355078976e86c94b5c978788e" category="paragraph">NetApp Astra Control Center提供一組豐富的儲存設備與應用程式感知資料管理服務、可處理有狀態的Kubernetes工作負載、部署於內部環境、並採用值得信賴的NetApp資料保護技術。</block>
  <block id="e764fe6b8f8825a307a87cedbef45678" category="cell">22.04</block>
  <block id="63355c54bd7e8ff73915da41610ec6f7" category="cell">22.04.0</block>
  <block id="22053fd2d26d3a313aea03b09e9a776c" category="cell">VMware Tanzu Kubernetes Grid Service</block>
  <block id="c99c6e88d4de8db879b1b5ec64d1f7ed" category="cell">0.0.15 [vSphere命名空間]</block>
  <block id="8eb1302ead60c09b6d757b2b7ab84040" category="cell">1.22.6 [監控叢集Kubernetes ]</block>
  <block id="caf617dd6edf29fd289caff7469ea66b" category="cell">整合VMware Tanzu Kubernetes Grid</block>
  <block id="1d5bc9367c9565bbe31cc00aa1f870a4" category="cell">1.13.3</block>
  <block id="5d9dd4ee62c5446f01e895cd118d98dd" category="cell">VMware NSX T資料中心</block>
  <block id="7bc09c21b8fa1161768459982f0ec89e" category="cell">網路與安全性</block>
  <block id="b1179856b0372cb8777975cb658548ac" category="cell">3.1.3</block>
  <block id="cc540661734771d2e0272e8b4ef5c228" category="cell">VMware NSX進階負載平衡器</block>
  <block id="50382c1137e78c7c038faabadb85d9fd" category="cell">負載平衡器</block>
  <block id="d08680d7e9b745c4d4b81a2d6df7a012" category="cell">20.1.3</block>
  <block id="743cb170909d5e6e5936fc4783a59de5" category="inline-link-macro">下一步：VMware Tanzu概述。</block>
  <block id="4b362af24230ce2d990680198c520d44" category="paragraph"><block ref="4b362af24230ce2d990680198c520d44" category="inline-link-macro-rx"></block></block>
  <block id="30a7219728f2665214ac7ae0458c27a8" category="list-text"><block ref="30a7219728f2665214ac7ae0458c27a8" category="inline-link-macro-rx"></block></block>
  <block id="40ef898131b1ea0532620ff9cb12840c" category="summary">本頁提供影片示範連結、說明如何使用Astra Trident在VMware Tanzu中配置持續儲存設備。</block>
  <block id="e0d2648924bbf778345db6153fddf464" category="doc">使用Astra Trident在VMware Tanzu中配置持續儲存設備</block>
  <block id="db70f2aaf062f269f45b2fe61ad31160" category="admonition">本示範影片是以TKG 1.3.1版和Astra Control Center 21.12版的技術預覽形式錄製。請參閱支援對照表以取得正式支援版本。</block>
  <block id="945f7593bacdce2a986b2ea8ab58220b" category="summary">本頁連結至影片示範、說明如何使用Astra Control Center複製VMware Tanzu中的應用程式。</block>
  <block id="ff56b2be4aa6be0d45adf0bbeb76166d" category="doc">使用Astra Control Center複製VMware Tanzu中的應用程式</block>
  <block id="15693c045ae1b118bd5c3f8e9cee5c08" category="summary">若要讓Astra Control Center管理您的工作負載、您必須先登錄您的Tanzu Kubernetes叢集。</block>
  <block id="3a16c17a7d5ce69951add72b2e46c340" category="doc">向Astra Control Center註冊您的VMware Tanzu Kubernetes叢集</block>
  <block id="a723b0aede16ae3d3bdd6761d359595b" category="section-title">註冊VMware Tanzu Kubernetes叢集</block>
  <block id="779e6578abb36499d7c5399b33269c9c" category="list-text">第一步是將Tanzu Kubernetes叢集新增至Astra Control Center並加以管理。移至「叢集」、然後按一下「新增叢集」、上傳Tanzu Kubernetes叢集的Kubeconfig檔案、然後按一下「選取儲存設備」。</block>
  <block id="d9687c204aa759a004b29f4f41e01908" category="list-text">新增叢集時、它會移至「Discovering」（探索）狀態、而Astra Control Center則會檢查叢集並安裝必要的代理程式。成功登錄後、叢集狀態會變更為「正常」。</block>
  <block id="1e7084bafe0fe7d10e28e10eea2641aa" category="admonition">所有由Astra Control Center管理的Tanzu Kubernetes叢集、都應該能夠存取安裝時所用的映像登錄、因為安裝在受管理叢集上的代理程式會從該登錄擷取映像。</block>
  <block id="f3eca6ba1067d4a61b1229f18ab1a463" category="list-text">將ONTAP 支援的物件叢集匯入為儲存資源、以由Astra Control Center作為後端管理。當Tanzu Kubernetes叢集新增至Astra並設定儲存機時、它會自動探索ONTAP 及檢查以儲存機為後盾的叢集、但不會將其匯入Astra Control Center進行管理。</block>
  <block id="3c786ecd99f0ebd5edd64d81ad32375c" category="list-text">若要匯入ONTAP 物件叢集、請瀏覽至後端、按一下下拉式清單、然後選取ONTAP 要管理之物件叢集旁的「Manage（管理）」。輸入ONTAP 「物件叢集認證」、按一下「檢閱資訊」、然後按一下「匯入儲存設備後端」。</block>
  <block id="af64f63e0642401224fc8f9c2ec7d1c5" category="list-text">新增後端之後、狀態會變更為「可用」。這些後端現在有關於Tanzu Kubernetes叢集中持續磁碟區的資訊、ONTAP 以及有關該系統上相對應磁碟區的資訊。</block>
  <block id="688cdc8b62507f4c74f7452e7889821d" category="list-text">若要使用Astra Control Center跨Tanzu Kubernetes叢集進行備份與還原、您必須配置支援S3傳輸協定的物件儲存桶。目前支援的選項包括ONTAP 不支援的S3、StorageGRID 不支援的功能、AWS S3和Microsoft Azure Blob儲存設備。為了進行此安裝、我們將設定AWS S3儲存區。移至「Bucket」、按一下「Add Bucket」、然後選取「通用S3」。輸入S3儲存區的詳細資料和認證資料以進行存取、按一下「將此儲存區設為雲端的預設儲存區」核取方塊、然後按一下「新增」。</block>
  <block id="f1b8312f03a9ec379a8e0fc00f20be33" category="paragraph"><block ref="f1b8312f03a9ec379a8e0fc00f20be33" category="inline-link-macro-rx"></block></block>
  <block id="9c5a4b54facfb25c9699e51ca3728574" category="summary">在您註冊VMware Tanzu Kubernetes叢集之後、即可探索已部署的應用程式、並透過Astra Control Center加以管理。</block>
  <block id="ada6daf9261af1429947be91dd72757b" category="paragraph">在您註冊Tanzu Kubernetes叢集之後、您可以探索已部署的應用程式、並透過Astra Control Center加以管理。</block>
  <block id="48652ad0d003928f33825c84d5c8d950" category="list-text">在ONTAP Astra Control Center登錄Tanzu Kubernetes叢集和還原後端之後、控制中心會自動開始探索所有命名空間中使用以指定ONTAP 的還原後端設定之儲存機的應用程式。</block>
  <block id="a013472d7ab7df6d0e423dbb7e238f7a" category="paragraph"><block ref="a013472d7ab7df6d0e423dbb7e238f7a" category="inline-link-macro-rx"></block></block>
  <block id="96b5419ab713b49685af4d923930ce22" category="summary">若要透過ONTAP iSCSI將NetApp支援的儲存系統與VMware Tanzu Kubernetes叢集整合為持續磁碟區、第一步是登入每個節點、並設定iSCSI公用程式或套件來掛載iSCSI磁碟區、以準備節點。</block>
  <block id="da883967924519350a1c423bd85906dd" category="paragraph">若要透過ONTAP iSCSI將NetApp支援的儲存系統與VMware Tanzu Kubernetes叢集整合為持續磁碟區、第一步是登入每個節點、並設定iSCSI公用程式或套件來掛載iSCSI磁碟區、以準備節點。若要這麼做、請遵循本文件中所述的程序 <block ref="fb2092145032d18c9376d95ca453f9a7" category="inline-link-macro-rx"></block>。</block>
  <block id="50c35de69200a8b9e4be302372e74851" category="admonition">NetApp不建議將此程序用於以NAT方式部署VMware Tanzu Kubernetes叢集。</block>
  <block id="bfc5022105ee1678e96b6f9991116647" category="admonition">TKGi使用Bosh VM做為執行不可變組態映像的Tanzu Kubernetes叢集節點、而在Bosh VM上手動變更iSCSI套件的任何變更、都不會在重新開機後維持不變。因此、NetApp建議使用NFS磁碟區來持續儲存Tanzu Kubernetes叢集、以供TKGi部署和營運之用。</block>
  <block id="16e4431f428a4ec8abdfbee6ec2c2889" category="paragraph">準備好iSCSI磁碟區的叢集節點之後、您必須建立後端、以便與儲存系統進行通訊。我們在此解決方案中設定了基本的後端、但如果您想要更多自訂選項、請參閱文件 <block ref="f151238ff3a8d488c82b6303d676eaa3" category="inline-link-macro-rx"></block>。</block>
  <block id="31cd969d7cf1970993d449ccccaeddfe" category="paragraph">若要在SVM中建立SVM ONTAP 、請完成下列步驟：</block>
  <block id="70d94c82da2765251783d499556773b7" category="list-text">輸入SVM的名稱、啟用iSCSI傳輸協定、然後提供資料LIF的詳細資料。</block>
  <block id="9305b9f7555d613129963713b0c214e6" category="image-alt">iSCSI SVM資料生命里數</block>
  <block id="f9edece6d4cf48c209a5fe7da61f0ecb" category="list-text">輸入SVM管理帳戶的詳細資料、然後按一下「Save（儲存）」。</block>
  <block id="2b44a7a64e9a3efc0b4e423d6339aaa7" category="image-alt">iSCSI SVM管理</block>
  <block id="f61c0f70e825557a7be7fe0ac432bdf7" category="list-text">若要將Aggregate指派給SVM、請瀏覽至Storage &gt; Storage VM、按一下新建立的SVM旁的省略符號、然後按一下Edit（編輯）。核取「將Volume建立限制為偏好的本機層級」核取方塊、然後將所需的集合體附加到其中。</block>
  <block id="74ede5d2e56e369e9eda54f4095292f5" category="list-text">建立後端之後、您必須接著建立儲存類別。下列儲存類別定義範例強調顯示必要和基本欄位。參數「backendType」應反映新建立之Trident後端的儲存驅動程式。另請注意名稱欄位值、此值必須在後續步驟中參考。</block>
  <block id="cf2c5963ca8332d4f43e6c3a955da4da" category="admonition">在此檔案中定義了一個名為「FSType」的選用欄位。在iSCSI後端中、此值可設定為特定的Linux檔案系統類型（XFS、ext4等）、也可刪除以允許Tanzu Kubernetes叢集決定要使用哪個檔案系統。</block>
  <block id="af4fcf3aff174981414dc5c9fce2f4ec" category="section-title">建立應用程式快照</block>
  <block id="29335406e75e8b137ee91c9f44068bc6" category="paragraph">應用程式的快照會建立ONTAP 一份「功能不均的Snapshot」複本、以及一份應用程式中繼資料複本、以該Snapshot複本為基礎、將應用程式還原或複製到特定時間點。</block>
  <block id="9bb92323cd91f66cadcdc492341cddd5" category="section-title">建立應用程式備份</block>
  <block id="c4c29bc3f7db6d04fde98415386e1e7f" category="list-text">若要還原應用程式、請瀏覽至「應用程式」&gt;「受管理」索引標籤、然後按一下有問題的應用程式。按一下應用程式名稱旁的下拉式功能表、然後按一下「還原」。</block>
  <block id="2c0d64177d5c89bc452e9f1eb0fd4f65" category="list-text">輸入新命名空間的詳細資料、選取您要複製到的叢集、然後選擇是否要從現有的快照、備份或應用程式的目前狀態中複製。檢閱詳細資料後、按一下「Next（下一步）」、然後按一下檢閱窗格上的「Clone（複製）」。</block>
  <block id="ef0b684dddd1cea4885513d892f39cfa" category="paragraph"><block ref="ef0b684dddd1cea4885513d892f39cfa" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3901d4e16e17c29d42ccb430b94cc402" category="paragraph"><block ref="3901d4e16e17c29d42ccb430b94cc402" category="inline-image-macro-rx" type="image"></block></block>
  <block id="62772f599e4130a9b43b483c82338681" category="summary">VMware Tanzu是一套產品組合、可讓企業將應用程式及其執行基礎架構現代化。VMware Tanzu的完整功能堆疊、將開發與IT營運團隊整合在單一平台上、在內部部署與混合雲環境中、一致地將應用程式與基礎架構的現代化整合在一起、持續為正式作業提供更好的軟體。</block>
  <block id="969f4a20d38cf3096e1659b96da1b729" category="doc">VMware Tanzu總覽</block>
  <block id="c395793804bd9dfa82ff727781faf3c5" category="image-alt">VMware Tanzu產品組合</block>
  <block id="3614585a8ed284306a5eadc9e31585b8" category="paragraph">若要深入瞭解Tanzu產品組合中的不同產品及功能、請參閱文件 <block ref="e9fed892b98a6bbccfc15bfe67c5aa96" category="inline-link-macro-rx"></block>。</block>
  <block id="3ff60e0bc78c13ace612734741c1e1da" category="paragraph">關於Tanzu的Kubernetes營運目錄、VMware針對Tanzu Kubernetes Grid提供多種實作方式、所有這些都能在各種平台上配置及管理Tanzu Kubernetes叢集的生命週期。Tanzu Kubernetes叢集是VMware所建置及支援的完整Kubernetes發佈版本。</block>
  <block id="caaf1eb22b79381e3d4a2b2b9a7d1698" category="paragraph">NetApp已在實驗室測試並驗證下列VMware Tanzu產品組合產品的部署與互通性：</block>
  <block id="0fe3792ebba34a6c12f05656d54ecb49" category="list-text"><block ref="0fe3792ebba34a6c12f05656d54ecb49" category="inline-link-macro-rx"></block></block>
  <block id="eac001284f9380ccf17ee4490dbe13e1" category="list-text"><block ref="eac001284f9380ccf17ee4490dbe13e1" category="inline-link-macro-rx"></block></block>
  <block id="d6a1da4b26eb2ae838f5db5e80c44aee" category="inline-link-macro">VMware Tanzu Kubernetes Grid整合（TKGI）</block>
  <block id="57729a0bf5ad457403cd6505bdfeb143" category="list-text"><block ref="57729a0bf5ad457403cd6505bdfeb143" category="inline-link-macro-rx"></block></block>
  <block id="aa7b3dace1453f21689852e3b066f673" category="summary">VMware Tanzu Kubernetes Grid Service（也稱為含有Tanzu的vSphere）可讓您在vSphere原生環境中建立及操作Tanzu Kubernetes叢集、也可讓您直接在ESXi主機上執行一些較小的工作負載。</block>
  <block id="b71ad38bc3fd2c1a10efc2b09270e430" category="doc">VMware Tanzu Kubernetes Grid Service（TKGS）總覽</block>
  <block id="9f0bacdd758242392df6d215d34d9b8e" category="paragraph">VMware Tanzu Kubernetes Grid Service（也稱為含有Tanzu的vSphere）可讓您在vSphere原生環境中建立及操作Tanzu Kubernetes叢集、也可讓您直接在ESXi主機上執行一些較小的工作負載。它可讓您將vSphere轉換成平台、以便在Hypervisor層上原生執行容器化工作負載。啟用後、Tanzu Kubernetes Grid Service會在vSphere上部署監督者叢集、以便部署及操作工作負載所需的叢集。它原生與vSphere 7整合、並運用許多可靠的vSphere功能、例如vCenter SSO、內容庫、vSphere網路、vSphere儲存設備、vSphere HA和DRS、以及vSphere安全性、提供更順暢的Kubernetes體驗。</block>
  <block id="6b25ac3e69375bd4a52dbffeb5c9cb14" category="paragraph">vSphere with Tanzu為混合式應用程式環境提供單一平台、讓您可以在容器或VM中執行應用程式元件、為開發人員、DevOps工程師及vSphere管理員提供更佳的可見度及操作簡易性。VMware TKGS僅支援vSphere 7環境、是Tanzu Kubernetes營運產品組合中唯一能讓您直接在ESXi主機上執行Pod的產品。</block>
  <block id="0e1d3327747a52bdd78d80247d5b6500" category="image-alt">VMware Tanzu Kubernetes服務</block>
  <block id="6e1adc41159b779c5ef1a0c9c934a673" category="paragraph">如需有關Tanzu Kubernetes Grid Service的詳細資訊、請參閱文件 <block ref="0cdaad1423fdb034ad0ee788d57a7a82" category="inline-link-macro-rx"></block>。</block>
  <block id="767b04965a47baa63782400d36a0c62e" category="paragraph">在功能集、網路等方面、有許多架構考量。根據所選的架構、Tanzu Kubernetes Grid Service的先決條件和部署程序各不相同。若要在您的環境中部署及設定Tanzu Kubernetes Grid Service、請遵循指南 <block ref="5e5ad4985bdb8ab17883db4008c7c4a2" category="inline-link-macro-rx"></block>。此外、若要登入透過TKGS部署的Tanzu Kubernetes叢集節點、請遵循本文所述的程序<block ref="7db41b551ba1165c4dfa4cf2d8a36e55" category="inline-link-rx"></block>。</block>
  <block id="46d890e88b951c5a84a444aad08079ae" category="paragraph">NetApp建議將所有正式作業環境部署在多個主要部署環境中、以提供容錯能力、並可選擇工作節點的組態、以符合預期工作負載的需求。因此、對於高度密集的工作負載、建議使用的VM類別至少應有四個vCPU和12GB的RAM。</block>
  <block id="e8a4d3a2e07c429150e133b7fedebd64" category="paragraph">當在命名空間中建立Tanzu Kubernetes叢集時、具有「擁有者」或「編輯」權限的使用者可以使用使用者帳戶、直接在任何命名空間中建立Pod。這是因爲具有「擁有者」或「編輯」權限的使用者會被指派叢集管理員角色。不過、在任何命名空間中建立部署、精靈集、狀態集或其他項目時、您必須將具有必要權限的角色指派給對應的服務帳戶。這是必要的、因為部署或精靈集會使用服務帳戶來部署Pod。</block>
  <block id="dc4ab077311e2aad5b5af968844fc5fe" category="paragraph">請參閱叢集角色繫結的下列範例、將叢集系統管理員角色指派給叢集中的所有服務帳戶：</block>
  <block id="5851271128193658704cec246f4fd21c" category="doc">NetApp儲存整合概述</block>
  <block id="c21c42ee74a060038cdb9ea059b7702a" category="list-text"><block ref="c21c42ee74a060038cdb9ea059b7702a" category="inline-link-macro-rx"></block></block>
  <block id="bbf3919625853b65280d28c2d26004fd" category="list-text"><block ref="bbf3919625853b65280d28c2d26004fd" category="inline-link-macro-rx"></block></block>
  <block id="7c83f61ffb36cd4e6fa256ea9573bcff" category="inline-link-macro">下一步：NetApp Astra Control總覽。</block>
  <block id="9fefc82351a3a2abfcae01d825253856" category="paragraph"><block ref="9fefc82351a3a2abfcae01d825253856" category="inline-link-macro-rx"></block></block>
  <block id="22a3cd730895fa6285f7ee2b7838bc34" category="list-text">建立或取得具有管理存取權的Kkbeconfig檔案、以存取要安裝Astra Control Center的｛k8s_usercluster名稱｝叢集。</block>
  <block id="c67346d734cf1873532bdc9f9a1421da" category="list-text">同時執行虛擬化與容器化工作負載的能力</block>
  <block id="71d00a17a6d603b0b4ebb168354950db" category="list-text">能夠根據工作負載需求獨立擴充基礎架構</block>
  <block id="1722f248c3b6574ad844b53f30ac236c" category="sidebar">VMware Tanzu與NetApp合作</block>
  <block id="c9fc26b21b932419e6f167a5ef97a61a" category="sidebar">VMware Tanzu網站</block>
  <block id="8a22a6c667b205ca4e784c0364ccc5ea" category="sidebar">VMware TKG（Tanzu Kubernetes Grid）總覽</block>
  <block id="e5103defcbafcf380570238b4848f4a1" category="sidebar">VMware TKGS（Tanzu Kubernetes Grid Service）總覽</block>
  <block id="a2ec151aed88d77a34df663b329daf31" category="sidebar">VMware TKGI（Tanzu Kubernetes Grid整合版）總覽</block>
  <block id="e47703dd1fad3279269dda3b343b2272" category="sidebar">註冊您的Tanzu Kubernetes叢集</block>
  <block id="84f09994e75c5ede8e07c6ab4070faae" category="summary">本節將詳細說明交換器工作負載模擬OLTP工作負載的效能驗證和基準測試結果。</block>
  <block id="d9a4da5bae7f5f09fa9c3850a052c626" category="doc">效能驗證與基準測試結果</block>
  <block id="b944009da5cbc8c34fbaa084f3b1d385" category="inline-link-macro">先前版本：Oracle資料庫管理。</block>
  <block id="2a07c9ef23ed37175e1063bb7d752c54" category="paragraph"><block ref="2a07c9ef23ed37175e1063bb7d752c54" category="inline-link-macro-rx"></block></block>
  <block id="4e71b9ce7d16c817e38c3c0b45825062" category="paragraph">此效能驗證的目標不是設定任何標記。相反地、如果您遵循本文件所述的部署程序和最佳實務做法、您可以預期在公有雲上部署Oracle資料庫時、也會有類似的效能指標。</block>
  <block id="0215fc4537f81bbc2d6ff19ba75efeb5" category="paragraph">我們使用Swingtench銷售訂單項目（SOE）模組來模擬OLTP類型的工作負載、並將工作負載套用至部署至M5 EC2執行個體的Oracle資料庫、並在NFS傳輸協定上使用FSX儲存磁碟區。預設的Swingench SOE I/O設定檔接近80/20讀寫分割、接近真實世界的OLTP Oracle工作負載設定檔。</block>
  <block id="611831b4b814ffa8e208ff6b01e797d9" category="paragraph">增加用戶端上執行銷售訂單輸入、瀏覽、庫存查詢等作業的並行使用者數量、即可增加工作負載。測試的並行使用者數量為8、16、32、64和128位。伺服器端使用的演算法Swingtench非常繁重、無法推送合理的交易磁碟區、並測試Oracle伺服器限制。我們觀察到、在128位並行使用者中、EC2執行個體CPU使用率約達到80-90%的容量。</block>
  <block id="a5cbb12f8f9f28c970230ab16d36e184" category="paragraph">以下各節提供設定與測試結果的詳細資料。</block>
  <block id="e018eaf806fedc0fa46d2acde6f60425" category="section-title">測試環境設定</block>
  <block id="ff4adf700c0c4ba7e493af033a81ac29" category="paragraph">我們部署了EC2 M5執行個體、其中含有8vCPU、32G RAM和10Gps的網路頻寬。</block>
  <block id="2940f21a2cd7581a414576699c946a28" category="paragraph"><block ref="2940f21a2cd7581a414576699c946a28" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c5e18ca4731d9d72ae0bd4438c7e84b5" category="section-title">FSX儲存設備</block>
  <block id="dc29ebaf5cc1f622aabb0ae70efeced6" category="paragraph">我們建立了三個資料庫磁碟區、並在EC2執行個體上以NFS掛載磁碟區、如下所示：</block>
  <block id="829e4dfdaee315e0cfdba47e5047adf7" category="list-text">/u01 - Oracle二進位檔</block>
  <block id="5853f5304485ce536b44cd0dfb18bdbc" category="list-text">/u02 - Oracle資料檔案、控制檔</block>
  <block id="ee6ac3c6792e507ea8c5717f79c8ab46" category="list-text">/u03 - Oracle記錄檔、控制檔</block>
  <block id="363dd83f018d937efa507464961997c5" category="paragraph">我們保留兩份關鍵控制檔的複本、以提供備援功能。</block>
  <block id="009187ce6b03d07047e46c6ed738f305" category="paragraph"><block ref="009187ce6b03d07047e46c6ed738f305" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f9c8184a7a7a9ecb63af93d93759b393" category="paragraph">FSX檔案系統的IOPS容量設定為80、000、I/O處理量則為2GiBps。</block>
  <block id="3570146db42993029d30dbd022107030" category="section-title">Oracle組態</block>
  <block id="9daecb8faf1751109e100894205a6aef" category="paragraph">我們安裝Oracle 19c版搭配RU修補程式19.8。已在伺服器上啟用DNFS。</block>
  <block id="9041eebdfc5395440a43baff789c663b" category="paragraph">資料庫部署為具有三個PDF的容器化資料庫。我們使用一個pdb執行個體進行效能測試。下圖顯示NFS掛載點上的Oracle儲存設備規模。</block>
  <block id="9ae30014c647d5fd5e38a292d1061810" category="paragraph"><block ref="9ae30014c647d5fd5e38a292d1061810" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8da929e8cdb57e8ea66260e3f7090d35" category="section-title">Swingtench組態</block>
  <block id="6af00d716d36ee74995307e004b66d3f" category="paragraph">我們在配備8vCPU和32G RAM的Windows主機上部署了Swingench 2.6（最新版本）。我們使用SOE PLSQL測試模組第2版作為基準測試。預設負載設定檔提供80/20讀寫比率、以模擬真實世界的OLTP交易工作負載。</block>
  <block id="5850fdbd1ed0c58b02c8d3797381e7c6" category="paragraph">我們使用的架構規模係數為50、提供160G和30G的初始資料負載大小、以供臨時空間配置之用。在這個規模因素下、SOE架構提供1000個倉儲、以及5千萬個客戶來模擬線上訂單處理。</block>
  <block id="9bc139569eaa30f1804b313d21ab69fa" category="paragraph">下列螢幕擷取畫面示範了來自Swingench Windows UI的工作負載設定檔和一般交易執行數據。</block>
  <block id="4da81979345d8adfb02c96de8993662a" category="paragraph"><block ref="4da81979345d8adfb02c96de8993662a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5531d1590836e811c3ace97db7e230eb" category="paragraph">如圖所示、交易層級在整個測試執行期間維持在相同層級。</block>
  <block id="6c805c8ead51e13766957cbda36fd2c0" category="section-title">測試結果分析</block>
  <block id="54f9f904b574caddc93a83f3057be251" category="paragraph">我們擷取每次測試執行的Swingtench結果、並取得對應的Oracle AWR報告以進行效能分析。</block>
  <block id="9126019861ad7339333760b7b3bd5174" category="paragraph">從終端使用者方面來看、我們檢視了交易量和使用者回應時間等關鍵指標。這兩項指標都顯示、只要同時登入系統的使用者人數、以及使用者輸入訂單後、完成交易和接收回應的速度、使用者就能從銷售訂單輸入系統執行多少筆交易。</block>
  <block id="809217313025f03af0a774770ed7688d" category="paragraph">從Oracle伺服器端、我們剖析了Oracle AWR報告、以判斷可能會減緩使用者交易速度的等候事件排行。前10大Oracle等待事件指出、在執行Swingbench模擬交易測試期間、Oracle伺服器大多與「db檔案連續讀取」所花費的資料庫時間分別有50%到60%。「記錄檔同步」也是造成影響的因素、因為交易提交會導致Oracle記錄程序將記錄I/O從緩衝區快取清除到磁碟上的記錄檔、雖然這是資料庫時間百分比層級的較小因素。</block>
  <block id="4da3501ef8d9ebc196009ef0bf4e4360" category="paragraph">我們會根據交易執行期間的並行使用者數量、記錄使用者交易量、使用者回應時間和Oracle等待次數。結果如下所示：</block>
  <block id="911fadede55cdf4e5db896695fd4f9c3" category="paragraph"><block ref="911fadede55cdf4e5db896695fd4f9c3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b225219fb0a32b17f3f7f3964edfa599" category="paragraph">這些結果顯示、我們可以持續增加使用者交易磁碟區、同時增加並行使用者的數量、同時維持一致低I/O延遲和使用者回應時間、這對於Oracle應用程式來說是適當的效能。</block>
  <block id="ccc7b98ab0c81e5b7e4033e88910e92e" category="paragraph">當我們同時達到128位使用者時、I/O延遲和使用者回應時間開始稍微增加。這是因為EC2執行個體即將達到完整的伺服器容量、如下圖所示：</block>
  <block id="0cc8a57e10ae7e4e152d74423527f2f0" category="paragraph"><block ref="0cc8a57e10ae7e4e152d74423527f2f0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="faf8392c1e8a1c488f303b45f48fd31d" category="paragraph">同樣地、下圖也顯示了當時完成使用者交易磁碟區的對應FSXIOPS和處理量。</block>
  <block id="a18559304ff06a743412352fbfb82b00" category="paragraph"><block ref="37451e9b66358e4a66c6a1b882f378a1" category="inline-image-macro-rx" type="image"></block>
<block ref="b0d8c670dcd70932cfb6876c97b62036" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0d8430502705720b257f565ec9140e72" category="inline-link-macro">Oracle資料庫部署的考量因素。</block>
  <block id="b25a4c32c9b6cc39890fa799e15301dc" category="paragraph">當Oracle伺服器EC2執行個體成為限制因素時、我們並未達到以IOPS或處理量為單位的已配置FSX儲存容量。因此、您必須根據使用者應用程式層級的交易磁碟區、適當調整運算和儲存容量、如本節所示 <block ref="fa519ff010063f0b425f11c556e4445d" category="inline-link-macro-rx"></block></block>
  <block id="fefc87f11b675de356ca673f3a346ac7" category="inline-link-macro">下一步：資料庫移轉。</block>
  <block id="8996ba3a1cc79692db90ae4be7ef8dd3" category="paragraph"><block ref="8996ba3a1cc79692db90ae4be7ef8dd3" category="inline-link-macro-rx"></block></block>
  <block id="c739a7ae4891c6665d1f2f715d2efa3f" category="paragraph"><block ref="c739a7ae4891c6665d1f2f715d2efa3f" category="inline-link-macro-rx"></block></block>
  <block id="ca449b8ca808c6d325abf6b1a047318c" category="paragraph">下列架構圖表說明使用FSX儲存服務、在AWS EC2執行個體上部署高可用度的Oracle資料庫。類似的部署方案、但在不同地區的待機模式下、可以設定災難恢復。</block>
  <block id="228488653f80c4dfe7bd79d5f9634ea4" category="paragraph">另一方面、FSXVolume上的Oracle資料庫儲存設備則是透過AWS FSX主控台或CLI進行部署。Oracle二進位、資料或記錄磁碟區隨後會出現在EC2執行個體Linux主機上、並加以掛載。根據所採用的基礎儲存傳輸協定、每個資料或記錄磁碟區都可以配置多個LUN。</block>
  <block id="be571c48040d6c3bf764ba40188888d2" category="paragraph">提供Oracle資料庫時間點還原工作流程、或視需要在主要或待命區域進行資料庫複製。SnapCenter透過SnapCenter SUI、您可以設定Oracle資料庫備份與複寫至待命的FSX儲存設備、以便根據RTO或RPO目標、達到高可用度或災難恢復。</block>
  <block id="be22c0b35f58a932be14c9e55b163ac4" category="paragraph">此解決方案提供的替代程序、可提供與Oracle RAC和Data Guard部署類似的功能。</block>
  <block id="72db8e2a11aee3fd6b5ea401c9adcbd6" category="inline-link-macro">下一步：部署程序。</block>
  <block id="f3b25b37995dab3a1b6c753dd74ca21e" category="summary">本節將詳細說明AWS RDS Custom for Oracle資料庫如何透過SnapCenter 支援AWS UI來管理、以作為AWS RDS主控台UI的補充說明。</block>
  <block id="39ebdf3133bce223758100b117a98e70" category="inline-link-macro">先前：部署程序。</block>
  <block id="cac2d984db56d4f9cd9b1f85b3cf0c5c" category="paragraph"><block ref="cac2d984db56d4f9cd9b1f85b3cf0c5c" category="inline-link-macro-rx"></block></block>
  <block id="cf8b301cbf8aa698c578ff1f8e64ccc2" category="paragraph">除了AWS EC2和FSX管理主控台之外、我們SnapCenter 也部署Ansible控制節點和the SUI工具、以便在此Oracle環境中進行資料庫管理。</block>
  <block id="ab1b9a020f08729c00ecee14e5a3be69" category="paragraph">Ansible控制節點可用來管理Oracle環境組態、並可透過平行更新來同步主要和待命執行個體、以進行核心或修補程式更新。容錯移轉、重新同步及容錯回復均可透過NetApp Automation Toolkit自動化、以Ansible來歸檔快速的應用程式恢復與可用度。有些可重複執行的資料庫管理工作可使用教戰手冊來減少人為錯誤。</block>
  <block id="53bd53a68bce8fe697a7455feae3861b" category="inline-link-macro">適用於Oracle資料庫的插件總覽SnapCenter</block>
  <block id="8dad283458f149f04a674f7c674818ed" category="paragraph">使用適用於Oracle資料庫的支援程式、即可執行資料庫Snapshot備份、時間點還原、資料庫複製等作業。SnapCenter SnapCenter如需Oracle外掛程式功能的詳細資訊、請參閱 <block ref="053f091ffb001fc31a47d30bc3d11350" category="inline-link-macro-rx"></block>。</block>
  <block id="c165a519b858dc997da23262308d6463" category="paragraph">以下各節將詳細說明如何使用SnapCenter 這個功能來實現Oracle資料庫管理的關鍵功能：</block>
  <block id="95154aa7c50b812d3683b6995bed8771" category="list-text">資料庫快照備份</block>
  <block id="b055b8a9cd44d5f8e1fa330c20aa1dc3" category="list-text">資料庫時間點還原</block>
  <block id="20f913ca57379280e5f37dce9cd0de61" category="list-text">建立資料庫複製</block>
  <block id="e724243c3ef9e2c58168b76f3f537412" category="paragraph">資料庫複製會在個別EC2主機上建立主要資料庫的複本、以便在發生邏輯資料錯誤或毀損時進行資料還原、而複本也可用於應用程式測試、偵錯、修補程式驗證等作業。</block>
  <block id="418768c00fe9ab38a23d8417250d676b" category="section-title">拍攝快照</block>
  <block id="c018c634b9245f8522eaf32d3fffaa7a" category="paragraph">EC2/FSX Oracle資料庫會定期備份、時間間隔由使用者設定。使用者也可以隨時進行一次性快照備份。這適用於完整資料庫快照備份、以及僅歸檔記錄的快照備份。</block>
  <block id="0a1758b0d7a64bf446ccd6c9ea2a559d" category="section-title">擷取完整的資料庫快照</block>
  <block id="6aa82df330acc0ad1c1859bf7d19d8c6" category="paragraph">完整的資料庫快照包含所有Oracle檔案、包括資料檔案、控制檔和歸檔記錄檔。</block>
  <block id="71a81fc61b4bde806ab23dbb0dff87ab" category="list-text">登入SnapCenter 到這個功能表、然後按一下左側功能表中的「Resources（資源）」。從「檢視」下拉式清單中、變更為「資源群組」檢視。</block>
  <block id="097f9e0f1d7d03a8b8db3110da618df1" category="paragraph"><block ref="097f9e0f1d7d03a8b8db3110da618df1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3a16fe4e102f4f80c9a0ebe875e00921" category="list-text">按一下完整備份資源名稱、然後按一下「立即備份」圖示以啟動附加的備份。</block>
  <block id="b157c6d0dbf1f6fc8e66e048cdf587dc" category="paragraph"><block ref="b157c6d0dbf1f6fc8e66e048cdf587dc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c41836f211ec5f0aee4024039682c6d3" category="list-text">按一下「備份」、然後確認備份以開始完整的資料庫備份。</block>
  <block id="de38ecf82e29f57be2cb258095500ffc" category="paragraph"><block ref="de38ecf82e29f57be2cb258095500ffc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5114009902f821226811cd39b519e8ae" category="paragraph">從資料庫的「資源」檢視中、開啟「資料庫管理備份複本」頁面、確認一次性備份已成功完成。完整資料庫備份會建立兩個快照：一個用於資料磁碟區、另一個用於記錄磁碟區。</block>
  <block id="23c2c3d9fc4ea06c4f1744caa77dd75f" category="paragraph"><block ref="23c2c3d9fc4ea06c4f1744caa77dd75f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="dc2bc8e691b80fc2b94cd487cd59a41e" category="section-title">擷取歸檔記錄快照</block>
  <block id="c2a2cc866aaa30cb6344e65c853429a7" category="paragraph">歸檔記錄快照只會針對Oracle歸檔記錄磁碟區執行。</block>
  <block id="973f07a93ca1636baa391407a84cb38b" category="list-text">登入SnapCenter 到「資源」UI、然後按一下左側功能表列中的「資源」索引標籤。從「檢視」下拉式清單中、變更為「資源群組」檢視。</block>
  <block id="47f0395291ce13022063147f4981f69f" category="list-text">按一下記錄備份資源名稱、然後按一下「立即備份」圖示、針對歸檔記錄啟動附加的備份。</block>
  <block id="1417f1fbdcb104994815efb345497300" category="paragraph"><block ref="1417f1fbdcb104994815efb345497300" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b8ee5a2ad5f43fcd955b6b30854d2f98" category="list-text">按一下「備份」、然後確認備份以開始備份歸檔記錄。</block>
  <block id="03cb3b3b0da0531d726d5e6b4af1920c" category="paragraph"><block ref="03cb3b3b0da0531d726d5e6b4af1920c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="40cffcacb55d81916f38114aac845d4b" category="paragraph">從資料庫的資源檢視中、開啟「資料庫管理的備份複本」頁面、確認一次性歸檔記錄備份已成功完成。歸檔記錄備份會為記錄磁碟區建立一個快照。</block>
  <block id="01422619a982004bea1ad1e237269525" category="paragraph"><block ref="01422619a982004bea1ad1e237269525" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e16045e122b02913b74ef1e8bd29d75c" category="section-title">還原至某個時間點</block>
  <block id="7d2260465121189e3f5aef56d1734e86" category="paragraph">SnapCenter型還原至某個時間點、會在同一個EC2執行個體主機上執行。完成下列步驟以執行還原：</block>
  <block id="52443d446e6aa795d8e3a08e581684cb" category="list-text">從「資源」索引標籤&gt;「資料庫」檢視中、按一下資料庫名稱以開啟資料庫備份。SnapCenter</block>
  <block id="51d148134901f85184886bb72062b2a0" category="paragraph"><block ref="51d148134901f85184886bb72062b2a0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6bc3aa5bd0c870df97abdd69ef227826" category="list-text">選取資料庫備份複本、以及所需的還原時間點。同時記下時間點對應的SCN編號。時間點還原可以使用時間或SCN來執行。</block>
  <block id="f4a16324772958025bfa77d2ed8af61e" category="paragraph"><block ref="f4a16324772958025bfa77d2ed8af61e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="acee7bbe553399023f78a7ac814d7a94" category="list-text">反白顯示記錄磁碟區快照、然後按一下「Mount（掛載）」按鈕以掛載磁碟區。</block>
  <block id="b068acd736c964d27b5833d30c220f7c" category="paragraph"><block ref="b068acd736c964d27b5833d30c220f7c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d06beb2a91e58c7e57367e901abc09fd" category="list-text">選擇要掛載記錄磁碟區的主要EC2執行個體。</block>
  <block id="94bf51064baf8263a5c7e0d6dba0f38a" category="paragraph"><block ref="94bf51064baf8263a5c7e0d6dba0f38a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f83a9f884d94d22d3c52d510a051ac90" category="list-text">驗證掛載工作是否成功完成。此外、請檢查EC2執行個體主機、查看已掛載的記錄磁碟區以及掛載點路徑。</block>
  <block id="53044f6472847053eea58f6f40258b7c" category="paragraph"><block ref="01717ad5eefdb68ab0f128386310e509" category="inline-image-macro-rx" type="image"></block>
<block ref="684c418b818adf3876d8fd9877edd90f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="12a7a64116d859fb64b3f841a43e6fac" category="list-text">將歸檔記錄從掛載的記錄磁碟區複製到目前的歸檔記錄目錄。</block>
  <block id="f57c6961965ccab84762e9b4bbdd72f0" category="list-text">返回SnapCenter 「還原資源」索引標籤&gt;「資料庫備份」頁面、反白顯示資料快照複本、然後按一下「還原」按鈕以啟動資料庫還原工作流程。</block>
  <block id="eb283dcbcce9c21f038d1985c87645da" category="paragraph"><block ref="eb283dcbcce9c21f038d1985c87645da" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5a08ce545f0f81946ee65326ff4608df" category="list-text">核取「All Datafiles（所有資料檔案）」和「Change databases state if需求時變更資料庫狀態以進行還原與還原」、然後按「Next（下一步）」。</block>
  <block id="c53b030895e9cee782d7dfcea4a679ad" category="paragraph"><block ref="c53b030895e9cee782d7dfcea4a679ad" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e589c1295b0849053e2d8cc2bbf96a1e" category="list-text">使用SCN或Time選擇所需的恢復範圍。掛載的歸檔記錄不像步驟6所示複製到目前的記錄目錄、而是可在「指定外部歸檔記錄檔位置」中列出掛載的歸檔記錄路徑以供還原。</block>
  <block id="12bfd26a9c7f1551fe3664e25975f022" category="paragraph"><block ref="12bfd26a9c7f1551fe3664e25975f022" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2f3b533a6c9cd757a311b56318115bbe" category="list-text">如有必要、請指定可執行的預先記錄。</block>
  <block id="0c61f73092ad29b6a823f67f23872ffb" category="paragraph"><block ref="0c61f73092ad29b6a823f67f23872ffb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="16a70e704c6e5104eff1adca9f951c36" category="list-text">如有必要、請指定要執行的選用後指令碼。恢復後檢查開啟的資料庫。</block>
  <block id="5e5add6f904fa1973ca9f5564c87bdab" category="paragraph"><block ref="5e5add6f904fa1973ca9f5564c87bdab" category="inline-image-macro-rx" type="image"></block></block>
  <block id="975952869f93fd5cb45acf8a19b97834" category="list-text">如果需要工作通知、請提供一個SMTP伺服器和電子郵件地址。</block>
  <block id="125beea11cb628a2850a9c3b01628d3b" category="paragraph"><block ref="125beea11cb628a2850a9c3b01628d3b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5f92d4c842e7343ab2f69eac4e3561bc" category="list-text">還原工作摘要。按一下「完成」以啟動還原工作。</block>
  <block id="0dac703b5b68b8ce38eae7f7224a3de3" category="paragraph"><block ref="0dac703b5b68b8ce38eae7f7224a3de3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0e783d4afe611873ddc32a5a59ff2078" category="list-text">驗SnapCenter 證從還原。</block>
  <block id="7cc0ed8d8b03fe709b0d004e75183201" category="paragraph"><block ref="7cc0ed8d8b03fe709b0d004e75183201" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1a6e8e06b3f3e03bdb3391888df78e46" category="list-text">從EC2執行個體主機驗證還原。</block>
  <block id="06adcc9a574fcfaa717309c54d0fc7e9" category="paragraph"><block ref="06adcc9a574fcfaa717309c54d0fc7e9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="983d6ea8d6962c3e0f9abef0c4c948f4" category="list-text">若要卸載還原記錄磁碟區、請反轉步驟4中的步驟。</block>
  <block id="ca0c306ba98701576c42d241b48d4038" category="section-title">建立資料庫複本</block>
  <block id="a8bd304fe0995bcddba8dd93a8d447a6" category="paragraph">下節說明如何使用SnapCenter 「還原複製」工作流程、從主要資料庫建立資料庫複製到備用EC2執行個體。</block>
  <block id="91956afde8e3bc7ac47e37b9821ca6f9" category="list-text">使用完整的備份資源群組、從SnapCenter 支援部取得主資料庫的完整快照備份。</block>
  <block id="023d426483e83bc3abf204154e323eba" category="paragraph"><block ref="023d426483e83bc3abf204154e323eba" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b08a0a4966d6a40934f84e0367df5124" category="list-text">從「資源」索引標籤&gt;「資料庫」檢視中、開啟要從中建立複本之主要資料庫的「資料庫備份管理」頁面。SnapCenter</block>
  <block id="f14aaf01a42159b842a496f880063869" category="paragraph"><block ref="f14aaf01a42159b842a496f880063869" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6b265d526ea8d86f13a3ee5b3df11ce5" category="list-text">將步驟4中拍攝的記錄磁碟區快照掛載到備用EC2執行個體主機。</block>
  <block id="160b6f6b07db1490de7e1252e8f6ec84" category="paragraph"><block ref="074cfbf53cae79233eac44ac8a4aa5f8" category="inline-image-macro-rx" type="image"></block>
<block ref="a75c3f795382693108f8d772396f248b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="15c2865196d70f81dd791b3329d2604e" category="list-text">反白顯示要複本複本複本的快照複本、然後按一下「Clone（複製）」按鈕以開始複製程序。</block>
  <block id="568f30b58394b2e0d4e795beb731c0eb" category="paragraph"><block ref="568f30b58394b2e0d4e795beb731c0eb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3ebc0e83f8e5d02518da0756a18aaab4" category="list-text">變更複本複本名稱、使其不同於主要資料庫名稱。按一下「下一步」</block>
  <block id="b77619cc2b53d1b603e6051036b122b6" category="paragraph"><block ref="b77619cc2b53d1b603e6051036b122b6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6ba0975a31e144349d50f09393a5ca21" category="list-text">將實體複本主機變更為備用EC2主機、接受預設命名、然後按「Next（下一步）」。</block>
  <block id="d39fd3bd4059fb775d174eef3e53919b" category="paragraph"><block ref="d39fd3bd4059fb775d174eef3e53919b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="eeda8df21c3391dcc7a327cfec8f8704" category="list-text">變更Oracle主選項設定、使其符合針對目標Oracle伺服器主機所設定的設定、然後按「Next（下一步）」。</block>
  <block id="8cb5c7c55cf01620e1eaae0dd817ad2c" category="paragraph"><block ref="8cb5c7c55cf01620e1eaae0dd817ad2c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f10b26890bad0f92387ad2c8efb9b532" category="list-text">使用時間或SCN與掛載的歸檔記錄路徑來指定還原點。</block>
  <block id="9d2a5645a731a8a3af7ee677133ba312" category="paragraph"><block ref="9d2a5645a731a8a3af7ee677133ba312" category="inline-image-macro-rx" type="image"></block></block>
  <block id="684abeacd08eb59922d70d928ce47f45" category="list-text">如有需要、請傳送SMTP電子郵件 設定。</block>
  <block id="84bb684b488190f680f548303196f5b9" category="paragraph"><block ref="84bb684b488190f680f548303196f5b9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e2cc0c6ba26bdf7b30e39313a0ad4098" category="list-text">複製工作摘要、然後按一下「Finish（完成）」以啟動複製工作。</block>
  <block id="3461ca6663823ff26ef7d3121d8592c7" category="paragraph"><block ref="3461ca6663823ff26ef7d3121d8592c7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d5cd909b2ce2e22f0bb8734426ea9e9a" category="list-text">檢閱複本工作記錄、以驗證複本複本複本複本複本。</block>
  <block id="c6c9a361716f3695e5f582cbbaf857f6" category="paragraph"><block ref="c6c9a361716f3695e5f582cbbaf857f6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="66a858d0c53f7ecef6ff665372a428c5" category="paragraph">複製的資料庫SnapCenter 會立即登錄在</block>
  <block id="8fc5846614431a858445f7c55fe6f8bf" category="paragraph"><block ref="8fc5846614431a858445f7c55fe6f8bf" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9b70fde27d9d03d393dc2fd619546988" category="list-text">關閉Oracle歸檔記錄模式。以Oracle使用者身分登入EC2執行個體、然後執行下列命令：</block>
  <block id="ca1a9785bb111fcadc4527aae18f822d" category="admonition">而非主要Oracle備份複本、也可以使用相同的程序、從目標FSX叢 集上的複寫次要備份複本建立複本。</block>
  <block id="2a75f5115dab8b39875560a4d7252d2f" category="section-title">HA容錯移轉至待機並重新同步</block>
  <block id="f5bc6d05191457096f9da00e0fa56d40" category="paragraph">備用Oracle HA叢集可在主要站台發生故障時、提供高可用度、無論是在運算層或儲存層。此解決方案的一大優點是、使用者可以隨時或以任何頻率測試及驗證基礎架構。容錯移轉可由使用者模擬或由實際故障觸發。容錯移轉程序完全相同、而且可以自動化以快速恢復應用程式。</block>
  <block id="6775249aa36196ee3d9c71774992f2c4" category="paragraph">請參閱下列容錯移轉程序清單：</block>
  <block id="eb171dc2d1f739dfee2e358326abd0e9" category="list-text">對於模擬的容錯移轉、請執行記錄快照備份、將最新的交易排清至待命站台、如一節所示 <block ref="58f2fe5f16b910e6ad4f8b3f8679e256" category="inline-xref-macro-rx"></block>。對於由實際故障觸發的容錯移轉、最後一個可恢復的資料會複寫到待命站台、最後一個成功的排程記錄磁碟區備份會被複寫到待命站台。</block>
  <block id="abdc57f5efdfeac30fe822d9eda2fc9f" category="list-text">中斷主叢集與待命FSX叢集之間的SnapMirror。</block>
  <block id="bd54ae4d51454c6a89990f066be03d35" category="list-text">在待命EC2執行個體主機上掛載複寫的待命資料庫磁碟區。</block>
  <block id="588698147b1d63f4f9f6d78dd8d83595" category="list-text">如果複寫的Oracle二進位檔用於Oracle還原、請重新連結Oracle二進位檔。</block>
  <block id="0f1ac3f743fcb2d14875c7a731c3d251" category="list-text">將備用Oracle資料庫恢復至上次可用的歸檔記錄。</block>
  <block id="ab933bdc7c043f4a3c977049791f0640" category="list-text">開啟備用Oracle資料庫以供應用程式和使用者存取。</block>
  <block id="6928cb13e9136438c86e16b724b3b64f" category="list-text">對於實際的主要站台故障、備用Oracle資料庫現在扮演新的主要站台角色、而資料庫磁碟區則可用來以反轉SnapMirror方法、將故障的主要站台重建為新的待命站台。</block>
  <block id="13e25eed8fa423975f854101e3be1e89" category="list-text">對於模擬的主要站台測試或驗證失敗、請在測試完成後關閉備用Oracle資料庫。然後從待命EC2執行個體主機卸載待命資料庫磁碟區、並重新同步從主要站台複寫至待命站台。</block>
  <block id="c3fd0f78855e219b0fd44077ce74e7b5" category="paragraph">您可以使用NetApp Automation Toolkit執行這些程序、該工具套件可從NetApp GitHub公開網站下載。</block>
  <block id="ba4d6e5d6eeea04cdc5a4f243b1e5dd8" category="paragraph">在嘗試設定和容錯移轉測試之前、請先仔細閱讀README說明。</block>
  <block id="7d34df46082e5771e092eb8736597ee0" category="summary">本節說明部署Oracle RDS自訂資料庫搭配FSX儲存設備的程序。</block>
  <block id="072a1cb4963593f78b428b4c9a0dcc4f" category="inline-link-macro">先前版本：解決方案架構。</block>
  <block id="ef081c8f35bca2da08c6dbdd6f48a6cd" category="paragraph"><block ref="ef081c8f35bca2da08c6dbdd6f48a6cd" category="inline-link-macro-rx"></block></block>
  <block id="f70ec60e40ece5900605229a28081b13" category="section-title">透過EC2主控台部署Oracle的EC2 Linux執行個體</block>
  <block id="03d6d2463e27b63c2d7f7ad0e62697af" category="paragraph">如果您是AWS新手、首先需要設定AWS環境。AWS網站登陸頁面上的文件索引標籤提供EC2指示連結、說明如何部署Linux EC2執行個體、以便透過AWS EC2主控台來裝載Oracle資料庫。下一節是這些步驟的摘要。如需詳細資料、請參閱連結的AWS EC2特定文件。</block>
  <block id="e1fc23220db46fe659667702f62b75e4" category="section-title">設定AWS EC2環境</block>
  <block id="6d0669826a2bd6e9eb35ea7e89cbe3f4" category="paragraph">您必須建立AWS帳戶、以配置必要的資源、以便在EC2和FSX服務上執行Oracle環境。下列AWS文件提供必要的詳細資料：</block>
  <block id="2966cbe914210fb4f4a3e5fe6adf4762" category="inline-link-macro">設定使用Amazon EC2</block>
  <block id="1e4a01fe43fb3542c08649e20440f5f1" category="list-text"><block ref="1e4a01fe43fb3542c08649e20440f5f1" category="inline-link-macro-rx"></block></block>
  <block id="df6ca3590d3bec198846463f0ef1c6a8" category="paragraph">主要主題：</block>
  <block id="74122bb32fc969b565a8b132d4178581" category="list-text">註冊AWS。</block>
  <block id="fe536eddec5cc1d661347011844ba132" category="list-text">建立金鑰配對。</block>
  <block id="6582688edf89986f408a52095794f65b" category="list-text">建立安全性群組。</block>
  <block id="c78747962ae12e635749aa6b08a4da09" category="section-title">在AWS帳戶屬性中啟用多個可用度區域</block>
  <block id="2d5ade6857f59cf6d198344d5049da40" category="paragraph">如架構圖所示、對於Oracle高可用度組態、您必須在一個區域中啟用至少四個可用度區域。多個可用度區域也可位於不同區域、以符合災難恢復所需的距離。</block>
  <block id="b6067af8a0645a7009ccfb45c5271f1e" category="paragraph"><block ref="b6067af8a0645a7009ccfb45c5271f1e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8faa9e48d0380a023114890a62861d0f" category="section-title">建立及連線至EC2執行個體、以裝載Oracle資料庫</block>
  <block id="82499151e189f9313aa1450e912f4ffd" category="inline-link-macro">Amazon EC2 Linux執行個體入門</block>
  <block id="822fd31d54c32c4886e9010d12a8dce7" category="paragraph">請參閱教學課程 <block ref="6d0a9d65d170226042c573685041d5e9" category="inline-link-macro-rx"></block> 以取得逐步部署程序和最佳實務做法。</block>
  <block id="a15c0d1773407cc677a49f4cc169a63c" category="list-text">總覽：</block>
  <block id="4d99c712f714ff14ae3b251667dda4b2" category="list-text">先決條件：</block>
  <block id="67b035efef4b92412bb7a8a903121da6" category="list-text">步驟1：啟動執行個體。</block>
  <block id="6640566c783363c8a66fe226c2a7227b" category="list-text">步驟2：連線至執行個體。</block>
  <block id="c271b00c470f8a1fb17c05dc6092d9af" category="list-text">步驟3：清理執行個體。</block>
  <block id="9e0cd4f11314aeaa31fce7e3f5960c4c" category="paragraph">下列螢幕擷取畫面示範如何使用EC2主控台部署m5型Linux執行個體、以執行Oracle。</block>
  <block id="993b6250c7c69b01670a8165c0cf949d" category="list-text">在EC2儀表板中、按一下黃色的「Launch Instance」（啟動執行個體）按鈕、即可啟動EC2執行個體部署工作流程。</block>
  <block id="37266a1d594801e15c8f2a455a3ea854" category="paragraph"><block ref="37266a1d594801e15c8f2a455a3ea854" category="inline-image-macro-rx" type="image"></block></block>
  <block id="71a4046454ceb8a1793ee0cfa14dc581" category="list-text">在步驟1中、選取「Red Hat Enterprise Linux 8（HVM）、SSD Volume Type - Ami-0b0af3577fe5e3532（64位元x86）/ Ami-01fc429821bf1f4b4（64位元ARM orbit）」。</block>
  <block id="755d0918a7bfcbc1b7541acd1235598e" category="paragraph"><block ref="755d0918a7bfcbc1b7541acd1235598e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5956dcc5f6331fe980094b6ddba4650c" category="list-text">在步驟2中、根據Oracle資料庫工作負載、選取具有適當CPU和記憶體配置的m5執行個體類型。按一下「Next：Configure Instance Details（下一步：設定執行個體詳細資料）</block>
  <block id="55898408b090c35ed97aede8b9893299" category="paragraph"><block ref="55898408b090c35ed97aede8b9893299" category="inline-image-macro-rx" type="image"></block></block>
  <block id="302a3b9b8b1d7dfc842dbfcaa5468b1a" category="list-text">在步驟3中、選擇應放置執行個體的VPC和子網路、並啟用公有IP指派。按一下「下一步：新增儲存設備」。</block>
  <block id="86ec5cd603e5f7341f3f213d5b660cbb" category="paragraph"><block ref="86ec5cd603e5f7341f3f213d5b660cbb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e421be5ecc966b1d156d7f0a6f81716a" category="list-text">在步驟4中、為根磁碟分配足夠的空間。您可能需要新增交換空間。根據預設、EC2執行個體指派零交換空間、這不是執行Oracle的最佳選擇。</block>
  <block id="5246bec51cd11bdee5a098fd3d3d5909" category="paragraph"><block ref="5246bec51cd11bdee5a098fd3d3d5909" category="inline-image-macro-rx" type="image"></block></block>
  <block id="843f8ce7ab50f800b312d3d109724de6" category="list-text">在步驟5中、視需要新增執行個體識別標記。</block>
  <block id="30a97756451355fd7db0bfd07cc6f667" category="paragraph"><block ref="30a97756451355fd7db0bfd07cc6f667" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f3ab3dbfdf3bf87e86423bcf042be111" category="list-text">在步驟6中、選取現有的安全性群組、或為執行個體建立具有所需傳入和傳出原則的新安全性群組。</block>
  <block id="bdeb5b41f7c9bee78d1e7264990c0a27" category="paragraph"><block ref="bdeb5b41f7c9bee78d1e7264990c0a27" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6232d41ab5791353e400740b1c677c4b" category="list-text">在步驟7中、檢閱執行個體組態摘要、然後按一下「啟動」以開始執行個體部署。系統會提示您建立金鑰配對、或選取金鑰配對以存取執行個體。</block>
  <block id="fdd8bffe3363802212b12c3b1a7626da" category="paragraph"><block ref="8dc5efc0ebc99dc3e7017ef07cffd6c3" category="inline-image-macro-rx" type="image"></block>
<block ref="ea979786416bbc8ec09d933e3d57cfc7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="640d800543e4acd4be5582f719fe45e6" category="list-text">使用SSH金鑰配對登入EC2執行個體。視需要變更金鑰名稱和執行個體IP位址。</block>
  <block id="69321a8301f0cb7557529f92163852a6" category="paragraph">如架構圖所示、您需要在指定的可用度區域中建立兩個EC2執行個體做為主要和備用Oracle伺服器。</block>
  <block id="de55d86dd430c134cc875c8122ebfd71" category="section-title">為ONTAP Oracle資料庫儲存設備配置FSXfor Sf還原 檔案系統</block>
  <block id="2a0b48da85066bd283380f9313f9cd2f" category="paragraph">EC2執行個體部署會為作業系統配置EBS根Volume。FSX for ONTAP the FSfor the FSfor the FSfor the f2檔案系統提供Oracle資料庫儲存磁碟區、包括Oracle二進位、資料和記錄磁碟區。FSX儲存NFS磁碟區可從AWS FSX主控台或Oracle安裝進行資源配置、並可根據使用者在自動化參數檔中設定的方式、配置自動化功能來配置磁碟區。</block>
  <block id="3560913f6885261f7b64e7cfeea69eab" category="section-title">為SfSX. ONTAP 檔案系統建立FSX</block>
  <block id="db188150cd7e1fbc9cfd2bc034c7b4bb" category="inline-link">管理FSXfor ONTAP Sf1檔案系統</block>
  <block id="3b46f3b2334f11bf806517b04969429a" category="paragraph">請參閱本文件<block ref="eea1efb396f41a443a43d43b53db120b" category="inline-link-rx"></block> 用於建立FSXfor ONTAP Sf供 檔案系統使用。</block>
  <block id="f992b6bed702bc01496187fcaec0b8c6" category="paragraph">主要考量：</block>
  <block id="c6d0abeaa6d014ec6632e6b8493487d2" category="list-text">SSD儲存容量：最小1024 GiB、最大192 TiB。</block>
  <block id="2b410cef067f8cb6a53d05ad2271439b" category="list-text">已配置的SSD IOPS。根據工作負載需求、每個檔案系統最多可有80、000個SSD IOPS。</block>
  <block id="3ab61d0f90da3f61b5741ceb5eb191cc" category="list-text">處理量容量：</block>
  <block id="94412c99e275ca9b650dc655a6e69119" category="list-text">設定系統管理員fsxadmin/vsadmin密碼。FSX組態自動化所需。</block>
  <block id="c9de3d23d86cd04ff4ebf9b1458d70c4" category="list-text">備份與維護：停用自動每日備份；資料庫儲存備份是透過SnapCenter 循環排程來執行。</block>
  <block id="b2ad37d85471ba4bcaf2c2141b1a576d" category="list-text">從SVM詳細資料頁面擷取SVM管理IP位址以及特定於傳輸協定的存取位址。FSX組態自動化所需。</block>
  <block id="da6dd59d1114c8c42782cf7be16609b7" category="paragraph"><block ref="da6dd59d1114c8c42782cf7be16609b7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="15d09dd6ced339d4022eb28264e99543" category="paragraph">請參閱下列逐步程序、以設定主要或待命的HA FSX叢集。</block>
  <block id="b2232ae7fcc8b0c89d7c5f62a079a0f9" category="list-text">從FSX主 控台、按一下Create File System（建立檔案系統）以啟動FSXProvision工作流程。</block>
  <block id="97a3753a6b826d3f7027a60fbc138cac" category="paragraph"><block ref="97a3753a6b826d3f7027a60fbc138cac" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8863368642c82b76b987f6f94659021d" category="list-text">選擇Amazon FSX for NetApp ONTAP 。然後按「Next（下一步）」</block>
  <block id="064467bccc8ccdcdddef0abbcb9694e0" category="paragraph"><block ref="064467bccc8ccdcdddef0abbcb9694e0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6a4912f49d35e15fbe2d9881db397feb" category="list-text">選取「Standard Create（標準建立）」、然後在「File System Details（檔案系統詳細資料）」中命名您的檔案系統、「Multi-AZ HA（多AZ HA）」根據您的資料庫工作負載、選擇自動或使用者自行配置的IOPS、最高可達80、000個SSD IOPS。FSX儲存設備在後端提供高達2TiB NVMe快取、可提供更高的測量IOPS。</block>
  <block id="989e0e2825ffa339331f1712bf630fb4" category="paragraph"><block ref="989e0e2825ffa339331f1712bf630fb4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="463daf4dcf56c33aa1c738fb16d15a27" category="list-text">在「網路與安全性」區段中、選取VPC、安全性群組和子網路。應在部署FSX之前建立這些項目。根據FSX叢集（主要或待命）的角色、將FSX儲存節點置於適當的區域中。</block>
  <block id="3e99b854fb0db94f93ca0ee83bec339a" category="paragraph"><block ref="3e99b854fb0db94f93ca0ee83bec339a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="461a86bccdfc4b32cbc62af43ea97bb3" category="list-text">在「Security &amp; Encryption（安全與加密）」區段中、接受預設值、然後輸入fsxadmin密碼。</block>
  <block id="82d80f8b6e156fcc9a64215b60433630" category="paragraph"><block ref="82d80f8b6e156fcc9a64215b60433630" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5e500f789aeb2255be7988000eaff0e8" category="list-text">輸入SVM名稱和vsadmin密碼。</block>
  <block id="84f414cec0c77118741eb2dde6127c3b" category="paragraph"><block ref="84f414cec0c77118741eb2dde6127c3b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="979fcc33806fd9594ae032fb4fe33c03" category="list-text">將Volume組態保留空白、此時您不需要建立Volume。</block>
  <block id="9cc80fc34e28347ad7a346e723ff34ac" category="paragraph"><block ref="9cc80fc34e28347ad7a346e723ff34ac" category="inline-image-macro-rx" type="image"></block></block>
  <block id="18c8eecfeb7f2ef5acbe5fe3fc1eb398" category="list-text">檢閱「Summary（摘要）」頁面、然後按一下「Create File System（建立檔案系統）」以完成FSX檔案系統配置。</block>
  <block id="992da039cb86b69379ac2a507ea018b2" category="paragraph"><block ref="992da039cb86b69379ac2a507ea018b2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="edbcb61873336784ce88a841052fa45e" category="section-title">為Oracle資料庫配置資料庫Volume</block>
  <block id="2dd5d229a6d07b62ae8943394f3a9a05" category="inline-link-macro">管理FSXfor ONTAP Sfor SfVolumes -建立Volume</block>
  <block id="846568a6ddb0b9c5539e3bffbecefada" category="paragraph">請參閱 <block ref="031a801f4fdac5974fa88d05f1809883" category="inline-link-macro-rx"></block> 以取得詳細資料。</block>
  <block id="ca3a40f13fd000ce8baf0adbf73ee561" category="list-text">適當調整資料庫磁碟區大小。</block>
  <block id="383e4b0acf358da05802b9571408fa27" category="list-text">停用效能組態的容量集區分層原則。</block>
  <block id="086994099a77453bffc426910b6c783b" category="list-text">為NFS儲存磁碟區啟用Oracle DNFS。</block>
  <block id="814d7476ebeabfd3208ed0432cb5ea38" category="list-text">設定iSCSI儲存磁碟區的多重路徑。</block>
  <block id="398cf8d5f0d4c7da2b945809849b5105" category="section-title">從FSX主控台建立資料庫Volume</block>
  <block id="6afbf36a53c717018bd3d99a6d735c98" category="paragraph">從AWS FSX主控台、您可以建立三個用於Oracle資料庫檔案儲存的磁碟區：一個用於Oracle二進位、一個用於Oracle資料、一個用於Oracle記錄。請確定Volume命名符合Oracle主機名稱（定義於自動化工具套件的hosts檔案）、以便正確識別。在此範例中、我們使用db1做為EC2 Oracle主機名稱、而非EC2執行個體的一般IP位址型主機名稱。</block>
  <block id="a732ebfc126f02de82d9e2cb4cba3b30" category="paragraph"><block ref="680b0ab2cf542daf748f396bdb970bee" category="inline-image-macro-rx" type="image"></block>
<block ref="7cf576b202936b23771e87094082b21e" category="inline-image-macro-rx" type="image"></block>
<block ref="9a3c4da48152c48ddee14308524b2023" category="inline-image-macro-rx" type="image"></block></block>
  <block id="05980643a3cf9b987fd426669d474257" category="admonition">FSX主控台目前不支援建立iSCSI LUN。對於Oracle的iSCSI LUN部署、磁碟區和LUN可以使用ONTAP NetApp Automation Toolkit for Oracle來建立。</block>
  <block id="09ee5fa03999e48e0789df07dd602d40" category="section-title">在EC2執行個體上使用FSX資料庫Volume安裝及設定Oracle</block>
  <block id="9f92271be71e4bc6eb96033a9ca6d798" category="paragraph">NetApp自動化團隊提供自動化套件、可根據最佳實務做法、在EC2執行個體上執行Oracle安裝與組態。目前版本的自動化套件支援使用預設RU修補程式19.8的NFS上的Oracle 19c。如有需要、自動化套件可輕鬆調整以供其他RU修補程式使用。</block>
  <block id="61790d4e19b846282d97e8ceb58e84e0" category="section-title">準備Ansible控制器以執行自動化</block>
  <block id="20f3b4bca246eb128d1c7a63ca954276" category="paragraph">請依照「<block ref="9331131dd8a4a5b5cf5956c248324151" category="inline-xref-macro-rx"></block>」以配置小型EC2 Linux執行個體來執行Ansible控制器。不必使用RedHat、Amazon Linux T2.Large搭配2vCPU和8G RAM就足夠了。</block>
  <block id="6d42906c67a4432124b27f032f56e4dc" category="section-title">擷取NetApp Oracle部署自動化工具套件</block>
  <block id="7beb3cf1c62df8d836bddc0d2b6a3e57" category="paragraph">以EC2-user身分登入步驟1配置的EC2 Ansible控制器執行個體、並從EC2-user主目錄執行「git clone」命令、以複製自動化程式碼的複本。</block>
  <block id="49130c144c12238cfeca4888e29fbef6" category="section-title">使用自動化工具套件執行自動化Oracle 19c部署</block>
  <block id="ad5d9ee07a5238092f01b66ae1b4ecca" category="paragraph">請參閱這些詳細指示 <block ref="1d838bac5e7032e3241598fe6496fbd6" category="inline-link-macro-rx"></block> 以CLI自動化部署Oracle 19c。由於您使用SSH金鑰配對、而非主機存取驗證的密碼、因此執行方針的命令語法有小幅變更。下列清單為高階摘要：</block>
  <block id="dc8e3956f25fc431225feacc016616b5" category="list-text">依預設、EC2執行個體會使用SSH金鑰配對來進行存取驗證。從Ansible控制器自動化根目錄「/home/EC2-user/na_oracle19c_deploy」和「/home/EC2-user/na_RDS_FSx_oranfs_config」、複製在步驟中部署之Oracle主機的SSH金鑰「存取stkey.pem」。<block ref="9331131dd8a4a5b5cf5956c248324151" category="inline-xref-macro-rx"></block>。」</block>
  <block id="9391c5feaa671121befe114951f00442" category="list-text">以EC2-user身分登入EC2執行個體DB主機、然後安裝python3程式庫。</block>
  <block id="03c10a897f1e18c6adaea250b9f30f19" category="inline-link-macro">如何使用交換檔、在Amazon EC2執行個體中將記憶體配置為交換空間？</block>
  <block id="85e9698f3736149506cd49ab88086364" category="list-text">從根磁碟機建立16G交換空間。依預設、EC2執行個體會建立零交換空間。請遵循以下AWS文件： <block ref="53c9867a131506eab4afe1a1678bb974" category="inline-link-macro-rx"></block>。</block>
  <block id="be82130abf6bfa8956a5648b39ad4aa8" category="list-text">返回Ansible控制器（「CD /home/EC2-user/na_RDS_FSx_oranfs_config」）、然後執行具有適當要求和「Linux組態」標記的預複製播放手冊。</block>
  <block id="83e233b8fca25fb162266daf344246e4" category="list-text">切換至「home/EC2-user/na_oracle19c_deploy主機」目錄、閱讀README檔案、然後使用相關的全域參數填入全域「vars.yml」檔案。</block>
  <block id="aed4b8eabfef5056093412d8609b5b9a" category="list-text">在「host_name.yml」檔案中填入「host_vars」目錄中的相關參數。</block>
  <block id="4b8d8efa08e1060a3db2c7693c4de645" category="list-text">執行Linux的方針、並在提示輸入vsadmin密碼時按Enter。</block>
  <block id="4d552f393608513441eb151998098b4a" category="list-text">執行Oracle的方針、並在提示輸入vsadmin密碼時按Enter。</block>
  <block id="af392a54b9a2464fdd334372589f1a39" category="paragraph">如有需要、請將SSH金鑰檔的權限位元變更為400。將Oracle主機（「host_vars」檔案中的「Ansiv_host」）IP位址變更為EC2執行個體公有位址。</block>
  <block id="ac52b3f8d77eb6814ddf5c761b019c22" category="section-title">在主FSX HA叢集和備用FSX HA叢集之間設定SnapMirror</block>
  <block id="3798adb983c6ffabbcf459359d5ddd4c" category="paragraph">若要獲得高可用度和災難恢復、您可以在主要和待命的FSX儲存叢集之間設定SnapMirror複寫。與其他雲端儲存服務不同的是、FSX可讓使用者以所需的頻率和複寫處理量來控制和管理儲存複寫。它也能讓使用者在不影響可用度的情況下測試HA/DR。</block>
  <block id="5414f0571ab88c4269ee945ce4291f65" category="paragraph">下列步驟說明如何在主要與待命的FSX儲存叢集之間設定複寫。</block>
  <block id="006c42f009ead3331b1f69ac1979609d" category="list-text">設定主叢集和待命叢集對等。以fsxadmin使用者身分登入主要叢集、然後執行下列命令。此對等建立程序會在主要叢集和待命叢集上執行create命令。將「tandby_cluster名稱」取代為您環境的適當名稱。</block>
  <block id="c725d46c724a573eb994f08a1f309eec" category="list-text">在主叢集與待命叢集之間設定Vserver對等。以vsadmin使用者身分登入主要叢集、然後執行下列命令。將「primary _vserver_name」、「tandby_vserver_name」、「tandby_cluster名稱」取代為適合您環境的名稱。</block>
  <block id="91ba2ff3a22b9830c626441ad69c84ce" category="list-text">確認叢集和Vserver服務已正確設定。</block>
  <block id="7b39dc0f7648c038ec8ac59504316d0e" category="paragraph"><block ref="7b39dc0f7648c038ec8ac59504316d0e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f4cb6743e20f6b87b419d9386d784acc" category="list-text">在備用FSX叢集為主要FSX叢集的每個來源Volume建立目標NFS Volume。請視您的環境而適當地取代磁碟區名稱。</block>
  <block id="8f65518a43c3a1ba084510438fa2d7d3" category="list-text">如果使用iSCSI傳輸協定進行資料存取、您也可以為Oracle二進位檔、Oracle資料和Oracle記錄建立iSCSI磁碟區和LUN。在磁碟區中保留約10%的可用空間以供快照使用。</block>
  <block id="43aea99cd4b66a7a2f8efdc090e3a5ad" category="paragraph">Vol create -volume dr_db1_log -Agggr1 -size 250g -state online -policy預設-unix-lession---rwxr-x-x -type rw</block>
  <block id="18274474e00c13f064a0b4df0b516185" category="list-text">對於iSCSI LUN、請使用二進位LUN做為範例、為每個LUN的Oracle主機啟動器建立對應。將igroup替換為適合您環境的適當名稱、並針對每個額外的LUN遞增LULUN ID。</block>
  <block id="0c2c0f6ddcbbbf39434893162abce545" category="list-text">在主資料庫磁碟區和備用資料庫磁碟區之間建立SnapMirror關係。請針對您的環境取代適當的SVM名稱</block>
  <block id="a25539ee33148e6d4880b87e1378cafe" category="paragraph">此SnapMirror設定可透過NetApp Automation Toolkit for NFS資料庫Volume自動完成。此工具組可從NetApp Public GitHub網站下載。</block>
  <block id="f9f129d1122f9209f8f27fa07a5ee4b2" category="paragraph">在嘗試設定和容錯移轉測試之前、請先仔細閱讀README說明。</block>
  <block id="03b2167f2383aa796f361c5c1c689a49" category="admonition">將Oracle二進位檔從主叢集複寫到備用叢集、可能會影響Oracle授權。請聯絡您的Oracle授權代表以取得詳細說明。另一種方法是在恢復和容錯移轉時安裝並設定Oracle。</block>
  <block id="fa697481d9c5655bd57d6ee69f0e9f07" category="section-title">部署SnapCenter</block>
  <block id="3f4b23cd1391b97e8a33f3973471103b" category="section-title">安裝SnapCenter</block>
  <block id="4c88778182d61374292e3c4ad43ae50e" category="inline-link-macro">安裝SnapCenter 此伺服器</block>
  <block id="282e73196d7c89bb5ec3820592ecee7c" category="paragraph">追蹤 <block ref="9cac1dd5d049b670d2cd847d9e42d30c" category="inline-link-macro-rx"></block> 安裝SnapCenter 伺服器。本文件說明如何安裝獨立SnapCenter 式的伺服器。SaaS版本SnapCenter 的功能正在測試版中、很快就可以取得。如有需要、請洽詢您的NetApp代表以瞭解可用度。</block>
  <block id="a4c2182f79a7834db47fccf9c264332d" category="section-title">設定SnapCenter EC2 Oracle主機的支援外掛程式</block>
  <block id="8d0edf4e55e8bc1a96862466762dcdd6" category="list-text">自動SnapCenter 安裝完成後、SnapCenter 以管理使用者身分登入安裝SnapCenter 了該伺服器的Windows主機。</block>
  <block id="27ee26e15e1da051ff520bf3f87f2a03" category="paragraph"><block ref="27ee26e15e1da051ff520bf3f87f2a03" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4af2386526da94f1d101d825c0a623e0" category="list-text">在左側功能表中、按一下「設定」、然後按一下「認證」和「新增」、以新增EC2使用者認證、以利SnapCenter 安裝程式。</block>
  <block id="252932f5140410e8d8795c4236e41b47" category="paragraph"><block ref="252932f5140410e8d8795c4236e41b47" category="inline-image-macro-rx" type="image"></block></block>
  <block id="37fc637fcb7f9b2e4336350dd7d4775e" category="list-text">在EC2執行個體主機上編輯「/etc/ssh / ssshd_config」檔案、以重設EC2使用者密碼並啟用密碼SSH驗證。</block>
  <block id="c1e0ecc2d0f187a040af9ef1e783314d" category="list-text">確認已選取「使用Sudo權限」核取方塊。您只要在上一步中重設EC2使用者密碼即可。</block>
  <block id="cc57c2c5394de6466406382d198ba244" category="paragraph"><block ref="cc57c2c5394de6466406382d198ba244" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c3326cea52418b74168243fb56340785" category="list-text">將SnapCenter 支援服務器名稱和IP位址新增至EC2執行個體主機檔案、以進行名稱解析。</block>
  <block id="59c8e627359bc3d4ce92126cbb1356cc" category="list-text">在Windows主機上、將EC2執行個體主機IP位址新增至Windows主機檔案「C：\Windows \System32\drivers\etc\hosts」SnapCenter 。</block>
  <block id="4f91fe76ef9595ef98ee3b0c06a43160" category="list-text">在左側功能表中、選取主機&gt;託管主機、然後按一下新增、將EC2執行個體主機新增SnapCenter 至支援中心。</block>
  <block id="a5714b50c71edc910f423bfdc433d799" category="paragraph"><block ref="a5714b50c71edc910f423bfdc433d799" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fb20727c22e9cab381fd0cd7e817ab85" category="paragraph">檢查Oracle資料庫、然後在提交之前、按一下「More Options（更多選項）」。</block>
  <block id="7fab569defa89099ea4c5d28723e2031" category="paragraph"><block ref="7fab569defa89099ea4c5d28723e2031" category="inline-image-macro-rx" type="image"></block></block>
  <block id="43e249b54031e8a30915659857356cab" category="paragraph">核取「跳過預先安裝檢查」。確認略過預先安裝檢查、然後按一下「儲存後提交」。</block>
  <block id="3d82631a68b3ec0960761342005b2eca" category="paragraph"><block ref="3d82631a68b3ec0960761342005b2eca" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7d66b31e61ce12ed5022484588882f5f" category="paragraph">系統會提示您確認指紋、然後按一下「確認並提交」。</block>
  <block id="795d864d6ec7d5ca3d8c36c9a83bba6e" category="paragraph"><block ref="795d864d6ec7d5ca3d8c36c9a83bba6e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="99177ab734274d9f5f703761e4b2deef" category="paragraph">成功完成外掛程式組態之後、託管主機的整體狀態會顯示為執行中。</block>
  <block id="1fa50503e60bc51f7dea31d9e91c9c20" category="paragraph"><block ref="1fa50503e60bc51f7dea31d9e91c9c20" category="inline-image-macro-rx" type="image"></block></block>
  <block id="112fdeb0eaa93f627cf0effc06f49c76" category="section-title">設定Oracle資料庫的備份原則</block>
  <block id="30baaa9bedea395f88f6183eda043198" category="paragraph">請參閱本節 <block ref="5b001af64dcc5050a16c7369f5f2fae2" category="inline-link-macro-rx"></block> 以取得有關設定Oracle資料庫備份原則的詳細資訊。</block>
  <block id="6bfb2a8edb5f9cfb06059a588dda9cc0" category="paragraph">一般而言、您需要建立完整快照Oracle資料庫備份的原則、以及Oracle僅歸檔記錄快照備份的原則。</block>
  <block id="708ae75a87a6997af6838bc2e5149a28" category="admonition">您可以在備份原則中啟用Oracle歸檔記錄剪除、以控制記錄歸檔空間。請在「Select二線複寫選項」中勾選「建立本機Snapshot複本之後更新SnapMirror」、因為您需要複寫到HA或DR的待命位置。</block>
  <block id="acea2698961ae21a708203b9a9b86b94" category="section-title">設定Oracle資料庫備份與排程</block>
  <block id="56f3e355b3a4359c9a0808d978ca484c" category="paragraph">使用者可自行設定使用者在中的資料庫備份SnapCenter 、並可個別設定或在資源群組中設定群組。備份時間間隔取決於RTO和RPO目標。NetApp建議您每隔幾小時執行一次完整資料庫備份、並以較高的頻率（例如10-15分鐘）歸檔記錄備份、以便快速恢復。</block>
  <block id="cd6290f31cba79c826366f0927d0dc94" category="paragraph">請參閱的Oracle一節 <block ref="6d8b99fb2ff81ed91f5551e33542f4f8" category="inline-link-macro-rx"></block> 以取得實作一節所建立備份原則的詳細逐步程序 <block ref="f2afcb5a9b8ad2d8fe33e91cb4edb80f" category="inline-xref-macro-rx"></block> 以及備份工作排程。</block>
  <block id="b47b1d2e2c373fd6c07f22a130e90a41" category="paragraph">下列映像提供設定為備份Oracle資料庫的資源群組範例。</block>
  <block id="9736ab13cec4c0e5ba0c09476a101fb2" category="paragraph"><block ref="9736ab13cec4c0e5ba0c09476a101fb2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b2d9cc2beb2b12bdad529e6d42551092" category="inline-link-macro">下一步：資料庫管理。</block>
  <block id="454fb11269c81c93532752028abffbcd" category="paragraph"><block ref="454fb11269c81c93532752028abffbcd" category="inline-link-macro-rx"></block></block>
  <block id="8a1d7e9120e3db2795bd53b504018b4e" category="summary">本白皮書概述並驗證AWS自訂的Oracle RDS資料庫HA和DR解決方案、並在多重可用度區域部署中運用AWS FSX儲存服務。</block>
  <block id="b4c8c277e19db14e178b1060214b896e" category="paragraph">NetApp公司的Alleno Cao、Niyazz Mohamed, Jeffrey Steiner</block>
  <block id="6848412b0f30d614f7e0bcd903cac052" category="paragraph">許多任務關鍵型企業Oracle資料庫仍在內部部署、許多企業正尋求將這些Oracle資料庫移轉至公有雲。這些Oracle資料庫通常以應用程式為中心、因此需要使用者專屬的組態、這是許多資料庫即服務公有雲產品無法提供的功能。因此、目前的資料庫環境需要以公有雲為基礎的Oracle資料庫解決方案、此解決方案是以高效能、可擴充的運算與儲存服務所打造、能夠滿足獨特的需求。AWS EC2運算執行個體和AWS FSX儲存服務可能是這個難題的一部分、您可以利用這些難題來建置任務關鍵型Oracle資料庫工作負載、並將其移轉至公有雲。</block>
  <block id="37b7c86d51875922e0a9f122a670aa62" category="paragraph">Amazon Elastic Compute Cloud（Amazon EC2）是一項網路服務、可在雲端中提供安全、可調整大小的運算容量。其設計旨在讓企業更輕鬆地進行網路規模的雲端運算。簡單的Amazon EC2網路服務介面可讓您以最少的摩擦取得及設定容量。它可讓您完全掌控運算資源、並讓您在Amazon備受肯定的運算環境中執行。</block>
  <block id="c9550c9d9c1b379ad427d739b5c69f00" category="paragraph">Amazon FSX ONTAP for Sfor Sfesfis是一項AWS儲存服務、使用領先業界的NetApp ONTAP 資訊區塊和檔案儲存設備、可公開NFS、SMB和iSCSI。有了如此強大的儲存引擎、將關鍵任務Oracle資料庫應用程式重新部署到AWS的工作變得前所未有的輕鬆、每個資料庫執行個體的回應時間低於毫秒、處理量高達多Gbps、IOPS超過10萬次。更棒的是、FSX儲存服務具備原生複寫功能、可讓您輕鬆將內部部署的Oracle資料庫移轉至AWS、或將關鍵任務Oracle資料庫複寫至次要AWS可用性區域、以供HA或DR使用。</block>
  <block id="b3f95d0186b2e4989ad81f07a21d72c5" category="paragraph">本文件的目標是提供逐步程序、程序和最佳實務做法指引、說明如何部署及設定具有FSX儲存設備的Oracle資料庫、以及提供與內部部署系統類似效能的EC2執行個體。NetApp也提供自動化工具套件、可將部署、組態及管理AWS公有雲中Oracle資料庫工作負載所需的大部分工作自動化。</block>
  <block id="15d62938aed0de1248a55c07bc0c547c" category="paragraph"><block ref="15d62938aed0de1248a55c07bc0c547c" category="inline-link-macro-rx"></block></block>
  <block id="32800a2387c1d841d80eab97ff7205c2" category="summary">本節將詳細說明在AWS EC2執行個體和FSX儲存設備上部署Oracle資料庫時應考慮的因素。</block>
  <block id="c53749244d982efb6aa5653328227c2a" category="doc">Oracle資料庫部署的考量因素</block>
  <block id="0dd9b4b69c30ae87b4322df28758dc18" category="paragraph"><block ref="0dd9b4b69c30ae87b4322df28758dc18" category="inline-link-macro-rx"></block></block>
  <block id="96f819dcc02d1203a3923ddad366ff4b" category="paragraph">公有雲提供多種運算與儲存選擇、使用正確類型的運算執行個體與儲存引擎、是開始資料庫部署的好地方。您也應該選擇針對Oracle資料庫最佳化的運算和儲存組態。</block>
  <block id="e958329ac331abb8419551328745ce28" category="paragraph">以下各節說明在EC2執行個體搭配FSX儲存設備的AWS公有雲上部署Oracle資料庫時的主要考量。</block>
  <block id="af9adf45d47438d70bedeea4353827c3" category="paragraph">選取適當的VM大小、對於公有雲中的關聯式資料庫達到最佳效能非常重要。為獲得更佳效能、NetApp建議使用EC2 M5系列執行個體來進行Oracle部署、此執行個體已針對資料庫工作負載最佳化。同樣的執行個體類型也可用於AWS為Oracle的RDS執行個體供電。</block>
  <block id="1dbc89cff7796dd99cbe9338453d04d7" category="list-text">根據工作負載特性、選擇正確的vCPU和RAM組合。</block>
  <block id="ff1a938ecebc5237c31b8f5d9a9b87ce" category="list-text">新增交換空間至VM。預設的EC2執行個體部署不會建立交換空間、這對資料庫來說並不是最佳選擇。</block>
  <block id="d4d5d0e2fb33dadfad4435489bd718a4" category="section-title">儲存配置與設定</block>
  <block id="0fe994abd6c200feb672e77242fe9fcb" category="paragraph">NetApp建議採用下列儲存配置：</block>
  <block id="c1b542506bceb69c76148851e217c49f" category="list-text">對於NFS儲存設備、建議的Volume配置為三個Volume：一個用於Oracle二進位、一個用於Oracle資料、一個用於複製控制檔、另一個用於Oracle主動式記錄、歸檔記錄和控制檔。</block>
  <block id="02833700de6eac537733ce81ef6352a3" category="paragraph"><block ref="02833700de6eac537733ce81ef6352a3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9fc828f321000aae204feb1f0f945893" category="list-text">對於iSCSI儲存設備、建議的Volume配置為三個Volume：一個用於Oracle二進位、一個用於Oracle資料、一個用於複製控制檔、另一個用於Oracle主動式記錄、歸檔記錄和控制檔。不過、理想情況下、每個資料和記錄磁碟區都應該包含四個LUN。LUN在HA叢集節點上的理想平衡。</block>
  <block id="cddd034875839504dacaa29e5dca803f" category="paragraph"><block ref="cddd034875839504dacaa29e5dca803f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b7810ed5b0bbb3acf153d353ac803a51" category="list-text">在儲存IOPS和處理量方面、您可以選擇FSX儲存叢集的已配置IOPS和處理量臨界值、而且這些參數可在工作負載變更時即時調整。</block>
  <block id="c5493cd0fe001da987655ad852808dc7" category="list-text">自動IOPS設定為每GiB配置儲存容量或使用者定義儲存容量的三個IOPS、最高可達80、000個。</block>
  <block id="6524d7ff1096fc6a10590b6d1f7163b6" category="list-text">處理量層級會依下列方式遞增：128、256、512、1024、2045 Mbps。</block>
  <block id="bc4bb24d5e702fb79be623b84e7cf47e" category="inline-link-macro">Amazon FSX提供NetApp ONTAP 的效能</block>
  <block id="b59267e60b3253fa9c2edeed17c1340f" category="paragraph">檢閱 <block ref="a572b0e55a3a15b7b3460602e8714ba1" category="inline-link-macro-rx"></block> 調整處理量和IOPS規模時的文件。</block>
  <block id="10edbbba4e4c39fc161aeac9fbb88aef" category="section-title">NFS組態</block>
  <block id="b6e1b7fd7aad364a8ad758d8ae8ba50d" category="paragraph">Linux是最常見的作業系統、具備原生NFS功能。Oracle提供直接NFS（DNFS）用戶端、原生整合至Oracle。Oracle已支援NFSv3超過20年、而NFSv3則支援Oracle 12.1.0.2及更新版本。使用NetApp自動化工具套件自動部署Oracle、可在NFSv3上自動設定DNFS。</block>
  <block id="2b7570eaa12a3e472e9d0cbac6631d57" category="paragraph">其他考量因素：</block>
  <block id="6841f6ce9d9a2af93222223df564ca34" category="list-text">TCP插槽表相當於主機匯流排介面卡（HBA）佇列深度的NFS。這些表格可控制任何時間都可以處理的NFS作業數量。預設值通常為16、這對於最佳效能而言太低。相反的問題發生在較新的Linux核心上、這會自動將TCP插槽表格限制增加到要求使NFS伺服器飽和的層級。</block>
  <block id="5a749fcdd97cee211c5fea00babe8691" category="paragraph">為獲得最佳效能並避免效能問題、請將控制TCP插槽表的核心參數調整為128。</block>
  <block id="dcd7ebfa96f217f8d20c58a185a48531" category="list-text">下表提供Linux NFSv3（單一執行個體）的建議NFS掛載選項。</block>
  <block id="4780ee7b64d0ec83e06977206e8a35b5" category="paragraph"><block ref="4780ee7b64d0ec83e06977206e8a35b5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4492ef7005cdef278b0b767179a1ecb9" category="admonition">使用DNFS之前、請先確認已安裝Oracle Doc 1495104.1中所述的修補程式。從Oracle 12c開始、DNFS支援NFSv3、NFSv4和NFSv4.1。NetApp支援原則涵蓋所有用戶端的v3和v4、但在撰寫本文時、不支援NFSv4.1搭配Oracle DNFS使用。</block>
  <block id="2fe1fc26875d6d38f4b15a3a03d498fb" category="paragraph">如解決方案架構所示、HA是以儲存層級複寫為建置基礎。因此、Oracle的啟動與可用度取決於運算與儲存設備的啟動與恢復速度。請參閱下列主要因素：</block>
  <block id="137bc4c57a9561d086601728a3db1a90" category="list-text">準備好待命運算執行個體、並透過兩個主機的可存取平行更新、與主要執行個體同步。</block>
  <block id="d653e9032c9904901af96f496db98a3e" category="list-text">從主磁碟區複寫二進位磁碟區以供待命使用、因此您不需要在最後一分鐘安裝Oracle、並找出需要安裝和修補的項目。</block>
  <block id="77991416cd2e0bfc66a77d32e3fbb45a" category="list-text">複寫頻率決定Oracle資料庫恢復以提供服務的速度。複寫頻率與儲存使用量之間存在一定的平衡。</block>
  <block id="0797ee9bca14d1064492a93ac7cc7fa1" category="list-text">運用自動化技術、快速恢復並切換至待機模式、完全不發生人為錯誤。NetApp為此提供自動化工具套件。</block>
  <block id="0a076fda3d30e9959f9332ce7c42445c" category="paragraph"><block ref="0a076fda3d30e9959f9332ce7c42445c" category="inline-link-macro-rx"></block></block>
  <block id="90a0d380974aa73acb8330f1ff9a7930" category="summary">本節詳細說明將Oracle資料庫從內部部署移轉至AWS EC2執行個體和FSX儲存設備時、應考慮的因素。</block>
  <block id="895a8d39dd9ae7fe795349bdbc3f05dc" category="doc">資料庫從內部部署移轉至公有雲</block>
  <block id="64d625665f42751b8036cb9a6403a0fe" category="inline-link-macro">上一篇：資料庫管理。</block>
  <block id="69dd1b6ab585f33a36445376492ea8de" category="paragraph"><block ref="69dd1b6ab585f33a36445376492ea8de" category="inline-link-macro-rx"></block></block>
  <block id="373ae4e24c2daa280a4a5aca82dd3818" category="paragraph">資料庫移轉是一項艱鉅的工作、無論以何種方式進行。將Oracle資料庫從內部部署移轉至雲端也不例外。</block>
  <block id="d1e968e04e34c971d41e644820094cef" category="paragraph">下列各節提供將Oracle資料庫移轉至AWS公有雲時、使用AWS EC2運算和FSX儲存平台時、必須考量的關鍵因素。</block>
  <block id="84639b5fb3b348e6a053dde95414e039" category="section-title">內部部署可儲存資料ONTAP</block>
  <block id="93336cb92f211f9ff347245c8559dd5e" category="paragraph">如果內部部署的Oracle資料庫位於ONTAP 某個不支援的儲存陣列上、那麼使用NetApp SnapCenter UI工具來設定資料庫移轉的複寫作業會更容易。</block>
  <block id="df2111c23e70fa013a85041e1415639e" category="list-text">建置符合內部部署執行個體的目標運算EC2執行個體。</block>
  <block id="1931f75e563d3dc9ee112e9b4ebd66b7" category="list-text">從FSX主控台配置大小相同的相符資料庫Volume。</block>
  <block id="98201e355445ae8a2eff3b7c33132cc6" category="list-text">將FSX資料庫磁碟區掛載到EC2執行個體。</block>
  <block id="53fad15133e494dc37bbd0494b8f3a6c" category="list-text">在內部部署資料庫磁碟區之間、設定SnapMirror複寫至目標FSX資料庫磁碟區。初始同步可能需要一些時間來移動主要來源資料、但後續的任何遞增更新都會更快。</block>
  <block id="fda597a9ad18b763048653fa5e87e38c" category="list-text">切換時、請關閉主要應用程式以停止所有交易。執行記錄備份、SnapCenter 將剩餘的交易清空至目標。</block>
  <block id="8da4f0ed2ee5c7e68c3fe9ec3dde280e" category="list-text">中斷鏡射磁碟區、在目標執行Oracle恢復、並啟動資料庫以供服務。</block>
  <block id="6efd103fd0a488a3d023523ab6377e4e" category="list-text">將應用程式指向雲端中的Oracle資料庫。</block>
  <block id="86afa353cad293784396216eab80ee52" category="section-title">內部不提供儲存功能ONTAP</block>
  <block id="c11080183211191097c120f87656c802" category="paragraph">如果內部部署的Oracle資料庫裝載於ONTAP 非Oracle以外的協力廠商儲存設備、則資料庫移轉將以還原Oracle資料庫備份複本為基礎。切換前、您必須先播放歸檔記錄檔以使其保持最新狀態。</block>
  <block id="722283478873a13974c4b1b6ea967a40" category="paragraph">AWS S3可做為移轉儲存區域、用於資料庫移動和移轉。請參閱下列詳細步驟以瞭解此方法：</block>
  <block id="9312555163563ac6b35994e42f15d009" category="list-text">提供與內部部署執行個體類似的新EC2執行個體。</block>
  <block id="8705a6dedde3ea188c113bda4fe97c14" category="list-text">從FSX儲存設備配置等量的資料庫磁碟區、然後將磁碟區掛載至EC2執行個體。</block>
  <block id="6aeff6e3d9f2f107fa5584191966f816" category="list-text">建立磁碟層級的Oracle備份複本。</block>
  <block id="0f90c0c06dae8f50c3f93d33a7547df2" category="list-text">將備份複本移至AWS S3儲存設備。</block>
  <block id="d8fd670e7724b3db99919ea02cd762cc" category="list-text">重新建立Oracle控制檔、並從S3儲存設備提取資料和歸檔記錄、以還原及恢復資料庫。</block>
  <block id="c4a99d505e8ebe4d5f04ae86d2a724b7" category="list-text">將目標Oracle資料庫與內部部署來源資料庫同步。</block>
  <block id="3bac7326688b384ce82c7c9807cae4b7" category="list-text">切換時、請關閉應用程式和來源Oracle資料庫。複製最後幾個歸檔記錄、並將其套用至目標Oracle資料庫、使其保持最新狀態。</block>
  <block id="98cf6a7f87338026b5b95afee91d5676" category="list-text">啟動目標資料庫以供使用者存取。</block>
  <block id="021e473c3a779caff7d794ce36c8ef68" category="list-text">將應用程式重新導向至目標資料庫以完成切換。</block>
  <block id="46c977a489a77ea3a7d6ff4a7fa6d556" category="section-title">使用Oracle多租戶CDB/pdb架構、將Oracle資料庫整合到AWS中</block>
  <block id="ea274b58537d36559ff3046cd5423083" category="list-text">在AWS公有雲中建立CDB。</block>
  <block id="12c774c8ec030e1d104719cf317b5ca2" category="list-text">如果內部部署資料庫也部署在CDB/pdb多租戶環境中、請拔下要移轉的pdb。</block>
  <block id="6ee0eb9b1d29207b2ae6feda6428e2cc" category="list-text">將中繼資料及加底線的Oracle資料檔案傳輸至目標CDB執行個體。</block>
  <block id="4bb12c493b32940ff849ac100d727582" category="list-text">驗證與Oracle驗證程序的相容性。</block>
  <block id="e7343c5c0db191b9c4841a6556ebc806" category="list-text">如果相容性驗證通過、請將拔下的pdb插入目標CDB容器。</block>
  <block id="5bb0b3fe813867de21d25f37b58dc0fc" category="list-text">如有需要、請更新資料字典。</block>
  <block id="97b4c444678bacf256568fc4f7071634" category="list-text">備份並開啟移轉的pdb以供存取。</block>
  <block id="375116b8a4235f7fa12ebc4e2bddb3dc" category="admonition">如果不拔下pdb和外掛程式、則需要在移轉規劃期間考量應用程式停機時間。</block>
  <block id="0978a2ea1e5676c9e8f017f05e988475" category="paragraph">同樣地、NetApp自動化團隊也提供移轉工具套件、協助Oracle資料庫從內部部署移轉至AWS雲端。如需最新的資料庫移轉工具、請參閱NetApp Public GitHub網站。</block>
  <block id="a8fba1abc3fbaa027d18daed3f6e170d" category="doc">安裝MetalLB負載平衡器</block>
  <block id="48501496ee9b06b63701de94b6ffc3a5" category="paragraph">本頁列出MetalLB託管負載平衡器的安裝與組態指示。</block>
  <block id="ccd779a5e754b22c1589256334866c0a" category="paragraph">MetalLB負載平衡器與VMware上的Anthos叢集完全整合、並從1.11版開始、在管理與使用者叢集設定中執行自動化部署。您必須在各自的「叢集.yaml」組態檔中修改文字區塊、才能提供負載平衡器資訊。它是在您的Anthos叢集上自行代管、而不需要像其他支援的負載平衡器解決方案那樣部署外部資源。它也可讓您建立IP集區、以便在未在雲端供應商上執行的叢集中、建立類型負載平衡器的Kubernetes服務、自動指派位址。</block>
  <block id="b938ac6243408826bd53c58d2a6a6f1f" category="paragraph">啟用Anthos管理的MetalLB負載平衡器時、您必須修改「admin-cluster．yaml」檔案中「loadbalancer：」區段中的幾行。您唯一必須修改的值是設定「controlPlueVIP:」位址、然後將「種類：」設為MetalLB。請參閱下列程式碼片段以取得範例：</block>
  <block id="79fdf71abab382ca3fbab93d863f835c" category="paragraph">在為Anthos使用者叢集啟用MetalLB負載平衡器時、每個「user-cluster．yaml」檔案中有兩個區域必須更新。首先、您必須以類似「admin-cluster．yaml」檔案的方式、修改「controlPlaeVIP：」、「ingressVIP：」和「in種類：」等「負載平衡器：」區段中的值。請參閱下列程式碼片段以取得範例：</block>
  <block id="c173f58ae6718fb7dc80d6ddb9b392e5" category="admonition">擷取VIP IP位址必須存在於稍後在組態中指派給MetalLB負載平衡器的IP位址集區內。</block>
  <block id="77960f17a334c28c4bacd9515ac55817" category="paragraph">然後您需要瀏覽至「metalLB:」子區段、並在「-name:」變數中命名Pool來修改「addressPools：」區段。您也必須為「Addresses：」變數提供範圍、建立一個IP位址集區、以便MetalLB指派給類型負載平衡器的服務。</block>
  <block id="8dfd015968f24ba6c3e2d8386cd40cbe" category="admonition">位址集區可以像範例中所示的範圍來提供、將其限制為特定子網路中的多個位址、或者如果整個子網路都可用、則可將其作為CIDR表示法來提供。</block>
  <block id="ea4a20324a094d5f515252d5669a60ca" category="list-text">當建立負載平衡器類型的Kubernetes服務時、MetalLB會自動指派外部IP給服務、並回應ARP要求來通告IP位址。</block>
  <block id="c09bdf0c852b6f771b10fb71482778db" category="paragraph">應用程式的備份會擷取應用程式的作用中狀態及其資源組態、將其封裝到檔案中、並將其儲存在遠端物件儲存庫中。</block>
  <block id="3805fe09ab2fab11e5a88285db1ba4f1" category="paragraph">若要建立應用程式備份、請完成下列步驟：</block>
  <block id="17937980068cd45516e074151c756bab" category="list-text">若要在Astra Control Center中建立受管理應用程式的備份、請瀏覽至「應用程式」&gt;「受管理的」、然後按一下您要備份的應用程式。按一下應用程式名稱旁的下拉式功能表、然後按一下備份。</block>
  <block id="d587342349a123dddff71bef9eb7b6e6" category="paragraph">若要還原應用程式、請完成下列步驟：</block>
  <block id="804e8c9205cc0caea9e5cb6645febba7" category="list-text">瀏覽至「應用程式」&gt;「託管」索引標籤、然後按一下有問題的應用程式。按一下應用程式名稱旁的下拉式功能表、然後按一下「還原」。</block>
  <block id="b0ff29eefb84e5d7a2cdae616ae42213" category="list-text">輸入新命名空間的詳細資料、選取要複製到的叢集、然後選擇是否要從現有的快照、備份或應用程式的目前狀態中複製。按一下「Next（下一步）」、然後在檢閱詳細資料後、按一下「Review（檢閱）」窗格上的Clone（複製）。</block>
  <block id="4c0e19abe22935505e774d4d3b2e8449" category="list-text">當Astra Control Center在所選叢集上建立應用程式時、新應用程式會進入「探索」狀態。Astra安裝並偵測應用程式的所有資源之後、應用程式會進入可用狀態。</block>
  <block id="858674153e1f55409f3ea08cdc502f53" category="inline-link-macro">下一步：進階組態選項。</block>
  <block id="9bb9f32bf0692d68fe53042de73b0c6a" category="paragraph"><block ref="9bb9f32bf0692d68fe53042de73b0c6a" category="inline-link-macro-rx"></block></block>
  <block id="abb33c60fb7710d77680621bb6bb0433" category="doc">安裝F5 BIG-IP負載平衡器</block>
  <block id="4f3422718812b2a40b70340da35b565c" category="paragraph">F5 BIG-IP是應用程式交付控制器（ADC）、提供一系列進階、正式作業等級的流量管理與安全服務、例如L4-L7負載平衡、SSL/TLS卸載、DNS、防火牆等。這些服務可大幅提升應用程式的可用度、安全性和效能。</block>
  <block id="81d91349803cba0e1b0d0f84948ff37c" category="paragraph">您可以以各種方式部署和使用F5 BIG-IP、包括在專屬硬體、雲端或內部部署的虛擬應用裝置上。請參閱此處的文件、以探索及部署F5 BIG-IP。</block>
  <block id="cb9f661ea2c5b0b25cb936398de81286" category="admonition">可以在獨立模式或叢集模式中部署F5 BIG-IP。為了進行此驗證、以獨立模式部署了F5 BIG-IP。不過、出於正式作業目的、NetApp建議建立一個由BIG-IP執行個體組成的叢集、以避免單點故障。</block>
  <block id="9c62eb7c12e4e6a75fc74fffecb2db09" category="paragraph">NetApp的解決方案工程團隊已在實驗室中驗證下表中的版本、以配合Anthos on Prem的部署：</block>
  <block id="930835cee46ee894bb92b5627c286380" category="paragraph"><block ref="930835cee46ee894bb92b5627c286380" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5869793ca55f5fc50960cbd965138c70" category="inline-image-macro">部署Big IP應用裝置、第2部分</block>
  <block id="b395903460348cc88bfae6fcad255f21" category="paragraph"><block ref="b395903460348cc88bfae6fcad255f21" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ca9eda681850d46169f2940362b1548f" category="inline-image-macro">部署Big IP應用裝置、第3部分</block>
  <block id="9c7b1162de6217dfe316b9d57d67b16f" category="paragraph"><block ref="9c7b1162de6217dfe316b9d57d67b16f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="372bcca75330a5dc5675a722489ff49b" category="paragraph"><block ref="372bcca75330a5dc5675a722489ff49b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6e7de45031877e6ff00d3069664fbcaf" category="inline-image-macro">Big IP組態、第2部分</block>
  <block id="cee8fbb1e19d03d10bbd1e01e76cf77b" category="paragraph"><block ref="cee8fbb1e19d03d10bbd1e01e76cf77b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b648434aacde9879c494bb807f510d0a" category="inline-image-macro">Big IP組態、第3部分</block>
  <block id="abc7fe3f8ac78f7eef2f5ca730be051c" category="paragraph"><block ref="abc7fe3f8ac78f7eef2f5ca730be051c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="48f2578529c2f8c811567604f610cb5f" category="inline-image-macro">Big IP組態、第4部分</block>
  <block id="7032ef2cca6e17b4d3590ecbbce7ff16" category="paragraph"><block ref="7032ef2cca6e17b4d3590ecbbce7ff16" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c9fd499e062b35d18ef68efd381c6c09" category="inline-image-macro">Big IP組態、第6部分</block>
  <block id="78df99aca47bd680a19574eebccf4249" category="paragraph"><block ref="78df99aca47bd680a19574eebccf4249" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f4e4f5e5f31a0b8312fb2338d9015dd0" category="inline-image-macro">Big IP組態、第7部分</block>
  <block id="72cb9d54a4958e24c358ee0871b24454" category="paragraph"><block ref="72cb9d54a4958e24c358ee0871b24454" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c574654bbbf1cf9927e54a1cf4152c71" category="list-text">精靈的第一頁會設定備援功能；保留預設值、然後按「Next（下一步）」。下一頁可讓您在負載平衡器上設定內部介面。介面1.1會對應至OVF部署精靈中標示為「Internal（內部）」的vmnic。</block>
  <block id="19ee7bbff17fca60aeffed9079a87c6b" category="inline-image-macro">Big IP組態、第8部分</block>
  <block id="93e0638cb95146eb8773223a90aa6d86" category="list-text">下一頁可讓您設定外部網路、以將服務對應至Kubernetes中部署的Pod。從VM_Network範圍、適當的子網路遮罩和相同範圍的浮動IP中選取靜態IP。介面1.2對應至OVF部署精靈中標示為「外部」的vmnic。</block>
  <block id="803c8b846cb5b5c6c8d5a2b0b07f4dba" category="inline-image-macro">Big IP組態、第9部分</block>
  <block id="9cd42351da162e75b1a0178bdd0ded20" category="inline-image-macro">Big IP組態、第10部分</block>
  <block id="ad99125325ea694a08a4db92eabb18a1" category="inline-image-macro">Big IP組態、第11部分</block>
  <block id="d71ac8787685cb0f3b8f800520d684b1" category="paragraph"><block ref="d71ac8787685cb0f3b8f800520d684b1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="99a0344c261b0475e6caf01bb585530f" category="list-text">顯示的畫面僅顯示目前的通用分割區。按一下右側的「Create（建立）」以建立第一個額外的分割區、並將其命名為「GKE管理」。然後按一下「重複」、並將分割區命名為「User-Cluster-1」。再按一下「重複」按鈕、將下一個分割區命名為「使用者叢集2」。最後按一下「完成」以完成精靈。「磁碟分割清單」畫面會傳回所有目前列出的磁碟分割。</block>
  <block id="938c47fe40c045ae4bc242bf2339ab01" category="inline-image-macro">Big IP組態、第12部分</block>
  <block id="598f9d349e1cb4c318e78a0d182dd743" category="paragraph"><block ref="598f9d349e1cb4c318e78a0d182dd743" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1dc19630e1d9c7f2a85a541796c5ec51" category="paragraph">每個組態檔中分別有一節是針對管理叢集、以及您選擇部署以設定負載平衡器的每個使用者叢集、以便由Prem上的Anthos進行管理。</block>
  <block id="38779167fbee63015f17c4c1b453dd32" category="paragraph">以下指令碼是GKE管理叢集分割區組態的範例。需要取消註釋和修改的值會以粗體顯示於下方：</block>
  <block id="288c554e356764c1144e77f0d78f97bf" category="doc">探索負載平衡器選項</block>
  <block id="807a04fd6be3315608f66b00ab708987" category="paragraph">在Anthos部署的應用程式、是透過部署在Anthos on prem環境中的負載平衡器所提供的服務、向全世界曝光。</block>
  <block id="4f8cee548fdf2c886e16bf694eb06522" category="paragraph"><block ref="4f8cee548fdf2c886e16bf694eb06522" category="inline-link-macro-rx"></block></block>
  <block id="dc89b61e16e84216193885f3a7c62fb9" category="inline-link-macro">下一步：註冊Red Hat OpenShift叢集。</block>
  <block id="13d5bf8d97a187ca5d13b7429c268342" category="paragraph"><block ref="13d5bf8d97a187ca5d13b7429c268342" category="inline-link-macro-rx"></block></block>
  <block id="7cdcf7845d98f304186a5184cd2161ac" category="inline-link-macro">下一步：ONTAP NetApp</block>
  <block id="1a4c8966068ddb4b2fda6d5bc54054c3" category="paragraph"><block ref="1a4c8966068ddb4b2fda6d5bc54054c3" category="inline-link-macro-rx"></block></block>
  <block id="a5fcf88905522eca0a7500198fc13ea9" category="paragraph">範例包括：</block>
  <block id="231a9d200c75839cf9b4ffeecde45821" category="list-text">*帶上您專屬的Linux作業系統。*選擇您想要部署Anthos裸機環境的Linux作業系統、即可確保Anthos環境能完全符合您現有的基礎架構和管理方案。</block>
  <block id="8f3c025cf8c4fb1a7841163ea4213611" category="list-text">*提升效能並降低成本。*沒有Hypervisor的需求、Anthos裸機叢集要求直接存取伺服器硬體資源、包括效能最佳化的硬體裝置（例如GPU）。</block>
  <block id="5c96e444541cebd597916a4a84177f6b" category="list-text">*改善網路效能並降低延遲。*由於無虛擬化抽象層的情況下、會將連線至網路的無線裸機伺服器節點直接連線至網路、因此可針對低延遲和效能進行最佳化。</block>
  <block id="08c2b93847522285403aa57a50c67356" category="paragraph">Anthos裸機節點可設定多種客戶選擇的Linux套裝作業系統、以協助符合其目前的資料中心基礎架構。</block>
  <block id="cb9cc8981898224a2fe45ac6ff7d4244" category="cell">1.11.</block>
  <block id="969f1705e87aebac2415f45faaf8ef89" category="cell">A250、A220</block>
  <block id="6ff97c39e8de9255f8ab9ffb6a483dce" category="cell">9.9.1、9.10.1</block>
  <block id="9401797270b98418222b9be6674161bc" category="admonition">這種多作業系統環境可顯示與Anthos裸機解決方案支援的作業系統版本之間的互通性。我們預期客戶會在部署時、將一或一部分作業系統標準化。</block>
  <block id="3a6810b280d17ed872c226f7c95dac46" category="list-text">至少有一部DNS伺服器提供可從管理網路存取的完整主機名稱解析。</block>
  <block id="14de5275438fed7bf294f7d1ef6ebfce" category="list-text">至少有一部可從管理網路存取的NTP伺服器。</block>
  <block id="ab851d2f29c7c89b9bc55851dd1002d2" category="list-text">（選用）頻內管理網路的外傳網際網路連線功能。</block>
  <block id="82d4df3a9be244e5548f2913b75e403c" category="admonition">本文件的「影片與示範」一節提供有關裸機部署的Anthos示範影片。</block>
  <block id="8a31087c2de67e51ba9270956af09594" category="paragraph"><block ref="8a31087c2de67e51ba9270956af09594" category="inline-link-macro-rx"></block></block>
  <block id="e66e12138810859d8abf5fa2081fb491" category="summary">如何使用Google Cloud Console將應用程式部署至內部部署的Anthos GKE叢集。</block>
  <block id="0fedf382c8cab1bb4bd4137b2edd4ddf" category="doc">從Google Cloud Console Marketplace部署應用程式</block>
  <block id="db974f321885ec32e283b3ba19624bf5" category="list-text">部署在內部部署並在Google Cloud Console註冊的Anthos叢集</block>
  <block id="86baa7935f2da05d24c2736b997d56af" category="list-text">在Anthos叢集中設定的MetalLB負載平衡器</block>
  <block id="0e4a5cc43eded7fb6f9688b4db42749c" category="list-text">具有將應用程式部署至叢集權限的帳戶</block>
  <block id="0abcad93e8aa42fe77227a82e7bfac88" category="list-text">如果您選擇具有相關成本的應用程式（選用）、請使用Google Cloud提供帳單帳戶。</block>
  <block id="241b7771ea8f8a56aa7c79c94ea05b45" category="section-title">部署應用程式</block>
  <block id="7519665b833135b7a83098238355d197" category="paragraph">在此使用案例中、我們使用Google Cloud Console將簡單的WordPress應用程式部署至其中一個Anthos叢集。此部署使用NetApp ONTAP 功能在預先定義的儲存設備中提供的持續儲存。接著我們會示範兩種不同的方法來修改應用程式預設服務、以便MetalLB負載平衡器為其提供IP位址、並將其公開給全世界。</block>
  <block id="0f46ecb3b1113d47388dd5a45b007f77" category="paragraph">若要以這種方式部署應用程式、請完成下列步驟：</block>
  <block id="284e9ebcc65faa3412015e1aef0b212f" category="list-text">確認您要部署的叢集可在Google Cloud Console中存取。</block>
  <block id="c5ae9e1da0751273beff7dba35e9f3a0" category="inline-image-macro">已註冊的叢集</block>
  <block id="113157b1187558580348ca8d41e0e09d" category="paragraph"><block ref="113157b1187558580348ca8d41e0e09d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ffca2e9c9a134c6025fcd79da7b2c759" category="list-text">從左側功能表中選取「應用程式」、選取頂端的三點選項功能表、然後選取「從Marketplace部署」、這會開啟一個新視窗、您可以從Google Cloud Marketplace中選取應用程式。</block>
  <block id="0684d335d9a7c1f72f6bfcd5a3f89e00" category="inline-image-macro">應用程式市場</block>
  <block id="c2c2bcc598caddf4725c028c7db228b2" category="paragraph"><block ref="c2c2bcc598caddf4725c028c7db228b2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ec1116a3fdba8715414e3ef4e4f99912" category="list-text">搜尋您要安裝的應用程式、在此案例中為WordPress。</block>
  <block id="822f5bce2ee65cbb4bdffaba2710ba34" category="inline-image-macro">搜尋WordPress</block>
  <block id="660eb3f5a04738d18f35a59427836264" category="paragraph"><block ref="660eb3f5a04738d18f35a59427836264" category="inline-image-macro-rx" type="image"></block></block>
  <block id="510d39751378d8f38e07c02ea0fc6be6" category="list-text">選取WordPress應用程式之後、會顯示總覽畫面。按一下「Configure（設定）」按鈕。</block>
  <block id="10caa5e50634911a226bf4aadc5a0c7a" category="inline-image-macro">WordPress總覽畫面</block>
  <block id="096a5432cb51a4b959599922c18c06c1" category="paragraph"><block ref="096a5432cb51a4b959599922c18c06c1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f6ef5c869d6fe64bd1b351a45360b963" category="list-text">在下一頁、您必須選取要部署的叢集、如示範-叢集。選取或建立新的命名空間和應用程式執行個體名稱、然後選取WordPress應用程式及其備用MariaDB資料庫所需的儲存類別和持續磁碟區大小。在這兩種情況下、我們都選擇了ONTAP-NAS-csi儲存類別。</block>
  <block id="355246a53a979cfb1041a2b1940f6879" category="inline-image-macro">WordPress組態</block>
  <block id="d888949dd50bbca6d60ecc23eaef49f9" category="paragraph"><block ref="d888949dd50bbca6d60ecc23eaef49f9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="45d655c70f06a3434e67cbfc80248a9a" category="admonition">請勿選取「Enable Public IP Access（啟用公用IP存取）」。這樣做會建立節點連接埠類型的服務、無法從內部部署的Anthos部署中存取。</block>
  <block id="afab588b2fdc93623ccf8cb877caf4da" category="list-text">按一下「部署」按鈕之後、您會看到提供應用程式詳細資料的頁面。您可以重新整理此頁面、或使用CLI登入叢集、以檢查部署狀態。</block>
  <block id="31e41095bfaa14799239e8d9ba7ad438" category="inline-image-macro">應用程式詳細資料</block>
  <block id="d0354e2068a16698befdae7925d598c8" category="paragraph"><block ref="d0354e2068a16698befdae7925d598c8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="182bdd798d19f66a7142e53dc7ba7d03" category="list-text">CLI可用來檢查應用程式部署狀態、方法是執行命令、在應用程式命名空間中擷取pod資訊：「kubecl Get pod -n anthas-wp」。</block>
  <block id="4fdb8b8bf983b608be34dc4a03f63bae" category="inline-image-macro">Kubectl取得Pod</block>
  <block id="5d15d1dcdf1862334a130d3d7fe69ccc" category="paragraph"><block ref="5d15d1dcdf1862334a130d3d7fe69ccc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e9914dac3fe74f2b341b37fde931ccc8" category="admonition">請注意、本快照中有部署者Pod處於錯誤狀態。這是正常現象。此Pod是Google Cloud Console用來部署應用程式的輔助Pod、在其他Pod開始初始化程序之後、此應用程式會自行終止。</block>
  <block id="9d8881c161170e208f09b8b2a142a66f" category="list-text">幾分鐘後、請確認您的應用程式正在執行中。</block>
  <block id="ce0590d3b5f26b188a077af82f7344a2" category="inline-image-macro">應用程式執行中</block>
  <block id="011a851bc4637452cc423fc951144521" category="paragraph"><block ref="011a851bc4637452cc423fc951144521" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ad3acabe74bca98e10c24bed74bda730" category="section-title">公開應用程式</block>
  <block id="76ce15c259c30934261379d5c782fb7a" category="paragraph">應用程式部署完成後、您可以使用兩種方法將其指派為可到達世界的IP。</block>
  <block id="636274e5bcac1260da12a33d8dae0b1e" category="section-title">使用Google Cloud Console</block>
  <block id="affe13ca759d7abbd8dd52510dcccb9d" category="paragraph">您可以使用Google Cloud Console公開應用程式、並在瀏覽器中編輯服務的Y反 洗錢輸出、以設定可公開存取的IP。若要這麼做、請執行下列步驟：</block>
  <block id="e14de37e4860e0a27178cce381f79223" category="list-text">在Google Cloud Console中、按一下左側功能表中的「Services and Ingress（服務與入口）」。</block>
  <block id="7888520f99ee2ce14da11b431d5ae318" category="inline-image-macro">服務與入口</block>
  <block id="a30c95bc1250f0f260b3859484a79e52" category="paragraph"><block ref="a30c95bc1250f0f260b3859484a79e52" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6187f833f4cb9c4f7b8ee4db49498f1b" category="list-text">按一下「word.這會開啟「服務詳細資料」畫面。按一下頂端的「Edit（編輯）」按鈕。</block>
  <block id="d203ca99d4a0afdab1bcfe540a547944" category="inline-image-macro">編輯服務詳細資料</block>
  <block id="572acf06c07873db504c906b27cd9089" category="paragraph"><block ref="572acf06c07873db504c906b27cd9089" category="inline-image-macro-rx" type="image"></block></block>
  <block id="668b0ecfd7e72dc665e312c2993930b3" category="list-text">「編輯服務詳細資料」頁面隨即開啟、其中包含服務的Y反 洗錢資訊。向下捲動、直到看到「sepec：」區段和「type：」值、設定為「ClusterIP」。將此值變更為「loadbalancer」、然後按一下「Save（儲存）」按鈕。</block>
  <block id="d6b6ff61b6af359d37d3635e95073c9d" category="inline-image-macro">鍵入ClusterIP Value</block>
  <block id="198f2e2e4e51b005096e30bd1dc74de8" category="paragraph"><block ref="198f2e2e4e51b005096e30bd1dc74de8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c5f9f0194a478fbc7f5f93f46c2953de" category="inline-image-macro">輸入負載平衡器值</block>
  <block id="51301646eb8394e4ac0765ad84f0d777" category="paragraph"><block ref="51301646eb8394e4ac0765ad84f0d777" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e7331da14461f4638eebbff81857db51" category="list-text">返回「服務詳細資料」頁面時、「類型：」現在會列出「負載平衡器」、「外部端點：」欄位會列出從MetalLB集區指派的IP位址、以及可存取應用程式的連接埠。</block>
  <block id="3ec7f6e26f5dfb369960a71540f97a1f" category="inline-image-macro">服務詳細資料最終版</block>
  <block id="e5b2b641e4db64d79ddda6476267c442" category="paragraph"><block ref="e5b2b641e4db64d79ddda6476267c442" category="inline-image-macro-rx" type="image"></block></block>
  <block id="74e17d078471c59b2bf53ed27db0fb1f" category="section-title">使用Kubectl修補服務</block>
  <block id="f022ee3e39dabcf83208cc99a6eb4a8b" category="paragraph">您可以使用CLI和「kubectl修補程式」命令來公開應用程式、以修改部署並設定可公開存取的IP。若要這麼做、請完成下列步驟：</block>
  <block id="7d217d270c695202071f85ac46866514" category="list-text">使用「kubecl Get services -n anthos wp」命令、列出與命名空間中的Pod相關的服務。</block>
  <block id="fe7c7c8f844859020a7db7a331ade810" category="inline-image-macro">列出服務</block>
  <block id="45c0563dbcc7191f2f4360b2e8740e4a" category="paragraph"><block ref="45c0563dbcc7191f2f4360b2e8740e4a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6969be1fd50af4592e0d142a1d8d70cd" category="list-text">使用以下命令將服務類型從"ClusterIP"修改為"Loadbalancer（負載平衡器）"：</block>
  <block id="ee64374fc07de409e3af533d716265a7" category="paragraph">此新服務類型會自動從MetalLB集區指派可用的IP位址。</block>
  <block id="c2a179dcfc744c6d0e1f8e669f780a31" category="inline-image-macro">將Service修補至Type負載平衡器</block>
  <block id="ee6e2870bddeced39fa0bbc481e1cd21" category="paragraph"><block ref="ee6e2870bddeced39fa0bbc481e1cd21" category="inline-image-macro-rx" type="image"></block></block>
  <block id="515ddbc3d2b92a28024949cdc11effe0" category="section-title">請至公開的外部IP存取應用程式</block>
  <block id="9f32f710fb943684fe7ac71944e06000" category="paragraph">現在您可以使用可公開存取的IP位址來公開應用程式、然後使用瀏覽器來造訪WordPress執行個體。</block>
  <block id="3922853243ef47d8d33c4ed74259c64a" category="inline-image-macro">瀏覽器中的WordPress</block>
  <block id="d989de00c947c6c543a0711c796da0b3" category="paragraph"><block ref="d989de00c947c6c543a0711c796da0b3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f498970d77b95b37672534275d7e8b40" category="paragraph"><block ref="f498970d77b95b37672534275d7e8b40" category="inline-link-macro-rx"></block></block>
  <block id="21e8ffc6f822b183559b39b43061c1d2" category="summary">NetApp提供多種產品、協助客戶在Anthos等容器型環境中協調及管理持續資料。</block>
  <block id="7a8b9d74335d44fbaaf7f5d5aebf0cfd" category="paragraph">Google Cloud會定期透過Anthos Ready儲存合作夥伴方案、要求更新合作夥伴儲存整合與新版Anthos的驗證。您可以找到目前已驗證的儲存解決方案、csi驅動程式、可用功能及所支援的Anthos版本清單<block ref="0ccc93736ba595a77f031ff105798de0" category="inline-link-rx"></block>。</block>
  <block id="ea3b8c601657928fee815e0d16908cf1" category="paragraph">NetApp每季都會定期遵循法規要求、以驗證我們符合Astra Trident SCSI標準的儲存協調程式、ONTAP 以及我們的更新版本Anthos的更新版及元件儲存系統。</block>
  <block id="d9c9cc94777c7797db966b663b32ce4d" category="paragraph">下表包含NetApp與NetApp合作夥伴工程師所測試的Anthos版本、以驗證NetApp Astra Trident SCSI驅動程式與功能集、作為Anthos Ready儲存合作夥伴方案的一部分：</block>
  <block id="84aafd4e962655f32c5bdea750278fba" category="paragraph">NetApp提供多種產品、協助您協調及管理容器型環境（例如Anthos）中的持續資料。</block>
  <block id="55713395841bbe573d35c776279d08cc" category="paragraph">NetApp Astra Trident是一款開放原始碼、完全支援的儲存協調工具、適用於容器和Kubernetes配送、包括Anthos。如需詳細資訊、請造訪Astra Trident網站<block ref="845024b96ab150d9f628b33995c60669" category="inline-link-rx"></block>。</block>
  <block id="7b83f653c093c1509ca751b06a9ba82f" category="inline-link-macro">下一步：NetApp Astra Trident總覽。</block>
  <block id="ee33055a07370e6d1e33ad7480a57a7b" category="paragraph"><block ref="ee33055a07370e6d1e33ad7480a57a7b" category="inline-link-macro-rx"></block></block>
  <block id="305e92355c5c05eac28d2fbad20eaa5c" category="list-text">* Anthos管理工作站。*部署主機、可執行「gkectl」和「kkbectl」命令來部署及與Anthos部署互動。</block>
  <block id="3cd74a54f5924b896bf9cb97397e8b35" category="list-text">*管理叢集。*在VMware上設定Anthos叢集時部署的初始叢集。此叢集可管理所有從屬使用者叢集動作、包括部署、擴充及升級。</block>
  <block id="11b774f9c0d1531100a341b6da7d98fa" category="list-text">*使用者叢集。*每個使用者叢集都是以其本身的負載平衡器執行個體或分割區來部署、因此可做為個別使用者或群組的獨立Kubernetes叢集、協助達成完整的多租戶共享。</block>
  <block id="b4dfd3f706cb0162d524cf7c36093e7c" category="paragraph">下圖是對VMware上的Anthos叢集部署的說明。</block>
  <block id="f34111b15d3f3387462dd512dde1392f" category="list-text">*成本節約效益。*終端使用者可將多個使用者叢集部署至相同的實體環境、並將自己的實體資源用於應用程式部署、而非在Google Cloud環境或大型裸機叢集上配置資源、藉此大幅節省成本。</block>
  <block id="f89d1a459fed3d81a3b4a7360d0e85fc" category="list-text">* VMware vSphere VMotion.* VMware vCenter可讓您在叢集內的節點之間、以不中斷營運的方式、根據要求熱移轉VM。</block>
  <block id="e7a811d106a4076d6c6992a7b97734a0" category="paragraph">下表列出NetApp與合作夥伴驗證解決方案所使用的vSphere版本。</block>
  <block id="0dc619d5fd0af9a7a1c5ddea5b3e05a4" category="paragraph">雖然可以在三個節點以下的vSphere叢集上安裝Anthos以供示範或評估之用、但不建議用於正式作業工作負載。雖然兩個節點允許基本HA和容錯功能、但必須修改Anthos叢集組態以停用預設的主機關聯性、而且Google Cloud不支援此部署方法。</block>
  <block id="67243afe565a819d977d538c55049340" category="admonition">Anthos在每個個別的「叢集.yaml」檔案中都有一個組態選項、可根據您環境中的ESXi主機數量、自動建立可啟用或停用的節點關聯規則。</block>
  <block id="748635e1daf718400c0f3bdeb448cf73" category="inline-link-macro">下一步：裸機上的安索斯。</block>
  <block id="3f3ed1875910e0d28d2c97b78338cc3d" category="paragraph"><block ref="3f3ed1875910e0d28d2c97b78338cc3d" category="inline-link-macro-rx"></block></block>
  <block id="941b2b9e397e77b597402b51e7ef131d" category="paragraph"><block ref="941b2b9e397e77b597402b51e7ef131d" category="inline-link-macro-rx"></block></block>
  <block id="2f0792348007b672e999da06f311bd6f" category="summary">Astra Trident是完全受支援的開放原始碼儲存協調工具、適用於Container和Kubernetes配送、包括Anthos。</block>
  <block id="c91efa18f13fad38864e99107352d0c5" category="paragraph">Astra Trident是完全受支援的開放原始碼儲存協調工具、適用於Container和Kubernetes配送、包括Anthos。Trident可搭配整個NetApp儲存產品組合（包括NetApp ONTAP 的整套和Element儲存系統）使用、也支援NFS和iSCSI連線。Trident可讓終端使用者從NetApp儲存系統配置及管理儲存設備、而無需儲存管理員介入、進而加速DevOps工作流程。</block>
  <block id="e16f8b7c3b79f3d80b3d5b5862b4481a" category="paragraph">系統管理員可根據專案需求和儲存系統模型來設定多個儲存後端、以啟用進階儲存功能、包括壓縮、特定磁碟類型和QoS層級、以確保達到特定等級的效能。定義後端後端之後、開發人員可在專案中使用這些後端來建立持續磁碟區宣告（PVCS）、並視需要將持續儲存附加至容器。</block>
  <block id="239c66c0132fd8324d609e4f1ce89f79" category="paragraph">最新版的Astra Trident（22.04）於2022年4月發佈。支援對照表、顯示哪些版本的Trident已通過測試、可找到Kubernetes經銷產品<block ref="34562000b9988739736848a0014e5230" category="inline-link-rx"></block>。</block>
  <block id="1efa4d2f8950cdd5154a6c130953c9f2" category="paragraph">22.04版提供Helm圖表、方便Trident操作員的安裝。</block>
  <block id="27bed77b9cf648bc4592d40c2806fb43" category="paragraph">若要使用Helm在已部署的使用者叢集上自動安裝Trident並佈建持續磁碟區、請完成下列步驟：</block>
  <block id="c9c8f06cd5f25063dedfc6eea2b08fa7" category="inline-link">Helm安裝頁面</block>
  <block id="43eba64dcd06763432addbcf8db2d367" category="list-text">新增Trident Helm儲存庫：</block>
  <block id="6a05a869c72ac896a6f7473fba5c9b1e" category="paragraph">若要在已部署的使用者叢集上手動安裝Trident並佈建持續磁碟區、請完成下列步驟：</block>
  <block id="79273cfc4ab66c2763755b11b14fedb9" category="list-text">將安裝歸檔檔案下載至管理工作站、並擷取內容。目前的Trident版本為22.04、可下載<block ref="c7e04c62da3fb5014b467863172d941c" category="inline-link-rx"></block>。</block>
  <block id="f0d8974fd014601f60573d339d525772" category="list-text">將使用者叢集的「kubeconfig」檔案位置設定為環境變數、這樣您就不需要參考它、因為Trident沒有傳遞此檔案的選項。</block>
  <block id="1b8283857d1e7c1a4e80a12b3ba66ad9" category="paragraph"><block ref="1b8283857d1e7c1a4e80a12b3ba66ad9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2540200d51d81caebf749b3eb92aa66f" category="paragraph"><block ref="2540200d51d81caebf749b3eb92aa66f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="695cc7df9129054b4e4bd425d0094832" category="paragraph"><block ref="695cc7df9129054b4e4bd425d0094832" category="inline-image-macro-rx" type="image"></block></block>
  <block id="79cdad7595deba66ecab4005ebe50206" category="paragraph"><block ref="79cdad7595deba66ecab4005ebe50206" category="inline-image-macro-rx" type="image"></block></block>
  <block id="235db056b84e051c45e51c19dc088d7a" category="paragraph"><block ref="235db056b84e051c45e51c19dc088d7a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="54132be89475e52a0550d90f4b162e74" category="paragraph"><block ref="54132be89475e52a0550d90f4b162e74" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a7f329dfec2100f6b17e76aecd655cac" category="paragraph"><block ref="a7f329dfec2100f6b17e76aecd655cac" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ec1ad0944f93fe082ef02313cd33db47" category="paragraph"><block ref="ec1ad0944f93fe082ef02313cd33db47" category="inline-image-macro-rx" type="image"></block></block>
  <block id="28eb5fe5f641c3ffa32f2488fa166a36" category="paragraph">本參考文件提供NetApp與工程合作夥伴在多個資料中心環境中部署Anthos with NetApp解決方案時的部署驗證。它也詳細說明如何使用Astra Trident儲存協調程式來管理持續儲存設備、藉此與NetApp儲存系統進行儲存整合。最後、我們會探索並記錄許多解決方案驗證和實際使用案例。</block>
  <block id="0d3aabd1c9ad032e07b543d0aff99cb1" category="list-text">使用隨附的「bmctl」工具部署在裸機上、或使用VMware vSphere上的「gkectl」工具、即可輕鬆部署及管理Anthos環境。</block>
  <block id="ee1ef628edbfb6bb102163064fbd3d8e" category="paragraph">Anthos with NetApp解決方案瞭解這些挑戰、並提供解決方案、在客戶所選的資料中心環境中實作Anthos的全自動部署、以協助解決每個疑慮。</block>
  <block id="ff870d33a6cd8a05e92781267ae2d76c" category="inline-link-macro">下一步：Anthos總覽。</block>
  <block id="c3d162eb5f173883de1167105528ba0b" category="paragraph"><block ref="c3d162eb5f173883de1167105528ba0b" category="inline-link-macro-rx"></block></block>
  <block id="ffedc012b4decbb02d6a5ca1791f3d60" category="admonition">如果您使用「kubeadmin」使用者登入私有登錄、請使用權杖而非密碼。</block>
  <block id="b0215348c4b61c9ef3af7e95c45db79b" category="doc">安裝Seesaww負載平衡器</block>
  <block id="2498fd03c323b46a1d209aa07977fa55" category="paragraph">Seesaw是安裝在VMware環境Anthos叢集（從1.6版到1.10版）中的預設託管網路負載平衡器。</block>
  <block id="1de0bfc08643a28f36a8fcd5662e17f0" category="section-title">安裝SEETAW負載平衡器</block>
  <block id="7e83a37698e612c5150b6c3a383cf59b" category="paragraph">SEETAW負載平衡器與VMware上的Anthos叢集完全整合、並在管理與使用者叢集設定中自動執行部署。叢集.yaml組態檔中有一些文字區塊必須加以修改、才能提供負載平衡器資訊、然後在叢集部署之前、有一個額外步驟可以使用內建的「gkectl」工具來部署負載平衡器。</block>
  <block id="3d4d180e7186ad7195269636446a1c4c" category="admonition">可以在HA或非HA模式下部署SEETAW負載平衡器。為了進行此驗證、SEEW負載平衡器是以非HA模式部署、這是預設設定。出於正式作業目的、NetApp建議在HA組態中部署SEETAW、以確保容錯能力與可靠性。</block>
  <block id="613f73d2545e2e4434e09e47400d96a6" category="paragraph">每個組態檔中分別有一節是針對管理叢集、以及您選擇部署以設定負載平衡器的每個使用者叢集、以便由Anthos on -Prem來管理。</block>
  <block id="71f92aabf82706f3d2a00af1b3a34f95" category="paragraph">SEETAW負載平衡器也有一個獨立的靜態「SEAL-block.yaml」檔案、您必須為每個叢集部署提供該檔案。此檔案必須位於與「叢集.yaml」部署檔案相關的相同目錄中、否則必須在上述章節中指定完整路徑。</block>
  <block id="cda0b5b1eab2f931076d0edc39a6920a" category="paragraph">「admin-seesaw-block.yaml」檔案的範例如下所示：</block>
  <block id="967a8ba34c500bbb53dbf69cee7587d9" category="doc">向Astra Control Center註冊Red Hat OpenShift叢集</block>
  <block id="d2b3fd1f3d8ac38be89cec192a9d1558" category="list-text">第一步是將OpenShift叢集新增至Astra控制中心、並加以管理。移至「叢集」、按一下「新增叢集」、上傳OpenShift叢集的「kubeconfig」檔案、然後按一下「選取儲存設備」。</block>
  <block id="0fafca9f5d93d0accfd1e6ed440a772b" category="list-text">若要使用Astra Control Center跨OpenShift叢集進行備份與還原、您必須配置支援S3傳輸協定的物件儲存桶。目前支援ONTAP 的選項包括不支援的S3、StorageGRID 不支援的功能、以及AWS S3。為了進行此安裝、我們將設定AWS S3儲存區。移至「Bucket」、按一下「Add Bucket」、然後選取「通用S3」。輸入S3儲存區的詳細資料及存取憑證、按一下「將此儲存區設為雲端的預設儲存區」核取方塊、然後按一下「新增」。</block>
  <block id="048fd5f2b27a172a00e3a014fbc0161b" category="inline-link-macro">下一步：選擇要保護的應用程式。</block>
  <block id="6178a48a7c4c2e616e1caf9190bf41e6" category="paragraph"><block ref="6178a48a7c4c2e616e1caf9190bf41e6" category="inline-link-macro-rx"></block></block>
  <block id="8a7ac28f4ab44e0d4f4da82c8faf774a" category="summary">本影片連結至此頁面、說明如何在裸機叢集上部署Anthos。</block>
  <block id="6ca531ff48fc42e961c1b239f4302fab" category="doc">在裸機叢集上部署Anthos</block>
  <block id="cb0b7b75afe3f65d378ff6ab2c93d899" category="paragraph">此連結的影片示範如何在裸機叢集上部署Anthos。</block>
  <block id="97c62d2df3f6258616bde0882c4b890e" category="inline-link-macro">下一步：其他資訊。</block>
  <block id="5866caac5ce4e920cd3e5d0cd82ea8b7" category="paragraph"><block ref="5866caac5ce4e920cd3e5d0cd82ea8b7" category="inline-link-macro-rx"></block></block>
  <block id="fc31dc82d7754f65126c60eab5625947" category="inline-link-macro">使用Google Cloud Console安裝應用程式</block>
  <block id="627662d598c35dc9438ec1747d7766dc" category="paragraph"><block ref="627662d598c35dc9438ec1747d7766dc" category="inline-link-macro-rx"></block></block>
  <block id="ee1514b17e642c9cd1384a20cec220e3" category="summary">本頁連結的影片展示本文件所述的部分功能。</block>
  <block id="63e2e4c63022a2ca3a58778bd242195b" category="paragraph">下列影片示範本文件所述的部分功能：</block>
  <block id="1adda60fb6ef5adf0c35c53442bdd87d" category="inline-link-macro">影片：在裸機上部署Anthos</block>
  <block id="81082fb0b2db5311a27c6cd75db69481" category="paragraph"><block ref="81082fb0b2db5311a27c6cd75db69481" category="inline-link-macro-rx"></block></block>
  <block id="18d4f7e36efb77494db296ea83bc4753" category="paragraph">如需更多有關透過NetApp部署裸機叢集的Anthos資訊、請參訪 <block ref="eb911f2bc48f3132c014132a2870169f" category="inline-link-macro-rx"></block>。</block>
  <block id="d6c97ba6a05169248582981cf5627522" category="inline-link-macro">下一步：VMware上的Anthos叢集。</block>
  <block id="9954fadf8d7c9568ecdb434ffa0a15c1" category="paragraph"><block ref="9954fadf8d7c9568ecdb434ffa0a15c1" category="inline-link-macro-rx"></block></block>
  <block id="5ac7b083aa99c6ec0d7a272c37dc611d" category="sidebar">部署程序</block>
  <block id="71ab9d8f34c9ab92ef83627b823e9825" category="sidebar">資料庫管理</block>
  <block id="c3b88d5ff29715f5f8dd3c907b3f1bc3" category="sidebar">資料庫移轉</block>
  <block id="f1d1e6ba9a2b7db0fa9da49e0e72d8e2" category="inline-link-macro">下一步：安裝Seesaww負載平衡器。</block>
  <block id="bbceb5257bbc998fe84b078ef4d5062b" category="paragraph"><block ref="bbceb5257bbc998fe84b078ef4d5062b" category="inline-link-macro-rx"></block></block>
  <block id="1781760e35ea460b2019eb0440baf384" category="paragraph"><block ref="1781760e35ea460b2019eb0440baf384" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6909280d84c97f4c2d6301b2d570e37a" category="paragraph"><block ref="6909280d84c97f4c2d6301b2d570e37a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="441be298f9b7d68522f3e6df5d9629e2" category="inline-link-macro">下一步：安裝MetalLB負載平衡器。</block>
  <block id="9c79b190423dda0c207aac371557f50a" category="paragraph"><block ref="9c79b190423dda0c207aac371557f50a" category="inline-link-macro-rx"></block></block>
  <block id="bf19992eca1061913e185b60f91a8344" category="list-text"><block ref="bf19992eca1061913e185b60f91a8344" category="inline-link-macro-rx"></block></block>
  <block id="297afb95cdd3600afb3f67c77b24215f" category="list-text"><block ref="297afb95cdd3600afb3f67c77b24215f" category="inline-link-macro-rx"></block></block>
  <block id="0395f03c04f82443f0fc31b418d2ded6" category="list-text"><block ref="0395f03c04f82443f0fc31b418d2ded6" category="inline-link-macro-rx"></block></block>
  <block id="6f838db94915ec121c6b32b1df99a983" category="inline-link-macro">下一步：安裝F5 BIG-IP負載平衡器。</block>
  <block id="ecdb02c5420667abdb9a61d02af359c2" category="paragraph"><block ref="ecdb02c5420667abdb9a61d02af359c2" category="inline-link-macro-rx"></block></block>
  <block id="ea3f2894c4df21a157c45dcbcf989bda" category="paragraph">下列頁面提供NetApp產品的其他資訊、這些產品已通過NetApp解決方案的Anthos應用程式與持續儲存管理的驗證。</block>
  <block id="c49053fbce1331670d3c2e81d9625fec" category="admonition">依照預設、不會在GKE管理工作站上安裝Helm。可從下載、以二進位格式與Ubuntu搭配使用<block ref="3d578643c15f985f07ca6d975ab0e791" category="inline-link-rx"></block>。</block>
  <block id="deae9c61cc109057bffb21d54fd54cdc" category="paragraph">完成Astra Trident操作員安裝之後、您必須為所使用的特定NetApp儲存平台設定後端。請依照下列連結繼續Astra Trident的設定與組態。</block>
  <block id="6ed9d9e6160cedf6c16c9fa74e9d08aa" category="inline-link-macro">下一步：NetApp ONTAP 不再是NFS。</block>
  <block id="86beb69e1e89df92a89baa0d004b08b8" category="paragraph"><block ref="86beb69e1e89df92a89baa0d004b08b8" category="inline-link-macro-rx"></block></block>
  <block id="06a9f54df07db88477918bd7c3f597de" category="inline-link-macro">下一步：NetApp Element 支援iSCSI。</block>
  <block id="dd8532ad7059feaef43031ffa5970de1" category="paragraph"><block ref="dd8532ad7059feaef43031ffa5970de1" category="inline-link-macro-rx"></block></block>
  <block id="0a180196354cfbb6ec70b20db067fa6b" category="inline-link-macro">下一步：NetApp Element 功能</block>
  <block id="73978739caea0775c3c807ecfc27f0c0" category="paragraph"><block ref="73978739caea0775c3c807ecfc27f0c0" category="inline-link-macro-rx"></block></block>
  <block id="5aad41fe64600c5795950512637ebae3" category="inline-link-macro">下一步：探索負載平衡器選項。</block>
  <block id="0b44acd6b2e7596e640212aa28de05c5" category="paragraph"><block ref="0b44acd6b2e7596e640212aa28de05c5" category="inline-link-macro-rx"></block></block>
  <block id="d0ee5cd6f53ec708670800837b7502b7" category="inline-link-macro">下一步：NetApp ONTAP 支援iSCSI。</block>
  <block id="884a92818052da7764b1c5b7589bd458" category="paragraph"><block ref="884a92818052da7764b1c5b7589bd458" category="inline-link-macro-rx"></block></block>
  <block id="eec34a14279b64231b91793978a204da" category="paragraph"><block ref="eec34a14279b64231b91793978a204da" category="inline-link-macro-rx"></block></block>
  <block id="f6762efea56447c717fea204b2676851" category="list-text">按一下「Next（下一步）」以繼續執行每個步驟、並接受每個顯示畫面的預設值、直到您進入儲存選擇畫面為止。選取要部署虛擬機器的VM_Datastore、然後按一下「Next（下一步）」。</block>
  <block id="da0289d58f35e36d18325d6e8038b226" category="admonition">在此檔案中定義了一個名為「FSType」的選用欄位。在iSCSI後端中、此值可設定為特定的Linux檔案系統類型（XFS、ext4等）、也可刪除此值、讓工作節點OS決定要使用哪個檔案系統。</block>
  <block id="ca2835359be5e4e2e79ed5b6fd777515" category="paragraph"><block ref="ca2835359be5e4e2e79ed5b6fd777515" category="inline-image-macro-rx" type="image"></block></block>
  <block id="43f154001e329eb4cb13b7745ba16dac" category="doc">NetApp混合式多雲端搭配VMware的支援組態</block>
  <block id="9b5e2f812e05038b9b432b2e47e60e83" category="cell">ANF<block ref="982de57bbd4b4909ca13b7582da5a7cb" category="inline-link-macro-rx"></block></block>
  <block id="1d2f8b078a75242901e868e7bd66ab6b" category="inline-link-macro">詳細資料立方</block>
  <block id="ef1c4ae5f356b44ca460e3aaf7bf2a32" category="cell">CVS<block ref="3317ea58799e6c9da952335ff4000296" category="inline-link-macro-rx"></block></block>
  <block id="6830947ed88b541bd76da4fcd40e36de" category="paragraph">附註：1 -目前為初始可用度（IA）2 -目前為公開預覽3 -目前為私有預覽</block>
  <block id="9daaf09aeccc99c61fe453295253eae0" category="doc">摘要與結論：為何選擇NetApp混合式多雲端搭配VMware</block>
  <block id="0c17a5e22f572303947d9e14cd98db39" category="paragraph">NetApp Cloud Volumes搭配適用於大型超大規模擴充系統的VMware解決方案、可為想要運用混合雲的組織提供極大潛力。本節其餘部分提供使用案例、說明整合NetApp Cloud Volumes可實現真正的混合式多雲功能。</block>
  <block id="17c56e542773e2aafc2645d0e9f0d8ec" category="summary">NetApp混合式多雲端搭配VMware解決方案是一套策略與技術功能、可在主要公有雲超大規模擴充系統中展現NetApp儲存設備的功能。</block>
  <block id="eee9b49313d921d448286765fe05bd22" category="doc">適用於AWS / VMC的NetApp混合式多雲端解決方案</block>
  <block id="27dafc6e4e2e3563b0434812fa3fee7c" category="section-title">GCP區域可用度</block>
  <block id="68c6fcf9f9393805f0529c36994a9266" category="paragraph">GCP區域上市時間將於GCP上市時公佈。</block>
  <block id="b632c27ff82cfe142baffd346253a21b" category="doc">NetApp混合式多雲端與VMware的使用案例</block>
  <block id="0257f1ddf73d49021a7feba150b7ea8b" category="paragraph">此案例最簡單的答案是每個超大規模擴充系統中的VMware產品。如同NetApp®Cloud Volumes、VMware提供一種將內部部署VMware環境移轉或延伸至任何雲端的方法、讓您保留現有的內部部署資產、技能和工具、同時在雲端原生執行工作負載。如此可降低風險、因為不會發生服務中斷或需要變更IP、讓IT團隊能夠使用現有的技能和工具、以內部部署的方式操作。如此一來、雲端移轉速度就會加快、並能更順暢地移轉至混合式多雲端架構。</block>
  <block id="33a1a24f2edf4ad9358baef7fb3c9cdf" category="doc">使用ANF和Jetstream進行災難恢復</block>
  <block id="14f4fb472fe43e084476c5d8329b15f8" category="paragraph">災難恢復至雲端是一種彈性且具成本效益的方法、可保護工作負載免受站台停機和資料毀損事件（例如勒索軟體）的影響。使用VMware VAIO架構、內部部署的VMware工作負載可複寫至Azure Blob儲存設備並進行還原、使資料遺失率降至最低或接近零、RTO接近零。</block>
  <block id="b614fc13a076bceeca03cda9c4b1fdce" category="paragraph">可以使用Jetstream DR無縫恢復從內部部署複製到AVS的工作負載、特別是Azure NetApp Files 到還原的工作負載。它能在災難恢復站台使用最少的資源、並以具成本效益的雲端儲存設備、實現具成本效益的災難恢復。透過Azure Blob Storage、在Anf資料存放區中自動恢復、根據網路對應、Jetstream DR會將獨立的VM或相關VM群組恢復至恢復站台基礎架構、並提供時間點還原功能以保護勒索軟體。</block>
  <block id="29d141d1797b070195b4a3a5af842d35" category="paragraph">本文件提供對Jetstream災難恢復作業原則及其主要元件的瞭解。</block>
  <block id="0b3b3c3ee7cf95d87f597441efd5f743" category="example-title">解決方案部署總覽</block>
  <block id="1dff5e9fa7f5c212df3e98d343d6a771" category="list-text">在內部部署資料中心安裝Jetstream DR軟體。</block>
  <block id="7b87ce74b3d0f7e81fef7a7994f9c8ed" category="list-text">從Azure Marketplace（ZIP）下載Jetstream DR軟體套裝組合、並在指定的叢集中部署Jetstream DR MSA（OVA）。</block>
  <block id="56c27e9a114a51f4863d0fef4cab3eba" category="list-text">使用I/O篩選套件設定叢集（安裝Jetstream VIB）。</block>
  <block id="43de8924da88a34109307d6aac84811a" category="list-text">在災難恢復AVS叢集所在的相同地區配置Azure Blob（Azure儲存帳戶）。</block>
  <block id="2cee29b70a6ea4765a6365e4d71775c7" category="list-text">部署DRVA設備並指派複寫記錄磁碟區（來自現有資料存放區或共享iSCSI儲存設備的VMDK）。</block>
  <block id="9c6ca12d0f999d69d715e02482665e5d" category="list-text">建立受保護的網域（相關VM群組）、並指派DRVA和Azure Blob Storage/anf。</block>
  <block id="04fd46fc4d0422c8562609b47b636797" category="list-text">開始保護。</block>
  <block id="8391f9ad7383911e1b8e67d8dfd23ffb" category="list-text">在Azure VMware解決方案私有雲中安裝Jetstream DR軟體。</block>
  <block id="81aaea44e289ce199fea205f7d0b8cd9" category="list-text">使用Run命令安裝及設定Jetstream DR。</block>
  <block id="ef261b549f401ed8d66b72f8310d7376" category="list-text">使用「掃描網域」選項新增相同的Azure Blob容器並探索網域。</block>
  <block id="3c22f96e96fb514aec06cc03a6d35958" category="list-text">部署所需的DRVA設備。</block>
  <block id="a8930e0df42395d789466e0695d11ce7" category="list-text">使用可用的vSAN或ANF資料存放區建立複寫記錄磁碟區。</block>
  <block id="087316b53a71d576c6dfeda2385ef108" category="list-text">匯入受保護的網域、並將RockVA（恢復VA）設定為使用ANF資料存放區來放置VM。</block>
  <block id="f47df812f6139d9d12dc179df9e7da57" category="list-text">選取適當的容錯移轉選項、並針對接近零的RTO網域或VM開始持續重新補充。</block>
  <block id="eb50fc931b0aff72e9034088a04a260b" category="list-text">在災難事件期間、觸發容錯移轉至Azure NetApp Files 指定AVS DR站台中的各個資料存放區。</block>
  <block id="21e74b3c28d006317f38a2bc8eb1da3b" category="inline-link">Azure Marketplace</block>
  <block id="f314a6aa5faf9dfffba2cdac4d4dd420" category="list-text">在受保護的站台恢復之後、呼叫容錯回復至受保護的站台。在啟動之前、請確定符合本說明所述的先決條件<block ref="600591f3feccd7454d660dd4d2972306" category="inline-link-rx"></block> 此外、您也可以執行所提供的「頻寬測試工具」（BWT）、評估Azure Blob儲存設備在與Jetstream DR軟體搭配使用時的潛在效能及其複寫頻寬。完成先決條件（包括連線）之後、請從設定並訂閱適用於AVS的Jetstream DR<block ref="e842a0f9c9000f3898fd5cb9408b8b3e" category="inline-link-rx"></block>。軟體套裝軟體下載完成後、請繼續執行上述安裝程序。</block>
  <block id="01543f177a0cc07917f4dc3510b8649e" category="paragraph">規劃及啟動大量VM的保護（例如、超過100個）時、請使用位於Jetstream DR Automation Toolkit的容量規劃工具（CPt）。提供要保護的VM清單、以及其RTO和恢復群組偏好設定、然後執行CPt。</block>
  <block id="ddfb9ed8decef8b3db76f88d682c7f1e" category="paragraph">執行下列功能：</block>
  <block id="ab5991781a05bc72668a8bf941d7a4a5" category="list-text">根據虛擬機器的RTO、將虛擬機器整合至保護網域。</block>
  <block id="b3229123cf8dd56b28f1a8e13f79ddde" category="list-text">定義最理想的DRVA數量及其資源。</block>
  <block id="2c3b2c6c87689b15c4cd3ea75cb40ef8" category="list-text">預估必要的複寫頻寬。</block>
  <block id="88d06f884976bb7a1ce66e51624c0196" category="list-text">識別複寫記錄磁碟區的特性（容量、頻寬等）。</block>
  <block id="60a85cb526817dd0f1172dcdacc94700" category="list-text">估計所需的物件儲存容量等。</block>
  <block id="ea56b8a01683ebc544ddabe2f0fcf571" category="admonition">指定的網域數量和內容取決於各種VM特性、例如平均IOPS、總容量、優先順序（定義容錯移轉順序）、RTO及其他特性。</block>
  <block id="fc321ed0fcff278e628765c7a327d1c0" category="section-title">在內部部署資料中心安裝Jetstream DR</block>
  <block id="87674fd676f223da1c84cd30ba47e2d2" category="paragraph">Jetstream DR軟體包含三個主要元件：「Jetstream DR管理伺服器虛擬應用裝置（MSA）」、「DR虛擬應用裝置（DRVA）」和「主機元件（I/O篩選套件）」。MSA用於在運算叢集上安裝及設定主機元件、然後管理Jetstream DR軟體。下列清單提供安裝程序的詳細說明：</block>
  <block id="44a5c8a42b561b0a83b98c7dffe66dc4" category="list-text">檢查先決條件。</block>
  <block id="6035c664a9aaf8fa1c40e58c8beaab92" category="list-text">執行容量規劃工具以取得資源和組態建議（可選、但建議用於概念驗證試用）。</block>
  <block id="ccc2ab66d8941e0dddf26ed50f55ba4c" category="list-text">將Jetstream DR MSA部署至指定叢集內的vSphere主機。</block>
  <block id="efdd725636035b733a89826db0da74f4" category="list-text">在瀏覽器中使用其DNS名稱啟動MSA。</block>
  <block id="39602c8241f165da483e3678f5d62871" category="list-text">向MSA登錄vCenter伺服器。若要執行安裝、請完成下列詳細步驟：</block>
  <block id="f6a1019b86d486190fed5e4a0c122f59" category="list-text">部署了Jetstream DR MSA並註冊vCenter Server之後、請使用vSphere Web Client存取Jetstream DR外掛程式。您可以瀏覽至「資料中心」&gt;「設定」&gt;「Jetstream DR」來完成此作業。</block>
  <block id="623c8f2c05001c7eeecb0781c049f16b" category="paragraph"><block ref="623c8f2c05001c7eeecb0781c049f16b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e5b9a2e255ce372cd80d886148efdd00" category="list-text">在Jetstream DR介面中、選取適當的叢集。</block>
  <block id="699c846ab66a56017e37da99f6ea7320" category="paragraph"><block ref="699c846ab66a56017e37da99f6ea7320" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3d18d2901e95370132a2545c2f511db3" category="list-text">使用I/O篩選套件設定叢集。</block>
  <block id="34896ae2be725a2f3d42bd7b4b7888fd" category="paragraph"><block ref="34896ae2be725a2f3d42bd7b4b7888fd" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0598abb730b378c25cbbc28507342260" category="list-text">新增位於恢復站台的Azure Blob儲存設備。</block>
  <block id="76ef667a7a95f046d391e54cea1b9142" category="list-text">從「應用裝置」索引標籤部署DR虛擬應用裝置（DRVA）。</block>
  <block id="ba445d98067e8161fa165b8f25ad294d" category="admonition">DRVA可由CPt自動建立、但對於POC試用、我們建議手動設定及執行DR週期（「start protection」（開始保護）&gt;「Failover」（容錯移轉）&gt;「Failover」（容錯回復））。</block>
  <block id="60de8eac7ca6ad5f7321abf5b462b65d" category="paragraph">Jetstream DRVA是一種虛擬應用裝置、有助於在資料複寫程序中發揮關鍵功能。受保護的叢集必須至少包含一個DRVA、而且每個主機通常會設定一個DRVA。每個DRVA都能管理多個受保護的網域。</block>
  <block id="f55f11c27893cdacff776d302a9b9d07" category="paragraph"><block ref="f55f11c27893cdacff776d302a9b9d07" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7ece649567fdf82717852e0f8662d070" category="paragraph">在此範例中、我們為80部虛擬機器建立了四部DRVA。</block>
  <block id="cf5c65945851f67013f23b2d83d4a346" category="list-text">使用VMDK從可用的資料存放區或獨立的共享iSCSI儲存集區、為每個DRVA建立複寫記錄磁碟區。</block>
  <block id="9ad06750519e0664bc1ec852cc5e07b6" category="list-text">從「受保護的網域」索引標籤、使用Azure Blob儲存站台、DRVA執行個體和複寫記錄的相關資訊、建立所需數量的受保護網域。受保護的網域會定義叢集中的特定VM或VM組、這些VM會一起受到保護、並指派容錯移轉/容錯回復作業的優先順序。</block>
  <block id="fae4ab5e0fd81c7cdb44eba33dbe42fc" category="paragraph"><block ref="fae4ab5e0fd81c7cdb44eba33dbe42fc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e68391e0d2ed07243f438a1d725a243a" category="list-text">選取您要保護的VM、並啟動受保護網域的VM保護。這會開始將資料複寫到指定的Blob Store。</block>
  <block id="24e5f5b0186cca0606b176380e3ee45c" category="admonition">確認受保護網域中的所有VM都使用相同的保護模式。</block>
  <block id="9870cb575efa482fab7fa9aa1fdf16ac" category="admonition">回寫（VMDK）模式可提供更高的效能。</block>
  <block id="895d59858a04439859a33d3288706702" category="paragraph"><block ref="895d59858a04439859a33d3288706702" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0e6ea2b1c670425ac09f1aadbc26e266" category="paragraph">驗證複寫記錄磁碟區是否放置在高效能儲存設備上。</block>
  <block id="3237de27ecac8fd3a072d337514991eb" category="admonition">容錯移轉執行手冊可設定為群組VM（稱為「恢復群組」）、設定開機順序、以及修改CPU /記憶體設定和IP組態。</block>
  <block id="840c65296e1af99a67123dd9459e5548" category="section-title">使用Run命令、在Azure VMware解決方案私有雲中安裝AVS的Jetstream DR</block>
  <block id="d2441f955b3d04e99be7845bb7af68a6" category="paragraph">恢復站台（AVS）的最佳實務做法是事先建立三節點的指示燈式叢集。如此可預先設定恢復站台基礎架構、包括下列項目：</block>
  <block id="dab895f226673c73578b4c45dead73c0" category="list-text">目的地網路區段、防火牆、DHCP和DNS等服務。</block>
  <block id="188d8743a82411348e186c7118e92c9a" category="list-text">安裝AVS的Jetstream DR</block>
  <block id="fd3bf57ff38b27ccbf66886b71a34f76" category="list-text">將ANF磁碟區組態為資料存放區、而moreJetStream DR則支援接近零的RTO模式、適用於關鍵任務網域。對於這些網域、應該預先安裝目的地儲存設備。在此情況下、建議使用ANF儲存類型。</block>
  <block id="89aa12cc0cd4846ef86fbe8dfd78d8bc" category="admonition">應在AVS叢集上設定網路組態（包括區段建立）、以符合內部部署需求。</block>
  <block id="d50efdb8ff06cd2518521c1d4f68a67a" category="paragraph">視SLA和RTO需求而定、您可以使用持續容錯移轉或一般（標準）容錯移轉模式。對於接近零的RTO、應在恢復站台開始持續重新補充。</block>
  <block id="7c1dc76f383d9b6253a273d35f636909" category="paragraph">若要在Azure VMware解決方案私有雲上安裝適用於AVS的Jetstream DR、請完成下列步驟：</block>
  <block id="7f0bec83fc0010707471d9d3b84fd45b" category="list-text">從Azure入口網站移至Azure VMware解決方案、選取私有雲、然後選取執行命令&gt;套件&gt; JSDR.Configuration。</block>
  <block id="6e37d4d4f3c60de2fb2e2e218753f9ea" category="admonition">Azure VMware解決方案中的預設CloudAdmin使用者沒有足夠權限可安裝AVS的Jetstream DR。Azure VMware解決方案可針對Jetstream DR叫用Azure VMware Solution Run命令、以簡化及自動化方式安裝Jetstream DR。</block>
  <block id="832830e8d1c5e28f4e206c65a067fbfc" category="paragraph">下列螢幕快照顯示使用DHCP型IP位址進行安裝。</block>
  <block id="1ca67a15b29b11c686a17480c2ecde9c" category="paragraph"><block ref="1ca67a15b29b11c686a17480c2ecde9c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="23fac09aaa7dcea6eb534251f50feae2" category="list-text">在安裝AVS的Jetstream DR完成後、請重新整理瀏覽器。若要存取Jetstream DR UI、請前往SDDC資料中心&gt;組態&gt; Jetstream DR。</block>
  <block id="58517d8d2fa977f39ca2b76c09c43dc4" category="paragraph"><block ref="58517d8d2fa977f39ca2b76c09c43dc4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="50bf7f298e2ed24c67b98b8d5c4e6dbe" category="list-text">從Jetstream DR介面新增Azure Blob Storage帳戶、以保護內部部署叢集做為儲存站台、然後執行「掃描網域」選項。</block>
  <block id="1e976589dd0f1f098c13f4564f91813c" category="paragraph"><block ref="1e976589dd0f1f098c13f4564f91813c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b4e7f9056aa9f52fd1bff1e2837a4e84" category="list-text">匯入受保護的網域之後、請部署DRVA設備。在此範例中、會使用Jetstream DR UI從恢復站台手動啟動持續重新補充。</block>
  <block id="7aa502331a6314a8d66df611c4538f75" category="admonition">您也可以使用已建立的CPT計畫來自動化這些步驟。</block>
  <block id="bf4fdf975fae154bdca78e36bd7edbe3" category="list-text">匯入受保護的網域、並將恢復VA設定為使用ANF資料存放區來放置VM。</block>
  <block id="0a4fc536683686b518331dd2531934b5" category="paragraph"><block ref="0a4fc536683686b518331dd2531934b5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="827098a514e7d7fc1579120ec370bfd9" category="admonition">請確定選取的區段已啟用DHCP、而且有足夠的IP可用。在網域還原期間、會暫時使用動態IP。每個恢復中的VM（包括持續重新補充）都需要個別的動態IP。恢復完成後、IP便會釋出、並可重複使用。</block>
  <block id="10e011fef535dced7a4095544de7266d" category="list-text">選取適當的容錯移轉選項（持續容錯移轉或容錯移轉）。在此範例中、會選取持續還原（持續容錯移轉）。</block>
  <block id="adac1a1b7a65bae37b6bd9cbd66b248a" category="paragraph"><block ref="adac1a1b7a65bae37b6bd9cbd66b248a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f6a68077ca82bffe5f08d96bdcd36e18" category="section-title">執行容錯移轉/容錯回復</block>
  <block id="61a6473493a7f05f03d606cdfeb234d6" category="list-text">在內部部署環境的受保護叢集發生災難（部分或完整故障）之後、觸發容錯移轉。</block>
  <block id="3a09da9a187f9208fcd685b78b772764" category="admonition">您可以使用CPt執行容錯移轉計畫、將VM從Azure Blob Storage恢復到AVS叢集還原站台。</block>
  <block id="f66e570f82bdb271d0adb30435ad5b2b" category="admonition">在AVS中啟動受保護的VM後、容錯移轉（持續或標準還原）會自動恢復保護、而在Azure Blob Storage中、則會繼續將資料複寫到適當/原始的容器中。</block>
  <block id="d27309d11731255db072c47f9675d22f" category="paragraph"><block ref="d27309d11731255db072c47f9675d22f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ef4a8f8fdcb45687697d39da1e99dc36" category="paragraph"><block ref="ef4a8f8fdcb45687697d39da1e99dc36" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bf84d29276236d6a8b8e75f1a2c8f115" category="paragraph">工作列會顯示容錯移轉活動的進度。</block>
  <block id="8430656d9f62a51ed63ade1e47ad34f7" category="list-text">當工作完成時、存取恢復的VM並維持正常營運。</block>
  <block id="f89c6dfb9ae23126d1e04570e23dcda9" category="paragraph"><block ref="f89c6dfb9ae23126d1e04570e23dcda9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3c8214eaedd2bb37ba1d1b018bf4aa63" category="paragraph">在主站台啟動並再次執行之後、即可執行容錯回復。恢復VM保護、並檢查資料一致性。</block>
  <block id="2743b11e431e1c7f8504d917d4ffc4d6" category="list-text">還原內部部署環境。視災難事件類型而定、可能需要還原及/或驗證受保護叢集的組態。如有必要、可能需要重新安裝Jetstream DR軟體。</block>
  <block id="232732afcd0f951efbcfaea123f0a632" category="admonition">附註：Automation Toolkit提供的「恢復公用程式準備回復」指令碼、可用來協助清除任何過時VM、網域資訊等的原始受保護網站。</block>
  <block id="6d52b59b59572c39053e3858b37fcc57" category="list-text">存取還原的內部部署環境、前往Jetstream DR UI、然後選取適當的受保護網域。受保護的站台準備好進行容錯回復之後、請在UI中選取「容錯回復」選項。</block>
  <block id="7350f3b9fc85111b45034212957d9d98" category="paragraph"><block ref="7350f3b9fc85111b45034212957d9d98" category="inline-image-macro-rx" type="image"></block></block>
  <block id="82bc01d2feed0849423b6b5676888f97" category="admonition">此外、也可使用由CPT產生的容錯回復計畫、將VM及其資料從物件存放區傳回原始的VMware環境。</block>
  <block id="36e8c86c253ad3dad15eaab2f5de961c" category="admonition">指定在恢復站台暫停VM並在受保護站台重新啟動之後的最大延遲。這次包括在停止容錯移轉虛擬機器之後完成複寫、清理恢復站台的時間、以及在受保護站台重新建立虛擬機器的時間。NetApp建議的值為10分鐘。</block>
  <block id="c53daff4bd6065c0627bf739410f7e88" category="paragraph">完成容錯回復程序、然後確認恢復VM保護和資料一致性。</block>
  <block id="ddd33ab61759ca3d4dcfcd934ab83b04" category="section-title">Ransomware恢復</block>
  <block id="459d2a2d25c4ad6db53b9e0b367f3d4c" category="paragraph">從勒索軟體中恢復可能是一項艱鉅的任務。具體而言、IT組織很難判斷安全的回報點、一旦確定、如何確保恢復的工作負載受到保護、避免再度發生攻擊（從休眠的惡意軟體或透過易受影響的應用程式）。</block>
  <block id="414dfaa4bcffbd76b7f5ed891cdf1535" category="paragraph">針對AVS的Jetstream DR搭配Azure NetApp Files 支援功能資料存放區、可讓組織從可用時間點恢復、以便在需要時將工作負載恢復至功能性隔離的網路、藉此解決這些問題。恢復功能可讓應用程式彼此運作和通訊、但不會讓它們暴露在北南流量中、因此安全團隊可以安全地執行鑑識和其他必要的補救措施。</block>
  <block id="a20215628470de7f6faa691cc18c4971" category="paragraph"><block ref="a20215628470de7f6faa691cc18c4971" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8f95900d5509fa4de2d1c7e9489f4dc6" category="summary">災難恢復至雲端是一種彈性且具成本效益的方法、可保護工作負載、避免站台中斷運作、以及勒索軟體等資料毀損事件。有了NetApp SnapMirror、使用來賓連線儲存設備的內部部署VMware工作負載可複寫至Cloud Volumes ONTAP Azure上執行的NetApp VMware。</block>
  <block id="48b47eaa686f297ed741f5cb81de709d" category="paragraph">作者：Ravi BCB和Niyazz Mohamed, NetApp</block>
  <block id="be93173f941fd10be0e9fddb606bd940" category="paragraph">災難恢復至雲端是一種彈性且具成本效益的方法、可保護工作負載、避免站台中斷運作、以及勒索軟體等資料毀損事件。有了NetApp SnapMirror、使用來賓連線儲存設備的內部部署VMware工作負載可複寫至Cloud Volumes ONTAP Azure上執行的NetApp VMware。這涵蓋應用程式資料、但實際VM本身的情況如何。災難恢復應涵蓋所有相依元件、包括虛擬機器、VMDK、應用程式資料等。為達成此目標、SnapMirror與Jetstream一起可用來無縫恢復從內部部署複寫至Cloud Volumes ONTAP VMware的工作負載、同時使用vSAN儲存設備來執行VM VMDK。</block>
  <block id="b25b60af8de6f7256f832e93e5651972" category="paragraph">本文件提供逐步的方法來設定及執行使用NetApp SnapMirror、Jetstream及Azure VMware解決方案（AVS）的災難恢復。</block>
  <block id="8f0e380cfb4a39395f72ab50e67ea50e" category="paragraph"><block ref="8f0e380cfb4a39395f72ab50e67ea50e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="72916c3a8dffc193957f3809a8b4acbf" category="paragraph">本文件著重於客體內儲存應用程式資料（也稱為來賓連線）、我們假設內部環境使用SnapCenter 的是應用程式一致的備份。</block>
  <block id="d2e057fdab62f3ae766c18c66acc57fd" category="admonition">本文件適用於任何第三方備份或還原解決方案。視環境中使用的解決方案而定、請遵循最佳實務做法來建立符合組織SLA的備份原則。</block>
  <block id="380a8e9be36984cc009caa1b7aaadc5d" category="paragraph">若要在內部部署環境與Azure虛擬網路之間建立連線、請使用Express Route Global Reach或虛擬WAN搭配VPN閘道。應根據內部部署的VLAN設計來建立區段。</block>
  <block id="057412b2bc7b34ca7066f70b80b69510" category="admonition">將內部部署資料中心連線至Azure的選項有多種、因此我們無法在此文件中概述特定的工作流程。如需適當的內部部署至Azure連線方法、請參閱Azure文件。</block>
  <block id="ecc1cadbbbb0ef1d84ddc861f4497661" category="section-title">部署災難恢復解決方案</block>
  <block id="5497ec7c1fdee07126ed64bf9fed5d87" category="section-title">解決方案部署總覽</block>
  <block id="8eaa61639db3e085f8c7eb12151b3736" category="list-text">確保應用程式資料是以SnapCenter 不必要的RPO要求使用支援功能進行備份。</block>
  <block id="a04938b02e6c8ce6c9dbb34eac7d6a0a" category="list-text">在Cloud Volumes ONTAP 適當的訂購和虛擬網路中使用Cloud Manager、以正確的執行個體大小進行配置。</block>
  <block id="15a6eec061b4c7d026aa504c05f01405" category="list-text">為相關的應用程式磁碟區設定SnapMirror。</block>
  <block id="3d1e7fac653a4e240c35721f0e3902da" category="list-text">更新SnapCenter 中的備份原則、以便在排程工作之後觸發SnapMirror更新。</block>
  <block id="2a690d204d02bcc25768246a5c2082bb" category="list-text">在內部部署資料中心安裝Jetstream DR軟體、並開始保護虛擬機器。</block>
  <block id="060b718b1c12d4bed763206429b5c467" category="list-text">在災難事件期間、請使用Cloud Manager中斷SnapMirror關係、並觸發將虛擬機器容錯移轉至Azure NetApp Files 指定AVS DR站台中的VMware資料存放區或vSAN資料存放區。</block>
  <block id="16193a2e612115bbf00cb18e7a9ec1aa" category="list-text">重新連接應用程式VM的iSCSI LUN和NFS掛載。</block>
  <block id="d274e9c5c862dd28666a25176c344293" category="list-text">在主站台恢復後、透過反向重新同步SnapMirror來叫用容錯回復至受保護站台。</block>
  <block id="c99b24a6817b7fd3c4d8687fc4bb35df" category="section-title">部署詳細資料</block>
  <block id="eb5301ce7e383557ea1c2ecc5d8df8a4" category="example-title">在Azure上設定CVO、並將磁碟區複寫至CVO</block>
  <block id="97e7c9a7d06eac006a28bf05467fcc8b" category="inline-link">連結</block>
  <block id="ebcd981f8224ab4325994da29465cf8c" category="paragraph">第一步是在Cloud Volumes ONTAP Azure上設定功能 <block ref="4e2a8d8afd7d7aca598f792d5d04f9c7" category="inline-link-rx"></block>）並以Cloud Volumes ONTAP 所需的頻率和快照保留量、將所需的Volume複製到不間斷的地方。</block>
  <block id="30200baf346b021de0310f8f8307fd8e" category="paragraph"><block ref="30200baf346b021de0310f8f8307fd8e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b453212f1c9ff723da2989dbb439d57e" category="example-title">設定AVS主機和CVO資料存取</block>
  <block id="46fdc14ede3dd0a84faa31cf1cde9624" category="paragraph">部署SDDC時、需要考量的兩個重要因素是Azure VMware解決方案中SDDC叢集的大小、以及SDDC持續服務的時間。這兩項災難恢復解決方案的關鍵考量、有助於降低整體營運成本。SDDC可只有三部主機、在全規模部署中、一直到多主機叢集為止。</block>
  <block id="938f299f0522c6e7bea183a8ea437225" category="paragraph">部署AVS叢集的決定主要取決於RPO / RTO需求。有了Azure VMware解決方案、SDDC就能準時配置、以準備測試或實際的災難事件。即時部署的SDDC可在不處理災難時節省ESXi主機成本。不過、這種部署方式會在部署SDDC時、影響RTO數小時。</block>
  <block id="595875340c961d4ff4461ee8fe8a3ce3" category="paragraph">最常見的部署選項是讓SDDC以一律開啟的操作前導指示燈模式執行。此選項可提供三部隨時可用的主機的小型佔用空間、並提供執行中的基準來執行模擬活動和法規遵循檢查、藉此加速恢復作業、避免在正式作業站台和災難恢復站台之間發生作業移位的風險。當需要處理實際的DR事件時、可以將指示燈叢集快速擴充至所需的層級。</block>
  <block id="2f5ab77fee006682ed15a6dbfb54c2a0" category="paragraph">若要設定AVS SDDC（無論是隨需或是以指示燈模式）、請參閱<block ref="86c283cfb3c0f32634050918a847eb2d" category="inline-link-rx"></block>。先決條件是確認位於AVS主機上的客體VM能夠在Cloud Volumes ONTAP 建立連線之後、從支援中心使用資料。</block>
  <block id="f63f01c08cfc3f386ad47993e097e207" category="paragraph">正確設定好VMware及AVS之後Cloud Volumes ONTAP 、請開始設定Jetstream、使用VAIO機制、並利用SnapMirror將應用程式磁碟區複本複製到Cloud Volumes ONTAP 物件上、將內部部署工作負載自動還原至AVS（使用應用程式VMDK的VM及使用客體內建儲存設備的VM）。</block>
  <block id="9f9a4d5afd3892f2b17ecc3ed2ad2630" category="example-title">在內部部署資料中心安裝Jetstream DR</block>
  <block id="68027d729e644485691d1aa185f22dad" category="paragraph">Jetstream DR軟體包含三個主要元件：Jetstream DR管理伺服器虛擬設備（MSA）、DR虛擬設備（DRVA）和主機元件（I/O篩選套件）。MSA用於在運算叢集上安裝及設定主機元件、然後管理Jetstream DR軟體。安裝程序如下：</block>
  <block id="2e5f490166b4cbb95848c72a3f3296cd" category="list-text">檢查先決條件。</block>
  <block id="01eb617ea64b2e2237c95fa866dc6c99" category="list-text">執行容量規劃工具以取得資源和組態建議。</block>
  <block id="91d290eafae733f57fe1874a21a706be" category="list-text">將Jetstream DR MSA部署至指定叢集中的每個vSphere主機。</block>
  <block id="130231ab3f0401b0c0e0f66fadd45d5d" category="list-text">向MSA登錄vCenter伺服器。</block>
  <block id="6f621d6c94ab64b27eea06de601902d1" category="list-text">部署了Jetstream DR MSA並註冊vCenter Server之後、請使用vSphere Web Client瀏覽至Jetstream DR外掛程式。您可以瀏覽至「資料中心」&gt;「設定」&gt;「Jetstream DR」來完成此作業。</block>
  <block id="874efc870db36a204a974a32ac47c11e" category="paragraph"><block ref="874efc870db36a204a974a32ac47c11e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9aad471e9824a9ef2c43fae648b07613" category="list-text">在Jetstream DR介面中、完成下列工作：</block>
  <block id="7ab4f3b382b4ad9e82615cacd27d739c" category="paragraph"><block ref="7ab4f3b382b4ad9e82615cacd27d739c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cc59cbc4a86e6676ff3d70ba71ba6c0c" category="list-text">新增位於恢復站台的Azure Blob儲存設備。</block>
  <block id="c86146f54b5d798bebf8802ac8b9fcde" category="paragraph"><block ref="c86146f54b5d798bebf8802ac8b9fcde" category="inline-image-macro-rx" type="image"></block></block>
  <block id="47d0f0f8f33fcbb5e022f9d64bbbed63" category="list-text">從「應用裝置」索引標籤部署所需數量的DR虛擬應用裝置（DRVA）。</block>
  <block id="f609ba6f20a39912fd585d05df8bc4de" category="admonition">使用容量規劃工具來預估所需的DRVA數量。</block>
  <block id="4c16a641767d4c33c410687e7b6613ef" category="paragraph"><block ref="4c16a641767d4c33c410687e7b6613ef" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1a6b84958a757d2c38048bdf788c590f" category="paragraph"><block ref="1a6b84958a757d2c38048bdf788c590f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b7fbe3ea0d16e8cdd943c71406ee9095" category="list-text">使用可用的資料存放區或獨立的共享iSCSI儲存池中的VMDK、為每個DRVA建立複寫記錄磁碟區。</block>
  <block id="376f9301b1fb23692806f601a501bc1d" category="paragraph"><block ref="376f9301b1fb23692806f601a501bc1d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3603870d5d8cd5f384cf0b1258a4276a" category="list-text">從「受保護的網域」索引標籤、使用Azure Blob儲存站台、DRVA執行個體和複寫記錄的相關資訊、建立所需數量的受保護網域。受保護的網域會定義叢集中的特定VM或一組應用程式VM、這些VM會一起受到保護、並指派容錯移轉/容錯回復作業的優先順序。</block>
  <block id="fc72030b6d0a9889fccd2facfedc6b0e" category="paragraph"><block ref="fc72030b6d0a9889fccd2facfedc6b0e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="09795e4b943747b98cfc63dfc54275c3" category="paragraph"><block ref="09795e4b943747b98cfc63dfc54275c3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="eb05314ca50bac72a0b13f171a2b6912" category="list-text">選取要保護的VM、並根據相依性將VM分組為應用程式群組。應用程式定義可讓您將一組VM分組為邏輯群組、其中包含開機順序、開機延遲、以及可在恢復時執行的選用應用程式驗證。</block>
  <block id="818cadd78e726fcca2ca69a99c22df63" category="admonition">請確定保護網域中的所有VM都使用相同的保護模式。</block>
  <block id="8cc32e4f2682b9a5731a285459a5d9c5" category="admonition">回寫（VMDK）模式可提供更高的效能。</block>
  <block id="639f5dd27b8ff76608b346f78c673b4c" category="paragraph"><block ref="639f5dd27b8ff76608b346f78c673b4c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c916465a580d8d569bd369e8e7f6d609" category="list-text">請確定複寫記錄磁碟區放置在高效能儲存設備上。</block>
  <block id="1fc3826d710244fdb6c4a09d89f98d5f" category="paragraph"><block ref="1fc3826d710244fdb6c4a09d89f98d5f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b5038dd04f28442b45e40cc394920ed6" category="list-text">完成後、按一下「開始保護受保護網域」。這會開始將所選VM的資料複寫到指定的Blob存放區。</block>
  <block id="5ed7580bd1e6ae0cef691df5ee3b54a2" category="paragraph"><block ref="5ed7580bd1e6ae0cef691df5ee3b54a2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1e860406ba63567c5eccf30055287b47" category="list-text">複寫完成後、VM保護狀態會標示為可恢復。</block>
  <block id="c873c8c59414399f210af5ec22a764d8" category="paragraph"><block ref="c873c8c59414399f210af5ec22a764d8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a918d27a636eddf2d16b9e8544402c44" category="admonition">容錯移轉Runbook可設定為群組VM（稱為恢復群組）、設定開機順序、以及修改CPU /記憶體設定和IP組態。</block>
  <block id="90ee2ee79e46dfb341705824bdba5b5a" category="list-text">按一下「設定」、然後按一下Runbook「設定」連結以設定Runbook群組。</block>
  <block id="92471f4927394b88148206ffbdc25dbd" category="paragraph"><block ref="92471f4927394b88148206ffbdc25dbd" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6c352449075dfd7c55f51cc486cc2541" category="list-text">按一下「Create Group（建立群組）」按鈕、開始建立新的Runbook群組。</block>
  <block id="e2fbd552cab46f747bc672bf2e1b0fe9" category="admonition">如有需要、請在畫面下方套用自訂的預先指令碼和後置指令碼、以便在執行手冊群組作業之前和之後自動執行。確定Runbook指令碼位於管理伺服器上。</block>
  <block id="27601285770e6db675411c9282459b87" category="paragraph"><block ref="27601285770e6db675411c9282459b87" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f26b7048f93345b3726eb88bd506893a" category="list-text">視需要編輯VM設定。指定用於恢復VM的參數、包括開機順序、開機延遲（以秒為單位）、CPU數量、以及要分配的記憶體容量。按一下向上或向下箭頭、變更VM的開機順序。也提供了用於保留MAC的選項。</block>
  <block id="ff0274a4eb386ebd23581a082f3b5b5b" category="paragraph"><block ref="ff0274a4eb386ebd23581a082f3b5b5b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9c2cb19a0ef20564c20014e97d134168" category="list-text">靜態IP位址可針對群組中的個別VM手動設定。按一下VM的NIC View連結、手動設定其IP位址設定。</block>
  <block id="f26795dd104c3568722b09bce335c904" category="paragraph"><block ref="f26795dd104c3568722b09bce335c904" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a85bcb54a31960de00ecac27985d3f3a" category="list-text">按一下「Configure（設定）」按鈕以儲存個別VM的NIC設定。</block>
  <block id="d6431b9ceb7168220978cc8a6f804dc2" category="paragraph"><block ref="d6431b9ceb7168220978cc8a6f804dc2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c295c7835a978c48c9f8253edc92e6ab" category="paragraph"><block ref="c295c7835a978c48c9f8253edc92e6ab" category="inline-image-macro-rx" type="image"></block></block>
  <block id="423aff401e73269c665789c2a91cd2ba" category="paragraph">容錯移轉和容錯回復執行工作簿的狀態現在會列為「已設定」。容錯移轉和容錯回復執行手冊群組是以相同的初始VM群組和設定成對建立。如有必要、您可以按一下各自的詳細資料連結並進行變更、個別自訂任何Runbook群組的設定。</block>
  <block id="8868e7fa41b895d0441f3c000558500e" category="example-title">在私有雲中安裝AVS的Jetstream DR</block>
  <block id="ca2d476f98a102308a1ca46e0314f094" category="paragraph">恢復站台（AVS）的最佳實務做法是事先建立三節點的指示燈式叢集。如此可預先設定恢復站台基礎架構、包括下列項目：</block>
  <block id="03bd3d186e1fc83d47907ac1797d8eaf" category="list-text">目的地網路區段、防火牆、DHCP和DNS等服務</block>
  <block id="543c0ee14bc42e7f38251e99ace0ea62" category="list-text">將anf磁碟區設定為資料存放區等</block>
  <block id="1e09668d117c7996e6a76a4aa2e44013" category="paragraph">對於任務關鍵型網域、Jetstream DR支援的RTO模式接近零。對於這些網域、應該預先安裝目的地儲存設備。在此情況下、建議使用ANF儲存類型。</block>
  <block id="d9a7d19a656972791042b00bc2a308fa" category="admonition">視SLA和RTO需求而定、您可以使用持續容錯移轉或一般（標準）容錯移轉模式。對於接近零的RTO、您應該在恢復站台開始持續重新補充。</block>
  <block id="4b2287bada3112a86338f8d33bb7f745" category="list-text">若要在Azure VMware解決方案私有雲上安裝適用於AVS的Jetstream DR、請使用Run命令。從Azure入口網站移至Azure VMware解決方案、選取私有雲、然後選取執行命令&gt;套件&gt; JSDR.Configuration。</block>
  <block id="f36d2f16d7b758d071070007e41f1dc3" category="admonition">Azure VMware解決方案的預設CloudAdmin使用者沒有足夠的權限可安裝適用於AVS的Jetstream DR。Azure VMware解決方案可針對Jetstream DR叫用Azure VMware Solution Run命令、以簡化及自動化方式安裝Jetstream DR。</block>
  <block id="d5c094ac3602dc70c812b6f203db3080" category="paragraph"><block ref="d5c094ac3602dc70c812b6f203db3080" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1059f69ded45aab3e16676f7655ce33e" category="paragraph"><block ref="1059f69ded45aab3e16676f7655ce33e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f56ba70e80cd5a9d7e833ae9c2a8d00b" category="list-text">新增Azure Blob儲存設備帳戶、以保護內部部署叢集做為儲存站台、然後執行「掃描網域」選項。</block>
  <block id="d46ac425273c7af91c98f03afab4d05d" category="list-text">在出現的快顯對話方塊視窗中、選取要匯入的受保護網域、然後按一下其匯入連結。</block>
  <block id="8f6ce8893e72ca9a99ea54a38aa9123c" category="paragraph"><block ref="8f6ce8893e72ca9a99ea54a38aa9123c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="258e652acbaceeb040a052eb56f710ff" category="list-text">網域已匯入以供還原。移至「受保護的網域」索引標籤、確認已選取所需的網域、或從「選取受保護的網域」功能表中選擇所需的網域。隨即顯示受保護網域中可恢復的VM清單。</block>
  <block id="44f0914b6b6c354b3ed0d0f5c88f5f40" category="paragraph"><block ref="44f0914b6b6c354b3ed0d0f5c88f5f40" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ab8894857a9c27d55e00ceb59f0a0a9d" category="list-text">匯入受保護的網域之後、請部署DRVA設備。</block>
  <block id="a594598fd21c66eb364972e1018fc5b1" category="admonition">您也可以使用由CPt建立的計畫來自動化這些步驟。</block>
  <block id="5dbd13899d13d449aaa288efb68bc4e7" category="list-text">匯入受保護的網域、並將恢復VA設定為使用ANF資料存放區來放置VM。</block>
  <block id="30c90d4c81b9e156fa124f63997bd267" category="paragraph"><block ref="30c90d4c81b9e156fa124f63997bd267" category="inline-image-macro-rx" type="image"></block></block>
  <block id="27ece16fa591c8a94d158b6371824318" category="admonition">請確定選取的區段已啟用DHCP、而且有足夠的IP可用。在網域還原期間、會暫時使用動態IP。每個恢復中的VM（包括持續重新補充）都需要個別的動態IP。恢復完成後、IP便會釋出、並可重複使用。</block>
  <block id="221af48bbe7986080d7f1ef43b7cc9af" category="admonition">雖然執行組態時、「持續容錯移轉」和「容錯移轉」模式各有不同、但兩種容錯移轉模式的設定步驟相同。容錯移轉步驟會一起設定及執行、以回應災難事件。您可以隨時設定持續容錯移轉、然後在正常系統作業期間、允許在背景執行。發生災難事件之後、持續容錯移轉作業便會完成、以便立即將受保護VM的擁有權轉移到恢復站台（RTO接近零）。</block>
  <block id="12d3f891efb3e0286e3d610d87fa763c" category="paragraph"><block ref="12d3f891efb3e0286e3d610d87fa763c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fad47d76ebfb2068cc150f23d3abc231" category="paragraph">持續容錯移轉程序隨即開始、其進度可從UI監控。按一下「目前步驟」區段中的藍色圖示、會顯示快顯視窗、顯示容錯移轉程序目前步驟的詳細資料。</block>
  <block id="07216bb55061288a2fa29cda954742e3" category="example-title">容錯移轉與容錯回復</block>
  <block id="3dd9279db501526060882c484e7fa2eb" category="list-text">在內部部署環境的受保護叢集發生災難（部分或完整故障）之後、您可以在中斷個別應用程式磁碟區的SnapMirror關係之後、使用Jetstream來觸發VM的容錯移轉。</block>
  <block id="4e26d6c9cc7404940d6c72a71775d261" category="paragraph"><block ref="4e26d6c9cc7404940d6c72a71775d261" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f7c749826108cc466667dcaeb67965a7" category="paragraph"><block ref="f7c749826108cc466667dcaeb67965a7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="253d2b2bed504833d82e064634bbf83e" category="admonition">此步驟可輕鬆自動化、以利恢復程序。</block>
  <block id="9824ceea6f74aa9d72ed2bd7473b9362" category="list-text">存取AVS SDDC（目的地端）上的Jetstream UI、然後觸發容錯移轉選項以完成容錯移轉。工作列會顯示容錯移轉活動的進度。</block>
  <block id="b39966f9c6438e5d60c1de37dfa3ed05" category="paragraph">在完成容錯移轉時所出現的對話視窗中、容錯移轉工作可以指定為已規劃或假設為強制進行。</block>
  <block id="684bb098f20646b3f18e10bc17e2d3c4" category="paragraph"><block ref="684bb098f20646b3f18e10bc17e2d3c4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="562cb54fd49a347cfb889e6021e0be34" category="paragraph"><block ref="562cb54fd49a347cfb889e6021e0be34" category="inline-image-macro-rx" type="image"></block></block>
  <block id="979b519fc9d5e27e5d114696ce4b1366" category="paragraph">強制容錯移轉假設主站台已無法再存取、且受保護網域的擁有權應由還原站台直接承擔。</block>
  <block id="cfb2ac66b6e4f6580c9c1fb2cf3b42a5" category="paragraph"><block ref="cfb2ac66b6e4f6580c9c1fb2cf3b42a5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9be51d726dd7c6ae76c2545a91f36d11" category="paragraph"><block ref="9be51d726dd7c6ae76c2545a91f36d11" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7fce15eac6afaa8615d7a00cc4972808" category="list-text">持續容錯移轉完成後、會出現一則訊息、確認工作已完成。當工作完成時、請存取恢復的VM來設定iSCSI或NFS工作階段。</block>
  <block id="53839296d302ef4a3faf8220562c1ce4" category="admonition">容錯移轉模式會變更為在容錯移轉中執行、而VM狀態會恢復。受保護網域的所有VM現在都在容錯移轉執行手冊設定所指定的狀態下、於還原站台執行。</block>
  <block id="50ff3dc4ca6f3eb140f2099f2b480b83" category="admonition">為了驗證容錯移轉組態和基礎架構、可以在測試模式（測試容錯移轉選項）下操作、觀察虛擬機器及其資料從物件存放區恢復到測試還原環境的過程。在測試模式下執行容錯移轉程序時、其運作方式類似於實際的容錯移轉程序。</block>
  <block id="a6687fcac4b89ac042d0bf01e0eed2c7" category="paragraph"><block ref="a6687fcac4b89ac042d0bf01e0eed2c7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cf3e40ce09f6fe770361fe49d398cad9" category="list-text">虛擬機器恢復後、請使用儲存災難恢復功能來進行客體內儲存設備。為了示範此程序、本範例使用SQL Server。</block>
  <block id="e5007f72fe428769908e4b66a64b1ace" category="list-text">在SnapCenter AVS SDDC上登入恢復的S振 向虛擬機器、並啟用DR模式。</block>
  <block id="8bc57e8e0debd3b1f0e1c01431ceb73b" category="list-text">使用瀏覽器N存取SnapCenter 這個功能。</block>
  <block id="b29ffa42af1df2e35cdf88be1740bdf8" category="paragraph"><block ref="b29ffa42af1df2e35cdf88be1740bdf8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="392d143fa78a9868b2d56197de458a8d" category="list-text">在「設定」頁面中、瀏覽至「設定」&gt;「全域設定」&gt;「災難恢復」。</block>
  <block id="f4060a5dfc75e427eab8fc559b5c3873" category="list-text">選取「啟用災難恢復」。</block>
  <block id="79bee17b4293b619c241ae80aef8ef62" category="list-text">按一下套用。</block>
  <block id="24049296b222c98c12a36098c1928b9f" category="paragraph"><block ref="24049296b222c98c12a36098c1928b9f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f31c54b6a166b6ab176f034d0f52e291" category="list-text">按一下「監控」&gt;「工作」、確認DR工作是否已啟用。</block>
  <block id="a194386b24136c162d5de560f2c4b3c9" category="admonition">NetApp SnapCenter 支援區4.6或更新版本應用於儲存災難恢復。對於舊版、應使用應用程式一致的快照（使用SnapMirror複寫）、如果必須在災難恢復站台中恢復先前的備份、則應執行手動恢復。</block>
  <block id="a1e59d581c6cda40186a3488aa35c0b5" category="list-text">確定SnapMirror關係已中斷。</block>
  <block id="ab99ab9f50b0f74bd7b676fbb522f5e8" category="paragraph"><block ref="ab99ab9f50b0f74bd7b676fbb522f5e8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5fabb74faf982c31918e4a241092e386" category="list-text">使用Cloud Volumes ONTAP 相同的磁碟機代號、將LUN從支援系統連接到已恢復的SQL客體VM。</block>
  <block id="faedf38240e42a0e3f085f6acdc22aec" category="paragraph"><block ref="faedf38240e42a0e3f085f6acdc22aec" category="inline-image-macro-rx" type="image"></block></block>
  <block id="458585a8fad71bd63549d32afd2c2f69" category="list-text">開啟iSCSI啟動器、清除先前中斷連線的工作階段、並新增新目標及複寫Cloud Volumes ONTAP 的支援區的多重路徑。</block>
  <block id="5d06816a9331ccf1bde11d80e2438672" category="paragraph"><block ref="5d06816a9331ccf1bde11d80e2438672" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2483b40da799327d80d5aa5c4683efee" category="list-text">請確定所有磁碟均使用與DR之前相同的磁碟機代號進行連線。</block>
  <block id="75c3e1de048df1f08f612bb44462afd4" category="paragraph"><block ref="75c3e1de048df1f08f612bb44462afd4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6048d3c947f6b9163f72586701cec853" category="list-text">重新啟動MSSQL伺服器服務。</block>
  <block id="9f8472ea6d004535fc1659d1e6863867" category="paragraph"><block ref="9f8472ea6d004535fc1659d1e6863867" category="inline-image-macro-rx" type="image"></block></block>
  <block id="632dc72bd4eb731f74582d644a0f4b3c" category="list-text">請確定SQL資源重新連線。</block>
  <block id="9d19926e46fa4cd818065a2726bcf42d" category="paragraph"><block ref="9d19926e46fa4cd818065a2726bcf42d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="01fb98a09bb6b1d922a6275724f31823" category="admonition">如果是NFS、請使用mount命令附加磁碟區、然後更新「etc/fstab'」項目。</block>
  <block id="8145668f843709bddb7b6c8b3f3abbfb" category="paragraph">此時、您可以執行作業並正常營運。</block>
  <block id="8020518363652d35b23a9585c780e480" category="admonition">在NSxT-T端點上、可建立獨立的專屬層級1閘道、以模擬容錯移轉案例。如此可確保所有工作負載彼此通訊、但不會有流量進入或離開環境、如此一來、就能執行任何分類、控制或強化工作、而不會產生交叉污染的風險。此作業不在本文件的範圍之內、但可輕鬆模擬隔離。</block>
  <block id="7d7b7ba342280685358aeb9937ce1118" category="paragraph">當主要站台重新啟動並執行之後、您就可以執行容錯回復。系統會由Jetstream恢復VM保護、且SnapMirror關係必須回復。</block>
  <block id="5a24d57462c6d674800fbb2a7e0c59ce" category="list-text">還原內部部署環境。視災難事件類型而定、可能需要還原及/或驗證受保護叢集的組態。如有必要、可能需要重新安裝Jetstream DR軟體。</block>
  <block id="5cf6cc1cdb0715aca121fb45bdc4f42e" category="admonition">此外、也可使用由程式管理產生的容錯回復計畫、將VM及其資料從物件存放區傳回原始的VMware環境。</block>
  <block id="130f86be5d695ec045cce675d14637b8" category="paragraph"><block ref="130f86be5d695ec045cce675d14637b8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="504e0be50ebedab76e2a7714a22354d3" category="admonition">在恢復站台中暫停VM並在受保護站台重新啟動VM之後、請指定最大延遲。完成此程序所需的時間包括：停止容錯移轉VM後完成複寫、清理恢復站台所需的時間、以及在受保護站台重新建立VM所需的時間。NetApp建議使用10分鐘。</block>
  <block id="41f8873d7ef0fd0767f8ed6d7798fe87" category="paragraph"><block ref="41f8873d7ef0fd0767f8ed6d7798fe87" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5752ed9acb85541568eca0327a24e09f" category="list-text">完成容錯回復程序、然後確認恢復VM保護和資料一致性。</block>
  <block id="f872505992d08e75adcaa8a9adbc0d18" category="paragraph"><block ref="f872505992d08e75adcaa8a9adbc0d18" category="inline-image-macro-rx" type="image"></block></block>
  <block id="684bcaaa7dda535165cb0b8f8e76a5ea" category="list-text">恢復虛擬機器後、請中斷次要儲存設備與主機的連線、並連線至主要儲存設備。</block>
  <block id="79f47ff1cd40017f1ef0eb31e7397d75" category="paragraph"><block ref="79f47ff1cd40017f1ef0eb31e7397d75" category="inline-image-macro-rx" type="image"></block></block>
  <block id="18f7dd50970b99e8a3cdeab8c42567b0" category="paragraph"><block ref="18f7dd50970b99e8a3cdeab8c42567b0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8f0269cfb1a6f24731b2bb3a15b436b2" category="list-text">驗證SQL資源是否重新連線。</block>
  <block id="bb9592df1a1b3d7ea469affe88be679f" category="paragraph"><block ref="bb9592df1a1b3d7ea469affe88be679f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f41823ca0d78e787fda8ba7b1c398a29" category="admonition">若要容錯回復至主要儲存設備、請執行反向重新同步作業、確保關係方向與容錯移轉之前的方向相同。</block>
  <block id="6decfeed5d1c375e40e96552e631df25" category="admonition">若要在反向重新同步作業之後保留主要和次要儲存設備的角色、請再次執行反轉重新同步作業。</block>
  <block id="2087f49e4433786c996468974c61ae4a" category="paragraph">此程序適用於其他應用程式、例如Oracle、類似的資料庫類型、以及使用客體連線儲存設備的任何其他應用程式。</block>
  <block id="33b4e9a3c1a928dbdf5273b34d899e61" category="paragraph">如同往常一樣、在將關鍵工作負載移轉至正式作業之前、請先測試相關步驟、以恢復這些工作負載。</block>
  <block id="4932435adc5992fde32a04e44fd251b8" category="section-title">本解決方案的優點</block>
  <block id="3a02a011f551429a5ec8b46a00017abd" category="list-text">使用SnapMirror的高效率和彈性複寫。</block>
  <block id="74915666b8d10f77a73b526e91724cc8" category="list-text">利用不含資料的快照保留功能、可即時恢復至任何可用點ONTAP 。</block>
  <block id="a3704e4802422c6765dd406472307ba1" category="list-text">從儲存、運算、網路和應用程式驗證步驟、將數百個VM恢復到數千個VM所需的所有步驟均可完全自動化。</block>
  <block id="c0e8bb909ee76b5f9683012fd9418729" category="list-text">使用不會變更複寫磁碟區的複製機制。SnapCenter</block>
  <block id="d92ea079cd9d83d3d60c1269804b766c" category="list-text">如此可避免磁碟區和快照發生資料毀損的風險。</block>
  <block id="843b8877e30b7587ad87b95cd115df4a" category="list-text">避免災難恢復測試工作流程期間的複寫中斷。</block>
  <block id="a29a4a29d457d4322f1f22ed58f9b06a" category="list-text">利用DR資料處理DR以外的工作流程、例如開發/測試、安全性測試、修補程式與升級測試、以及補救測試。</block>
  <block id="e04e963feedf7f0157e360dc2be6d7b3" category="list-text">CPU與RAM最佳化可讓您恢復至較小的運算叢集、進而降低雲端成本。</block>
  <block id="bd3260deba05f8c5831890f164f83733" category="doc">ANF資料存放區解決方案總覽</block>
  <block id="626c4c46c0b0900648e0b954a96c4399" category="paragraph">每個成功的組織都走上轉型與現代化的道路。在這項流程中、企業通常會使用現有的VMware投資、同時善用雲端效益、並探索如何使移轉、突發、擴充及災難恢復程序盡可能順暢無礙。移轉至雲端的客戶必須評估彈性與爆發、資料中心結束、資料中心整合、生命週期結束案例、併購等問題。每個組織採用的方法可能會因其各自的業務優先順序而有所不同。選擇雲端型作業時、選擇效能適當且障礙最小的低成本模式、是關鍵目標。除了選擇適當的平台、儲存設備和工作流程協調對於釋放雲端部署和彈性的強大威力而言、更是極為重要。</block>
  <block id="bcc2a83e573fb5cbbcd097908c609fa6" category="paragraph">雖然Azure VMware解決方案為客戶提供獨特的混合式功能、但有限的原生儲存選項限制了其對於具有大量儲存工作負載的組織的使用效益。由於儲存設備直接與主機相連、因此擴充儲存設備的唯一方法是新增更多主機、如此一來、儲存密集工作負載的成本就會增加35%至40%以上。這些工作負載需要額外的儲存容量、而非額外的馬力、但這表示需要支付額外的主機費用。</block>
  <block id="abc79d01b4318a1c67504eb7714e360f" category="paragraph">讓我們來思考下列案例：客戶需要六台主機來處理馬力（vcpU/vMem）、但他們也需要大量的儲存設備。根據評估結果、他們需要12台主機來滿足儲存需求。如此一來、整體TCO就會增加、因為他們必須在真正需要更多儲存設備的情況下、購買所有額外的馬力。這適用於任何使用案例、包括移轉、災難恢復、突發、開發/測試、 等等。</block>
  <block id="f6faa113f88d1f8c4795fe189493d34f" category="paragraph">Azure VMware解決方案的另一個常見使用案例是災難恢復（DR）。大多數組織都沒有防礙災難恢復策略、或是難以證明只是為了災難恢復而執行重影資料中心的理由。系統管理員可能會透過試運行式叢集或隨需叢集來探索零佔用空間的災難恢復選項。然後、他們可以擴充儲存設備、而不需要新增額外的主機、這可能是一個吸引人的選項。</block>
  <block id="feb87b8a766262f1649eb73f664b5237" category="paragraph">因此、總的來說、使用案例可分為兩種類別：</block>
  <block id="113270f68f35ffcbf2a57597bd22e665" category="list-text">使用ANF資料存放區擴充儲存容量</block>
  <block id="a46f3b69652b37f2becc5ad8def389fe" category="list-text">使用ANF資料存放區做為災難恢復目標、在軟體定義的資料中心（SDDC）之間、從內部部署或Azure區域內進行成本最佳化的恢復工作流程。本指南深入探討如何使用Azure NetApp Files NetApp為資料存放區提供最佳化的儲存（目前為公開預覽） 搭配Azure VMware解決方案中同級最佳的資料保護與DR功能、可讓您從vSAN儲存設備卸載儲存容量。</block>
  <block id="301964836d84fb491fca23f51f902cd0" category="admonition">目前正在公開預覽此功能。Azure NetApp Files如需詳細資訊、請聯絡您所在地區的NetApp或Microsoft解決方案架構設計師。</block>
  <block id="9d5486edf9a5ddec98d7f7509d50101c" category="section-title">Azure中的VMware Cloud選項</block>
  <block id="809dd7fcec8077467eab0222ea68e259" category="paragraph">Azure VMware解決方案（AVS）是一種混合雲服務、可在Microsoft Azure公有雲中提供功能完整的VMware SDDC。AVS是第一方的解決方案、由Microsoft完全管理及支援、並由VMware驗證、使用Azure基礎架構。因此、客戶可獲得VMware ESXi用於運算虛擬化、vSAN用於超融合式儲存設備、NSX用於網路和安全性、同時還能充分利用Microsoft Azure的全球知名度、領先同級的資料中心設施、以及接近豐富的原生Azure服務與解決方案生態系統。Azure VMware解決方案SDDC與Azure NetApp Files VMware解決方案的結合、可提供最佳效能、並將網路延遲降至最低。</block>
  <block id="8718654ef588a85b2a2e46a7727fa16d" category="paragraph">無論使用何種雲端、部署VMware SDDC時、初始叢集都包含下列元件：</block>
  <block id="b6955e4f04d87bd186e8f355b710c814" category="list-text">使用vCenter伺服器應用裝置進行運算虛擬化的VMware ESXi主機進行管理。</block>
  <block id="c865d5c3f7aef0fea827cecdf6da386c" category="list-text">VMware vSAN超融合式儲存設備整合了每個ESXi主機的實體儲存資產。</block>
  <block id="4d53c4a03b478ccb8f5a4a2cde37db71" category="list-text">VMware NSX提供虛擬網路與安全性、並搭配NSX Manager叢集進行管理。</block>
  <block id="94d43b2c8702afe74d26d3a9052e59b4" category="paragraph">無論您的目標是全雲端或混合雲、Azure NetApp Files 透過無縫接軌的應用程式層資料需求、提供絕佳的選項來部署及管理應用程式工作負載及檔案服務、同時降低TCO。無論使用案例為何、請選擇Azure VMware解決方案搭配Azure NetApp Files VMware解決方案、以快速實現雲端效益、一致的基礎架構、以及跨內部部署和多個雲端的作業、工作負載的雙向可攜性、以及企業級容量和效能。這是用來連接儲存設備的熟悉程序和程序。請記住、這只是資料的變更位置、加上新名稱；工具和程序都維持不變、Azure NetApp Files 而VMware協助最佳化整體部署。</block>
  <block id="7017a5961c414dfbe07b539da73560fb" category="list-text">現在、您可以在Azure NetApp Files AVS SDDC上使用效能不實的資料存放區。</block>
  <block id="1997ea39c8d744bf66dd1b36df20eca0" category="list-text">縮短應用程式回應時間、提供更高的可用度、以便在需要時隨時隨地存取工作負載資料。</block>
  <block id="d229778544c20c94bc3a4e634983743a" category="list-text">透過簡單且即時的調整大小功能、簡化vSAN儲存設備的整體複雜度。</block>
  <block id="220eb8ba4e87069e79226f808999d319" category="list-text">利用動態重新塑造功能、保證關鍵任務工作負載的效能。</block>
  <block id="de55b3d8d98ed7c720c8410fbbce524e" category="list-text">如果您的目的地是Azure VMware Solution Cloud、Azure NetApp Files 那麼針對最佳化部署而言、最佳化的儲存解決方案就是理想選擇。</block>
  <block id="a13de136306e099dce523fd8db3f037c" category="list-text">Azure VMware解決方案文件</block>
  <block id="2f2e78e0c7d7ff0caf67f34519d3f5e5" category="inline-link"><block ref="2f2e78e0c7d7ff0caf67f34519d3f5e5" category="inline-link-rx"></block></block>
  <block id="5e65b51c08430d6fa3dc13275b00da9d" category="paragraph"><block ref="5e65b51c08430d6fa3dc13275b00da9d" category="inline-link-rx"></block></block>
  <block id="6c32a3d0f1a665987b98dde5a0f96d7d" category="list-text">本文檔 Azure NetApp Files</block>
  <block id="ac236475735595f1237223b0184c5cca" category="inline-link"><block ref="ac236475735595f1237223b0184c5cca" category="inline-link-rx"></block></block>
  <block id="742cb4a55dadc1d5ca8efd2956575138" category="paragraph"><block ref="742cb4a55dadc1d5ca8efd2956575138" category="inline-link-rx"></block></block>
  <block id="8d60f49fa5ec93fd2bea5e083359bdc1" category="paragraph">ESXi版本3在內部部署部署中引進NFS資料存放區支援、大幅擴充vSphere的儲存功能。</block>
  <block id="1aaea72f240547a6a057b9a88a27144b" category="paragraph">在NFS上執行vSphere是內部部署虛擬化的廣泛採用選項、因為它提供強大的效能與穩定性。如果您在內部部署資料中心擁有大量的網路附加儲存設備（NAS）、則應考慮在Azure中部署Azure VMware解決方案SDDC與Azure NetApp檔案資料存放區、以克服容量與效能方面的挑戰。</block>
  <block id="19fb9916968211db983d13bffe0cc6af" category="inline-link">99.99%</block>
  <block id="ad25c186e2eeaa2ec5fa0b9d3fa4b8c7" category="paragraph">以領先業界的高可用度NetApp解決方案資料管理軟體為基礎。Azure NetApp Files ONTAPMicrosoft Azure服務分為三類：基礎、主流及專業。支援的硬體已部署在許多地區、屬於專業類別。Azure NetApp Files利用內建的高可用度（HA）Azure NetApp Files 功能、讓您的資料不受大多數停機的影響、並提供領先業界的SLA<block ref="404362048587970f5f15a4d9376a71ea" category="inline-link-rx"></block> 正常運作時間：</block>
  <block id="1b69b6091c2756a0aac2b81e4a880f93" category="paragraph">在推出「資料儲存區」功能之前Azure NetApp Files 、客戶若想要裝載效能與儲存密集工作負載、則必須同時擴充運算與儲存設備、才能進行橫向擴充作業。</block>
  <block id="09d432ffd44a3af2e2524362730628cf" category="paragraph">請記住下列問題：</block>
  <block id="79786892120b18078ded972068ce7cab" category="list-text">SDDC叢集不建議使用不平衡的叢集組態。因此擴充儲存設備意味著增加更多主機、這意味著TCO更高。</block>
  <block id="4d7a269595fa13e9d4bb48449c996a41" category="list-text">只能有一個vSAN環境。因此、所有儲存流量都會直接與正式作業工作負載競爭。</block>
  <block id="99407e1fc016dc5a4f17896a330e66b0" category="list-text">您無法選擇提供多個效能層級來調整應用程式需求、效能和成本。</block>
  <block id="f5188d9f655a6ac9c3d0dccb20d81997" category="list-text">在叢集主機之上建置vSAN的儲存容量限制很容易達到。整合Azure原生平台即服務（PaaS）產品、例如Azure NetApp Files 以資料存放區形式建置的 客戶可選擇獨立擴充儲存設備、並視需要只將運算節點新增至SDDC叢集。這項功能克服了上述挑戰。</block>
  <block id="cf1c082028930ec1827badc0e64627c6" category="admonition">請聯絡Azure與NetApp解決方案架構設計師、以規劃及調整儲存容量、並決定所需的主機數量。NetApp建議在完成資料存放區配置以進行測試、POC及正式作業部署之前、先找出儲存效能需求。</block>
  <block id="1622404dda50f5803c9577efc058ec11" category="paragraph"><block ref="1622404dda50f5803c9577efc058ec11" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b3488e5e13ca2586de3bcc01700bd61b" category="paragraph">移轉或災難恢復最重要的一點、是判斷目標環境的大小是否正確。瞭解從內部部署到Azure VMware解決方案的提升與轉換作業需要多少節點、這一點非常重要。</block>
  <block id="b39d58eedf7db669f2a65fd75198d49e" category="paragraph">若要調整規模、請使用RVTools（偏好）或其他工具（例如即時光纖或Azure移轉）、從內部部署環境取得的歷史資料。RVTools是擷取vCPU、vMem、vDisk及所有必要資訊（包括已開啟或關閉電源的VM）的理想工具、以呈現目標環境的特性。</block>
  <block id="9b45f8f524f59dcb44852dc933d31d60" category="paragraph">若要執行RVtool,請完成下列步驟:</block>
  <block id="b9b14f9a77af6302e167ec8031bac435" category="list-text">下載並安裝RVTools。</block>
  <block id="a379941a0582174b350ce316b1e64b36" category="list-text">執行RVTools、輸入連線至內部部署vCenter Server所需的資訊、然後按下Login（登入）。</block>
  <block id="7d0ff8053a5012b379d5e45f7d80bd81" category="list-text">將庫存匯出至Excel試算表。</block>
  <block id="ad7235861abcfd585f9793a320142cb9" category="list-text">編輯試算表、並從vInfo索引標籤移除任何不理想候選的VM。此方法提供明確的儲存需求輸出、可用來調整Azure VMware SDDC叢集的大小及所需的主機數量。</block>
  <block id="66a03e4bdc70563bcc83f39fd18f2993" category="admonition">與來賓儲存設備一起使用的來賓VM必須分開計算；不過Azure NetApp Files 、由於能夠輕鬆涵蓋額外的儲存容量、因此整體TCO維持在低位。</block>
  <block id="ee7f083efd1984641bff3ff302c447a9" category="section-title">部署及設定Azure VMware解決方案</block>
  <block id="95220678e12ace3a65339c08bb6019e5" category="paragraph">如同內部部署、規劃Azure VMware解決方案對於建立虛擬機器和移轉的正式作業就緒環境而言、是非常重要的。</block>
  <block id="1b3379256eb1cb0d26126368cc62ab52" category="paragraph">本節說明如何設定及管理AVS、以便搭配Azure NetApp Files 使用以供搭配使用的資料存放區搭配來賓儲存設備。</block>
  <block id="449e01682ffd6d9e79c75acf22fa249b" category="list-text">註冊資源供應商並建立私有雲。</block>
  <block id="17d7be5e1d44a11ff74be89af34822c9" category="list-text">連線至新的或現有的ExpressRoute虛擬網路閘道。</block>
  <block id="28325f137394bcd829a01024c035cb5e" category="list-text">驗證網路連線能力並存取私有雲端。請參閱此 <block ref="c494c3efc2923b26ad63800ea1f5c612" category="inline-link-macro-rx"></block> 逐步瞭解Azure VMware解決方案SDDC資源配置程序。</block>
  <block id="b2666a13d31389019b43a9085ffd2fe8" category="section-title">使用Azure NetApp Files Azure VMware解決方案設定功能</block>
  <block id="dbfbac0b1aee2557c747f90a52c200ed" category="paragraph">利用全新的融合功能、您可以透過Azure VMware解決方案資源供應商API/CLI建立NFS資料存放區、搭配使用VMware Volume、並將資料存放區掛載至私有雲端中您所選的叢集。Azure NetApp Files Azure NetApp Files除了裝載VM和應用程式VMDK之外、Azure NetApp檔案磁碟區也可從Azure VMware Solution SDDC環境中建立的VM掛載。這些磁碟區可掛載到Linux用戶端、並對應到Windows用戶端、因為Azure NetApp Files 支援伺服器訊息區（SMB）和網路檔案系統（NFS）傳輸協定。</block>
  <block id="3fcf61e60f3486b366489a2db86e92c0" category="admonition">為了獲得最佳效能、請將Azure NetApp Files VMware部署在私有雲端所在的相同可用度區域。與Express Route fastpath共置可提供最佳效能、並將網路延遲降至最低。</block>
  <block id="2a499560ec410b1e1caeb95f6021ac1e" category="admonition">此功能目前正處於公開預覽中。</block>
  <block id="7042805ebe69bccc6ab09f9518f94556" category="paragraph">若要附加Azure NetApp File Volume做為Azure VMware Solution私有雲的VMware資料存放區、請確定符合下列先決條件。</block>
  <block id="49588f95c73f4a9df95958ba5e856d0c" category="list-text">使用AZ登入、並驗證訂閱已登錄至Microsoft .AVS命名空間中的CloudSanExperience功能。</block>
  <block id="c0e46e4183896be214bad3fd077b5834" category="list-text">如果尚未註冊、請加以註冊。</block>
  <block id="8fb14eb63139db9a1c626865766368e4" category="admonition">完成註冊大約需要15分鐘。</block>
  <block id="91bc7290f2d4745c25033c52b73c0662" category="list-text">若要檢查登錄狀態、請執行下列命令。</block>
  <block id="bd00d81bc80103cfbf6f24470f9de4fa" category="list-text">如果登錄停留在中繼狀態超過15分鐘、請取消登錄、然後重新登錄旗標。</block>
  <block id="30d4986a1e28c78ed243b8fe94ebe5be" category="list-text">確認訂閱已登錄至Microsoft .AVS命名空間中的AnfDatastoreExperience功能。</block>
  <block id="10b9b69a3124f921ee9a3a8271028b78" category="list-text">確認已安裝VMware擴充功能。</block>
  <block id="329e9fb0e53008fcf269d03c5476847d" category="list-text">如果擴充已安裝、請確認版本為3.0.0。如果安裝的是舊版、請更新副檔名。</block>
  <block id="f5e4a463688cab0acae8d53e64bd5e36" category="list-text">如果尚未安裝擴充功能、請安裝它。</block>
  <block id="11d2eb5b9d070e139a779747ce885490" category="list-text">登入Azure Portal並存取Azure NetApp Files 功能。使用Azure NetApp Files 「AZ供應商登錄」、命名空間Microsoft.NetApp–wait命令來驗證對該服務的存取權、並登錄Azure NetApp Files 該資源供應商。註冊後、請建立NetApp帳戶。請參閱此<block ref="2c2f4008511e047aaaf92ad514e98ec9" category="inline-link-rx"></block> 以取得詳細步驟。</block>
  <block id="09e7af76fc12c4b14e8fbca51314b508" category="paragraph"><block ref="09e7af76fc12c4b14e8fbca51314b508" category="inline-image-macro-rx" type="image"></block></block>
  <block id="187927c7525fb36ec9428b4d84fe0aff" category="list-text">建立NetApp帳戶之後、請設定容量資源池、並設定所需的服務層級和大小。如需詳細資訊、請參閱<block ref="0a52e91c67ac030fc237a7b13d0404c6" category="inline-link-rx"></block>。</block>
  <block id="c7d6fd5f235d0c8a960facf04a79e4a7" category="paragraph"><block ref="c7d6fd5f235d0c8a960facf04a79e4a7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c573a9eace62b9790820458dd59448b0" category="list-text">NFSv3支援Azure NetApp Files 以供支援的資料存放區使用。</block>
  <block id="62dfd4c1cc43e59ef3c56bb615d3b182" category="list-text">使用Premium或Ultra層以獲得最佳效能。</block>
  <block id="0d55d5c3a7459f59fd437a2311322791" category="list-text">設定Azure NetApp Files 委派的子網路以供使用、並在建立磁碟區時指定此子網路。如需建立委派子網路的詳細步驟、請參閱<block ref="e84891bed408b1977d062f4ccc1816aa" category="inline-link-rx"></block>。</block>
  <block id="36fc58c2c3fa32ac586d5628570e9499" category="list-text">使用容量集區刀鋒下的Volume刀鋒、為資料存放區新增NFS磁碟區。</block>
  <block id="2832d137c1714a9759f87412fb05253e" category="paragraph"><block ref="2832d137c1714a9759f87412fb05253e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="47e7f43ca3ba65dbd1b1edbe26db8cc4" category="paragraph">如需瞭Azure NetApp Files 解根據大小或配額的功能、請參閱<block ref="bcd13cd67f856c9e615d78327e957b9c" category="inline-link-rx"></block>。</block>
  <block id="372d7a6604390fe9757888aff0a92970" category="example-title">將Azure NetApp Files 資料儲存區新增至私有雲</block>
  <block id="0f9e7cabe2f81455810e96baca91c6a7" category="paragraph">若要將Azure NetApp Files 某個資料存放區新增至私有雲、請完成下列步驟：</block>
  <block id="b1248573ef968f7d6fc7eaa453fa4d45" category="list-text">登錄必要功能之後、請執行適當的命令、將NFS資料存放區附加至Azure VMware Solution私有雲叢集。</block>
  <block id="567531ac8390e0378f43db080cbeec2b" category="list-text">使用Azure VMware解決方案私有雲叢集中現有的ANF磁碟區建立資料存放區。</block>
  <block id="ed491060b6ac47e89ad70eecda183065" category="paragraph">C：\Users\Niyaz&gt;AZ VMware資料存放區清單- resource-group anfavsval2 -叢集Cluster-1 -私有雲端ANFDataClus [｛"diskPoolVolume"：null、"id"："/uncs/0efa2dfb-917c-447-b56a-b3f4eadblaseds/resources/avarc/secnatrofinds/us/sec/sorbledsorc/data/catroups111/s"c/ s"c/sbledsbleds/categroups/categroupsor/categroups/categroups"us/se/categroups/categroups/cs/csor/c"data/findsor/c"us" Microsoft.NetApp/netAppAccounts/anfdatastoreacct/capacityPools/anfrecods/volumes/ANFRecoDS001"群組"us/csorategroups/c"finds/csorsorsorsorsorategroupsorsor/categroupsor/c"datace/s"us/c"us/c"us/c"datace/s"us/c ｛"diskPoolVolume"：null、"id"："/cups/0efa2dfb-917c-447-b56a-b3f4eadb8111/resources/anfavsval2/providers/microsoft.avs/privateClouds/ANFDataCluss/Clusters/Clusters/Cluster-1//DSANAmsnaparated/safatrosors002/"datas"datased"datased/s"datas"datas"datas"datas"/usc/ Microsoft.NetApp/netAppAccounts/anfdatastoreacct/capacityPools/anfrecodsu/volumes/anfrecodsU002" datased"/usc/資料存放區"/favarecatlecatlecnates"、"/usc/安全性組"#"/usc/資料儲存區/usc/資料儲存區"c/資料儲存區"/usc/資料儲存區"/usc/資料儲存區"/usc/資料儲存區、"/64977-6497"/favarc/資料儲存區"/us"/usc/資料儲存區"/us"/us"/usc/資料儲存區</block>
  <block id="d1903b7932291ae49bf265e5af7a75f4" category="list-text">建立必要的連線之後、磁碟區就會以資料存放區的形式掛載。</block>
  <block id="b9eb0553d93e0e4bbee4142fec9403f9" category="paragraph"><block ref="b9eb0553d93e0e4bbee4142fec9403f9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="078f601da77f62e8c7e097d5744f9b1b" category="section-title">規模與效能最佳化</block>
  <block id="2954ff66e26b577154cf218d077ff1a9" category="paragraph">支援三種服務層級：標準（每TB 16Mbps）、高級（每TB 64MBps）和超高（每TB 12MBps）Azure NetApp Files 。配置適當的磁碟區大小、對於資料庫工作負載的最佳效能而言非常重要。利用VMware、磁碟區效能和處理量限制取決於下列因素：Azure NetApp Files</block>
  <block id="a5d62ae512b963e1f05e839467577f19" category="paragraph"><block ref="a5d62ae512b963e1f05e839467577f19" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9ce18fddaa7dc898334afc4ab63a163b" category="list-text">將Premium或Ultra層用於資料存放區磁碟區、以獲得最佳效能。</block>
  <block id="f681df268b9e05fa5155bbf1f38d672f" category="list-text">如需客體VM的檔案共用需求、請使用Standard或Premium層級Volume。</block>
  <block id="1261ba8eeb83d9d138ff9e9a37214a7e" category="section-title">效能考量</block>
  <block id="f4479400cc63a0bc54ea3a609d8d89aa" category="paragraph">請務必瞭解、有了NFS版本3、ESXi主機與單一儲存目標之間只有一條作用中的連線管道。這表示雖然可能有替代連線可供容錯移轉、但單一資料存放區和基礎儲存設備的頻寬僅限於單一連線所能提供的頻寬。</block>
  <block id="f4c57c87dfa0d5843279b51c6e10d0a6" category="paragraph">若要利用Azure NetApp Files 更多可用頻寬來搭配使用、ESXi主機必須有多個儲存目標連線。若要解決此問題、您可以使用ESXi主機與儲存設備之間的個別連線、針對每個資料存放區設定多個資料存放區。</block>
  <block id="bde357669435115ce8fac67e3a3a5786" category="paragraph">若要提高頻寬、最佳實務做法是使用多個ANF磁碟區建立多個資料存放區、建立VMDK、並在VMDK之間分段邏輯磁碟區。</block>
  <block id="c01a936a44f773bc3d0a636cb655c28c" category="list-text">Azure VMware解決方案預設允許八個NFS資料存放區。這可透過支援要求來增加。</block>
  <block id="cd58e3b202d882202a16834028640630" category="list-text">運用ER fastpath搭配Ultra SKU、以獲得更高的頻寬和更低的延遲。更多資訊</block>
  <block id="6ef5173b6cc36d0f4efabbafeeee7443" category="list-text">藉助Azure NetApp Files 於《基本》網路功能、Azure VMware解決方案的連線能力受到ExpressRoute電路和ExpressRoute閘道頻寬的限制。</block>
  <block id="0a8e9b67042320d1a2f3f6155fc3e096" category="list-text">支援使用「Standard（標準）」網路功能（目前在公開預覽中）的支援功能的支援ExpressRoute FastPath。Azure NetApp Files啟用時、FastPath Azure NetApp Files 會將網路流量直接傳送至支援速度較快的支援區、繞過提供較高頻寬和較低延遲的閘道。</block>
  <block id="1b75d86136a5cde892b315650fd5ea43" category="section-title">效能最佳化</block>
  <block id="213debd5ccd87a89487239a8460a0f0e" category="paragraph">雖然每個NFS資料存放區建議的虛擬機器數量是主觀的、但許多因素都決定了每個資料存放區可放置的最佳VM數量。雖然大多數系統管理員只考慮容量、但傳送到VMDK的並行I/O量是整體效能最重要的因素之一。ESXi主機有許多機制可確保競爭資料存放區資源的虛擬機器之間的公平性。不過、控制效能最簡單的方法是管理每個資料存放區上放置多少虛擬機器。如果並行虛擬機器I/O模式傳送太多流量至資料存放區、則會填滿磁碟佇列、並產生較高的延遲。</block>
  <block id="f9fd5bbf2764cc5b16e9eeeb8b57ee91" category="section-title">Volume與資料存放區規模調整</block>
  <block id="01ab7b17836cfa3916b003d7febafe43" category="paragraph">在Azure NetApp Files 以資料存放區為目的建立磁碟區時、最佳實務做法是建立不超過所需容量的磁碟區。雖然最大Volume大小可達100 TB、但NetApp建議從小型資料存放區容量開始、並視需要增加容量。設定適當規模的資料存放區可防止意外將過多的虛擬機器放置在資料存放區上、並降低資源爭用的可能性。由於如果虛擬機器需要額外的容量、資料存放區和VMDK的大小可以輕鬆增加、因此不需要建立大於所需容量的資料存放區。為了獲得最佳效能、最佳做法是增加資料存放區的數量、而非增加其大小。</block>
  <block id="fad725216d945a6443f15949ae73b316" category="cell">值得記住的重點</block>
  <block id="28c7e0cc515aa1271633669cf0e579ad" category="list-text">ANF NFS資料存放區的大小適中、介於4TB到8TB之間。</block>
  <block id="90f9dde25089c324af635a76b75a7509" category="list-text">將15至20部VM放在單一資料存放區上。視VM需求而定、此數量可增加至35-40個VM。</block>
  <block id="3236c97f9f8c9cb7fcbc35b9ff162ab3" category="list-text">為獲得最佳效能與管理能力、請考慮使用來賓擁有的檔案系統、例如由來賓管理的NFS/SMB檔案系統、以執行高I/O應用程式、例如資料庫。</block>
  <block id="0d3f5dc8a647758ee9ad71d0af34e75e" category="section-title">增加資料存放區的大小</block>
  <block id="9ae97248366686f76c6f9f6ac9b8d073" category="paragraph">Volume重新塑形和動態服務層級變更對SDDC而言完全透明。在VMware中、這些功能可提供持續的效能、容量和成本最佳化。Azure NetApp Files從Azure Portal或使用CLI調整磁碟區大小、以增加NFS資料存放區的大小。完成後、請存取vCenter、移至「Datastore」（資料存放區）索引標籤、在適當的資料存放區上按一下滑鼠右鍵、然後選取「Refresh Capacity Information」（重新整理容量資訊）。此方法可用於增加資料存放區容量、並以動態方式提高資料存放區效能、而不需停機。此程序對應用程式也完全透明。</block>
  <block id="264b475cf0374b319edf3b094fe25874" category="list-text">Volume重新調整和動態服務層級功能可讓您針對穩定狀態的工作負載調整規模、以最佳化成本、進而避免過度資源配置。</block>
  <block id="c38ea7c6c5e1aef9a1df0cebd81737d9" category="list-text">在公開預覽期間、VAAI未啟用。</block>
  <block id="35084d885dea7b061e6894c1cf3036d9" category="section-title">工作負載</block>
  <block id="f7458ac9343d5418ff038f156d9b29fc" category="paragraph">移轉是最常見的使用案例之一。使用VMware HCX或VMotion來移動內部部署的VM。或者、您也可以使用Rivermeadow將VM移轉至Azure NetApp Files 各個資料存放區。</block>
  <block id="36e402ac6b1a4b9a31bd376a7f89c68e" category="paragraph">備份虛擬機器並快速恢復這些虛擬機器、是ANF資料存放區的最大優勢之一。使用Snapshot複本來快速複製VM或資料存放區、而不影響效能、然後將它們傳送至Azure儲存設備以提供長期資料保護、或使用跨區域複寫來進行災難恢復。這種方法只儲存變更的資訊、可將儲存空間和網路頻寬減至最低。</block>
  <block id="2bd24edc1157f2ea366bbf67e980b57e" category="paragraph">使用VMware Snapshot複本進行一般保護、並使用應用程式工具來保護位於客體VM上的交易資料、例如SQL Server或Oracle。Azure NetApp Files這些Snapshot複本與VMware（一致性）快照不同、適合長期保護。</block>
  <block id="c69157396b1ac0cb910d839c99a0a9e3" category="admonition">使用ANF資料存放區時、「Restore to New Volume」（還原至新磁碟區）選項可用於複製整個資料存放區磁碟區、還原的磁碟區可作為另一個資料存放區掛載至AVS SDDC內的主機。資料存放區掛載完成後、即可登錄、重新設定及自訂其中的VM、如同個別複製VM一樣。</block>
  <block id="92b97805e00b695b9f8aeddf2cc8828d" category="example-title">適用於虛擬機器的雲端備份</block>
  <block id="3b0ec96ab43930bb5b0f274d7a4733bd" category="paragraph">適用於虛擬機器的Cloud Backup可在vCenter上提供vSphere Web用戶端GUI、透過Azure NetApp Files 備份原則保護Azure VMware解決方案虛擬機器和VMware資料存放區。這些原則可定義排程、保留及其他功能。Cloud Backup for Virtual Machine功能可以使用Run命令進行部署。</block>
  <block id="ad15ef62ee17e83e2a2c4de5cfc0a7e0" category="paragraph">完成下列步驟即可安裝設定與保護原則：</block>
  <block id="68efc774d1525ecfc4ad132a4f363c10" category="list-text">使用Run命令、在Azure VMware解決方案私有雲中安裝適用於虛擬機器的Cloud Backup。</block>
  <block id="3a1d9263efa0039dd46c2e2d0dfc2dec" category="list-text">新增雲端訂閱認證（用戶端和機密值）、然後新增雲端訂閱帳戶（NetApp帳戶和相關資源群組）、其中包含您想要保護的資源。</block>
  <block id="60d5826756f013d28eadac75aec57698" category="list-text">建立一或多個備份原則、以管理資源群組備份的保留、頻率及其他設定。</block>
  <block id="6ad3833cba216d2fe6639be4726ad69e" category="list-text">建立一個容器、以新增一或多個需要備份原則保護的資源。</block>
  <block id="f0c88a652a15d9fedafa82483a1959b4" category="list-text">發生故障時、請將整個VM或特定的個別VMDK還原至相同位置。</block>
  <block id="52c902402ab9b60471632cf95f1940b6" category="admonition">利用Snapshot快照技術、備份與還原的速度非常快。Azure NetApp Files</block>
  <block id="08042ba10c942968c10ed6576a20c1e6" category="paragraph"><block ref="08042ba10c942968c10ed6576a20c1e6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e3a1d923fd4fc5d2bc1c7e9ac58f59ef" category="example-title">利用Azure NetApp Files VMware解決方案進行災難恢復、提供VMware vCenter災難恢復</block>
  <block id="93460124cbffe590c9cee7667d85d1da" category="paragraph">災難恢復至雲端是一種彈性且具成本效益的方法、可保護工作負載免受站台停機和資料毀損事件（例如勒索軟體）的影響。使用VMware VAIO架構、內部部署的VMware工作負載可複寫至Azure Blob儲存設備並進行還原、使資料遺失率降至最低或接近零、RTO接近零。可以使用Jetstream DR無縫恢復從內部部署複製到AVS的工作負載、特別是Azure NetApp Files 到還原的工作負載。它能在災難恢復站台使用最少的資源、並以具成本效益的雲端儲存設備、實現具成本效益的災難恢復。透過Azure Blob Storage、在Anf資料存放區中自動恢復、根據網路對應、Jetstream DR會將獨立的VM或相關VM群組恢復至恢復站台基礎架構、並提供時間點還原功能以保護勒索軟體。</block>
  <block id="8b8adea1567023f8a36745e1e256b41e" category="inline-link-macro">災難恢復解決方案、包括ANF、Jetstream和AVS</block>
  <block id="adeb8aee914844a07a855dd7b8fe7ffc" category="paragraph"><block ref="d016a1e57ae2464bcf00474caa126151" category="inline-link-macro-rx"></block>。</block>
  <block id="7a328b7e18172ee10e60d198b9fc26f7" category="doc">適用於Azure / AVS的NetApp混合式多雲端解決方案</block>
  <block id="12709db6944c7fef6c2f181c42bd4741" category="doc">適用於GCP / GCVE的NetApp混合式多雲端解決方案</block>
  <block id="fcee9cbc5f0c4f0ed62751d0d5f181ef" category="doc">NetApp混合式多雲端搭配VMware解決方案</block>
  <block id="980ba21a8b1f775a9fae0552d8594171" category="doc">NetApp混合式多雲端與VMware的總覽</block>
  <block id="6e74d566879067f078b210f01e393989" category="paragraph">從高層面來看、此架構（如下圖所示）涵蓋如何使用NetApp Cloud Volumes ONTAP 解決方案、Cloud Volumes Service 以供Google Cloud使用的支援、以及Azure NetApp Files 以客戶儲存選項形式、在多家雲端供應商之間實現混合式多雲連線和應用程式可攜性。</block>
  <block id="3fe4ff67f6902f4d03e2aff729e6ca40" category="cell">2022年7月21日</block>
  <block id="c1cb2a6b83f79bd02d9023a9dc25d399" category="cell">針對AVS（與來賓連線的儲存設備）、新增CVO和Jetstream的DR解決方案</block>
  <block id="ac0f5de8cc00db2cb13da85ebd7e8780" category="cell">06/10/2022</block>
  <block id="e92ea8797c2bfc161566c53da6321114" category="cell">新增AVS搭配ANF原生資料存放區總覽、以及採用Jetstream的DR</block>
  <block id="b481ba8b3ad7fbb6a9786c9907a7c1ba" category="cell">新增適用於NetApp混合式多雲端與VMware的NFS資料存放區可用度區域清單</block>
  <block id="27f04e57a2bba90c65656f5f47785def" category="open-title">混合式多雲端搭配VMware</block>
  <block id="24fef7dbaeab186ae1ddf8a1fa31ef68" category="cell">在混合式多雲端模式中定義NetApp：包括公有雲中的VMware、以及每個超大規模擴充系統中的NetApp儲存選項。混合式多雲登陸頁面提供內容特定「並排」的熱門內容。</block>
  <block id="91ef1e01c1592f4e80d47d11c68ddf5c" category="inline-link-macro">混合式多雲端搭配VMware內容</block>
  <block id="356bcf8558d9911b876554df23345496" category="cell"><block ref="356bcf8558d9911b876554df23345496" category="inline-link-macro-rx"></block></block>
  <block id="9c155d9143dcac03a6b69afd6ec499b0" category="open-title">混合式多雲端</block>
  <block id="749354a37dc4552d3c41bbf24ba08598" category="sidebar">NetApp混合式多雲端搭配VMware for VMC</block>
  <block id="045ec2e9b9dff589c32c257549300273" category="sidebar">CVO做為來賓連線儲存設備</block>
  <block id="ff106355f094608231dc8d7116a273e1" category="sidebar">適用於VMC的混合式多雲端解決方案</block>
  <block id="0ab50f8c17f87a8eecee4603b22f16c8" category="sidebar">NetApp混合式多雲端搭配VMware for AVS</block>
  <block id="5ab938ef85bdfd3c94e8c4c5f1cfa448" category="sidebar">ANF做為來賓連線儲存設備</block>
  <block id="5ab22899d20e83b71d3c1cbbedea208e" category="sidebar">適用於AVS的混合式多雲端解決方案</block>
  <block id="9fe80f9f1edda788e503795e34b7eb80" category="sidebar">NetApp混合式多雲端搭配VMware for GCVE</block>
  <block id="f0476be9310e3a4606daded5c91d346f" category="sidebar">CVS做為來賓連線儲存設備</block>
  <block id="e809dfa83f36389270c46ad868461471" category="sidebar">適用於GCVE.的混合式多雲端解決方案</block>
  <block id="d4cc78732ab0fdcd767ab42a015d34e0" category="sidebar">安全性總覽- Google Cloud中的NetApp CVS</block>
  <block id="538d26f438b9f54f2e02fe3eff3093f8" category="sidebar">NetApp混合式多雲端搭配VMware</block>
  <block id="b8aef6e50d3ed85ad8f7568c45050629" category="sidebar">保護工作負載</block>
  <block id="a3e69dd4d9f892aab0dcbf0a5dd246e2" category="cell">1.4以上</block>
  <block id="f78d920d9d248820ddf7a3acdd9a34c0" category="doc">VMware vSphere with Tanzu總覽</block>
  <block id="bac31e763c1b2955be0a10de0a4d8012" category="image-alt">VMware vSphere搭配Kubernetes</block>
  <block id="c2e55cf1007600b25e0708bfe26a41f3" category="paragraph">在工作負載管理下啟用含有Tanzu環境的VMware vSphere、就像原生TKGS叢集一樣。</block>
  <block id="9ff6aa8ffa487db2f0aebe3967972d77" category="image-alt">監督者叢集</block>
  <block id="b3ba0fe968ce39dcfc6fe8cc0f1b02da" category="image-alt">命名空間</block>
  <block id="516a32af5ad38dd3b9ca9c156da39add" category="inline-link-macro">VMware vSphere搭配Tanzu（vSphere Pod）</block>
  <block id="a6726486b20bc2510c7d0b189955e69c" category="list-text"><block ref="a6726486b20bc2510c7d0b189955e69c" category="inline-link-macro-rx"></block></block>
  <block id="9fa345c6a2f967ec80e8b940a9d2a1c3" category="summary">隨著客戶瞭解Splunk資料分析的強大功能與易用性、他們自然會想要索引不斷成長的資料量。隨著資料量的增加、服務所需的運算與儲存基礎架構也同樣如此。</block>
  <block id="f9a3e09b74e61e83c0352f2953dcdc87" category="doc">智慧分層與成本節約</block>
  <block id="7bcf31269131a9e7ab4d163f239fc4e5" category="inline-link-macro">先前版本：本解決方案的優點。</block>
  <block id="b27eab207fc06febce259cb1c08777a3" category="paragraph"><block ref="b27eab207fc06febce259cb1c08777a3" category="inline-link-macro-rx"></block></block>
  <block id="e09913e41f1a0082ec190482abfeff57" category="paragraph">隨著客戶瞭解Splunk資料分析的強大功能與易用性、他們自然會想要索引不斷成長的資料量。隨著資料量的增加、服務所需的運算與儲存基礎架構也同樣如此。由於較舊的資料參考頻率較低、因此投入相同數量的運算資源並消耗昂貴的一線儲存設備的效率也越來越低。若要大規模營運、客戶可以將暖資料移至更具成本效益的層級、將運算和主要儲存設備釋出以供熱資料使用。</block>
  <block id="f7300ec91634b8cd535c45fd11ee503f" category="paragraph">Splunk SmartStore搭配StorageGRID NetApp功能、可為組織提供可擴充、效能強大且具成本效益的解決方案。由於SmartStore具備資料感知功能、因此它會自動評估資料存取模式、以判斷哪些資料需要即時分析（熱資料）存取、哪些資料應該存放在成本較低的長期儲存設備（暖資料）中。SmartStore使用業界標準的AWS S3 API、以動態且智慧的方式將資料放入StorageGRID 由VMware提供的S3儲存設備。靈活的StorageGRID 橫向擴充架構可讓暖資料層在需要時以符合成本效益的方式成長。以節點為基礎StorageGRID 的架構可確保效能與成本需求獲得最佳滿足。</block>
  <block id="d75fb5ef86bb0625c22c38dd2229c627" category="paragraph">下圖說明Splunk和StorageGRID 分層。</block>
  <block id="821f09f0a5870b1dd3ee40e65f17b546" category="paragraph"><block ref="821f09f0a5870b1dd3ee40e65f17b546" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b6821c40fa59a17fa0f78dbb9e556be5" category="paragraph">Splunk SmartStore與NetApp StorageGRID ®的領先業界組合、透過完整堆疊解決方案、提供分離式架構的優點。</block>
  <block id="32c614a5724d73faf7f06f754330bbac" category="paragraph"><block ref="32c614a5724d73faf7f06f754330bbac" category="inline-link-macro-rx"></block></block>
  <block id="f362fde28c17f629ded4d965d576f423" category="summary">Splunk Enterprise是領先市場的SIEM解決方案、可帶動安全、IT及DevOps團隊的成果。Splunk的使用在客戶組織中大幅增加。因此、需要新增更多資料來源、同時保留更長時間的資料、因此需要強調Splunk基礎架構。</block>
  <block id="3613797d0f4ca076e9cb8ba4c75e87e6" category="inline-link-macro">先前版本：單一站台SmartStore效能。</block>
  <block id="5fdd4eaa62513aac277472bf713d1bee" category="paragraph"><block ref="5fdd4eaa62513aac277472bf713d1bee" category="inline-link-macro-rx"></block></block>
  <block id="25c2a1fd1c8874a3e0526920fe7f440d" category="paragraph">Splunk SmartStore與NetApp StorageGRID 功能區的結合、旨在提供可擴充的架構、讓企業組織透過SmartStore與StorageGRID VMware物件儲存設備來提升擷取效能、並為多個地理區域的Splunk環境提供更高的擴充性。</block>
  <block id="fbf1f1e6f0848252d39ef48e7e18146f" category="list-text">NetApp StorageGRID 產品文件資源</block>
  <block id="68d4d5362a15088f2ac3fa494c971af5" category="inline-link"><block ref="68d4d5362a15088f2ac3fa494c971af5" category="inline-link-rx"></block></block>
  <block id="580c43c30953ec671dd4a70120e1b513" category="paragraph"><block ref="580c43c30953ec671dd4a70120e1b513" category="inline-link-rx"></block></block>
  <block id="2e85fc867cab94d246e0bf6043b361cd" category="paragraph"><block ref="2e85fc867cab94d246e0bf6043b361cd" category="inline-link-rx"></block></block>
  <block id="e145cc414457b4a232fb0b63ce9f44ab" category="list-text">Splunk Enterprise文件</block>
  <block id="f710d46c12a05abcfde056d779cb608c" category="inline-link"><block ref="f710d46c12a05abcfde056d779cb608c" category="inline-link-rx"></block></block>
  <block id="2ab8bf37a62983163c96b3c2f9a275d4" category="paragraph"><block ref="2ab8bf37a62983163c96b3c2f9a275d4" category="inline-link-rx"></block></block>
  <block id="14c366ebe94ed0bdf5d5eecad5a08411" category="list-text">Splunk Enterprise關於SmartStore</block>
  <block id="98bda64923adc1da4a0e009dd52832a4" category="inline-link"><block ref="98bda64923adc1da4a0e009dd52832a4" category="inline-link-rx"></block></block>
  <block id="86d261d18a8cb6ce8f95f58af41452e5" category="paragraph"><block ref="86d261d18a8cb6ce8f95f58af41452e5" category="inline-link-rx"></block></block>
  <block id="b437e6537685614b8004334bad18e424" category="list-text">Splunk企業分散式部署手冊</block>
  <block id="048c67f334d3e1bbcb765e563d076b7d" category="inline-link"><block ref="048c67f334d3e1bbcb765e563d076b7d" category="inline-link-rx"></block></block>
  <block id="0a25fd44eb7af79f8d9bb0e91d7dfec3" category="paragraph"><block ref="0a25fd44eb7af79f8d9bb0e91d7dfec3" category="inline-link-rx"></block></block>
  <block id="d043516086780b04d9c8b38186019be3" category="list-text">Splunk Enterprise管理Indexers和Indexers叢集</block>
  <block id="87fbe590fc8f855078f14ba53325eb46" category="inline-link"><block ref="87fbe590fc8f855078f14ba53325eb46" category="inline-link-rx"></block></block>
  <block id="d0438efbc1a0dbee965023150ccf9334" category="paragraph"><block ref="d0438efbc1a0dbee965023150ccf9334" category="inline-link-rx"></block></block>
  <block id="e4c2e8edac362acab7123654b9e73432" category="cell">1.0</block>
  <block id="d1cdbd3c8324f3afbc5b420ce471feff" category="cell">2022年7月</block>
  <block id="881214767967db331c99550277ceb793" category="summary">本頁說明Splunk架構、包括關鍵定義、Splunk分散式部署、Splunk SmartStore、資料流、 硬體和軟體需求、單一和多站台需求等。</block>
  <block id="1e6ade59f7284c0bca28eaeeeeed0a30" category="doc">Splunk架構</block>
  <block id="aa91789a439fe45bd8d608e61ca9da8c" category="inline-link-macro">上一篇：StorageGRID Splunk SmartStore的彈性版功能。</block>
  <block id="263af6ab01a543147e86a15ed7794682" category="paragraph"><block ref="263af6ab01a543147e86a15ed7794682" category="inline-link-macro-rx"></block></block>
  <block id="a8449bda57f23b9282f766113987bdf2" category="section-title">關鍵定義</block>
  <block id="56eee8e9cc278d0a414a6d5697a4675f" category="paragraph">下兩份表格列出分散式Splunk部署中使用的Splunk和NetApp元件。</block>
  <block id="5078bea36734bcaa4a0c1e3a0e6e4606" category="paragraph">下表列出分散式Splunk Enterprise組態的Splunk硬體元件。</block>
  <block id="5e536c35aec296fa99efa02703d1eb07" category="cell">Splunk元件</block>
  <block id="84f200201a8fe699d8d701c940bade8e" category="cell">索引器</block>
  <block id="a5aa1df4c3c47c407c84c66303cf0ece" category="cell">Splunk Enterprise資料儲存庫</block>
  <block id="872c8a2437dfbfa5be0882eabc86bcd3" category="cell">通用轉寄站</block>
  <block id="66d25b75f626d8f6c535a4b4d25c9906" category="cell">負責擷取資料並將資料轉送給索引器</block>
  <block id="c91b59f2eae5ebf309d600609f87a36f" category="cell">搜尋標頭</block>
  <block id="5873147385b9bd833ffd9a046374c97b" category="cell">使用者前端用於在索引器中搜尋資料</block>
  <block id="a6230a0628a31d41191b4ef7800745ed" category="cell">叢集主機</block>
  <block id="e4ae9d4eb2313305a17cde160f405a17" category="cell">管理索引器和搜尋頭的Splunk安裝</block>
  <block id="805ac84d9852820feaf2e2b643a07efb" category="cell">監控主控台</block>
  <block id="5cf5006c1d7fdc954614a4e4185a2c62" category="cell">整個部署中使用的集中化監控工具</block>
  <block id="fdccec582408614d1e2f7428910b1c8f" category="cell">授權主機</block>
  <block id="7c3b9b8892864eb6fa5cb2a32b85cc93" category="cell">授權主控者負責Splunk Enterprise授權</block>
  <block id="06262b5ad14fe5851defa5b0b70c86c6" category="cell">部署伺服器</block>
  <block id="ebe1fa5d8a359a6db13876ab1142fa50" category="cell">更新組態、並將應用程式散佈至處理元件</block>
  <block id="4fabea287d13a082b71f046f9d8be91d" category="cell">儲存元件</block>
  <block id="b1edd0b37872fd00feb3bb2738987b41" category="cell">用於管理熱層資料的All Flash儲存設備。也稱為本機儲存設備。</block>
  <block id="518d90155e7eb8bf96c6b7852ba519a6" category="cell">S3物件儲存設備、用於管理暖層資料。SmartStore用於在熱層和熱層之間移動資料。也稱為遠端儲存設備。</block>
  <block id="310a27e25811a8eca9b6e5edd921a267" category="paragraph">下表列出Splunk儲存架構中的元件。</block>
  <block id="40f14800d20c9cecbec85dbb2cf35592" category="cell">負責的元件</block>
  <block id="a5847d984bf6ac525e00b95b93be4e94" category="cell">SmartStore</block>
  <block id="6b64d740ca8627e515d54827d95bc7cb" category="cell">讓索引器能夠將資料從本機儲存設備分層至物件儲存設備。</block>
  <block id="2f9304fe9b427489507405bef9a0bb9f" category="cell">Splunk</block>
  <block id="4194726ee334e1085d93e002837b73f0" category="cell">熱</block>
  <block id="cc42c7d2fb33f9ccc06f2e23486a9b0e" category="cell">通用轉寄站放置新寫入資料的登陸點。儲存設備可寫入、資料可供搜尋。此資料層通常由SSD或快速HDD組成。</block>
  <block id="f156996831cd546988bf05451ede7b02" category="cell">快取管理程式</block>
  <block id="52520fc1f4cef574661d086d8efcb1f8" category="cell">管理索引資料的本機快取、在進行搜尋時從遠端儲存設備擷取暖資料、並從快取中產生最少使用的資料。</block>
  <block id="18297117d3d251afceed9ecbe797c849" category="cell">溫暖</block>
  <block id="810be2ef6ffed5e543f948bf5984d544" category="cell">資料會以邏輯方式捲動至儲存區、並從熱層重新命名為暖層。此層內的資料受到保護、像熱層一樣、也可以由大容量的SSD或HDD組成。使用通用資料保護解決方案、可同時支援遞增和完整備份。</block>
  <block id="392d70ca39f31f10bd637936769788df" category="cell">StorageGRID</block>
  <block id="7cf9c58117f9052c5d5a43b3add7f6a4" category="section-title">Splunk分散式部署</block>
  <block id="11c2b5859cb0c1d37b40f8df716542e2" category="paragraph">為了支援資料來源於許多機器的大型環境、您需要處理大量資料。如果有許多使用者需要搜尋資料、您可以在多部機器上分散Splunk Enterprise執行個體、藉此擴充部署規模。這稱為分散式部署。</block>
  <block id="113f0bd975880424e2c87874233b2afb" category="paragraph">在典型的分散式部署中、每個Splunk Enterprise執行個體都會執行一項專業任務、並駐留在三個處理層中、對應於主要處理功能。</block>
  <block id="ac31b29e5bbd68654aeb200e66227fb8" category="paragraph">下表列出Splunk Enterprise處理層。</block>
  <block id="9483f17a69bd0b52dbc44f9106718634" category="cell">層級</block>
  <block id="7d38267cdf833b2983d3487954ebf88e" category="cell">資料輸入</block>
  <block id="2d361d5fe6d74b7550e0aa35d94342ec" category="cell">轉寄站</block>
  <block id="b2eebf5023a2a2ba3b35711069723656" category="cell">轉寄站會使用資料、然後將資料轉送到索引器群組。</block>
  <block id="521d4edc7c22d5f63bc5912ff2afa61a" category="cell">索引</block>
  <block id="65265b43bef75c5bacc53c21e38eb8fc" category="cell">索引器會索引通常從一組轉寄站接收的傳入資料。索引程式會將資料轉換成事件、並將事件儲存在索引中。索引程式也會搜尋索引資料、以回應來自搜尋標頭的搜尋要求。</block>
  <block id="ff5b0dc94726e93d5db5cf7922183f2b" category="cell">搜尋管理</block>
  <block id="d4c174b1ebc77694020097497547d218" category="cell">搜尋標頭可做為搜尋的中央資源。叢集中的搜尋頭可互換、並可從任何搜尋頭叢集成員存取相同的搜尋、儀表板、知識物件等。</block>
  <block id="86f51d8f8fa8928e0f6ddba31139676e" category="paragraph">下表列出分散式Splunk Enterprise環境中使用的重要元件。</block>
  <block id="dee8af298acfc4c4bcb9fda657125917" category="cell">責任</block>
  <block id="3b656ff8459bec2d80d19d367bd71d19" category="cell">索引叢集主機</block>
  <block id="407a3e34682f31b649e8cbd865fdf50c" category="cell">協調索引器叢集的活動與更新</block>
  <block id="dad2f7ca532f008e8192d418406da758" category="cell">索引管理</block>
  <block id="85ba71585b2b8c323c8eb899fa033227" category="cell">索引叢集</block>
  <block id="f13c7b75bef35de7c42cc0569f76e366" category="cell">一組Splunk Enterprise索引器、設定為彼此複寫資料</block>
  <block id="f8b32f50f478eb80dca360b13aa78e92" category="cell">搜尋主管部署者</block>
  <block id="9f45bd6fe25c3f5597af0f46bfdb20db" category="cell">處理叢集主機的部署與更新</block>
  <block id="bc2eef462c1a0c8b778b607c304ba877" category="cell">搜尋標頭管理</block>
  <block id="58f4a17edb05ffec840bf2b176bf6eca" category="cell">搜尋標頭叢集</block>
  <block id="70f36c7a653c3724df8921edce177b22" category="cell">一組搜尋頭、做為搜尋的中央資源</block>
  <block id="2ddcaa7e88a6ad9c095422ca4e601d85" category="cell">負載平衡器</block>
  <block id="fe613dab61d63209235cf49513b00d8a" category="cell">由叢集式元件使用、透過搜尋頭、索引器和S3目標來處理不斷增加的需求、以便在叢集式元件之間分散負載。</block>
  <block id="184f98cf6a6dd19d0815179e63be4298" category="cell">叢集式元件的負載管理</block>
  <block id="e32d50596edede1bfe3978d8b7b5c5ac" category="paragraph">請參閱Splunk Enterprise分散式部署的下列優點：</block>
  <block id="9431943c093a5cc181eccd505ca50f4c" category="list-text">存取多元或分散的資料來源</block>
  <block id="e825b2fa62f5af51541982cc503c8825" category="list-text">提供功能來滿足任何規模和複雜度企業的資料需求</block>
  <block id="c63fa16ec4ed3d9b3803c2d1e1548fe6" category="list-text">透過資料複寫和多站台部署、實現高可用度並確保災難恢復</block>
  <block id="fb289ff7f529e1f2477823c61e7d9c8f" category="section-title">Splunk SmartStore</block>
  <block id="e2475a05ae25f0e8f31932cc309db3f1" category="paragraph">SmartStore是索引程式功能、可讓Amazon S3等遠端物件存放區儲存索引資料。隨著部署的資料量增加、儲存需求通常會超過運算資源的需求。SmartStore可讓您以具成本效益的方式管理索引器儲存設備和運算資源、方法是分別擴充這些資源。</block>
  <block id="4b253fe4960ecb87fdd7a6c05a125003" category="paragraph">SmartStore引進遠端儲存層和快取管理程式。這些功能可讓資料駐留在本地索引器或遠端儲存層上。快取管理程式可管理索引器與遠端儲存層之間的資料移動、索引器上已設定此層。</block>
  <block id="98941a2e255442c92447b445a4a6bc6e" category="paragraph">有了SmartStore、您可以將索引器的儲存設備佔用空間降至最低、並選擇I/O最佳化的運算資源。大部分資料都位於遠端儲存設備上。索引器會維護本機快取、其中包含最少的資料量：熱儲存區、參與作用中或最近搜尋的暖儲存區複本、以及儲存區中繼資料。</block>
  <block id="2d153b33a50f3343c2aeb68789ee8e26" category="section-title">Splunk SmartStore資料流</block>
  <block id="3306b50d7dd22a0698c2245e7cd06bee" category="paragraph">當從不同來源傳入的資料到達索引器時、會將資料索引並儲存在熱儲存區的本機上。索引程式也會將熱庫資料複寫到目標索引器。到目前為止、資料流與非SmartStore索引的資料流相同。</block>
  <block id="ad1e15c21ba7587e1631977abe48ab09" category="paragraph">當熱桶開始變暖時、資料流會發生差異。來源索引器會將暖儲存區複製到遠端物件存放區（遠端儲存層）、同時將現有的複本保留在快取中、因為搜尋通常會在最近建立索引的資料之間執行。但是、目標索引器會刪除複本、因為遠端儲存區提供高可用度、而不會維護多個本機複本。儲存庫的主要複本現在位於遠端儲存區。</block>
  <block id="3d39641a906c56e9e12b0f019f23bc1d" category="paragraph">下圖顯示Splunk SmartStore資料流。</block>
  <block id="9fb3b10aa394792f93ac799606bd8ed5" category="paragraph"><block ref="9fb3b10aa394792f93ac799606bd8ed5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7fa16046e839496393e84b6a20e9604e" category="paragraph">索引器上的快取管理程式是SmartStore資料流的核心。它會視需要從遠端儲存區擷取儲存區的複本、以處理搜尋要求。它也會從快取中移出較舊或較少搜尋過的儲存區複本、因為隨著時間的推移、參與搜尋的可能性也會降低。</block>
  <block id="715f39bb7952ceb84a6bd1bb44c1ac4d" category="paragraph">快取管理程式的工作是最佳化可用快取的使用、同時確保搜尋能夠立即存取所需的儲存區。</block>
  <block id="4b2ba4c21a026c9139cf1484818f31c0" category="paragraph">下表列出實作解決方案所需的軟體元件。在解決方案的任何實作中使用的軟體元件、可能會因客戶需求而異。</block>
  <block id="aa76f43f5e0552119cc8d5313c67296e" category="cell">產品系列</block>
  <block id="df644ae155e79abf54175bd15d75f363" category="cell">產品名稱</block>
  <block id="892b5a336dfe285f2d5c04ccd3d6c465" category="cell">產品版本</block>
  <block id="1b3e6de2b0fe97c3177ea5a4ad142554" category="cell">物件儲存StorageGRID</block>
  <block id="36552b079970ffb2dd1314115af76c4b" category="cell">11.6%</block>
  <block id="66985170e641a7e20698bfec3c1d889f" category="cell">CentOS 7.x</block>
  <block id="5dba46907e72d7502229329d2aafd8a2" category="cell">Splunk Enterprise</block>
  <block id="9d8d169ace12276d008f0d0b88b61261" category="cell">採用SmartStore的Splunk Enterprise</block>
  <block id="75809dde56e3fe2c2fb740f1b55807ac" category="cell">8.0.3</block>
  <block id="3192356dc19e9b4ec43ba340bad657ee" category="section-title">單一和多站台需求</block>
  <block id="98b8bd4f9670277f1f0e59a574019582" category="paragraph">在企業Splunk環境（中型和大型部署）中、資料來源於許多機器、且有許多使用者需要搜尋資料、您可以在單一和多個站台上散佈Splunk Enterprise執行個體、藉此擴充部署規模。</block>
  <block id="22e1b76cf9acbfd35603b013eefcb079" category="paragraph">下表列出分散式Splunk Enterprise環境中使用的元件。</block>
  <block id="1fbd0b2f11fe7779db6380b6d09478df" category="cell">一組Splunk Enterprise索引器、設定為彼此複寫資料</block>
  <block id="4e21e57c1860bf98fe3d0af8068f827d" category="cell">負載平衡器</block>
  <block id="03d7fbb295d0abb68bf4d3ce22d6d448" category="cell">叢集式元件的負載管理</block>
  <block id="a0ebc1066e0250b1b42f1a66ae974836" category="paragraph">此圖說明單一站台分散式部署的範例。</block>
  <block id="733ecc3327823660187d1d7d76df7079" category="paragraph"><block ref="733ecc3327823660187d1d7d76df7079" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cf99a89b389bc74dc1a403695b28d6cd" category="paragraph">此圖說明多站台分散式部署的範例。</block>
  <block id="d10d5e57a05119c14c599013d15d6553" category="paragraph"><block ref="d10d5e57a05119c14c599013d15d6553" category="inline-image-macro-rx" type="image"></block></block>
  <block id="80d955d16c5178cc40e347dfe675a443" category="paragraph">下表列出實作解決方案所需的硬體元件數量下限。在解決方案的特定實作中使用的硬體元件可能會因客戶需求而異。</block>
  <block id="40b955882ffd3093985177c3721cfed2" category="admonition">無論您是在StorageGRID 單一站台或多個站台上部署Splunk SmartStore和Solidsites、所有系統都是從StorageGRID 這個功能區管理的單一窗口中進行管理。如需詳細資訊、請參閱「使用Grid Manager進行簡單管理」一節。</block>
  <block id="1605af3a62fa950fe8374a69086fdc94" category="paragraph">下表列出單一站台所使用的硬體。</block>
  <block id="380dbc8d9d2c8a17f6ebb0b2c62d3e85" category="cell">磁碟</block>
  <block id="b3e1f4c67ee07a73dcdaff1cf34f2640" category="cell">可用容量</block>
  <block id="3b0649c72650c313a357338dcdfb64ec" category="cell">附註</block>
  <block id="1c594a38f9aafa3a439c25bc55815b40" category="cell">SSG1000 StorageGRID</block>
  <block id="b179d20c2d3e6e91708b69931e8fcf32" category="cell">管理節點和負載平衡器</block>
  <block id="48f09b085e666c51e35dbe89367de826" category="cell">SSG6060 StorageGRID</block>
  <block id="ab570142c34522356bdf33666f6532a3" category="cell">X48、8TB（NL-SAS HDD）</block>
  <block id="1792805a48a4da5ef5a78aa014da1f84" category="cell">1PB</block>
  <block id="ecefe4d01bf4079d1e2833e9a7de2db7" category="cell">遠端儲存設備</block>
  <block id="9327a762e04913fc832ee2b182848716" category="paragraph">下表列出用於多站台組態（每站台）的硬體。</block>
  <block id="41cac74c281e47bb6feb1ef8db664ce4" category="cell">管理節點和負載平衡器</block>
  <block id="aadc7d80b20e9c743c2920297937f9fd" category="section-title">NetApp StorageGRID S1000負載平衡器：SG1000</block>
  <block id="b3f51763a6ba0ae7fe6d83095cb24299" category="paragraph">物件儲存需要使用負載平衡器來呈現雲端儲存命名空間。支援業界領先廠商（例如F5和Citrix）的協力廠商負載平衡器、但許多客戶選擇企業級的均衡器、以實現簡易性、恢復能力和高效能。StorageGRID StorageGRID此等負載平衡器可作為VM、Container或特定用途的應用裝置使用。StorageGRID</block>
  <block id="01f9bf7333b91ead20b7d1ac12ba4bca" category="paragraph">利用此功能、即可在S3資料路徑連線中使用高可用度（HA）群組、並實現智慧型負載平衡。StorageGRID沒有其他內部物件儲存系統能提供自訂的負載平衡器。</block>
  <block id="2f1a2bc20d9d0cddf636827860bdeb21" category="paragraph">SG1000應用裝置提供下列功能：</block>
  <block id="fee5222c1281869dd7c4e3e4b7225065" category="list-text">負載平衡器和（可選）管理員節點功能、適用於StorageGRID 一個系統</block>
  <block id="7ea5a035cfe0609861da7628e7dedc64" category="list-text">旨在簡化節點部署與組態的《產品安裝程式（the StorageGRID</block>
  <block id="224d05cfece712836874ae47446c6d1b" category="list-text">簡化S3端點和SSL的組態</block>
  <block id="59bf11863992b10be7d53c81c21a0220" category="list-text">專用頻寬（相較於與其他應用程式共用協力廠商負載平衡器）</block>
  <block id="1436fddc15afc971733cc42610be3718" category="list-text">高達4 x 100Gbps的Aggregate乙太網路頻寬</block>
  <block id="4ff66456ad21f2aa88ad918b2a19287d" category="paragraph">下圖顯示SG1000閘道服務應用裝置。</block>
  <block id="3e44556364ce6907a44a9fb5c09eab69" category="paragraph"><block ref="3e44556364ce6907a44a9fb5c09eab69" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c69ff1785c16ab7db216e04b62e5ef4f" category="section-title">SG6060</block>
  <block id="40b11d9d6e72b8f3d6f6cd150ea6d5b3" category="paragraph">此產品包含運算控制器（SG6060）和儲存控制器機櫃（E系列E2860）、StorageGRID 其中包含兩個儲存控制器和60個磁碟機。本應用裝置提供下列功能：</block>
  <block id="5d61368716b8937ccfa3ae30bdeb3add" category="list-text">在單一命名空間中最多可擴充至400PB。</block>
  <block id="b08da7d555d413c82fa9476b78a3d1b4" category="list-text">最高4倍25Gbps Aggregate乙太網路頻寬。</block>
  <block id="3b384482ee0276a75964f52aab736cac" category="list-text">包含StorageGRID 可簡化節點部署與組態的《不再使用產品安裝程式」。</block>
  <block id="3d6b68fb6989ac04a76612b7d50b5046" category="list-text">每個SG6060應用裝置都可以有一或兩個額外的擴充櫃、總共可容納180個磁碟機。</block>
  <block id="470503fbecc72cbe91b61c6e9b999cbe" category="list-text">兩個E系列E2800控制器（雙工組態）可提供儲存控制器容錯移轉支援。</block>
  <block id="920a659800fa3289516e73f0b8d0cd70" category="list-text">五個抽屜式磁碟機櫃、可容納60個3.5吋磁碟機（兩個固態磁碟機、以及58個NL-SAS磁碟機）。</block>
  <block id="d60b006794c926c67e95ce7f49fffbed" category="paragraph">下圖顯示SG6060應用裝置。</block>
  <block id="8d3bb0a39a1d477f7f0b8789769c96c5" category="paragraph"><block ref="8d3bb0a39a1d477f7f0b8789769c96c5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ad24897680a673883f3a8e9467ea3271" category="section-title">Splunk設計</block>
  <block id="c2d7b4acc3efe890969906f2a0be4bea" category="paragraph">下表列出單一站台的Splunk組態。</block>
  <block id="95dd022b7af0f9fcfb9ed21236830169" category="cell">核心</block>
  <block id="5132d0e71971db5ca9827d470220eae9" category="cell">16核心</block>
  <block id="f4e3903ba78addf6fadac4a2d7285203" category="cell">32GB RAM</block>
  <block id="3988099dd7392a8b60a290ca560ac95d" category="cell">CentOS 8.1</block>
  <block id="aa7f73db0dcc93a83403f1afb650efdd" category="cell">管理使用者資料</block>
  <block id="86e7f660faa5812369ca3195a6ab944a" category="cell">使用者前端會在索引器中搜尋資料</block>
  <block id="e14f0b3b9201c717d9cae1db6969fb64" category="cell">處理搜尋頭叢集的更新</block>
  <block id="0ac993c5a472613a0cd368ccfefd6009" category="cell">管理Splunk安裝與索引器</block>
  <block id="a91966f90c29f7d9420d2fd902f4aac2" category="cell">監控主控台和授權主控台</block>
  <block id="0cb149f6f77c10496cf7645357f9fd17" category="cell">集中監控整個Splunk部署、並管理Splunk授權</block>
  <block id="9bc779a08fe3e6d54c4355c4ee8c4a95" category="paragraph">下表說明多站台組態的Splunk組態。</block>
  <block id="9605b47d211de50422182b81685da619" category="paragraph">下表列出多站台組態（站台A）的Splunk組態。</block>
  <block id="d9de1b6846e3235226dba66773043a15" category="cell">負責擷取資料並將資料轉送給索引器。</block>
  <block id="76132c1712ff61ff02378720304f6529" category="cell">集中監控整個Splunk部署、並管理Splunk授權。</block>
  <block id="2d3db4a7f27e8f892b40be60e8c003b4" category="paragraph">下表列出多站台組態（站台B）的Splunk組態。</block>
  <block id="b9006101b0f69e04590f5276d5cab52a" category="inline-link-macro">下一步：單一站台SmartStore效能。</block>
  <block id="f7c6952971373a408f0b926fb7202e6f" category="paragraph"><block ref="f7c6952971373a408f0b926fb7202e6f" category="inline-link-macro-rx"></block></block>
  <block id="722462e25c63551f73985fc89f6a2139" category="summary">此解決方案可新增運算、熱儲存或S3資源、以因應單一和多站台部署中使用者數量或擷取速度不斷增加的需求。</block>
  <block id="0dd05c4d24d98f033770c01356b3ce26" category="paragraph"><block ref="0dd05c4d24d98f033770c01356b3ce26" category="inline-link-macro-rx"></block></block>
  <block id="bf89e1232480b95d07f648df24c3695b" category="list-text">*效能。* Splunk SmartStore與NetApp StorageGRID 支援組合、可利用物件儲存功能、快速移轉熱桶與溫桶之間的資料。藉由針對大型物件工作負載提供快速的效能、而使移轉程序更具效率。StorageGRID</block>
  <block id="e0be1ad556d6601e63eb8f1b6208c55e" category="list-text">*多站台就緒。* StorageGRID 透過分散式架構、Splunk SmartStore可透過單一全域命名空間、將部署延伸至單一和多個站台、無論資料存放在何處、都能從任何站台存取資料。</block>
  <block id="9efd709ebdaac869f02b49e17fe9e92b" category="list-text">*提升擴充性。*從運算資源獨立擴充儲存資源、以滿足Splunk環境中不斷演變的需求、進而提升TCO。</block>
  <block id="52fb1ca9da3811c1cb86cd4347f98a64" category="list-text">*容量。* StorageGRID 藉由將單一命名空間擴充至560PB以上、藉由使用NetApp解決方案、在Splunk部署中滿足快速成長的磁碟區需求。</block>
  <block id="ff501c8a6a8c7b1ee7a3c656b6f4055a" category="list-text">*資料可用度。*最佳化資料可用度、效能、地理分佈、保留、保護、 和儲存成本、搭配中繼資料導向的原則、可隨著資料商業價值的演進而動態調整。</block>
  <block id="bf1b0e32d877d343f0b3bc9ba43cb688" category="inline-link">Splunk提供的準則</block>
  <block id="29c3e2f956fc4b206ef3c7bbbb3730b0" category="paragraph">SmartStore快取是索引器的一項元件、可在本機（Hot）與遠端（Warm）儲存設備之間處理儲存區複本傳輸作業、藉此提升效能。此解決方案的Splunk規模是以為基礎<block ref="d615ab802f29a9ee4a18e420480d049f" category="inline-link-rx"></block>。此解決方案可新增運算、熱儲存或S3資源、以因應單一和多站台部署中使用者數量或擷取速度不斷增加的需求。</block>
  <block id="a013f15cce9510e1b717f058d9322b0f" category="inline-link-macro">下一步：智慧分層和成本節約。</block>
  <block id="1dd4851efea44091fc608ccfa49a8da6" category="paragraph"><block ref="1dd4851efea44091fc608ccfa49a8da6" category="inline-link-macro-rx"></block></block>
  <block id="c7ebb883721f7d9264fd6ef2ae03fc71" category="summary">本技術報告概述NetApp為Splunk SmartStore解決方案所提供的效益、同時示範如何在您的環境中設計及調整Splunk SmartStore規模。如此一來、我們就能打造出簡單易用、可擴充且靈活彈性的解決方案、提供極具吸引力的TCO。</block>
  <block id="766d1a96c4f198ecfe92484b980e9b31" category="doc">TR-4869：StorageGRID NetApp支援Splunk SmartStore</block>
  <block id="2dafc6e921d43527cceb2ba642abf973" category="paragraph">Karthithkeyan Nagalingam、Bobby Oommen、Joseph Kandatilparambil</block>
  <block id="648e525fafbee4c7b749ab8740beb0d3" category="paragraph">Splunk Enterprise是領先市場的安全資訊與事件管理（SIEM）解決方案、可帶動安全、IT及DevOps團隊的成果。資料量持續以指數速度成長、為企業創造龐大商機、充分運用這項龐大資源。Splunk Enterprise持續在各種使用案例中獲得採用率。隨著使用案例的成長、Splunk Enterprise擷取和處理的資料量也會隨之增加。Splunk Enterprise的傳統架構是分散式橫向擴充設計、提供絕佳的資料存取與可用度。然而、使用此架構的企業面臨著擴充所需的相關成本日益增加、以因應快速成長的資料量。</block>
  <block id="6a7254f4c4c618a79510973c24f6b258" category="paragraph">Splunk SmartStore with NetApp StorageGRID NetApp解決了這項挑戰、提供全新的部署模式、讓運算與儲存設備能夠分離。此解決方案也能讓客戶在單一和多個站台之間進行擴充、進而釋放Splunk Enterprise環境無與倫比的擴充性和彈性、同時還能讓運算和儲存設備獨立擴充規模、並為具成本效益的雲端型S3物件儲存設備增添智慧分層功能、進而降低成本。</block>
  <block id="f8ff71716eed4ad221efc3e0d60beaf6" category="paragraph">此解決方案可最佳化本機儲存設備中的資料量、同時維持搜尋效能、讓運算和儲存設備能夠隨需擴充。SmartStore會自動評估資料存取模式、以判斷哪些資料需要即時分析才能存取、哪些資料應存放在成本較低的S3物件儲存設備中。</block>
  <block id="5c56ae45ba2fb5c42451dffdb2e64b55" category="paragraph">本技術報告概述NetApp為Splunk SmartStore解決方案所提供的效益、同時示範如何在您的環境中設計及調整Splunk SmartStore規模。如此一來、我們就能打造出簡單易用、可擴充且靈活彈性的解決方案、提供極具吸引力的TCO。支援可擴充且具成本效益的S3傳輸協定/API型物件儲存設備、也稱為遠端儲存設備、可讓組織以較低的成本擴充Splunk解決方案、同時提高恢復能力。StorageGRID</block>
  <block id="9841b81741e6066deac80b48e24f10fd" category="admonition">Splunk SmartStore將物件儲存稱為遠端儲存區或遠端儲存層。</block>
  <block id="4c1ead791cca9ec5a7b94356255ce5ef" category="section-title">關於NetApp StorageGRID 解決方案</block>
  <block id="57f13ae6637bd7ac5af4d0b1c4342cf7" category="paragraph">NetApp StorageGRID 解決方案是軟體定義的物件儲存解決方案、適用於大型歸檔、媒體儲存庫和網路資料儲存區。NetApp運用StorageGRID NetApp豐富的經驗、提供領先業界的創新與資料管理解決方案、同時協助組織管理及發揮內部部署及公有、私有或混合雲部署的資訊價值。</block>
  <block id="6281e52aec6aad8556d89bbf44d95436" category="paragraph">提供安全、持久的大規模儲存非結構化資料。StorageGRID以中繼資料為導向的整合式生命週期管理原則、可在資料生命週期中最佳化資料的存放位置。內容會放置在適當的位置、適當的時間、以及適當的儲存層、以降低成本。單一命名空間可讓您透過單一通話存取資料、無論StorageGRID 該資料位於何處、都能輕鬆存取。客戶可以在StorageGRID 資料中心和雲端基礎架構之間部署及管理多個支援範例。</block>
  <block id="d0a72d49cbe69b32b6e889db2e1429c9" category="paragraph">這個系統由全球分散、備援的異質節點所組成、可與現有和新一代用戶端應用程式整合。StorageGRID</block>
  <block id="5680b078511221b1538af544a52a477e" category="paragraph"><block ref="5680b078511221b1538af544a52a477e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4077a77339f68c64c1e50f20961e468f" category="paragraph">IDC MarketScape最近在最新報告《IDC MarketScape：全球物件型儲存設備2019年廠商評估》中、將NetApp評選為領導廠商。由於在要求最嚴苛的產業部署了將近20年的正式作業環境、StorageGRID 因此在非結構化資料方面、NetApp是公認的領導者。</block>
  <block id="a2146cca70b8afc5500f690b84357813" category="paragraph">有了這個功能、您可以達成下列目標：StorageGRID</block>
  <block id="0d29e2d2977160f50fc59018cd24d6ee" category="list-text">部署多StorageGRID 個支援實體執行個體、透過單一命名空間輕鬆擴充至數百PB的容量、從資料中心與雲端之間的任何位置存取資料。</block>
  <block id="770d656b5273d26168b61ba6ede38cfd" category="list-text">提供靈活彈性、可在基礎架構之間進行部署和集中管理。</block>
  <block id="5926e6b363cbfe237a46219c7f92fe02" category="list-text">利用分層銷毀編碼（EC）、提供15個nines的持久性、提供無與倫比的持久性。</block>
  <block id="77a48d0beb74ba75ef47c32ed1115a01" category="list-text">透過Amazon S3 Glacier和Azure Blob的驗證整合功能、實現更多混合式多雲端功能。</block>
  <block id="ffa0a5ca524779112b69eb9e53aacf31" category="list-text">不需使用專屬API或固定廠商、即可透過防竄改資料保留功能來履行法規義務並促進法規遵循。</block>
  <block id="6e9d67cdb6f2e5564ae28e0389bcc679" category="inline-link">NetApp StorageGRID 產品首頁</block>
  <block id="206008935f811359069d9b35cb5c874e" category="paragraph">如需StorageGRID 更多關於如何協助您解決最複雜的非結構化資料管理問題的資訊、請參閱<block ref="56ef38793a035acc851dabaa0c795287" category="inline-link-rx"></block>。</block>
  <block id="04bfb82e5f80fda36ff56ad540caaa63" category="section-title">關於Splunk Enterprise</block>
  <block id="a643f0cfa3f1b40b8f79f3609f0aa84f" category="paragraph">Splunk Enterprise是將資料轉化為行動的平台。Splunk Indexers會傳送及剖析由各種來源產生的資料、例如記錄檔、網站、裝置、感應器和應用程式、讓您從資料中獲得豐富的見解。它可以識別資料外洩、指出客戶與產品趨勢、尋找最佳化基礎架構的機會、或針對各種使用案例建立可據以行動的洞見。</block>
  <block id="6118f726dd6c9b9e82e01638e958e5c8" category="section-title">關於Splunk SmartStore</block>
  <block id="9ce6098334cce9db7edb3314ee645a2e" category="paragraph">Splunk SmartStore擴展了Splunk架構的優點、同時簡化了以符合成本效益的方式擴充的能力。運算與儲存資源的分離、可使索引節點針對I/O最佳化、並大幅減少儲存需求、因為索引節點只會將資料子集儲存為快取。只需要其中一項資源、您就不需要新增額外的運算或儲存設備、如此一來您就能大幅節省成本。您可以使用具成本效益且易於擴充的S3型物件儲存設備、進一步簡化環境、降低成本、並可讓您維護更大量的資料集。</block>
  <block id="fde880b7e5def5ccc70e3e98ba15b442" category="paragraph">Splunk SmartStore為組織帶來重大價值、包括：</block>
  <block id="16fc7d5921f88ca7b8070e1913a6fb74" category="list-text">將暖資料移至成本最佳化的S3物件儲存設備、藉此降低儲存成本</block>
  <block id="9ce78e75b3ecebf85fe0d43f2cf80505" category="list-text">將儲存設備與運算分離、實現無縫擴充</block>
  <block id="1dd6f3d1f3ac2a43dc2e69386b1b15ca" category="list-text">運用彈性的雲端原生儲存設備、簡化營運不中斷</block>
  <block id="8db09dd9a1d2508a1e11189bfe47d246" category="inline-link-macro">下一步：此解決方案的優點。</block>
  <block id="0032cf08702e09af53bf601b3f83e323" category="paragraph"><block ref="0032cf08702e09af53bf601b3f83e323" category="inline-link-macro-rx"></block></block>
  <block id="95ae2f11a98975eca88411c818226d25" category="paragraph">為了進一步強化端點組態、StorageGRID 支援內建於管理節點的流量分類原則、讓您監控工作負載流量、並將各種服務品質（QoS）限制套用至工作負載。流量分類原則會套用至StorageGRID 閘道節點和管理節點的「動態負載平衡器」服務上的端點。這些原則可協助流量調整和監控。</block>
  <block id="7d68f597b217695f6702ae71ae4eb455" category="summary">利用各式各樣的功能、使用者可以根據瞬息萬變的環境來運用及自訂這些功能。StorageGRID從部署到擴充Splunk SmartStore、您的環境都需要迅速採用變更、而且不中斷Splunk營運。靈活的資料管理原則（ILM）和流量分類器（QoS）StorageGRID 可讓您規劃及調整環境。</block>
  <block id="0fc3cf31004e01f169ca3af4ef687576" category="doc">Splunk SmartStore靈活StorageGRID 的功能</block>
  <block id="0a0da304981bebd25b6bd55cb6151bf0" category="paragraph"><block ref="0a0da304981bebd25b6bd55cb6151bf0" category="inline-link-macro-rx"></block></block>
  <block id="5b552d68210e15d5ed4e4d186264b453" category="paragraph">Grid Manager是瀏覽器型圖形介面、可讓您在StorageGRID 單一窗口中設定、管理及監控整個分散於全球各地的地區、如下圖所示。</block>
  <block id="9c4d5c64a1fc501b7fb5d68cb8048ddc" category="paragraph"><block ref="9c4d5c64a1fc501b7fb5d68cb8048ddc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="52d198c85ec187eb3bbff17442a01baa" category="paragraph">使用Grid Manager介面執行下列工作：</block>
  <block id="356e4420bfe7b6226984261d66ec9e0b" category="section-title">適用於Splunk的NetApp StorageGRID 支援應用程式</block>
  <block id="d4503ceebebf47c506c3003f760662a2" category="paragraph">適用於Splunk的NetApp StorageGRID 解決方案應用程式是Splunk Enterprise專屬的應用程式。此應用程式可搭配適用於StorageGRID Splunk的NetApp支援附加元件一起運作。它可讓您清楚掌握StorageGRID 有關資料的健全狀況、帳戶使用資訊、安全性稽核詳細資料、資源使用量及監控等資訊。</block>
  <block id="c7b8ad57a7270e26eba0ed9da1fa0b6c" category="paragraph">下圖顯示StorageGRID 適用於Splunk的ImageApp。</block>
  <block id="7c39625522ddbadc65ea87056e2d32c9" category="paragraph"><block ref="7c39625522ddbadc65ea87056e2d32c9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a7e07b036910adce42ba90efc47f818e" category="section-title">ILM原則</block>
  <block id="fce13f2ee25ffdd1859d6a17a94b0e73" category="paragraph">根據特定的效能和資料保護需求、支援靈活的資料管理原則、包括保留多個物件複本、以及使用EC（銷毀編碼）配置（例如2+1和4+2（以及其他許多方案）來儲存物件。StorageGRID隨著工作負載和需求隨時間變化、ILM原則也必須隨時間而改變、這是很常見的做法。修改ILM原則是一項核心功能、讓StorageGRID 客戶能夠快速輕鬆地因應瞬息萬變的環境。</block>
  <block id="3f7d13681fac5c1ca00c53ae2a27efaa" category="paragraph">透過新增更多節點來擴充效能、這些節點可以是VM、裸機或專為特定用途建置的應用裝置、例如SG5712、SG5760、SG6060或SGF6024。StorageGRID在我們的測試中、我們使用SG6060應用裝置、以最小的三節點網格、超越SmartStore的關鍵效能要求。隨著客戶使用額外的索引器來擴充Splunk基礎架構、他們可以新增更多儲存節點來提升效能和容量。</block>
  <block id="8a0453356d4720c8c5a67e5e2a16b419" category="section-title">負載平衡器和端點組態</block>
  <block id="08de46c3a8d44cfa799d969abfa407eb" category="paragraph">本功能提供Grid Manager UI（使用者介面）和REST API端點、StorageGRID 以檢視、設定及管理StorageGRID 您的不實系統、以及稽核記錄來追蹤系統活動。為了為Splunk SmartStore遠端儲存設備提供高可用度的S3端點、我們實作StorageGRID 了一套以服務形式在管理節點和閘道節點上執行的負載平衡器。此外、負載平衡器也會管理本機流量、並與GSLB（全域伺服器負載平衡）對話、以協助災難恢復。</block>
  <block id="d2134190f6b031237d4b1523c86c29a2" category="paragraph">為了進一步強化端點組態、StorageGRID 支援內建於管理節點的流量分類原則、讓您監控工作負載流量、並將各種服務品質（QoS）限制套用至工作負載。流量分類原則會套用至StorageGRID 閘道節點和管理節點的「動態負載平衡器」服務上的端點。這些原則可協助限制流量及監控。</block>
  <block id="923a187b8784c27278acc68df21738b8" category="inline-link-macro">下一步：Splunk架構。</block>
  <block id="ec27327edf763f5474f1428dfcc067b1" category="paragraph"><block ref="ec27327edf763f5474f1428dfcc067b1" category="inline-link-macro-rx"></block></block>
  <block id="b27064a5ca31ea524411e6ce281c8f0c" category="paragraph">NetApp為Splunk SmartStore提供簡單易用且可擴充的解決方案、不僅能發揮最大效能與恢復能力、還能提供令人信服的TCO。</block>
  <block id="39e4c49e9af8047395aa4031e5c5f3a9" category="summary">本頁說明用於完成此解決方案的元件、包括NetApp StorageGRID 、Splunk Enterprise和Splunk SmartStore。</block>
  <block id="0f641483b3a1a8cfcb4b0ad971a2d016" category="inline-link-macro">上一篇：智慧分層與成本節約效益。</block>
  <block id="b1320bfc03a3d1edb16e0f717149a713" category="paragraph"><block ref="b1320bfc03a3d1edb16e0f717149a713" category="inline-link-macro-rx"></block></block>
  <block id="5ab9d0d9b506bd4b5bf294baccd4ef0a" category="paragraph">NetApp StorageGRID 產品是高效能且具成本效益的物件儲存平台。它使用分散式節點型網格架構、提供智慧型原則導向的全球資料管理功能。它透過無所不在的全域物件命名空間、加上精密的資料管理功能、簡化PB非結構化資料和數十億個物件的管理。單一通話物件存取功能可延伸至各個站台、並簡化高可用度架構、同時確保無論站台或基礎架構停機、都能持續存取物件。</block>
  <block id="d67c579ad5ceca0ec4f8fe6a86f203cf" category="paragraph">多租戶功能可讓多個雲端和企業非結構化資料應用程式在同一個網格內安全地進行服務、進而提高ROI和StorageGRID 使用案例以供參考。您可以使用中繼資料導向的物件生命週期原則來建立多種服務層級、以最佳化跨多個地理區的耐用度、保護、效能和位置。使用者可以在不中斷營運的情況下、隨著需求改變、調整原則並重新調整資料架構。</block>
  <block id="0d2b0fb2b312d872db772396e149b541" category="paragraph">SmartStore採用StorageGRID 以物件命名空間形式呈現的功能、可將物件作為遠端儲存層、並讓客戶部署多個分散各地的站台、以提供強大的可用度與持久性。這可讓Splunk SmartStore充分發揮StorageGRID 效能、密集容量、並透過單一URL與物件互動、在多個實體站台上擴充至數百個節點。此單一URL也可讓儲存設備擴充、升級及修復作業不中斷營運、即使只在單一站台上也不例外。獨一無二的資料管理原則引擎、提供最佳化的效能與持久性、並符合資料位置需求。StorageGRID</block>
  <block id="f9ed96cf2d028d3cfa9c658c6ec5ae72" category="paragraph">Splunk是收集與分析機器產生資料的領導廠商、透過其作業分析功能、協助IT簡化並現代化。此外、它也延伸至商業分析、安全性和IoT使用案例。儲存設備是成功部署Splunk軟體的關鍵要素。</block>
  <block id="1812fb837f2c63812e909b4457b0fa17" category="paragraph">機器產生的資料是成長速度最快的大型資料類型。格式無法預測、而且來自許多不同的來源、通常是高速且大量的。這些工作負載特性通常稱為數位排氣。Splunk SmartStore有助於充分運用這些資料、並提供智慧型資料分層功能、將熱和暖資料最佳化放置在最具成本效益的儲存層。</block>
  <block id="bd069a1be23f237559be08ae79727806" category="paragraph">Splunk SmartStore是一種索引器功能、使用物件儲存（也稱為遠端儲存或遠端儲存層）、例如StorageGRID 使用S3傳輸協定儲存暖資料。</block>
  <block id="9e5e9e455aa469c6579c4cde82cf69fc" category="paragraph">隨著部署的資料量增加、對儲存設備的需求通常會超過對電腦資源的需求。SmartStore可讓您以具成本效益的方式管理索引器儲存設備和運算資源、方法是分別擴充運算和儲存設備。</block>
  <block id="1ab3873a2fa155a27933ac3e2b4ae709" category="paragraph">SmartStore採用S3傳輸協定和快取管理程式、引進遠端儲存層。這些功能可讓資料駐留在本地索引器或遠端儲存設備上。駐留在索引器上的快取管理程式可管理索引器與遠端儲存層之間的資料移動。資料會儲存在儲存區（熱區和溫區）、以及儲存區中繼資料。</block>
  <block id="85a6e51e1b2fd3e4be531f269e108f39" category="paragraph">有了SmartStore、您可以將索引器的儲存設備佔用空間降至最低、並選擇I/O最佳化的運算資源、因為大部分資料都位於遠端儲存層。索引器會維護本機快取、代表傳回要求和預測結果所需的最小資料量。本機快取包含熱儲存區、參與作用中或最近搜尋的暖儲存區複本、以及儲存區中繼資料。</block>
  <block id="8cc78103debf2dcfe53620b96565dad4" category="paragraph">Splunk SmartStore with StorageGRID VMware可讓客戶以高效能且具成本效益的遠端儲存設備、逐步擴充環境、同時為整體解決方案提供高度的彈性。這可讓客戶在任何指定時間、以任何特定數量新增任何元件（熱儲存和/或暖S3儲存設備）、無論他們需要更多索引器、變更資料保留、或是在不中斷營運的情況下增加擷取速度。</block>
  <block id="5cb48860c8dadcd442724a4122e031bd" category="inline-link-macro">下一步：StorageGRID Splunk SmartStore的靈活功能。</block>
  <block id="9a206b91ebbd6c75f73fba261d1eed1c" category="paragraph"><block ref="9a206b91ebbd6c75f73fba261d1eed1c" category="inline-link-macro-rx"></block></block>
  <block id="5273463fa2459ed38da1af200de6f150" category="summary">本頁說明Splunk SmartStore在NetApp StorageGRID 支援控制器上的效能表現。Splunk SmartStore將暖資料移至遠端儲存設備、StorageGRID 這是效能驗證中的物件儲存設備。</block>
  <block id="b646ed758d0eaa12ba9fab12788f9ad4" category="doc">單一站台SmartStore效能</block>
  <block id="47251bcda6f5d3ff81fc5968fa702aad" category="inline-link-macro">先前版本：Splunk架構。</block>
  <block id="10da3263ceac590ab423073945a99eac" category="paragraph"><block ref="10da3263ceac590ab423073945a99eac" category="inline-link-macro-rx"></block></block>
  <block id="b72db8dc34d5e01f398d66c9de42c11f" category="paragraph">本節說明Splunk SmartStore在NetApp StorageGRID 支援控制器上的效能。Splunk SmartStore可將暖資料移至遠端儲存設備、在此案例中、StorageGRID 是效能驗證中的物件儲存設備。</block>
  <block id="1d01dcffdd1257afb01e4194d766d2f9" category="paragraph"><block ref="1d01dcffdd1257afb01e4194d766d2f9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="32b74ac1eb4eb0530a3f976e96e3120d" category="paragraph">我們使用EF600進行熱/快取儲存、StorageGRID 並使用E56060進行遠端儲存。我們使用下列架構來驗證效能。我們使用兩個搜尋頭、四個大型轉發器將資料轉送給索引器、七個Splunk事件產生器（事件生成器）來產生即時資料、以及18個索引器來儲存資料。</block>
  <block id="a2fd19ff7e04cf04d5d99320b979cd00" category="paragraph"><block ref="a2fd19ff7e04cf04d5d99320b979cd00" category="inline-image-macro-rx" type="image"></block></block>
  <block id="45940e86de61b51821b0ec7959b3d551" category="paragraph">下表列出SmartStorage效能驗證所使用的硬體。</block>
  <block id="2fda610cb12c654fe037d4130498d5ae" category="cell">沉重的轉運商</block>
  <block id="6d53d218eec402993fef5394aef9acdf" category="cell">16個核心</block>
  <block id="d3dd61dd737f0e824caf9d717bc1a59d" category="cell">SLED 15 SP2</block>
  <block id="6f4922f45568161a8cdf4ad2299f6d23" category="cell">18</block>
  <block id="21dd53b3176e5a03137d603514a60ece" category="cell">使用者前端會在索引器中搜尋資料</block>
  <block id="c247e74124395bc7279d790ac384786e" category="section-title">SmartStore遠端儲存區效能驗證</block>
  <block id="30cf0ca744869370aafb6cfecdd7b4c6" category="paragraph">在這項效能驗證中、我們在所有索引器的本機儲存設備上設定SmartStore快取、以提供10天的資料。我們在Splunk叢集管理程式中啟用了「maxDataSize=auto'（750MB儲存區大小）」、並將變更推送到所有索引器。為了測量上傳效能、我們每天擷取10TB的時間達10天、並將所有熱儲存區同時移轉至溫熱區、並從SmartStore監控主控台儀表板擷取每個執行個體和整個部署的尖峰和平均處理量。</block>
  <block id="4fc95542b54fee8da424a2e0ab281aeb" category="paragraph">此影像顯示一天內擷取的資料。</block>
  <block id="c1b0c9568cd6b9bf236fb9566021d8a4" category="paragraph"><block ref="c1b0c9568cd6b9bf236fb9566021d8a4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b72140907b2e824ba4a35a2f01bac4e6" category="paragraph">我們從叢集主機執行下列命令（索引名稱為「eventgen-test」）。然後、我們透過SmartStore監控主控台儀表板、擷取每個執行個體和整個部署的尖峰和平均上傳處理量。</block>
  <block id="94a0389fcc3ce42eea7a3f351f5d39b5" category="admonition">叢集主機對所有索引器進行無密碼驗證（RTP-idx0001…RTP-idx0018）。</block>
  <block id="d27688c7ebc58e3f620120997e317180" category="paragraph">為了測量下載效能、我們使用下列命令執行兩次強制移除的CLI、將所有資料從快取中移除。</block>
  <block id="4faf8abcf7e17175784cdc9d58df1608" category="admonition">我們從叢集主機執行下列命令、並在10天前從StorageGRID 遠端商店從異地儲存區執行搜尋。接著我們會透過SmartStore監控主控台儀表板、擷取每個執行個體和整個部署範圍的尖峰和平均上傳處理量。</block>
  <block id="995931f06acb79ea5ac83df17d692a1d" category="paragraph">索引器組態是從SmartStore叢集主機推送而來。叢集主機具有下列索引器組態。</block>
  <block id="514109dd07ed0bb93081e9e36291b879" category="paragraph">我們在搜尋標頭上執行下列搜尋查詢、以收集效能對照表。</block>
  <block id="39b8fe84a2982bcbeb6d733343e0678d" category="paragraph"><block ref="39b8fe84a2982bcbeb6d733343e0678d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="67e03c2395d7a876b5160fefc76f9bb9" category="paragraph">我們從叢集主機收集效能資訊。尖峰效能為61.34GBps。</block>
  <block id="0feb590fe449a8a847517a38f1e0415f" category="paragraph"><block ref="0feb590fe449a8a847517a38f1e0415f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2850e7edd48f5666ab4f82242ddb37d2" category="paragraph">平均效能約29 GBps。</block>
  <block id="2a1437158884c9696a6d4cac546972b1" category="paragraph"><block ref="2a1437158884c9696a6d4cac546972b1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="283456e93c96a11ef44a18693dd6c886" category="section-title">效能StorageGRID</block>
  <block id="f5451e9a153b2f625ec0bc944af01be5" category="inline-link">事件世代</block>
  <block id="764a1901ab00adf1e8e26712bf39c23a" category="paragraph">SmartStore的效能取決於從大量資料中搜尋特定的模式和字串。在此驗證中、會使用產生事件<block ref="6cec2d19baf7e588a52847e567dab457" category="inline-link-rx"></block> 在特定的Splunk索引（eventgen-test）上、透過搜尋標頭進行搜尋、並要求StorageGRID 針對大部分的查詢進行到支援。下圖顯示查詢資料的點擊次數和遺漏次數。命中資料來自本機磁碟、而未命中資料來自StorageGRID 於功能性控制器。</block>
  <block id="3b8a6855a0eb4beaf2c787f34a2428d7" category="admonition">綠色顯示命中率資料、橘色顯示遺漏資料。</block>
  <block id="0bf13ffd9c4e3655384eea9760fdd547" category="paragraph"><block ref="0bf13ffd9c4e3655384eea9760fdd547" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e6fa8244cc2900d6f36b3144c7e748ac" category="paragraph">當查詢執行StorageGRID 以供搜尋時、S3擷取速度的時間會StorageGRID 顯示在下列影像中。</block>
  <block id="5e789be14498e5bac09395d944ced093" category="paragraph"><block ref="5e789be14498e5bac09395d944ced093" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5e3fd399eb98a5a8fae1dc144ff614f3" category="section-title">使用硬體StorageGRID</block>
  <block id="8e8a6c088425467c00be94a9d15d015b" category="paragraph">這個執行個體有一個負載平衡器和三個功能不均的控制器。StorageGRID StorageGRID所有三個控制器的CPU使用率從75%到100%。</block>
  <block id="5c78f5ad926b76e88a749362fb6e3412" category="paragraph"><block ref="5c78f5ad926b76e88a749362fb6e3412" category="inline-image-macro-rx" type="image"></block></block>
  <block id="140097f96ea2b213b6f37f9d71009a5e" category="section-title">採用NetApp儲存控制器的SmartStore -對客戶的好處</block>
  <block id="7f18772207b4ab40d0e7574fc68b95b6" category="list-text">*將運算與儲存設備分離。* Splunk SmartStore可分離運算與儲存設備、協助您獨立擴充。</block>
  <block id="4e1a3208fe0742415bc087d082943293" category="list-text">*隨需資料。* SmartStore可將資料帶離隨需運算環境、並提供運算與儲存彈性及成本效益、以達到更長的資料保留時間。</block>
  <block id="f3295a31a8b7a9b5d76cb1a1e7f67f28" category="list-text">*符合AWS S3 API標準。* SmartStore使用AWS S3 API與還原儲存設備通訊、這是AWS S3和S3 API相容的物件存放區、例如StorageGRID ：</block>
  <block id="4fda7aba03882818928ff7bc3a03f0e5" category="list-text">*降低儲存需求與成本。* SmartStore可降低老舊資料的儲存需求（溫/冷）。由於NetApp儲存設備可提供資料保護、並可處理故障和高可用度、因此只需要一份資料複本。</block>
  <block id="c27703d92f7f2316dfa63670f02dd6b6" category="list-text">*硬體故障。* SmartStore部署中的節點故障不會使資料無法存取、也會使索引程式從硬體故障或資料失衡中恢復的速度更快。</block>
  <block id="ed20f2e9df3c744293f044d87722ce0f" category="list-text">應用程式與資料感知快取。</block>
  <block id="f57d44dedead861d1eef7e912b9cbd86" category="list-text">隨需新增移除索引器和設定刪除叢集。</block>
  <block id="98613866f09e0e2416018bef4be916d3" category="list-text">儲存層不再與硬體綁定。</block>
  <block id="a2a5916477583887c69c752ae6366750" category="paragraph"><block ref="a2a5916477583887c69c752ae6366750" category="inline-link-macro-rx"></block></block>
  <block id="f377bdd54f0f567b139a5913567466f1" category="paragraph">* VMware Tanzu Kubernetes Grid（TKG）*</block>
  <block id="7a3368d887604b1812f8f796b668f0e7" category="paragraph">* VMware Tanzu Kubernetes Grid Service（TKGS）*</block>
  <block id="8da30835717bc9e00a9ea2b89d75d943" category="paragraph">* VMware Tanzu Kubernetes Grid整合（TKGI*）</block>
  <block id="22bd1c4adfe1c3f7d3dc00763a7a8d40" category="paragraph">* vSphere with Tanzu（vSphere Pod）*</block>
  <block id="4f50bac068dbe84c04d257f75bb42142" category="list-text">vSphere原生Pod可在採用指定虛擬硬體的薄型、以光子為基礎的層面上執行、以實現完整的隔離。</block>
  <block id="c8cefb07aba3cc260670993281c9bef5" category="list-text">需要NSxT-T、但這可提供額外的功能支援、例如港映像登錄。</block>
  <block id="b603aa094817eb0510887a841cc71df8" category="list-text">在vSphere 7.0U1中部署及管理、然後使用虛擬的監控叢集（例如TKGS）。直接在ESXi節點上執行Pod。</block>
  <block id="cf3b96589f75768a855cebe2679e5b8b" category="list-text">vSphere管理功能可完全整合vSphere、提供最高可見度與控制能力。</block>
  <block id="3b050b735b1eb713cc1b3816851e3060" category="list-text">隔離式CRX型Pod、提供最高層級的安全性。</block>
  <block id="e7004adb0d2f74954305a1023249e642" category="list-text">僅支援vSphere SCSI作為持續儲存設備。不支援任何協力廠商儲存協調程式。</block>
  <block id="90534ff553f8895d609b7e0cec5e7977" category="paragraph">Astra Trident是一款開放原始碼、完全支援的儲存協調工具、適用於容器和Kubernetes配送、包括VMware Tanzu。</block>
  <block id="25e19f6e213533d24e711ce5e6738fa9" category="paragraph">搭配Tanzu的VMware vSphere（也稱為vSphere Pod）可讓您在VMware vSphere環境中使用ESXi Hypervisor節點作為裸機Kubernetes環境中的工作節點。</block>
  <block id="c2556907e1f90b93c9c43e198113de8b" category="paragraph">建立虛擬化的監控叢集、為Kubernetes提供高可用度的控制面板、並為每個應用程式建立個人命名空間、以確保使用者的資源隔離。</block>
  <block id="9e2885b693a2045e931fda4aeb8bf28f" category="paragraph">啟用含有Tanzu的VMware vSphere時、每個ESXi主機都會安裝並設定Spherelet應用程式。如此一來、每個節點都能在Kubernetes部署中擔任工作人員、並管理部署在每個節點上的Pod。</block>
  <block id="c44d7c5351501c027261c0480a658d6d" category="paragraph">目前、搭配Tanzu和vSphere Pod的VMware vSphere僅支援本機vSphere SCSI驅動程式。這可讓系統管理員在vSphere用戶端中建立儲存原則、從目前可用做vSphere資料存放區的儲存目標中選取儲存原則。這些原則可用來建立容器化應用程式的持續磁碟區。</block>
  <block id="fe41e8fdcbc9d8447c9077fbd167fe8d" category="admonition">雖然目前不支援NetApp Astra Trident SCSI驅動程式、因此無法直接連線至外部ONTAP 的VMware及Element儲存陣列、但這些NetApp儲存系統通常是用來支援vSphere環境的主要儲存設備、 此外、NetApp進階資料管理與儲存效率工具也能以這種方式使用。</block>
  <block id="70aaffec040bcf9e5cf77c0ccabb8f11" category="paragraph">如果您想深入瞭解含有Tanzu的VMware vSphere、請參閱文件 <block ref="0cdaad1423fdb034ad0ee788d57a7a82" category="inline-link-macro-rx"></block>。</block>
  <block id="f0fa38f675f888f14af946299f91a36a" category="summary">VMware vSphere可在資料中心和所有主要雲端供應商之間提供虛擬化的基礎架構。此生態系統非常適合虛擬化運算無論位於何處、都能保持一致的災難恢復情境。此解決方案使用VMware虛擬化運算資源、無論是在資料中心位置、還是在AWS上的VMware Cloud中。</block>
  <block id="c0b7ac0f313be4f2bef55fc6cf3a1947" category="paragraph">此解決方案使用執行VMware vSphere V7.0U3的HPE ProLiant 360 Gen 10伺服器。我們部署了六個運算執行個體、為SQL伺服器和Oracle伺服器提供足夠的資源。</block>
  <block id="ff1600196b624f9503bddaca0ce10f5d" category="paragraph">我們部署了10部執行SQL Server 2019的Windows Server 2019 VM、其資料庫大小各異、另外還有10部執行Oracle 19c的Oracle Linux 8.5 VM、而且資料庫大小各異。</block>
  <block id="20f748e1f003c63ad3c63122e1629424" category="paragraph">我們在AWS上部署了SDDC、其中有兩台主機、提供足夠的資源來執行從主要站台還原的虛擬機器。</block>
  <block id="a84e981cfea0f9fca307649d4e7bd364" category="paragraph"><block ref="a84e981cfea0f9fca307649d4e7bd364" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6f10db05e58b527be630ad143ec566a5" category="summary">本文件所述的使用案例著重於已獲證實的災難恢復技術、強調NetApp與VMware之間的整合。NetApp ONTAP 支援的資料鏡射技術已獲證實、可讓組織設計跨越內部部署和ONTAP 與頂尖雲端供應商共同使用的不實技術的災難恢復解決方案。</block>
  <block id="86082b0bfc7279f0a1feebe1de23f618" category="paragraph">FSX for ONTAP Sfor AWS是這樣的解決方案之一、可與SnapCenter 支援將SyncMirror 應用程式資料複製到雲端的功能不間斷地整合到功能上。Veeam備份與複寫是另一項廣為人知的技術、可與NetApp ONTAP 的VMware還原儲存系統完美整合、並提供容錯移轉至vSphere原生儲存設備的功能。</block>
  <block id="81127e42ddbedbb1cad03bf70d694aa9" category="paragraph">本解決方案提供使用來自ONTAP 代管SQL Server和Oracle應用程式資料之VMware系統的來賓連線儲存設備的災難恢復解決方案。利用SnapMirror提供易於管理的解決方案、可在支援應用程式的各個系統上保護應用程式磁碟區、並將其複製到位於雲端的FSX或CVO。SnapCenter ONTAP支援DR的解決方案可將所有應用程式資料容錯移轉至AWS上的VMware Cloud。SnapCenter</block>
  <block id="66e5d5ad5173b295e6b59ee5152216d0" category="list-text">解決方案文件連結</block>
  <block id="4f6300de9742001d9f7a797da5d53a27" category="paragraph"><block ref="4f6300de9742001d9f7a797da5d53a27" category="inline-link-rx"></block></block>
  <block id="6590e8ec3c5ce0748f55250c70ec048c" category="paragraph"><block ref="6590e8ec3c5ce0748f55250c70ec048c" category="inline-link-rx"></block></block>
  <block id="314695da56c7e601cdf6cfc3227858d9" category="paragraph">成功完成本解決方案所述的容錯移轉程序後、SnapCenter 即可恢復在AWS中執行的備份功能、而FSXfor ONTAP 效益現已被指定為主要儲存設備、且不存在與原始內部部署資料中心的SnapMirror關係。在內部部署恢復正常功能之後、您可以使用與本文件所述相同的程序、將資料鏡射回內部部署ONTAP 的更新儲存系統。</block>
  <block id="44ee07074aaf6f8c932889c7158c9906" category="paragraph">如本文件所述、您可以設定SnapCenter 將應用程式資料Volume從FSXfor ONTAP the Sfor the Sf8鏡射至ONTAP 內部部署的靜態儲存系統。同樣地、您也可以設定Veeam使用橫向擴充備份儲存庫、將備份複本複製到Amazon S3、以便駐留在內部部署資料中心的Veeam備份伺服器能夠存取這些備份。</block>
  <block id="fd41e9ec1db4527e12ae403974c6c63c" category="paragraph">容錯回復不在本文件的範圍之內、但容錯回復與此處概述的詳細程序幾乎沒有什麼不同。</block>
  <block id="cd39f47230bb959e72acb3eb9e5be469" category="paragraph">此解決方案包含NetApp、VMware、Amazon Web Services（AWS）和Veeam的創新技術。</block>
  <block id="ded9cd19cde727f824d72e3ad8ef7662" category="section-title">VMware Cloud Foundation</block>
  <block id="66c9de10f8f96cbfebae805c8a5d0c23" category="paragraph">VMware Cloud Foundation平台整合了多種產品、可讓系統管理員在異質環境中配置邏輯基礎架構。這些基礎架構（稱為網域）可在私有和公有雲之間提供一致的作業。隨附Cloud Foundation軟體的材料清單、可識別預先驗證且符合資格的元件、以降低客戶的風險並簡化部署。</block>
  <block id="6fa493c0540d656a06e5bc7de182aa5d" category="paragraph">Cloud Foundation BOM的元件包括：</block>
  <block id="ea712de8051099e742f7b2832804bbe4" category="list-text">Cloud Builder</block>
  <block id="719175eb8771501a012c6d964c29be69" category="list-text">SDDC管理程式</block>
  <block id="beb9456af324db48fa76084e755d8d0b" category="list-text">VMware vCenter Server設備</block>
  <block id="f7eea647714641318ee86fedbbed4691" category="list-text">VMware ESXi</block>
  <block id="4ef3d5ade4e00a1767e0cb9da8f6a895" category="list-text">VMware NSX</block>
  <block id="8b1198108d735d15d15ede582012a434" category="list-text">VRealize Automation</block>
  <block id="ea7e7011cc6c20fceefe3f63a6f66b73" category="list-text">VRealize Suite生命週期管理程式</block>
  <block id="7b0dffec85c977f50577ae9e44323ccc" category="list-text">vRealize記錄洞見</block>
  <block id="9170490ac213e0fff83de34c7e91bcae" category="inline-link">VMware Cloud Foundation文件</block>
  <block id="d48b3b75cdd9d69e243c551b712f75e8" category="paragraph">如需VMware Cloud Foundation的詳細資訊、請參閱<block ref="c470e518572535c6a48639b6f7d6e5a7" category="inline-link-rx"></block>。</block>
  <block id="776e392281968fc227c904b7efb2c82d" category="paragraph">VMware vSphere是一種虛擬化平台、可將實體資源轉換成運算、網路和儲存資源集區、以滿足客戶的工作負載和應用程式需求。VMware vSphere的主要元件包括：</block>
  <block id="ef424b79c70de97da1b97dc4f12fadee" category="list-text">* ESXi。*此VMware Hypervisor可抽象化運算處理器、記憶體、網路及其他資源、並可用於虛擬機器和容器工作負載。</block>
  <block id="b061e8a5ed8a3a3c319736ff70d51a55" category="list-text">* vCent.* VMware vCenter提供集中管理體驗、可與虛擬基礎架構中的運算資源、網路和儲存設備互動。</block>
  <block id="d42d5a3f8818d925febb1ccce5b5ea10" category="paragraph">客戶運用NetApp ONTAP 解決方案與深度產品整合、強大支援、強大功能和儲存效率、打造強大的混合式多雲端、充分發揮vSphere環境的完整潛能。</block>
  <block id="841d75538dc45858ed53ac16358cc7ad" category="paragraph">如需VMware vSphere的詳細資訊、請參閱<block ref="e516b39e5a9a3597e0dc419e086e5395" category="inline-link-rx"></block>。</block>
  <block id="95d57daea7acbc2a7bbae6ded68ee952" category="paragraph">如需NetApp解決方案搭配VMware的詳細資訊、請參閱<block ref="3137e9e57f0cd434b880b626db7b2f62" category="inline-link-rx"></block>。</block>
  <block id="3c7164d9420b263a215271d6db617f2b" category="paragraph">VMware NSX通常稱為網路Hypervisor、採用軟體定義模式來連接虛擬化工作負載。VMware NSX在內部部署和AWS上的VMware Cloud中隨處可見、可為客戶應用程式和工作負載提供網路虛擬化和安全性。</block>
  <block id="0b044c7db1e40b4d475fb5b8e225f65e" category="paragraph">如需VMware NSX的詳細資訊、請參閱<block ref="24474a71eda89537e8233714a7d94cc5" category="inline-link-rx"></block>。</block>
  <block id="1299e00bdf464c0bee14fc2f6aab0f37" category="paragraph">NetApp ONTAP 解決方案是VMware vSphere環境的領導級儲存解決方案、已有將近二十年的歷史、持續增加創新功能來簡化管理、同時降低成本。搭配vSphere使用VMware是一項絕佳組合、可降低主機硬體與VMware軟體的費用。ONTAP您也可以利用一致的高效能、以較低的成本保護資料、同時充分發揮原生儲存效率。</block>
  <block id="00f8f930135e2662dd01e1e4fc65ec48" category="paragraph">如需NetApp ONTAP 產品的詳細資訊、請參閱<block ref="2fb3b932a008429024fefba27ce7f6c0" category="inline-link-rx"></block>。</block>
  <block id="cc1cc96c6bd7a597d867c658bca3b7d2" category="section-title">適用於ONTAP VMware的NetApp產品</block>
  <block id="f19b4defe5bd521861bd47f062cab40e" category="paragraph">VMware的支援VMware的VMware工具將多個外掛程式整合到單一虛擬應用裝置中、為使用NetApp儲存系統的VMware環境中的虛擬機器提供端點對端點生命週期管理。ONTAPVMware的VMware工具包括：ONTAP</block>
  <block id="dd167aeb5a59f14930ce90d7b32a1310" category="list-text">*虛擬儲存主控台（VSC）。*使用NetApp儲存設備、為VM和資料存放區執行全方位的管理工作。</block>
  <block id="caba40f1f4e68f7405c7405bbdf4067a" category="list-text">*適用於ONTAP VMware的VASA Provider for SONT.*可利用VMware虛擬磁碟區（vVols）和NetApp儲存設備、實現儲存原則型管理（SPBM）。</block>
  <block id="52d97a7fde4d2984a3335c87380d5ab4" category="list-text">*儲存複寫介面卡（SRA）*。在搭配VMware Site Recovery Manager（SRM）時、若發生故障、可恢復vCenter資料存放區和虛擬機器。</block>
  <block id="829e52698f21d046badfc12c5846a723" category="paragraph">VMware的支援VMware的VMware工具不僅能讓使用者管理外部儲存設備、也能與vVols和VMware Site Recovery Manager整合。ONTAP如此一來、您就能更輕鬆地從vCenter環境中部署及操作NetApp儲存設備。</block>
  <block id="88d6ca70545898ecc8709b701555225b" category="paragraph">如需更多ONTAP 有關適用於VMware的NetApp產品介紹工具的資訊、請參閱<block ref="c1c4ef8e79ad3b0cab24049eb01885be" category="inline-link-rx"></block>。</block>
  <block id="805c9517e95d3e9efc4b46738ab825fc" category="section-title">NetApp SnapCenter</block>
  <block id="de29da4940709c9f9b03e3d597dcb7cd" category="paragraph">NetApp SnapCenter 流通軟體是易於使用的企業平台、可安全地協調及管理應用程式、資料庫及檔案系統之間的資料保護。透過將這些工作卸載給應用程式擁有者、而不犧牲監控和管理儲存系統活動的能力、從而簡化備份、還原和複製生命週期管理。SnapCenter藉由運用儲存型資料管理功能、SnapCenter 使得效能與可用度提升、同時縮短測試與開發時間。</block>
  <block id="a1f54fde77874bbd5be133ca3970d7e8" category="paragraph">VMware vSphere的VMware vSphere支援當機一致且VM一致的備份與還原作業、適用於虛擬機器（VM）、資料存放區和虛擬機器磁碟（VMDK）SnapCenter 。它也支援SnapCenter 特定於應用程式的支援功能外掛程式、以保護虛擬化資料庫和檔案系統的應用程式一致備份與還原作業。</block>
  <block id="f655858b5e82a216de5b6aea071de457" category="paragraph">如需NetApp SnapCenter 產品的詳細資訊、請參閱<block ref="aa600981aea381f09908ce10e8269417" category="inline-link-rx"></block>。</block>
  <block id="98c2040e71eaa6795dfe7287a8c6ad93" category="section-title">第三方資料保護</block>
  <block id="a03670ab805efda6af1029d0cc6ed56e" category="paragraph">Veeam備份與複寫是適用於雲端、虛擬及實體工作負載的備份、還原及資料管理解決方案。Veeam備份與複寫與NetApp Snapshot技術的專業整合、可進一步保護vSphere環境。</block>
  <block id="a174e33a347bdf86d254ef6b64ebb844" category="paragraph">如需Veeam備份與複寫的詳細資訊、請參閱<block ref="ff5498b1e93a9fbc10c4f9b6c05db801" category="inline-link-rx"></block>。</block>
  <block id="e1d618f208de1e0652f995ea9ef70c8a" category="section-title">AWS身分識別與存取管理</block>
  <block id="72e3b385ab9dce0490acd4320d69b190" category="paragraph">AWS環境包含各式各樣的產品、包括運算、儲存、資料庫、網路、分析、 以及更多協助解決業務挑戰的功能。企業必須能夠定義哪些人有權存取這些產品、服務和資源。同樣重要的是、您也必須決定允許使用者在哪些情況下操作、變更或新增組態。</block>
  <block id="e0371101cd60437f116ae662823d656b" category="paragraph">AWS身分識別與存取管理（AIAP）提供安全的控制面板、可管理AWS服務與產品的存取。適當設定的使用者、存取金鑰和權限、可在AWS和Amazon FSX上部署VMware Cloud。</block>
  <block id="f97bd254f4560b300dffc1c8320c079a" category="paragraph">如需有關Aim的詳細資訊、請參閱<block ref="51dd129a9a709f0af102f91347214719" category="inline-link-rx"></block>。</block>
  <block id="f93a7ad035f2ab23b92d7f904c204a67" category="paragraph">AWS上的VMware Cloud可將VMware企業級SDDC軟體導入AWS Cloud、並針對原生AWS服務進行最佳化存取。以VMware Cloud Foundation為後盾、AWS上的VMware Cloud整合了VMware的運算、儲存設備和網路虛擬化產品（VMware vSphere、VMware vSAN和VMware NSX）、以及經過最佳化的VMware vCenter Server管理功能、可在專屬、靈活、裸機的AWS基礎架構上執行。</block>
  <block id="21b9508ecf23f768b8172f58ec935a32" category="paragraph">如需AWS上VMware Cloud的詳細資訊、請參閱<block ref="2fb3b932a008429024fefba27ce7f6c0" category="inline-link-rx"></block>。</block>
  <block id="4d82a1ec1af02725042c8c785564ee7a" category="section-title">Amazon FSX for NetApp ONTAP 產品</block>
  <block id="5588d719a2e52cc2437eac404a5afac6" category="paragraph">Amazon FSX for NetApp ONTAP 的功能完整且完全受管理ONTAP 的功能完善的支援系統、可作為原生AWS服務。以NetApp ONTAP 支援為基礎、提供熟悉的功能、同時提供完整託管雲端服務的簡易性。</block>
  <block id="4f706209d760c6b9c796b171e747ba84" category="paragraph">Amazon FSX ONTAP for VMware可為各種運算類型提供多重傳輸協定支援、包括公有雲或內部部署的VMware。Amazon FSX for ONTAP the支援目前與訪客連線的使用案例、以及技術預覽中的NFS資料存放區、讓企業能夠從內部部署環境和雲端中、充分利用熟悉的功能。</block>
  <block id="97461b19a572ee6589bfdc8bb87cf344" category="paragraph">如需Amazon FSX for NetApp ONTAP 功能的詳細資訊、請參閱<block ref="8010f27a5d53263c1742228bc262a2e3" category="inline-link-rx"></block>。</block>
  <block id="b7dd764025f54c4b3bccf4f05424bf77" category="doc">還原SQL Server應用程式資料</block>
  <block id="95f316bb0a092035f960a46cc12705d3" category="paragraph">下列程序提供如何在發生導致內部部署站台無法運作的災難時、在AWS的VMware Cloud Services中還原SQL Server的指示。</block>
  <block id="eb7b93b4aadbfaf4b78c0c4bfe125171" category="paragraph">為了繼續執行恢復步驟、假設您已完成下列先決條件：</block>
  <block id="aca50891060f7ebe7be1192b4a8b78ad" category="list-text">Windows Server VM已使用Veeam完整還原還原至VMware Cloud SDDC。</block>
  <block id="9731e8839876f65368eab4ef1eecdc20" category="inline-link-macro">支援備份與還原程序摘要。SnapCenter</block>
  <block id="fe51b70218e2191f0338d4bcb01eb4a7" category="list-text">我們SnapCenter 已建立次要的伺服器、SnapCenter 並已使用一節中所述的步驟完成還原資料庫和組態設定 <block ref="f1b6dca3014749c436758b70cc0d8f7f" category="inline-link-macro-rx"></block></block>
  <block id="565a76f57020cb4db728d0a24384a0d9" category="section-title">VM：SQL Server VM的還原後組態</block>
  <block id="eface2367b3de31eee3102f62de9295d" category="paragraph">在VM還原完成後、您必須設定網路和其他項目、以便重新探索SnapCenter 位於支援中心內的主機VM。</block>
  <block id="0a64ec0b8b14816ed47650a0096fd3b3" category="list-text">指派新的IP位址給管理、iSCSI或NFS。</block>
  <block id="8ceacb8e6c12d270f190550e317ed5be" category="list-text">將主機加入Windows網域。</block>
  <block id="612dbb7fb61a87afcf471d797448e487" category="list-text">將主機名稱新增至DNS或SnapCenter 到伺服器上的主機檔案。</block>
  <block id="21b91bc158a5a6579966133ece84f927" category="admonition">如果SnapCenter 使用與目前網域不同的網域認證來部署這個程式、您就必須變更SQL Server VM上適用於Windows Service外掛程式的登入帳戶。變更登入帳戶後、請重新啟動SnapCenter 適用於Windows的WESTSMCore、外掛程式和適用於SQL Server服務的外掛程式。</block>
  <block id="0634c3a099feec2a74ff9c0751719ed6" category="admonition">若要自動重新探索SnapCenter 還原的虛擬機器、FQDN必須與原先新增至SnapCenter 內部部署的虛擬機器相同。</block>
  <block id="0d4bede73841f93a92c80d25b0194d1e" category="section-title">設定FSX儲存設備以進行SQL Server還原</block>
  <block id="1a87030fb5d5a31f7bcfdfa68ade9691" category="paragraph">若要完成SQL Server VM的災難恢復還原程序、您必須中斷現有的SnapMirror與FSX叢集之間的關係、並授予對該磁碟區的存取權。若要這麼做、請完成下列步驟。</block>
  <block id="4c9e09e4807ffb0a4456b29e6f9a4281" category="list-text">若要中斷SQL Server資料庫和記錄磁碟區的現有SnapMirror關係、請從FSXCLI執行下列命令：</block>
  <block id="3d20282913974593577c784c3192e510" category="list-text">建立包含SQL Server Windows VM iSCSI IQN的啟動器群組、以授予LUN存取權：</block>
  <block id="d287a88d877191e5695e6e46cde801a3" category="list-text">最後、將LUN對應至您剛建立的啟動器群組：</block>
  <block id="e47557c42d0af2df20a15a19f84795ee" category="list-text">若要尋找路徑名稱、請執行「LUN show」命令。</block>
  <block id="c38f08ac05515c2b594fc836b22181e0" category="section-title">設定Windows VM以進行iSCSI存取、並探索檔案系統</block>
  <block id="39eb9c3b6c8eb2106dcb06edfdbb6f65" category="list-text">在SQL Server VM中、設定iSCSI網路介面卡、以便在已建立連線至FSX執行個體上iSCSI目標介面的VMware連接埠群組上進行通訊。</block>
  <block id="cf8c6b6b8c54ec784d05b5f092751a4d" category="list-text">開啟iSCSI啟動器內容公用程式、並清除「Discovery」（探索）、「Favorite Target」（最愛目標）和「Target」（目標）索引標籤上的舊連線設定。</block>
  <block id="1a2e1a79fa495e5f511838af9609be4f" category="list-text">找到用於存取FSX執行個體/叢集上iSCSI邏輯介面的IP位址。這可在AWS主控台的Amazon FSX &gt; ONTAP VMware Storage Virtual Machines下找到。</block>
  <block id="d9401c99c6ddc6dbcd6070c357088cf5" category="paragraph"><block ref="d9401c99c6ddc6dbcd6070c357088cf5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ba5037ceee608981a7684c3277ceca73" category="list-text">在「Discovery（探索）」索引標籤中、按一下「Discover Portal（探索入口網站）」、然後輸入FSX iSCSI目標的IP位址。</block>
  <block id="49ba75dd04ab3da15488d6e271466575" category="paragraph"><block ref="49ba75dd04ab3da15488d6e271466575" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cd6bd08689af39f12a04ce95acbaa7df" category="paragraph"><block ref="cd6bd08689af39f12a04ce95acbaa7df" category="inline-image-macro-rx" type="image"></block></block>
  <block id="193f314b02dfe15e71a9ec5d16f5ce73" category="list-text">在「Target」（目標）索引標籤上、按一下「Connect」（連線）、選取「Enable Multi-Path（啟用多重路徑）」（若適用於您的組態）、然後按一下「OK（確定）」連線至</block>
  <block id="8625607d58104640aa3cc3a687356560" category="paragraph"><block ref="8625607d58104640aa3cc3a687356560" category="inline-image-macro-rx" type="image"></block></block>
  <block id="907488914aeab882127886e6028b0ea0" category="list-text">開啟「電腦管理」公用程式、使磁碟上線。請確認它們保留的磁碟機代號與先前所保留的相同。</block>
  <block id="885afbf2d17d52ec64abfd147535488e" category="paragraph"><block ref="885afbf2d17d52ec64abfd147535488e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4bc8ec032118740c31355c3345d62bf4" category="section-title">附加SQL Server資料庫</block>
  <block id="7f423619ca14c77f6b9db6f7bda8de76" category="list-text">從SQL Server VM開啟Microsoft SQL Server Management Studio、然後選取附加以開始連線至資料庫的程序。</block>
  <block id="fd43b9851dc24c4889086cdc9afd2a3a" category="paragraph"><block ref="fd43b9851dc24c4889086cdc9afd2a3a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e8bff2998bccc1ca5a6d707233af02c9" category="list-text">按一下「Add（新增）」、然後瀏覽至包含SQL Server主要資料庫檔案的資料夾、選取該檔案、然後按一下「OK（確定）」。</block>
  <block id="f700bbcedcee0092e600d8527c84b19f" category="paragraph"><block ref="f700bbcedcee0092e600d8527c84b19f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a827dff2feb3c6226fcac7b4b80a3cc8" category="list-text">如果交易記錄位於不同的磁碟機上、請選擇包含交易記錄的資料夾。</block>
  <block id="f42947d249de7e97db085085f542e3c4" category="list-text">完成後、按一下「確定」以附加資料庫。</block>
  <block id="74242a349c592d71e13c317715f21c6f" category="paragraph"><block ref="74242a349c592d71e13c317715f21c6f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3f8fd7fd0d8b19f4ee350fa3bfaca1ca" category="section-title">確認SnapCenter 與SQL Server外掛程式的通訊</block>
  <block id="b6c6326ece2d2042cc822762ac90932a" category="paragraph">利用還原為先前狀態的功能、它會自動重新探索SQL Server主機。SnapCenter若要使其正常運作、請記住下列先決條件：</block>
  <block id="db44d05563a2083dddeaf5a8c08c36b8" category="list-text">必須將此項目置於災難恢復模式。SnapCenter這可透過Swagger API或災難恢復下的「全域設定」來完成。</block>
  <block id="f77564f6296c2b86366fa8c55cde3b3d" category="list-text">SQL Server的FQDN必須與內部部署資料中心執行的執行個體相同。</block>
  <block id="7effb9a6b0bfb89f35e1496a0b8ee21c" category="list-text">原始SnapMirror關係必須中斷。</block>
  <block id="25c898cf2666acc247fd6eda6262658f" category="list-text">包含資料庫的LUN必須掛載到SQL Server執行個體和附加的資料庫。</block>
  <block id="9c7568e40b946736fc8b8e0b79f35603" category="paragraph">若要確認SnapCenter 此功能為災難恢復模式、請從SnapCenter Websweb用戶端瀏覽至「設定」。前往「Global Settings（全域設定）」索引標籤、然後按一下「Disaster Recovery（災難恢復）請確定已啟用「啟用災難恢復」核取方塊。</block>
  <block id="fa26a16fa4868aed3c0c634a2d7a27a5" category="paragraph"><block ref="fa26a16fa4868aed3c0c634a2d7a27a5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9ba3ddc84b2f59fd2a102309365db81a" category="doc">使用Veeam完整還原還原應用程式VM</block>
  <block id="36dc3b29e336105b87846d5917f36466" category="section-title">建立備份儲存庫、並從S3匯入備份</block>
  <block id="bfa510d8cc1cb8902740f538c9871cd5" category="paragraph">從次要Veeam伺服器、從S3儲存設備匯入備份、並將SQL Server和Oracle VM還原至VMware Cloud叢集。</block>
  <block id="e2f3927605d5be5f9e2924c7578d06ab" category="paragraph">若要從內部部署橫向擴充備份儲存庫中的S3物件匯入備份、請完成下列步驟：</block>
  <block id="04e06ef7f33197a158ddc19d53c0d1a5" category="list-text">移至「備份儲存庫」、然後按一下上方功能表中的「新增儲存庫」、以啟動「新增備份儲存庫」精靈。在精靈的第一頁、選取「物件儲存」作為備份儲存庫類型。</block>
  <block id="6206d8a7c31f00a44ec41ebae87e8b6b" category="paragraph"><block ref="6206d8a7c31f00a44ec41ebae87e8b6b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d4fcfafe3d4baedadc9910b99baf527a" category="list-text">選取「Amazon S3」作為「物件儲存類型」。</block>
  <block id="293aed632d96ade5bfef832bcdc2cd1e" category="paragraph"><block ref="293aed632d96ade5bfef832bcdc2cd1e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="698ebee929c01fad4c318876313789ab" category="list-text">從Amazon Cloud Storage Services清單中、選取Amazon S3。</block>
  <block id="12cfad41ab613d7744d12d07d4a556d4" category="paragraph"><block ref="12cfad41ab613d7744d12d07d4a556d4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2639f2cf7409eb24ed59c46794f26c33" category="list-text">從下拉式清單中選取預先輸入的認證資料、或新增認證資料以存取雲端儲存資源。按一下「下一步」繼續。</block>
  <block id="ca271cf67d4c973e828e31689285727f" category="paragraph"><block ref="ca271cf67d4c973e828e31689285727f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0d158a2a4f2b2c9b52c009bfbd87668a" category="list-text">在「時段」頁面上、輸入資料中心、時段、資料夾及任何所需選項。按一下套用。</block>
  <block id="cf2158b0a3f58d891bcbc6031fde92d4" category="paragraph"><block ref="cf2158b0a3f58d891bcbc6031fde92d4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5adae514074dc7c746819968e035e2a0" category="list-text">最後、選取「完成」以完成程序並新增儲存庫。</block>
  <block id="076951b7756435f95654310ef960f866" category="section-title">從S3物件儲存設備匯入備份</block>
  <block id="397f99a04387aed7bca366a20084083f" category="paragraph">若要從上一節新增的S3儲存庫匯入備份、請完成下列步驟。</block>
  <block id="6add4097706ff1ee04793b80b99c3980" category="list-text">從S3備份儲存庫選取匯入備份、以啟動匯入備份精靈。</block>
  <block id="d2e0dedfd0a67b45116f5c02f41dfad6" category="paragraph"><block ref="d2e0dedfd0a67b45116f5c02f41dfad6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f08dd57757030d81cfcdd38f9c443e05" category="list-text">建立匯入的資料庫記錄之後、請在摘要畫面中選取「Next（下一步）」、然後選取「Finish（完成）」、開始匯入程序。</block>
  <block id="dee3665bb9cd000955be1a118818554f" category="paragraph"><block ref="dee3665bb9cd000955be1a118818554f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4afd5477c1ce1473a255dee8ce524184" category="list-text">匯入完成後、您可以將VM還原至VMware Cloud叢集。</block>
  <block id="8f2cd7b75623b2421c1eaadd379ca431" category="paragraph"><block ref="8f2cd7b75623b2421c1eaadd379ca431" category="inline-image-macro-rx" type="image"></block></block>
  <block id="73fee194f5e4e8ac33d750244fe7ebd5" category="section-title">使用Veeam完整還原將應用程式VM還原至VMware Cloud</block>
  <block id="ec223385ec31537dfd3adc4f3f97735d" category="paragraph">若要將SQL和Oracle虛擬機器還原至AWS工作負載網域/叢集上的VMware Cloud、請完成下列步驟。</block>
  <block id="9085bbecf522e8f0cf0f7d5480dd7cd9" category="list-text">在Veeam首頁中、選取包含匯入備份的物件儲存設備、選取要還原的VM、然後按一下滑鼠右鍵並選取「還原整個VM」。</block>
  <block id="5320e29249c22b00240fc3df301d60a6" category="paragraph"><block ref="5320e29249c22b00240fc3df301d60a6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8d53e507da99665f0cd76090f0c8b932" category="list-text">在完整VM還原精靈的第一頁、視需要修改要備份的VM、然後選取「Next（下一步）」。</block>
  <block id="118ea730c6c794b12c6da0062216053b" category="paragraph"><block ref="118ea730c6c794b12c6da0062216053b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="93e4b62efeb3d091b37047e066e45da4" category="list-text">在「還原模式」頁面上、選取「還原至新位置」或「使用不同的設定」。</block>
  <block id="53ddd9505ead460715da91ab5ae479ae" category="paragraph"><block ref="53ddd9505ead460715da91ab5ae479ae" category="inline-image-macro-rx" type="image"></block></block>
  <block id="faca70e3cfbddf72933acf5dcbedf4ff" category="list-text">在主機頁面上、選取要還原VM的目標ESXi主機或叢集。</block>
  <block id="5c468616bb48a8d3a72e2b3f20932126" category="paragraph"><block ref="5c468616bb48a8d3a72e2b3f20932126" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1ee5d8dddaf8720bc49f23dc8e19f11b" category="list-text">在「資料存放區」頁面上、選取組態檔和硬碟的目標資料存放區位置。</block>
  <block id="ae5ebb3a87f25b2bf09c963a4029e53a" category="paragraph"><block ref="ae5ebb3a87f25b2bf09c963a4029e53a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="48d9c25678124f335015d969c2c7645f" category="list-text">在「網路」頁面上、將VM上的原始網路對應到新目標位置的網路。</block>
  <block id="b33233fb74ffe76bde21729b21fde02d" category="paragraph"><block ref="b33233fb74ffe76bde21729b21fde02d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b3d7fc3c9f85e5663d3361a9e999487c" category="paragraph"><block ref="b3d7fc3c9f85e5663d3361a9e999487c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="511bf18240f9f57b5658a22974a640f0" category="list-text">選取是否掃描還原的VM以尋找惡意軟體、檢閱摘要頁面、然後按一下「Finish（完成）」以開始還原。</block>
  <block id="0e966aefc6e57da3e61d08eb83f8f9b7" category="summary">為了長期歸檔和保留、可在主要儲存系統（主儲存系統&gt;鏡射）和次要儲存系統（主儲存系統&gt;保存庫）內更新SnapMirror關係。SnapCenter若要這麼做、您必須使用SnapMirror建立並初始化目的地Volume與來源Volume之間的資料複寫關係。</block>
  <block id="860d1fc24372044f6c88f15cea6b9155" category="doc">設定SnapMirror關係和保留排程</block>
  <block id="1888797bfba812a31bad2548f183ffe6" category="paragraph">來源ONTAP 和目的地的不全系統必須位於使用Amazon VPC對等網路、傳輸閘道、AWS Direct Connect或AWS VPN進行對等處理的網路中。</block>
  <block id="aa318628cbf2869d724b704d547dc8f4" category="paragraph">在內部部署ONTAP 的SnapMirror系統與FSXSing之間建立SnapMirror關係時、必須執行下列步驟ONTAP ：</block>
  <block id="fbfcc1aa520560c558b69fb448e3e601" category="inline-link">FSX- ONTAP for Sfor Sfor Sfor - ONTAP 《用戶指南》</block>
  <block id="7ffc7a254a972aeb4df657be8d41c5a2" category="paragraph">請參閱<block ref="67cdb2cad717abb12c965d934ae13809" category="inline-link-rx"></block> 如需建立SnapMirror與FSX關係的詳細資訊、</block>
  <block id="cc9e567b33c3e82ac1b18f4780ca5f42" category="section-title">記錄來源與目的地叢集間邏輯介面</block>
  <block id="44c719fef7654c0f1aecbd77f14b9ab7" category="paragraph">對於ONTAP 內部部署的來源版的來源版系統、您可以從System Manager或CLI擷取叢集間的LIF資訊。</block>
  <block id="d3983f090ac28583ca4499e720c4cc25" category="list-text">在「支援系統管理程式」中ONTAP 、瀏覽至「網路總覽」頁面、並擷取「類型：叢集間」的IP位址、這些位址已設定為與安裝FSx的AWS VPC通訊。</block>
  <block id="de45ac288e78c12d34318717ae7cacd8" category="paragraph"><block ref="de45ac288e78c12d34318717ae7cacd8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="94cf5d813faccf347c0faaab27941922" category="list-text">若要擷取FSX的叢集間IP位址、請登入CLI並執行下列命令：</block>
  <block id="244c638485f1bcb26a0e966bd289e4a9" category="paragraph"><block ref="244c638485f1bcb26a0e966bd289e4a9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0ce2dabb10080d128fabb2edc80a417a" category="section-title">在ONTAP Sfx6和FSX之間建立叢集對等關係</block>
  <block id="84c8209b0c6f3e5e18c66f9f45cf5358" category="paragraph">若要在ONTAP 各個叢集之間建立叢集對等關係、必須ONTAP 在其他對等叢集中確認在起始的叢集上輸入的獨特通關密碼。</block>
  <block id="085f57325580b1a203343baf39c910d1" category="list-text">使用「叢集對等點create」命令、在目的地FSX叢集上設定對等。出現提示時、請輸入稍後在來源叢集上使用的唯一密碼、以完成建立程序。</block>
  <block id="475947ec353590c018e5b0d813538a84" category="list-text">在來源叢集上、您可以使用ONTAP SysSystem Manager或CLI建立叢集對等關係。從「系統管理程式」中、瀏覽至「保護」&gt;「總覽」、然後選取「對等叢集」ONTAP 。</block>
  <block id="692ee36299ec8b049d7462a75dd1463a" category="paragraph"><block ref="692ee36299ec8b049d7462a75dd1463a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1aa5f33eeccc2dab1c1b6aba564ec238" category="list-text">在對等叢集對話方塊中、填寫必要資訊：</block>
  <block id="28b3f47a49c9a2fb506879e23a7b1723" category="list-text">輸入用於在目的地FSX叢集上建立對等叢集關係的通關密碼。</block>
  <block id="157bacc8ed48f5dc430560300ef9f5a5" category="list-text">選取「是」以建立加密關係。</block>
  <block id="70c324b6369e6cb6f4a8df99ac8b4b7e" category="list-text">輸入目的地FSX叢集的叢集間LIF IP位址。</block>
  <block id="c9af913b694e4e4dcce39b7e3a2eabd2" category="list-text">按一下「初始化叢集對等」以完成程序。</block>
  <block id="409a2deb1ca3f5fe6ad3f90977529965" category="paragraph"><block ref="409a2deb1ca3f5fe6ad3f90977529965" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2b39da3667dd0f4cab32a9027eeadf60" category="list-text">使用下列命令驗證來自FSX叢集的叢集對等關係狀態：</block>
  <block id="25ca322582650fd7d3732bea77176905" category="paragraph"><block ref="25ca322582650fd7d3732bea77176905" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fdf4cefe90737a4248cd083c1a1d2e36" category="section-title">建立SVM對等關係</block>
  <block id="4f194687804b9dff8219b58d47dc2a69" category="paragraph">下一步是在包含SnapMirror關係的磁碟區的目的地與來源儲存虛擬機器之間建立SVM關係。</block>
  <block id="9bd0b716a7c6f7821d01f58d3576978d" category="list-text">從來源FSX叢集、從CLI使用下列命令建立SVM對等關係：</block>
  <block id="1a82405201cf3be5b0f3f96ffb551406" category="list-text">從來源ONTAP 的物件叢集、接受與ONTAP SysSystem Manager或CLI的對等關係。</block>
  <block id="dd0f7f7da0626cbd138836fd072f65de" category="list-text">從「支援系統管理程式」移至「保護」&gt;「總覽」、然後在「儲存VM對等端點」下選取「對等儲存VM」ONTAP 。</block>
  <block id="486b508476b1f8dff9a5314ac26e36e9" category="paragraph"><block ref="486b508476b1f8dff9a5314ac26e36e9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8b0c3d15e3f1c8ecebfa725f753f98e7" category="list-text">在對等儲存VM對話方塊中、填寫必填欄位：</block>
  <block id="b980118a5ade1402e409e2354f286c60" category="list-text">來源儲存VM</block>
  <block id="2cb119a467d09216231bdf2ff83bfb5f" category="list-text">目的地叢集</block>
  <block id="1d1fa3ffdce0bd1d4a0faf3d15fb94f6" category="list-text">目的地儲存VM</block>
  <block id="22a926c9631a59bce535d179c6f1f5ae" category="paragraph"><block ref="22a926c9631a59bce535d179c6f1f5ae" category="inline-image-macro-rx" type="image"></block></block>
  <block id="52fee5b72c266bcf84963c260c8cf2ed" category="list-text">按一下對等儲存VM以完成SVM對等處理程序。</block>
  <block id="332a29af91768111608bcb6bf43107e7" category="section-title">建立快照保留原則</block>
  <block id="b2659ce2591907c1c9269d82e68d8109" category="paragraph">可管理主要儲存系統上以快照複本形式存在的備份保留排程。SnapCenter這是SnapCenter 在建立一套以功能為基礎的原則時所建立的。不管理保留在二線儲存系統上的備份保留原則。SnapCenter這些原則是透過在次要FSX叢集上建立的SnapMirror原則來個別管理、並與與來源Volume處於SnapMirror關係中的目的地磁碟區相關聯。</block>
  <block id="1d64d8f27569c9f8182a6c536add0069" category="paragraph">建立SnapCenter Eshot原則時、您可以選擇指定次要原則標籤、並將其新增至SnapCenter 擷取此備份時所產生之每個Snapshot的SnapMirror標籤。</block>
  <block id="b3ca63efc1d304947f75061071da604c" category="admonition">在二線儲存設備上、這些標籤會符合與目的地Volume相關的原則規則、以強制保留快照。</block>
  <block id="422f63101989fe9b50c840c82bb5fe9f" category="paragraph">以下範例顯示SnapMirror標籤、其存在於所有快照上、這些快照是作為每日備份SQL Server資料庫和記錄磁碟區的原則之一。</block>
  <block id="5f70d8aa597c91ed28f7be347e2fac0a" category="paragraph"><block ref="5f70d8aa597c91ed28f7be347e2fac0a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d5c9b73d439aa92ef011ebf02237c888" category="inline-link">本文檔SnapCenter</block>
  <block id="2d0828fbc32c49aad5149bd71dd05ddf" category="paragraph">如需建立SnapCenter SQL Server資料庫的各項功能性原則的詳細資訊、請參閱<block ref="7f14e0044cbde8b494ce0e026c2561cf" category="inline-link-rx"></block>。</block>
  <block id="f508c027fda31d58c4677043e1a3eaa8" category="paragraph">您必須先建立SnapMirror原則、其中規定要保留的快照複本數量。</block>
  <block id="bb66348f31a358d5d6f969b7ab6ee82c" category="list-text">在FSX叢集上建立SnapMirror原則。</block>
  <block id="e8d5c5ace79f3b8be2db75ba7135e0a8" category="list-text">使用SnapMirror標籤將規則新增至原則、這些標籤符合SnapCenter 在《保護原則》中指定的次要原則標籤。</block>
  <block id="5a3507b9cf4dd4a569d2ffe314e6b7eb" category="paragraph">下列指令碼提供可新增至原則的規則範例：</block>
  <block id="762402f82600698541f18b3a2f4ac8f4" category="admonition">針對每個SnapMirror標籤和要保留的快照數量（保留期間）建立其他規則。</block>
  <block id="2f061612da9689d76bf56673168e2297" category="section-title">建立目的地Volume</block>
  <block id="3c09a07bfb806c844317f3b57d93a884" category="paragraph">若要在FSXTM上建立目的地Volume、使其成為來源Volume中快照複本的接收者、請在FSxTM上執行下列命令ONTAP ：</block>
  <block id="9a9f4d5cf2f4ccad396091e224e45c7e" category="section-title">在來源與目的地磁碟區之間建立SnapMirror關係</block>
  <block id="dfceac14afc666c56290006c22ba8a0a" category="paragraph">若要在來源與目的地Volume之間建立SnapMirror關係、請在FSX ONTAP Sf2上執行下列命令：</block>
  <block id="e3a7ebd416df655cee455d58e86e8477" category="section-title">初始化SnapMirror關係</block>
  <block id="a457a30bf4ecea53998aa344bee4329a" category="paragraph">初始化SnapMirror關係。此程序會啟動從來源磁碟區產生的新快照、並將其複製到目的地磁碟區。</block>
  <block id="2cd2d537da5641f8e4fc5712872944c4" category="paragraph">若要建立磁碟區、請在FSXSflexiF上執行下列命令ONTAP ：</block>
  <block id="dcbabf28828ef9b03cf9856a74eedf64" category="summary">在本解決方案中SnapCenter 、支援針對SQL Server和Oracle應用程式資料提供應用程式一致的快照。此組態搭配SnapMirror技術、可在內部部署AFF 的Sfx6 ONTAP 和FSX支援叢集之間提供高速資料複寫功能。此外、Veeam備份與複寫也為我們的虛擬機器提供備份與還原功能。</block>
  <block id="a7b22ebf343cad0f97e90df47a7d7f0c" category="paragraph">在本節中、我們將說明SnapCenter 如何設定用於備份與還原的SnapMirror、SnapMirror和Veeam。</block>
  <block id="66b3c7123c5d46e3d176f20cb0ede484" category="paragraph">下列各節涵蓋在次要站台完成容錯移轉所需的組態和步驟：</block>
  <block id="b33c39866fb3627a46e2d343e5fcdb1a" category="list-text">在SnapCenter 內部部署及設定Windows靜態伺服器。</block>
  <block id="498fdd311192093265ba745435fc1476" category="doc">部署及設定Veeam備份伺服器</block>
  <block id="48e37aaf43e2a1010e9e267340ce923e" category="inline-link">Veeam說明中心技術文件</block>
  <block id="9e67d6bed8c55a98c2cfe02531c07393" category="paragraph">解決方案中使用Veeam備份與複寫軟體來備份應用程式虛擬機器、並使用Veeam橫向擴充備份儲存庫（SOBR）將備份複本歸檔至Amazon S3儲存庫。在本解決方案中、Veeam部署於Windows伺服器上。如需部署Veeam的具體指引、請參閱<block ref="43bd82bcfa6fc650951eb1c3021cf923" category="inline-link-rx"></block>。</block>
  <block id="a2af8a9311b9c3a74f6418a81bb700d2" category="section-title">設定Veeam橫向擴充備份儲存庫</block>
  <block id="b61099b9ef1858547775741cc632226a" category="paragraph">在您部署並授權軟體之後、您可以建立橫向擴充備份儲存庫（SOBR）作為備份工作的目標儲存設備。您也應該將S3儲存區納入異地備份VM資料、以便進行災難恢復。</block>
  <block id="b2fe763ad14c7947f74a8693fa06bf2b" category="paragraph">請先參閱下列必要條件、再開始使用。</block>
  <block id="e787194bd6ef5154135951b4ab7f0317" category="list-text">在內部部署ONTAP 的支援系統上建立SMB檔案共用區、做為備份的目標儲存設備。</block>
  <block id="1c2ed63d64d034cdd6fe30f769495f52" category="list-text">建立Amazon S3儲存庫以納入SOBR。這是用於異地備份的儲存庫。</block>
  <block id="e349d3884df12b302e0d564f4cf3dec4" category="section-title">新增ONTAP 功能至Veeam</block>
  <block id="3f71ccdf6fe8797ee5930ef4b5a0eaf1" category="paragraph">首先、在ONTAP Veeam中新增功能不支援的儲存叢集和相關的SMB/NFS檔案系統作為儲存基礎架構。</block>
  <block id="dc14600d8d3627181cbe1757142b1c03" category="list-text">開啟Veeam主控台並登入。瀏覽至Storage Infrastructure、然後選取Add Storage。</block>
  <block id="a55b866e82b1226d8874e7d53e6e50a9" category="paragraph"><block ref="a55b866e82b1226d8874e7d53e6e50a9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5bb1dc14738b469545970cd32668931f" category="list-text">在「Add Storage（新增儲存設備）」精靈中、選取NetApp作為儲存設備廠商、然後選取Data ONTAP 「NetApp」。</block>
  <block id="391d2bf94e1387196a435da4f4f0af41" category="list-text">輸入管理IP位址、然後勾選NAS Filer方塊。按一下「下一步」</block>
  <block id="a8485af4e188b4009412f68ce18de31a" category="paragraph"><block ref="a8485af4e188b4009412f68ce18de31a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fab62b3f01af99a63f513f81f07f4c93" category="list-text">新增您的認證資料以存取ONTAP 整個叢集。</block>
  <block id="5e9ee6438a10072376c31e6014cef8c3" category="paragraph"><block ref="5e9ee6438a10072376c31e6014cef8c3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f55d6a23cbf126acc9c5ca42a97be0fc" category="list-text">在NAS FilerTM頁面上、選擇所需的掃描傳輸協定、然後選取Next（下一步）。</block>
  <block id="596ee09f3551be34368ba19aa36584cd" category="paragraph"><block ref="596ee09f3551be34368ba19aa36584cd" category="inline-image-macro-rx" type="image"></block></block>
  <block id="674fb2409a1f0a9e628bebcb470960cf" category="list-text">完成精靈的「Apply（套用）」和「Summary（摘要）」頁面、然後按一下「Finish（完成）」開始儲存探索程序。掃描完成後、ONTAP 即可將支援此功能的叢集與NAS檔案管理器一起新增為可用資源。</block>
  <block id="dc2bb995c316bc90c4d3a169bbb877d5" category="paragraph"><block ref="dc2bb995c316bc90c4d3a169bbb877d5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8f9b12801eaee10c32275f4ee61916aa" category="list-text">使用新發現的NAS共用區建立備份儲存庫。從備份基礎架構選取備份儲存庫、然後按一下新增儲存庫功能表項目。</block>
  <block id="621999df528dc938edd5a395cf0df8f3" category="paragraph"><block ref="621999df528dc938edd5a395cf0df8f3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="afc15a9e4c0cbbfa567d40414a9725a1" category="inline-link">Veeam文件</block>
  <block id="218b99cee35d61ca3e9cb2d068673d9a" category="list-text">請依照「新備份儲存庫精靈」中的所有步驟來建立儲存庫。如需建立Veeam備份儲存庫的詳細資訊、請參閱<block ref="3932357efba07e37ed76091ad3c0260c" category="inline-link-rx"></block>。</block>
  <block id="b56272bcb8aa2b6cb2998d01ed46d1f8" category="paragraph"><block ref="b56272bcb8aa2b6cb2998d01ed46d1f8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6fdf6cc44242ceed0927b180d30e5e75" category="section-title">將Amazon S3儲存庫新增為備份儲存庫</block>
  <block id="8c5c80325137d0f76fbe191272748ba6" category="paragraph">下一步是將Amazon S3儲存設備新增為備份儲存庫。</block>
  <block id="6a1ed885510bb28a64f66f0870fbaa39" category="list-text">瀏覽至「備份基礎架構」&gt;「備份儲存庫」。按一下新增儲存庫。</block>
  <block id="bf510a56b5d84298de7541e645b836b7" category="paragraph"><block ref="bf510a56b5d84298de7541e645b836b7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="021391ea3955cab71330e7a32f03333f" category="list-text">在「新增備份儲存庫」精靈中、選取「物件儲存設備」、然後選取「Amazon S3」。這會啟動「新增物件儲存庫」精靈。</block>
  <block id="c1f1ad1062498b5eeb9d31293b71343c" category="paragraph"><block ref="c1f1ad1062498b5eeb9d31293b71343c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d3a3eb593a619e4becab9e45b8f46652" category="list-text">提供物件儲存庫的名稱、然後按「Next（下一步）」。</block>
  <block id="97f3c4606f2c2ebb0ffadd0616b76446" category="list-text">在下一節中、提供您的認證資料。您需要AWS存取金鑰和秘密金鑰。</block>
  <block id="e561e4c61aaefae45d0344b4ce87f23b" category="paragraph"><block ref="e561e4c61aaefae45d0344b4ce87f23b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="157669cd4d5a68c9ab9f3537a9e0ea33" category="list-text">Amazon組態載入後、請選擇您的資料中心、儲存庫和資料夾、然後按一下「Apply（套用）」。最後、按一下「完成」以關閉精靈。</block>
  <block id="2e9f45d4556ef13d4724b6f93eea5fd3" category="section-title">建立橫向擴充備份儲存庫</block>
  <block id="7d8f14e05d872984577255cdeb1f14ec" category="paragraph">現在我們已將儲存儲存庫新增至Veeam、我們可以建立SOBR、將備份複本自動分層至異地Amazon S3物件儲存設備、以進行災難恢復。</block>
  <block id="328e03460d532c3507b2a6ba6ce53438" category="list-text">從備份基礎架構選取橫向擴充儲存庫、然後按一下新增橫向擴充儲存庫功能表項目。</block>
  <block id="3ffac3b915968cb75860eac6dcb2255b" category="paragraph"><block ref="3ffac3b915968cb75860eac6dcb2255b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="582671a9090106ace80b09bb160558c6" category="list-text">在「新增橫向擴充備份儲存庫」中、提供SOBR名稱、然後按「下一步」。</block>
  <block id="8f7df3cc6ed6758328582e4972dcb532" category="list-text">對於效能層、請選擇包含SMB共用的備份儲存庫、該SMB共用位於本機ONTAP 的資訊區叢集上。</block>
  <block id="2c4b66b86991d603fc9db639a47179f8" category="paragraph"><block ref="2c4b66b86991d603fc9db639a47179f8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7362749638566881b7b5f8fe545c64e8" category="list-text">針對「放置原則」、請根據您的需求選擇「資料位置」或「效能」。選取「下一步」。</block>
  <block id="2d1b39bdffbca5df6978176960bb0148" category="list-text">在容量層方面、我們將SOBR延伸至Amazon S3物件儲存設備。為了進行災難恢復、請在建立備份後立即選取「複製備份到物件儲存設備」、以確保我們的次要備份能夠及時交付。</block>
  <block id="3a54badf400b7e061484dbadf3a19b19" category="paragraph"><block ref="3a54badf400b7e061484dbadf3a19b19" category="inline-image-macro-rx" type="image"></block></block>
  <block id="248e4221544eda567f1dd23b587cec68" category="list-text">最後、選取「Apply（套用）」和「Finish（完成）」以完成建立SOBR。</block>
  <block id="97f8173a9f8ac774dbbb04ad209a46ee" category="section-title">建立橫向擴充備份儲存庫工作</block>
  <block id="d7b3c8996a5cc044c6c1221d000a9d9b" category="inline-link">Veeam說明中心技術文件</block>
  <block id="2b6483678eaaf63094c195aa8a37e401" category="paragraph">設定Veeam的最後步驟、是使用新建立的SOBR作為備份目的地來建立備份工作。建立備份工作是任何儲存系統管理員的常用程序、我們不在此詳述詳細步驟。如需在Veeam中建立備份工作的完整資訊、請參閱<block ref="1e2565ba3e6473b62b1909934037e810" category="inline-link-rx"></block>。</block>
  <block id="3bd61e230841633b4a28f6d2f882d50e" category="summary">備受肯定的災難恢復（DR）環境與計畫、對於組織而言至關重要、因為如此一來、組織就能確保在重大停機事件中迅速還原業務關鍵應用程式。本解決方案著重於示範DR使用案例、重點在於內部部署的VMware與NetApp技術、以及使用AWS上的VMware Cloud。</block>
  <block id="1ae55e7a3caf44baf5721cdf304e676d" category="doc">TR-4931：在Amazon Web Services和Guest Connect上使用VMware Cloud進行災難恢復</block>
  <block id="5f3d0127b9424be374b1c1474deb2684" category="paragraph">NetApp與VMware的整合歷史悠久、已有數萬家客戶選擇NetApp做為其虛擬化環境的儲存合作夥伴、證明這一點。這項整合會繼續與雲端的來賓連線選項整合、以及最近與NFS資料存放區的整合。本解決方案著重於通常稱為來賓連線儲存設備的使用案例。</block>
  <block id="1134d985d8893464bee3d37e02a36402" category="paragraph">在客體連線儲存設備中、客體VMDK會部署在VMware資源配置的資料存放區上、而應用程式資料則儲存在iSCSI或NFS上、並直接對應至VM。Oracle和MS SQL應用程式用於示範DR案例、如下圖所示。</block>
  <block id="50dd1256f4cf87b2fa70e300ade578e4" category="paragraph"><block ref="50dd1256f4cf87b2fa70e300ade578e4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a9a05fe4fa63215c3d368883b85e9312" category="summary">此解決方案使用NetApp SnapCenter 解決方案來執行SQL Server和Oracle資料庫的應用程式一致備份。搭配使用Veeam備份與複寫來備份虛擬機器VMDK、可為內部部署與雲端型資料中心提供全方位的災難恢復解決方案。</block>
  <block id="d312952f462ee1dc88347d6060c708da" category="section-title">在SnapCenter 內部部署Windows功能伺服器</block>
  <block id="989d04f01dc04fe21c2b542b83a45a6b" category="inline-link">NetApp文件中心</block>
  <block id="5d15da138c85d083e6e6409b418b8411" category="paragraph">NetApp支援網站提供支援軟體、可安裝在位於網域或工作群組的Microsoft Windows系統上。SnapCenter如需詳細的規劃指南和安裝指示、請參閱<block ref="c18608d8aa7f8cbafcf1d09b2fb01df0" category="inline-link-rx"></block>。</block>
  <block id="e6220e7462e6d815945c93dcd734235f" category="paragraph">您可SnapCenter 從取得此軟體<block ref="6c76039d71cd5c9473efac721f24ac89" category="inline-link-rx"></block>。</block>
  <block id="d2476cc18d417aa498cc7c32f99e980b" category="paragraph">安裝完畢後、您可以SnapCenter 使用_\https://Virtual_Cluster_IP_or_FQDN:8146_從網頁瀏覽器存取此功能。</block>
  <block id="63b96bb46045042b50fd68d9b5a0f0ba" category="section-title">將儲存控制器新增SnapCenter 至</block>
  <block id="8956d4de491225a4e6515ba0ad92fb30" category="paragraph">若要將儲存控制器新增SnapCenter 至效益區、請完成下列步驟：</block>
  <block id="2ba7db7e99ccd03f69c81ce1f25330e6" category="list-text">從左功能表中選取「Storage Systems（儲存系統）」、然後按一下「New（新增）」開始將儲存控制器新增SnapCenter 至VMware。</block>
  <block id="f1d609f44050cd3b443f66e474c3b93c" category="paragraph"><block ref="f1d609f44050cd3b443f66e474c3b93c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="48806d1941dc50dadf8bcd5d590511ab" category="list-text">在「Add Storage System（新增儲存系統）」對話方塊中、新增本機內部部署ONTAP 的元件叢集的管理IP位址、以及使用者名稱和密碼。然後按一下「提交」開始探索儲存系統。</block>
  <block id="7b7a93dac3e0141a111190c64a54a220" category="paragraph"><block ref="7b7a93dac3e0141a111190c64a54a220" category="inline-image-macro-rx" type="image"></block></block>
  <block id="dc7b9fe54780f87aa8bdf884b95187c5" category="list-text">重複此程序、將FSX ONTAP 更新SnapCenter 為支援。在這種情況下、請選取「Add Storage System」（新增儲存系統）視窗底部的「More Options」（更多選項）、然後按一下「Secondary」（次要）核取方塊、將FSX系統指定為使用SnapMirror複本或我們的主要備份快照更新的次要儲存系統。</block>
  <block id="4a8fedebba8d5bd8e357863942b66b79" category="paragraph"><block ref="4a8fedebba8d5bd8e357863942b66b79" category="inline-image-macro-rx" type="image"></block></block>
  <block id="62104d735113c9c7e8a23cd031ca2004" category="paragraph">如需將儲存系統新增SnapCenter 至效益管理系統的相關資訊、請參閱文件、網址為<block ref="05f72e618af68eda439c6d688692dcd6" category="inline-link-rx"></block>。</block>
  <block id="c81dcfed07648c407976127bb0bdbed2" category="section-title">將主機新增SnapCenter 至</block>
  <block id="e796a589329333070ad568f533b21931" category="paragraph">下一步是將主機應用程式伺服器新增SnapCenter 至SQL Server和Oracle的程序類似。</block>
  <block id="6718a4b38f7a3df604d1fd6079decaae" category="list-text">從左功能表中選取「hosts」、然後按一下「Add（新增）」、開始將儲存控制器新增SnapCenter 至VMware。</block>
  <block id="4106a2178f1f526d51c57cb723e0f3ef" category="list-text">在Add hosts（新增主機）視窗中、新增Host Type（主機類型）、Hostname（主機名稱）和主機系統認證。選取外掛程式類型。若為SQL Server、請選取Microsoft Windows和Microsoft SQL Server外掛程式。</block>
  <block id="3eae7017924ae8e187a046e62f5c334e" category="paragraph"><block ref="3eae7017924ae8e187a046e62f5c334e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fdb2b840f37deff5210ef9f13e554fd5" category="list-text">對於Oracle、請在「新增主機」對話方塊中填寫必填欄位、然後選取Oracle資料庫外掛程式的核取方塊。然後按一下「提交」開始探索程序、並將主機新增SnapCenter 至VMware。</block>
  <block id="6430fb639e6454a8e47d23925ec8f583" category="paragraph"><block ref="6430fb639e6454a8e47d23925ec8f583" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7da39703d1c501afafc02c06d1c31788" category="section-title">建立SnapCenter 不規則</block>
  <block id="fa5cc6d015db1929ddc02765f2003a33" category="paragraph">原則會針對備份工作建立要遵循的特定規則。其中包括但不限於備份排程、複寫類型、SnapCenter 以及如何處理備份和刪節交易記錄。</block>
  <block id="817a33901829b57a630a499c24b4daf2" category="paragraph">您可以在SnapCenter 「功能性」（英語）的「設定」（Settings）區段中存取原則。</block>
  <block id="6ddda0770a816978059cd0702e0223d0" category="paragraph"><block ref="6ddda0770a816978059cd0702e0223d0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d9d91360f1fd4ad1abf6c445ec8ff103" category="paragraph">如需建立SQL Server備份原則的完整資訊、請參閱<block ref="7f14e0044cbde8b494ce0e026c2561cf" category="inline-link-rx"></block>。</block>
  <block id="f079afadb233d404e335685a7b58c70e" category="paragraph">如需建立Oracle備份原則的完整資訊、請參閱<block ref="be1c60aeb8bf91be9c4096428152eedc" category="inline-link-rx"></block>。</block>
  <block id="5847f474084786fc8a16763856c1b0da" category="list-text">當您逐步完成原則建立精靈時、請特別注意「複寫」區段。在本節中、您將說明您要在備份程序中取得的次要SnapMirror複本類型。</block>
  <block id="fc3c693a9b60faa4913d47e755b4cf34" category="list-text">「建立本機Snapshot複本後再更新SnapMirror」設定是指當位於同一個叢集上的兩個儲存虛擬機器之間存在SnapMirror關係時、更新SnapMirror關係。</block>
  <block id="77bf66c8cee4cd2482095210be78e13a" category="list-text">「建立SnapVault 本機快照複本後更新功能」設定可用來更新兩個獨立叢集之間、內部部署ONTAP 的SnapMirror系統與Cloud Volumes ONTAP BIOS或FSxN之間存在的SnapMirror關係。</block>
  <block id="824aec6074385910e619ac91969c68a3" category="paragraph">下圖顯示上述選項、以及它們在備份原則精靈中的外觀。</block>
  <block id="89bace67b9ee8f5a253e88d282ceb63d" category="paragraph"><block ref="89bace67b9ee8f5a253e88d282ceb63d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e6bd8190e5c79ad5d86289d596dd8c16" category="section-title">建立SnapCenter 資源群組</block>
  <block id="2f15c296209e980cccf829b7e5c1bbca" category="paragraph">資源群組可讓您選取要納入備份的資料庫資源、以及這些資源所遵循的原則。</block>
  <block id="e96fdebed13bd03c9e88f6cff2b7ed67" category="list-text">前往左側功能表的「資源」區段。</block>
  <block id="8b5265ba89102ff3a5fd8b504ba85140" category="list-text">在視窗頂端、選取要使用的資源類型（在此情況下是Microsoft SQL Server）、然後按一下「New Resource Group（新資源群組）」。</block>
  <block id="695c07b026f6602eff292288473cdc42" category="paragraph"><block ref="695c07b026f6602eff292288473cdc42" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bad635c8aa26c147bd68eb7b700cabbe" category="paragraph">本《支援》文件涵蓋SnapCenter 建立SQL Server和Oracle資料庫資源群組的逐步詳細資料。</block>
  <block id="6f9886092f343d1ecc5b676f4ca381c7" category="paragraph">如需備份SQL資源、請遵循<block ref="d0500a8d119256a2ca6775a9357c88fa" category="inline-link-rx"></block>。</block>
  <block id="ffbeca6b667809b446c63465c7ff671f" category="paragraph">如需備份Oracle資源、請遵循<block ref="c6b13e1956473c7b22893d8b12c1b8be" category="inline-link-rx"></block>。</block>
  <block id="601c3055944b06a3d06d7da4128af752" category="summary">若要將我們的應用程式VM和資料庫Volume容錯移轉至執行於AWS的VMware Cloud Volume服務、必須安裝並設定SnapCenter 執行中的VMware Server和Veeam備份與複寫伺服器執行個體。容錯移轉完成後、也必須將這些工具設定為恢復正常的備份作業、直到規劃並執行內部部署資料中心的容錯回復為止。</block>
  <block id="f93f90f32b570b5fbcc3458fb93a6ab2" category="doc">雲端備份工具</block>
  <block id="4f31ced8146865d2c2823db3f623bf36" category="section-title">部署備份工具</block>
  <block id="4dad49c9583060929c06d355e24a683a" category="paragraph">VMware Cloud SDDC可安裝支援伺服器與Veeam備份與複寫伺服器、也可安裝在VPC中的EC2執行個體上、並可透過網路連線至VMware Cloud環境。SnapCenter</block>
  <block id="f709ed2f05802131924f53cb483d0216" category="section-title">伺服器SnapCenter</block>
  <block id="257b2c5a413bf4e187ebd89c8a363827" category="inline-link-macro">NetApp文件中心</block>
  <block id="2bd8e8f9848a7635d56bcd86b9ad4c8f" category="paragraph">NetApp支援網站提供支援軟體、可安裝在網域或工作群組中的Microsoft Windows系統上。SnapCenter如需詳細的規劃指南和安裝指示、請參閱 <block ref="a00f6e57d5c269a935cd1b0491cebb83" category="inline-link-macro-rx"></block>。</block>
  <block id="d099bc9c6d34500d99c2caac0e6df36c" category="paragraph">您可在以下網址找到SnapCenter 此軟體：<block ref="6c76039d71cd5c9473efac721f24ac89" category="inline-link-rx"></block>。</block>
  <block id="5a8e524620f781b94c018014370aad68" category="paragraph">您可以在AWS或EC2執行個體上的VMware Cloud Windows伺服器上安裝Veeam備份與複寫伺服器。如需詳細的實作指南、請參閱<block ref="1e2565ba3e6473b62b1909934037e810" category="inline-link-rx"></block>。</block>
  <block id="af7bd34681425c09ae0ef24381972fb5" category="section-title">備份工具與組態</block>
  <block id="82634d63ab3a3344fb59974c50487bac" category="paragraph">安裝SnapCenter 完成後、必須將VMware和Veeam備份與複寫設定為執行必要的工作、才能將資料還原至AWS上的VMware Cloud。</block>
  <block id="4b152f4bba0a5ca6345daa47736e4622" category="section-title">組態SnapCenter</block>
  <block id="411fce4d2b732a8bfda73c4f04da246c" category="paragraph">若要還原鏡射至FSXS庫ONTAP 的應用程式資料、您必須先執行內部部署SnapCenter 的整套功能還原資料庫。完成此程序後、將會重新建立與VM的通訊、現在可以使用FSX ONTAP 支援作為主要儲存設備、繼續進行應用程式備份。</block>
  <block id="d307f68836099290d00bdc9341ec2be7" category="inline-link-macro">部署次要Windows SnapCenter 功能伺服器</block>
  <block id="520d23cd5df8582645ee42124b69ccae" category="paragraph">如需SnapCenter 在AWS中駐留的《不景伺服器》上完成的步驟清單、請參閱一節 <block ref="a29fcfa081b59708af69951be417dc25" category="inline-link-macro-rx"></block>。</block>
  <block id="50d8cb6b9ada9f3e6328cb534ed5773f" category="paragraph">若要還原已備份至Amazon S3儲存設備的虛擬機器、Veeam伺服器必須安裝在Windows伺服器上、並設定為與VMware Cloud、FSX ONTAP 、以及包含原始備份儲存庫的S3儲存庫進行通訊。此外、還必須在FSX ONTAP 更新上設定新的備份儲存庫、以便在VM還原後進行新的備份。</block>
  <block id="845690e8aecca4f756b60cbd6c80c7f9" category="inline-link-macro">部署次要Veeam備份與擴大機；複寫伺服器</block>
  <block id="82a8a7d9b8f053ce73af1c1b5b8694ff" category="paragraph">如需完成應用程式VM容錯移轉所需的完整步驟清單、請參閱一節 <block ref="83d03cb08c05a76f36dedd6b85344746" category="inline-link-macro-rx"></block>。</block>
  <block id="db4ff15d9c0c503103508af3dd860139" category="summary">NetApp AFF 之所以能提供高效能儲存基礎架構、是因為它具備靈活的資料管理選項、能夠滿足各式各樣的企業情境。在本解決方案中、ONTAP AFF 我們使用了一個功能完善的內部部署儲存系統。</block>
  <block id="6e5148fc476ca76eb8c330524bc1064d" category="paragraph">解決方案中使用NetApp ONTAP 功能搭配ONTAP VMware及SnapCenter VMware的支援功能、提供與VMware vSphere緊密整合的全方位管理與應用程式備份功能。</block>
  <block id="e64f2bbe0643eeea77fa30ad5e4bdbe4" category="paragraph">我們使用ONTAP VMware資料存放區來存放虛擬機器及其VMDK檔案。VMware支援連接資料存放區的多種儲存傳輸協定、在此解決方案中、我們使用NFS磁碟區來存放ESXi主機上的資料存放區。不過ONTAP 、支援VMware支援的所有傳輸協定均由支援。</block>
  <block id="ba1139b1becb929a6ba79e930297c5b7" category="paragraph">下圖說明VMware儲存選項。</block>
  <block id="6869f0a16b26f7047d40a5a9c5a0ccd4" category="paragraph"><block ref="6869f0a16b26f7047d40a5a9c5a0ccd4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="aed995b63d54f1d314ad87fc5d16b69d" category="paragraph">將支援iSCSI和NFS的來賓連線儲存設備用於我們的應用程式VM。ONTAP我們使用下列儲存傳輸協定來處理應用程式資料：</block>
  <block id="c787b4233027288b06ace5dad3c0e461" category="list-text">NFS磁碟區、用於連接客體的Oracle資料庫檔案。</block>
  <block id="6a13696c6a6b506058d391582e402c83" category="list-text">iSCSI LUN、用於連接來賓的Microsoft SQL Server資料庫和交易記錄。</block>
  <block id="6504ffb2b49026508f8d68a73a0893a1" category="cell">資料庫類型</block>
  <block id="9b8bdf7379e889d83ab24e782c87d2ac" category="cell">儲存傳輸協定</block>
  <block id="0fc2cb6a177a3a14f31bd4810e09fa97" category="cell">Volume說明</block>
  <block id="31f8757839909e87266f2b53482c86ef" category="cell">Windows Server 2019</block>
  <block id="e40ceeaead715c564e85bdc9b183e491" category="cell">2019年SQL Server</block>
  <block id="458648f675593beefe031e7b7ba9fcdd" category="cell">資料庫檔案</block>
  <block id="81fae4ea40cc442afa43dab4cc001004" category="cell">記錄檔</block>
  <block id="ed47cdd7d93d911c4e94fc2801456784" category="cell">Oracle Linux 8.5</block>
  <block id="e13e1c4f4700229b02ee474e7dda4ea2" category="cell">Oracle 19c</block>
  <block id="4659ac5526bf8dff13f1ec371e79b766" category="cell">Oracle二進位</block>
  <block id="f0a16b1024d40f006a15728ebd0e0f12" category="cell">Oracle資料</block>
  <block id="1d9c31e9be3c01076e13f0f4fa1c15ae" category="cell">Oracle恢復檔案</block>
  <block id="26f11a15ba5f458b3d86d9ecc01b56f3" category="paragraph">我們也使用ONTAP 支援主要Veeam備份儲存庫的功能、以及SnapCenter 用於還原資料庫備份的備份目標。</block>
  <block id="e8d719041d7958d85248e29684218330" category="list-text">Veeam備份儲存庫的SMB共用區。</block>
  <block id="6005cf3be81f9c1a1908df0afb543b7d" category="list-text">SMB共享區是SnapCenter 進行資料庫還原備份的目標。</block>
  <block id="6872c2b6282a1ff41523f7b84a51d4da" category="section-title">雲端儲存設備</block>
  <block id="72cd2806db1eac2f04ef89c81542dd54" category="paragraph">此解決方案包含AWS上的VMware Cloud、可用來裝載還原為容錯移轉程序一部分的虛擬機器。截至本文撰寫時、VMware支援裝載VM和VMDK之資料存放區的vSAN儲存設備。</block>
  <block id="501c11094fdd604514f321bced51fe82" category="paragraph">FSX for ONTAP Sfor Sfor Sfor FSfor是應用程式資料的二線儲存設備、這些應用程式資料是使用SnapCenter 鏡射和SyncMirror 鏡射的。作為容錯移轉程序的一部分、FSXfor ONTAP Sfor the cluster會轉換為主要儲存設備、資料庫應用程式可恢復在FSX儲存 叢集上執行的正常功能。</block>
  <block id="2872e9fbf25a6695761c355a5170f21f" category="section-title">Amazon FSX for NetApp ONTAP 的功能</block>
  <block id="81d8366c2ec35340f9822e490b614b41" category="paragraph">若要使用ONTAP Cloud Manager部署AWS FSX for NetApp解決方案、請依照中的指示操作<block ref="f938a02d8e5f1cc6cb4c026bb367a9b5" category="inline-link-rx"></block>。</block>
  <block id="e48c9f83aba7e50a34062296356c11da" category="paragraph">部署完FSX ONTAP 功能後、將內部部署ONTAP 的動作例項拖放到FSX ONTAP 支援區中、即可開始建立磁碟區的複寫設定。</block>
  <block id="bfeecfa1e5aafaba3386ba09221608e3" category="paragraph">下圖說明我們的FSX ONTAP 支援環境。</block>
  <block id="f0eabf6ad2404299416504a68c18c70b" category="paragraph"><block ref="f0eabf6ad2404299416504a68c18c70b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="46fabc81c23066d3f0ef74556fc23d0d" category="section-title">已建立網路介面</block>
  <block id="cf36149275607710e0655ce5a52d4745" category="paragraph">FSX for NetApp ONTAP Suse已預先設定網路介面、可用於iSCSI、NFS、SMB及叢集間網路。</block>
  <block id="a23141775a4b1f964c8a4c1335d366c7" category="section-title">VM資料存放區儲存</block>
  <block id="60d2a0c028f1fc1db964ff9d52cfe139" category="paragraph">VMware Cloud SDDC隨附兩個VSAN資料存放區、分別名為「vsandatastore」和「workloaddatastore」。我們使用「vsandatastore」來裝載管理虛擬機器、其存取限制為cloudadmin認證。對於工作負載、我們使用「workloaddatastore」。</block>
  <block id="d4fab32948320ef14f4b14bb30559cd4" category="summary">此解決方案需要內部部署ONTAP 的Sfcluster與AWS FSX for NetApp ONTAP 的整合叢集網路位址之間的成功通訊、才能執行NetApp SyncMirror 的支援作業。此外、Veeam備份伺服器必須能夠存取AWS S3儲存區。現有的VPN或Direct Connect連結不使用網際網路傳輸、可作為S3儲存區的私有連結。</block>
  <block id="c850af3ffbdd92ab67281dbdfeaf4e52" category="paragraph">支援所有用於虛擬化的主要儲存傳輸協定、包括適用於SAN環境的iSCSI、Fibre Channel（FC）、Fibre Channel over Ethernet（FCoE）或Non-volatile Memory Express over Fibre Channel（NVMe / FC）ONTAP 。支援NFS（v3和v4.1）和SMB或S3的來賓連線。ONTAP您可以自由挑選最適合您環境的產品、也可以視需要在單一系統上結合各種通訊協定。例如、您可以使用幾個iSCSI LUN或來賓共用區來擴大NFS資料存放區的一般使用。</block>
  <block id="dc8286bc14e4eca04d5c8c3d3745e742" category="paragraph">此解決方案將NFS資料存放區用於內部部署資料存放區、用於客體VMDK、以及用於客體應用程式資料的iSCSI和NFS。</block>
  <block id="89cf31d317f3100637041ccf296c3421" category="section-title">用戶端網路</block>
  <block id="d6c8c82593995a45499a762d317c04ec" category="paragraph">VMkernel網路連接埠和軟體定義的網路功能可連線至ESXi主機、讓它們與VMware環境外部的元素進行通訊。連線能力取決於所使用的VMkernel介面類型。</block>
  <block id="774cca28a02c25118dc9668598f65663" category="paragraph">對於本解決方案、已設定下列VMkernel介面：</block>
  <block id="fe4dbcab9b910577e5035e97ac068dae" category="list-text">管理</block>
  <block id="31ce31cccd4aecd29ff8b40dd37b8305" category="section-title">已配置儲存網路</block>
  <block id="a09cf1d6ddb872a8c1ee517538a9373d" category="paragraph">LIF（邏輯介面）代表叢集中節點的網路存取點。如此一來、就能與儲存用戶端存取資料的儲存虛擬機器進行通訊。您可以在叢集透過網路傳送和接收通訊的連接埠上設定LIF。</block>
  <block id="b976c5d6eaa4fa1f606cff663f77835f" category="paragraph">針對此解決方案、LIF是針對下列儲存傳輸協定進行設定：</block>
  <block id="cfba851bf46ae36ca092575bba6c7289" category="section-title">雲端連線選項</block>
  <block id="466c519a74055fba20814454ab577c83" category="paragraph">客戶在將內部部署環境連接至雲端資源時、有許多選擇、包括部署VPN或Direct Connect拓撲。</block>
  <block id="ce24b5f233dc29fc3614b2c7d961948b" category="section-title">虛擬私有網路（VPN）</block>
  <block id="55e6887f1e4e535089db85cbcae36acd" category="paragraph">VPN（虛擬私有網路）通常用於建立安全的IPSec通道、並使用網際網路或私有MPLS網路。VPN易於設定、但缺乏可靠性（如果是以網際網路為基礎）和速度。端點可在AWS VPC或VMware Cloud SDDC終止。對於這套災難恢復解決方案、我們從ONTAP 內部部署網路建立了與AWS FSX for NetApp的連線能力。因此、它可以在AWS VPC（虛擬私有閘道或Transit閘道）終止、ONTAP 而FSX for NetApp</block>
  <block id="365e9311cae767fae52a5cdba7003f9a" category="paragraph">VPN設定可以是路由型或原則型的。透過路由型設定、端點會自動交換路由、設定會學習新建立子網路的路由。使用原則型設定時、您必須定義本機和遠端子網路、而且當新增子網路並允許其在IPSec通道中通訊時、您必須更新路由。</block>
  <block id="fb932a9cb1f7aff6a88af2645c80731e" category="admonition">如果未在預設閘道上建立IPSec VPN通道、則必須在路由表中透過本機VPN通道端點定義遠端網路路由。</block>
  <block id="2dc9d6f2c2810edb190acfe717c84a68" category="paragraph">下圖說明典型的VPN連線選項。</block>
  <block id="d90d767da5b6da33c2785b3d3120c23f" category="paragraph"><block ref="d90d767da5b6da33c2785b3d3120c23f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ac1fc9354c56b77f7143d2b6a7d185ad" category="section-title">直接連線</block>
  <block id="4aa5340761d0794e8da7cfa5ead94eb3" category="paragraph">Direct Connect提供AWS網路的專屬連結。專用連線使用1Gbps、10Gbps或100Gbps乙太網路連接埠建立AWS連結。AWS Direct Connect合作夥伴使用自己與AWS之間預先建立的網路連結提供代管連線、可從50Mbps到10Gbps。依預設、流量未加密。不過、您可以使用選項來保護MAC或IPsec的流量。Macsec提供第2層加密、而IPsec則提供第3層加密。Macsec隱藏正在通訊的裝置、提供更好的安全性。</block>
  <block id="f41e1aa529328c6c391ee2bbb3e7b35f" category="paragraph">客戶必須將路由器設備放在AWS Direct Connect位置。若要設定此設定、您可以與AWS合作夥伴網路（APN）合作。在該路由器和AWS路由器之間建立實體連線。若要在ONTAP VPC上存取FSX for NetApp Sfor NetApp、您必須擁有私有虛擬介面或從Direct Connect到VPC的傳輸虛擬介面。透過私有虛擬介面、Direct Connect to VPC連線擴充性受到限制。</block>
  <block id="aac639f893699a86dc44236deb8c2ff8" category="paragraph">下圖說明Direct Connect介面選項。</block>
  <block id="65d0f01c0d2abb5df490f85de1a3c7f5" category="paragraph"><block ref="65d0f01c0d2abb5df490f85de1a3c7f5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5a547cd01b7307bbc41da8aed4983dc1" category="section-title">傳輸閘道</block>
  <block id="5789b6855d128c642555ffa55396a65c" category="inline-link">AWS Direct Connect文件</block>
  <block id="3ae6c7e3aea4c72d9bf07244d7b959e6" category="paragraph">傳輸閘道是區域層級的架構、可讓區域內的Direct Connect to VPC連線提升擴充性。如果需要跨區域連線、則必須連接傳輸閘道。如需詳細資訊、請參閱<block ref="9f2a100b6fab526146ca277977e4ef3a" category="inline-link-rx"></block>。</block>
  <block id="ac8979d211e20b50e94073d31f2e8d44" category="section-title">雲端網路考量</block>
  <block id="02c5109954e68b54548d5ef777afaf76" category="paragraph">在雲端中、基礎網路基礎架構是由雲端服務供應商管理、而客戶則必須在AWS中管理VPC網路、子網路、路由表等。他們也必須在運算邊緣管理NSX網路區段。SDDC群組外部VPC和Transit Connect的路由。</block>
  <block id="ee94a9a0de351e37a54ce1fec2961c62" category="paragraph">當連接ONTAP 至VMware Cloud的VPC上部署FSX for NetApp支援多AZ可用度時、iSCSI流量會收到必要的路由表更新、以便進行通訊。根據預設、ONTAP 在連線的VPC上、沒有可從VMware Cloud到FSX支援NFS/SMB子網路的路由可供多AZ部署。為了定義該路由、我們使用VMware Cloud SDDC群組（VMware託管的傳輸閘道）、在同一地區的VMware Cloud SDDC之間、以及外部VPC和其他傳輸閘道之間進行通訊。</block>
  <block id="7ee08649d3bd024352f28df7dabbb32f" category="admonition">使用傳輸閘道時會產生相關的資料傳輸成本。如需特定區域的成本詳細資料、請參閱<block ref="b6f8eb4f405293cd9bb0c07a2ec1b299" category="inline-link-rx"></block>。</block>
  <block id="68010b6bb26779cadbf96e9d04dad537" category="paragraph">VMware Cloud SDDC可部署在單一可用度區域、就像是單一資料中心。此外、我們也提供延伸叢集選項、就像NetApp MetroCluster 的解決方案、可在可用度區域故障時提供更高的可用度並縮短停機時間。</block>
  <block id="0d5aa9b9832dc4c044a656ccdd139dcf" category="paragraph">若要將資料傳輸成本降至最低、請將VMware Cloud SDDC和AWS執行個體或服務保留在相同的可用度區域。比較適合搭配可用度區域ID、而非名稱、因為AWS會提供帳戶專屬的AZ訂單清單、以分散可用度區域的負載。例如、某個帳戶（US-EAST -1a）可能指向AZ ID 1、而另一個帳戶（US-EAST 1c）可能指向AZ ID 1。可用度區域ID可透過多種方式擷取。在下列範例中、我們從VPC子網路擷取AZ ID。</block>
  <block id="64c06e81643d1c8b6eba37a5343885ec" category="paragraph"><block ref="64c06e81643d1c8b6eba37a5343885ec" category="inline-image-macro-rx" type="image"></block></block>
  <block id="70cd8bfb8fd7a4082087201414ab2fe4" category="inline-link">VMware文件</block>
  <block id="8920393d6c2c8771eef99f947100b883" category="paragraph">在VMware Cloud SDDC中、網路是以NSX管理、處理北南流量上行鏈路連接埠的邊際閘道（層級0路由器）則是連接至AWS VPC。運算閘道和管理閘道（第1層路由器）可處理東西部流量。如果邊緣的上行鏈路連接埠使用量很大、您可以建立流量群組、以便與特定的主機IP或子網路建立關聯。建立流量群組會建立額外的邊緣節點來分隔流量。請檢查<block ref="616556354bfd279ba90d5c2485799af5" category="inline-link-rx"></block> 使用多邊緣設定所需的vSphere主機數量下限。</block>
  <block id="e064913c9382e82051f900b9564779d5" category="paragraph">當您配置VMware Cloud SDDC時、VMKernel連接埠已設定完成、可供使用。VMware會管理這些連接埠、而且不需要進行任何更新。</block>
  <block id="edbc8b71394d65a981746a0ed9072b51" category="paragraph">下圖說明主機VMKernel資訊範例。</block>
  <block id="24d3a9af73ac14dc11a2d9a4745a77b0" category="paragraph"><block ref="24d3a9af73ac14dc11a2d9a4745a77b0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1315738b589a4d2de3fd82a05b2d4e19" category="section-title">已配置的儲存網路（iSCSI、NFS）</block>
  <block id="1a6b4ca0fa5ca04588d2e2eac3bf0444" category="paragraph">對於VM客體儲存網路、我們通常會建立連接埠群組。有了NSX、我們就能建立在vCenter上作為連接埠群組使用的區段。由於儲存網路位於可路由的子網路中、因此即使不建立個別的網路區段、您仍可使用預設NIC存取LUN或掛載NFS匯出。若要分隔儲存流量、您可以建立其他區段、定義規則、以及控制這些區段的MTU大小。為了提供容錯能力、最好至少有兩個區段專用於儲存網路。如前所述、如果上行頻寬成為問題、您可以建立流量群組、並指派IP首碼和閘道來執行來源型路由。</block>
  <block id="87e62e5f6f235efbfc557b0177d0e112" category="paragraph">我們建議將DR SDDC中的區段與來源環境配對、以避免在容錯移轉期間猜測對應網路區段。</block>
  <block id="9175bb34d0aede26315b313b9432bcbb" category="section-title">安全性群組</block>
  <block id="7c9ffa8d590736372f008da84037edaa" category="paragraph">許多安全選項可在AWS VPC和VMware Cloud SDDC網路上提供安全通訊。在VMware Cloud SDDC網路中、您可以使用NSX追蹤流程來識別路徑、包括使用的規則。然後、您可以使用VPC網路上的網路分析器來識別流程期間所耗用的路徑、包括路由表、安全性群組和網路存取控制清單。</block>
  <block id="bd6d688efed13ace07c5656a3de04479" category="doc">總覽- AWS來賓連線儲存設備災難恢復</block>
  <block id="67b5a180b1adfc09bd2752e51613fea5" category="paragraph">本節提供說明、協助使用者驗證、設定及驗證內部部署和雲端環境、以供搭配NetApp和VMware使用。具體而言、本解決方案著重於VMware與來賓連線的使用案例ONTAP AFF 、其中包含內部部署的VMware Cloud、ONTAP 以及適用於雲端的AWS FSX。這套解決方案展示了兩種應用程式：Oracle和MS SQL、在災難恢復案例中。</block>
  <block id="d48ec23d0c00af2c45aa4b1c24b412d8" category="summary">如果發生在一線內部部署資料中心的災難、我們的案例包括使用AWS上的VMware Cloud、將容錯移轉到位於Amazon Web Services基礎架構上的二線站台。我們假設虛擬機器和內部部署ONTAP 的VMware叢集已無法再存取。此外SnapCenter 、無法再存取VMware和Veeam虛擬機器、而且必須在我們的次要站台上重建。</block>
  <block id="7388404ef116c3ff812bfd290b094d9e" category="doc">容錯移轉</block>
  <block id="03c450647cafbb7294b1d6fef9f2476f" category="section-title">災難發生在主站台</block>
  <block id="ff36edd2e7e49fd0a40827688d2f4d8c" category="paragraph">本節說明將基礎架構容錯移轉至雲端、並涵蓋下列主題：</block>
  <block id="9555d80191893a5b671187e1a859f379" category="list-text">還原資料庫。SnapCenter建立新SnapCenter 的支援伺服器之後、請還原MySQL資料庫和組態檔案、並將資料庫切換為災難恢復模式、以便次要FSX儲存設備成為主要儲存設備。</block>
  <block id="2f2ee1d320a4d17fae8f4228f0a0c17a" category="list-text">使用Veeam備份與複寫還原應用程式虛擬機器。連接內含VM備份的S3儲存設備、匯入備份、然後將其還原至AWS上的VMware Cloud。</block>
  <block id="8509dc3cb04f91e9c6eb62971df36219" category="list-text">使用SnapCenter 支援功能還原SQL Server應用程式資料。</block>
  <block id="81e920a3cfad3020139d281a7be1093a" category="list-text">使用SnapCenter 支援功能還原Oracle應用程式資料。</block>
  <block id="7c3080588178d0f5908a96d9e20be883" category="section-title">資料庫還原程序SnapCenter</block>
  <block id="86c580a0ed766eb38c0ef43f08d425e5" category="paragraph">支援災難恢復案例、可備份及還原MySQL資料庫和組態檔案。SnapCenter這可讓管理員在SnapCenter 內部部署資料中心維持對該資料庫的定期備份、並於稍後將該資料庫還原至次要SnapCenter 的還原資料庫。</block>
  <block id="ee1f8cb839e16951e7004e4047603101" category="paragraph">若要存取SnapCenter 遠端SnapCenter 還原伺服器上的還原備份檔案、請完成下列步驟：</block>
  <block id="0b5c65b05530328f42d8b65f68657302" category="list-text">中斷來自FSX叢集的SnapMirror關係、這會使磁碟區變成讀取/寫入。</block>
  <block id="dbfff075901e62d26ef1f316380d01f7" category="list-text">建立CIFS伺服器（如有必要）、並建立CIFS共用區、指向複製Volume的交會路徑。</block>
  <block id="26b0d9d510f38125c4de3a7b68569b29" category="list-text">使用xcopy將備份檔案複製到二線SnapCenter 版的本機目錄。</block>
  <block id="fa0138f778767381d2b0af9bdabad76e" category="list-text">安裝SnapCenter vsv4.6。</block>
  <block id="736c8557bca1ad901b82efb5e946a527" category="list-text">請確保SnapCenter 該伺服器的FQDN與原始伺服器相同。若要成功還原資料庫、就必須執行此動作。</block>
  <block id="6f77488ce3ed6db6422cddaa1e4cbf8f" category="paragraph">若要開始還原程序、請完成下列步驟：</block>
  <block id="7220866a3d1d3ba6c1aef39d02d64b1f" category="list-text">瀏覽至次要SnapCenter 版伺服器的Swagger API網頁、並依照先前的指示取得授權權杖。</block>
  <block id="a5214e49691510795c98aad40874caa1" category="list-text">瀏覽至Swagger頁面的Disaster Recovery（災難恢復）區段、選取「/4.6/disasterrecovery / server/recovery」（/4.6/disasterrecovery /伺服器/還原）、然後按一下「Try it out（試用）」。</block>
  <block id="3c235173c5db1037212eff5e3a152a26" category="paragraph"><block ref="3c235173c5db1037212eff5e3a152a26" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d76d7bbb789675126fd1e9a0bf929635" category="list-text">貼上您的授權權杖、然後在「SmDRResterRequest」區段中、貼上備份名稱和次要SnapCenter 伺服器上的本機目錄。</block>
  <block id="34938ae261d31ae76af2e4369a2c8b0a" category="paragraph"><block ref="34938ae261d31ae76af2e4369a2c8b0a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4579e653c0e46ed15c466f496b60b0f3" category="list-text">選取「執行」按鈕以開始還原程序。</block>
  <block id="fcbb767c97ce18f6b82f09bf8ea9c993" category="list-text">從功能區塊瀏覽至「監控」區段、以檢視還原工作的進度。SnapCenter</block>
  <block id="8fa0520efd67da15041467d3126133a7" category="paragraph"><block ref="8fa0520efd67da15041467d3126133a7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d67615193bee26cd99be6b7ea889f065" category="paragraph"><block ref="d67615193bee26cd99be6b7ea889f065" category="inline-image-macro-rx" type="image"></block></block>
  <block id="49b4fb23e31b4cd2d12434ce03b24134" category="list-text">若要從二線儲存設備啟用SQL Server還原、您必須將SnapCenter 此還原資料庫切換為「災難恢復」模式。這是以個別作業的形式執行、並在Swagger API網頁上啟動。</block>
  <block id="35afa1a915c7752e139ef7b0362596a6" category="list-text">瀏覽至「Disaster Recovery（災難恢復）」區段、然後按一下「/4.6/dissterrecovery / storage（/4.6/disstersterrecovery</block>
  <block id="7633ff4043449878afbd5ca925faa5b1" category="list-text">貼入使用者授權權杖。</block>
  <block id="5fb3d7404a8cc43eb5e120b4e22fe16d" category="list-text">在SmSetDissterRecoverySettingsRequest區段中、將「EnablDisasterRecover」變更為「true」。</block>
  <block id="e7470af265e05d2efa8863c259541c2b" category="list-text">按一下「執行」以啟用SQL Server的災難恢復模式。</block>
  <block id="8579e283f02173e29df7090294128589" category="paragraph"><block ref="8579e283f02173e29df7090294128589" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bc4a08ff9e7fd1ec468bc55c7ba9df45" category="admonition">請參閱其他程序的相關意見。</block>
  <block id="5b13229945c45439c072dc9c270e8177" category="inline-link-macro">使用AWS上的VMC進行災難恢復（與來賓連線）</block>
  <block id="866b55fdae1463f1934c300853ecefe2" category="list-text"><block ref="866b55fdae1463f1934c300853ecefe2" category="inline-link-macro-rx"></block></block>
  <block id="38631d978812c49b6f395a78becd9750" category="summary">下列程序提供如何在發生導致內部部署站台無法運作的災難時、在AWS的VMware Cloud Services中恢復Oracle應用程式資料的指示。</block>
  <block id="c8ae03dc8bb68d2ad3e63a9126f795e6" category="doc">還原Oracle應用程式資料</block>
  <block id="18ed07dc9f8533a3a2cf047292765486" category="paragraph">完成下列先決條件、以繼續執行恢復步驟：</block>
  <block id="d55274d1968c306eb025dc5e6eca42b4" category="list-text">Oracle Linux伺服器VM已使用Veeam完整還原還原至VMware Cloud SDDC。</block>
  <block id="66d808fa42d45f6883d1a223ee26eb0c" category="list-text">已SnapCenter 建立次要的功能、SnapCenter 並已使用本節所述的步驟還原了資料庫和組態檔案 <block ref="f1b6dca3014749c436758b70cc0d8f7f" category="inline-link-macro-rx"></block></block>
  <block id="b723df724fefe9f2021e7bb7bd8a57d0" category="section-title">設定FSXfor Oracle還原–中斷SnapMirror關係</block>
  <block id="ab26994a6aef07f6a796a6109f921a28" category="paragraph">若要讓Oracle伺服器能夠存取位於FSxN執行個體上的次要儲存磁碟區、您必須先中斷現有的SnapMirror關係。</block>
  <block id="d80c0676712ecc3e8d717347b9a0113a" category="list-text">登入FSX CLI之後、請執行下列命令、檢視依正確名稱篩選的磁碟區。</block>
  <block id="c534b90634ff37c01e77b058859f2a29" category="paragraph"><block ref="c534b90634ff37c01e77b058859f2a29" category="inline-image-macro-rx" type="image"></block></block>
  <block id="771b4d8e9d4a9f112068c45d013c2940" category="list-text">執行下列命令以中斷現有的SnapMirror關係。</block>
  <block id="60c89c7c11b1e5d09c8f7d6fcf1b4255" category="paragraph"><block ref="60c89c7c11b1e5d09c8f7d6fcf1b4255" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5a4480a103abe04e17eca64a771420a8" category="list-text">更新Amazon FSX Web用戶端中的交會路徑：</block>
  <block id="a3848e78db2c915e6ec7913bc0779a86" category="paragraph"><block ref="a3848e78db2c915e6ec7913bc0779a86" category="inline-image-macro-rx" type="image"></block></block>
  <block id="467332d89a649add4b0efb09dd2386c5" category="list-text">新增交會路徑名稱、然後按一下「Update（更新）」。從Oracle伺服器掛載NFS Volume時、請指定此交會路徑。</block>
  <block id="7a522c1cba5b4c9df88cb71a944d5efd" category="paragraph"><block ref="7a522c1cba5b4c9df88cb71a944d5efd" category="inline-image-macro-rx" type="image"></block></block>
  <block id="974ee05a635ebfcae6d6f6aa6f5da0b9" category="section-title">在Oracle伺服器上掛載NFS磁碟區</block>
  <block id="f3677efe1cf868a895b6634743ae53cd" category="paragraph">在Cloud Manager中、您可以使用正確的NFS LIF IP位址來取得掛載命令、以掛載包含Oracle資料庫檔案和記錄檔的NFS磁碟區。</block>
  <block id="5ecb7cb864e3f6e77b9ae7264115942e" category="list-text">在Cloud Manager中、存取FSX叢集的Volume清單。</block>
  <block id="dc33973d3bef150b7e3be67c8acbde9a" category="paragraph"><block ref="dc33973d3bef150b7e3be67c8acbde9a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cf957a98bd60352ec8312937f87b49dc" category="list-text">從動作功能表中、選取Mount Command（掛載命令）以檢視及複製要在Oracle Linux伺服器上使用的掛載命令。</block>
  <block id="42ae5bd08cec138b52386d868d92bcfe" category="paragraph"><block ref="42ae5bd08cec138b52386d868d92bcfe" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8026151c7c8dc5002a8652cdd0ac0610" category="paragraph"><block ref="8026151c7c8dc5002a8652cdd0ac0610" category="inline-image-macro-rx" type="image"></block></block>
  <block id="91d32453a4c3b285d62be2bc5eb3d24c" category="list-text">將NFS檔案系統掛載至Oracle Linux Server。用於掛載NFS共用的目錄已存在於Oracle Linux主機上。</block>
  <block id="3f7f1270061c2e231f722bfd466cec0d" category="list-text">在Oracle Linux伺服器上、使用mount命令掛載NFS磁碟區。</block>
  <block id="5cafad6c0970ad9fd32dd43eb98a7d6f" category="paragraph">針對與Oracle資料庫相關的每個Volume重複此步驟。</block>
  <block id="264225a103d86a5e552aebab3ee7dd3f" category="admonition">若要讓NFS掛載在重新開機時持續執行、請編輯「/etc/stabs」檔案以包含掛載命令。</block>
  <block id="2095b7305d1da91dff871c600b482eb9" category="list-text">重新啟動Oracle伺服器。Oracle資料庫應正常啟動、並可供使用。</block>
  <block id="997d17d93cccb6709985c79ccc870db0" category="doc">適用於災難恢復的資料庫備份SnapCenter</block>
  <block id="9cb03f5cfb57a7f655c8a28ca64ae0d1" category="paragraph">支援基礎MySQL資料庫及組態資料的備份與還原、以便在發生災難時恢復該伺服器。SnapCenter SnapCenter就我們的解決方案而言、我們在SnapCenter VPC內的AWS EC2執行個體上恢復了該資料庫和組態。如需此步驟的詳細資訊、請參閱<block ref="85e9a4a54f289ebdfa6c4169fb097d15" category="inline-link-rx"></block>。</block>
  <block id="46137d274838eaef40c110eac160dabc" category="section-title">支援需求SnapCenter</block>
  <block id="2fe071c4476effcd542a95a182832104" category="paragraph">下列先決條件是SnapCenter 進行資訊備份所需的條件：</block>
  <block id="be2b68df1cb3db2a8f1393a8c89a5c30" category="list-text">在內部部署ONTAP 的支援系統上建立一個Volume和SMB共用區、以找出備份的資料庫和組態檔案。</block>
  <block id="1a9ee88991730f920252a1445a467c77" category="list-text">內部部署ONTAP 的SnapMirror系統與AWS帳戶中的FSX或CVO之間的SnapMirror關係。此關係用於傳輸包含備份SnapCenter 的還原資料庫和組態檔案的快照。</block>
  <block id="3c0e70fa217603c0388de21f978923f3" category="list-text">安裝在雲端帳戶的Windows Server、可安裝在EC2執行個體或VMware Cloud SDDC的VM上。</block>
  <block id="328228524f87469e005c8944ad925402" category="list-text">安裝在Windows EC2執行個體或VMware Cloud VM上的SnapCenter</block>
  <block id="0038f6b75b40b9c37893544119ad7ca4" category="section-title">支援備份與還原程序摘要SnapCenter</block>
  <block id="f4644dc8d01e527218cd1fc0daa6af40" category="list-text">在內部部署ONTAP 的內部系統上建立一個磁碟區、以裝載備份資料庫和組態檔案。</block>
  <block id="c4232930a0fc8d0f9a5e1a16db36a816" category="list-text">在內部部署與FSx/CVO之間建立SnapMirror關係。</block>
  <block id="3e1461fe483fb58c7a6642074cb71d8d" category="list-text">掛載SMB共用區。</block>
  <block id="dd5b017c2cafc1394e2d7ab7081652e3" category="list-text">擷取Swagger授權權杖以執行API工作。</block>
  <block id="51263d7f64b29b2b3bd6730068e64a27" category="list-text">啟動資料庫還原程序。</block>
  <block id="23011a36184705e18919c3e5560fd514" category="list-text">使用xcopy公用程式將資料庫和組態檔案本機目錄複製到SMB共用區。</block>
  <block id="b84dd176bda6a6d30c5cb8901a8bf5b1" category="list-text">在FSX上、建立ONTAP 一個Clone of the Sf2 Volume（透過內部部署的SnapMirror複製）。</block>
  <block id="1a3f92b9c5623f19d294ef2907d98cc8" category="list-text">將SMB共用區從FSX掛載至EC2/VMware Cloud。</block>
  <block id="87d37b3dfd2b98df04243247ebff4325" category="list-text">將還原目錄從SMB共用複製到本機目錄。</block>
  <block id="fd516b8b37d528453c538c9022d6d9db" category="list-text">從Swagger執行SQL Server還原程序。</block>
  <block id="63c6890e4065bde44f84394d274e05db" category="section-title">備份SnapCenter 還原資料庫與組態</block>
  <block id="493aa18049179f21c66cc95e36c19670" category="paragraph">支援執行REST API命令的Web用戶端介面。SnapCenter如需透過Swagger存取REST API的相關資訊、請參閱SnapCenter 上的《》文件<block ref="2a9068db8cebf7672f374b2eb0a0c5ec" category="inline-link-rx"></block>。</block>
  <block id="911dd02ad9a62d89e83d996753811c7b" category="section-title">登入Swagger並取得授權權杖</block>
  <block id="820336a66e164f408946dd8235833c07" category="paragraph">瀏覽至Swagger頁面後、您必須擷取授權權杖、才能啟動資料庫還原程序。</block>
  <block id="99899958b071bcb677dc5a5b24f1b2a3" category="list-text">請至SnapCenter https://&lt;SnapCenter伺服器IP：8146/swagger/_存取《Seswagger API》網頁。</block>
  <block id="20f069ff72fb03614b867af722c7c40b" category="paragraph"><block ref="20f069ff72fb03614b867af722c7c40b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5ad3b9c1075f899242a74f969cbb12fa" category="list-text">展開「驗證」區段、然後按一下「試用」。</block>
  <block id="5ffa75198edfa553c162f3b9945a23a0" category="paragraph"><block ref="5ffa75198edfa553c162f3b9945a23a0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="41402cfc6490d3bf582b8a14ff8bfcbe" category="list-text">在UserOperationConttext區域中、填入SnapCenter 「資訊」認證和角色、然後按一下「執行」。</block>
  <block id="2e1aa1ca38ffa5e45db5da3276238eac" category="paragraph"><block ref="2e1aa1ca38ffa5e45db5da3276238eac" category="inline-image-macro-rx" type="image"></block></block>
  <block id="18e649ac855810eb5b8a774b3fab5f5c" category="list-text">在下方的「回應」本文中、您可以看到權杖。執行備份程序時、請複製權杖文字以進行驗證。</block>
  <block id="32d5d8e51cafb2b4d387df356fe41955" category="paragraph"><block ref="32d5d8e51cafb2b4d387df356fe41955" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9a1a34831e3e917e934e09eb9402b4d6" category="section-title">執行SnapCenter 資料庫的還原備份</block>
  <block id="3d8b8b9e239f00e8fbddb0437a5c5659" category="paragraph">接下來前往Swagger頁面上的Disaster Recovery區域、開始SnapCenter 執行VMware還原程序。</block>
  <block id="5fd8196e8aa6d444acf7a65f639a6085" category="list-text">按一下「Disaster Recovery（災難恢復）」區域即可展開。</block>
  <block id="7ec34046162f53040f7ca7c8a78c4b17" category="paragraph"><block ref="7ec34046162f53040f7ca7c8a78c4b17" category="inline-image-macro-rx" type="image"></block></block>
  <block id="14245d6803dae3fc2cab0fe1fd18565e" category="list-text">展開「/4.6/dissterrecovery /server/Backup」區段、然後按一下「Try it out（試用）」。</block>
  <block id="b5f8e4e588ebd761591d02cb02f2a5dd" category="paragraph"><block ref="b5f8e4e588ebd761591d02cb02f2a5dd" category="inline-image-macro-rx" type="image"></block></block>
  <block id="aad454707845382aef2a040acc30177a" category="list-text">在「SmDRBackup Request」區段中、新增正確的本機目標路徑、然後選取「執行」以開始SnapCenter 備份整個過程中的資料庫和組態。</block>
  <block id="949b4a3f3887b0d48d721acc506fb82e" category="admonition">備份程序不允許直接備份到NFS或CIFS檔案共用區。</block>
  <block id="ef97a1ec7f6c4c7d84f053938ce48398" category="paragraph"><block ref="ef97a1ec7f6c4c7d84f053938ce48398" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5f638b2ae24161dbfa69705afbf177bd" category="section-title">從SnapCenter 無法監控備份工作</block>
  <block id="03322e4ba2c5a628edfa27eb5a52741b" category="paragraph">登入SnapCenter 功能以在開始資料庫還原程序時檢閱記錄檔。在「Monitor（監控）」區段下、您可以檢視SnapCenter 有關支援伺服器災難恢復備份的詳細資料。</block>
  <block id="82c39eed34769992987a93ed6b12a97f" category="paragraph"><block ref="82c39eed34769992987a93ed6b12a97f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ac753614a3d47f00caddc06fd2dc281f" category="section-title">使用XCOPY公用程式將資料庫備份檔案複製到SMB共用區</block>
  <block id="d2a0be1c4b7f47c09b612fb78a28adee" category="paragraph">接下來、您必須將備份從SnapCenter 位於支援服務器上的本機磁碟機移至CIFS共用區、以便SnapMirror將資料複製到位於AWS FSX執行個體上的次要位置。使用xcopy搭配保留檔案權限的特定選項。</block>
  <block id="fa13c8e8caa807a78a4301f1cfa0ec2f" category="paragraph">以系統管理員身分開啟命令提示字元。在命令提示字元中輸入下列命令：</block>
  <block id="0b55c8177ba39a322f35975c0c3bd3ba" category="section-title">技能與知識</block>
  <block id="b1adf7ef88c9564fb1f6c97bf42dca5c" category="paragraph">若要存取Cloud Volumes Service AWS的功能、必須具備下列技能和資訊：</block>
  <block id="7b83d82f99126fdb6efaa234f31683f5" category="list-text">存取並瞭解VMware與ONTAP 內部部署環境。</block>
  <block id="39a8abb00c1f9d982e3a29b4baec67f2" category="list-text">存取及瞭解VMware Cloud和AWS。</block>
  <block id="eaad72d3a50e4be3e11d36792eb96d62" category="list-text">存取AWS和Amazon FSX ONTAP 功能並瞭解其知識。</block>
  <block id="25e65b652ca97821fa49aa9571b2b54a" category="list-text">瞭解您的SDDC和AWS資源。</block>
  <block id="18334368a9f4fce73ca297bdd4be123a" category="list-text">瞭解內部部署與雲端資源之間的網路連線能力。</block>
  <block id="f917b7afd251e67bbdf50fa466a9918e" category="list-text">具備災難恢復情境的工作知識。</block>
  <block id="77d0638c77df28bd77c058b3da580702" category="list-text">瞭解部署在VMware上的應用程式。</block>
  <block id="9ef15415f400d1d1a7b2c4d3e8879124" category="section-title">管理</block>
  <block id="99be46c7a7d783d36552f0f11df8cd5e" category="paragraph">無論是在內部部署或雲端上與資源互動、使用者和管理員都必須有能力且有權根據自己的授權、在需要時、視需要配置這些資源。您在內部部署系統（包括ONTAP VMware和VMware）和雲端資源（包括VMware Cloud和AWS）上的角色和權限互動、對於成功部署混合雲而言、是非常重要的。</block>
  <block id="e5d4baff0167d033367d67396f5608f6" category="paragraph">下列管理工作必須就緒、才能在ONTAP AWS和FSX ONTAP 上建構VMware與VMware內部部署的DR解決方案、以及VMware Cloud。</block>
  <block id="e6833d473d476a99c7ec8095a5bfe8df" category="list-text">角色與帳戶可進行下列資源配置：</block>
  <block id="297c8005623a7f22aad3d141e82fabb5" category="list-text">支援儲存資源ONTAP</block>
  <block id="864d5ea26def3831e53731dc58671672" category="list-text">VMware VM、資料存放區等</block>
  <block id="61b883742c54e0000affbbf61cecb00a" category="list-text">AWS VPC和安全性群組</block>
  <block id="cae667335742a0f5e8a41bb0caa73e4c" category="list-text">內部部署VMware環境與ONTAP VMware</block>
  <block id="7098bf260c6533f1ebf70f5b9bb041b0" category="list-text">VMware Cloud環境</block>
  <block id="eca5f84e846df7323fccde83f4ff44d5" category="list-text">Amazon for FSX for ONTAP Sfor Sf供 檔案系統使用</block>
  <block id="29b34be64d30233d5ed6d4f314db7483" category="list-text">內部部署環境與AWS之間的連線能力</block>
  <block id="c89c49a63ff46b95a3a1930093133477" category="list-text">為AWS VPC提供連線功能</block>
  <block id="9301a9f205ba883a750d8c90b33c2bbc" category="paragraph">VMware虛擬環境包含ESXi主機、VMware vCenter Server、NSX網路及其他元件的授權、如下圖所示。所有的授權都是不同的、因此瞭解基礎元件如何使用可用的授權容量是很重要的。</block>
  <block id="42094e9e4a0f05012b8d6753300a1657" category="section-title">ESXi主機</block>
  <block id="1d50ac197ef032b2bc2e46d8e2e64598" category="paragraph">VMware環境中的運算主機會與ESXi一起部署。在不同容量層級的vSphere授權下、虛擬機器可利用每個主機上的實體CPU、以及適用的授權功能。</block>
  <block id="43e02e05b2879c1406a010bf6a28f8f7" category="section-title">VMware vCenter</block>
  <block id="05f79f8867c02153173be8abc21ae61a" category="paragraph">管理ESXi主機和儲存設備是VMware管理員在vCenter Server上使用的眾多功能之一。從VMware vCenter 7.0開始、有三種VMware vCenter版本可供使用、視授權而定：</block>
  <block id="f958b6a3f3407168711a82d395fb4ac7" category="list-text">vCenter Server Essentials</block>
  <block id="a0301fdeb61b558341af142a9f2dd3aa" category="list-text">vCenter Server基礎</block>
  <block id="62a846eee92143dee42cae576208c443" category="list-text">vCenter Server Standard</block>
  <block id="e44df2b6e256fb033bf0234d942a29f3" category="paragraph">VMware NSX提供系統管理員所需的靈活度、以啟用進階功能。功能會根據授權的NSxT-T Edition版本而啟用：</block>
  <block id="9e8b160226c9fe22a910c782ce5076e2" category="list-text">專業人員</block>
  <block id="9b6545e4cea9b4ad4979d41bb9170e2b" category="list-text">進階</block>
  <block id="1330271d87fae19afa4e7be5cd94b9f8" category="list-text">遠端辦公室/分公司</block>
  <block id="88793829da8796f676eaebd57e42009d" category="paragraph">NetApp ONTAP 功能授權是指系統管理員如何存取NetApp儲存設備內的各種功能。授權是一或多個軟體授權的記錄。安裝授權金鑰（也稱為授權代碼）可讓您在儲存系統上使用特定功能或服務。例如ONTAP 、支援所有主要的產業標準用戶端傳輸協定（NFS、SMB、FC、FCoE、iSCSI、 和NVMe / FC）。</block>
  <block id="90a29bf269cfe6c256d42b29776d14dd" category="paragraph">以套件形式發出的支援功能授權、每個套件都包含多項功能或單一功能。Data ONTAP套件需要授權金鑰、安裝金鑰可讓您存取套件中的所有功能。</block>
  <block id="e4b843c32b9db50414c1dfbad0c4d1c0" category="paragraph">授權類型如下：</block>
  <block id="0f00a6a817b378adf16de8d25fbf24fa" category="list-text">*節點鎖定授權。*安裝節點鎖定授權可讓節點享有授權功能。若要讓叢集使用授權功能、至少必須授權一個節點才能使用此功能。</block>
  <block id="52db1a3edfedfc7015c35209e22f04c2" category="list-text">*主/站台授權。*主或站台授權不受限於特定系統序號。當您安裝站台授權時、叢集中的所有節點都有權使用授權功能。</block>
  <block id="b2aa6f86c442a3ce1bedb4a83498fcc6" category="list-text">*展示/暫用授權。*展示或暫用授權會在特定時間後過期。此授權可讓您在不購買授權的情況下、嘗試特定軟體功能。</block>
  <block id="c6009ee65fbe56a5eed91a0a06f3a1b5" category="list-text">*容量授權（ONTAP Select 僅供參考及FabricPool 參考）* ONTAP Select 根據使用者想要管理的資料量、授予某個執行個體授權。從推出《示例》9.4開始ONTAP 、要求將容量授權用於第三方儲存層（例如AWS）FabricPool 。</block>
  <block id="13b92bafad23a87622890420ed0b860b" category="paragraph">支援資料保護作業需要數個授權。SnapCenter安裝的不完整授權類型SnapCenter 取決於您的儲存環境和您想要使用的功能。《VMware應用程式、資料庫、檔案系統及虛擬SnapCenter 機器的功能保護標準版」。在SnapCenter 將儲存系統新增至效益管理系統之前、您必須先安裝一SnapCenter 或多個版本的功能認證。</block>
  <block id="c2aa46e5e57aae7e4f4c969c417f1238" category="paragraph">若要保護應用程式、資料庫、檔案系統和虛擬機器、FAS 您必須在您的VMware或AFF VMware儲存系統上安裝標準控制器型授權、或在ONTAP Select 您的VMware及Cloud Volumes ONTAP VMware平台上安裝標準容量型授權。</block>
  <block id="14c2700881a435ad41069af9e8ee6f85" category="paragraph">請參閱SnapCenter 本解決方案的下列「還原備份先決條件」：</block>
  <block id="96b3493b2e1844322d28e845c314e10b" category="list-text">在內部部署ONTAP 的支援系統上建立一個Volume和SMB共用區、以找出備份的資料庫和組態檔案。</block>
  <block id="f39931d0fa94c8e0cb577222f77fb09d" category="list-text">內部部署ONTAP 的SnapMirror系統與AWS帳戶中的FSX或CVO之間的SnapMirror關係。用於傳輸包含備份SnapCenter 之還原資料庫和組態檔案的快照。</block>
  <block id="d2727816fa1087ddac7dff69e35c5536" category="section-title">MS SQL</block>
  <block id="f9e005542c2e103eede9db2dfe82bdc7" category="paragraph">在本解決方案驗證中、我們使用MS SQL來示範災難恢復。</block>
  <block id="ed94f710e6ae715e2f17c5670d6bf092" category="paragraph">如需MS SQL和NetApp ONTAP 功能的最佳實務做法詳細資訊、請參閱<block ref="1ed6e40008e985821d1338a60f7ccab3" category="inline-link-rx"></block>。</block>
  <block id="877ee5bcf7f0335c93ce9f231f44f195" category="paragraph">在本解決方案驗證中、我們使用Oracle來示範災難恢復。如需Oracle與NetApp ONTAP 的最佳實務做法詳細資訊、請參閱<block ref="3b13b5361a3a7b7e48b79b29a907e9fc" category="inline-link-rx"></block>。</block>
  <block id="05241239c2e205951eabc51d0b39de96" category="section-title">Veeam</block>
  <block id="cf575d98d37c3423857f91c318d883e7" category="paragraph">在本解決方案驗證中、我們使用Veeam來示範災難恢復。如需更多有關Veeam與NetApp ONTAP 的最佳實務做法資訊、請參閱<block ref="69659c9961c1e42b0f8742562f24fdfa" category="inline-link-rx"></block>。</block>
  <block id="59288c543af9b26fa84b24054d3be8dc" category="paragraph">您必須能夠執行下列工作：</block>
  <block id="f35a1ddfb2f9b2cac114bd32ce5bbbab" category="list-text">部署及設定網域服務。</block>
  <block id="71877c1e84cfa72072c46494d86a8ee7" category="list-text">在ONTAP 指定的VPC中、根據應用程式需求部署FSX。</block>
  <block id="9135a2c6ac5c27bd10c50337c5a89f26" category="list-text">在AWS運算閘道上設定VMware Cloud、以允許來自FSX ONTAP 的流量。</block>
  <block id="8a401f5d4b33a44bd1812ff7ead2248d" category="list-text">設定AWS安全性群組、以便在AWS子網路上的VMware Cloud與ONTAP 部署FSX支援服務的AWS VPC子網路之間進行通訊。</block>
  <block id="2e31cdf7daad1ca06d6642765fa13252" category="section-title">VMware Cloud</block>
  <block id="f7f38aee276941a8501ab3a4788fb838" category="list-text">在AWS SDDC上設定VMware Cloud。</block>
  <block id="08aa379cc2bcb108397d323bd5732f6c" category="section-title">Cloud Manager帳戶驗證</block>
  <block id="17d24c2f3d504e509ec34ba87bfea6a5" category="paragraph">您必須能夠使用NetApp Cloud Manager來部署資源。若要驗證是否可以、請完成下列工作：</block>
  <block id="2ee5d6132c6433861745857e6af68778" category="inline-link">註冊Cloud Central</block>
  <block id="604e59aa26a0b211909e4b9590685eb1" category="list-text"><block ref="35c2f2ba3f068c3df62b94b779d38cce" category="inline-link-rx"></block> 如果您還沒有。</block>
  <block id="e7ef0ccc08f963a97d6ab9c3aabc5081" category="inline-link">登入Cloud Manager</block>
  <block id="5ec677c5c014e60203e82de8cbed20e4" category="list-text"><block ref="77549d8461eff5ea7726f72f7e171b7c" category="inline-link-rx"></block>。</block>
  <block id="78e80a35b7d01f404398eea432dd9654" category="inline-link">設定工作區和使用者</block>
  <block id="6693afd5aef7c87168fb40b34d61e795" category="list-text"><block ref="491866e862424f2a10f9441373484bc0" category="inline-link-rx"></block>。</block>
  <block id="e7a9cd1dc4bf0c230d0684e18369d70d" category="inline-link">建立連接器</block>
  <block id="821d88deb5e031a9587e5a8e00abe556" category="list-text"><block ref="b3797d3b448c35004d47db91b5cf65cf" category="inline-link-rx"></block>。</block>
  <block id="4c0f2b07e3034da6a2b901197cec7210" category="paragraph">擁有AWS帳戶之後、您必須能夠執行下列工作：</block>
  <block id="7d8207e3bfa061fd6c5b1389d79e23e4" category="list-text">建立IAM管理使用者、以便為NetApp ONTAP 支援檔案系統配置Amazon FSX。</block>
  <block id="7984cdcb84b94f3ec5af3c2aa0bc9f9c" category="section-title">組態先決條件</block>
  <block id="799b279302dc2106f49a0c61994a42a1" category="paragraph">由於客戶擁有不同的拓撲、本節著重於從內部部署到雲端資源之間進行通訊所需的連接埠。</block>
  <block id="dee55c33a91e43d371aa8eab0ee8968e" category="section-title">必要的連接埠和防火牆考量</block>
  <block id="34e0f9db6d0a94f20e464420fb481570" category="paragraph">下表說明整個基礎架構必須啟用的連接埠。</block>
  <block id="28c5fdd36289c2258f08118f41c54729" category="paragraph">如需Veeam備份與複寫軟體所需連接埠的更完整清單、請參閱<block ref="2a9b4a1873abbc6819ad7073e9ebc1a5" category="inline-link-rx"></block>。</block>
  <block id="2a975bb27423e33e6c65cb2e2b14db28" category="paragraph">如需SnapCenter 更完整的連接埠需求清單、請參閱<block ref="4939c26301b3a22bfb3c0a6725311b88" category="inline-link-rx"></block>。</block>
  <block id="8a042a39d5b3b0e7e0554c5af7abd76b" category="paragraph">下表列出Microsoft Windows Server的Veeam連接埠需求。</block>
  <block id="5da618e8e4b89c66fe86e32cdafde142" category="cell">寄件者</block>
  <block id="e12167aa0a7698e6ebc92b4ce3909b53" category="cell">至</block>
  <block id="60aaf44d4b562252c04db7f98497e9aa" category="cell">連接埠</block>
  <block id="f4c6f851b00d5518bf888815de279aba" category="cell">附註</block>
  <block id="52045ab804b1b913874ef04c2c3a2f69" category="cell">備份伺服器</block>
  <block id="de6900dd0f213be9d369252ce490a1df" category="cell">Microsoft Windows伺服器</block>
  <block id="b136ef5f6a01d816991fe3cf7a6ac763" category="cell">TCP</block>
  <block id="67f7fb873eaf29526a11a9b7ac33bfac" category="cell">445</block>
  <block id="3f8c4ba1591441de01c30814d6be96cb" category="cell">部署Veeam備份與複寫元件所需的連接埠。</block>
  <block id="a34fcb59deecb10582ae58c505df58ba" category="cell">備份Proxy</block>
  <block id="fa3060edb66e6ff4507886f9912e1ab9" category="cell">6160</block>
  <block id="a615435ab6eb1aac4a4b4c4ebe2a89e9" category="cell">Veeam Installer服務使用的預設連接埠。</block>
  <block id="480ddf908a09bb49e2eb46b2293d83e0" category="cell">備份儲存庫</block>
  <block id="84c456c47f1859be98a88fa53ffca994" category="cell">2500至3500</block>
  <block id="1622c3ddec12802a4bc6cbb96c7b1b49" category="cell">作為資料傳輸通道及收集記錄檔的預設連接埠範圍。</block>
  <block id="a31f402016255891ea5a6010567d0c28" category="cell">掛載伺服器</block>
  <block id="6aaba9a124857622930ca4e50f5afed2" category="cell">6162</block>
  <block id="f36e2d75f4071e4e994fdbc77c14ddb0" category="cell">Veeam Data Mover使用的預設連接埠。</block>
  <block id="510f315f3436af1e5ec4cb22dd263070" category="admonition">針對工作使用的每個TCP連線、會指派此範圍的一個連接埠。</block>
  <block id="655a5fe10451fb66645cbcdec5034698" category="paragraph">下表列出Linux伺服器的Veeam連接埠需求。</block>
  <block id="b5d9f1a9fbf0fb75f6765f140eb5774f" category="cell">Linux伺服器</block>
  <block id="28c991d1c426febedd1596fd29a3f864" category="cell">連接埠是從主控台到目標Linux主機的控制通道。</block>
  <block id="a4fda10bbaa8015596c2c1c1dd6f1a36" category="paragraph">下表列出Veeam備份伺服器連接埠需求。</block>
  <block id="4197adf45342f775880cf0b40b2bebe4" category="cell">HTTPS、TCP</block>
  <block id="ff48f6174c8c54c3faa04ebcf25b720d" category="cell">用於連線至vCenter Server的預設連接埠。連接埠是從主控台到目標Linux主機的控制通道。</block>
  <block id="dad95acf5318650271f0853ca3c36a1a" category="cell">裝載Veeam備份與複寫組態資料庫的Microsoft SQL Server</block>
  <block id="8fb5f8be2aa9d6c64a04e3ab9f63feee" category="cell">1443</block>
  <block id="dc0848552680aa2839c317b54853b6c8" category="cell">用於與部署Veeam備份與複寫組態資料庫的Microsoft SQL Server通訊的連接埠（如果您使用Microsoft SQL Server預設執行個體）。</block>
  <block id="1cdaa0286d1e5b2da16bb4a4d56030e5" category="cell">所有備份伺服器的名稱解析DNS伺服器</block>
  <block id="8643c8e2107ba86c47371e037059c4b7" category="cell">3389</block>
  <block id="2914ea759530f85f84d8d97088f4c0fb" category="cell">用於與DNS伺服器通訊的連接埠</block>
  <block id="462cb0982d9c6d8b64cd1a92197cad0e" category="admonition">如果您使用vCloud Director、請務必在基礎vCenter Server上開啟連接埠443。</block>
  <block id="5fd55c0224ae845943b259eaa37fa9de" category="paragraph">下表列出Veeam備份Proxy連接埠需求。</block>
  <block id="e564618b1a0f9a0e5b043f63d43fc065" category="cell">6210</block>
  <block id="06c6eec6c18e0d75ea5c6853a2397d90" category="cell">Veeam備份VSS整合服務使用的預設連接埠、可在SMB檔案共用備份期間擷取VSS快照。</block>
  <block id="dd46e35ec3bd7632e2b6924b4ace5592" category="cell">預設的VMware Web服務連接埠、可在vCenter設定中自訂。</block>
  <block id="67f0bc6c760260e8ecb1e44fc5337bd6" category="paragraph">下表列出SnapCenter 了各個端口的要求。</block>
  <block id="bd9f125b279a19f0d5b7f09c7d793d35" category="cell">連接埠類型</block>
  <block id="d7ca8612b857419959ee2c089e5be08c" category="cell">系統管理連接埠SnapCenter</block>
  <block id="0e8433f9a404f1f3ba601c14b026d321" category="cell">HTTPS</block>
  <block id="202ed3792e2cfa7318b12ead83763c37" category="cell">8146.</block>
  <block id="a1a3a7ab0e2e0b654e17bb8a2e57e9e5" category="cell">此連接埠可用於SnapCenter 在不含故障的用戶端（SnapCenter 亦即「故障」使用者）與SnapCenter 「故障」伺服器之間進行通訊。也可用於從外掛程式主機到SnapCenter 該伺服器的通訊。</block>
  <block id="18622e175ff22b2375f9cbc2314b3285" category="cell">WSSMCore通訊連接埠SnapCenter</block>
  <block id="bb68b5529560433e58ff13eb45622724" category="cell">此連接埠可用於SnapCenter 在Sfor the Sfor Server和SnapCenter 安裝了該插件的主機之間進行通訊。</block>
  <block id="f79093a340ccf8139d6e585381acc44c" category="cell">Windows外掛程式主機、安裝</block>
  <block id="a1639b6147c7f85402852464ce33b9ae" category="cell">135、445</block>
  <block id="4b790f3dbcd2d867091d8fbf3b63026f" category="cell">這些連接埠用於SnapCenter 在安裝外掛程式的伺服器與主機之間進行通訊。連接埠可在安裝後關閉。此外、Windows規範服務會搜尋連接埠49152到6555、這些連接埠必須開啟。</block>
  <block id="da8fa0760683502b8b15e2d8f992b780" category="cell">Linux外掛程式主機、安裝</block>
  <block id="765553e6c7ac8592c389acb9878a050a" category="cell">SSH</block>
  <block id="e541d805fe886aded7cfb18984fba335" category="cell">這些連接埠用於SnapCenter 在安裝外掛程式的伺服器與主機之間進行通訊。這些連接埠是SnapCenter 由資訊技術所使用、可將外掛套件二進位檔複製到Linux外掛主機。</block>
  <block id="8ffa3ad47599004a1c67f905da7456c0" category="cell">適用於Windows / Linux的程式套件SnapCenter</block>
  <block id="0c0cfd9478c6551fbfe74a7acb6fc037" category="cell">8145</block>
  <block id="9b52abdc2eaa620c3f1c7588679b8764" category="cell">此連接埠可用於SMCore與SnapCenter 安裝了該插件的主機之間的通訊。</block>
  <block id="7c1239972879fe0b69b4bb6d5c9a743e" category="cell">VMware vSphere vCenter Server連接埠</block>
  <block id="4047860556fa008e56adfadd36f5b7af" category="cell">此連接埠用於SnapCenter VMware vSphere的VMware vSphere的VMware外掛程式與vCenter伺服器之間的通訊。</block>
  <block id="87db2cdf992c6481194f67a3c24f2d31" category="cell">VMware vSphere連接埠適用的外掛程式SnapCenter</block>
  <block id="edf0320adc8658b25ca26be5351b6c4a" category="cell">8144</block>
  <block id="397d2ce87a0d127486b8fa20c5f3cdb9" category="cell">此連接埠可用於從vCenter vSphere Web用戶端和SnapCenter 從VMware Server進行通訊。</block>
  <block id="f201deaeba7cc565253f52d974008543" category="summary">若要將應用程式VM和資料庫Volume容錯移轉至執行於AWS的VMware Cloud Volume服務、您必須同時安裝SnapCenter 並設定執行中的VMware Server和Veeam備份與複寫伺服器執行個體。容錯移轉完成後、您也必須設定這些工具、以便恢復正常的備份作業、直到規劃並執行內部部署資料中心的容錯回復為止。</block>
  <block id="ee51a40e9d2538b4e33b441d66869c24" category="doc">雲端備份工具與組態</block>
  <block id="a514f4da2fec40b52d89613d7b3854fa" category="section-title">部署次要Windows SnapCenter 功能伺服器</block>
  <block id="dba3e8475ef38dcd147447c5730c2f7c" category="paragraph">支援VMware Cloud SDDC部署的VMware伺服器、或安裝在VPC中的EC2執行個體上、並可透過網路連線至VMware Cloud環境。SnapCenter</block>
  <block id="1a297f32b70010f208d00a4f58855fec" category="paragraph">NetApp支援網站提供支援軟體、可安裝在位於網域或工作群組的Microsoft Windows系統上。SnapCenter如需詳細的規劃指南和安裝指示、請參閱<block ref="92e6fa322f689d7da93690560d0b41bd" category="inline-link-rx"></block>。</block>
  <block id="4adffd967d9bbc0f71287e67a568e0ae" category="paragraph">您可以在找到SnapCenter 該軟件<block ref="6c76039d71cd5c9473efac721f24ac89" category="inline-link-rx"></block>。</block>
  <block id="224efa116a105cfd586d82f09e7cd1fe" category="section-title">設定次要Windows SnapCenter 靜態伺服器</block>
  <block id="9ec64430f94c7b2f3824857182b8ff9d" category="paragraph">若要還原鏡射至FSXS庫ONTAP 的應用程式資料、您必須先執行內部部署SnapCenter 的整套還原資料庫。完成此程序後、將重新建立與VM的通訊、並使用FSX還原ONTAP 做為主要儲存設備來恢復應用程式備份。</block>
  <block id="b502974234450ceabf2344f2a3e45f7a" category="paragraph">若要達成此目標、您必須在SnapCenter the努力伺服器上完成下列項目：</block>
  <block id="13d56fa22f861d817f01e34bd0dff18d" category="list-text">將電腦名稱設定為與原始內部部署SnapCenter 的內部部署伺服器相同。</block>
  <block id="87da734902f9a20ba518a732df6228fc" category="list-text">設定網路功能、以便與VMware Cloud和FSX ONTAP 支援例項進行通訊。</block>
  <block id="7f2fdcaa4d368c36731db2bdf5eb79a9" category="list-text">完成還原SnapCenter 整套程序以還原整個資料庫。</block>
  <block id="b9f6e6c037c51c372d51f5f4254d76cc" category="list-text">確認SnapCenter 支援功能為災難恢復模式、以確保FSX現在是備份的主要儲存設備。</block>
  <block id="b8864a7697abc4d58d337a7803f7ca8e" category="list-text">確認已與還原的虛擬機器重新建立通訊。</block>
  <block id="6b9d280aee667ad2407fdb311dc034cb" category="inline-link-macro">資料庫還原程序SnapCenter</block>
  <block id="4757e8da6d3b5465a3ae91d8390db6d9" category="paragraph">如需完成這些步驟的詳細資訊、請參閱「到」一節 <block ref="fe5a34b461345b6f910f9d5fd86fde40" category="inline-link-macro-rx"></block>。</block>
  <block id="b827704a3bb22b3992173e0581a1c28b" category="paragraph">您可以將Veeam備份與複寫伺服器安裝在AWS或EC2執行個體上VMware Cloud的Windows伺服器上。如需詳細的實作指南、請參閱<block ref="1e2565ba3e6473b62b1909934037e810" category="inline-link-rx"></block>。</block>
  <block id="e271ecc9b2a2050b58d0914d62a2325b" category="paragraph">若要還原已備份至Amazon S3儲存設備的虛擬機器、您必須在Windows伺服器上安裝Veeam伺服器、並將其設定為與VMware Cloud、FNSX ONTAP 及包含原始備份儲存庫的S3儲存庫進行通訊。此外、還必須在FSX ONTAP 更新上設定新的備份儲存庫、以便在VM還原後進行新的備份。</block>
  <block id="d569da58bc917eb906ada72f76bf1030" category="paragraph">若要執行此程序、必須完成下列項目：</block>
  <block id="6443544e723bdb5a8e0b2e300ce4e821" category="list-text">設定網路功能、以便與VMware Cloud、FSX ONTAP 功能區及內含原始備份儲存庫的S3儲存區進行通訊。</block>
  <block id="d19ea991ccb7ded9582c07fa062fb3b4" category="list-text">將FSXSf2 ONTAP 上的SMB共用區設定為新的備份儲存庫。</block>
  <block id="adf79b820407599132e907adb994746d" category="list-text">將原本作為橫向擴充備份儲存庫一部分的S3儲存庫掛載到內部部署。</block>
  <block id="a706ef66660617fcf4a5aeb2e6f6d76b" category="list-text">還原VM之後、請建立新的備份工作來保護SQL和Oracle VM。</block>
  <block id="28850f35c95cf12d5e28a35c2fdd8e5d" category="inline-link-macro">使用Veeam完整還原還原應用程式VM</block>
  <block id="5ad23c05d5054f7daf749b3a328903be" category="paragraph">如需使用Veeam還原VM的詳細資訊、請參閱一節 <block ref="145e19bb138e7c87e2d24d78a1c11e93" category="inline-link-macro-rx"></block>。</block>
  <block id="5e86473217a757f4702d326176983651" category="cell">2022年7月28日</block>
  <block id="e325d40f0256e06aa0a0f1c795ea68ee" category="cell">新增SnapCenter 適用於AWS/VMC（與來賓連線的儲存設備）的DR解決方案、搭配使用VMware和Veeam</block>
  <block id="af2a34190d0729a3b5a2ed9d50d9e399" category="cell">採用VMware解決方案的混合式多重雲端內容：每個超大規模擴充系統的登陸頁面、以及可用解決方案（使用案例）內容的涵蓋範圍</block>
  <block id="9c00744e128712d7626e5c00edcfeaa1" category="cell">建立登陸頁面、以便更妥善地組織VMware虛擬化與混合式多雲的內容</block>
  <block id="5424d7e641fa7962888e16022445e1ae" category="cell">利用VMware內容建立混合式多雲環境、以提供虛擬化環境和來賓連線儲存選項</block>
  <block id="e307db07b3975fef922a80d07455ee5e" category="cell">資料庫</block>
  <block id="6c6fb0f7e5fe3a7242028f22d2792fca" category="cell">新增企業應用程式和資料庫的部落格區段至NetApp解決方案區塊。新增兩個部落格至資料庫部落格。</block>
  <block id="c99ec32d06b1f19699d82b1b34a80ca0" category="paragraph"><block ref="c99ec32d06b1f19699d82b1b34a80ca0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="119d7589ae9a38050e960d08d321b275" category="list-text">作爲NFS補充資料存放區的支援資料（ANF）Azure NetApp Files</block>
  <block id="0f9904cf8a560b1c4309e4cf7750b7b9" category="admonition">1 - ANF作為AVS的補充NFS資料存放區目前位於Public Preview中。深入瞭解<block ref="5b3a31b4442bd8ea3aebfc18fe8411e5" category="inline-link-rx"></block>。</block>
  <block id="efe20646a1138596f4f7b7f387cae230" category="list-text">將CVS當成NFS補充資料存放區Cloud Volumes Service</block>
  <block id="e7e05ca1857ad4b0e930d0672e7657c4" category="inline-link-macro">作爲NFS補充資料存放區的CVS（CVS）Cloud Volumes Service</block>
  <block id="8bde1a7decedb03d4e5ae4c5b6c9f5d3" category="paragraph">深入瞭解 <block ref="d54e964e36cd6cf7ab87b4b420d12109" category="inline-link-macro-rx"></block>。</block>
  <block id="58098d451cf2728b0542acd542f9000b" category="cell">*補充NFS Datastor*</block>
  <block id="51b0e38e5ec7edbe37b6672987ce5f2e" category="paragraph">深入瞭解NetApp為三（3）個主要超大規模擴充系統帶來的功能、包括NetApp作為來賓連線儲存設備或輔助NFS資料存放區、移轉工作流程、延伸/突增至雲端、備份/還原及災難恢復。</block>
  <block id="ccb4d111a650d51ca9a8feb2542610be" category="paragraph">NetApp儲存設備可在三大大型超大規模擴充系統中的每一種使用方式（例如猜測已連線或作為補充NFS資料存放區）、有多種方式可供使用。</block>
  <block id="d22e98327d29984cdf19ebfeeb53bd99" category="paragraph">深入瞭解NetApp為AWS VMware Cloud（VMC）帶來的功能：從NetApp做為來賓連線儲存設備或補充NFS資料存放區、移轉工作流程、延伸/突增至雲端、備份/還原及災難恢復。</block>
  <block id="e3dea11e8144be98f637687e2a2cf316" category="paragraph">NetApp儲存設備可在AWS VMC中以多種方式使用、例如猜測連接的或補充的NFS資料存放區。</block>
  <block id="206616b83a19162051802c3823da0f7c" category="paragraph">NetApp也提供解決方案、可將儲存資源配置為客體內（來賓連線）儲存設備、或是做為每個超大規模擴充程式中的補充NFS資料存放區。所有解決方案均與VMware雲端工作負載分類一致。這些分類包括：</block>
  <block id="04e248dee456b1f3910d53450d745125" category="list-text">運用雲端輔助技術來現代化應用程式。</block>
  <block id="77d50dd2ce4e2531e14f13434a560e7d" category="section-title">瞭解補充NFS儲存選項的重要性</block>
  <block id="de8529127f85189767876e4d9a97427c" category="paragraph">雖然VMware在任何雲端上都能為每位客戶提供獨特的混合式功能、但有限的補充NFS儲存選項限制了它對於儲存繁重工作負載的組織的效用。由於儲存設備直接與主機相連、因此擴充儲存設備的唯一方法是新增更多主機、而且儲存密集型工作負載的成本會增加35%至40%以上。這些工作負載只需要額外的儲存容量、而非額外的馬力。但這表示需要支付額外的主機費用。</block>
  <block id="af68f7a1e7ca322318bf949baba2129e" category="inline-link-macro">使用ANF和Jetstream（補充NFS資料存放區）進行災難恢復</block>
  <block id="73c807da78ef06fdb99e2307b5d8cb57" category="list-text"><block ref="73c807da78ef06fdb99e2307b5d8cb57" category="inline-link-macro-rx"></block></block>
  <block id="f93c390413608eaad8cc43b29f8073d0" category="inline-link-macro">使用ANF和CVO（與來賓連線的儲存設備）進行災難恢復</block>
  <block id="233b8f979ad627e56656fbdd647fdc2b" category="list-text"><block ref="233b8f979ad627e56656fbdd647fdc2b" category="inline-link-macro-rx"></block></block>
  <block id="5f2df3110b7088a1c8d1659ffb728f46" category="doc">使用CVO和AVS（與來賓連線的儲存設備）進行災難恢復</block>
  <block id="9a130cd816dc8be85c4f198310f16e4c" category="paragraph">深入瞭解NetApp為Azure VMware解決方案（AVS）帶來的功能：從NetApp做為來賓連線儲存設備或補充NFS資料存放區、到移轉工作流程、延伸/突增至雲端、備份/還原及災難恢復、皆可從中獲益。</block>
  <block id="465fe02ad52f12cc5844200de029e385" category="paragraph">NetApp儲存設備可在Azure AVS中以多種方式使用、無論是作為猜測連接的或作為補充NFS資料存放區。</block>
  <block id="827f15aa97cbfccd71eb2ba3ac7d4eac" category="doc">Azure中的補充NFS資料存放區選項</block>
  <block id="d6e093aa5c1e7500fe79b8732c410c91" category="paragraph">此外、您也可以部署多個資料存放區、將虛擬機器放入適當的資料存放區、並指派所需的服務層級來滿足工作負載效能需求、藉此模擬內部部署模式。Azure NetApp Files藉由多重傳輸協定支援的獨特功能、來賓儲存設備是SQL和Oracle等資料庫工作負載的額外選項、同時也使用補充的NFS資料存放區功能來容納剩餘的VMDK。此外、原生快照功能可讓您執行快速備份和精細還原。</block>
  <block id="402936a0724fed1eeed39a4791eae422" category="paragraph">從高層面來看、此架構說明如何在內部部署環境和Azure之間實現混合雲連線和應用程式可攜性。同時也說明Azure NetApp Files 如何使用VMware作為補充NFS資料存放區、以及將其作為來賓虛擬機器的客體內儲存選項、以供Azure VMware解決方案代管。</block>
  <block id="66433e0e715221ebed495642af8005b7" category="doc">適用於GCP的NetApp補充NFS資料存放區選項</block>
  <block id="ce2d3ab910808452912b4cae1adc8bd7" category="paragraph">深入瞭解NetApp為Google Cloud Platform（GCP）Google Cloud Virtualization Engine（GCVE）帶來的功能、這些功能可從NetApp作為連接來賓的儲存設備或補充NFS資料存放區、一起移轉工作流程、延伸/突增至雲端、備份/還原及災難恢復。</block>
  <block id="275ed895f3f409270670131f7369b1ac" category="paragraph">NetApp儲存設備可在GCP GCVG內以多種方式使用、無論是作為猜測連接或作為補充NFS資料存放區。</block>
  <block id="55b61b011b735ba396a8dbd7e3f95f20" category="cell">2022年5月8日</block>
  <block id="678582eb0cbbe0e063e618d230b63223" category="cell">*主機設定*</block>
  <block id="dfe49b73bd7e747701b49f9ed21ea2d6" category="cell">* NetApp推薦價值*</block>
  <block id="edceae57d92287f4f6200f94d3259cd0" category="cell">*需要重新開機*</block>
  <block id="dc3a6955a23583876d020db0f6b80d4d" category="cell">* ESXi進階組態*</block>
  <block id="5fffea5cb752d304de420a5efa158e13" category="cell">保留為設定（VMware預設值為1）</block>
  <block id="5d1b81f1885499e392018ebd7124ad37" category="inline-link-macro">VMware知識庫2007427</block>
  <block id="36478566e3585eb8ea863e941dcb967a" category="cell">保留為「Set（Set）」（VMware預設值為0、但VMFS6不需要此值）。如需詳細資訊、請參閱 <block ref="68c2cf0ecb6a1c6abaf6e56c035d5866" category="inline-link-macro-rx"></block></block>
  <block id="875f6b98e20edfecb56f9013d00987f6" category="cell">vSphere 6.0或更新版本、設定為32。所有其他NFS組態、設定為30</block>
  <block id="a8af33a99dd728969fd947da27a2f69f" category="cell">大多數vSphere 6.x版本的設定為512MB。若為6.5U3、6.7U3及7.0或更新版本、則設為1024MB。</block>
  <block id="e787d5b0d643685421632a1af3914963" category="cell">vSphere 6.0或更新版本、設定為256 All other NFS組態、設定為64。</block>
  <block id="e18600af98c17fae10fdba0dc89979ed" category="cell">NFS.MaxQuesteepeth1^</block>
  <block id="be7707fa525d0124489c9fe3072f78de" category="cell">vSphere 6.0或更新版本、設定為128</block>
  <block id="138989cbe5dd3a4997662e0f65c17878" category="cell">所有NFS組態皆設為10</block>
  <block id="7ea6e8664542e3beb1aea10425efb4db" category="cell">所有NFS組態皆設為12</block>
  <block id="fb62337a3ef32f4701b639339a4ceb33" category="cell">使用具有ALUA的FC路徑時、設定為RR（循環配置資源）。所有其他組態皆設為「固定」。將此值設為RR有助於在所有主動/最佳化路徑之間提供負載平衡。固定值適用於舊版非ALUA組態、有助於防止Proxy I/O換句話說、它有助於在Data ONTAP 以7-Mode運作的環境中、讓I/O不再移至高可用度（HA）配對的其他節點</block>
  <block id="0e82e1f81de2159b0e9bee0b7be00dc9" category="cell">所有組態皆設為32。設定此值有助於避免I/O錯誤。</block>
  <block id="bdd8c1d08eabb5e1923ed8f0c4b10ba4" category="cell">所有組態均設為8。設定此值有助於避免I/O錯誤。</block>
  <block id="2aa077454308383f1e82025427cd7362" category="cell">所有iSCSI路徑均設為RR（循環配置資源）。將此值設為RR有助於在所有主動/最佳化路徑之間提供負載平衡。</block>
  <block id="0340eb1bcbfc6cd3c62b8a878d8d643b" category="cell">所有組態皆設為32。設定此值有助於避免I/O錯誤</block>
  <block id="891c10448731ad57490b9a932dabfff8" category="inline-link-macro">VMware KB 86331</block>
  <block id="2c572e3c397fe100b075a09359c9cc23" category="admonition">1 -使用VMware vSphere ESXi 7.0.1和VMware vSphere ESXi 7.0.2時、NFS進階組態選項MaxQuesteDepth可能無法如預期運作。請參閱 <block ref="861055760f3cd527823fd34a49459992" category="inline-link-macro-rx"></block> 以取得更多資訊。</block>
  <block id="3f7502a5f109d7a73706aba1c0741a4b" category="cell">*《*》工具* ONTAP</block>
  <block id="485577e97e8efcd504fc8e8b13e613f1" category="cell">*預設設定*</block>
  <block id="f639f9fbf0a0ec97e697dc20f2dec14f" category="sidebar">補充NFS資料存放區選項</block>
  <block id="015a03470e91621621a76f7a4e3dc56e" category="sidebar">ANF做為補充NFS資料存放區：總覽</block>
  <block id="8be166a6a918ed4074f79487db89b538" category="sidebar">補充NFS資料存放區-私有預覽</block>
  <block id="5a9500ea180d9aa487f8a027550c1888" category="sidebar">補充NFS資料存放區總覽</block>
  <block id="5cc354638211ca59bc561a960afa71f9" category="sidebar">補充NFS資料存放區-公開預覽（Microsoft）</block>
  <block id="95fd29d87d2c7d3100a5198bc7067e95" category="sidebar">AVS的補充NFS資料存放區</block>
  <block id="e7e97f343a76aab098fd05b8953ee1a5" category="list-text">將Azure NetApp Files 物件資料存放區附加至Azure VMware解決方案主機（預覽）</block>
  <block id="1838681ebe885a1a1e886cdf7e263065" category="inline-link"><block ref="1838681ebe885a1a1e886cdf7e263065" category="inline-link-rx"></block></block>
  <block id="2361f6fabb02c6060c638b5f1780cda2" category="paragraph"><block ref="2361f6fabb02c6060c638b5f1780cda2" category="inline-link-rx"></block></block>
  <block id="bcd4c93e63ff96ec357bc67c62874e0c" category="cell">2022年8月23日</block>
  <block id="10daf0bb04814721080056526de2b200" category="cell">更新所有補充NFS資料存放區選項的最新區域可用度</block>
  <block id="9e779086e93810f8495caf5b07f578cd" category="paragraph">Azure / AVS上補充NFS資料存放區的可用度由Microsoft定義。首先、您需要判斷AVS和ANF是否在特定地區提供。接下來、您需要判斷該區域是否支援ANF補充NFS資料存放區。</block>
  <block id="8ff7e1fad21e60bbdef17593aae83ff6" category="list-text">查看AVS和ANF的可用度 <block ref="757f75bead0b939967621d226ba54faa" category="inline-link-macro-rx"></block>。</block>
  <block id="2f53a51554f6e0b66622228f3db68361" category="list-text">檢查ANF補充NFS資料存放區的可用度 <block ref="02ba6bc5fe71be0f7426aedd427de443" category="inline-link-macro-rx"></block>。</block>
  <block id="926f20c82f92e797825f3ddf31c8d15b" category="paragraph">GCP / GCVE上的補充NFS資料存放區可用度由Google定義。首先、您需要判斷GCVE和CVS是否在特定地區提供。接下來、您需要判斷該區域是否支援CVS補充NFS資料存放區。</block>
  <block id="0970f21d33cd70a68d82d99f1d6abd42" category="list-text">請檢查GCVE/和CVS的可用度 <block ref="007e08d33d89c24a1316c16966bb4055" category="inline-link-macro-rx"></block>。</block>
  <block id="52d36923e6e7f21dede2a88e87bd5528" category="list-text">檢查CVS補充NFS資料存放區的可用度 <block ref="007e08d33d89c24a1316c16966bb4055" category="inline-link-macro-rx"></block>。</block>
  <block id="46c2094fdbb2fbdc301a330fb7419074" category="paragraph">AWS / VMC上的補充NFS資料存放區可用度由Amazon定義。首先、您需要判斷VMC和FSxN是否在指定的區域中可用。接下來、您需要判斷該區域是否支援FSxN補充NFS資料存放區。</block>
  <block id="c10e413ea65850b7369ee5ae6f60b460" category="list-text">VMC的FSxN補充NFS資料存放區即將推出。</block>
  <block id="a1838a4ac0f386c517d82fae26f2372e" category="paragraph">在資訊仍在發佈期間、下表將目前對VMC、FSxN和FSxN的支援識別為補充NFS資料存放區。</block>
  <block id="97be15a34c6b82b6177132129dd0b293" category="doc">區域可用度–VMC的補充NFS資料存放區</block>
  <block id="0b6b52ed7135814c4a167640dee306f2" category="doc">區域可用度–Google Cloud Platform（GCP）的補充NFS資料存放區</block>
  <block id="e78040a1599894c3db7423e479a1f7d1" category="summary">災難恢復至雲端是一種彈性且具成本效益的方法、可保護工作負載、避免站台中斷運作、以及勒索軟體等資料毀損事件。有了NetApp SnapMirror、使用來賓連線儲存設備的內部部署VMware工作負載可以複寫到Cloud Volumes ONTAP 在Google Cloud上執行的NetApp VMware。</block>
  <block id="58997b61f0fc8812c9977a9dd3d181c5" category="doc">應用程式災難恢復：SnapCenter 利用功能不全Cloud Volumes ONTAP 、功能不全和Veeam複寫</block>
  <block id="0fa916b50826c2fab3e504331d6b8ad1" category="paragraph">作者：NetApp Suresh ThopPay</block>
  <block id="366fe59477118cc36e7ef7936cc04771" category="paragraph">災難恢復至雲端是一種彈性且具成本效益的方法、可保護工作負載、避免站台中斷運作、以及勒索軟體等資料毀損事件。有了NetApp SnapMirror、使用來賓連線儲存設備的內部部署VMware工作負載可以複寫到Cloud Volumes ONTAP 在Google Cloud上執行的NetApp VMware。這涵蓋應用程式資料、但實際VM本身的情況如何。災難恢復應涵蓋所有相依元件、包括虛擬機器、VMDK、應用程式資料等。為達成此目標、SnapMirror搭配Veeam可用來無縫恢復從內部部署複寫至Cloud Volumes ONTAP VMware的工作負載、同時將vSAN儲存設備用於VM VMDK。</block>
  <block id="93fb0db9f34ab708d4c3e5d233e4d97f" category="paragraph">本文件提供逐步方法、以設定及執行使用NetApp SnapMirror、Veeam及Google Cloud VMware Engine（GCVE）的災難恢復。</block>
  <block id="669129cbcdc854bf23fe7e672be9c44c" category="paragraph"><block ref="669129cbcdc854bf23fe7e672be9c44c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c611c3f34a5f506ad20f441b78810981" category="paragraph">若要在內部部署環境與Google Cloud網路之間建立連線、請使用專屬互連或Cloud VPN等連線選項。應根據內部部署的VLAN設計來建立區段。</block>
  <block id="b62c675a3e45635be4cc5a65dde4c55c" category="admonition">將內部部署資料中心連線至Google Cloud的選項有多種、讓我們無法在此文件中概述特定的工作流程。如需適當的內部部署至Google連線方法、請參閱Google Cloud文件。</block>
  <block id="5e345ef39956138694764fce9921e498" category="list-text">安裝Veeam軟體、並開始將虛擬機器複寫至Google Cloud VMware Engine執行個體。</block>
  <block id="7c6d17fe855de9f3821d0cead78f4d26" category="list-text">在災難事件期間、請使用Cloud Manager中斷SnapMirror關係、並觸發Veeam虛擬機器的容錯移轉。</block>
  <block id="e36e9213012a15c95ec5048a09f751b0" category="list-text">將應用程式上線。</block>
  <block id="820f3ffde5403dbc2ca3d17b511f569e" category="example-title">在Google Cloud上設定CVO、並將磁碟區複寫至CVO</block>
  <block id="6765d7341fa9566a047031c62d2040b8" category="inline-link">CVO</block>
  <block id="14cdb7188d3a5edcc69cb9fe2ebf708b" category="paragraph">第一步是在Cloud Volumes ONTAP Google Cloud上設定 <block ref="21dbe7906aa79142ad8a44237d3d84a5" category="inline-link-rx"></block>）並以Cloud Volumes ONTAP 所需的頻率和快照保留量、將所需的Volume複製到不間斷的地方。</block>
  <block id="1b6eb09708583df3feb79dd7e7b9ed2a" category="paragraph"><block ref="1b6eb09708583df3feb79dd7e7b9ed2a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b67ee8de7f0f6f1b68e41ce4be6b4a0b" category="inline-link">利用SnapCenter 功能進行複寫設定</block>
  <block id="8064e6b40ef12da2c44763dcfe735ae8" category="paragraph">如需設定SnapCenter 不一致及複寫資料的逐步說明範例、請參閱<block ref="68793c30d3c5e8a024de6c79bc478fe1" category="inline-link-rx"></block></block>
  <block id="5a101eac27a34cdc3b06c105760d0cee" category="example-title">設定GCVO主機和CVO資料存取</block>
  <block id="1fe9f40218e52161bc5e31e2cd383a0b" category="paragraph">部署SDDC時、需要考量的兩個重要因素是GCVE解決方案中SDDC叢集的大小、以及SDDC持續運作的時間。這兩項災難恢復解決方案的關鍵考量、有助於降低整體營運成本。SDDC可只有三部主機、在全規模部署中、一直到多主機叢集為止。</block>
  <block id="4f7b492a9eedf950f4dbd01357b22979" category="paragraph">可將支援範例部署至任何VPC、而GCVR應具有與該VPC的私有連線、以便讓VM連線至iSCSI LUN。Cloud Volumes ONTAP</block>
  <block id="727eadb1fcad984cfa778a04f2181408" category="paragraph">若要設定GCVE/ SDDC、請參閱<block ref="06e1fa19855b73b0e800850663f265a2" category="inline-link-rx"></block>。先決條件是確認駐留在GCVM主機上的來賓VM能夠在Cloud Volumes ONTAP 建立連線之後、從支援中心取用資料。</block>
  <block id="fb75a211e033fa96e7f692258221c1da" category="paragraph">正確設定好VMware和GCVETM之後Cloud Volumes ONTAP 、請開始設定Veeam、使用Veeam複寫功能、並利用SnapMirror將應用程式Volume複本複製到Cloud Volumes ONTAP VMware、將內部部署工作負載的恢復作業自動化至GCVETM（使用應用程式VMDK的VM和使用客體內建儲存設備的VM）。</block>
  <block id="87e3cc18e14b0d78c8c46e3ed343fca7" category="example-title">安裝Veeam元件</block>
  <block id="60fec867397af265e1e757d06135859e" category="example-title">使用Veeam設定VM複寫</block>
  <block id="d81c3dfdfda7fb8581660b5d218c6a3a" category="inline-link">設定vSphere VM複寫工作</block>
  <block id="6a67b79523a52a3a2b4e485485456565" category="paragraph">內部部署的vCenter和GCVE- vCenter都需要向Veeam註冊。<block ref="9af60ccd7c779b77ba6ce43ae96a95f6" category="inline-link-rx"></block> 在精靈的「來賓處理」步驟中、選取「停用應用程式處理」、因為我們將使用SnapCenter 支援應用程式的功能來進行應用程式感知備份與還原。</block>
  <block id="34510608302d692ff6f3936359703d26" category="example-title">容錯移轉Microsoft SQL Server VM</block>
  <block id="ce137de4140fd114a7fb3fcb057328fa" category="list-text">Veeam Replication允許變更DR站台上的VM IP位址。</block>
  <block id="dee7570423fb41bfa5f00fd539ed91da" category="doc">區域可用度：Anf的補充NFS資料存放區</block>
  <block id="9e289e2a1ce460725108e7241e19b575" category="doc">AWS、Azure和GCP上的補充NFS資料存放區可用度</block>
  <block id="3ce209dcd58ed0c7d8cf39f37f2b1557" category="paragraph">深入瞭解全球區域對AWS、Azure和Google Cloud Platform（GCP）上的補充NFS資料存放區的支援。</block>
  <block id="f22705ef66107a528d4982aa8fdd463d" category="list-text"><block ref="f22705ef66107a528d4982aa8fdd463d" category="inline-link-macro-rx"></block></block>
  <block id="e9063f3c3631446cbaeef19e7965f491" category="sidebar">應用程式災難恢復：SnapCenter 利用功能進行功能性、CVO和Veeam複寫</block>
  <block id="d15aa19396a83c3c15a1fb8ba83efda1" category="cell">2022年8月25日</block>
  <block id="f37741764b2517136f3747b14ec803a0" category="cell">新解決方案：NVIDIA AI Enterprise搭配NetApp與VMware</block>
  <block id="69e8c6aef5e50150d499e7fa39f846ed" category="summary">NVIDIA AI Enterprise是一套端點對端點、雲端原生的AI和資料分析軟體套件、經過最佳化、讓每個組織都能成功運用AI。</block>
  <block id="68cdb7bf3dabd26e338e1ba72b549c69" category="doc">NVIDIA AI Enterprise搭配NetApp和VMware</block>
  <block id="61cb0c1b4a32d4815eb2a785c0c84cb8" category="paragraph">對於IT架構設計師和管理員而言、AI工具可能複雜且不熟悉。此外、許多AI平台還未做好企業準備。NVIDIA AI Enterprise採用NetApp和VMware技術、提供精簡的企業級AI架構。</block>
  <block id="65590ec18b850984cfb8bbe6ba35fe7d" category="paragraph">NVIDIA AI Enterprise是一套端點對端點、雲端原生的AI與資料分析軟體套件、經過NVIDIA最佳化、認證及支援、可在採用NVIDIA認證系統的VMware vSphere上執行。此軟體可在現代化的混合雲環境中、輕鬆快速地部署、管理及擴充AI工作負載。NVIDIA AI Enterprise採用NetApp與VMware技術、以簡化且熟悉的套件提供企業級AI工作負載與資料管理功能。</block>
  <block id="24c4078c95e6e2df55bd1d251c11f4aa" category="paragraph"><block ref="24c4078c95e6e2df55bd1d251c11f4aa" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7d92209f7d0eac282a9a26e642c20a91" category="inline-link-macro">下一步：技術總覽。</block>
  <block id="51624dfcafe192d37d40a363ccfa4260" category="paragraph"><block ref="51624dfcafe192d37d40a363ccfa4260" category="inline-link-macro-rx"></block></block>
  <block id="f0de4adaf6568678921cef0d0e69b81f" category="summary">NVIDIA AI Enterprise with NetApp and VMware -技術總覽</block>
  <block id="bdab293b91374abd32d30076de9d29b9" category="paragraph"><block ref="bdab293b91374abd32d30076de9d29b9" category="inline-link-macro-rx"></block></block>
  <block id="51ab86189ca8b1d1a08ac2970d39f90c" category="section-title">NVIDIA AI Enterprise</block>
  <block id="0719941ec04c59670033b3b1f0e3c239" category="paragraph">NVIDIA AI Enterprise是一套端點對端點、雲端原生的AI與資料分析軟體套件、經過NVIDIA最佳化、認證及支援、可在採用NVIDIA認證系統的VMware vSphere上執行。此軟體可在現代化的混合雲環境中、輕鬆快速地部署、管理及擴充AI工作負載。</block>
  <block id="cbd4c44d2b7fc45943b834d2a03f2a63" category="paragraph">NVIDIA NGC主打GPU最佳化軟體目錄、讓AI從業者得以開發AI解決方案。此外、它還能存取各種AI服務、包括NVIDIA Base Command for Model訓練、NVIDIA車隊Command for Deploy and Monitor model、以及NGC Private登錄、以安全地存取及管理專屬AI軟體。此外、NVIDIA AI Enterprise客戶也可以透過NGC入口網站要求支援。</block>
  <block id="7ee50a783ac86f99c7b7db29b77e7a2a" category="paragraph">VMware vSphere是VMware的虛擬化平台、可將資料中心轉換成彙總式運算基礎架構、其中包括CPU、儲存設備和網路資源。vSphere將這些基礎架構管理為統一化的作業環境、並提供系統管理員工具來管理參與該環境的資料中心。</block>
  <block id="a8b821c11b6c83cd7165137d4f68a45b" category="paragraph">vSphere的兩個核心元件為ESXi和vCenter Server。ESXi是系統管理員建立及執行虛擬機器和虛擬應用裝置的虛擬化平台。vCenter Server是一項服務、可讓系統管理員管理網路和集區主機資源中連線的多個主機。</block>
  <block id="f45c2aa2e74e3412ee9883eb28b7549e" category="paragraph">NetApp最新一代的儲存管理軟體、即支援企業將基礎架構現代化、並移轉至雲端就緒的資料中心。ONTAP利用領先業界的資料管理功能ONTAP 、無論資料位於何處、只要使用一組工具、即可管理及保護資料。您也可以自由地將資料移至任何需要的位置：邊緣、核心或雲端。支援眾多功能、可簡化資料管理、加速及保護關鍵資料、並在混合雲架構中提供新一代基礎架構功能。ONTAP</block>
  <block id="7cc4f632835e2377fd90f38601a3e0eb" category="paragraph">NetApp DataOps Toolkit是一款以Python為基礎的工具、可簡化開發/訓練工作區和推斷伺服器的管理、這些工作區都以高效能橫向擴充的NetApp儲存設備為後盾。主要功能包括：</block>
  <block id="f9e55f3095ff79acd2c7f6315222ba4a" category="list-text">快速配置以高效能橫向擴充NetApp儲存設備為後盾的新高容量JupyterLab工作區。</block>
  <block id="a9e4b1a2cc4b445907d2b986ab2f3515" category="list-text">快速配置以企業級NetApp儲存設備為後盾的全新NVIDIA Triton Inference Server執行個體。</block>
  <block id="23b97f551923a166ae2d3223b0ed84cc" category="list-text">近乎即時地複製高容量JupyterLab工作區、以進行實驗或快速迭代。</block>
  <block id="27c7d5bdafd6a9d64ad337b08e104c87" category="list-text">近乎即時地儲存高容量JupyterLab工作區的快照、以供備份和/或追蹤/基準化。</block>
  <block id="86f28dd8fdffc90314bf94c94e1b3c1c" category="list-text">近乎即時地配置、複製及快照高容量、高效能的資料磁碟區。</block>
  <block id="263db194560bc66bd5de27c72f9b7923" category="paragraph"><block ref="263db194560bc66bd5de27c72f9b7923" category="inline-link-macro-rx"></block></block>
  <block id="d8299632c247aca8f771d7368ee36f9d" category="summary">NVIDIA AI Enterprise搭配NetApp與VMware -架構</block>
  <block id="9ca68ac69c80fa519c5ead343d865ce4" category="inline-link-macro">上一篇：技術總覽。</block>
  <block id="ab7d7704700b22bf8dd4ce26b09e2562" category="paragraph"><block ref="ab7d7704700b22bf8dd4ce26b09e2562" category="inline-link-macro-rx"></block></block>
  <block id="37810ec69b6e321b4b377d835e7d84ac" category="paragraph">本解決方案以NetApp、VMware及NVIDIA認證系統為基礎、打造出備受肯定且熟悉的架構。如需詳細資料、請參閱下表。</block>
  <block id="95a502ec0ddaf3352c2540e3e9f65a1b" category="cell">AI與資料分析軟體</block>
  <block id="61da586210da33a8abab150a7d7d0972" category="inline-link-macro">NVIDIA AI Enterprise for VMware</block>
  <block id="7865e440c1b499e7942ca9b659d737d6" category="cell"><block ref="7865e440c1b499e7942ca9b659d737d6" category="inline-link-macro-rx"></block></block>
  <block id="102995a1cdd2c719d7d0aa4d888fa019" category="cell">虛擬化平台</block>
  <block id="4ce5f3794d6e351daaaaa4f211e419ee" category="cell"><block ref="4ce5f3794d6e351daaaaa4f211e419ee" category="inline-link-macro-rx"></block></block>
  <block id="8cf5fbd26a1d5d924600d38015860908" category="cell">運算平台</block>
  <block id="aee87e9fe5cc4cf9193cd27c74a0a6e7" category="inline-link-macro">NVIDIA認證系統</block>
  <block id="b3cdb2e0e953c1639ad63fe06b8c7a37" category="cell"><block ref="b3cdb2e0e953c1639ad63fe06b8c7a37" category="inline-link-macro-rx"></block></block>
  <block id="ddca712fc3b0dad3d85e423eb97d58ea" category="cell">資料管理平台</block>
  <block id="1c317db419d669c4b6473c6d462e881e" category="cell"><block ref="1c317db419d669c4b6473c6d462e881e" category="inline-link-macro-rx"></block></block>
  <block id="121c96ce43abda774fe95c1ccde1603e" category="paragraph"><block ref="121c96ce43abda774fe95c1ccde1603e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="23a5db9f9241f7132df83ceacee13eb5" category="inline-link-macro">下一步：初始設定。</block>
  <block id="65ee66895a5d90d6bde80ce787a7e3b7" category="paragraph"><block ref="65ee66895a5d90d6bde80ce787a7e3b7" category="inline-link-macro-rx"></block></block>
  <block id="922b9696b39b06f6a4d313569231a446" category="summary">NVIDIA AI Enterprise with NetApp與VMware -何處可找到其他資訊</block>
  <block id="77b8a01d0d63ff78898858cf688363c3" category="inline-link-macro">上一篇：使用案例範例- TensorFlow訓練工作。</block>
  <block id="14b2e29c23cc5c2fbf0ecfe2c97d9919" category="paragraph"><block ref="14b2e29c23cc5c2fbf0ecfe2c97d9919" category="inline-link-macro-rx"></block></block>
  <block id="913e298a14c5b49185ced898ccea22bd" category="list-text">NVIDIA AI Enterprise搭配VMware</block>
  <block id="5fad8e8f46a27398d761d66b0cb3f138" category="paragraph"><block ref="b79ccae54733d96b388303db61e85c7c" category="inline-link-rx"></block>]</block>
  <block id="c85cb3eda6d429393778efbed7420a50" category="list-text">Bobby Oommen、資深NetApp經理</block>
  <block id="c4321e9f60724f09a097b4d8b79c6e7b" category="list-text">NetApp系統管理員Ramesh Issac</block>
  <block id="cf4995eac87d7ce5351e1043fe85683c" category="list-text">NetApp技術行銷工程師Raney Daniel</block>
  <block id="ffdaf4e44bdc58181aaa1fb09d821794" category="summary">NVIDIA AI Enterprise搭配NetApp和VMware -使用NVIDIA NGC軟體</block>
  <block id="a99b0f81ba7eb4c3316c034815d10d6f" category="doc">使用NVIDIA NGC軟體</block>
  <block id="c9af43d59068b9518707160eb6b96225" category="inline-link-macro">上一步：初始設定。</block>
  <block id="594eb3d3a076d44ee9951aa997704c5a" category="paragraph"><block ref="594eb3d3a076d44ee9951aa997704c5a" category="inline-link-macro-rx"></block></block>
  <block id="4161955dbf0998e264bc502f3cedc932" category="paragraph">本節說明在NVIDIA AI Enterprise環境中使用NVIDIA NGC企業軟體所需執行的工作。</block>
  <block id="cdc25880ca2e070e7e8937596a923a72" category="inline-link-macro">下一步：設定。</block>
  <block id="990700dce54370c3a1bca7246dfa67a2" category="paragraph"><block ref="990700dce54370c3a1bca7246dfa67a2" category="inline-link-macro-rx"></block></block>
  <block id="d6b1f830356956d1f4b73438f8604232" category="summary">NVIDIA AI Enterprise搭配NetApp和VMware -使用NVIDIA NGC軟體-設定</block>
  <block id="d0dad2e446397223579c27c4071bd112" category="inline-link-macro">先前版本：使用NVIDIA NGC軟體。</block>
  <block id="149dec50621ec3639bea5fc28effa6cf" category="paragraph"><block ref="149dec50621ec3639bea5fc28effa6cf" category="inline-link-macro-rx"></block></block>
  <block id="7bb37c1d3fb64e908e6704f53b5fe4a8" category="paragraph">本節說明在NVIDIA AI Enterprise環境中使用NVIDIA NGC企業軟體所需執行的初始設定工作。</block>
  <block id="6641666d7bc2748bab0ac80cdec3a2a3" category="inline-link-macro">初始設定</block>
  <block id="512338e48541699ec73dae999f67080a" category="paragraph">在您執行本節所述步驟之前、我們假設您已依照中所述的指示部署NVIDIA AI Entrprise主機軟體 <block ref="a8e4d2617194ed990c0124f2cc8aee91" category="inline-link-macro-rx"></block> 頁面。</block>
  <block id="c23799b3650257af14b8af5acb107354" category="section-title">使用vGPU建立Ubuntu Guest虛擬機器</block>
  <block id="0271f6ade1f60c92c6548f0e5c440e4e" category="inline-link-macro">NVIDIA AI企業部署指南</block>
  <block id="1d7d5c692ef1d70e3217e93bb16af99e" category="paragraph">首先、您必須使用vGPU建立Ubuntu 20.04客體VM。若要使用vGPU建立Ubuntu 20.04客體VM、請遵循中的指示大綱 <block ref="f5168fb76d8813fb2707289c4637d2ea" category="inline-link-macro-rx"></block>。</block>
  <block id="70c95294a49e1475adbde86d8eae754e" category="section-title">下載並安裝NVIDIA Guest軟體</block>
  <block id="6148d2809a69d7225df7c6dcc1b5f94f" category="inline-link-macro">NVIDIA AI企業快速入門指南</block>
  <block id="8f3d19df984dedd40b9998136343e036" category="paragraph">接下來、您必須在先前步驟所建立的客體VM中安裝必要的NVIDIA客體軟體。若要在客體VM內下載及安裝所需的NVIDIA客體軟體、請遵循中5.1-5.4節所述的指示 <block ref="d00914f6db2027b3a594dc7a64e68b3c" category="inline-link-macro-rx"></block>。</block>
  <block id="15186686bd7e9c36683658388b6865b0" category="admonition">執行第5.4節所述的驗證工作時、您可能需要使用不同的CUDA Container映像版本標記、因為CUDA Container映像自撰寫指南以來就已更新。在我們的驗證中、我們使用了「nvidia/CUDA：11.0.3-base-ubuntu20.04」。</block>
  <block id="f43e7f8a79b8984748fff81eeb0f8c5f" category="section-title">下載AI /分析架構容器</block>
  <block id="12a93794571377dc80b4be8c2f22349c" category="paragraph">接下來、您必須從NVIDIA NGC下載所需的AI或分析架構容器映像、以便在您的客體VM中使用。若要在客體VM內下載架構容器、請遵循中所述的指示 <block ref="26bd3715eff2817a0154bee58d883e27" category="inline-link-macro-rx"></block>。</block>
  <block id="5a8b2b886d790892b5beca474e789276" category="section-title">安裝及設定NetApp DataOps Toolkit</block>
  <block id="a225239f36328db667324928281cd834" category="paragraph">接下來、您必須在客體VM內安裝適用於傳統環境的NetApp DataOps Toolkit。NetApp DataOps Toolkit可用於直接從ONTAP 客體VM內的終端機、管理您的一套系統上的橫向擴充資料磁碟區。若要在客體VM內安裝NetApp DataOps Toolkit、請執行下列工作。</block>
  <block id="e0288a23fbe1bfdb5f5b06d39e315992" category="list-text">安裝Pip。</block>
  <block id="bb5f723fd408b79a93de1e726de66dd1" category="list-text">登出客體VM終端機、然後重新登入。</block>
  <block id="c456f18c285a54b87c3bc96f0ee32ebb" category="list-text">設定NetApp DataOps Toolkit。若要完成此步驟、ONTAP 您需要針對您的整套系統提供API存取詳細資料。您可能需要向儲存管理員取得這些資訊。</block>
  <block id="defe5f6be79f86b85d956d3e53c7ac4d" category="section-title">建立來賓VM範本</block>
  <block id="d5d979be97f5a76cf2676ef5a9c7f071" category="paragraph">最後、您必須根據客體VM建立VM範本。您可以使用此範本快速建立來賓VM、以使用NVIDIA NGC軟體。</block>
  <block id="fec1fe0b41ba3927cfb9ac7c0507a1f5" category="paragraph">若要根據客體VM建立VM範本、請登入VMware vSphere、按一下客體VM名稱、選擇「Clone（複製）」、選擇「Clone to Template（複製到範本）...」、然後依照精靈進行。</block>
  <block id="05e042a4870614727b5012704b95e5ec" category="paragraph"><block ref="05e042a4870614727b5012704b95e5ec" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0ad90a409faffb6ba8eef6ec1658543c" category="inline-link-macro">下一步：範例使用案例- TensorFlow訓練工作。</block>
  <block id="2dbc93dcf9e19b9e4c3cdac9786d0d7d" category="paragraph"><block ref="2dbc93dcf9e19b9e4c3cdac9786d0d7d" category="inline-link-macro-rx"></block></block>
  <block id="e4f8ad54c095217d5da72f9ba2ad87d4" category="summary">NVIDIA AI Enterprise搭配NetApp和VMware -使用NVIDIA NGC軟體-範例使用案例- TensorFlow訓練工作</block>
  <block id="b26247c1865d93ea590ef10d1150c2ae" category="doc">範例使用案例- TensorFlow訓練工作</block>
  <block id="9e4efb6787f44fcab6b00e2afd36fcee" category="inline-link-macro">上一步：設定。</block>
  <block id="fd157334647c1bdd933147dbf284f59e" category="paragraph"><block ref="fd157334647c1bdd933147dbf284f59e" category="inline-link-macro-rx"></block></block>
  <block id="ff35b7c65e31b6103dee61bd8d89ee4f" category="paragraph">本節說明在NVIDIA AI Enterprise環境中執行TensorFlow訓練工作所需執行的工作。</block>
  <block id="cd33d31cec93ae54705bbc90e8ffbc09" category="paragraph">在您執行本節所述步驟之前、我們假設您已依照中所述的指示建立客體VM範本 <block ref="8c165f1fe6ca595dd726d3af3dcdf541" category="inline-link-macro-rx"></block> 頁面。</block>
  <block id="c8281ef65e7f967dfd74821eada0aed1" category="section-title">從範本建立來賓VM</block>
  <block id="8f195db6a3d092a2d990de535475fb82" category="paragraph">首先、您必須從上一節建立的範本建立新的來賓VM。若要從範本建立新的來賓VM、請登入VMware vSphere、按一下範本名稱、選擇「New VM from this Template ...（從此範本新增VM ...）」、然後依照精靈進行。</block>
  <block id="9739d298a43441a49ece0169468d720e" category="paragraph"><block ref="9739d298a43441a49ece0169468d720e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="229fea3a8aa56b262dc3dbb996d81052" category="section-title">建立及掛載資料Volume</block>
  <block id="bbdc3bf8e16f6c828df2941c605e4ef3" category="paragraph">接下來、您必須建立新的資料量、以便儲存訓練資料集。您可以使用NetApp DataOps Toolkit快速建立新的資料Volume。以下命令範例顯示建立容量為2 TB的名為「imagenNet」的磁碟區。</block>
  <block id="bed0c39c2a853526e026bbd1d13b0a29" category="paragraph">您必須先在客體VM內掛載資料、才能在資料磁碟區中填入資料。您可以使用NetApp DataOps Toolkit快速掛載資料磁碟區。以下命令範例顯示在上一個步驟中建立的磁碟區遠移。</block>
  <block id="3418ebfa9c3ff38c1bfcd27521d4e641" category="section-title">填入資料Volume</block>
  <block id="ec123d1ef57b0ab158b8c891c6b936da" category="paragraph">新磁碟區完成資源配置和掛載之後、即可從來源位置擷取訓練資料集、並放在新磁碟區上。這通常需要從S3或Hadoop資料湖提取資料、有時需要資料工程師提供協助。</block>
  <block id="d3e84e47f561be23742b30b8c3dd7d10" category="section-title">執行TensorFlow訓練工作</block>
  <block id="f6a0596efc5c96edbcbffd2d19e48f41" category="paragraph">現在、您已準備好執行TensorFlow訓練工作。若要執行TensorFlow訓練工作、請執行下列工作。</block>
  <block id="83c4072e784e0048974a7fbaef9e7567" category="list-text">拉出NVIDIA NGC企業級TensorFlow容器映像。</block>
  <block id="26857c717c90aa9ca7c999304a47e6ad" category="list-text">啟動NVIDIA NGC企業級TensorFlow容器的執行個體。使用「-v」選項將資料磁碟區附加至容器。</block>
  <block id="c8dc137f2972d72ed031b7e9000c2b58" category="list-text">在容器內執行TensorFlow訓練方案。以下命令範例顯示執行容器映像所包含的ResNet-50訓練程式範例。</block>
  <block id="5a71d5119829b5c78d377ad1aa8a90a8" category="inline-link-macro">下一步：何處可找到其他資訊。</block>
  <block id="d5ca60148a0675b3abb83565cbf886d7" category="paragraph"><block ref="d5ca60148a0675b3abb83565cbf886d7" category="inline-link-macro-rx"></block></block>
  <block id="54d7050762b4d8c4af04f27ce33f1f9b" category="summary">NVIDIA AI Enterprise with NetApp and VMware -初始設定</block>
  <block id="232b44c6dbb39fe55ed3d2ae7953c0ce" category="paragraph"><block ref="232b44c6dbb39fe55ed3d2ae7953c0ce" category="inline-link-macro-rx"></block></block>
  <block id="cb8b0bf52601ee3b7c48b31850f1a45a" category="paragraph">本節說明在NetApp和VMware上使用NVIDIA AI Enterprise時、必須執行的初始設定工作。</block>
  <block id="5600e01753ba1c962c6d52ee6f0bdc72" category="inline-link-macro">NVIDIA AI企業產品支援對照表</block>
  <block id="b46df8af05863c37f3cd1fd611e5d2d9" category="inline-link-macro">NetApp與VMware解決方案文件</block>
  <block id="bf44a799ea99e6a60d34e10561a03e4e" category="paragraph">在您執行本節所述步驟之前、我們假設您已部署VMware vSphere和NetApp ONTAP VMware。請參閱 <block ref="7fc42871bfcfe7310a97a725dca473d8" category="inline-link-macro-rx"></block> 如需支援vSphere版本的詳細資訊、請參閱 <block ref="627bf2e2dbf74de3f0be812563fb3ec4" category="inline-link-macro-rx"></block> 如需部署VMware vSphere搭配NetApp ONTAP 功能的詳細資訊、</block>
  <block id="a067b320746c7952a2b152f5a3af42b4" category="section-title">安裝NVIDIA AI Enterprise Host軟體</block>
  <block id="ee9d732a57ce821e52e753e2b4bd4a84" category="paragraph">若要安裝NVIDIA AI Entrprise主機軟體、請依照第1-4節所述的指示進行 <block ref="d00914f6db2027b3a594dc7a64e68b3c" category="inline-link-macro-rx"></block>。</block>
  <block id="cd110cdaa9b8e3838ddcbc34234a5317" category="inline-link-macro">下一步：使用NVIDIA NGC軟體。</block>
  <block id="4a2f52c7b89633749f7644b851cb7bc6" category="paragraph"><block ref="4a2f52c7b89633749f7644b851cb7bc6" category="inline-link-macro-rx"></block></block>
  <block id="56991209ac6bc77f76e9e1828103cdfc" category="cell">新增部落格：運用Amazon FSX儲存設備、在混合雲中實現Oracle資料庫作業現代化</block>
  <block id="9f65880e605551f01ff1d2c03d3fa4c6" category="cell">06/29/ 2022</block>
  <block id="304bc05c6debf3075c4f25dcffcf50bd" category="cell">新增WP-7357：EC2/FSX最佳實務做法上的Oracle資料庫部署</block>
  <block id="befb671d4726ae8f3ef8dab781033dcc" category="inline-link-macro">使用儲存快照的Oracle多租戶可插拔資料庫複製</block>
  <block id="9e2a9bc8a2f8e27bba893554318c300a" category="paragraph">儲存庫的所有重大變更（新解決方案、重大更新、新影片/示範等）都會在中追蹤 <block ref="62716531525ec9f2f5022745ce51b3a4" category="inline-link-macro-rx"></block>。</block>
  <block id="aeb79a141f3c3f603cee05dfa64277aa" category="inline-link-macro">運用Amazon FSX儲存設備、在混合雲中實現Oracle資料庫作業現代化</block>
  <block id="a35641294527bf47526671d78d910a7e" category="list-text"><block ref="a35641294527bf47526671d78d910a7e" category="inline-link-macro-rx"></block></block>
  <block id="958dc0e3d1fcb4de4e8d506927ac81d3" category="sidebar">Oracle Database Deployment on EC2/FSX最佳實務做法</block>
  <block id="4d6f369fd362693ff1e7c02749ce60d9" category="example-title">如何為內部部署安裝Jetstream DR</block>
  <block id="91a827791bf5a23c98b3d5c7a69fe4ac" category="example-title">如何在私有雲中安裝AVS的Jetstream DR</block>
  <block id="60e3a8b4e353d775c34a7d4d16b3d797" category="example-title">如何執行容錯移轉/容錯回復</block>
  <block id="a401c5c75859d12743686229123750bc" category="cell">2022年9月14日</block>
  <block id="1063ab954566d1fe67239a1e96653a34" category="cell">新增AWS / VMC的補充NFS資料存放區選項</block>
  <block id="b7331610ced5770e91945f51e7656fcf" category="cell">針對推薦的ESXi和ONTAP 功能性設定新增「需要重新開機」資訊</block>
  <block id="b6f0b1a9bd2c9c15cf02f97ead58d81f" category="list-text">FSX ONTAP 不只是NFS的補充資料存放區</block>
  <block id="aa98d71f784cc09bb41639407a3263d5" category="inline-link-macro">VMC的補充NFS資料存放區選項</block>
  <block id="d1a83ba46ad33cdd3fc8bd7a4e73176d" category="paragraph">檢視詳細資訊 <block ref="faae832115390401ac20af18b263017a" category="inline-link-macro-rx"></block>。檢視詳細資訊 <block ref="5f92906354f0392b0588cf1731a5faf9" category="inline-link-macro-rx"></block>。</block>
  <block id="7bf09ad035c9bf793d2fa043537aefb5" category="paragraph">檢視詳細資訊 <block ref="cfba6c34c6cd33cf1694f8b48900db44" category="inline-link-macro-rx"></block>。檢視詳細資訊 <block ref="a17693751f1eec7b9dedb49cf6a85cf2" category="inline-link-macro-rx"></block>。</block>
  <block id="483a9a3bc528f4d194f9f8f3d2a8411a" category="inline-link-macro">AVS的補充NFS資料存放區選項</block>
  <block id="7772cfe9c74977a26d43cfda8576ff1a" category="paragraph">檢視詳細資訊 <block ref="b477b575563628f6202758f8f4d6ef57" category="inline-link-macro-rx"></block>。檢視詳細資訊 <block ref="e443f734d29f2f5bbba9449696a3f3f6" category="inline-link-macro-rx"></block>。</block>
  <block id="026198900efc3d72ea20d8258c67523f" category="paragraph">檢視詳細資訊 <block ref="c21bcdb7b1f85738a3211dff01d327ef" category="inline-link-macro-rx"></block>。檢視詳細資訊 <block ref="266132cd9b913032bfeaea66cd238ea6" category="inline-link-macro-rx"></block>。</block>
  <block id="110493136fe9c9cec7895d42493cf949" category="doc">TR-4938：在ONTAP AWS上安裝VMware Cloud、將Amazon FSX for VMware當作NFS資料存放區</block>
  <block id="fac58d9bf77947f6384b904919414388" category="paragraph">每個成功的組織都走上轉型與現代化的道路。在這項流程中、公司通常會利用現有的VMware投資來充分發揮雲端效益、並探索如何移轉、突發、擴充及提供災難恢復功能、使流程盡可能順暢無礙。移轉至雲端的客戶必須評估使用案例的彈性與爆發、資料中心結束、資料中心整合、生命週期結束案例、合併、 併購等。</block>
  <block id="040632d7dc15d3ff95c3010b585c825d" category="inline-link">最近整合</block>
  <block id="d790d297409e3864a7ea5e89c42f2281" category="paragraph">雖然AWS上的VMware Cloud是大多數客戶偏好的選擇、因為它能為客戶提供獨特的混合式功能、但有限的原生儲存選項限制了它對於具有大量儲存工作負載的組織的效用。由於儲存設備直接與主機相連、因此擴充儲存設備的唯一方法是新增更多主機、如此一來、儲存密集工作負載的成本就會增加35%至40%以上。這些工作負載需要額外的儲存設備和隔離效能、而非額外的馬力、但這表示需要支付額外的主機費用。這就是<block ref="ce6e0c0e7e2ab2c5f159e9999125a0f1" category="inline-link-rx"></block> 使用ONTAP VMware Cloud on AWS、即可輕鬆處理儲存與效能密集的工作負載。</block>
  <block id="419a1659c567e39948d6e6e837c207d8" category="paragraph">讓我們來思考下列案例：客戶需要八部主機來處理馬力（vcpU/vMem）、但他們也需要大量的儲存設備。根據評估結果、他們需要16台主機來滿足儲存需求。如此一來、整體TCO就會增加、因為他們必須在真正需要更多儲存設備的情況下、購買所有額外的馬力。這適用於任何使用案例、包括移轉、災難恢復、突發、開發/測試、 等等。</block>
  <block id="477aa009d1d8f0ca50a38092473e92c8" category="paragraph">本文件將引導您完成在ONTAP AWS上配置和附加FSXfor VMware做為VMware Cloud的NFS資料存放區所需的步驟。</block>
  <block id="dfc876546f6dc1183356f103bca8c9bf" category="section-title">連線選項</block>
  <block id="96ebe87ba2bf6e2436936fad5261faee" category="paragraph">本節說明高層連線架構、以及實作解決方案以擴充SDDC叢集儲存設備所需的步驟、而不需要新增其他主機。</block>
  <block id="373604cc33724c808b5ea035d2c5d911" category="paragraph">Amazon FSX for NetApp ONTAP Sfing是一項全託管服務、以熱門的NetApp ONTAP Sfor NetApp文件系統為基礎、提供高度可靠、可擴充、高效能且功能豐富的檔案儲存設備。Amazon FSX for NetApp ONTAP Sfor NetApp（Multi-AZ）使用浮動IP位址、在可用區域層級故障時、可為NAS流量啟用容錯移轉功能。此IP位址位於VPC CIDR位址空間之外、因此無法透過ENI路由傳送至SDDC。因此、應使用VMware Transit Connect連線至NAS介面的浮動IP位址。</block>
  <block id="f86935ff4bae98bba5454898ea941c13" category="paragraph"><block ref="f86935ff4bae98bba5454898ea941c13" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b5dfb62423539055e813d9c1ad0de5ec" category="paragraph">高階部署步驟如下：</block>
  <block id="a7e048390e1de16427d130135387bbfa" category="list-text">在ONTAP 新指定的VPC中建立Amazon FSX以供支援。</block>
  <block id="1f950f8c314491fa3429d8c2b47b567d" category="list-text">建立SDDC群組。</block>
  <block id="564e0792e18e12a265348716dc476e35" category="list-text">建立VMware Transit Connect和TGW附件。</block>
  <block id="6618150a8dc116ed81a57b9c0241d023" category="list-text">設定路由（AWS VPC和SDDC）和安全群組。</block>
  <block id="657ef96833b0b326d08849a14b70424f" category="list-text">將NFS磁碟區作為資料存放區附加至SDDC叢集。</block>
  <block id="4950c77542ffaf6f7c4295f413cd34bf" category="inline-link-macro">開始使用AWS上的VMware Cloud</block>
  <block id="38cb82c3cccc048a7afcc98467fce2aa" category="paragraph">在您配置及附加FSXfor ONTAP VMware做為NFS資料存放區之前、您必須先在Cloud SDDC環境上設定VMware、或是將現有SDDC升級至v1.20或更新版本。如需詳細資訊、請參閱 <block ref="8f2441f58c4fdf4959e58cb9afc7d8c0" category="inline-link-macro-rx"></block>。</block>
  <block id="fcb9956e91549e3dd62d5abdb369413b" category="admonition">目前、延伸叢集不支援FSX ONTAP for Sfor Sf2。</block>
  <block id="ee377d68ed297e79a44797bf1a95c224" category="paragraph">本文件說明在ONTAP AWS上設定Amazon FSX for VMware Cloud搭配VMware Cloud的必要步驟。Amazon FSX ONTAP for Sfor Sfor Sfor Sfor功能提供絕佳的選項、可部署及管理應用程式工作負載及檔案服務、同時將資料需求無縫地移至應用程式層、進而降低TCO。無論使用案例為何、請選擇AWS上的VMware Cloud搭配Amazon FSX ONTAP for VMware for VMware、以快速實現雲端效益、一致的基礎架構、以及從內部部署到AWS的作業、工作負載的雙向可攜性、以及企業級容量與效能。這是用來連接儲存設備的熟悉程序和程序。請記住、這只是資料的變更位置、加上新名稱；工具和程序都維持不變、Amazon FSX for ONTAP VMware有助於最佳化整體部署。</block>
  <block id="0f7e01a8024cd158b945c34799508470" category="paragraph">若要深入瞭解此程序、歡迎觀看詳細的逐步解說影片。</block>
  <block id="e4d49e783d07283d117d34b32c4415cd" category="doc">AWS中的補充NFS資料存放區選項</block>
  <block id="b2e86378d41d58201dddc613a82c81e2" category="paragraph">當VMware Cloud準備就緒並連線至AWS VPC之後、您必須將Amazon FSXfor NetApp ONTAP 支援部署至新指定的VPC、而非原始連線或現有的預設VPC。</block>
  <block id="b96e49fe229de5c473c616c913f822c8" category="inline-link">在VMware Cloud中設定SDDC群組</block>
  <block id="ff5a4226923e95cf43bd31559660d1c8" category="paragraph">若要開始、請在SDDC所在的相同地區和可用度區域部署額外的VPC、然後將Amazon FSx for NetApp ONTAP 支援部署到新的VPC。<block ref="5be76f2b0a93cb7fee056cbead96da1a" category="inline-link-rx"></block> 主控台可啟用連線至新指定VPC所需的網路組態選項、以便ONTAP 部署FSXfor Sfor。</block>
  <block id="61a4d8e132eda51933073e665a4eac93" category="admonition">在ONTAP AWS SDDC上部署FSx for VMware與VMware Cloud相同的可用區域。</block>
  <block id="55304a7521acfdd7143fb9cdb66a6344" category="paragraph">若要建立及掛載Amazon FSX for NetApp ONTAP Sfor NetApp Sfor文件系統、請完成下列步驟：</block>
  <block id="1a8a81e4c4d14a95fc47e07b614950b5" category="list-text">在「https://console.aws.amazon.com/fsx/`」開啟Amazon FSX主控台、然後選擇「*建立檔案系統*」來啟動「*建立檔案系統*」精靈。</block>
  <block id="ffd72149dd51740fcd4d150cabc5561f" category="list-text">在「Select File System Type」（選取檔案系統類型）頁面上、選取「* Amazon FSX for NetApp ONTAP 」（*適用於NetApp的Amazon FSx*）、然後按一下「* Next*」（此時將顯示「*建立檔案系統*」頁面。</block>
  <block id="e71747de43d70e18285f2764e5a036a6" category="paragraph"><block ref="e71747de43d70e18285f2764e5a036a6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f4817656b0e2a8e3ebdf2bd3377b2456" category="list-text">對於建立方法、請選擇*標準建立*。</block>
  <block id="35eb19b4c782b6a9c50e35b42f8c1f8c" category="paragraph"><block ref="35eb19b4c782b6a9c50e35b42f8c1f8c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5f47a2dd0d360703b1b45075c63cff1b" category="paragraph"><block ref="5f47a2dd0d360703b1b45075c63cff1b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="11dd82404551d7373785e4fcbc9b1005" category="list-text">在虛擬私有雲端（VPC）的*網路*區段中、選擇適當的VPC和偏好的子網路、以及路由表。在此情況下、會從下拉式功能表中選取「示範- FSxforONTAP-VPC」。</block>
  <block id="a9bc1797cfb722fb8dbfec3b16f44cb9" category="paragraph"><block ref="a9bc1797cfb722fb8dbfec3b16f44cb9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6a560e434862aec182aa626e0de6ca3a" category="list-text">在加密金鑰的「*安全性與加密*」區段中、選擇可保護檔案系統閒置資料的AWS金鑰管理服務（AWS KMS）加密金鑰。在*檔案系統管理密碼*中、輸入fsxadmin使用者的安全密碼。</block>
  <block id="9626f8b41e6908a3873b72869026a9da" category="paragraph"><block ref="9626f8b41e6908a3873b72869026a9da" category="inline-image-macro-rx" type="image"></block></block>
  <block id="75f7834ca5cbd9bf6c7a2b2e5073b427" category="list-text">在*預設儲存虛擬機器組態*區段中、指定SVM的名稱。</block>
  <block id="7c32cf52ace07fb1672e72defde4ac61" category="admonition">到GA時、支援四個NFS資料存放區。</block>
  <block id="5c732cc058a6b6d4676b55223bf85f5f" category="paragraph"><block ref="5c732cc058a6b6d4676b55223bf85f5f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="51ac4bf63a0c6a9cefa7ba69b4154ef1" category="cell">設定</block>
  <block id="9f1ef07877f9d85a82bd500f408b4814" category="cell">0%</block>
  <block id="a85c04491cb5bbcb534dc50b65b97530" category="cell">自動刪除</block>
  <block id="4ec86a7059e3d1002a06c51cbec9ad47" category="cell">Volume / OLDEST_First</block>
  <block id="5987147997d274c5292cab0b0006bef1" category="cell">Volume分層原則</block>
  <block id="902c737cbaa1a86889c41fec210c805f" category="cell">先試用</block>
  <block id="f4c25546f220bb5d07f94244c9303967" category="cell">自動擴充</block>
  <block id="4c0abf2d4c54820b8d33061abaf30759" category="cell">Snapshot原則</block>
  <block id="7c031a8d1af863155f52c6a16c34e0c1" category="paragraph"><block ref="7c031a8d1af863155f52c6a16c34e0c1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3216fa1649258260fcc7fb0c291ff2fb" category="paragraph"><block ref="3216fa1649258260fcc7fb0c291ff2fb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b2d2529841aebb478d3748c5528b4696" category="list-text">檢閱「*建立檔案系統*」頁面上顯示的檔案系統組態。</block>
  <block id="a7f848b3fa508f3850a768505d8de438" category="list-text">按一下「*建立檔案系統*」。</block>
  <block id="8c63e014bdbc571ce93e6b93d628d4e2" category="paragraph"><block ref="8c63e014bdbc571ce93e6b93d628d4e2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ef936ea5a977520b22368e3dbad83818" category="paragraph"><block ref="ef936ea5a977520b22368e3dbad83818" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f36688b56a320d6a48574b6092329e26" category="paragraph">若要深入瞭解Amazon FSX ONTAP 的效能、請參閱<block ref="45a884cbefaf34ae6fd7defa1c6be8c3" category="inline-link-rx"></block>。</block>
  <block id="6d3e0252631c98651b062c2fc85ad936" category="example-title">步驟2：建立SDDC群組</block>
  <block id="82fd9df68bd32ff1e24a66dc98b1e237" category="paragraph">建立檔案系統和SVM之後、請使用VMware Console建立SDDC群組、並設定VMware Transit Connect。若要這麼做、請完成下列步驟、並記住您必須在VMware Cloud Console和AWS主控台之間進行瀏覽。</block>
  <block id="cfdf8bfdb817c09bbd04bc1f8aec640d" category="list-text">登入VMC主控台：https://vmc.vmware.com`。</block>
  <block id="7959effd33c50a6257362d30f57326de" category="list-text">在「* Inventory *」頁面上、按一下「* SDDC Groups*」。</block>
  <block id="b8f684e055bd625606633c09969e9540" category="list-text">在「* SDDC Groups *（* SDDC群組*）」索引標籤上、按一下「* actions *（*動作*）」、然後選取「Create SDDC Group*（為了展示用途、SDDC群組稱為「FSxONTAPDatastoreGrp」。</block>
  <block id="ab3ee4623c465cb9edfbfeccc6ca86ba" category="list-text">在「成員資格」網格中、選取要納入為群組成員的SDDC。</block>
  <block id="7e52f6f87b99cfdf5ba2a85e9fe2e795" category="paragraph"><block ref="7e52f6f87b99cfdf5ba2a85e9fe2e795" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ef4fa61cc3be19123a586bd1f8e29e6e" category="list-text">確認已勾選「為您的群組設定VMware Transit Connect將會產生每個附件和資料傳輸的費用」、然後選取*建立群組*。此程序可能需要幾分鐘的時間才能完成。</block>
  <block id="a3f9cb9f805a5c5abc39008c09a7f2b1" category="paragraph"><block ref="a3f9cb9f805a5c5abc39008c09a7f2b1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5b17d6992e86eba9b41dc8a123e6e8fb" category="example-title">步驟3：設定VMware Transit Connect</block>
  <block id="dde50926302f7ec2015681d9c6a96817" category="inline-link">將外部VPC附加至群組的說明</block>
  <block id="8ebb2eb5630a76b1fe25c564158f80f6" category="list-text">將新建立的指定VPC附加至SDDC群組。選取*外部VPC*索引標籤、然後遵循<block ref="b29559f9008e4efd51a29ebaa2e02912" category="inline-link-rx"></block>。此程序可能需要10-15分鐘才能完成。</block>
  <block id="ac3defa2f0f4566a77fa8a1608c03c29" category="paragraph"><block ref="ac3defa2f0f4566a77fa8a1608c03c29" category="inline-image-macro-rx" type="image"></block></block>
  <block id="633bd88abb0a911cad29e551387946b8" category="list-text">按一下*新增帳戶*。</block>
  <block id="cec0191b59ccf1e88591a2c33ced8c4b" category="list-text">提供用來配置FSX以供ONTAP 參考檔案系統的AWS帳戶。</block>
  <block id="7dee7e783d13b6d5d415926ce0bfc306" category="list-text">按一下「 * 新增 * 」。</block>
  <block id="6a61e881b78352ae03c966d62ea1556d" category="list-text">回到AWS主控台、登入相同的AWS帳戶、然後瀏覽至*資源存取管理程式*服務頁面。有一個按鈕可讓您接受資源共用。</block>
  <block id="8fd6a12de6d9f24e91a89e003fe58ccd" category="paragraph"><block ref="8fd6a12de6d9f24e91a89e003fe58ccd" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4b5910ab3c7395246baf35589ead376f" category="admonition">在外部VPC程序中、系統會透過AWS主控台、透過資源存取管理程式提示您存取新的共用資源。共享資源是由VMware Transit Connect管理的AWS Transit閘道。</block>
  <block id="48fb6ee0dcc903c5fcfb9d1b15f2e3ad" category="list-text">按一下*接受資源共用*。</block>
  <block id="333af8dd6d2cdd37922abf85ebd7179a" category="paragraph"><block ref="333af8dd6d2cdd37922abf85ebd7179a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4e8fd48c7d02ab11c26a3e1882fd465a" category="list-text">回到VMC主控台、您現在可以看到外部VPC處於關聯狀態。這可能需要幾分鐘的時間才會出現。</block>
  <block id="49ba8c3245c3d07a0ed6167e466b43e1" category="example-title">步驟4：建立傳輸閘道附加</block>
  <block id="9db03aae4c3c9b489ffa8fc51242bb7e" category="list-text">在AWS主控台中、前往VPC服務頁面、然後瀏覽至用於配置FSX檔案系統的VPC。您可在此處按一下右側導覽窗格上的* Transit Gateway附件*、以建立傳輸閘道附件。</block>
  <block id="6d37c5b21f24bcca6d12fc5042185d45" category="list-text">在「* VPC附件*」下、確認已勾選「DNS支援」、然後選取ONTAP 部署FSX for Sf1的VPC。</block>
  <block id="1dcf4f0eabbad36654447dfb34f237b4" category="paragraph"><block ref="1dcf4f0eabbad36654447dfb34f237b4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cc8975fcad9c69f295fb15e5a13f2e40" category="list-text">按一下「*建立**傳輸閘道附加*」。</block>
  <block id="89483e202d4e3f304f821390c4a7a7cc" category="paragraph"><block ref="89483e202d4e3f304f821390c4a7a7cc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d2e46cdc573277625faad22330cf154f" category="list-text">返回VMware Cloud Console、瀏覽至SDDC Group &gt;外部VPC索引標籤。選取用於FSX的AWS帳戶ID、然後按一下VPC、再按一下* Accept*。</block>
  <block id="36fdbe9831a4d114b9917bcd89fac4c2" category="paragraph"><block ref="36fdbe9831a4d114b9917bcd89fac4c2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c3d94f2f6e446adaf149684973d365ee" category="paragraph"><block ref="c3d94f2f6e446adaf149684973d365ee" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a81e35637833161072f4311f3cb32ac5" category="admonition">此選項可能需要幾分鐘的時間才會出現。</block>
  <block id="08783cc975c3897f2fbd3671f2f82620" category="list-text">然後在* Routes *（*路由*）列的* Extern外部VPC*（*外部VPC*）標籤中、按一下* Add Routes（*新增路由*）選項、並新增所需的路由：</block>
  <block id="028ce3dd99b949a311e20d5403f17103" category="list-text">適用於NetApp ONTAP 的Amazon FSX的浮動IP範圍路由。</block>
  <block id="40fd62af6ee711539f271fc7513146a5" category="paragraph"><block ref="40fd62af6ee711539f271fc7513146a5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e007562e54d1b070168e2b77a1766fdc" category="paragraph"><block ref="e007562e54d1b070168e2b77a1766fdc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="937e96f27b1c5759ad7123b60f3775db" category="example-title">步驟5：設定路由（AWS VPC和SDDC）和安全性群組</block>
  <block id="b484a2377e56c4c768b99fa1ba1b950a" category="list-text">在AWS主控台中、找出VPC服務頁面中的VPC、然後選取VPC的*主*路由表、以建立返回SDDC的路由。</block>
  <block id="a563a48fad77850ec5058bda722b322a" category="list-text">瀏覽至下方面板中的路由表、然後按一下*編輯路由*。</block>
  <block id="85f3b67e1c98b7869b12f779e5f02b51" category="paragraph"><block ref="85f3b67e1c98b7869b12f779e5f02b51" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fb26d090b870823ae62ed28050e3aa89" category="list-text">在「*編輯路由*」面板中、按一下「*新增路由*」、然後選取「* Transit Gateway*」和相關的TGW ID、輸入SDDC基礎架構的CIDR。按一下*儲存變更*。</block>
  <block id="99388849296a3bbf649a9a953c7ce7d5" category="paragraph"><block ref="99388849296a3bbf649a9a953c7ce7d5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="74b3770eecc791f1748634fe7f30e559" category="paragraph"><block ref="74b3770eecc791f1748634fe7f30e559" category="inline-image-macro-rx" type="image"></block></block>
  <block id="358c085fce4b273ef954f6147feeb2c8" category="admonition">使用SDDC基礎架構的CIDR區塊來更新傳入規則。</block>
  <block id="268ce11e03f9defefab0c436b3818aab" category="admonition">確認VPC（FSXfor ONTAP Sf2所在位置）路由表已更新、以避免連線問題。</block>
  <block id="a3debdddc4080cea8851b37aee79d278" category="admonition">更新安全性群組以接受NFS流量。</block>
  <block id="492fa7be92a68b15ae3479a6542a7774" category="example-title">步驟6：將NFS磁碟區作為資料存放區附加至SDDC叢集</block>
  <block id="e91ba866f25c52426b4d551f9fa981ef" category="paragraph">在檔案系統佈建且連線到位之後、請存取VMware Cloud Console來掛載NFS資料存放區。</block>
  <block id="3c4c5dd0c54ac8e289c4fb955dfe019e" category="list-text">在VMC主控台中、開啟SDDC的* Storage*索引標籤。</block>
  <block id="b953143972b1f780c4334b7673a4c696" category="paragraph"><block ref="b953143972b1f780c4334b7673a4c696" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5b525bd0f1409ea87d946684edb92331" category="list-text">單擊* attach datastori*並填寫所需的值。</block>
  <block id="ad7075e284143c915d4b8c07e499daa4" category="admonition">NFS伺服器位址是NFS IP位址、可在FSX &gt; Storage virtual machines（儲存虛擬機器）索引標籤&gt; AWS主控台內的端點下找到。</block>
  <block id="98c1a8bf80cc3d0fcacfd52aeb1ac321" category="paragraph"><block ref="98c1a8bf80cc3d0fcacfd52aeb1ac321" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0d13c0b52cc34c4f5571b5ea17a13e01" category="list-text">按一下*附加資料存放區*、將資料存放區附加至叢集。</block>
  <block id="3d8b70e4499f2e2dd0c18b8b7f29eff9" category="paragraph"><block ref="3d8b70e4499f2e2dd0c18b8b7f29eff9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ea3387672e6f02f40253d603226e4fd8" category="list-text">存取vCenter以驗證NFS資料存放區、如下所示：</block>
  <block id="30880d4531deb5f77cf22e65ed7f3bc8" category="paragraph"><block ref="30880d4531deb5f77cf22e65ed7f3bc8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ff56eef7a458cc9250ee84cb0b8b3752" category="cell">FSX ONTAP<block ref="b9210f6aa16b7e370d59e02bd5b54f88" category="inline-link-macro-rx"></block></block>
  <block id="b2859c129ed9d2683658aaef48d31759" category="doc">解決方案名稱&gt;</block>
  <block id="4845fee41e2c9edce3bd46094fdb57a2" category="paragraph">作者：&lt;name&gt;、&lt;TITLE&gt;、&lt;company &gt;</block>
  <block id="ef1e6887c579ba81dcedc3f4e3793cd2" category="section-title">目標對象</block>
  <block id="46c04e63acdf5955295f68d8a963bfbd" category="paragraph">本解決方案適用於對&lt;goal &gt;感興趣的&lt;role &gt;。</block>
  <block id="1d00e7dce692e8dc3f6877f035e3a616" category="paragraph">或</block>
  <block id="b98cf6de800fd94a50eaa1fff8bfd974" category="section-title">解決方案測試/驗證環境</block>
  <block id="aca7234abb238eb8646973440eb294d3" category="paragraph">本解決方案的測試/驗證是在實驗室中執行、可能與最終部署環境相符或不相符。如需詳細資訊、請參閱下列各節。</block>
  <block id="bb46e30937334302b789ae4644fdc412" category="image-alt">解決方案架構示意圖</block>
  <block id="39f3ba4cf87d6a47181e787c275344e5" category="section-title">硬體/軟體元件</block>
  <block id="958c530ea1ae0e18b942f8784148734c" category="cell">*硬體*</block>
  <block id="619d009ae026df3741648cc5d1d82614" category="cell">&lt;硬體名稱&gt;</block>
  <block id="295146e011d375f76fc8093d2a5f746a" category="cell">&lt;機型/版本&gt;</block>
  <block id="18206c5add24b8898426959c811b779b" category="cell">更多資訊</block>
  <block id="7eef23b11d6e87eee968a9bef33fd707" category="cell">*軟體*</block>
  <block id="b8b4ca3eb830ebaf39f536d59b342a79" category="cell">軟體名稱&gt;</block>
  <block id="192dcc5c64e1f37fd6c9e50a1b157443" category="cell">&lt;版本&gt;</block>
  <block id="94f04537971d7a4a561c607ec55952a2" category="section-title">其他附註</block>
  <block id="5f8c710bd804698095dac1f01702f2dc" category="list-text">附註1.</block>
  <block id="b5be88cc2b21098a0407835f4cf72ead" category="list-text">附註n</block>
  <block id="dd1d4adbfe73c3cd87fc248a003b05a0" category="section-title">解決方案部署</block>
  <block id="335680aa8906e185cbdaebb23568afb0" category="example-title">步驟1：&amp;lt；說明步驟名稱&amp;gt;</block>
  <block id="8368bea2982e0341bdf3dd2e21ae59ba" category="list-text">工作1.</block>
  <block id="246b81c0be9905296fd43f043d65acf9" category="list-text">工作n</block>
  <block id="dc84800e606f171d76211870801056d9" category="example-title">步驟2：&amp;lt；說明步驟名稱&amp;gt;</block>
  <block id="1361b538eba6bc2813d883fde1eaa379" category="example-title">步驟n：&amp;lt；說明步驟名稱&amp;gt;</block>
  <block id="b57b7771f6b9c2ff769c133b18814390" category="section-title">其他部署選項</block>
  <block id="43437c4ac7246d8571bf69d647faab0e" category="inline-link-macro">文件說明</block>
  <block id="0da1d1196a3aec2a948937502374b5bb" category="list-text"><block ref="0da1d1196a3aec2a948937502374b5bb" category="inline-link-macro-rx"></block></block>
  <block id="71214e9c5af2e86babf8e62565a8dda2" category="inline-link-macro">另一份文件的說明</block>
  <block id="2757c805d63f926c06b19e462b16de69" category="list-text"><block ref="2757c805d63f926c06b19e462b16de69" category="inline-link-macro-rx"></block></block>
  <block id="2f9ce81cf9e5f73733bacd731daaedbc" category="sidebar">補充NFS資料存放區：總覽</block>
  <block id="cd9738c68373595541959c8e55ede29e" category="sidebar">補充NFS資料存放區：選項</block>
  <block id="00ec4042cd11b865f5a96645c8f6abca" category="sidebar">FSX ONTAP 支援補充NFS資料存放區：總覽</block>
  <block id="74fed8860f1d0399cb4c6a16b2510cd1" category="sidebar">VMC的補充NFS資料存放區</block>
  <block id="d251fcb24842564580e4c994b283538e" category="cell">新增FSxN / VMC和ANF / AVS的TCO計算機和模擬器連結</block>
  <block id="8625e1de7be14c39b1d14dc03d822497" category="sidebar">工具</block>
  <block id="e5365f39437feb49b24eddfa73253c24" category="sidebar">FSX+ ONTAP VMC TCO計算機</block>
  <block id="4856ec39dcc21fb53484ef230701e66b" category="sidebar">FSX+ ONTAP VMC模擬器</block>
  <block id="67c988a2e4a11132f6866cf0aff95568" category="sidebar">ANF + AVS TCO計算機</block>
  <block id="faeff2a13624e3552e026ffcba1c35dc" category="sidebar">ANF + AVS模擬器</block>
  <block id="714163a53d8c9c62964e7d6931c1c9ec" category="admonition">您無法在ONTAP 連線的VPC上部署FSXfor Sfor。您必須改在新的指定VPC中部署VPC、然後透過SDDC群組將VPC連接到VMware託管運輸閘道（vTGW）。</block>
  <block id="d7641cecb55db2651063f3be07278b31" category="example-title">步驟1：在ONTAP 新的指定VPC中建立Amazon FSX for Sf0</block>
  <block id="4e0c93d8fb3b7cedc4f8d92d8d692e85" category="admonition">資料存放區大小會因客戶而異。雖然每個NFS資料存放區建議的虛擬機器數量是主觀的、但許多因素都決定了每個資料存放區可放置的最佳VM數量。雖然大多數系統管理員只考慮容量、但傳送到VMDK的並行I/O量是整體效能最重要的因素之一。使用內部部署的效能統計資料來調整資料存放區磁碟區的大小。</block>
  <block id="2f0865bd1a50874390d074524829bfc4" category="admonition">請確定這是新的指定VPC、而非連接的VPC。</block>
  <block id="55431364d6f307d0c1adb83c07425d6c" category="admonition">根據預設ONTAP 、FSX for Sf0使用198.19.0/16做為檔案系統的預設端點IP位址範圍。確保端點IP位址範圍不會與AWS SDDC、相關VPC子網路和內部部署基礎架構上的VMC衝突。如果您不確定、請使用無衝突的無重疊範圍。</block>
  <block id="505582b625e19e5637e0557ad61b581e" category="list-text">在*預設Volume Configuration（Volume組態）*區段中、指定資料存放區所需的磁碟區名稱和大小、然後按一下* Next*（*下一步*）。這應該是NFSv3 Volume。若為*儲存效率*、請選擇*已啟用*以開啟ONTAP 「支援」儲存效率功能（壓縮、重複資料刪除及壓縮）。建立之後、請使用Shell使用* Volume modify__*修改Volume參數、如下所示：</block>
  <block id="9fdea1f4f5c62c2485312ab231c865ee" category="cell">Volume保證（空間保證形式）</block>
  <block id="bd03fce695997bf49af026bcb349a578" category="cell">無（精簡配置）–預設設定</block>
  <block id="9399f3b9e96901f84ac3bd68deec8850" category="cell">分數保留（分數保留）</block>
  <block id="6b3edd41659df403c04fb39ee40b0b0a" category="cell">0%–預設設定</block>
  <block id="dfa2ec9e60d8028b01d021f862fb77da" category="cell">Snap_Reserve（百分比快照空間）</block>
  <block id="80c2511d74ccaf27c63f1b6c3aafb2dc" category="cell">自動調整大小（自動調整大小模式）</block>
  <block id="535a7e7f6a8dd82fa6603e44982e0525" category="cell">已啟用–預設設定</block>
  <block id="df370ff95c6787552e774c17a2878b11" category="cell">僅Snapshot–預設設定</block>
  <block id="f072855ce664b2c9dd19371c8f451e72" category="paragraph">使用下列SSH命令建立及修改磁碟區：</block>
  <block id="82bf57f964fd07a578454495c4ae3a34" category="paragraph">*命令從Shell建立新的資料存放區磁碟區：*</block>
  <block id="3fe80d288dea7b9265abdfe33f302a9a" category="paragraph">*附註：*透過Shell建立的磁碟區需要幾分鐘的時間才能顯示在AWS主控台。</block>
  <block id="34b5a79399461f15942cc2bbb68ddb58" category="paragraph">*修改Volume參數的命令（預設未設定）：*</block>
  <block id="8f2384de60fd85d0b57b92b82a7b1835" category="admonition">在初始移轉案例中、預設的快照原則可能會造成資料存放區容量已滿問題。若要克服此問題、請修改快照原則以符合需求。</block>
  <block id="a19c957e90534613b36e90008ac1736c" category="admonition">重複上述步驟、根據容量和效能需求、建立更多儲存虛擬機器或檔案系統、以及資料存放區磁碟區。</block>
  <block id="5659fbd7d9a7a1963d1f57717f874bcb" category="list-text">下一步是驗證相關VPC中的安全性群組是否已更新為SDDC群組CIDR的正確傳入規則。</block>
  <block id="381318b231b70d3c81a3bb05e8912be3" category="paragraph">這是準備連線至適當SDDC的最後步驟。在設定檔案系統、新增路由及更新安全性群組之後、現在正是掛載資料存放區的好時機。</block>
  <block id="e60de72a8067fd05498b03b24d9f93e7" category="paragraph">本解決方案可解決下列使用案例：</block>
  <block id="50f68cc3bee11411ba8ee639a7ed59d7" category="list-text">&lt;使用案例1&gt;</block>
  <block id="bfbe592724efe7b70f86b50a78741381" category="list-text">&lt;使用案例n&gt;</block>
  <block id="732f94f3061dc1751b3c7e3ea8566239" category="paragraph">本解決方案適用於：</block>
  <block id="dab739113e8cfebbcfcfaea1515c0bcf" category="list-text">、誰對&lt;goal &gt;感興趣、</block>
  <block id="7367185552beb127edfea2f14982e67f" category="list-text">、誰對&lt;goal &gt;感興趣。</block>
  <block id="71b51633ceea83cdf1136196fce39901" category="admonition">客體內儲存設備是唯一支援的將Cloud Volumes ONTAP 功能連接到AWS VMC的方法。</block>
  <block id="9761d5208d76a88ba5a08152c4431c2f" category="admonition">客體內儲存設備是唯一支援的連線Cloud Volumes ONTAP 至Azure VMware解決方案的方法。</block>
  <block id="bb19e956b854f8e209f51237a29feb31" category="admonition">客體內儲存設備是目前唯一支援的連線Cloud Volumes ONTAP 功能、可將VMware（CVO）連線至AWS VMC。</block>
  <block id="36c48411397a73fcbe7ccac93862641b" category="admonition">在寫入本文檔時、來賓儲存設備是唯一可用的選項。隨著補充NFS資料存放區支援的推出、我們也會提供額外的文件 <block ref="2feee9d08b57f121d415095bba26ae78" category="inline-link-macro-rx"></block>。</block>
  <block id="44db359cccfc9a14e67b800f405a2078" category="sidebar">設定自動化環境</block>
  <block id="1c08b76510a159f0dcb62c62d5584a78" category="paragraph"><block ref="1c08b76510a159f0dcb62c62d5584a78" category="inline-link-macro-rx"></block></block>
  <block id="b5062caa115b4047ecd2ef0d7177923b" category="paragraph">此TR使用下列參考資料：</block>
  <block id="7a5b516d0c7b523466aabf4d65c5920e" category="list-text">Apache Spark架構與元件</block>
  <block id="71792c2d1ea80e0e082f8dc3cbdabfdd" category="inline-link"><block ref="71792c2d1ea80e0e082f8dc3cbdabfdd" category="inline-link-rx"></block></block>
  <block id="e37c2ea27f7286c4bd6a5fda415b8de8" category="paragraph"><block ref="e37c2ea27f7286c4bd6a5fda415b8de8" category="inline-link-rx"></block></block>
  <block id="63e2d6091a94e7952a98f50aab0149ce" category="list-text">Apache Spark使用案例</block>
  <block id="f2b9f91de80e495bcbc6169f57a4bd2d" category="inline-link"><block ref="f2b9f91de80e495bcbc6169f57a4bd2d" category="inline-link-rx"></block></block>
  <block id="7bc4162d3088ec5f539bb8bccd911d30" category="paragraph"><block ref="7bc4162d3088ec5f539bb8bccd911d30" category="inline-link-rx"></block></block>
  <block id="506326e78695dcca6de9cbc14a77c5b7" category="list-text">Apache挑戰</block>
  <block id="6f8995e5d73fedcfa04d4c714e6f7a46" category="inline-link"><block ref="6f8995e5d73fedcfa04d4c714e6f7a46" category="inline-link-rx"></block></block>
  <block id="a4047ab5c68e6bd8f8ad5dfc79e46847" category="paragraph"><block ref="a4047ab5c68e6bd8f8ad5dfc79e46847" category="inline-link-rx"></block></block>
  <block id="635dbe8a61ae76776533cf731db5ca3d" category="list-text">Spark NLP</block>
  <block id="164b938eda63c6ce2631a3fcf3f37e5f" category="inline-link"><block ref="164b938eda63c6ce2631a3fcf3f37e5f" category="inline-link-rx"></block></block>
  <block id="4f2faa20c7d825b4d0501e1086305aac" category="paragraph"><block ref="4f2faa20c7d825b4d0501e1086305aac" category="inline-link-rx"></block></block>
  <block id="94f39b7b282094c13473d8b26a45d1f1" category="inline-link"><block ref="94f39b7b282094c13473d8b26a45d1f1" category="inline-link-rx"></block></block>
  <block id="aff4ff24147d7c4a2645c7781e081f7f" category="paragraph"><block ref="aff4ff24147d7c4a2645c7781e081f7f" category="inline-link-rx"></block></block>
  <block id="b507f78e88e67a8302f19d731bc75b06" category="list-text">深入跨網的廣告點選預測</block>
  <block id="8ebbe970a3e3c77f7c8e00655ce2e505" category="inline-link"><block ref="8ebbe970a3e3c77f7c8e00655ce2e505" category="inline-link-rx"></block></block>
  <block id="ae454d032cd3c53237c03ee439566905" category="paragraph"><block ref="ae454d032cd3c53237c03ee439566905" category="inline-link-rx"></block></block>
  <block id="4a695ebb62ee4f32f7dd893fa1e282f9" category="inline-link"><block ref="4a695ebb62ee4f32f7dd893fa1e282f9" category="inline-link-rx"></block></block>
  <block id="c0ce2c750c3848619c847bc001ba66be" category="paragraph"><block ref="c0ce2c750c3848619c847bc001ba66be" category="inline-link-rx"></block></block>
  <block id="becd6832ca6f3b6680d480b5802d1435" category="list-text">串流ETL</block>
  <block id="b5924cfbbd0aa8b99cd3b6953ae625a3" category="inline-link"><block ref="b5924cfbbd0aa8b99cd3b6953ae625a3" category="inline-link-rx"></block></block>
  <block id="8d325f57229e685a7ad47c71dd567604" category="paragraph"><block ref="8d325f57229e685a7ad47c71dd567604" category="inline-link-rx"></block></block>
  <block id="31a31ad34b829349beab62dc154bb53c" category="list-text">適用於Hadoop的NetApp E系列解決方案</block>
  <block id="7cc9f35180bb40054e46d3046347f4fd" category="inline-link"><block ref="7cc9f35180bb40054e46d3046347f4fd" category="inline-link-rx"></block></block>
  <block id="ea07fc98557e1b8c5b675972fe1621da" category="paragraph"><block ref="ea07fc98557e1b8c5b675972fe1621da" category="inline-link-rx"></block></block>
  <block id="6e1ead71812900db964474f24a84ff5e" category="list-text">客戶與NetApp AI溝通時的情緒分析</block>
  <block id="270a8289ec3296709282f87be3043182" category="inline-link"><block ref="270a8289ec3296709282f87be3043182" category="inline-link-rx"></block></block>
  <block id="5d6e0d6396516ff7be3c4a58b49ef3a7" category="paragraph"><block ref="5d6e0d6396516ff7be3c4a58b49ef3a7" category="inline-link-rx"></block></block>
  <block id="a435d889d8c30f88d959b581e585cb98" category="inline-link"><block ref="a435d889d8c30f88d959b581e585cb98" category="inline-link-rx"></block></block>
  <block id="2e0db0f40c94a679b5a5692c131d03f4" category="paragraph"><block ref="2e0db0f40c94a679b5a5692c131d03f4" category="inline-link-rx"></block></block>
  <block id="794cb725c5631ad99b5b7c000307f0df" category="list-text">SnapMirror</block>
  <block id="c932e562e101240deed6e4be0656dfd6" category="inline-link"><block ref="c932e562e101240deed6e4be0656dfd6" category="inline-link-rx"></block></block>
  <block id="750daab11890513d7529766b651ae531" category="paragraph"><block ref="750daab11890513d7529766b651ae531" category="inline-link-rx"></block></block>
  <block id="a7ac1d2e69b9bbb9a2accb2ec30a1d69" category="list-text">XCP</block>
  <block id="e7d54d48522774aa8774f3733414d084" category="inline-link"><block ref="f575d0e12f7a285daadcaf60a35e305e" category="inline-link-rx"></block></block>
  <block id="a0b810672fcf48d5064bdbf73f520d55" category="paragraph"><block ref="d41dfcb87efb2171f45941c801c9f5cc" category="inline-link-rx"></block></block>
  <block id="90a11f9647f9e3f6cfead9fdd4f0789d" category="inline-link"><block ref="90a11f9647f9e3f6cfead9fdd4f0789d" category="inline-link-rx"></block></block>
  <block id="b8cfbcc5c9748a8f12142a1b9aae0e67" category="paragraph"><block ref="b8cfbcc5c9748a8f12142a1b9aae0e67" category="inline-link-rx"></block></block>
  <block id="ce9b5cd96205262213c417b501e9ed55" category="list-text">DataOps工具套件</block>
  <block id="90f0f970ed32524c528ba2778079d485" category="summary">NetApp有三種儲存產品組合：FAS/AFF、E系列和Cloud Volumes ONTAP VMware。我們已驗證AFF 採用ONTAP NetApp技術的支援功能、以及採用NetApp技術的E系列、以利搭配Apache Spark的Hadoop解決方案。採用NetApp技術的資料架構整合了資料管理服務與應用程式（建置區塊）、可提供資料存取、控制、保護及安全性。</block>
  <block id="12a9f57585cd6b3b985dd451bf552845" category="doc">NetApp Spark解決方案總覽</block>
  <block id="255ce02d0613433bc0a7c76f4afde71e" category="inline-link-macro">先前版本：解決方案技術。</block>
  <block id="dd12a34c3b567f24a9da980ebdd52821" category="paragraph"><block ref="dd12a34c3b567f24a9da980ebdd52821" category="inline-link-macro-rx"></block></block>
  <block id="5e1c0d548834c9871fb6687dd0f1adab" category="paragraph">NetApp有三種儲存產品組合：FAS/AFF、E系列和Cloud Volumes ONTAP VMware。我們已驗證AFF 採用ONTAP NetApp技術的支援功能、以及採用NetApp技術的E系列、以利搭配Apache Spark的Hadoop解決方案。採用NetApp技術的資料架構整合了資料管理服務與應用程式（建置區塊）、可用於資料存取、控制、保護及安全性、如下圖所示。</block>
  <block id="710b54a5dd637d8e21574c4fb3eea545" category="inline-image-macro">Data Fabric提供資料管理服務與應用程式。</block>
  <block id="84996abc8bbc3c77ef59d8a39c852d30" category="paragraph"><block ref="84996abc8bbc3c77ef59d8a39c852d30" category="inline-image-macro-rx" type="image"></block></block>
  <block id="829a597c83ae2b02e991f062bb891ace" category="list-text">* NetApp NFS直接存取。*提供最新的Hadoop和Spark叢集、可直接存取NetApp NFS磁碟區、無需額外的軟體或驅動程式需求。</block>
  <block id="d075304bce816c2722d405cac9bf4877" category="list-text">* NetApp SnapMirror技術。*可在內部部署ONTAP 與支援內部部署的NetApp或NPS執行個體之間提供資料保護功能。</block>
  <block id="bd162abba0390e6a6e2e2581d449bf77" category="paragraph">下圖說明採用NetApp儲存設備的Spark解決方案。</block>
  <block id="0ec1ecf37e474c5f4116ab4ae95e84d9" category="inline-image-macro">運用NetApp儲存設備激發解決方案的火花。</block>
  <block id="0847e549ec9fd7e676ad66196c4210a2" category="paragraph"><block ref="0847e549ec9fd7e676ad66196c4210a2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bc4d71ccd96e1b29bc3437c1cb6a245e" category="paragraph">利用NetApp NFS直接存取傳輸協定、利用現有正式作業資料存取就地分析、以及AI、ML和DL工作流程。ONTAP可用於Hadoop節點的正式作業資料會匯出、以執行就地分析和AI、ML和DL工作。您可以透過NetApp NFS直接存取或不使用、存取Hadoop節點中的資料以進行處理。在Spark搭配獨立式或「線」叢集管理程式、您可以使用「」來設定NFS磁碟區<block ref="7667eac59549f5d64cbcc9214ea613f8" category="inline-link-rx"></block>。我們已驗證三個使用案例、並使用不同的資料集。這些驗證的詳細資料請參閱「測試結果」一節。 （XEF）</block>
  <block id="955ae639ea2500f38215e8263610b119" category="paragraph">下圖說明NetApp Apache Spark/Hadoop儲存設備定位。</block>
  <block id="78157b6c5aece6e0b7b7ea998dce3a8a" category="inline-image-macro">NetApp Apache Spark/Hadoop儲存定位。</block>
  <block id="5af92584fa4ab2b78abca73f9bbdcf42" category="paragraph"><block ref="5af92584fa4ab2b78abca73f9bbdcf42" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3cf3adbf38f17f8e0c86c8531fc379b7" category="paragraph">我們找出E系列Spark解決方案的獨特功能、AFF/FAS ONTAP 電火花解決方案和StorageGRID VMware Spark解決方案、並執行詳細的驗證與測試。根據我們的觀察結果、NetApp建議採用E系列解決方案來進行全新的現場安裝和新的可擴充部署、以及AFF/FAS解決方案、以便使用現有NFS資料進行就地分析、AI、ML和DL工作負載、StorageGRID 並在需要物件儲存時、針對AI、ML和DL進行Sfor AI、以及現代化資料分析。</block>
  <block id="675ed5324aa6eda280e015498c583161" category="inline-image-macro">推薦的適用於Spark的NetApp解決方案。</block>
  <block id="d3deaa8bf3eb6619cb86d00d661a22e9" category="paragraph"><block ref="d3deaa8bf3eb6619cb86d00d661a22e9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="aa7b20f32446fa30f765cd0b1ca93739" category="paragraph">資料湖是以原生形式儲存大型資料集的儲存庫、可用於分析、AI、ML和DL工作。我們為E系列、AFF/FAS和StorageGRID VMware SG6060 Spark解決方案打造資料湖儲存庫。E系列系統可讓HDFS存取Hadoop Spark叢集、而現有的正式作業資料則是透過NFS直接存取傳輸協定存取Hadoop叢集。對於位於物件儲存設備中的資料集、NetApp StorageGRID 支援S3和S3a安全存取。</block>
  <block id="22ad538f7c0e01603f9410a9bdc10d04" category="inline-link-macro">下一步：使用案例摘要。</block>
  <block id="5de3601bc15319fca36066c272d6321d" category="paragraph"><block ref="5de3601bc15319fca36066c272d6321d" category="inline-link-macro-rx"></block></block>
  <block id="fd79b6614eaf33c0131b98cf6d33aef4" category="summary">本頁將更詳細地說明AI、ML和DL的主要使用案例和架構。</block>
  <block id="029e93fe56123e362c90a853d36c91c9" category="doc">主要AI、ML和DL使用案例和架構</block>
  <block id="4204e74b027f3052d00f7e876556fd90" category="inline-link-macro">先前：使用案例摘要。</block>
  <block id="8fc7ffb01920f82159e7c7fc73617df5" category="paragraph"><block ref="8fc7ffb01920f82159e7c7fc73617df5" category="inline-link-macro-rx"></block></block>
  <block id="38fe3ee7a8452539638ebb43094bf303" category="paragraph">AI、ML和DL的主要使用案例和方法可分為下列各節：</block>
  <block id="28ab286fd15a84ffcfa82ffe262b2d07" category="section-title">Spark NLP管道和TensorFlow分散式推斷</block>
  <block id="b66d8859b0ca8adab0c5459ef44ed90c" category="paragraph">下列清單包含資料科學社群在不同開發層級採用的最受歡迎開放原始碼NLP程式庫：</block>
  <block id="357d19386660ae0694f2fa195678b61a" category="inline-link">自然語言工具套件（NLTK）</block>
  <block id="b7c0dd146600af70e881dce2c233cdb9" category="list-text"><block ref="202d1986e5208977bf54b6b767767c39" category="inline-link-rx"></block>。所有NLP技術的完整工具套件。自2000年代初期起便一直維持這項功能。</block>
  <block id="76e3c26aea345cd63928dae30c7683b8" category="inline-link">文字Blob</block>
  <block id="9733a294c2e8cbac3f50f2b1c6165ac9" category="list-text"><block ref="29dbbb204c6bb7c5433e577a001773ba" category="inline-link-rx"></block>。簡單易用的NLP工具Python API、建置於NLTK和Pattern之上。</block>
  <block id="b8dc45aaa0db9ddabebf51171beed13a" category="inline-link">史丹佛核心NLP</block>
  <block id="e566a3c30415cf2003b1ae965e897b0c" category="list-text"><block ref="3aea58940b1efe70ecaf2254ccc89f1e" category="inline-link-rx"></block>。由斯坦福NLP Group開發的Java NLP服務與套件。</block>
  <block id="7013def92af3dd7db98d1285170b5c5a" category="inline-link">Gensim</block>
  <block id="f669b3f1322541dcae0edc94f45435ac" category="list-text"><block ref="7b679f834cae0cff7425a8dc62e2ec2e" category="inline-link-rx"></block>。「人類主題建模」從捷克數位數學庫專案的Python指令碼集合開始。</block>
  <block id="2840ef6b507856e3306a32ffe28a8886" category="inline-link">空間大</block>
  <block id="418cc23cee80079d8aa2ccd37169bfc0" category="list-text"><block ref="bc5121a0541ff390725a7d480b19b87f" category="inline-link-rx"></block>。端點對端點工業NLP工作流程、搭配Python和Cython、並可加速變壓器的GPU。</block>
  <block id="e0b205fce51b69be7136044a22a371ab" category="inline-link">Fasttext</block>
  <block id="07ad1b642fbcf4cbc6f67e8f5b7ce593" category="list-text"><block ref="53fd0bea11d98e3b7893bc4fbf501c85" category="inline-link-rx"></block>。免費、輕量化的開放原始碼NLP程式庫、適用於Facebook AI Research（Fair）實驗室所建立的詞彙學習文案與句子分類。</block>
  <block id="12680128425c827ef65d76f354329e97" category="inline-link">Spark ML</block>
  <block id="27e7661d3fd9daf238bb981e30734c3c" category="paragraph">Spark NLP是單一的統一化解決方案、適用於所有NLP工作與需求、可針對實際的正式作業使用案例、提供可擴充、高效能及高準確度的NLP軟體。它運用移轉學習、並在研究領域和跨產業中實作最新的最先進演算法和模型。由於Spark對上述程式庫缺乏完整支援、因此Spark NLP建置於上方<block ref="3b3cfa486b6d50798f20e9b1ded08f31" category="inline-link-rx"></block> 善用Spark一般用途的記憶體內分散式資料處理引擎、做為企業級NLP程式庫、用於關鍵任務正式作業工作流程。其註釋工具運用規則型演算法、機器學習和TensorFlow來推動深度學習實作。這涵蓋常見的NLP工作、包括但不限於令牌化、模組化、產生、部分語音標記、具名實體辨識、 拼字檢查及情緒分析。</block>
  <block id="5f29df192bff436cf72d454f30a968c1" category="paragraph">Transformers（Bert）的雙向編碼器表示法是NLP的一種以變壓器為基礎的機器學習技術。它推廣了預先訓練和微調的概念。Bert的變壓器架構源自機器翻譯、這種機器的長期相依性模型比經常性的神經網路（RNN）型語言模型更好。此外、它也引進了「遮罩語言模型（MLM）」工作、其中隨機遮罩了15%的所有權杖、模型會預測這些權杖、實現真正的雙向性。</block>
  <block id="8f1fadc17d848b3be53c2009f5f9070a" category="inline-link">FinBit</block>
  <block id="f12fa7d8a39cc8394ad5dfb1afe14bee" category="inline-link">Reuters TRC2</block>
  <block id="3795ebdf5b8232c65a11ceced659b1d5" category="inline-link">金融市場銀行</block>
  <block id="575e9b077146ddbbac786ed0a40a1a21" category="inline-link">金融新聞的情緒分析</block>
  <block id="189f0cc22e5920c5fbe48e7f7a384fa4" category="inline-link">說明DL文件</block>
  <block id="8171f59448f55698ad8ecd07ce1633b6" category="paragraph">由於該網域的專業語言和缺乏標記資料、因此財務情緒分析是一項挑戰。<block ref="9c44f0ce83f7021f3ece2b04fda553fb" category="inline-link-rx"></block>是一種以訓練前的Bert為基礎的語言模式、已在網域上進行調整<block ref="a21d1b93ad8a312fcc9c56c81567ecca" category="inline-link-rx"></block>、財務資料集、並以標記資料進行微調（<block ref="14fa31c8eadcc29b01046706cfe3add5" category="inline-link-rx"></block>）。研究人員以財務術語從新聞文章中擷取4、500個句子。接著有16位具有財務背景的專家和碩士學生將句子標示為正面、中立和負面。我們建立了端點對端點的Spark工作流程、以分析2016至2020年前十大NASDAQ公司的營收客服記錄、使用FinBitt和其他兩個預先訓練的管道（..<block ref="6d4ea12c876c5a993aa1b5d0f03f167f" category="inline-link-rx"></block>、<block ref="520f5e4ba9970dad735654cb1f0d1138" category="inline-link-rx"></block>）來自Spark NLP。</block>
  <block id="026dcbbbfad27f6209a41e9dab2f3aed" category="paragraph">適用於Spark NLP的基礎深度學習引擎是TensorFlow、這是一套端點對端點開放原始碼平台、可用於機器學習、可輕鬆建構模型、隨處進行強大的ML正式作業、以及進行強大的研究實驗。因此、在Spark「線叢集」模式下執行管線時、我們基本上是在叢集上執行分散式TensorFlow、並在單一主節點和多個工作節點之間執行資料和模型平行化、以及網路附加儲存設備。</block>
  <block id="159bdf3f5d37e56033c6c1736f86b085" category="section-title">Horovod分散式訓練</block>
  <block id="ba6c44669e2888938a004611469c95dc" category="inline-link">TR-3969：NetApp Hadoop解決方案</block>
  <block id="6f5ab42847eab5c573282c94e51100a9" category="paragraph">MapReduce相關效能的核心Hadoop驗證是透過TeraGen、TeraSort、TeraValidate和DFSIO（讀寫）來執行。TeraGen和TeraSort驗證結果會顯示在中<block ref="c56c49d0c7359320f900743306997a3c" category="inline-link-rx"></block> 適用於E系列、並在「Storage Tiering」（xref）一節AFF 中介紹</block>
  <block id="2c41734dc7928bdea8c2eab845ad7074" category="inline-link">Hovorod on Spark</block>
  <block id="7509c08cb8b336b99de5f0cd33f545fd" category="paragraph">根據客戶的要求、我們認為透過Spark進行的分散式訓練是各種使用案例中最重要的一項。在本文中、我們使用了<block ref="e46884ff7ae14dc4a4c2907aa0145199" category="inline-link-rx"></block> 使用NetApp All Flash FAS （AFF VMware）儲存控制器Azure NetApp Files 、VMware®及StorageGRID VMware®來驗證NetApp內部部署、雲端原生及混合雲解決方案的Spark效能。</block>
  <block id="57b5eacba6da62ec21ea18f95421ef6b" category="paragraph">Horovod on Spark套件提供了一款便利的包裝函式、可讓您輕鬆在Spark叢集中執行分散式訓練工作負載、實現緊密的模型設計迴圈、讓訓練和推斷資料所在的Spark執行資料處理、模型訓練和模型評估。</block>
  <block id="e556cc2b256f6dd2bbe1cdfdb528c858" category="inline-link">Kaggle Rossmann商店銷售</block>
  <block id="f2280eb8ac361218b35f9fc97d4027b4" category="paragraph">在Spark上執行Horovod的API有兩種：高階Estimator API和較低層級的Run API。儘管兩者都使用相同的基礎機制、在Spark執行程式上啟動Horovod、但Estimator API會將資料處理、模型訓練迴圈、模型檢查點、指標收集和分散式訓練擷取出來。我們使用Horovod Spark Estimators、TensorFlow和Keras來進行端點對端點資料準備、並根據進行分散式訓練工作流程<block ref="d30b6f4a07a765f48b43dd15bf3bc8ea" category="inline-link-rx"></block> 競爭。</block>
  <block id="fa3406903536d0cf09bf8e66ae33aebf" category="inline-link-macro">每個主要使用案例的Python指令碼。</block>
  <block id="94f33f4ba60c5f66bf0c60c3e391a81b" category="paragraph">指令碼「keras」（keras）-「SPARK」（火花）-「horovod_rossmann_redimator.py」（組態）可在一節中找到 <block ref="9843d2ebe8b4d4385946214b6f8e40b8" category="inline-link-macro-rx"></block> 其中包含三個部分：</block>
  <block id="1e0ac520c0a0627793f8b0ca3703e8e1" category="list-text">第一部分是針對Kaggle提供並由社群收集的一組CSV檔案、執行各種資料預先處理步驟。輸入資料會分成「驗證」子集和測試資料集的訓練集。</block>
  <block id="80ee77d4db5b8f731e911e7c47803afa" category="list-text">第二部分定義Keras Deep Neural Network（DNN）模型、其中包含對數型sigmoid啟動功能和Adam最佳化程式、並使用Spark的Horovod來執行模型的分散式訓練。</block>
  <block id="6c32e5a10a8b9f7e225e92b30c4eb494" category="list-text">第三部分會使用最佳模式、對測試資料集執行預測、將驗證集整體平均絕對錯誤減至最低。然後建立輸出CSV檔案。</block>
  <block id="ca1ff924f88675800b52c7c1b223b4a2" category="inline-link-macro">「機器學習」</block>
  <block id="a67083c66285446e108268f795b72b24" category="paragraph">請參閱一節 <block ref="65cdc2076a502903b78fb8128fc1a214" category="inline-link-macro-rx"></block> 以取得各種執行時間比較結果。</block>
  <block id="840da3122eba37f84480a8dc769a8cc3" category="section-title">使用Keras進行CTR預測的多工深度學習</block>
  <block id="4debf96216c552af520b74d3d0d2f2dc" category="paragraph">隨著ML平台與應用程式的最新進展、現在許多人都開始大規模學習。點閱率（CTR）定義為每百個線上廣告曝光點閱率（以百分比表示）的平均點閱率。在各種產業垂直市場和使用案例中、包括數位行銷、零售、電子商務和服務供應商、廣泛採用此技術作為主要指標。請參閱我們的<block ref="5e9febd4c244550b32d7bb781b595741" category="inline-link-rx"></block> 如需更多有關CTR應用程式和Kubernetes端點對端點雲端AI工作流程實作、分散式資料ETL、以及使用dask和CUDA ML進行模型訓練的詳細資訊。</block>
  <block id="45c832c8d01426bfb65d74b7c547ad0c" category="inline-link">請按一下「記錄資料集」</block>
  <block id="be1115ec919e48805da898209ea2c15a" category="paragraph">在本技術報告中、我們使用的是不同的<block ref="1a19f40e7660b78c77663f74c89e1e7b" category="inline-link-rx"></block> （請參閱TR-4904）針對使用Keras建置Deep and Cross Network（DCN）機型的Spark工作流程的多位員工分散式深度學習、比較其記錄遺失錯誤功能與基礎Spark ML物流回歸模式的效能。新一代的新一代管理系統可有效擷取限定度的有效功能互動、學習高度非線性互動、不需手動進行特徵工程或詳盡搜尋、而且運算成本低廉。</block>
  <block id="71b755d753dcdba2aeca91b65c167330" category="paragraph">Web等級建議系統的資料大多是分離式且明確的、導致功能探索的空間大而稀少。這將大多數大型系統限制為線性模型、例如物流回歸。然而、找出經常預測的功能、同時探索未被發現或罕見的交叉功能、是做出良好預測的關鍵。線性模型簡單易用、可解釋且易於擴充、但其表現能力有限。</block>
  <block id="793743a945a26aaa07de844420d013af" category="paragraph">另一方面、交叉功能在改善模型表現方面表現顯著。可惜的是、通常需要手動進行功能工程或詳盡搜尋、才能識別這些功能。一般而言、難以與看不到的功能互動。使用像是DCN這樣的跨神經網路、可透過自動明確套用功能交會、避免工作特定的功能工程。跨網路由多個層組成、其中最高程度的互動取決於層深度。每個層級都會根據現有層級產生較高順序的互動、並維持先前層級的互動。</block>
  <block id="70725839e7d887ef6f8c815f325d4592" category="paragraph">深度神經網路（DNN）承諾能夠擷取功能之間非常複雜的互動。然而、相較於DCN、它需要的參數幾乎多出一個順序、無法明確形成交叉功能、也可能無法有效瞭解某些類型的功能互動。跨網路的記憶體效率極高、而且易於實作。共同訓練交叉和DNN元件、有效擷取預測性功能互動、並在Criteo CTR資料集上提供最先進的效能。</block>
  <block id="9830e1f81f623b33106acc186b93374e" category="inline-link">ML</block>
  <block id="fefc70efb4580c1020c62303f76330f7" category="inline-link">mlLib</block>
  <block id="2c9e5f067c0c14c56aa757d792108648" category="inline-link">DeepCTR</block>
  <block id="75e8e622ae2ef0cb646ef505a0b3f7be" category="paragraph">一種新的DCN模式從內嵌和堆疊層開始、接著是跨網路和平行的深度網路。接著是最後的組合層、將兩個網路的輸出結合在一起。您的輸入資料可以是具有稀少和密集功能的向量。在Spark、兩者兼具<block ref="e0c7aa0ef7a63ea331cba99be2697841" category="inline-link-rx"></block> 和<block ref="495fc8cfd173be827e5c6c8258a34e04" category="inline-link-rx"></block> 程式庫包含「parseVector」類型。因此、使用者必須區分兩者、並在呼叫各自的功能和方法時務必留意。在CTR預測等網路規模的建議系統中、輸入內容大多是明確的功能、例如「country=USA」（國家/地區=美國）。這類功能通常編碼為單一熱向量、例如「[0、1、0、…]」。單一熱編碼（OHT）搭配「parseVector」（parseVector）、在處理真實世界的資料集時非常實用、因為這些資料集的詞彙不斷變化且不斷成長。我們在中修改了範例<block ref="0be922124247f224cab64b030781eed7" category="inline-link-rx"></block> 為了處理大型詞彙、在我們的DCN嵌入與堆疊層中建立嵌入式向量。</block>
  <block id="565d2d07d9c220babb78adab27c2243a" category="inline-link">Criteo展示廣告資料集</block>
  <block id="d05de658e793ee731e5a3782c453caa6" category="paragraph">。<block ref="8cb83117ecfa6e6678785dbda34d1999" category="inline-link-rx"></block> 預測廣告點擊率。它有13個整數特徵和26個分類特徵、其中每個類別都有高基數。對於此資料集而言、由於輸入大小較大、記錄遺失的效能提升實際上相當可觀。對於大型使用者群而言、預測準確度略有改善、可能導致公司營收大幅增加。資料集包含7天內11GB的使用者記錄、相當於約4、100萬筆記錄。我們使用Spark的「datFrame.隨機 分割（）功能」來隨機分割訓練（80%）、交叉驗證（10%）及其餘10%的資料以供測試。</block>
  <block id="e871e132ed2e9c6d6213da57972adec1" category="paragraph">在TensorFlow上實作的是Keras。使用新一代會議管理系統進行模型訓練程序的主要部分有四個：</block>
  <block id="18aca2eb061782e34fcc772d780e4327" category="list-text">*資料處理與內嵌。*實際價值的功能會透過套用記錄轉換來標準化。對於分類功能、我們將功能內嵌在尺寸6×（類別基數）1/4的密集向量中。串連所有的內嵌文字會產生維度向量1026。</block>
  <block id="190befa8188b0e07126d23d7488e79e7" category="list-text">*最佳化。*我們使用Adam最佳化工具套用迷你批次隨機最佳化。批次大小設定為512。批次正規化已套用至深度網路、且漸層剪輯規範設定為100。</block>
  <block id="023b8b252258fa415118862dec994bbf" category="list-text">*正規化。*我們使用早期停機、因為L2正規化或資料脫落並未生效。</block>
  <block id="5f7ce3c44b690052b88504fd4c0ff7bb" category="list-text">* Hyperparameters.*我們會根據在隱藏圖層數、隱藏圖層大小、初始學習率及跨圖層數上的網格搜尋結果來報告結果。隱藏的圖層數量介於2到5之間、隱藏的圖層大小介於32到1024之間。對於DCN、跨層的數量從1到6。初始學習率從0.0001調至0.001、增量為0.0001。所有實驗都會在訓練步驟150、000之前提早停止、之後就開始過度調整。</block>
  <block id="a5203fd5d2ee4a156e177b2b5b5ecb45" category="inline-link">DeepFM</block>
  <block id="ca099c15c1ba89f9956f37979064b6ea" category="inline-link">深層FM</block>
  <block id="43d5f147547ecf24ebc038feb06a8312" category="inline-link">自動整型</block>
  <block id="79249d5f44965bf593f3105190bac784" category="inline-link">新一代的</block>
  <block id="ebca0d5eb18ce917a3f0d2d49746eb3d" category="paragraph">除了新增的新一代會議管理系統、我們也測試了其他熱門的深度學習模式、以利進行CTR預測、包括<block ref="256b68047e4850e72fc6a1a263d88e86" category="inline-link-rx"></block>、<block ref="dc65ad48383bc08407486976f4411f66" category="inline-link-rx"></block>、<block ref="a61c3ddacc920697ed1145d7ed359d25" category="inline-link-rx"></block>和<block ref="8b59d0e884bf752e43135b866516c089" category="inline-link-rx"></block>。</block>
  <block id="408be753ce98edae615db82036085d63" category="section-title">用於驗證的架構</block>
  <block id="2150013c97241fde077622292dd996b4" category="paragraph">在這項驗證中、我們使用四個工作節點和一個主節點、以及AFF-A800 HA配對。所有叢集成員都透過10GbE網路交換器連線。</block>
  <block id="de404d7688ac5c78348bfea711a12792" category="paragraph">針對本NetApp Spark解決方案驗證、我們使用三種不同的儲存控制器：E5760、E5724和AFF-A800。E系列儲存控制器連接至五個資料節點、並具有12Gbps SAS連線。透過10GbE連線至AFF Hadoop工作節點、可提供匯出的NFS磁碟區。Hadoop叢集成員是透過E系列AFF 、E-系列、E-、StorageGRID 及《Hadoop解決方案」中的10GbE連線進行連線。</block>
  <block id="f3952bdea9a512245a3b2e368bdd17a4" category="inline-image-macro">用於驗證的架構。</block>
  <block id="2f2f17293788ab5e5b754a35afe8b3b5" category="paragraph"><block ref="2f2f17293788ab5e5b754a35afe8b3b5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d69bb7b5d4a03684a8454a168278a99a" category="inline-link-macro">下一步：測試結果。</block>
  <block id="8e32abf231872a250f5352294ee7f66d" category="paragraph"><block ref="8e32abf231872a250f5352294ee7f66d" category="inline-link-macro-rx"></block></block>
  <block id="ca052b24845534e817869836d49d519a" category="summary">本文著重於Apache Spark架構、客戶使用案例、以及與Big Data分析和人工智慧相關的NetApp儲存產品組合。此外、它也針對一般Hadoop系統、使用業界標準AI、機器學習和深度學習工具、提供各種測試結果、讓您選擇適當的Spark解決方案。</block>
  <block id="58b2293adcda372fb415412d23f01a8e" category="doc">TR-4570：適用於Apache Spark的NetApp儲存解決方案：架構、使用案例及效能結果</block>
  <block id="057e5f9ddc5d049ab86855dceffd6d14" category="paragraph">Rick Huang、Karthithkeyan Nagalingam、NetApp</block>
  <block id="550fd771b94cb8eb3739d16af31243f3" category="paragraph">本文著重於Apache Spark架構、客戶使用案例、以及與Big Data分析和人工智慧（AI）相關的NetApp儲存產品組合。此外、它也會針對典型的Hadoop系統、使用業界標準AI、機器學習（ML）和深度學習（DL）工具、提供各種測試結果、讓您選擇適當的Spark解決方案。首先、您需要Spark架構、適當的元件、以及兩種部署模式（叢集與用戶端）。</block>
  <block id="9e19cfda234e917201ce19469f25275b" category="paragraph">本文件也提供客戶處理組態問題的使用案例、並討論NetApp儲存產品組合的總覽、其中與Big Data分析和AI、ML及DL with Spark有關。最後、我們將從特定於Spark的使用案例和NetApp Spark解決方案產品組合中取得測試結果。</block>
  <block id="ce663ffc6a85b2c97e60368b5a9c76e3" category="paragraph">本節著重於客戶在零售業、數位行銷、銀行、分離式製造、製程製造、 政府與專業服務。</block>
  <block id="8a5bab0d8f4c0d1b73de5ada6b1c91e6" category="section-title">無法預測的效能</block>
  <block id="9790dc49aa09b4759e4c6ebc65fb4c42" category="paragraph">傳統的Hadoop部署通常使用市售硬體。若要改善效能、您必須調整網路、作業系統、Hadoop叢集、Spark等生態系統元件和硬體。即使調校每個層級、也很難達到理想的效能等級、因為Hadoop是在非專為環境中的高效能所設計的市售硬體上執行。</block>
  <block id="b496a0269649d7b570c2052646fd23b6" category="section-title">媒體和節點故障</block>
  <block id="21af95409591262fb36555acb96262d8" category="paragraph">即使在正常情況下、市售硬體也容易故障。如果資料節點上的某個磁碟故障、Hadoop Master預設會將該節點視為不正常。然後、它會透過網路將特定資料從該節點複本複製到正常節點。此程序會減慢任何Hadoop工作的網路封包速度。然後叢集必須再次複製資料、並在不正常節點恢復正常狀態時移除過度複寫的資料。</block>
  <block id="03d4836e0d1deb07679d400b8c88a880" category="section-title">Hadoop固定廠商</block>
  <block id="bb33286c56b053ae85ab21a377bd4347" category="paragraph">Hadoop經銷商擁有自己的Hadoop發佈版本、並將客戶鎖定在這些發佈版本上。不過、許多客戶需要記憶體內分析支援、而這並不會將客戶綁定到特定的Hadoop發佈。他們需要自由變更發佈、同時仍能隨之提供分析資料。</block>
  <block id="a940c960f38c44b75bf1da78215690c2" category="section-title">不支援一種以上的語言</block>
  <block id="65a27ee7da3f8c68004d31f60ab65e55" category="paragraph">除了MapReduce Java程式之外、客戶通常還需要支援多種語言才能執行工作。SQL和指令碼等選項可讓您更靈活地取得答案、更多組織和擷取資料的選項、以及更快將資料移至分析架構的方法。</block>
  <block id="f3e2f69098f73bd8bb3cf61330433955" category="section-title">難以使用</block>
  <block id="e2bdfb6bb3e956b38b6aacde957996df" category="paragraph">有一段時間、人們抱怨Hadoop難以使用。雖然Hadoop在每個新版本中都變得更簡單、更強大、但這項評論仍持續不變。Hadoop需要您瞭解Java和MapReduce程式設計模式、這是資料庫管理員和具有傳統指令碼技術集的人員所面臨的挑戰。</block>
  <block id="5f5f8f99cf4c6ebc0b81445be5328bf6" category="section-title">複雜的架構與工具</block>
  <block id="74faacaf156cd022099bed5469595b3e" category="paragraph">企業AI團隊面臨多項挑戰。即使擁有專家級的資料科學知識、不同部署生態系統和應用程式的工具和架構也可能無法簡單地相互翻譯。資料科學平台應能與以Spark為基礎的對應巨量資料平台無縫整合、輕鬆移動資料、可重複使用的模型、隨裝即用的程式碼、以及支援最佳實務做法的工具、以便進行原型製作、驗證、版本管理、共用、重複使用、 並將模型快速部署至正式作業環境。</block>
  <block id="067be0651f3de8fd60ec45827a4078ed" category="section-title">為何選擇NetApp？</block>
  <block id="8ff43bcedde084850831da9cdcc5a43a" category="paragraph">NetApp可透過下列方式改善您的Spark體驗：</block>
  <block id="dc5106ccf618944587be46565f5585cd" category="list-text">NetApp NFS直接存取（如下圖所示）可讓客戶在現有或新的NFSv3或NFSv4資料上執行巨量資料分析工作、而無需移動或複製資料。它可防止多個資料複本、並免除將資料與來源同步的需求。</block>
  <block id="38bc62edaebd471500fa64a4758f7f04" category="list-text">儲存效率更高、伺服器複寫更少。例如、NetApp E系列Hadoop解決方案需要兩個而非三個複本的資料、FAS 而《支援重複資料》解決方案則需要資料來源、但不需要複寫或複製資料。NetApp儲存解決方案也能減少伺服器對伺服器的流量。</block>
  <block id="2fc945668748ad0173e63b5db34773e7" category="list-text">在磁碟機和節點故障期間、執行更好的Hadoop工作和叢集行為。</block>
  <block id="343500ea6d724fe727d127f6409b86c2" category="list-text">更優異的資料擷取效能。</block>
  <block id="109f256618c8d9037bb2cd6cc28f5959" category="inline-image-macro">替代Apache Spark組態。</block>
  <block id="ce1f5d61aacdba15be898e2d6408542f" category="paragraph"><block ref="ce1f5d61aacdba15be898e2d6408542f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="40771867b1bf0db74b9505757197a17a" category="paragraph">例如、在金融與醫療產業中、資料從一地搬移到另一地、必須符合法律義務、這並非易事。在此案例中、NetApp NFS直接存取會從原始位置分析財務與醫療資料。另一項主要優點是、使用NetApp NFS直接存取功能、使用原生Hadoop命令簡化Hadoop資料的保護、並透過NetApp豐富的資料管理產品組合來啟用資料保護工作流程。</block>
  <block id="a9e81b3240a7c1ae64fc23e96c84f4ea" category="paragraph">NetApp NFS直接存取可為Hadoop / Spark叢集提供兩種部署選項：</block>
  <block id="4e8fe573a9fe74b6429508c87337b99b" category="list-text">根據預設、Hadoop或Spark叢集會使用Hadoop分散式檔案系統（HDFS）進行資料儲存、並使用預設的檔案系統。NetApp NFS直接存取可將預設的HDFS取代為預設的NFS儲存系統、以便直接分析NFS資料。</block>
  <block id="071998ed00d39b3ff27f5410b196f9cc" category="list-text">在另一個部署選項中、NetApp NFS直接存取可在單一Hadoop或Spark叢集中、將NFS設定為額外的儲存設備、以及HDFS。在這種情況下、客戶可以透過NFS匯出來共享資料、並從同一個叢集與HDFS資料一起存取。</block>
  <block id="c1923befca33cfe6cc9ace80af8580b6" category="paragraph">使用NetApp NFS直接存取的主要效益包括：</block>
  <block id="91221d408b0c171556751f29fb9d8071" category="list-text">從目前位置分析資料、避免將分析資料移至Hadoop基礎架構（例如HDFS）所需的時間與效能。</block>
  <block id="1675635f440b61b7219bf7ed2bb2ed27" category="list-text">將複本數量從三個減少為一個。</block>
  <block id="16f81b84f137a7a52da9ba8d798af622" category="list-text">讓使用者能夠分離運算與儲存設備、以獨立擴充。</block>
  <block id="71946d3c421aea3a8238a481bebe1919" category="list-text">運用ONTAP 豐富的資料管理功能來提供企業資料保護功能。</block>
  <block id="abebb9b977d736f599ab76c517961b24" category="list-text">Hortonworks資料平台認證。</block>
  <block id="3c41c2d3511fa95c83687fae6fb57754" category="list-text">實現混合式資料分析部署。</block>
  <block id="05550a44691e53e07f81616af5d58e20" category="list-text">運用動態多執行緒功能、縮短備份時間。</block>
  <block id="009b0bd3acc58fbc1c3db15692583fa9" category="paragraph">請參閱<block ref="217abb9bc41aa22d30da41b7958b4152" category="inline-link-rx"></block> 將Hadoop資料、備份及災難恢復從雲端備份至內部部署、讓DevTest能夠處理現有的Hadoop資料、資料保護及多雲端連線、並加速分析工作負載。</block>
  <block id="3100ca44a05fa97ed5f07875f442084e" category="paragraph">以下各節說明適用於Spark客戶的儲存功能。</block>
  <block id="da2518ef48c60077e2b2c0be7fed7193" category="section-title">儲存分層</block>
  <block id="d9a83ca3a623dce37a2f84027f1495ce" category="paragraph">透過Hadoop儲存分層、您可以根據儲存原則、以不同的儲存類型來儲存檔案。儲存類型包括「Hot」、「Cold」、「warm」、「all_ssd」、「one _ssd」、 和"lazy_sent"。</block>
  <block id="36edc8f5974bdf6ad51a220254b99dfb" category="paragraph">下圖顯示適用於Hadoop SSD的NetApp解決方案效能。</block>
  <block id="d09520ed9b4a17ada38e70314907675f" category="inline-image-macro">是時候整理1TB的資料了。</block>
  <block id="55fdf8b2dd620bd73dcd37db50e0f0e5" category="paragraph"><block ref="55fdf8b2dd620bd73dcd37db50e0f0e5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c2f530d95c6332b106d86a53b41e4a36" category="inline-link">TR-3969適用於Hadoop的NetApp E系列解決方案</block>
  <block id="8cdadd1c9614abebd1b476daba691f36" category="list-text">基礎NL-SAS組態使用八個運算節點和96個NL-SAS磁碟機。此組態可在4分鐘38秒內產生1TB的資料。請參閱<block ref="f08cd7da48b5d74d9eaab10199016f47" category="inline-link-rx"></block> 以取得叢集與儲存組態的詳細資料。</block>
  <block id="f895fa75cdc40f4e672bba6f7a873e25" category="list-text">使用TeraGen時、SSD組態產生的資料速度比NL-SAS組態快上1TB 15.66倍。此外、SSD組態使用一半的運算節點、一半的磁碟機（總共24個SSD磁碟機）。根據工作完成時間、速度幾乎是NL-SAS組態的兩倍。</block>
  <block id="c13c2e056adb51078f3067ba570d2780" category="section-title">效能擴充：橫向擴充</block>
  <block id="beb08cca1e99e0bdbf11c74ebb62d5ea" category="paragraph">當您需要AFF 更多運算能力來自於支援各種解決方案的Hadoop叢集時、可以使用適當數量的儲存控制器來新增資料節點。NetApp建議從每個儲存控制器陣列的四個資料節點開始、並根據工作負載特性、將每個儲存控制器的資料節點數目增加至八個。</block>
  <block id="431bd1a68814e184bc49ff7231450049" category="paragraph">適用於就地分析的不只是指不需使用的資料。AFF FAS根據運算需求、您可以新增節點管理程式、而不中斷營運則可讓您在不需停機的情況下隨需新增儲存控制器。我們提供AFF 豐富的功能與功能、例如FAS NVMe媒體支援、保證效率、資料減量、QoS、預測分析、 雲端分層、複寫、雲端部署及安全性。為了協助客戶滿足其需求、NetApp提供檔案系統分析、配額及隨裝負載平衡等功能、無需額外的授權成本。NetApp在並行工作數量、延遲時間、作業簡化、以及每秒GB處理量方面的效能優於競爭對手。此外、NetApp Cloud Volumes ONTAP 的功能可在所有三家主要雲端供應商上執行。</block>
  <block id="ccfed4ad520d8db8b13dc91438d30680" category="section-title">效能擴充-垂直擴充</block>
  <block id="9341bdabe891be81d2be3440a4c413b5" category="paragraph">垂直擴充功能可讓您在AFF 需要額外儲存容量時、將磁碟機新增至效益管理系統、FAS 效益管理系統及E系列系統。利用功能、將儲存設備擴充至PB層級是兩大因素的組合：將不常用的資料分層、從區塊儲存設備物件儲存、以及堆疊不需額外運算的功能。Cloud Volumes ONTAP Cloud Volumes ONTAP</block>
  <block id="1a4f71bef2c7cfcc6846e82e9e0e0331" category="section-title">多種傳輸協定</block>
  <block id="11d6ae97757031ae53e1437c9c9b61bd" category="paragraph">NetApp系統支援大部分的Hadoop部署傳輸協定、包括SAS、iSCSI、FCP、InfiniBand、 和NFS。</block>
  <block id="98ed4f29e9a08c43fe10dda6782e567e" category="section-title">營運與支援的解決方案</block>
  <block id="dc15faa991f0a6740734b42c6e08c347" category="inline-link">MapR</block>
  <block id="464e596f1568de8e5f19e16e09beaaa8" category="inline-link">Hortonworks</block>
  <block id="f1fd1913c968a1c383c88631e335a7ca" category="inline-link">認證</block>
  <block id="7454739e907f5595ae61d84b8547f574" category="inline-link">合作夥伴</block>
  <block id="b1202a92f536818c64c3005cf78d8e35" category="paragraph">NetApp支援本文件中所述的Hadoop解決方案。這些解決方案也通過主要Hadoop經銷商的認證。如需相關資訊、請參閱<block ref="cc609e66e0173716d91f0397bfa09e1b" category="inline-link-rx"></block> 網站<block ref="030fa12946d3d4653223853ac09b7183" category="inline-link-rx"></block> 網站和Cloudera<block ref="110185abc20d52e7eb83135b84742416" category="inline-link-rx"></block> 和<block ref="a573734769be98dedf1aa2242c0eb40c" category="inline-link-rx"></block> 網站。</block>
  <block id="7a2a776baec23a88727e6039089b8193" category="inline-link-macro">下一步：目標對象。</block>
  <block id="e8020665ce34622c78e50d808e554235" category="paragraph"><block ref="e8020665ce34622c78e50d808e554235" category="inline-link-macro-rx"></block></block>
  <block id="49c9a66d1f76b5f264fea5d54130b82a" category="summary">我們使用TeraGen基準測試工具中的TeraSort和TeraValidate指令碼、以E5760、E5724和AFF-A800組態來測量Spark效能驗證。此外、我們也測試了三個主要使用案例：Spark NLP管道和TensorFlow分散式訓練、Horovod分散式訓練、以及使用Keras與DeepFM進行CTR預測的多工深度學習。</block>
  <block id="41be8de44faa8ba43210d7494ee095d2" category="doc">測試結果</block>
  <block id="0daa7dd4f2822f3e63bdac1bd5870a75" category="inline-link-macro">先前版本：主要AI、ML和DL使用案例與架構。</block>
  <block id="26d27784aaeb94a4670d31f46185d57d" category="paragraph"><block ref="26d27784aaeb94a4670d31f46185d57d" category="inline-link-macro-rx"></block></block>
  <block id="60637296d8b6dcd84aaff3afc778241d" category="paragraph">我們使用TeraGen基準測試工具中的TeraSort和TeraValidate指令碼、以E5760、E5724和AFF-A800組態來測量Spark效能驗證。此外、我們也測試了三個主要使用案例：Spark NLP管道和TensorFlow分散式訓練、Horovod分散式訓練、以及使用Keras與DeepFM進行CTR預測的多工深度學習。</block>
  <block id="653a9ba51c0af0c11aab6af3ecfdc8c6" category="paragraph">對於E系列和StorageGRID E驗 證、我們使用Hadoop複寫係數2。為了驗證、我們只使用一個資料來源。AFF</block>
  <block id="6cdf0c4c6177a49f44f3688dd2a5b9ad" category="paragraph">下表列出Spark效能驗證的硬體組態。</block>
  <block id="00e536f9715964bf964b4961d7287f95" category="cell">Hadoop工作節點</block>
  <block id="ce1dc110e77caccbe12e51dce2d1c9b7" category="cell">磁碟機類型</block>
  <block id="c8fafade5cff4119459018fc205beed1" category="cell">每個節點的磁碟機數量</block>
  <block id="bb43878952414106e66a5d3e8902dd46" category="cell">儲存控制器</block>
  <block id="2db46c628cfb3bd1545d3b5a14b4a9c5" category="cell">SAS</block>
  <block id="d748fcab9e84c60a5a7b1e5ed2d052c8" category="cell">單一高可用度（HA）配對</block>
  <block id="fb5e436e0878dfd2227011932c4eb93c" category="cell">E5760</block>
  <block id="072b030ba126b2f4b2374f342be9ed44" category="cell">60</block>
  <block id="6303aa59a000812ac121a6f5238d6c2c" category="cell">單一HA配對</block>
  <block id="83ac07c2ad3d90f5c6608cfaa2eec573" category="cell">E5724</block>
  <block id="26b9fff68b23131979be5c2d9a456454" category="cell">AFF800</block>
  <block id="bddda15d92b567df6d8aa197c281ddc4" category="paragraph">下表列出軟體需求。</block>
  <block id="8b6f93f33bce541c7f50f8aff637e2e1" category="cell">RHEL</block>
  <block id="299e5505ce975112afaefec130cc83e0" category="cell">7.9</block>
  <block id="bedb19167c4cde670f36a4985efbadd2" category="cell">OpenJDK執行時間環境</block>
  <block id="4fda350b2148254bcd9e67bbdbecdc93" category="cell">1.8.0</block>
  <block id="b185818332a596af6cda9cae4dc594f6" category="cell">OpenJDK 64位元伺服器VM</block>
  <block id="681eea6b2a996d12035edc50dc4cb4c2" category="cell">25、302</block>
  <block id="30a2ec41610037af662087fe85d19a4d" category="cell">2.24.1.</block>
  <block id="87f16b82c65c9274a67305d08b5dfecb" category="cell">gcc/g++</block>
  <block id="b87ed8b82b1cf2cb4e4ddaa75ec9e0e4" category="cell">11.2.1</block>
  <block id="8cde774d6f7333752ed72cacddb05126" category="cell">火花</block>
  <block id="f2f87b58be0d57ecf71ada8df361a2d9" category="cell">3.2.1</block>
  <block id="17e918efeeeb8f100c695e284d5c0a08" category="cell">PySpark</block>
  <block id="1f4e00506ff9fb5fe179f2ba1c60ff61" category="cell">3.1.2</block>
  <block id="401534b4a193f467279a370076ccb955" category="cell">SparkNLP</block>
  <block id="de8a4e99bb5f22ded6d686cfd948274b" category="cell">3.4.2</block>
  <block id="074dd699710da0ec1eb45f13b31788e3" category="cell">TensorFlow</block>
  <block id="7fee7bb66f4294c3e32783efa7d9bafc" category="cell">Keras</block>
  <block id="35a0c5fdc22109515a67a96e5e7fb914" category="cell">0.24.3</block>
  <block id="14bdb1335d2386afb42f726416a2a83b" category="section-title">財務情資分析</block>
  <block id="559cf37b505e9001d46e6d6bd73e746c" category="inline-link">NVIDIA Riva SDK</block>
  <block id="e65b49198d65919095402991b0cf5624" category="inline-link">TAO架構</block>
  <block id="3f57666cb1b915db482629c0554b2d92" category="paragraph">我們發表了<block ref="36713788fc49ad5281ee4a8956df0b3b" category="inline-link-rx"></block>、其中使用建立端點對端點對話AI管道<block ref="5d9fb1d86d92052bc5dca8ba91d13ff2" category="inline-link-rx"></block>、不儲存及NVIDIA DGX系統。AFF此管線運用DataOps Toolkit執行批次音訊訊號處理、自動語音辨識（ASR）、傳輸學習和情緒分析、<block ref="8702bd0254f484bdfe9f1ec1c2a853b1" category="inline-link-rx"></block>和<block ref="bba656873bd8ccd45c0c4fc908390474" category="inline-link-rx"></block>。我們將情緒分析使用案例擴大至金融服務業、建立SparkNLP工作流程、針對各種NLP工作（例如命名實體辨識）、載入三種Bert模式、並針對NASDAQ前10大公司的季度營收要求、獲得句子等級的感受。</block>
  <block id="ffeb7ccd27ad1e7d783757733dadec57" category="paragraph">下列指令碼「ention_sization_SPARK」。PY'使用FinBERT模型來處理HDFS的錄音記錄、並產生正面、中立和負面的感覺、如下表所示：</block>
  <block id="077259b584adffb379f7f2638be91edc" category="paragraph">下表列出2016年至2020年、NASDAQ前10大企業的獲利能力與句子層級意見分析。</block>
  <block id="30702e828192097c5634358e6047d0cf" category="cell">情緒和百分比</block>
  <block id="7838fb6ed7918fca8c7797b3b68952d2" category="cell">所有10家公司</block>
  <block id="8b10e4ae9eeb5684921a9ab27e4d87aa" category="cell">AAPL</block>
  <block id="48af4341f745163f945fa838eeabb062" category="cell">AMD</block>
  <block id="261fd26b0151a81370d097e4ed4c6505" category="cell">AMZN</block>
  <block id="85fd1bb0e226da6a33e9b5dc1a4952f1" category="cell">CSCO</block>
  <block id="e15ce71ff533c9125f11a46c09e2412b" category="cell">gOOgL</block>
  <block id="fc39dab34bbe435680d30933db783ba0" category="cell">INTC</block>
  <block id="b004b3ecde24c85e32c1923f10d3fb62" category="cell">MSFT</block>
  <block id="7f5f6a07b14840f4d8a22caa3df2aed0" category="cell">NVDA</block>
  <block id="4f65a47dc5d0d8a27379f2b1b4d9281b" category="cell">正面評價</block>
  <block id="9e6adb1432c4a75a33d48693328e4159" category="cell">747</block>
  <block id="18d10dc6e666eab6de9215ae5b3d54df" category="cell">1567</block>
  <block id="5c572eca050594c7bc3c36e7e8ab9550" category="cell">743</block>
  <block id="f90f2aca5c640289d0a29417bcb63a37" category="cell">2990</block>
  <block id="08d98638c6fcd194a4b1e6992063e944" category="cell">682</block>
  <block id="795c7a7a5ec6b460ec00c5841019b9e9" category="cell">826</block>
  <block id="677e09724f0e2df9b6c000b75b5da10d" category="cell">824</block>
  <block id="f47d0ad31c4c49061b9e505593e3db98" category="cell">904</block>
  <block id="41ae36ecb9b3eee609d05b90c14222fb" category="cell">417</block>
  <block id="be201b8b1b0b81005e46d49fd301124c" category="cell">中性數</block>
  <block id="1ab0418ab8dc5325176cd1e26660234f" category="cell">6967</block>
  <block id="34ad9bc83e3c72c62281cb2c744ac966" category="cell">6856</block>
  <block id="1796a48fa1968edd5c5d10d42c7b1813" category="cell">7596</block>
  <block id="71e63ef5b7249cfc60852f0e0f5bf4c8" category="cell">5086</block>
  <block id="126c2da128e5b044dc53405c25b4d8de" category="cell">6650</block>
  <block id="dd5bfdeb57f7c75d400de61e99d78e2e" category="cell">5914</block>
  <block id="80c0e8c4457441901351e4abbcf8c75c" category="cell">6099</block>
  <block id="6e4243f5511fd6ef0f03e9f386d54403" category="cell">5715</block>
  <block id="67ba02d73c54f0b83c05507b7fb7267f" category="cell">6189.</block>
  <block id="e65849536f4b2170d6b42c8309222fac" category="cell">負面數</block>
  <block id="d860bd12ce9c026814bbdfc1c573f0f5" category="cell">1787</block>
  <block id="c24cd76e1ce41366a4bbe8a49b02a028" category="cell">253</block>
  <block id="979d472a84804b9f647bc185a877a8b5" category="cell">213</block>
  <block id="68d30a9594728bc39aa24be94b319d21" category="cell">84.</block>
  <block id="a2557a7b2e94197ff767970b67041697" category="cell">189.</block>
  <block id="e2ef524fbf3d9fe611d5a8e90fefdc9c" category="cell">97</block>
  <block id="6a9aeddfc689c1d0e3b9ccc3ab651bc5" category="cell">282.5.</block>
  <block id="7647966b7343c29048673252e490f736" category="cell">89</block>
  <block id="691ec36991472d115c60f32cd84bfc5b" category="cell">未分類的計數</block>
  <block id="084b6fbb10729ed4da8c3d3f5a3ae7c9" category="cell">196</block>
  <block id="fbd7939d674997cdb4692d34de8633c4" category="cell">76.</block>
  <block id="2706e1e04688749582425d394866306e" category="cell">（總計數）</block>
  <block id="b72e37e992d9e460ce2a491a974d13b5" category="cell">73497.</block>
  <block id="9f6f2381bc56ef668e94f6d1fb4f6309" category="cell">8676.</block>
  <block id="a563b6d5abbf137175059d6bb14672cc" category="cell">8552</block>
  <block id="1134ac57b5b1d38b7d70c1b6feaa28cf" category="cell">5536</block>
  <block id="e1e1f667ce4596e5644be6fab627c226" category="cell">7521</block>
  <block id="176bf6219855a6eb1f3a30903e34b6fb" category="cell">6837</block>
  <block id="75da5036f659fe64b53f3d9b39412967" category="cell">7205.</block>
  <block id="e6be4c22a5963ab00dfe8f3b695b5332" category="cell">6822</block>
  <block id="2ea1202aed1e0ce30d41be4919b0cc99" category="cell">6695</block>
  <block id="14d1ed13bbef7783a73cfb9346480ce2" category="paragraph">就百分比而言、CEO和CFO所說的大部分句子都是事實、因此具有中立的感覺。在進行獲利拜訪時、分析師會提出一些可能會傳達正面或負面情緒的問題。值得進一步從數量上調查、也就是在同一天或隔天的交易中、負面或正面的情緒對股票價格有何影響。</block>
  <block id="3957e5ecad1215aa086504cf2c9ba9cc" category="paragraph">下表列出NASDAQ前10大公司的句子層級意見分析、以百分比表示。</block>
  <block id="e8a6f3527192d64ba338192ce83f6283" category="cell">情緒百分比</block>
  <block id="3289297424e01eda5b788c083bbf3147" category="cell">正面</block>
  <block id="3e263985564016f5774bfb75e31efb0d" category="paragraph">10.13%</block>
  <block id="d983b23f5dc08dfb28a31a898b6fbb6a" category="cell">18.06%</block>
  <block id="ed5f9ec0b398f0f53408828898412855" category="cell">8.69%</block>
  <block id="4d8e8cc0a97724584c1cd94c9485d555" category="cell">5.24%</block>
  <block id="d43cdfa633a84f9ca5043f4eb9363a38" category="cell">9.07%</block>
  <block id="a134c476ebd0c219b3cc879185d436ce" category="cell">12.08%</block>
  <block id="27cd80a0bdc79a724fdc31fa8841e19b" category="cell">11.44%</block>
  <block id="e954976d9376dfe5860acd553772a6df" category="cell">13.25%</block>
  <block id="d30929e6786318e19a22c88447dcc97c" category="cell">6.23%</block>
  <block id="e9bb5320b3890b6747c91b5a71ae5a01" category="cell">中立</block>
  <block id="6c3d5ec0fc8197d1a8f8366e142e37aa" category="cell">87.17%</block>
  <block id="578429551436bef848f19eccdd93fb73" category="cell">79.02%</block>
  <block id="bd443bde0360eb444a5906bea9d081b0" category="cell">88.82%</block>
  <block id="97840fcb1a1f07bef3a12ef2d7975f09" category="cell">91.87%</block>
  <block id="32edca53c1f1f00d865543b435d4ce3a" category="cell">88.42%</block>
  <block id="407967ec786c26ce4ee7608c076fa6d7" category="cell">86.50%</block>
  <block id="9784395b081e78ec535161a5ba0ffd1e" category="cell">84.65%</block>
  <block id="5d4b03024bcea7385ffc5808dd9c3b74" category="cell">83.77%</block>
  <block id="b73c3663139621b36cfdafbeab44fae9" category="cell">92.44%</block>
  <block id="ffb9356ff2b7da85c75c92fa7ea03b8b" category="cell">負面</block>
  <block id="672484e7c4fb5894b2ec75fd7e277fe4" category="cell">2.43%</block>
  <block id="c1fbc8ff600d3f571e0c440833db1a10" category="cell">2.92%</block>
  <block id="161a790eac04cd27fc3e4ffd23ba452d" category="cell">2.49%</block>
  <block id="5fd44dd7fb1198b1903141531424bb54" category="cell">1.52%</block>
  <block id="6916237a9f5c4ed45ddfff6fe37f45e7" category="cell">2.51%</block>
  <block id="43045dfce9b4c190cfa4dad2e4bf9457" category="cell">1.42%</block>
  <block id="248199b9ac50bd355476016ad093ac09" category="cell">3.91%</block>
  <block id="1cdf97682ca1bcd645e8dbcebb105529" category="cell">2.96%</block>
  <block id="8098f29a2cea86e839d8ca03f50d52ce" category="cell">1.33%</block>
  <block id="0d015d96f63a8c12d96b8399482b593f" category="cell">未分類</block>
  <block id="1291f0b93a9f9d5a7e7391a09b5ec0cc" category="cell">0.27%</block>
  <block id="6a040d1ee7200a1dc349a598a163cc38" category="cell">1.37%</block>
  <block id="d9fd62085e1ade721df051f8bc4c320d" category="cell">0.01%</block>
  <block id="28bf86a8e29245437d4ad59ea6e80962" category="paragraph">在工作流程執行時間方面、我們發現HDFS的「本機」模式已大幅改善4.78倍、而NFS則進一步改善0.14%。</block>
  <block id="87509d62c8804cdab48bea9e54013be4" category="paragraph">如下圖所示、資料與模型平行處理可改善資料處理及分散式TensorFlow模型的推斷速度。NFS中的資料位置產生的執行時間稍微好一點、因為工作流程瓶頸是下載預先訓練的模型。如果我們增加記錄資料集的大小、NFS的優勢就更明顯。</block>
  <block id="493d0790c882abcf160f461d269c7ec5" category="inline-image-macro">Spark NLP情緒分析端點對端點工作流程執行時間。</block>
  <block id="bb9cd55aa92ceddf07506d9a2aaaa151" category="paragraph"><block ref="bb9cd55aa92ceddf07506d9a2aaaa151" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3484d035679c83a95496eb633ffde0d3" category="section-title">以Horovod效能進行分散式訓練</block>
  <block id="319e0ff7f30f4729140562f5e123c5cb" category="inline-link-macro">「每個主要使用案例的Python指令碼」</block>
  <block id="e37af8307fb97140dbcc0c8e2293d58f" category="paragraph">下列命令使用單一「master」節點在Spark叢集中產生執行時間資訊和記錄檔、每個節點有160個執行器、各有一個核心。執行程式記憶體限制為5GB、以避免記憶體不足錯誤。請參閱一節 <block ref="033a864c436cdbcbe38983e75952a07f" category="inline-link-macro-rx"></block> 如需有關資料處理、模型訓練及模型準確度計算的詳細資訊、請參閱「keras」（keras）、「SPAR_horovod_rossmann_imer.py」（keras）。</block>
  <block id="6281f693bbc375a45312622b626d3bcd" category="paragraph">十個訓練期間的執行時間如下：</block>
  <block id="842bc4f8403cd2df9f22939e3df59aee" category="paragraph">處理輸入資料、訓練DNN模型、計算準確度、以及產生TensorFlow檢查點和CSV檔案以供預測結果、所需時間超過43分鐘。我們將訓練時段的數量限制為10個、實際上通常設定為100個、以確保模型準確度令人滿意。訓練時間通常會隨著epochs的數量線性調整。</block>
  <block id="1e580bbdb11118035631867d15ad9f25" category="paragraph">接下來、我們使用叢集中可用的四個工作節點、並在「線」模式中執行相同指令碼、並在HDFS中使用資料：</block>
  <block id="3661bcf870f3d2b11b0489ed7f0585a7" category="paragraph">結果的執行時間改善如下：</block>
  <block id="206c83ab2ec1ea280656b18c0e2dc4dd" category="paragraph">霍羅沃德在Spark的模式和資料平行化技術、讓我們看到5.29倍的執行時間加速比「線」與「本地」模式、並有十個訓練階段。下圖顯示了「HDFS」和「本地」的圖例。如果有可用的GPU、基礎TensorFlow DNN模型訓練可進一步加速。我們計畫在未來的技術報告中進行此測試並發佈結果。</block>
  <block id="216851565edc166c4409515484cac08b" category="paragraph">我們的下一項測試將執行時間與NFS中的輸入資料與HDFS進行比較。在Spark叢集中的五個節點（一位主節點、四位員工）上、安裝了位於Se A800上AFF 的NFS磁碟區。我們執行的命令與先前的測試類似、現在的「-data- dir」參數指向NFS掛載：</block>
  <block id="3ba4d622f15813cc383c433722b46d27" category="paragraph">產生的NFS執行時間如下：</block>
  <block id="7e1d2a49ae0a0e06a39a62e2c7c74877" category="paragraph">另有1.43倍的加速比、如下圖所示。因此、透過將NetApp All Flash儲存設備連線至叢集、客戶可享有Horovod Spark工作流程的快速資料傳輸與發佈優勢、相較於在單一節點上執行、可獲得7.55倍的加速比。</block>
  <block id="88caa92ecc3ebb345f81205aa696e3ac" category="inline-image-macro">Horovod Spark Workflow執行時間。</block>
  <block id="56085b16b09d835f05c89b29473a0e73" category="paragraph"><block ref="56085b16b09d835f05c89b29473a0e73" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b32c8309a0c0ca3edc35cb1597b9182c" category="section-title">深度學習模式、提供CTR預測效能</block>
  <block id="6ff877f80b732c197c0a432029ad1920" category="paragraph">針對最大化CTR的推薦系統、您必須瞭解使用者行為背後的複雜功能互動、這些行為可以從低階到高階的數學計算得出。對於良好的深度學習模式而言、低階和高階功能互動同樣重要、而不需互相偏好。深度Factorization Machine（DeepFM）是一種面向機器的神經網路、結合了面向技術的機器、可在全新的神經網路架構中提供建議和深度學習功能。</block>
  <block id="a22645195470eca2abbe24e7d40cde8e" category="inline-link">廣角安培；深層機型</block>
  <block id="4028a7777950de6e915d72e379bde75d" category="paragraph">雖然傳統的面向化機器會將配對功能互動視為潛在功能之間的內部產品、理論上也能擷取高階資訊、但實際上、機器學習工作者通常只會因為高運算和儲存複雜度而使用二階功能互動。深入的神經網路變種、例如Google<block ref="6c51a2ff49c9929908a73e863a1421f0" category="inline-link-rx"></block> 另一方面、將線性寬模型與深度模型結合、即可在混合式網路架構中學習精密的功能互動。</block>
  <block id="a22f6dcc8bc499f7332ab04cdb36fcf9" category="paragraph">這種廣域與深層模型有兩種輸入、一種是基礎廣泛模型、另一種是深度模型、其後一部分仍需要專家特徵工程、因此技術較不適用於其他網域。與廣角和深層模型不同的是、DeepFM可有效訓練原始功能、無需任何特徵工程、因為其廣泛的部分和深層部分共用相同的輸入和內嵌向量。</block>
  <block id="03eaefcaa3f1aca8b4ffa8b95a4798b9" category="inline-link-macro">「每個主要使用案例的Python指令碼。」</block>
  <block id="105a0d9d76e001ecdab02b77ca3a98ae" category="paragraph">我們首先使用本節中的「rrun _crite_criteo_wark.py」、將criteo「tr.txt」（11GB）檔案處理成一個CSV檔案、名稱為「ctr_tr.csv"、儲存在NFS掛載「/swarkdemo/tr-4570資料」中 <block ref="43e008bfee5963b21d09b0af490bfdd7" category="inline-link-macro-rx"></block> 在此指令碼中、「Process輸入檔案」功能會執行數種字串方法來移除索引標籤、並將「、」插入為分隔符號、將「n」插入為新行。請注意、您只需處理一次原始的「train.txt」、就能將程式碼區塊顯示為註解。</block>
  <block id="c960954a8d119eab5ff32a80d7fcc8e8" category="paragraph">針對下列不同DL機型的測試、我們使用「ctr_train.csv"做為輸入檔。在後續的測試執行中、輸入CSV檔案會讀入Spark DataFrame、其中架構包含「label」欄位、整數密集功能「'I1'、'I2」、「I3」、…、「I13」]、 以及「'c1'、'c2'、'c3」、…、'c26']等功能。下列「駐點提交」命令採用輸入CSV、將DeepFM模型分成20%進行交叉驗證、並在十個訓練期後挑選最佳模型、以計算測試集的預測準確度：</block>
  <block id="52703dd8fd8c710b0aed616d19ddc0fb" category="paragraph">請注意、由於資料檔案「ctr_tr.csv"超過11GB、因此您必須設定一個大於資料集大小的「shipt.driver.max.ResultSize'以避免錯誤。</block>
  <block id="650f108a9978f10b1e3b0a8cbdcd6ac1" category="inline-link">Apache Arrow</block>
  <block id="caa01fc7f9a1a61f1bc803760af8e97f" category="paragraph">在上述的「parkSession．builder」組態中、我們也啟用了<block ref="d19d750623d06d371730c4055a0fbbbf" category="inline-link-rx"></block>、使用「d．toPandas（）」方法、將Spark DataFrame轉換成成Pandas DataFrame。</block>
  <block id="e20380d4fed48eae6cd24a0df1477ba7" category="paragraph">隨機分割之後、訓練資料集中有超過36M列、測試集中有9M樣本：</block>
  <block id="e6219a2eedbe95f3aa16ed53c4733845" category="paragraph">由於本技術報告著重於不使用任何GPU的CPU測試、因此您必須使用適當的編譯器旗標來建置TensorFlow。此步驟可避免啟動任何GPU加速程式庫、並充分利用TensorFlow的進階向量擴充（AVX）和AVX2指令。這些功能是專為線性代數運算所設計、例如向量化的新增功能、饋送轉送內的矩陣複用、或是後傳DNN訓練。使用256位元浮點（FP）登錄的AVX2可搭配使用融合式多層新增（FMA）指令、是整型程式碼和資料類型的理想選擇、可產生高達2倍的加速。對於FP程式碼和資料類型、AVX2比AVX快8%。</block>
  <block id="6c396013ff0ebff6a2a96cdc20a4ba4c" category="inline-link">巴茲爾</block>
  <block id="97139e366bae36e316c93ce5b5e7e10b" category="paragraph">若要從來源建置TensorFlow、NetApp建議使用<block ref="0bf1f7ee55f693a3c117cb75493ba615" category="inline-link-rx"></block>。在我們的環境中、我們在Shell提示字元中執行下列命令、以安裝「dNF」、「dNF-plugins」和「Bazel」。</block>
  <block id="29fe549665f940a68b9303eae3e3a61e" category="paragraph">您必須在建置過程中啟用海灣合作委員會5或更新版本、才能使用C++17功能、這是由RHEL搭配軟體集合庫（SCL）提供的功能。下列命令會在RHEL 7.9叢集上安裝「devtoolset」和「gcc11.2.1」：</block>
  <block id="92a2b5cb9c6906035c2864fa225e1940" category="inline-link">文章</block>
  <block id="d4b82f54dfee1e5c527d0d5f8cb0d7aa" category="paragraph">請注意、最後兩個命令會啟用「devtoolSet-11」、使用「/opt/r/devtoolSet-11/root/usr/in/gccs」（gcc11.2.1）。此外、請確定您的「git」版本大於1.8.3（RHEL 7.9隨附）。請參閱此<block ref="7d93914bddb4046675adee0145ba45bd" category="inline-link-rx"></block> 將「git」更新為2.24.1。</block>
  <block id="dc06a2e6ab4959266b8e70b6a4ecc45c" category="inline-link-macro">「每個主要使用案例的Python指令碼」</block>
  <block id="c55692ca5ecd175c73f55ba5b9319688" category="paragraph">我們假設您已複製最新的TensorFlow主要repo。然後使用「工作區」檔案建立「工作區」目錄、以使用AVX、AVX2和FMA從來源建置TensorFlow。執行「configure」檔案、並指定正確的Python二進位位置。<block ref="be1c72ed18fb5f637a2d34d959decb73" category="inline-link-rx"></block> 因為我們沒有使用GPU、所以測試時停用。系統會根據您的設定產生「.bazelrc」檔案。此外、我們編輯檔案並設定「build -define = no_HDfs_support=fals'」以啟用HDFS支援。請參閱一節中的「.bazelrc」 <block ref="2aec9284f17908b1690444cda81e493c" category="inline-link-macro-rx"></block> 以取得設定和旗標的完整清單。</block>
  <block id="8329b0f29ec7368fd026b86d981f9dc7" category="paragraph">使用正確的旗標建置TensorFlow之後、請執行下列指令碼來處理Criteo顯示廣告資料集、訓練DeepFM模型、並從預測分數計算接收器作業特性曲線（ROC AUC）下的區域。</block>
  <block id="d5a94c8db568912353007fdff822667e" category="paragraph">經過十次訓練、我們在測試資料集上獲得AUC分數：</block>
  <block id="e3c9ed451390735cd8c4f8e5eb0e31f5" category="paragraph">我們以類似先前使用案例的方式、比較Spark工作流程執行時間與位於不同位置的資料。下圖顯示Spark工作流程執行時間的深度學習CTR預測比較。</block>
  <block id="3737826be0460f743becdc4c64050946" category="inline-image-macro">Spark工作流程執行時間的深度學習CTR預測比較。</block>
  <block id="d27b678d975cf1fb0769c3e664f4f2dd" category="paragraph"><block ref="d27b678d975cf1fb0769c3e664f4f2dd" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f7eb641fcfa1ced825edab271ee870e9" category="inline-link-macro">下一步：混合雲解決方案。</block>
  <block id="3f5dc233ecdfc868e2a067d1eb7d8811" category="paragraph"><block ref="3f5dc233ecdfc868e2a067d1eb7d8811" category="inline-link-macro-rx"></block></block>
  <block id="bd8f37587e7778e9d19d350dd4bd6d3a" category="summary">本節說明哪些人可能對本解決方案的內容感興趣。</block>
  <block id="c1416f7786ac2faa1173c4336b6eb03e" category="paragraph"><block ref="c1416f7786ac2faa1173c4336b6eb03e" category="inline-link-macro-rx"></block></block>
  <block id="49997701037fef2c24b57a2e7186d0ab" category="paragraph">分析與資料科學的世界涉及IT與企業的多個領域：</block>
  <block id="529ac4605b034914d0e8b489a81e45e0" category="list-text">DevOps工程師需要工具、將新的AI和ML應用程式整合至其CI和CD管道。</block>
  <block id="090e55ccd8633a454f9d471ca3ed004d" category="list-text">雲端管理員和架構設計師必須能夠設定和管理混合雲資源。</block>
  <block id="3cb782c6019ddcbb4e7f6bf8ae154d40" category="list-text">企業使用者想要存取分析、AI、ML和DL應用程式。</block>
  <block id="3dfd24951a51ec1661b0294f59bea86e" category="paragraph">在本技術報告中、我們將說明NetApp AFF 的功能、E系列、StorageGRID 支援、NFS直接存取、Apache Spark、 Horovod和Keras協助這些職務為企業帶來價值。</block>
  <block id="1f3c9b64432ff113f81d3897c98ed74b" category="inline-link-macro">下一步：解決方案技術。</block>
  <block id="fdd31e37014fd5b0f491f1d30b29c4c3" category="paragraph"><block ref="fdd31e37014fd5b0f491f1d30b29c4c3" category="inline-link-macro-rx"></block></block>
  <block id="727c63651b565bca2eb7d8a48e0fefd9" category="summary">本節概述本文件、內容與適用於Apache Spark的NetApp儲存解決方案有關。</block>
  <block id="265d8449fb55764666dffa0a87f0c3fc" category="inline-link-macro">先前版本：每個主要使用案例的Python指令碼。</block>
  <block id="7fc4ed21f18b26424c49779d455d4f51" category="paragraph"><block ref="7fc4ed21f18b26424c49779d455d4f51" category="inline-link-macro-rx"></block></block>
  <block id="900200cfc3f2577215c327d16f34840a" category="paragraph">在本文件中、我們將討論Apache Spark架構、客戶使用案例、以及NetApp儲存產品組合、這些內容涉及巨量資料、現代化分析、以及AI、ML和DL。在我們根據產業標準基準測試工具和客戶需求進行的效能驗證測試中、NetApp Spark解決方案展現出優於原生Hadoop系統的效能表現。本報告所述的客戶使用案例與效能結果組合、可協助您選擇適合部署的Spark解決方案。</block>
  <block id="7772bd81086ccf1a440798ec74c6c795" category="paragraph"><block ref="7772bd81086ccf1a440798ec74c6c795" category="inline-link-macro-rx"></block></block>
  <block id="dce4db89f623baec1071c07c6784f4b1" category="summary">現代化的企業資料中心是一種混合雲、可透過持續資料管理層面、以一致的營運模式、在內部部署和/或多個公有雲中、連接多個分散式基礎架構環境。若要充分發揮混合雲的效益、您必須能夠在內部部署和多雲端環境之間順暢地移動資料、而不需要進行任何資料轉換或應用程式重新構建。</block>
  <block id="e27d277adca53504bfe79d8a5e7c2084" category="doc">混合雲解決方案</block>
  <block id="bbbb8f5ce180b59d7cf72bfd9ff78bf6" category="inline-link-macro">先前：測試結果。</block>
  <block id="e8be57661ebf09e93d86ee83e74adbc3" category="paragraph"><block ref="e8be57661ebf09e93d86ee83e74adbc3" category="inline-link-macro-rx"></block></block>
  <block id="9cf7905c60934870d86a546076b272e4" category="paragraph">客戶表示、他們開始混合雲的過程、可能是將二線儲存設備移至雲端以供使用、例如資料保護、或是將較不重要的業務工作負載（例如應用程式開發和DevOps）移至雲端。然後繼續處理更重要的工作負載。Web與內容代管、DevOps與應用程式開發、資料庫、分析及容器化應用程式是最受歡迎的混合雲工作負載之一。企業AI專案的複雜度、成本和風險、向來阻礙AI從實驗階段到正式作業階段的採用。</block>
  <block id="38ddba87301d0e027f020fd24b8a5ade" category="paragraph">有了NetApp混合雲解決方案、客戶就能透過單一控制面板、在分散式環境中進行資料與工作流程管理、同時根據使用量最佳化總體擁有成本、從整合式安全性、資料治理和法規遵循工具中獲益。下圖是雲端服務合作夥伴的範例解決方案、其任務是為客戶的Big資料分析資料提供多雲端連線。</block>
  <block id="10ebc90118ac5ab60f289bf34b75d978" category="inline-image-macro">雲端服務合作夥伴的解決方案範例。</block>
  <block id="ad71e01672e98de491e72d22ba403059" category="paragraph"><block ref="ad71e01672e98de491e72d22ba403059" category="inline-image-macro-rx" type="image"></block></block>
  <block id="207f35bf95973770d860aeee0abe32a2" category="paragraph">在此案例中、從不同來源收到的AWS IoT資料會儲存在NetApp私有儲存設備（NPS）的中央位置。NPS儲存設備連接到AWS和Azure中的Spark或Hadoop叢集、可讓在多個雲端上執行的巨量資料分析應用程式存取相同的資料。本使用案例的主要要求與挑戰包括：</block>
  <block id="bf871745f8e53cd8c13aca4c2ae67522" category="list-text">必須透過不同的感應器和集線器、從內部部署和雲端環境等不同來源接收資料。</block>
  <block id="cb1726ae6d68d40c3bc9861c2b26a1a0" category="list-text">解決方案必須有效率且具成本效益。</block>
  <block id="6dc7db5e9c1da14f7d61e2a7f4428219" category="list-text">主要挑戰是建置具成本效益且高效率的解決方案、在不同的內部部署環境與雲端環境之間提供混合式分析服務。</block>
  <block id="cc4772ffa75dd53e0fb87df4b15528cd" category="paragraph">我們的資料保護與多重雲端連線解決方案解決了跨多個大型擴充程式使用雲端分析應用程式的難題。如上圖所示、感應器的資料會透過Kafka串流並擷取至AWS Spark叢集。資料儲存在NPS中的NFS共用區、NPS位於Equinix資料中心內的雲端供應商外部。</block>
  <block id="88971c24837a2734fa58ba8805336328" category="paragraph">由於NetApp NPS分別透過Direct Connect和Express Route連線連線至Amazon AWS和Microsoft Azure、因此客戶可以利用就地分析模組、從Amazon和AWS分析叢集存取資料。因此、因為內部部署和NPS儲存都執行ONTAP 了一套功能不全的軟體、<block ref="fcca72a796080b3a5e2b7b1394bd00ad" category="inline-link-rx"></block> 可將NPS資料鏡射至內部部署叢集、在內部部署和多個雲端之間提供混合雲分析。</block>
  <block id="6e53d162faf0b7bc51e81ca980f05f86" category="paragraph">為獲得最佳效能、NetApp通常建議使用多個網路介面、直接連線或快速路由、從雲端執行個體存取資料。我們還有其他資料移動機解決方案、包括<block ref="0adb843c17d646acd72646e9688dde2b" category="inline-link-rx"></block> 和<block ref="4c1cade27212922d2ee7525beab5b4a9" category="inline-link-rx"></block> 協助客戶建置應用程式感知、安全且具成本效益的混合雲Spark叢集。</block>
  <block id="1e73bec6e2f584224cb16d4550039696" category="inline-link-macro">下一步：每個主要使用案例的Python指令碼。</block>
  <block id="cf6b62d678290b47b2c7abc2f11eb6d5" category="paragraph"><block ref="cf6b62d678290b47b2c7abc2f11eb6d5" category="inline-link-macro-rx"></block></block>
  <block id="edeeafbd44ff39ea2ff14f5de4488b69" category="summary">本頁說明可使用此解決方案的不同領域。</block>
  <block id="bf9bdab57c82171f2cc9bcebdc37b2c2" category="doc">使用案例摘要</block>
  <block id="2a4bf885433f99fb55281d25340cf2b5" category="inline-link-macro">上一篇：NetApp Spark解決方案總覽。</block>
  <block id="105ad1f4294f02452bad1ed7ad67aa5d" category="paragraph"><block ref="105ad1f4294f02452bad1ed7ad67aa5d" category="inline-link-macro-rx"></block></block>
  <block id="badfbf9255d6b555592b41ab34e4efc6" category="section-title">串流資料</block>
  <block id="4cc7dbb8e0e56a0e190e0ad588a8ba78" category="paragraph">Apache Spark可以處理串流資料、這些資料可用於串流擷取、轉換及負載（ETL）程序、資料豐富、觸發事件偵測、以及複雜的工作階段分析：</block>
  <block id="35658693f34a1c5dc8b752f79caeb198" category="list-text">*串流ETL.*資料會在推入資料存放區之前持續清除及彙總。Netflix使用Kafka和Spark串流來建置即時線上影片推薦和資料監控解決方案、每天都能從不同的資料來源處理數十億個事件。然而、用於批次處理的傳統ETL會以不同的方式處理。此資料會先讀取、然後轉換成資料庫格式、再寫入資料庫。</block>
  <block id="1e8d9d663f583499f32f92ca2486e7df" category="list-text">*資料豐富。* Spark串流利用靜態資料豐富即時資料、實現更即時的資料分析。例如、線上廣告商可以根據客戶行為資訊、提供個人化的目標式廣告。</block>
  <block id="e3c0d503686e9ab8960903bc80d3f700" category="list-text">*觸發事件偵測。* Spark串流可讓您偵測並快速回應可能指出潛在嚴重問題的異常行為。例如、金融機構使用觸發程序來偵測及停止詐欺交易、而醫院則使用觸發程序來偵測病患生命徵兆中偵測到的危險健康變化。</block>
  <block id="af8f12b6a4cff696802c46442e36e264" category="list-text">*複雜的工作階段分析。* Spark串流會在登入網站或應用程式之後收集使用者活動等事件、然後加以分組和分析。例如、Netflix使用此功能來提供即時電影建議。</block>
  <block id="61fb23ef88a4d1404b2410cf94238fb5" category="paragraph">如需更多串流資料組態、Conflent Kafka驗證及效能測試、請參閱<block ref="10063fdbf72f58440f18bb49eb2309fe" category="inline-link-rx"></block>。</block>
  <block id="2a80513f40f0c2a9c11009fa83049bd9" category="section-title">機器學習</block>
  <block id="c2e9a1abebd45c1d446eb49fb690afd7" category="paragraph">Spark整合式架構可協助您使用機器學習庫（MLLib）、在資料集上執行重複查詢。MLLib適用於叢集、分類及維度減量等常見的巨量資料功能、例如預測性情報、行銷目的的客戶區隔、以及情緒分析。MLLib用於網路安全性、可即時檢查資料封包、以利發現惡意活動。它可協助安全供應商瞭解新的威脅、並在即時保護客戶的同時、領先駭客。</block>
  <block id="03d3e10f072ae25d491b55767b4fc37e" category="section-title">深度學習</block>
  <block id="b45690b6bb62bd55da7e1911ed880ec6" category="paragraph">TensorFlow是業界廣受歡迎的深度學習架構。TensorFlow支援CPU或GPU叢集上的分散式訓練。這項分散式訓練可讓使用者在大量資料上執行、並有許多深度層級。</block>
  <block id="9981faa66d13ca7ba415a6c70dc52893" category="paragraph">直到最近才剛開始、如果我們想將TensorFlow與Apache Spark搭配使用、我們需要在PySpark執行TensorFlow所需的所有ETL、然後將資料寫入中繼儲存設備。然後將該資料載入TensorFlow叢集、以進行實際的訓練程序。此工作流程需要使用者維護兩個不同的叢集、一個用於ETL、另一個用於TensorFlow的分散式訓練。執行及維護多個叢集通常很繁瑣且耗時。</block>
  <block id="082ad29f115c5cd4ab167c596b90688c" category="paragraph">早期Spark版本中的DataFrames和RDD不太適合深度學習、因為隨機存取有限。在Spark 3.0中搭配專案的打造、新增了對深度學習架構的原生支援。此方法允許在Spark叢集上進行非MapReduce型排程。</block>
  <block id="44cd5d1ec9ffc51f82d838faf685ef6e" category="section-title">互動分析</block>
  <block id="11bb4412e7e82514a739cb60053e30df" category="paragraph">Apache Spark的速度足以執行探索性查詢、無需使用除了Spark以外的開發語言進行取樣、包括SQL、R和Python。Spark使用視覺化工具來處理複雜的資料、並以互動方式視覺化。利用結構化串流來執行即時資料的互動查詢、透過網路分析功能、您可以針對網站訪客目前的工作階段執行互動式查詢。</block>
  <block id="d89f01bf7c0ceacaf30849bab08e0939" category="section-title">推薦系統</block>
  <block id="38c79706797b854a06f30876828ee766" category="paragraph">多年來、建議系統已為我們的生活帶來巨大改變、因為企業和消費者已因應線上購物、線上娛樂和許多其他產業的劇烈變化。事實上、這些系統是AI在正式作業中最明顯的成功案例之一。在許多實際使用案例中、建議系統會與對話式AI或聊天機器人結合、與NLP後端互動、以取得相關資訊並產生實用的推斷。</block>
  <block id="6346d11f3fda24eb2d12fa4ac478fe3b" category="paragraph">如今、許多零售商正在採用較新的商業模式、例如在線上購買和在店內取貨、現場取貨、自助結帳、掃描與外出等等。這些模式在COVID-19大流行病期間變得非常顯著、因為它讓購物變得更安全、也更方便消費者使用。AI對於這些不斷成長的數位趨勢至關重要、這些趨勢受到消費者行為的影響、反之亦然。為了滿足消費者不斷成長的需求、提升客戶體驗、提升營運效率、並增加營收、NetApp協助企業客戶和企業使用機器學習和深度學習演算法、以更快更準確的建議系統。</block>
  <block id="b32f1d719ba1fea2cad3538a4795c552" category="paragraph">提供建議的熱門技術有幾種、包括協同作業篩選、內容型系統、深度學習推薦模式（DLRM）和混合式技術。客戶先前使用PySpark來實作協同篩選、以建立建議系統。Spark MLLib採用替代最小平方數（ALS）來進行協同篩選、這是在DLRM興起之前、企業中非常受歡迎的演算法。</block>
  <block id="9389b39b238fbd5ad61de2fea371853d" category="section-title">自然語言處理</block>
  <block id="18bfab6309a4addeb7e1dae07d2a4b89" category="inline-link">Gartner</block>
  <block id="47fa981bf7641c90f0ce83a88c21234e" category="paragraph">人工智慧是人工智慧的分支機構、可透過自然語言處理（NLP）實現、協助電腦與人類溝通。NLP在每個產業垂直市場和許多使用案例中都十分普及、從智慧型助理和聊天機器人、到Google搜尋和預測性文字。根據A<block ref="be3a50ddc5683c6936ee69409b86e212" category="inline-link-rx"></block> 預測到2022年、70%的人會每天與對話式AI平台互動。若要在人與機器之間進行高品質的對話、回應必須是快速、智慧且自然的。</block>
  <block id="9cac4209da8ee0481a45fa299b66e587" category="paragraph">客戶需要大量資料來處理及訓練NLP和自動語音辨識（ASR）模式。他們也需要在邊緣、核心和雲端之間移動資料、而且需要在毫秒內執行推斷、才能與人類建立自然的通訊。NetApp AI與Apache Spark是運算、儲存、資料處理、模型訓練、微調、 和部署。</block>
  <block id="33984e410ab674dcea1f21af4c5db4ec" category="paragraph">情緒分析是NLP內部的研究領域、從文字中擷取正面、負面或中立的情緒。情緒分析有多種使用案例、從判斷支援中心員工在與來電者對話時的表現、到提供適當的自動聊天機器人回應。此外、它也可用來根據公司代表與每季營收拜訪對象之間的互動、預測公司的股票價格。此外、情緒分析可用來判斷客戶對於品牌所提供產品、服務或支援的看法。</block>
  <block id="511405f2428e9a6a71530b7f2cdcbc21" category="inline-link">John Snow Labs</block>
  <block id="351594930581e8fa82cf694de7562fd2" category="inline-link">財務新聞意欲</block>
  <block id="322f98ff217f4c12ea8f1b3ea41f4024" category="paragraph">我們使用<block ref="0f17ea1334fb20ed83c3ab03268616d7" category="inline-link-rx"></block> 程式庫來源<block ref="22825786ea861b373c2a5fdda9f62d81" category="inline-link-rx"></block> 從Transformers（Bert）機型載入預先訓練的管線和雙向編碼器呈現、包括<block ref="25bfdf207733b5ead40d4d36ea328e85" category="inline-link-rx"></block> 和<block ref="9c44f0ce83f7021f3ece2b04fda553fb" category="inline-link-rx"></block>、大規模地執行令牌化、命名實體辨識、模型訓練、擬合和情緒分析。Spark NLP是市面上唯一提供Bert、偉業、Elecra、XLNet、DisbilBit4等先進變壓器的開放原始碼NLP程式庫。 羅伯塔、DEBerta、XLM-羅伯塔、龍原、Elmo、 通用句子編碼器、Google T5、MarianMT和GPT2。此程式庫不僅可在Python和R中運作、也可在VM生態系統（Java、Scala和Kotlin）中大規模運作、只要將Apache Spark原生擴充即可。</block>
  <block id="e4f0ac4ff07b9b5031299d0b3702fedb" category="inline-link-macro">下一步：主要AI、ML和DL使用案例與架構。</block>
  <block id="84fcdcaf39dee89e28f1b44c28ad46ef" category="paragraph"><block ref="84fcdcaf39dee89e28f1b44c28ad46ef" category="inline-link-macro-rx"></block></block>
  <block id="7e838102a13e780977b21c90f648a5d0" category="summary">本節說明Apache Spark的本質和元件、以及它們如何為本解決方案做出貢獻。</block>
  <block id="b47e85e30f997f214c7850de9dd795da" category="inline-link-macro">上一篇：目標對象。</block>
  <block id="9e972d78946023378ffbea0f999c2d03" category="paragraph"><block ref="9e972d78946023378ffbea0f999c2d03" category="inline-link-macro-rx"></block></block>
  <block id="f4387c90411f7b92618497bc53b16256" category="paragraph">Apache Spark是一種熱門的程式設計架構、可用來撰寫直接搭配Hadoop分散式檔案系統（HDFS）運作的Hadoop應用程式。Spark已準備就緒、支援串流資料處理、速度比MapReduce快。Spark可設定的記憶體內資料快取功能、可有效進行迭代、而Spark Shell則是互動式的、可用來學習及探索資料。有了Spark、您可以在Python、Scala或Java中建立應用程式。SPARK應用程式由一或多個工作組成、這些工作具有一或多項工作。</block>
  <block id="6a696023a577a0d26763ef9c382b4b1f" category="paragraph">每個Spark應用程式都有Spark驅動程式。在線對用戶端模式中、驅動程式會在用戶端本機上執行。在線叢集模式中、驅動程式會在應用程式主機的叢集內執行。在叢集模式中、即使用戶端中斷連線、應用程式仍會繼續執行。</block>
  <block id="fed4e6478ab0d82b2e98b4f5bd62f0e2" category="paragraph"><block ref="fed4e6478ab0d82b2e98b4f5bd62f0e2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6feb0bd2b4db4693572a9fc2e517e888" category="paragraph">有三種叢集管理程式：</block>
  <block id="4c79d7007667a60b712836e2f93d6bfc" category="list-text">*獨立式。*此管理程式是Spark的一部分、可讓您輕鬆設定叢集。</block>
  <block id="c0a5bce529ff277ee2735538a7b43913" category="list-text">* Apache Mesos.*這是一種通用叢集管理程式、可執行MapReduce及其他應用程式。</block>
  <block id="24683e4dfc33dc5b20a0d9a75c0ff150" category="list-text">*《哈多奧》*這是Hadoop 3的資源經理。</block>
  <block id="569531fd384ec251943946598eb00dcb" category="paragraph">彈性分散式資料集（RDD）是Spark的主要元件。RDD會重新建立儲存在叢集記憶體中的資料遺失與遺失資料、並儲存來自檔案或以程式設計方式建立的初始資料。RDD是從檔案、記憶體中的資料或其他RDD所建立。Spark程式設計可執行兩項作業：轉型與行動。轉換會根據現有的RDD建立新的RDD。動作會傳回RDD的值。</block>
  <block id="06b482c7bd2522ec4a62ccc70b71c37e" category="paragraph">轉換與動作也適用於Spark資料集和DataFrames。資料集是分散式資料集合、提供RDD的優點（強式輸入、使用Lambda功能）、以及Spark SQL最佳化執行引擎的優點。資料集可從JVM物件建構、然後使用功能性轉換（地圖、扁平對應、篩選等）進行處理。DataFrame是一種資料集、組織成命名欄。它在概念上等同於關聯式資料庫中的資料表、或是R/Python中的資料框架。DataFrames可從各種來源建構、例如結構化資料檔案、Hive/HBase中的表格、內部部署或雲端中的外部資料庫、或現有的RDD。</block>
  <block id="89d836212e4c5086ebcd9e5fbd6a4b37" category="paragraph">Spark應用程式包括一或多個Spark工作。在執行者中執行工作、執行者則在紗櫃中執行工作。每個執行程式都會在單一容器中執行、而且執行程式會在應用程式的整個生命週期內存在。執行程式會在應用程式啟動後修正、而且實際不會調整已分配的容器大小。執行程式可在記憶體內的資料上同時執行工作。</block>
  <block id="93b777568c6fc956b8dcbf6cb778cf8e" category="inline-link-macro">下一步：NetApp Spark解決方案總覽。</block>
  <block id="2e9d493fc7f04097c722ddfd7bf4cba7" category="paragraph"><block ref="2e9d493fc7f04097c722ddfd7bf4cba7" category="inline-link-macro-rx"></block></block>
  <block id="43fc68a998702bc80e46c46de6c28621" category="doc">每個主要使用案例的Python指令碼</block>
  <block id="6af3c467ec5223400f1d1e91f69cb12b" category="inline-link-macro">先前版本：混合雲解決方案。</block>
  <block id="45d040833437bf9dd9f64d4dfa4981c4" category="paragraph"><block ref="45d040833437bf9dd9f64d4dfa4981c4" category="inline-link-macro-rx"></block></block>
  <block id="cfb5f1c014066f18d7979fa1d35a934d" category="paragraph">下列三個Python指令碼分別對應三個測試的主要使用案例。第一是"entitment_section_sparknlp.py"。</block>
  <block id="d3abf6f12cafa2cc1b795b31cd547c75" category="paragraph">第二個指令碼是「keras」（keras）、「SPARK」（horovod_rossmann_imer.py）。</block>
  <block id="6e9120b39f924b2eed528e3bcdd009ac" category="paragraph">第三個指令碼是「rrun _crite_criteo_site.py」。</block>
  <block id="be0ba1bf6a99c201834567c4d58fc40e" category="paragraph"><block ref="be0ba1bf6a99c201834567c4d58fc40e" category="inline-link-macro-rx"></block></block>
  <block id="2ce0710320aace7b17c3af20eaac2918" category="sidebar">使用案例摘要</block>
  <block id="7a28dc06a92c8c13aba4217cc065d556" category="list-text">&lt;使用案例2 &gt;...</block>
  <block id="e71faea04999fd95e327c2ae1b14b591" category="list-text">附註2 ...</block>
  <block id="39a42e9bc59c02bbbf3ed4eb16b1cca4" category="paragraph">您可以完成此解決方案的部署：</block>
  <block id="7300ce5706dee36f69c820d38d478b65" category="list-text">請依照螢幕擷取畫面中的詳細指示手動完成、</block>
  <block id="8412750c53dfad13bb8a2baccb69df63" category="list-text">請手動追蹤影片、並顯示要執行的步驟、或</block>
  <block id="ec325ca23fb4f2a557b0efcf8667bf31" category="list-text">自動依照自動化部分所提供的指示進行。</block>
  <block id="d22702677ec3ab6384e6dae329022796" category="open-title">詳細指示</block>
  <block id="233777e8b1ab8b0114d7518acdbd2377" category="list-text">任務2 ...</block>
  <block id="2f43b42fd833d1e77420a8dae7419000" category="paragraph">...</block>
  <block id="a0c7049fba5354f8f1711e379e6f4201" category="open-title">影片逐步解說</block>
  <block id="c6388aefff17f19b12b255766fe6b6fe" category="paragraph">&lt;請在此附上影片詳細資料&gt;</block>
  <block id="f674169036173cc4a9f01e223c275c8d" category="open-title">自動化部署</block>
  <block id="b9e9e9354502c35dc60d3744fb1506e6" category="paragraph">&lt;在此處加入自動化步驟/程序/影片&gt;</block>
  <block id="bbc8a731eb9387bfdc71e5f35721af4c" category="example-title">&amp;l;選項說明1&amp;gt;</block>
  <block id="e83c35e6afea2838c146155292120e3a" category="paragraph">&lt;在此輸入選項的詳細資料&gt;</block>
  <block id="a8ec4bf9dc004e6dc4ec8c7c8cb307a3" category="example-title">&amp;l;選項說明2&amp;gt;</block>
  <block id="13e60333560bb11c5611ca7faa0dff3b" category="example-title">&amp;l;選項說明n&amp;gt;</block>
  <block id="955b9fb8bb717f45a2531f62ebef906d" category="doc">NVA-1151-Design：NetApp ONTAP 支援NVIDIA DGX A100系統設計指南的AI</block>
  <block id="329ecbed66c88e6c0c049d051ad6aa9a" category="paragraph">NetApp公司David Arette和Sung-HAN LIN</block>
  <block id="d940dfad6ae514d8235749f5f5bf92ed" category="paragraph">NVA-1151-Design說明NetApp認證的機器學習架構、以及使用NetApp AFF ®XA800儲存系統、NVIDIA DGX A100系統和NVIDIA Mellanox網路交換器的人工智慧工作負載。其中也包含已實作架構的基準測試結果。</block>
  <block id="20821bbf55dddb9fb677efca1bfcf4d1" category="paragraph"><block ref="20821bbf55dddb9fb677efca1bfcf4d1" category="inline-link-rx"></block></block>
  <block id="16550c71fdf2102ec8face86a5d82746" category="cell">2022年9月30日</block>
  <block id="8485ff07404cda7656a72c1d11b2e278" category="cell">新增使用VMware HCX將工作負載移轉至FSxN資料存放區的解決方案</block>
  <block id="bee0d36d9b0ec64a15bf59019a6ec2e2" category="cell">09/29/ 2022</block>
  <block id="b6942044de91f49e700f684f12314907" category="cell">新增使用VMware HCX將工作負載移轉至ANF資料存放區的解決方案</block>
  <block id="fa3811ba5828de9b5ce35701ec38d154" category="list-text">檢查VMC的可用度 <block ref="bd516ef46cad23535fac2e4d7f54defe" category="inline-link-macro-rx"></block>。</block>
  <block id="0ecaf171a89c41ea509c3f45896220b8" category="list-text">Amazon定價指南提供FSxN（FSx ONTAP ）的可用位置資訊。您可以找到這些資訊 <block ref="2d4b4b449ef448fbb3000f58e542f4ee" category="inline-link-macro-rx"></block>。</block>
  <block id="4573434025dab87886cfb0b766c70cb1" category="paragraph">最後更新日期：2022年9月28日。</block>
  <block id="d8cefe0428d28368238dbbeabef9c83f" category="open-title">混合式多雲端（HMC）</block>
  <block id="493f775d3c83d2c658056477b1d58f74" category="paragraph">[Underlines]#*適用於AWS/VMC*#的影片</block>
  <block id="638eb9310db06d086fac0c3c069669af" category="video-title">VMware Cloud on AWS補充資料存放區搭配Amazon FSX for NetApp ONTAP</block>
  <block id="6f605e77e59dfe45ae918965ba0bd336" category="video-title">採用Amazon FSX for NetApp ONTAP 的VMware Cloud on AWS TCO節約效益</block>
  <block id="d7d56735bb43053ca43b2d9698b2623c" category="video-title">適用於VMC的VMware HCX部署與組態設定</block>
  <block id="c6434a9743fb403cd78cd2d3a42d9683" category="video-title">VMware HCX針對VMC和FSxN的VMotion示範</block>
  <block id="e906083dc0b31806eab68df2c340504f" category="video-title">VMware HCX for VMC和FSxN的冷移轉示範</block>
  <block id="62184265581f788d642b26b13c273b93" category="paragraph">[Underlines]#* Azure / AVS*#影片</block>
  <block id="62766d3266d403114a010bc02e7b4004" category="video-title">Azure VMware解決方案補充資料存放區總覽Azure NetApp Files （含）</block>
  <block id="4864ff1c07b9b500fd46c4a1c5918fd8" category="video-title">Azure VMware解決方案DR Cloud Volumes ONTAP 搭配VMware功能、包括功能不完整、SnapCenter 功能完整</block>
  <block id="8eb2fa7c0d2a676485a155077b770fdd" category="video-title">VMware HCX針對AVS和ANF進行冷移轉示範</block>
  <block id="664115ac899ebaf481e2b75540d5c56c" category="video-title">VMware HCX針對AVS和ANF的VMotion示範</block>
  <block id="914c1d4cdf840b7b030978f1b07915d8" category="video-title">VMware HCX針對AVS和ANF的大量移轉示範</block>
  <block id="1709b8b454125c7d55fd44e302c8aee3" category="example-title">VMware Cloud on AWS移轉至FSxN、VMware HCX</block>
  <block id="9de15a07d3a8b75e451c50d7fa64fae9" category="example-title">Azure上的Azure VMware Services Azure NetApp Files with VMware（ANF）</block>
  <block id="875970986c8d6a0d19f47ed744bf33e1" category="example-title">Azure VMware解決方案移轉至Anf、VMware HCX</block>
  <block id="04a1b40e30ee3bddef53c85ca68c8b36" category="inline-link-macro">使用VMware HCX將工作負載移轉至Azure NetApp Files VMware資料存放區</block>
  <block id="edf47ba9dc6467e3104102f10bafe323" category="list-text"><block ref="edf47ba9dc6467e3104102f10bafe323" category="inline-link-macro-rx"></block></block>
  <block id="668f202e4850de68f941501493126dea" category="doc">TR-4940：Azure NetApp Files 使用VMware HCX -快速入門指南、將工作負載移轉至VMware Infrastructure資料存放區</block>
  <block id="ddfd90f2a10c16cbd6548844b07532c2" category="paragraph">作者：NetApp解決方案工程</block>
  <block id="e5baae71bfede792aee5ab0c09fbcd23" category="section-title">總覽：使用VMware HCX、Azure NetApp Files 不含資料存放區和Azure VMware解決方案來移轉虛擬機器</block>
  <block id="45c532c5535fe16cf9a5868bbd9a3fcd" category="paragraph">Azure VMware解決方案與Azure NetApp Files VMware資料存放區最常見的使用案例之一、就是移轉VMware工作負載。VMware HCX是首選的選項、提供各種移轉機制、可將內部部署的虛擬機器（VM）及其資料移至Azure NetApp Files 各個資料存放區。</block>
  <block id="a2ee24315378af7416f8fef29e0f0efa" category="paragraph">VMware HCX主要是一個移轉平台、其設計旨在簡化應用程式移轉、工作負載重新平衡、甚至是雲端之間的營運不中斷。它是Azure VMware解決方案私有雲的一部分、提供許多移轉工作負載的方法、可用於災難恢復（DR）作業。</block>
  <block id="227830ba037f63bb97cffeeb98e3a13e" category="paragraph">本文件提供有關配置Azure NetApp Files VMware資料存放區的逐步指引、接下來是下載、部署及設定VMware HCX、包括內部部署及Azure VMware解決方案端的所有主要元件、包括互連、網路擴充及WAN最佳化、以啟用各種VM移轉機制。</block>
  <block id="a7441e9f968c9ea792320876fd73622a" category="admonition">VMware HCX可與任何資料存放區類型搭配使用、因為移轉作業是在VM層級進行。因此、本文件適用於目前打算以Azure NetApp Files Azure VMware解決方案部署VMware解決方案以實現具成本效益的VMware雲端部署的NetApp客戶和非NetApp客戶。</block>
  <block id="0ba40ecb813b20bd8c3277c4afcbd451" category="example-title">高階步驟</block>
  <block id="9a40c0b2781fd2a3a99aa2a6c0c4616e" category="paragraph">此清單提供在Azure雲端端安裝及設定HCX Cloud Manager、以及在內部部署安裝HCX Connector所需的高階步驟：</block>
  <block id="d7bfcf4345887ee24f2c3083038c6327" category="list-text">透過Azure入口網站安裝HCX。</block>
  <block id="ea0d203a776b5c56ae3ed2c61269d2a9" category="list-text">在內部部署的VMware vCenter Server中下載並部署HCX Connector Open Virtualization Appliance（OVA）安裝程式。</block>
  <block id="2be88e0d3f6d4e20f4bf2bcca7895d7b" category="list-text">使用授權金鑰啟動HCX。</block>
  <block id="6a0721ebaaff6c0b1564863ac23c2509" category="list-text">將內部部署的VMware HCX Connector與Azure VMware解決方案HCX Cloud Manager配對。</block>
  <block id="612a4c795715d17bfff4e0ba3a8f66d1" category="list-text">設定網路設定檔、運算設定檔和服務網格。</block>
  <block id="81feabec43f9f1bcb7230fd62f89fb76" category="list-text">（選用）執行網路擴充、以避免在移轉期間重新取得IP。</block>
  <block id="dbed86346a8d7cb3692ba413f7e14f56" category="list-text">驗證應用裝置狀態、並確保可以進行移轉。</block>
  <block id="2f2c97fb0d914a7fc7bcb2c8fad16868" category="list-text">移轉VM工作負載。</block>
  <block id="f2f281974ab353b606093268f9d5335e" category="paragraph">開始之前、請先確定符合下列先決條件。如需詳細資訊、請參閱<block ref="88354f8e41d1a2e6cea84b3d932b3286" category="inline-link-rx"></block>。在具備連線能力等先決條件之後、請從Azure VMware解決方案入口網站產生授權金鑰、以設定並啟動HCX。下載OVA安裝程式之後、請繼續執行下列安裝程序。</block>
  <block id="f52b030029e78590ca66fbf452dfcb14" category="admonition">HCx進階為預設選項、VMware HCX Enterprise版本也可透過支援票證取得、而且不需額外付費即可獲得支援。</block>
  <block id="67863abb3ec8a28f54adf852298b392b" category="inline-link">NetApp連結</block>
  <block id="d2a5cfbad293008f62b5d4e58457a6d1" category="inline-link">Microsoft連結</block>
  <block id="1ed491d88e9198d83430469156bf2665" category="list-text">使用現有的Azure VMware解決方案軟體定義資料中心（SDDC）、或使用此功能建立私有雲端<block ref="db330bdc7708ed0196dccd83d189a8ae" category="inline-link-rx"></block> 或是這種情況<block ref="5633c6477a16a80a8050560dab9783c9" category="inline-link-rx"></block>。</block>
  <block id="e265f4db94070f55784ef698e7f4f29b" category="inline-link">設定站台對站台VPN或Express路由全域連線連線</block>
  <block id="bb764f1df90a85d77eec079e03bd9764" category="list-text">若要從內部部署的VMware vSphere資料中心移轉VM及相關資料、需要從資料中心連線至SDDC環境。移轉工作負載之前、<block ref="31180ecf5c9f25ba891b891b395a9305" category="inline-link-rx"></block> 在內部部署環境與各自私有雲端之間。</block>
  <block id="d08fd3825f77e870dd8e93463aea245d" category="list-text">從內部部署VMware vCenter Server環境到Azure VMware解決方案私有雲的網路路徑、必須支援使用VMotion移轉VM。</block>
  <block id="f3b5e5598d4c0c196bd2fd79b000637f" category="inline-link">防火牆規則和連接埠</block>
  <block id="e1be03b35dc8e9fb114970b06dcd6c18" category="list-text">請確定所需的<block ref="69c9d7a74dad51c1c47ea8141c218514" category="inline-link-rx"></block> 允許內部部署vCenter Server與SDDC vCenter之間的VMotion流量。在私有雲端上、預設會設定VMotion網路上的路由傳送。</block>
  <block id="444617dcfe0d17ad386105e865d21113" category="list-text">應在Azure VMware解決方案中以資料存放區的形式掛載不適用的NFS Volume。Azure NetApp Files請依照本節詳細說明的步驟進行<block ref="1b959b45bbb3571141089802677ad765" category="inline-link-rx"></block> 將Azure NetApp Files 不完整的資料存放區附加至Azure VMware解決方案主機。</block>
  <block id="2f660e9fff52e5ac1b7818a029d3b447" category="example-title">高層架構</block>
  <block id="0048e42e38e4c6f587f210afe26fcb4a" category="inline-image-macro">此映像描述此解決方案所使用的高層架構。</block>
  <block id="39fc1d64ec4b3a4ff5306e55bdaf2c0f" category="paragraph"><block ref="39fc1d64ec4b3a4ff5306e55bdaf2c0f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d84f7e9d42c2c0ee4f87ddeaa2e09bb2" category="paragraph">請依照一系列步驟完成本解決方案的部署：</block>
  <block id="4c8f77e6ab4a9e453faf4063978f94d5" category="example-title">步驟1：使用附加元件選項透過Azure Portal安裝HCX</block>
  <block id="f4ca86f94d0e12644ce102e7c48d6030" category="paragraph">若要執行安裝、請完成下列步驟：</block>
  <block id="7d4c34e9f83446ef58ad083cd2c29580" category="list-text">登入Azure Portal並存取Azure VMware Solution私有雲。</block>
  <block id="16671eada5939f5c2129db7e8f9522a0" category="list-text">選取適當的私有雲並存取附加元件。您可以瀏覽至*管理&gt;附加元件*來完成此作業。</block>
  <block id="de23e32bd14f5f77d4178bb7d56c2eb0" category="list-text">在「HCX工作負載行動性」區段中、按一下「*入門*」。</block>
  <block id="239ba3d7293041d0d4dcb4c5b538ea74" category="inline-image-macro">HCX工作負載行動力區段的快照。</block>
  <block id="91a36107da2b4f5cbc4963027f871289" category="paragraph"><block ref="91a36107da2b4f5cbc4963027f871289" category="inline-image-macro-rx" type="image"></block></block>
  <block id="de66be71be828600d682c9f0bdb03a18" category="list-text">選取「*我同意條款與條件*」選項、然後按一下「*啟用與部署*」。</block>
  <block id="e26184583d86572b90efcca3db66731e" category="admonition">預設部署為HCX Advanced。開啟支援要求以啟用Enterprise Edition。</block>
  <block id="adafe418547291754cadbfc0d2c5c1dc" category="admonition">部署約需25至30分鐘。</block>
  <block id="e39769185df95d6577314b0c683cf848" category="inline-image-macro">完成HCX工作負載行動性部分的快照。</block>
  <block id="6df468c8490be1137779d8811f53bddb" category="paragraph"><block ref="6df468c8490be1137779d8811f53bddb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ae33ed8b7695cc113850f5a13bab6e56" category="example-title">步驟2：在內部部署vCenter Server中部署安裝程式OVA</block>
  <block id="e957ef97a04368fda5e2652e51c19d1d" category="paragraph">若要讓內部部署連接器連線至Azure VMware解決方案中的HCX Manager、請確定內部部署環境中已開啟適當的防火牆連接埠。</block>
  <block id="0c216cee9411e03f1127e6ffc2bf025d" category="paragraph">若要在內部部署vCenter Server中下載並安裝HCX Connector、請完成下列步驟：</block>
  <block id="c28009ba42c1703c33046d99285a0a10" category="list-text">從Azure入口網站、前往Azure VMware解決方案、選取私有雲、然後選取*管理&gt;附加元件&gt;使用HCX移轉*、然後複製HCX Cloud Manager入口網站、即可下載OVA檔案。</block>
  <block id="3a858d6f55c84c77db797aafa874a8a5" category="admonition">使用預設的CloudAdmin使用者認證資料來存取HCX入口網站。</block>
  <block id="7efdfa090ad75b0c0f02e115ab8e56bd" category="inline-image-macro">Azure入口網站的快照、可下載HCX OVA檔案。</block>
  <block id="ab9fbdf98484d630980bec96dac55284" category="paragraph"><block ref="ab9fbdf98484d630980bec96dac55284" category="inline-image-macro-rx" type="image"></block></block>
  <block id="69d5565b77c91d5d6d289858e4d7ea91" category="list-text">使用jumphost、以mailto：cloudadmin@vple.1[cloudadmin@vplore.erl]存取HCX入口網站之後、請瀏覽至*管理&gt;系統更新*、然後按一下*要求下載連結*。</block>
  <block id="f6b26e036b373b18f11dc0da33ef5268" category="admonition">下載或複製OVA連結、然後貼到瀏覽器中、開始下載VMware HCX Connector OVA檔案、以便部署在內部部署vCenter Server上。</block>
  <block id="894d2481892f65fcae6dfc0ac7b9ec0d" category="inline-image-macro">錯誤：OVA下載連結的快照。</block>
  <block id="2a8ced383f2ab7fb9d4a69fc8d344b0e" category="paragraph"><block ref="2a8ced383f2ab7fb9d4a69fc8d344b0e" category="inline-image-macro-rx" type="image"></block></block>
  <block id="12e1c817f24a0aa94d2ae26ea6535479" category="list-text">下載OVA之後、請使用*部署OVF範本*選項、將其部署至內部部署的VMware vSphere環境。</block>
  <block id="fc1a0933af5c68cc43dbb90b50c1b0d3" category="inline-image-macro">錯誤：選取正確OVA範本的快照。</block>
  <block id="d36fa73d8072d1ab34f185f12d5fede5" category="paragraph"><block ref="d36fa73d8072d1ab34f185f12d5fede5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8ba87ef75729cfcffc74d93e0a0852a1" category="list-text">輸入OVA部署的所有必要資訊、按一下*「下一步」*、然後按一下「*完成*」以部署VMware HCX連接器OVA。</block>
  <block id="ed1aadd2fcd5906dd58f9a89179a638e" category="admonition">手動啟動虛擬應用裝置。</block>
  <block id="dca749083ce6c763573225ed6a46a64e" category="inline-link">VMware HCX使用者指南</block>
  <block id="e10fbd147d2ee50fbbb460ad2f18fa14" category="paragraph">如需逐步指示、請參閱<block ref="856d054195f2a40a0c4a2869d5895904" category="inline-link-rx"></block>。</block>
  <block id="6897bb7015f874baf69560eef515010c" category="example-title">步驟3：使用授權金鑰啟動HCX Connector</block>
  <block id="4aa14207b82768ed77473306cc7a65c2" category="paragraph">在內部部署VMware HCX Connector OVA並啟動應用裝置之後、請完成下列步驟以啟動HCX Connector。從Azure VMware解決方案入口網站產生授權金鑰、並在VMware HCX Manager中啟動。</block>
  <block id="3535419e37127ca2de6abd9538414466" category="list-text">從Azure入口網站、前往Azure VMware解決方案、選取私有雲、然後選取*管理&gt;附加元件&gt;使用HCX*移轉。</block>
  <block id="436402d536d27aaa2091a54751a60036" category="list-text">在「*使用HCX金鑰與內部部署連線*」下、按一下「*新增*」、然後複製啟動金鑰。</block>
  <block id="0b053e667d8c9baa8cbb4a5402fe69e1" category="inline-image-macro">新增HCX金鑰的快照。</block>
  <block id="5d9de146e997662a8510bd175e5c593a" category="paragraph"><block ref="5d9de146e997662a8510bd175e5c593a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="03fc385dd3b54c80a78341c5aa2189a3" category="admonition">每個部署的內部部署HCX Connector都需要個別的金鑰。</block>
  <block id="e8edfbded2eb5193c58170d5f9073d7d" category="inline-link"><block ref="e8edfbded2eb5193c58170d5f9073d7d" category="inline-link-rx"></block></block>
  <block id="b6d4af6a25f46f3687120681e525d833" category="list-text">登入內部部署的VMware HCX Manager、網址為<block ref="f9ac10929d1e2f12c4fea5c57d73b3eb" category="inline-link-rx"></block> 使用系統管理員認證。</block>
  <block id="b2719f92794cef282f9cd7684baca4c4" category="admonition">使用在OVA部署期間定義的密碼。</block>
  <block id="a864855f2120d5c8d4793a4866b6a7bb" category="list-text">在授權中、輸入從步驟3複製的金鑰、然後按一下「*啟動*」。</block>
  <block id="e5c8d88f2fa7af9f1a719e04c4b17740" category="admonition">內部部署的HCX Connector應可存取網際網路。</block>
  <block id="ee746d79ab481579a8c0202a94e8d378" category="list-text">在*資料中心位置*下、提供最接近內部部署VMware HCX Manager的安裝位置。按一下 * 繼續 * 。</block>
  <block id="c72431b355c96ffdfb7baece307881f0" category="list-text">在*系統名稱*下、更新名稱、然後按一下*繼續*。</block>
  <block id="030627b8e0e3f6ba69c6a9e524d8e9c0" category="list-text">按一下*是、繼續*。</block>
  <block id="05399e57e0b2a25ce8cef32f3628b2e3" category="list-text">在「*連線您的VCenter*」下、提供vCenter Server的完整網域名稱（FQDN）或IP位址、以及適當的認證資料、然後按一下「*繼續*」。</block>
  <block id="96b1cf77a862dc0408a3e2e9678b2165" category="admonition">使用FQDN以避免稍後發生連線問題。</block>
  <block id="390f6c76fee2d7fb6d09bcedc3622467" category="list-text">在「*設定SSO/PSC *」下、提供平台服務控制器的FQDN或IP位址、然後按一下「*繼續*」。</block>
  <block id="b070c615098fb975bc2bc3a9f6c67b3e" category="admonition">輸入VMware vCenter Server FQDN或IP位址。</block>
  <block id="f4bb2b9a4de7e44c942457943977fd34" category="list-text">驗證輸入的資訊是否正確、然後按一下*重新啟動*。</block>
  <block id="a565e4f9db7c03385f61c3bdb0f4b806" category="list-text">服務重新啟動後、vCenter Server會在顯示的頁面上顯示為綠色。vCenter Server和SSO都必須具有適當的組態參數、此參數應與上一頁相同。</block>
  <block id="457446477fbd3326ba80d1248eaca490" category="admonition">此程序大約需要10到20分鐘、而外掛程式則要新增至vCenter Server。</block>
  <block id="1181827ced4ce13f7bd91097d9b10dac" category="inline-image-macro">顯示完成程序的快照。</block>
  <block id="534d4f43f7a513cf2f2152686da775ae" category="paragraph"><block ref="534d4f43f7a513cf2f2152686da775ae" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e0b94fcafcd5f76f4f84be761263d657" category="example-title">步驟4：將內部部署的VMware HCX Connector與Azure VMware解決方案HCX Cloud Manager配對</block>
  <block id="ae37843769e741d076e2422772db5395" category="paragraph">在內部部署和Azure VMware解決方案中安裝HCX Connector之後、請新增配對、以設定內部部署的VMware HCX Connector for Azure VMware Solution私有雲。若要設定站台配對、請完成下列步驟：</block>
  <block id="28b0363954066139335c413f28022037" category="list-text">若要在內部部署的vCenter環境與Azure VMware Solution SDDC之間建立站台配對、請登入內部部署的vCenter Server、然後存取新的HCX vSphere Web Client外掛程式。</block>
  <block id="f4f57342a1f5bfd667f7d19048c4aa85" category="inline-image-macro">HCX vSphere Web Client外掛程式的快照。</block>
  <block id="1ecb33e8c47a03470ff03bb6c09a1d87" category="paragraph"><block ref="1ecb33e8c47a03470ff03bb6c09a1d87" category="inline-image-macro-rx" type="image"></block></block>
  <block id="302ca8cbe91eb456c9defb6fe514b81e" category="list-text">按一下「基礎架構」下的「*新增站台配對*」。</block>
  <block id="cd6182a85ca09ca99bda2787165407d9" category="admonition">輸入Azure VMware Solution HCX Cloud Manager URL或IP位址、以及CloudAdmin角色存取私有雲端的認證資料。</block>
  <block id="407d1d705e5bdedf2e1c5e9257c0c1ef" category="inline-image-macro">CloudAdmin角色的快照URL或IP位址和認證。</block>
  <block id="6e861dfeca468a35e2aa6f6a42b2ad5f" category="paragraph"><block ref="6e861dfeca468a35e2aa6f6a42b2ad5f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9bccd838ddedeb361e65189136ac5c0f" category="list-text">按一下「*連線*」。</block>
  <block id="7630a70e4d4511de5ac0f8ce18edd594" category="admonition">VMware HCX Connector必須能夠透過連接埠443路由傳送至HCX Cloud Manager IP。</block>
  <block id="ddea1cbf444f5d4e69d68b23eb0b4b59" category="list-text">建立配對之後、即可在HCX儀表板上取得新設定的站台配對。</block>
  <block id="8cdce778f46399f121d65006767f466a" category="inline-image-macro">HCX儀表板上已完成程序的快照。</block>
  <block id="a71387f99ef8fc06b56323de8e6a67e6" category="paragraph"><block ref="a71387f99ef8fc06b56323de8e6a67e6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="38bca9c1088c36da27f6910232836b09" category="example-title">步驟5：設定網路設定檔、運算設定檔和服務網格</block>
  <block id="a030f25f2e21cc0db80d6a88646adb63" category="paragraph">VMware HCX互連服務應用裝置可透過網際網路提供複寫及vMotion型移轉功能、並可透過私有連線連至目標站台。互連可提供加密、流量工程及VM行動性。若要建立互連服務應用裝置、請完成下列步驟：</block>
  <block id="efb9332572aac00947298fc1ed65c0da" category="list-text">在「基礎架構」下、選取「*互連&gt;多站台服務網狀架構&gt;運算設定檔」&gt;「建立運算設定檔*」。</block>
  <block id="96e78a381f203820b7fb0d823994f764" category="admonition">運算設定檔定義部署參數、包括部署的應用裝置、以及HCX服務可存取的VMware資料中心部分。</block>
  <block id="df03fa88f502c44f3476981d50c25ae4" category="inline-image-macro">vSphere用戶端互連頁面的快照。</block>
  <block id="0f7d2c9383c1f40641b39e9f65126dcf" category="paragraph"><block ref="0f7d2c9383c1f40641b39e9f65126dcf" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ba9d884b8a48f110e052a2644f36c6bb" category="list-text">建立運算設定檔之後、選取*多站台服務網格&gt;網路設定檔&gt;建立網路設定檔*、即可建立網路設定檔。</block>
  <block id="7e461f559c367396eca97f75c2262003" category="paragraph">網路設定檔會定義一系列的IP位址和網路、以供HCX用於其虛擬應用裝置。</block>
  <block id="12618dff60108a0e440afb082e782c71" category="admonition">此步驟需要兩個以上的IP位址。這些IP位址會從管理網路指派給互連設備。</block>
  <block id="9f137734809298c4fa85b07a7ddb6c5f" category="inline-image-macro">將IP位址新增至vSphere用戶端互連頁面的快照。</block>
  <block id="c1fdcb13f1a622ccbe4f21a52d31bcb1" category="paragraph"><block ref="c1fdcb13f1a622ccbe4f21a52d31bcb1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9f78591a00b39059d077f422f8695286" category="list-text">目前、運算和網路設定檔已成功建立。</block>
  <block id="5e8122825414e5afe12c228e3afb9f77" category="list-text">選取「*互連*」選項中的「*服務網格*」索引標籤、然後選取內部部署和Azure SDDC站台、即可建立服務網格。</block>
  <block id="efe6cc3fe15f7c67781cd956f1aa3b8e" category="list-text">Service Mesh會指定本機和遠端運算和網路設定檔配對。</block>
  <block id="292b454f1874f04a4b6f9258b5f933e4" category="admonition">在此程序中、會在來源和目標站台上部署並自動設定HCX應用裝置、以建立安全的傳輸架構。</block>
  <block id="0433a192b31baf05b1deba1471c492ff" category="inline-image-macro">vSphere用戶端互連頁面上的服務網格索引標籤快照。</block>
  <block id="55551523a891564fc7b09d6dec2fe75f" category="paragraph"><block ref="55551523a891564fc7b09d6dec2fe75f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9df03f8fa3fc5e40e9100c8ebbd3a2ad" category="list-text">這是組態的最後一步。完成部署需要將近30分鐘的時間。設定好服務網格後、環境就能準備好、成功建立IPsec通道來移轉工作負載VM。</block>
  <block id="532b4e992bd2794e777d1c1320e94f98" category="inline-image-macro">vSphere用戶端互連頁面上完成程序的快照。</block>
  <block id="9158466ef9c7277d9287f86080b2c362" category="paragraph"><block ref="9158466ef9c7277d9287f86080b2c362" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e0e8a1058909962c26cdead8b3fab020" category="example-title">步驟6：移轉工作負載</block>
  <block id="80ea378666ca268305d30933ca376035" category="paragraph">使用各種VMware HCX移轉技術、可在內部部署與Azure SDDC之間雙向移轉工作負載。VM可以使用多種移轉技術（例如HCX大量移轉、HCX vMotion、HCX冷移轉、HCX複寫輔助vMotion（適用於HCX Enterprise Edition）、以及HCX OS輔助移轉）（適用於HCX Enterprise Edition）、在VMware HCX啟動的實體之間移動。</block>
  <block id="94638809b72d557d4335dfce65f69e35" category="inline-link">VMware HCX移轉類型</block>
  <block id="aa52e427086548446f11ad8e43c6e998" category="paragraph">若要深入瞭解各種HCX移轉機制、請參閱<block ref="17989ba7d4a97ba4d6ebb072be2dc216" category="inline-link-rx"></block>。</block>
  <block id="998d1ed8e82c8145e094c99bf11f8408" category="paragraph">*大量移轉*</block>
  <block id="15a3af99dcf6c8651b8f168e13625c61" category="paragraph">本節詳細說明大量移轉機制。在大量移轉期間、HCX的大量移轉功能會使用vSphere Replication移轉磁碟檔案、同時在目的地vSphere HCX執行個體上重新建立VM。</block>
  <block id="181b4946601ef2026e3d3ca16145a722" category="paragraph">若要啟動大量VM移轉、請完成下列步驟：</block>
  <block id="76b01c506c1450a5b0ff6dccaeb0e9b7" category="list-text">存取*服務&gt;移轉*下的*移轉*索引標籤。</block>
  <block id="bdfca72da9e5f7e7bfcd81aa9844aa45" category="inline-image-macro">vSphere用戶端移轉區段的快照。</block>
  <block id="005bf2b00a4806639f3ea37ea4509f6b" category="paragraph"><block ref="005bf2b00a4806639f3ea37ea4509f6b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cc18384d5bbc3aa89ffea93d51abc451" category="list-text">在*遠端站台連線*下、選取遠端站台連線、然後選取來源和目的地。在此範例中、目的地是Azure VMware解決方案SDDC HCX端點。</block>
  <block id="251b1066293b131079328f5d09e33aca" category="list-text">按一下*選取要移轉的VM *。這會提供所有內部部署VM的清單。根據MATCH：Value運算式選取VM、然後按一下* Add*。</block>
  <block id="70dc92c7c0c3752e5757560b72fa8f04" category="list-text">在*傳輸與放置*區段中、更新必要欄位（*叢集*、*儲存*、*目的地*和*網路*）、包括移轉設定檔、然後按一下*驗證*。</block>
  <block id="009e0b54f8062ebadb85388889541f12" category="inline-image-macro">vSphere用戶端「傳輸與放置」區段的快照。</block>
  <block id="e5cde894c26fccdfef420936d570829b" category="paragraph"><block ref="e5cde894c26fccdfef420936d570829b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7599f8a3668b692ca7501152d4682c07" category="list-text">驗證檢查完成後、按一下「*執行*」以啟動移轉。</block>
  <block id="79af22f136dbfe3d3bf950a72f2c5f5b" category="inline-image-macro">移轉初始化的快照。</block>
  <block id="c40f6796f391e80926e1a459f389859b" category="paragraph"><block ref="c40f6796f391e80926e1a459f389859b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c1969ef22141ce348651d2b0f4eb5dd8" category="admonition">在此移轉期間、Azure NetApp Files 會在目標vCenter內的指定支援資料存放區上建立一個預留位置磁碟、以便將來源VM磁碟的資料複寫到預留位置磁碟。觸發HGR以與目標進行完整同步、並在基準完成後、根據恢復點目標（RPO）週期執行遞增同步。完成完整/遞增同步後、除非設定特定排程、否則系統會自動觸發切換。</block>
  <block id="c0b39ee3609ffbaf676e9119dd912e9b" category="list-text">移轉完成後、請存取目的地SDDC vCenter以驗證相同項目。</block>
  <block id="5d882ffc756bfb07c0785abe30634c3c" category="paragraph"><block ref="5d882ffc756bfb07c0785abe30634c3c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0d785f8302edf28ffd50ba9bd9a1e3e5" category="paragraph">如需各種移轉選項的其他詳細資訊、以及如何使用HCX將工作負載從內部部署移轉至Azure VMware解決方案、請參閱<block ref="15dbc17e63bae3f57dd4aa8612bacb9d" category="inline-link-rx"></block>。</block>
  <block id="73e6478a04a38e6c1af3fd112abd351f" category="paragraph">若要深入瞭解此程序、歡迎觀看詳細的逐步解說影片：</block>
  <block id="128dd96b5323b02401db618a27f67394" category="paragraph">以下是HCX vMotion選項的快照。</block>
  <block id="d77e1c6edbcf98bc28017153ba737ae7" category="paragraph"><block ref="d77e1c6edbcf98bc28017153ba737ae7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="efb5f7e867e5fc98adcdcb1d219cdd4a" category="admonition">請確定有足夠的頻寬可供處理移轉作業。</block>
  <block id="6147587d84b933dcb429334a5e2594f9" category="admonition">目標ANF資料存放區應有足夠空間來處理移轉作業。</block>
  <block id="d7372a0d2d0e1ec31f9e1d607d52e246" category="paragraph">無論您的目標是全雲端或混合雲、或是內部部署中任何類型/廠商儲存設備上的資料、Azure NetApp Files 無論是部署或移轉應用程式工作負載、都能提供絕佳的選項、同時將資料需求無縫移轉至應用程式層、進而降低TCO。無論使用案例為何、請選擇Azure VMware解決方案搭配Azure NetApp Files VMware解決方案、以快速實現雲端效益、一致的基礎架構、以及跨內部部署和多個雲端的作業、工作負載的雙向可攜性、以及企業級容量和效能。使用VMware vSphere複寫、VMware VMotion、甚至是網路檔案複本（NFC）來連接儲存設備及移轉VM的程序與程序、都是相當熟悉的程序。</block>
  <block id="7a7f4f94771d5c3f94a76599dcacb0cf" category="list-text">您現在可以在Azure NetApp Files Azure VMware解決方案SDDC上使用效能不實的資料存放區。</block>
  <block id="44b43fa706a816b30490196d187959c4" category="list-text">您可以輕鬆地將資料從內部部署移轉至Azure NetApp Files 不受資料保護的資料存放區。</block>
  <block id="bc6808bfb84f0a05f9640103114929fa" category="list-text">您可以輕鬆擴充及縮減Azure NetApp Files 整個VMware資料存放區、以滿足移轉活動期間的容量和效能需求。</block>
  <block id="61af664797ae795435faba35dd141335" category="inline-link"><block ref="61af664797ae795435faba35dd141335" category="inline-link-rx"></block></block>
  <block id="ab19b6733f7a9500ff9d392433071ef2" category="paragraph"><block ref="ab19b6733f7a9500ff9d392433071ef2" category="inline-link-rx"></block></block>
  <block id="7c5ba33b986ba469d277c4ca9f906e55" category="inline-link-macro">使用VMware HCX將工作負載移轉至FSxN資料存放區</block>
  <block id="c037991d132128e15cdbfefe3ac8e997" category="list-text"><block ref="c037991d132128e15cdbfefe3ac8e997" category="inline-link-macro-rx"></block></block>
  <block id="086d898e7d4a481c2147d4eb71dff1f6" category="section-title">總覽：使用VMware HCX、FSx ONTAP 補充資料存放區和VMware Cloud移轉虛擬機器</block>
  <block id="82778188ea3c0ca7871389afec5bfd03" category="paragraph">Amazon Web Services（AWS）上的VMware Cloud（VMC）的常見使用案例、其補充NFS資料存放區位於Amazon FSX for NetApp ONTAP 的NetApp功能區上、就是移轉VMware工作負載。VMware HCX是首選選選項、提供多種移轉方法、可將內部部署虛擬機器（VM）及其資料（在任何VMware支援的資料存放區上執行）移至VMC資料存放區、其中包括FSXfor ONTAP VMware上的補充NFS資料存放區。</block>
  <block id="2fbfc2601ddccd56b7728df6f0a658e1" category="paragraph">VMware HCX主要是一個行動平台、其設計旨在簡化跨雲端的工作負載移轉、工作負載重新平衡及營運不中斷。它是AWS上VMware Cloud的一部分、提供許多移轉工作負載的方法、可用於災難恢復（DR）作業。</block>
  <block id="aabc04eb6cd0b22670013ea8212b7a4f" category="paragraph">本文件提供部署及設定VMware HCX的逐步指引、包括內部部署及雲端資料中心端的所有主要元件、可實現各種VM移轉機制。</block>
  <block id="d493b7ce0e1cf6434fdce9bd4fa1c847" category="inline-link">HCX部署簡介</block>
  <block id="274e6762dc6bf155637729306a74154b" category="inline-link">在AWS SDDC目的地環境上安裝檢查清單B - HCX搭配VMware Cloud</block>
  <block id="1db2f90540d47d2fe14bfc6cad01537a" category="paragraph">如需詳細資訊、請參閱<block ref="871067259283ae637dd3ddcf90a49e5d" category="inline-link-rx"></block> 和<block ref="b5449e907f27219538721e57c42a92c0" category="inline-link-rx"></block>。</block>
  <block id="18ad70c16d20c99de2753c4da7fb1291" category="paragraph">此清單提供安裝及設定VMware HCX的高階步驟：</block>
  <block id="b9b7e6b65417eaac8eeb13d3f809942d" category="list-text">透過VMware Cloud Services Console啟動VMC軟體定義資料中心（SDDC）的HCX。</block>
  <block id="76f775a9fe0b12df87ae0ad6b34efdd9" category="list-text">在內部部署的vCenter Server中下載並部署HCX Connector OVA安裝程式。</block>
  <block id="f970657dc986e56f66a60a02b1210c43" category="list-text">使用授權金鑰啟動HCX。</block>
  <block id="2d7e8f746bd165e0f342b659b51cff2c" category="list-text">將內部部署的VMware HCX Connector與VMC HCX Cloud Manager配對。</block>
  <block id="a9f9ba84cb2c76d9b8033c6f9ad14642" category="list-text">（選用）執行「Network Extension（網路延伸）」以延伸網路並避免重新IP。</block>
  <block id="f5633594a47ccbe1e89229d43cbce0ec" category="inline-link">準備安裝HCX</block>
  <block id="ecdf05ad108113e6a7e36c14f4d8e596" category="paragraph">開始之前、請先確定符合下列先決條件。如需詳細資訊、請參閱<block ref="c59343d9a8c2798bf6815397e3f08bd3" category="inline-link-rx"></block>。在具備連線能力等先決條件之後、從VMC的VMware HCX主控台產生授權金鑰、即可設定及啟動HCX。啟用HCX之後、就會部署vCenter外掛程式、並可透過vCenter主控台進行管理來存取。</block>
  <block id="f0983a6fa9c97fbc87ff3ad43495e008" category="paragraph">在繼續執行HCX啟動與部署之前、必須先完成下列安裝步驟：</block>
  <block id="dba413fdbeffb35a4459e9d3f45be3bd" category="inline-link">VMware連結</block>
  <block id="b390c6b07bec05579868558e66fda8e2" category="list-text">請使用現有的VMC SDDC、或在這之後建立新的SDDC<block ref="11000cc7aedbe4805fa20a67d23d81ac" category="inline-link-rx"></block> 或是這種情況<block ref="5f912d133d878a69c5af374752da199e" category="inline-link-rx"></block>。</block>
  <block id="67cff13cad47354f1f51ce3ef47c6ddc" category="list-text">從內部部署vCenter環境到VMC SDDC的網路路徑、必須使用vMotion來支援VM移轉。</block>
  <block id="c9f9609ee5731fe3777e57937464dc54" category="list-text">請確定所需的<block ref="69c9d7a74dad51c1c47ea8141c218514" category="inline-link-rx"></block> 允許內部部署vCenter Server與SDDC vCenter之間的VMotion流量。</block>
  <block id="aa8db0799849f7e0b11c7c3594394423" category="list-text">FSx for ONTAP SforiNFS Volume應安裝為VMC SDDC的補充資料存放區。若要將NFS資料存放區附加至適當的叢集、請遵循本文所述的步驟<block ref="2d161daeb93489b09b5e8bcd39dbc4b1" category="inline-link-rx"></block> 或是這種情況<block ref="6eb21d78e613b27f69be6d996a6367b3" category="inline-link-rx"></block>。</block>
  <block id="915747189317f7496ecb2bcdc22e83b5" category="paragraph">為了進行測試、此驗證所使用的內部部署實驗室環境是透過站台對站台VPN連線至AWS VPC、因此可透過外部傳輸閘道、在內部部署連線至AWS和VMware Cloud SDDC。HCx移轉與網路延伸流量會透過網際網路在內部部署與VMware雲端目的地SDDC之間傳輸。此架構可修改為使用Direct Connect私有虛擬介面。</block>
  <block id="20c789c477f416c40ed37a0a96f352d5" category="paragraph">下圖說明高層架構。</block>
  <block id="9f4db1da9d84fe1111fd9ae7c377f786" category="paragraph"><block ref="9f4db1da9d84fe1111fd9ae7c377f786" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5189f076565998395f00538902b201d3" category="example-title">步驟1：使用附加元件選項透過VMC SDDC啟動HCX</block>
  <block id="84d84827fbe9c4b33c9c3b806b314d3f" category="inline-link">vmc.vmware.com</block>
  <block id="db44791d0479a0d2c9f5549eac8850ad" category="list-text">登入VMC主控台：<block ref="98f8f917cb7f10ee415fb6ce242d9349" category="inline-link-rx"></block> 並存取庫存。</block>
  <block id="049aac4163d4ee979d2ebd21434216a2" category="list-text">若要選取適當的SDDC並存取附加元件、請按一下「View Details on SDDC（在SDDC上檢視詳細資料）」、然後選取「Add Ons（新增附加元件）」索引標籤。</block>
  <block id="933c74bf858432dc81f521597cffbfbb" category="list-text">按一下「啟用VMware HCX」。</block>
  <block id="7335132a517aad5765c48773404c2687" category="admonition">完成此步驟最多需要25分鐘。</block>
  <block id="be7b0f3d5e22843c4a2107342b36330b" category="paragraph"><block ref="be7b0f3d5e22843c4a2107342b36330b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fcf3d539a908f48f7d82acf7470675f7" category="list-text">部署完成後、確認vCenter Console中有可用的HCX Manager及其相關外掛程式、以驗證部署。</block>
  <block id="8c0cff0c106bc3f5a4dd79c01c3de7a9" category="list-text">建立適當的管理閘道防火牆、以開啟存取HCX Cloud Manager所需的連接埠。HCX Cloud Manager現在已可開始執行HCX作業。</block>
  <block id="6eac4c95d8f88bfb601f7b87770513ab" category="paragraph">若要讓內部部署連接器與VMC中的HCX Manager通訊、請確定內部部署環境中已開啟適當的防火牆連接埠。</block>
  <block id="185b9319145cb225cdb1256b494e0595" category="list-text">從VMC主控台瀏覽至HCX儀表板、移至「Administration」（管理）、然後選取「Systems Update」（系統更新）索引標籤。按一下「Request a Download Link for the HCX Connector OVA image（申請HCX Connector OVA映像的下載連結</block>
  <block id="039b399de18508b9f1029358886fea99" category="list-text">下載HCX Connector之後、在內部部署的vCenter Server中部署OVA。以滑鼠右鍵按一下vSphere叢集、然後選取部署OVF範本選項。</block>
  <block id="bd18e96a29eec74967666d876a146937" category="paragraph"><block ref="bd18e96a29eec74967666d876a146937" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e8df6b0257b180b48db7d56e06e4da54" category="list-text">在「部署OVF範本」精靈中輸入必要資訊、按一下「下一步」、然後按一下「完成」以部署VMware HCX Connector OVA。</block>
  <block id="8925cbdefd949dca662858e368d4ccfb" category="list-text">手動開啟虛擬應用裝置電源。如需逐步指示、請前往<block ref="856d054195f2a40a0c4a2869d5895904" category="inline-link-rx"></block>。</block>
  <block id="fab9859fcf95f41f7bb654e91e6876b4" category="paragraph">在內部部署VMware HCX Connector OVA並啟動應用裝置之後、請完成下列步驟以啟動HCX Connector。從VMC的VMware HCX主控台產生授權金鑰、並在VMware HCX Connector安裝期間輸入授權。</block>
  <block id="fddda62632eb91015346909c9da3cf70" category="list-text">從VMware Cloud Console移至「Inventory（資源清冊）」、選取SDDC、然後按一下「View Details（檢視詳細資料）」。在「Add Ons（新增選項）」索引標籤的VMware HCX動態磚中、按一下「Open HCX（開啟HCX）」。</block>
  <block id="51e51578490c90a69c673d41361b0070" category="list-text">在「啟用金鑰」索引標籤中、按一下「建立啟動金鑰」。選取「System Type（系統類型）」作為HCX Connector、然後按一下「Confirm（確認）」以產生金鑰。複製啟動金鑰。</block>
  <block id="e30847f53a6e375f1da81f871c44e963" category="paragraph"><block ref="e30847f53a6e375f1da81f871c44e963" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c410deb9d7b04917aff523f97f944894" category="admonition">部署在內部部署的每個HCX Connector都需要個別的金鑰。</block>
  <block id="1111fa8f5187058abdce3daca03b7e32" category="inline-link"><block ref="1111fa8f5187058abdce3daca03b7e32" category="inline-link-rx"></block></block>
  <block id="d9432955aa7705a1f97c9e94c730fdc9" category="list-text">登入內部部署的VMware HCX Connector、網址為<block ref="ece20a9f7dc6720cdeb30c7e7733cd22" category="inline-link-rx"></block> 使用系統管理員認證。</block>
  <block id="f5f8371708aa6ae3ddb84d1f4d9b5d17" category="list-text">在「授權」區段中、輸入從步驟2複製的啟動金鑰、然後按一下「啟動」。</block>
  <block id="404a7c7a7d73b870628663e76e974d09" category="admonition">內部部署的HCX Connector必須能存取網際網路、才能成功完成啟動。</block>
  <block id="564ed09bba79e1d4262e37fc94987fbe" category="list-text">在「資料中心位置」下、提供在內部部署環境中安裝VMware HCX Manager所需的位置。按一下「繼續」。</block>
  <block id="61ce05ace76ff1424841e5e551873a97" category="list-text">在「System Name（系統名稱）」下、更新名稱、然後按「Continue（繼續）」。</block>
  <block id="4bc852451f43c4b3df306f35e67e4178" category="list-text">選取「Yes（是）」、然後繼續。</block>
  <block id="7eefbebbdefe472b13ce5d0bce410737" category="list-text">在「Connect your vCenter（連線vCenter）」下、提供vCenter Server的IP位址或完整網域名稱（FQDN）和認證、然後按一下「Continue（繼續）」。</block>
  <block id="47a7ea3464363cf9baa528c91d3aa4dc" category="admonition">使用FQDN以避免稍後發生通訊問題。</block>
  <block id="eb7e70dd1954a71454c2e6a0cb9ed5f8" category="list-text">在「Configure SSO/PSC（設定SSO/PSC）」下、提供Platform Services Controller的FQDN或IP位址、然後按一下「Continue（繼續）」。</block>
  <block id="1f2f2ed2ec24b1f1ab37799a6f27fa40" category="admonition">輸入vCenter Server的IP位址或FQDN。</block>
  <block id="24b993e60859697b0875bc838cfe12aa" category="list-text">確認輸入的資訊正確無誤、然後按一下「重新啟動」。</block>
  <block id="b0fca3e3f2889bbec562577014fafd9a" category="list-text">完成後、vCenter Server會顯示為綠色。vCenter Server和SSO都必須具有正確的組態參數、此參數應與上一頁相同。</block>
  <block id="8463d9f0fc95490bc0c65d3ba9063dea" category="admonition">此程序大約需要10–20分鐘、而外掛程式則要新增至vCenter Server。</block>
  <block id="a56ac8f65b53b91dba588aafc428f8b2" category="paragraph"><block ref="a56ac8f65b53b91dba588aafc428f8b2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="65d6e263d26134bb05aeec17adc73a06" category="example-title">步驟4：將內部部署的VMware HCX Connector與VMC HCX Cloud Manager配對</block>
  <block id="f68b6001164eba9a9e765e551c59a3c1" category="list-text">若要在內部部署vCenter Server和VMC SDDC之間建立站台配對、請登入內部部署vCenter Server、然後存取HCX vSphere Web Client外掛程式。</block>
  <block id="10f9af0781b3c0a9d621bac0b8719365" category="paragraph"><block ref="10f9af0781b3c0a9d621bac0b8719365" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1af79e59a8d820cc101f77efa75cb01d" category="list-text">按一下「基礎架構」下的「新增站台配對」。若要驗證遠端站台、請輸入VMC HCX Cloud Manager URL或IP位址、以及CloudAdmin角色的認證資料。</block>
  <block id="1b49b2932a225dd49cc6f5298ad6cc8f" category="paragraph"><block ref="1b49b2932a225dd49cc6f5298ad6cc8f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2a7c72a1b7e925abd687d2c7a4ac5a2f" category="admonition">HCx資訊可從SDDC設定頁面擷取。</block>
  <block id="1272226ee970b8e49c49d25af6f4b6b8" category="paragraph"><block ref="1272226ee970b8e49c49d25af6f4b6b8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="838d70471e28171464ffd4fed8d9df3a" category="paragraph"><block ref="838d70471e28171464ffd4fed8d9df3a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="dbcfb2058c277401b0872487463fe313" category="list-text">若要啟動站台配對、請按一下「Connect（連線）」。</block>
  <block id="2147cde45e80d7c6a5db679f7180eab4" category="admonition">VMware HCX Connector必須能夠透過連接埠443與HCX Cloud Manager IP通訊。</block>
  <block id="618a4f677a45dc2b53f7c464b5598c28" category="paragraph">VMware HCX互連（HCX-IX）應用裝置可透過網際網路提供安全通道功能、並可透過私有連線至目標站台、以啟用複寫和VMotion型功能。互連提供加密、流量工程和SD-WAN。若要建立HCI IX-IX互連設備、請完成下列步驟：</block>
  <block id="f32fcca3303979d42a8f0be055fc36dd" category="list-text">在「基礎架構」下、選取「互連」&gt;「多站台服務網狀架構」&gt;「運算設定檔」&gt;「建立運算設定檔」。</block>
  <block id="46c0e6a1b2dbd6331bcea8e4726de843" category="admonition">運算設定檔包含部署互連虛擬應用裝置所需的運算、儲存和網路部署參數。他們也會指定HCX服務可以存取VMware資料中心的哪個部分。</block>
  <block id="46a447d35c4917802c9d612dd8ede3b5" category="inline-link">建立運算設定檔</block>
  <block id="9fc475734bed02e370e17ea150a74fd3" category="paragraph">如需詳細指示、請參閱<block ref="3e2a71be9bcd47a34446e38d1b8f4987" category="inline-link-rx"></block>。</block>
  <block id="648388c6923f0b4fc45138b46fb56158" category="paragraph"><block ref="648388c6923f0b4fc45138b46fb56158" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ad3c8534d57516f63a1f263c7e4a4c7a" category="list-text">建立運算設定檔之後、選取「Multi-Site Service Mesh」（多站台服務網格）&gt;「Network Profiles」（網路設定檔）&gt;「Create Network Profile」（建立網路設定檔）、即可建立網路設定檔。</block>
  <block id="52d18a4f9043fce9a1e9d57e92fc77a4" category="list-text">網路設定檔會定義一系列IP位址和網路、以供HCX用於其虛擬應用裝置。</block>
  <block id="2565e95c468130be3fbdbb45da6cadeb" category="admonition">這需要兩個以上的IP位址。這些IP位址將從管理網路指派給虛擬應用裝置。</block>
  <block id="f62f78e1c7b4b764032cbdad0c61a6d0" category="paragraph"><block ref="f62f78e1c7b4b764032cbdad0c61a6d0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d9fad750cff1511b959d686e3a0829f0" category="inline-link">建立網路設定檔</block>
  <block id="51cbf458571723275b781ce4b3fec323" category="paragraph">如需詳細指示、請參閱<block ref="fb1b37f7979e3209d40171b59e47f33b" category="inline-link-rx"></block>。</block>
  <block id="784e6023ad40986353535651f974e468" category="admonition">如果您透過網際網路連線至SD-WAN、則必須在「網路與安全性」區段下保留公用IP。</block>
  <block id="c1b5864550e5f67407a0efd2cbe55b67" category="list-text">若要建立服務網格、請選取Interconnect選項中的Service Mesh（服務網格）索引標籤、然後選取內部部署和VMC SDDC站台。</block>
  <block id="295ecbce57290e03752d2e06d4575fff" category="paragraph">服務網格會建立本機和遠端運算和網路設定檔配對。</block>
  <block id="1e21db3cc04207cfb46fd912cdfef571" category="paragraph"><block ref="1e21db3cc04207cfb46fd912cdfef571" category="inline-image-macro-rx" type="image"></block></block>
  <block id="dba94996b6f6f31ef7ea483dc8f0046c" category="admonition">此程序的一部分涉及部署HCX應用裝置、這些裝置將會自動設定在來源和目標站台上、以建立安全的傳輸架構。</block>
  <block id="b7e93bb3e8f576437ca086d1702a7994" category="list-text">選取來源和遠端運算設定檔、然後按一下「Continue（繼續）」。</block>
  <block id="ef7ca07b9da6362e4aa341061333a66c" category="paragraph"><block ref="ef7ca07b9da6362e4aa341061333a66c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e42fcfe670e1a9e7a259fb3c9d3dad87" category="list-text">選取要啟動的服務、然後按一下「Continue（繼續）」。</block>
  <block id="ff89555f65d5e42967fac9abcecb74c8" category="paragraph"><block ref="ff89555f65d5e42967fac9abcecb74c8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f8438ec331921e82a31eaa97deb5f8c0" category="admonition">複寫輔助VMotion移轉、SRM整合及OS輔助移轉需要HCX Enterprise授權。</block>
  <block id="9a44378d7dd14730acf075e18d7d8c29" category="list-text">建立服務網格的名稱、然後按一下「完成」開始建立程序。完成部署約需30分鐘。設定好服務網格後、就會建立移轉工作負載VM所需的虛擬基礎架構和網路。</block>
  <block id="725a12cf06f45e850e7588b816663c20" category="paragraph"><block ref="725a12cf06f45e850e7588b816663c20" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d0de3992884fcc0e48531f19cce447e7" category="example-title">步驟6：移轉工作負載</block>
  <block id="af65fc6bdee93e32363bfe5c2cf8ee3a" category="paragraph">HCx可在兩個或多個不同的環境（例如內部部署環境和VMC SDDC）之間提供雙向移轉服務。應用程式工作負載可使用各種移轉技術、例如HCX大量移轉、HCX vMotion、HCX冷移轉、HCX複寫輔助vMotion（可搭配HCX Enterprise版本使用）、以及HCX OS輔助移轉（可搭配HCX Enterprise版本使用）、移轉至或移轉至HCX啟動的站台。</block>
  <block id="0afeac0ffbe358cc58864e34fc54c9b2" category="paragraph">若要深入瞭解可用的HCX移轉技術、請參閱<block ref="17989ba7d4a97ba4d6ebb072be2dc216" category="inline-link-rx"></block></block>
  <block id="97957dd6d4c5d792035241d68a97795e" category="paragraph">HCX-IX應用裝置使用行動代理程式服務來執行VMotion、Cold和Replication輔助VMotion（RAV）移轉。</block>
  <block id="2234ed56b9cbb2a083fd5fe49a89bce1" category="admonition">HCX-IX應用裝置會將行動代理程式服務新增為vCenter Server中的主機物件。此物件上顯示的處理器、記憶體、儲存設備和網路資源、並不代表裝載IX應用裝置的實體Hypervisor實際使用量。</block>
  <block id="c3735752087d3a11c85329680057de55" category="paragraph"><block ref="c3735752087d3a11c85329680057de55" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5c14d0d24d8dccac2ac3ca3ddacf8ba8" category="example-title">VMware HCX vMotion</block>
  <block id="8f2dbd716f60bbee8012a3f0e361fc65" category="paragraph">本節說明HCX VMotion機制。此移轉技術使用VMware VMotion傳輸協定將VM移轉至VMC SDDC。VMotion移轉選項可用於一次移轉單一VM的VM狀態。此移轉方法不會中斷服務。</block>
  <block id="0c1394a246edcdcb98e3c5fe3cedabbb" category="admonition">網路擴充功能應已就緒（適用於連接VM的連接埠群組）、以便在不需要變更IP位址的情況下移轉VM。</block>
  <block id="896f227a656a8b0f4a64aa3e12b2506e" category="list-text">從內部部署vSphere用戶端移至「Inventory」、在要移轉的VM上按一下滑鼠右鍵、然後選取「HCX Actions」（HCX動作）&gt;「移轉至HCX目標站台」。</block>
  <block id="d683c9596c42727fea13c654874f39be" category="paragraph"><block ref="d683c9596c42727fea13c654874f39be" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d4479366aca979ecb9be874cab7bc543" category="list-text">在移轉虛擬機器精靈中、選取遠端站台連線（目標VMC SDDC）。</block>
  <block id="09ca4fea7b9ff384e38622ce7cc20a9c" category="paragraph"><block ref="09ca4fea7b9ff384e38622ce7cc20a9c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="67358e55b470861e1e14c63c30156dd4" category="list-text">新增群組名稱、並在「Transfer and Placement（傳輸和放置）」下更新必填欄位（叢集、儲存設備和目的地網路）、然後按一下「Validate（驗證）」。</block>
  <block id="1ce9ff194ee5bdbf4df7b739baf9b3d2" category="paragraph"><block ref="1ce9ff194ee5bdbf4df7b739baf9b3d2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7a961199f9300128fcaa431e9245ac13" category="list-text">驗證檢查完成後、按一下「Go（執行）」以啟動移轉。</block>
  <block id="f3d5cf5ffd51c9062748a6a292f749f7" category="inline-link">瞭解VMware HCX VMotion和冷移轉</block>
  <block id="136739244c82e4bdcdb6a1b1c3712d3b" category="admonition">VMotion傳輸會擷取VM作用中記憶體、其執行狀態、IP位址及其MAC位址。如需有關HCX VMotion需求與限制的詳細資訊、請參閱<block ref="011541f11351d17074bdfa0823ec743b" category="inline-link-rx"></block>。</block>
  <block id="f2ca81fdc3e7326c354dc180a98c7ef2" category="list-text">您可以從HCX &gt;移轉儀表板監控VMotion的進度和完成。</block>
  <block id="b41362505f00e258d5e04636a0edaf7c" category="paragraph"><block ref="b41362505f00e258d5e04636a0edaf7c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1e4900648931ee918be9251a268e792c" category="example-title">VMware複寫輔助vMotion</block>
  <block id="3bb995dd361711179fda278eb498a385" category="paragraph">您可能從VMware文件中看到、VMware HCX Replication輔助VMotion（RAV）結合了大量移轉與VMotion的優點。大量移轉使用vSphere Replication平行移轉多個VM、而VM會在切換期間重新開機。HCx vMotion可在不中斷的情況下進行移轉、但會在複寫群組中一次連續執行一部VM。Rav會平行複寫VM、並保持同步、直到切換期間為止。在切換過程中、它一次移轉一個VM、而不會停機。</block>
  <block id="93e2f4753a86232a37f8bd57209f626d" category="paragraph">下列快照顯示移轉設定檔為「複寫輔助vMotion」。</block>
  <block id="7c12abc7edfaeb45279b8ee126759269" category="paragraph"><block ref="7c12abc7edfaeb45279b8ee126759269" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a740a2796b321475f6bd003fafa67e5b" category="paragraph">與少數VM的vMotion相比、複寫的持續時間可能會更長。使用RAV時、只能同步差異並納入記憶體內容。以下是移轉狀態的快照、顯示移轉的開始時間與每個VM的結束時間如何相同。</block>
  <block id="27e8bd561ebb9d9ee4d23860c10a3883" category="paragraph"><block ref="27e8bd561ebb9d9ee4d23860c10a3883" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e61c2a41cf1924a0a1e3d5217e16a084" category="paragraph">如需HCX移轉選項的其他資訊、以及如何使用HCX將工作負載從內部部署移轉至AWS上的VMware Cloud、請參閱<block ref="15dbc17e63bae3f57dd4aa8612bacb9d" category="inline-link-rx"></block>。</block>
  <block id="f261622b527cc27756d5ba83c22662f8" category="admonition">VMware HCX VMotion需要100Mbps或更高的處理量能力。</block>
  <block id="60bd242580d7de82c0a2e6eee14d2f50" category="admonition">目標VMC FSX for ONTAP VMware資料存放區必須有足夠的空間來容納移轉作業。</block>
  <block id="17e30673228b69814c7132c287c12ecb" category="paragraph">無論您是針對全雲端或混合雲、或是內部部署中任何類型/廠商儲存設備上的資料、Amazon FSx for NetApp ONTAP 支援HCX都能提供絕佳的選項來部署和移轉工作負載、同時將資料需求無縫接軌至應用程式層、進而降低TCO。無論使用案例為何、請選擇VMC搭配使用FSXfor ONTAP VMware資料存放區、以快速實現雲端效益、一致的基礎架構、以及跨內部部署和多個雲端的作業、工作負載的雙向可攜性、以及企業級容量和效能。使用VMware vSphere複寫、VMware vMotion或甚至是NFC-複本來連接儲存設備及移轉VM的程序與程序、都是相當熟悉的程序。</block>
  <block id="273435500e4b837aea488094a233f579" category="list-text">現在您可以將Amazon FSx ONTAP 支援資料存放區與VMC SDDC搭配使用。</block>
  <block id="cbbc4fc2bc12f5fd25f84b44f93fd5f3" category="list-text">您可以輕鬆地將資料從任何內部部署資料中心移轉至使用FSXfor ONTAP VMware資料存放區執行的VMC</block>
  <block id="9004e09f6485129980daf3188affad35" category="list-text">您可以輕鬆擴充和縮減FSX- ONTAP 支援資料存放區、以滿足移轉活動期間的容量和效能需求。</block>
  <block id="34e948a9d10cb991d2da187e3e54caef" category="list-text">VMware Cloud文件</block>
  <block id="56f2ce0be9d32c6c0e3c983d011be4d7" category="inline-link"><block ref="56f2ce0be9d32c6c0e3c983d011be4d7" category="inline-link-rx"></block></block>
  <block id="1427dee608f6801474787ea58df57a2c" category="paragraph"><block ref="1427dee608f6801474787ea58df57a2c" category="inline-link-rx"></block></block>
  <block id="cc788b7e72b2a734dd0985bd1e0e9fe3" category="list-text">Amazon FSX for NetApp ONTAP 的支援文件</block>
  <block id="9c7174d13497f84bdd0b3e21af13794d" category="inline-link"><block ref="9c7174d13497f84bdd0b3e21af13794d" category="inline-link-rx"></block></block>
  <block id="05c89cf5b898c5c58986dac08f22a2a1" category="paragraph"><block ref="05c89cf5b898c5c58986dac08f22a2a1" category="inline-link-rx"></block></block>
  <block id="33efddb311b6c85bba97e5349040815f" category="sidebar">工作負載移轉解決方案</block>
  <block id="e946411f5b47d53428345ae0e0e5f5fd" category="sidebar">移轉工作負載</block>
  <block id="b0d7b47f43a6efe75ff49bfd5e21f6fd" category="list-text"><block ref="b0d7b47f43a6efe75ff49bfd5e21f6fd" category="inline-link-macro-rx"></block></block>
  <block id="90e97692c42b1eb0ec22c639049d78a1" category="list-text"><block ref="90e97692c42b1eb0ec22c639049d78a1" category="inline-link-macro-rx"></block></block>
  <block id="6ff1dafebf930a9c5fef12bf43046987" category="example-title">企業應用程式與資料庫</block>
  <block id="98e44b407e40d6f57f90877a1960efae" category="list-text"><block ref="98e44b407e40d6f57f90877a1960efae" category="inline-link-macro-rx"></block></block>
  <block id="e2cd0f8dc5281c13263991c6973df405" category="list-text"><block ref="e2cd0f8dc5281c13263991c6973df405" category="inline-link-macro-rx"></block></block>
  <block id="bf49d74794280c8a3a207a97d6447db7" category="list-text"><block ref="bf49d74794280c8a3a207a97d6447db7" category="inline-link-macro-rx"></block></block>
  <block id="4efd965058c15f138d2c4d43454c3012" category="list-text"><block ref="4efd965058c15f138d2c4d43454c3012" category="inline-link-macro-rx"></block></block>
  <block id="5bfc3700f5feddf9397449627edbbdb9" category="example-title">Container / Kubernetes</block>
  <block id="665b01682714e51e25b232a31a06b70e" category="inline-link-macro">NetApp與Google Anthos影片</block>
  <block id="810afd9a3a1d12fd9dd41977c9ed1781" category="list-text"><block ref="810afd9a3a1d12fd9dd41977c9ed1781" category="inline-link-macro-rx"></block></block>
  <block id="668ed010c67826eb36328daf61db1909" category="inline-link-macro">NetApp與VMware Tanzu影片</block>
  <block id="f05d310ffaf62c6645cbc528c52f46e1" category="list-text"><block ref="f05d310ffaf62c6645cbc528c52f46e1" category="inline-link-macro-rx"></block></block>
  <block id="19ec96fa965825479da361c5626b34f0" category="inline-link-macro">NetApp DevOps影片</block>
  <block id="f1afd91555fd6fb162a6343cf91fdc05" category="list-text"><block ref="f1afd91555fd6fb162a6343cf91fdc05" category="inline-link-macro-rx"></block></block>
  <block id="70fc473134508f4cbdb235049ab72bc6" category="inline-link-macro">NetApp與Red Hat OpenShift影片</block>
  <block id="f86f2e66a68f28ad563c787ff0145ba4" category="list-text"><block ref="f86f2e66a68f28ad563c787ff0145ba4" category="inline-link-macro-rx"></block></block>
  <block id="c9fee86e220b694a9ca26cb5d3943276" category="summary">本文件概述ONTAP 使用階層式儲存基準測試套件、在NetApp VMware上實現流暢平台的效能標竿。</block>
  <block id="5514e652e396365ccb56f1b2b5371569" category="doc">TR-4941：運用NetApp ONTAP 的不二儲存控制器、實現流暢的操作</block>
  <block id="1e0e02def11263577d232ee8ce69c727" category="paragraph">Karthikeyan Nagalingam、Joe Scott、NetApp Rankesh Kumar、Conflent</block>
  <block id="f79dab50e0f9664c4b4d604319a8cbbe" category="paragraph">為了讓Conflent Platform更具擴充性和彈性、IT必須能夠迅速擴充及平衡工作負載。階層式儲存可減少此營運負擔、讓儲存大量資料的工作更容易管理。基本構想是將資料儲存設備與資料處理區分開、如此一來、每個儲存區的擴充都變得更加容易。</block>
  <block id="44f523cee834fac14fc6966d940c5e92" category="paragraph">NetApp ONTAP 支援業界領先的創新技術、資料管理軟體可在資料存放的任何地方提供Conflent的諸多優勢。</block>
  <block id="ff221b4a7c17defefb1a32cf9136086d" category="inline-link-macro">下一步：解決方案。</block>
  <block id="700a1e72f5247529520dfae6b0d991e3" category="paragraph"><block ref="700a1e72f5247529520dfae6b0d991e3" category="inline-link-macro-rx"></block></block>
  <block id="b7d338a537a3a1d0186080c4c4ba47eb" category="summary">本頁說明本解決方案所使用的技術。</block>
  <block id="1ac2a5604ed02bc66c4d6241b534d13b" category="inline-link-macro">上一篇：解決方案。</block>
  <block id="9ec2e79862a05fa25e8c20aa973e0d4b" category="paragraph"><block ref="9ec2e79862a05fa25e8c20aa973e0d4b" category="inline-link-macro-rx"></block></block>
  <block id="7f1512274139985d5f21a72e13808522" category="section-title">NetApp ONTAP 產品儲存控制器</block>
  <block id="b691cb82ce5ecb3d94f82b73ef3c2219" category="paragraph">NetApp ONTAP 產品是高效能的企業級儲存作業系統。</block>
  <block id="f8b80927eb906c831742041c4c139be1" category="paragraph">NetApp ONTAP 支援Amazon Simple Storage Service（S3）API。支援Amazon Web Services（AWS）S3 API動作的子集、並可在雲端供應商（AWS、Azure和GCP）和內部部署的ONTAP型系統中、將資料呈現為物件。ONTAP</block>
  <block id="9496ba5a97ab04d734dc449f86646ffe" category="paragraph">NetApp StorageGRID 軟件是NetApp物件儲存解決方案的旗艦產品。支援功能：提供邊緣上的擷取和預先處理點、擴充以NetApp為基礎的資料架構來處理物件資料、並增加NetApp產品組合的價值、藉此輔助功能。ONTAP StorageGRID</block>
  <block id="d6e8f345bdd21d285f35171c2da8cd3a" category="paragraph">S3儲存區的存取權是透過授權使用者和用戶端應用程式提供。下圖顯示存取S3儲存區的應用程式。</block>
  <block id="a38dfb3b286ff4854c6f5d67ebc15e13" category="inline-image-macro">此圖顯示存取S3儲存區的應用程式。</block>
  <block id="6090835a60a6e1de5e0c995ca8c5e5f8" category="paragraph"><block ref="6090835a60a6e1de5e0c995ca8c5e5f8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d5088428c842a8d5e45f2e6597af4138" category="section-title">主要使用案例</block>
  <block id="5c2f4a513e63ae351e5dc0b7412a43c2" category="paragraph">支援S3 API的主要目的是提供ONTAP 物件存取功能。支援檔案（NFS和SMB）、區塊（FC和iSCSI）和物件（S3）的統一化解決方案。ONTAP</block>
  <block id="1af2e65957e458000d1181bb9eba2517" category="section-title">原生S3應用程式</block>
  <block id="c0889d6b193afe7d0069e3d99bc5f310" category="paragraph">越來越多的應用程式能夠運用ONTAP 支援功能、使用S3進行物件存取。雖然非常適合高容量歸檔工作負載、但對於原生S3應用程式的高效能需求卻迅速成長、包括：</block>
  <block id="a768caa988605a2846599cf7e2d0c26a" category="list-text">分析</block>
  <block id="9d0996a44c6d51cf223e833dceecb286" category="list-text">人工智慧</block>
  <block id="1669cbc398e4228e7e05d6b2e030cbe7" category="list-text">邊緣對核心擷取</block>
  <block id="bd1a4166acf45c62946d7592a64ad52d" category="paragraph">客戶現在可以使用熟悉的管理工具ONTAP （例如、《不穩定系統管理程式ONTAP 》）、快速配置高效能物件儲存設備、以利在VMware進行開發與營運、並ONTAP 充分發揮不穩定的儲存效率與安全性。</block>
  <block id="50472ac5cace1b7798b3f92db5c3049e" category="section-title">無縫端點FabricPool</block>
  <block id="5050f2389b47df5462550d8e11451e9d" category="paragraph">從功能上說起ONTAP 、FabricPool 從功能上說起、支援將資料分層至ONTAP 功能區、以利ONTAP到ONTAP的分層。對於想要重新規劃FAS 現有的物件儲存端點的物件儲存基礎架構用途的客戶來說、這是絕佳的選擇。</block>
  <block id="10beb552e5ed01d5c890a260a1d6af16" category="paragraph">支援以兩種方式分層至物件：FabricPool ONTAP</block>
  <block id="1e53159984d41f5ea848cdf412430a06" category="list-text">*本機叢集分層。*非使用中資料會使用叢集生命體階層化至位於本機叢集上的儲存區。</block>
  <block id="08be0ca0511f2294cbbaf9d92327996b" category="list-text">*遠端叢集分層。*非使用中資料會以類似傳統FabricPool 的速度階層、使用FabricPool 位於遠端叢集上的IC LIF、以及ONTAP 使用位於物件儲存區上的資料LIF、分層至遠端叢集上的儲存區。</block>
  <block id="bda29d8d2c5de29e5ec15858a0f72c79" category="paragraph">如果您想要在現有叢集上使用S3功能、而不需要額外的硬體和管理、那麼支援該功能就很合適。ONTAP對於超過300TB的部署、NetApp StorageGRID 產品技術仍是NetApp物件儲存解決方案的旗艦產品。使用不含功能的不需要取得使用許可證、也不需要使用功能的不含功能的功能。FabricPool ONTAP StorageGRID</block>
  <block id="5a7adb78ef640711a870d82123f00775" category="section-title">NetApp ONTAP 解決方案：適用於Conflent階層式儲存設備</block>
  <block id="9a5bc88300f877a695de175398887e0e" category="paragraph">每個資料中心都需要維持關鍵業務應用程式的執行、以及重要的資料可用且安全無虞。全新的NetApp AFF Wis-A900系統採用ONTAP 了一套功能強大的功能、採用了一套高恢復能力的設計。我們全新的閃電般快速NVMe儲存系統可避免關鍵任務作業中斷、將效能調校降至最低、並保護資料免受勒索軟體攻擊。</block>
  <block id="42dfa85904e1fd1b7fb41d4278c38047" category="paragraph">從初始部署到擴充Conflent叢集、您的環境都需要迅速因應不中斷業務關鍵應用程式的變更。利用企業資料管理、服務品質（QoS）和效能、您可以規劃並因應環境需求。ONTAP</block>
  <block id="36509bd95b243830a012c72c8a2d5844" category="paragraph">結合使用NetApp ONTAP 的功能性和Conflent階層式儲存設備、可將ONTAP 效能提升為橫向擴充儲存目標、並可獨立擴充ConFluent的運算與儲存資源、進而簡化Apache Kafka叢集的管理。</block>
  <block id="e09818a7d7d98185cdb0309cf3aca8f5" category="paragraph">支援豐富擴充儲存功能的支援基礎上、打造出一套功能完善的SS3伺服器。ONTAP ONTAP擴充ONTAP 您的叢集功能可透過擴充S3儲存區、將新增的節點延伸至ONTAP 該叢集、以無縫方式執行。</block>
  <block id="1ccfe00aee80492f09968d6b208801d5" category="section-title">利用NetApp System Manager輕鬆管理ONTAP</block>
  <block id="4fdad8328864e9de2db5338bb25291fc" category="paragraph">支援瀏覽器的圖形介面、可讓您在單一窗口中、設定、管理及監控分散於全球各地的整個地區之靜態儲存控制器。ONTAP ONTAP</block>
  <block id="c99eb67a4e6cbe9ba119a72c95161fab" category="inline-image-macro">此圖顯示ONTAP 了「系統管理程式」工作區。</block>
  <block id="45e8e67e3e5407c5dc518dd00eb8249b" category="paragraph"><block ref="45e8e67e3e5407c5dc518dd00eb8249b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="783157c9c38b4e88d7eefffe21cd97d3" category="paragraph">您可以使用ONTAP System Manager和ONTAP SURE CLI來設定及管理SS3。當您使用System Manager啟用S3並建立貯體時、ONTAP 支援以最佳實務方式進行簡化組態。如果您從CLI設定S3伺服器和儲存區、仍可視需要使用System Manager來管理、反之亦然。</block>
  <block id="d1623a9fec2de2642847391236e62e9b" category="paragraph">當您使用System Manager建立S3儲存區時ONTAP 、即可設定系統可用的最高預設效能服務層級。例如AFF 、在一個不完善的系統上、預設設定為「極致」。效能服務層級是預先定義的調適性QoS原則群組。您可以指定自訂QoS原則群組或無原則群組、而非其中一個預設服務層級。</block>
  <block id="bbcb9e2700fba39c3b7b7fd438155100" category="paragraph">預先定義的調適性QoS原則群組包括下列項目：</block>
  <block id="f1ec0b0c482a42bad395f01e7f2b6c1d" category="list-text">*極致*適用於需要最低延遲和最高效能的應用程式。</block>
  <block id="06e90efc82fff7e3090ba9ff1a3bd2a3" category="list-text">*效能*。*適用於效能需求與延遲不佳的應用程式。</block>
  <block id="7aa0f5702784b1be0a3c5ed9e6f3df8e" category="list-text">*值。*用於處理量與容量比延遲更重要的應用程式。</block>
  <block id="113d20f8cc4d864cdfea1b0f611cbb0a" category="list-text">*自訂*指定自訂QoS原則或無QoS原則。</block>
  <block id="42cc32e2c7857ba980019c70438e92ed" category="paragraph">如果您選擇*用於分層*、則不會選擇效能服務層級、系統會嘗試選擇低成本媒體、並針對階層式資料提供最佳效能。</block>
  <block id="5cc287af927b81043d030fc6a1ece879" category="paragraph">嘗試將此儲存庫配置到具有最適當磁碟的本機層、以符合所選的服務層級。ONTAP不過、如果您需要指定要包含在儲存區中的磁碟、請考慮從CLI設定S3物件儲存、方法是指定本機層（Aggregate）。如果您從CLI設定S3伺服器、仍可視需要使用System Manager來管理。</block>
  <block id="74869eb3dfe4756dab5491da2a3de2ad" category="paragraph">如果您想要指定要用於儲存區的集合體、只能使用CLI來執行此作業。</block>
  <block id="0c0e3a803cf68a8772ebf58a68b20124" category="paragraph">Confluent Platform是一款全方位資料串流平台、可讓您輕鬆存取、儲存及管理資料、做為持續的即時串流。Conflent是由Apache Kafka原創原創者所打造、以企業級功能擴展Kafka的優勢、同時免除Kafka管理或監控的負擔。如今、超過80%的財星雜誌100大企業都採用資料串流技術、而且大部分企業都使用Conflent。</block>
  <block id="d3c11d67f567698de4c90210b84c554d" category="paragraph">Conflent Platform可讓您專注於從資料中獲取商業價值、而非擔心基礎機制、例如資料如何在不同的系統之間傳輸或整合。具體而言、Conflent Platform可簡化資料來源與Kafka之間的連線、建置串流應用程式、以及保護、監控及管理Kafka基礎架構。現在、Conflent Platform適用於各種產業的使用案例、從金融服務、全通路零售和自主汽車、到詐欺偵測、微服務和物聯網等。</block>
  <block id="870b2318ccfd123ac0f7e9ef1396d49d" category="paragraph">下圖顯示ConnFluent Platform的元件。</block>
  <block id="9d880468cb22c04bd894fc612814dbab" category="inline-image-macro">此圖顯示ConFluent Platform的元件。</block>
  <block id="f64c3e5205853c0df35b5f05dcb208a1" category="paragraph"><block ref="f64c3e5205853c0df35b5f05dcb208a1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="05fafb4336e843d4634bd9ac122177c8" category="section-title">Conflent事件串流技術總覽</block>
  <block id="51be25b0145a0beca811de24a62b5cb4" category="inline-link">卡夫卡</block>
  <block id="0139d991fe55319f2e19e039da969fcf" category="paragraph">在Conflent Platform的核心是<block ref="66a1a9ec54e6ef0a1c109ad94b972ac9" category="inline-link-rx"></block>是最受歡迎的開放原始碼分散式串流平台。卡夫卡的主要功能包括：</block>
  <block id="82ff0b3d0476bb8ca2283ff06c017658" category="section-title">Conflent平台企業功能總覽</block>
  <block id="ed2c640e88db15d474de830703c8783b" category="list-text">* Confluent Control Cent.*一種以UI為基礎的系統、用於管理及監控Kafka。它可讓您輕鬆管理Kafka Connect、以及建立、編輯及管理與其他系統的連線。</block>
  <block id="d63f46631d40c1c76b1a1a46445584aa" category="list-text">* Kafka Connect Connectors。* Connectors使用Kafka Connect API將Kafka連線至其他系統、例如資料庫、金鑰價值儲存區、搜尋索引和檔案系統。Conflent Hub提供可下載的連接器、適用於最受歡迎的資料來源和接收器、包括這些連接器的完整測試和支援版本、以及Conflent Platform。如需詳細資料、請參閱<block ref="2f0cdf69523bef6b3b17324f38f83353" category="inline-link-rx"></block>。</block>
  <block id="9103a2961d6b4c593517d3d641763e5c" category="list-text">*自我平衡叢集。*提供自動負載平衡、故障偵測及自我修復功能。它也可視需要支援新增或取消委任代理人、無需手動調整。</block>
  <block id="c1712fa040f6accce664a82ba6d58b94" category="list-text">* Confluent自動資料平衡器。*監控叢集的代理程式數量、分割區大小、分割區數目、以及叢集內的領導者數量。它可讓您將資料移轉至整個叢集、以建立平均工作負載、同時節流重新平衡流量、將對正式作業工作負載的影響降至最低、同時重新平衡。</block>
  <block id="0265b0b07689b6439fc600eec3164763" category="inline-link-macro">下一步：流暢效能驗證。</block>
  <block id="7d58203770f3360011c58049bd5dc048" category="paragraph"><block ref="7d58203770f3360011c58049bd5dc048" category="inline-link-macro-rx"></block></block>
  <block id="dbb940c31f0b7d7563745993661f70d4" category="summary">我們使用單AFF 一的NetApp儲存控制器、在生產消費型工作負載期間、使用五或八個代理節點執行階層式儲存測試。根據我們的測試、完成時間和效能結果會隨著代理節點數量而調整、直到AFF 資源使用率達到100 %為止。此功能需要至少一對HA配對才能完成。ONTAP</block>
  <block id="91e1cb9730965860cb465802520e6a45" category="doc">使用生產消耗型工作負載產生器進行效能測試</block>
  <block id="3daa014912cbb3dddcdeae426aea8652" category="inline-link-macro">先前版本：ConFluent Performance驗證。</block>
  <block id="262b5107278b398d0de9b7ef6b52e5d0" category="paragraph"><block ref="262b5107278b398d0de9b7ef6b52e5d0" category="inline-link-macro-rx"></block></block>
  <block id="b15c40872cdd0b1e0a152907f2194e69" category="paragraph">S3擷取作業的效能會根據ConFluent Broker節點的數量線性提升。在單一部署中、支援最多12個HA配對。ONTAP</block>
  <block id="ec043d5e2714e1035038cbeb1aa3cba8" category="paragraph">下圖顯示結合了S3分層流量與五或八個代理節點。我們將AFF 單一HA配對效能發揮到極致。</block>
  <block id="ffff2891cfdd07445c4e1e5261739c68" category="inline-image-macro">此資料圖表顯示結合了S3分層流量與五或八個代理節點。</block>
  <block id="388c51cbcac77b72c2e68dc334f9cf73" category="paragraph"><block ref="388c51cbcac77b72c2e68dc334f9cf73" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1efe906cedfd00618bda4d39b41a52fd" category="paragraph">下圖顯示卡夫卡的處理量約為31.74 GBps。</block>
  <block id="e7aff80741661a5eb60f57649077f9c5" category="inline-image-macro">此資料圖表顯示卡夫卡的處理量約為31.74 GBps。</block>
  <block id="1dc39288e0903ff9947d26bba4d46cef" category="paragraph"><block ref="1dc39288e0903ff9947d26bba4d46cef" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bc6821411dfc3b7f483da21b37082dfc" category="paragraph">我們也在ONTAP 《perfstat》報告中看到類似的處理量。</block>
  <block id="12521f8f565efeb65b076c8966841804" category="inline-link-macro">下一步：效能最佳實務準則。</block>
  <block id="4d8306a1e68c76874ac5d8c93a819977" category="paragraph"><block ref="4d8306a1e68c76874ac5d8c93a819977" category="inline-link-macro-rx"></block></block>
  <block id="4ea8220421596c898f8150bfebdf4ccb" category="summary">這項驗證測試使用NetApp ONTAP 知識儲存控制器、在Conflent上達到31.74 GBps的分層處理量。</block>
  <block id="f86bb9f7d3cb6d2f8473494c8bd135ec" category="inline-link-macro">先前：效能最佳實務準則。</block>
  <block id="65b905a56baa366aa274945ca5b7cad4" category="paragraph"><block ref="65b905a56baa366aa274945ca5b7cad4" category="inline-link-macro-rx"></block></block>
  <block id="93a10982e8e304323ad8af9a9387d775" category="paragraph">這項驗證測試在運用NetApp ONTAP 知識儲存控制器的Conflent上達到31.74 GBps的分層處理量。</block>
  <block id="0f2f674cce6910ae97ee7ecc7bd9de18" category="list-text">什麼是Conflent？</block>
  <block id="e6deab0ab2821160c056af4c7766624c" category="inline-link"><block ref="e6deab0ab2821160c056af4c7766624c" category="inline-link-rx"></block></block>
  <block id="ce3026317a00b57c81627bd64a1b3311" category="paragraph"><block ref="ce3026317a00b57c81627bd64a1b3311" category="inline-link-rx"></block></block>
  <block id="58a229be829dc9196abdaff6a4a26864" category="list-text">S3的ONTAP 最佳實務做法</block>
  <block id="f47b79954bb4ad3165d7f99db02fe933" category="inline-link"><block ref="f47b79954bb4ad3165d7f99db02fe933" category="inline-link-rx"></block></block>
  <block id="e98b34b649783312d3b317c7441a20a5" category="paragraph"><block ref="e98b34b649783312d3b317c7441a20a5" category="inline-link-rx"></block></block>
  <block id="3075344c29b864c90ae1411c1db26e87" category="list-text">S3物件儲存管理</block>
  <block id="cdc54c0262b6c0a6146ee416a9ca2113" category="inline-link"><block ref="cdc54c0262b6c0a6146ee416a9ca2113" category="inline-link-rx"></block></block>
  <block id="8a93310a8dd4b405a8711f82adeb3c23" category="paragraph"><block ref="8a93310a8dd4b405a8711f82adeb3c23" category="inline-link-rx"></block></block>
  <block id="1b70ac0a972fddf1e1a33e6ed9df49c7" category="cell">2022年9月</block>
  <block id="331c0d2ba7a09b3ae7f6fac4652625da" category="summary">本頁說明改善本解決方案效能的最佳實務做法。</block>
  <block id="69cefd131c612b28f058caddd20f5cac" category="doc">效能最佳實務準則</block>
  <block id="25075404ed18180817b5ff523b98b3ea" category="inline-link-macro">先前版本：使用產生耗用的工作負載產生器進行效能測試。</block>
  <block id="78f6cc0a5eeea34ea4a6b6d750751008" category="paragraph"><block ref="78f6cc0a5eeea34ea4a6b6d750751008" category="inline-link-macro-rx"></block></block>
  <block id="21414169b395738292b2ac2fd8ca50a9" category="list-text">若可行、請使用「Get size &gt;=1MB（取得大小&gt;=1MB）」ONTAP 。</block>
  <block id="ce2e9b8aaceb2d2993c90188d874af95" category="list-text">在代理節點上的「erver.properties`」中增加「num.network.threads`」和「nm.io.thread」、可讓您將增加的分層活動推送到S3層。這些結果是「num.network.threads`」和「nm.io.thread」設為32。</block>
  <block id="1a48e01d01924d18e32943982eb6d924" category="list-text">S3儲存區應鎖定每個成員集合體的八個成員。</block>
  <block id="b5a9dc3c7ec54467d103e00eaa0efb21" category="list-text">推動S3流量的乙太網路連結在儲存設備和用戶端上應使用9k的MTU。</block>
  <block id="9a2dcec18734a6b09898eef44edd5f9a" category="paragraph"><block ref="9a2dcec18734a6b09898eef44edd5f9a" category="inline-link-macro-rx"></block></block>
  <block id="614eb548d72efbb3690b5c131745db1b" category="summary">本頁說明在本解決方案的參數範圍內、對ConFluent的效能驗證。</block>
  <block id="28052d386826afbb88768d0629570b19" category="doc">一致效能驗證</block>
  <block id="e0c5d30e7d8ab807973bb9e8800f9f30" category="paragraph"><block ref="e0c5d30e7d8ab807973bb9e8800f9f30" category="inline-link-macro-rx"></block></block>
  <block id="3ec7b1ca1aaf25c9bbca707f1ca8e466" category="paragraph">我們已使用Conflent Platform驗證NetApp ONTAP 的階層式儲存設備。NetApp與Conflent團隊共同進行這項驗證、並執行所需的測試案例。</block>
  <block id="1f567e45477749710cbc14cf6b10afc4" category="section-title">簡易設定</block>
  <block id="99b45ae42dbbf816c910ba27197525dc" category="paragraph">在設定方面、我們使用三個zookeepers、五個代理商、以及五個測試伺服器、搭配256GB RAM和16個CPU。對於NetApp儲存設備、我們使用ONTAP 了一套AFF 用作Are4A900 HA配對的功能。儲存設備與代理商均透過100GbE連線進行連線。</block>
  <block id="77727c2ca2ac5beb0de2853929b43367" category="paragraph">下圖顯示用於階層式儲存驗證的組態網路拓撲。</block>
  <block id="57e8d3257fec5774d2e8d38588771a69" category="inline-image-macro">此圖顯示用於階層式儲存驗證的組態網路拓撲。</block>
  <block id="e1265b0a6795e57b3d1df5094ecde2bb" category="paragraph"><block ref="e1265b0a6795e57b3d1df5094ecde2bb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1d9b75f4efe285b9777255f14c81323b" category="paragraph">這些工具伺服器可做為應用程式用戶端、用來傳送或接收來自ConFluent節點的事件。</block>
  <block id="1068af448bd05a968329fd2341036bfb" category="paragraph">我們使用下列測試參數：</block>
  <block id="3bfb3f2755d25ed45d39dad8b3ed3008" category="paragraph">為了驗ONTAP 證、我們使用了搭配HTTP傳輸協定的功能、但HTTPS也能正常運作。存取金鑰和秘密金鑰會儲存在「confine.Tier .s3.cred.file.path」參數中提供的檔案名稱中。</block>
  <block id="86d7ae5e1e87e4958b4fafcbca603956" category="section-title">NetApp儲存控制器ONTAP –功能</block>
  <block id="b915ce35d395a0d68a794b87705f95fa" category="paragraph">我們在ONTAP 不驗證的情況下、設定了單一HA配對組態。</block>
  <block id="b9d2b35b3cfffa153fd4ed3401cb9dd9" category="inline-image-macro">此圖說明環境如何設定為單一HA配對進行驗證。</block>
  <block id="0ccd17060e15591b9c8588dc7d974ecd" category="paragraph"><block ref="0ccd17060e15591b9c8588dc7d974ecd" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7069b530e46a91698a16159b7d083019" category="section-title">驗證結果</block>
  <block id="3af1efc909fae49a716fe2d22ba24290" category="paragraph">我們完成下列五個驗證測試案例。前兩項是功能測試、其餘三項是效能測試。</block>
  <block id="09da8339466c8b6111e4f310f1b78cb5" category="paragraph">此測試會在使用API呼叫的階層式儲存區所使用的物件存放區上執行基本作業、例如Get、PUT和DELETE。</block>
  <block id="622ce818e2b8228cee071a827a43e1b2" category="paragraph">此測試會檢查物件儲存設備的端點對端點功能。它會建立主題、產生新建立主題的事件串流、等待代理程式將區段歸檔至物件儲存設備、使用事件串流、並驗證所使用的串流是否符合所產生的串流。我們已執行這項測試、且不需要進行物件存放區故障注入。我們在ONTAP 其中一個節點停止服務管理程式服務、並驗證端點對端點功能是否可與物件儲存搭配運作、藉此模擬節點故障。</block>
  <block id="2712a580ff4c3586c7ba3534b78aad18" category="section-title">產生耗用的工作負載產生器</block>
  <block id="0c22172129c2d0d58a5685fa1094fca0" category="paragraph">此測試會透過區段歸檔、間接在物件存放區上產生寫入工作負載。讀取工作負載（區段讀取）是在使用者群組擷取區段時、從物件儲存區產生的。此工作負載是由TOCC指令碼產生。此測試會檢查平行執行緒中物件儲存設備的讀取和寫入效能。我們在進行分層功能正確性測試時、測試了是否有物件存放區故障注入。</block>
  <block id="2a7273e52c0214e6f0b27bf1e870960e" category="section-title">保留工作負載產生器</block>
  <block id="48771387cb6a84889bc1db951598f78c" category="paragraph">這項測試檢查了在繁重的主題保留工作負載下、物件儲存設備的刪除效能。保留工作負載是使用TOCC指令碼產生、該指令碼會產生許多訊息、並與測試主題平行。測試主題是以積極的大小型和時間型保留設定來設定、導致事件串流持續從物件存放區中清除。然後將區段歸檔。這導致代理程式在物件儲存區中進行許多刪除、並收集物件儲存區刪除作業的效能。</block>
  <block id="047fb529cf71ef63efe04d4185302684" category="paragraph">如需驗證詳細資料、請參閱<block ref="86830f666762f920df1dddf1c71e6509" category="inline-link-rx"></block> 網站。</block>
  <block id="0e20876ceb73ae36999db9f6c412bdc5" category="inline-link-macro">下一步：使用產生耗用的工作負載產生器進行效能測試。</block>
  <block id="ab82cfabb720bf1d31365b6ce33825f9" category="paragraph"><block ref="ab82cfabb720bf1d31365b6ce33825f9" category="inline-link-macro-rx"></block></block>
  <block id="b0c400a1c1ac5de2cbdc877645b349a0" category="summary">本節涵蓋在採用NetApp ONTAP 的ConFluent Platform部署中、用於階層式儲存設備的效能驗證所使用的硬體與軟體。下表涵蓋解決方案架構和基礎元件。</block>
  <block id="5197b1c9433e86b5ed33786625f77786" category="paragraph">Confluent和NetApp AFF 的Arestora900儲存控制器採用ONTAP 了以資訊串流為設計基礎的分散式系統。兩者皆可橫向擴充、容錯、並可在負載下提供優異效能。透過資料減量技術、將資料佔用空間降至最低、以降低儲存成本的方式、在分散式資料串流和串流處理上相輔相成。藉由AFF 使用VMware的支援、您可以在不影響運算和資料儲存資源的情況下、將資料儲存控制器的效能發揮到極致。如此可簡化系統管理、並可獨立擴充資源。</block>
  <block id="8ebef54f33ae0fdc7c4dcb83539b6eac" category="inline-image-macro">說明解決方案總覽的影像。</block>
  <block id="52dff9f6353660d69eddc1e9fdee4a83" category="paragraph"><block ref="52dff9f6353660d69eddc1e9fdee4a83" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7a785978a6b38bb45ae8786c30a1781e" category="cell">平台元件</block>
  <block id="c704d8c873b1a8d5d0243075656aa1f5" category="cell">環境組態</block>
  <block id="f75094292f4afb812bc29237348d9948" category="cell">ConFluent Platform 6.2版</block>
  <block id="5cc4fd015c7740c575d319eefacbce83" category="list-text">3個zookeepers</block>
  <block id="8f6a506566bd03a47cafb69561bafe0f" category="list-text">8個代理伺服器</block>
  <block id="aa76981d988c82fc8b387682968887e6" category="list-text">5部工具伺服器</block>
  <block id="b56d58a9a181bae1fa65f36407ea002c" category="list-text">1 x Grafana</block>
  <block id="4af3adf9207f6f8d2d6d9edda08f0638" category="list-text">1個控制中心</block>
  <block id="29c331c65dbb1c85faa29881b295fbfc" category="cell">所有節點上的作業系統</block>
  <block id="de4d788671df5cf79fda01236d8fc9a6" category="cell">適用於ONTAP 暖桶的NetApp解決方案</block>
  <block id="37e0c77638b1388d83b997c8dffdb6d3" category="list-text">1 AFF 組供應高可用度（HA）的支援</block>
  <block id="2e1c9b5ce764f890af0aebf38f1a500a" category="list-text">100GbE</block>
  <block id="983e16c42b860c2511053f17d60918c8" category="list-text">2個CPU；總共16個實體核心</block>
  <block id="ce4750dd79017960eed95bd3b2677eb4" category="list-text">Intel Xeon</block>
  <block id="01dcc4e221fc9ff7472c5102b082eaf4" category="list-text">256GB實體記憶體</block>
  <block id="433304c312dd41f05955324749c0a47f" category="list-text">100GbE雙埠</block>
  <block id="39bc57d27d632df4261bc60caf39a90c" category="paragraph"><block ref="39bc57d27d632df4261bc60caf39a90c" category="inline-link-macro-rx"></block></block>
  <block id="b98ea9630b58bea0f022799ecefe4062" category="sidebar">Conflent Kafka搭配NetApp ONTAP 等儲存控制器</block>
  <block id="875353af43abce06e81496931b9482ef" category="paragraph"><block ref="875353af43abce06e81496931b9482ef" category="inline-link-macro-rx"></block></block>
  <block id="93d153de96abb104b1cf0b56dddc7dfc" category="sidebar">使用VMware HCX將工作負載移轉至ANF資料存放區</block>
  <block id="9e925e9341b490bfd3b4c4ca3b0c1ef2" category="inline-link">這</block>
  <block id="953fa9bc59561d97ed62ce854465ba35" category="paragraph">在vSphere 5.5及更新版本中、「vmkfsools–y」命令會由「esxcli storage VMFS unmap」命令取代、該命令會指定可用區塊的數量（請參閱VMware KB<block ref="1d61bd4e8925f7d5aac61e083b728439" category="inline-link-rx"></block> 以取得更多資訊）。在vSphere 6.5及更新版本中、使用VMFS 6時、空間應自動非同步回收（請參閱<block ref="a9ae15a1c91a14939aefb313015202e6" category="inline-link-rx"></block> 在vSphere文件中）、但也可視需要手動執行。此自動取消對應功能受到ONTAP VMware ONTAP vSphere的支援、而VMware vSphere的VMware VMware工具則將其設為低優先順序。請記住、在配置LUN以作為VMFS資料存放區使用時、您必須手動啟用LUN上的空間分配選項。使用ONTAP VMware vSphere的支援工具時、LUN會自動設定為支援空間回收、不需要進一步的動作。請參閱<block ref="fca823934ad533ca13947daa01d8e441" category="inline-link-rx"></block> 知識庫文章以取得更多詳細資料。</block>
  <block id="b95b607ac94c4a8cb830243ecb537f59" category="cell">定義LDAP使用的工作階段安全性層級（簽署、認證或無）。如果Active Directory要求、則CVS效能可支援LDAP簽署。CVS軟體不支援LDAP簽署。目前不支援這兩種服務類型的密封。</block>
  <block id="ce32836b59e052d959dee4d2358e5a21" category="paragraph">為了進行測試、此驗證所使用的內部部署實驗室環境是透過站台對站台VPN連線、因此可內部部署連線至Azure VMware解決方案。</block>
  <block id="0bcfdba2f090838df9da44d825fedc49" category="doc">TR 4942：ONTAP 使用VMware HCX將工作負載移轉至FSx支援資料存放區</block>
  <block id="dd5244d49dea74bb9effd68426155ca2" category="sidebar">使用VMware HCX將工作負載移轉至FSXfor ONTAP VMware資料存放區</block>
  <block id="cdf4d8a8fa9326debf96606ee7177f41" category="doc">AsciDoc編碼與輸出範例</block>
  <block id="6c1cc46d8764b2147f50c80e336ab770" category="paragraph">本文包含Asciidocc來源和結果輸出的一些範例。</block>
  <block id="c252a357a127635943f82514442e62b3" category="section-title">標題層級</block>
  <block id="8000c50cdc8b68dd9ea0d326040cbd63" category="paragraph">[藍色底線]*來源AsciDoc：*</block>
  <block id="3c2f44ba0863f4f0fcb5023aa4ee6ca2" category="paragraph">[藍色底線]*產生HTML：*</block>
  <block id="efea650a2edf10e173ba726fa4e90c5f" category="section-title">標題層級1（章節標題）</block>
  <block id="2b70e22920b3d78a96efdd65b4b37c1f" category="section-title">標題層級2（章節標題）</block>
  <block id="3742ded2a390654e38f763a70bd4e35a" category="section-title">標題層級3（章節標題）</block>
  <block id="4d1ebef97112908dabe0c9c786eaa7ba" category="section-title">標題層級4（章節標題）</block>
  <block id="44e6fd3a1839882d90b6020944c4aeb1" category="section-title">標題層級5（章節標題）</block>
  <block id="691d1860ec58dd973e803e209697d065" category="section-title">清單</block>
  <block id="d3263947659da25e39643e07688fb919" category="paragraph">無序清單：</block>
  <block id="6e991c331de28266251c487c42df1f10" category="list-text">這是無序清單</block>
  <block id="d1ad2884248be2067d5bc70a584eba6d" category="list-text">這仍是未排序的清單</block>
  <block id="b84268ab94bb6da5f97f344b7f78bf9f" category="list-text">這是無序清單中的子元素</block>
  <block id="434aab8bf1245d04dc3e96af08e1842e" category="paragraph">訂購清單：</block>
  <block id="07628350d195b6ebaae83ec46df8e1c3" category="list-text">這是有序的清單</block>
  <block id="964f443f29145e9fa43a38671d07d447" category="list-text">這仍是有序的清單</block>
  <block id="239cecc0851db8990cd18461b6243348" category="list-text">這是有序清單中的子元素</block>
  <block id="fff0d600f8a0b5e19e88bfb821dd1157" category="section-title">映像</block>
  <block id="340c4d7a25252d5807344db646713010" category="paragraph">您可以連結至儲存庫內或網路上任何位置的影像。對於儲存庫內的影像、這些影像會放置在媒體資料夾中、因此您必須確保「：imagesdir：./media/」設定適當。</block>
  <block id="13d002c81cf56705c2becc11e5ed9a4f" category="image-alt">儲存庫內的映像</block>
  <block id="43d8eb4fa9bb019f23b6835a3d3c93d7" category="image-alt">儲存庫外的映像</block>
  <block id="bd908db5ccb07777ced8023dffc802f4" category="section-title">連結</block>
  <block id="69faa60007e518154e5dfa6c7cb9606d" category="paragraph">如同影像、連結可以參考儲存庫內或網路上任何位置的文件。對於內部參考、請務必確認「LINK:」陳述式中已指定連結來源的路徑。</block>
  <block id="8cc0407dfab26edc02bac943afa1c50d" category="inline-link-macro">NetApp解決方案變更記錄（內部）</block>
  <block id="e5eddd5cb0a7a1048bd37c62e18ae2dd" category="paragraph"><block ref="e5eddd5cb0a7a1048bd37c62e18ae2dd" category="inline-link-macro-rx"></block></block>
  <block id="4d9909e75daa4ee8685674e4136d2046" category="inline-link-macro">NetApp解決方案變更記錄（外部）</block>
  <block id="bc630a540bb452bb9f726ed7c7e14715" category="paragraph"><block ref="bc630a540bb452bb9f726ed7c7e14715" category="inline-link-macro-rx"></block></block>
  <block id="3bdabc119341b76ec34be01ada064a84" category="section-title">可摺疊的內容（也稱為Twisties）</block>
  <block id="b78a3223503896721cca1303f776159b" category="example-title">標題</block>
  <block id="b66944886034ca73431f2e338216bd4b" category="paragraph">在此處顯示要摺疊的文字。</block>
  <block id="70f60b4a0e07b27ad4d42c2ede9220f3" category="admonition">按一下「Title（標題）」以查看展開的內容</block>
  <block id="1cc54ce67047f47e6e0b998e4757610b" category="section-title">建立表格</block>
  <block id="2e0fea6cc0d29edadf544e93bf56013c" category="cell">欄A</block>
  <block id="778c1ae51201605a08ca7745c8dd3856" category="cell">欄B</block>
  <block id="00862db58047a1191cc2f83e69ff9892" category="cell">欄C</block>
  <block id="19273115ac8897b4064a43ccf533c3ba" category="cell">欄A中的文字</block>
  <block id="9ed785bee043f58e69669715e38bfe2d" category="cell">欄B中的文字</block>
  <block id="ec7498417999a2d1bc9ab843b061d478" category="cell">欄C中的文字</block>
  <block id="19ffdf534588898ed43f67fde767f1fd" category="paragraph">以下是另一個範例、其中一列橫跨整個表格、而其他列的資料跨越多個欄：</block>
  <block id="bf767d30d483b6701f943a456017bf9d" category="cell">標頭欄1</block>
  <block id="6e3e0843cfe6ff00d3b74bf168580453" category="cell">標題欄2.</block>
  <block id="a2fa10d34df17b106b689ca93f07c770" category="cell">標題欄3.</block>
  <block id="61bd6ed3bebad9294ee30668abbeff3c" category="cell">標題欄4.</block>
  <block id="1a168c8aca72f77bf84798bb31a4cb8c" category="cell">這真的是一列長的資料行、橫跨表格的所有4欄。這是此列中唯一的儲存格、不會留下空白儲存格。</block>
  <block id="4f14cfb44ee45b336256dd439e135021" category="cell">這是一長列、橫跨表格中的3個欄、保留一個空白儲存格。</block>
  <block id="43eddd3ae82d79991b5cefa462bed9d7" category="cell">此列橫跨2欄、保留2個儲存格為空白。</block>
  <block id="77631ca4f0e08419b70726a447333ab6" category="cell">這</block>
  <block id="f1965a857bc285d26fe22023aa5ab50d" category="cell">列</block>
  <block id="a2a551a6458a8de22446cc76d639a9e9" category="cell">是</block>
  <block id="fea087517c26fadd409bd4b9dc642555" category="cell">正常</block>
  <block id="00a4cb60b0815316a1416dae59b77543" category="inline-link-macro">AsciDoc文件</block>
  <block id="c784ba850708b73450bc80d79e01313e" category="admonition">您可以指定許多選項來變更表格的配置。如需詳細資訊、請在您要達成的儲存庫（HTML版本）中找到範例、然後前往VsCode檢視來源、或造訪 <block ref="8ce64cdd9ff98df64c05c93fb30bd0b8" category="inline-link-macro-rx"></block> 以取得更多資訊。</block>
  <block id="e2f7e3242523777351b6658f86564416" category="section-title">索引標籤式區塊</block>
  <block id="d6d281824a9f2f56cd13926cacd6f6c3" category="open-title">第一個索引標籤</block>
  <block id="a13c148381823333364efc7a66153681" category="paragraph">第一個索引標籤的內容請參閱此處</block>
  <block id="99a1d6da572d7987b546c07b1053d7b0" category="open-title">第二個索引標籤</block>
  <block id="d93aaa34fa764ccd0a071f1c256e0a6f" category="paragraph">第二個索引標籤的內容請參閱此處</block>
  <block id="3b04793c63a616fa65f54f1d98c263e1" category="admonition">按一下「第二個索引標籤」以查看該區段的內容。</block>
  <block id="c53dba1ad099d932b01eacd82bd500f2" category="doc">NVA-1155：Oracle 19c RAC Database on FlexPod Arscide Datacenter with Cisco UCS and NetApp AFF E支援FC的Oracle 19c RAC資料庫-設計與部署指南</block>
  <block id="547673676a9fdbc79f1364e749be4d0a" category="paragraph">NetApp的Alleno Cao</block>
  <block id="a42a54d915f9cd474841cab349e2de5e" category="paragraph">本《Oracle 19c RAC資料庫的設計與部署指南FlexPod 》適用於採用Cisco UCS和NetApp AFF 透過FC的Oracle 19c RAC資料庫、提供解決方案設計的詳細資料、以及在FlexPod 採用Oracle Linux 8.2的最新版「更新資料中心」基礎架構上代管Oracle RAC資料庫的逐步部署程序作業系統和Red Hat相容核心。</block>
  <block id="26536a9e695c3724c27d8ef7d7297f41" category="inline-link-macro"><block ref="26536a9e695c3724c27d8ef7d7297f41" category="inline-link-rx"></block></block>
  <block id="6e0751d9d8cd023132b0afea3073c96d" category="paragraph"><block ref="6e0751d9d8cd023132b0afea3073c96d" category="inline-link-macro-rx"></block></block>
  <block id="6e170e4c0b9eb50546a09aafc90dc157" category="doc">TR-4794：NetApp EF系列上的Oracle資料庫</block>
  <block id="9b6fc59469e9f5ee36cb85b08daacec3" category="paragraph">NetApp Ebin Kadavy的Mitch Blackburin</block>
  <block id="fa8b4902d0c1e464dcf9256a434920ba" category="paragraph">TR-4794旨在協助儲存管理員和資料庫管理員在NetApp EF系列儲存設備上成功部署Oracle。</block>
  <block id="6ccd62bc352fd170c5fa9538c6fa84b1" category="inline-link-macro"><block ref="6ccd62bc352fd170c5fa9538c6fa84b1" category="inline-link-rx"></block></block>
  <block id="0d3b1c298c590bed5f16adc6a5e10809" category="paragraph"><block ref="0d3b1c298c590bed5f16adc6a5e10809" category="inline-link-macro-rx"></block></block>
  <block id="954dcd3322a22ffd4d24f94c2d40abfc" category="doc">TR-4467：SAP搭配Windows上的Microsoft SQL Server -使用NetApp叢集Data ONTAP 式功能的最佳實務做法SnapCenter</block>
  <block id="611a4a6b98272a717f8e1f6bf5ba787b" category="paragraph">NetApp的Marco. Schoen</block>
  <block id="dbd408dfbba42c9529974244acc200aa" category="paragraph">TR-4467為客戶與合作夥伴提供部署叢集式NetApp Data ONTAP 功能的最佳實務做法、以支援在Windows環境中Microsoft SQL Server上執行的SAP Business Suite解決方案。</block>
  <block id="39929f96a57edd550a6cb67e9fd82f26" category="inline-link-macro"><block ref="39929f96a57edd550a6cb67e9fd82f26" category="inline-link-rx"></block></block>
  <block id="e1373a4ef25d8a3dcebe3b2cff4b90b2" category="paragraph"><block ref="e1373a4ef25d8a3dcebe3b2cff4b90b2" category="inline-link-macro-rx"></block></block>
  <block id="e848c28a0a485bcf645b0791381d9c89" category="doc">現代化您的Microsoft SQL Server環境</block>
  <block id="69015d285622bbd074d7bccf4ea12670" category="paragraph">在內部部署或雲端上最佳化營運並釋放資料威力。</block>
  <block id="f867ac1965207b2211a876821d31d617" category="inline-link-macro"><block ref="f867ac1965207b2211a876821d31d617" category="inline-link-rx"></block></block>
  <block id="3f73fe1a14da103e822fb292c28f66df" category="paragraph"><block ref="3f73fe1a14da103e822fb292c28f66df" category="inline-link-macro-rx"></block></block>
  <block id="a23b0f6840eece1bcfc1a2ce047e740e" category="doc">TR-3633：ONTAP Oracle資料庫on</block>
  <block id="3b1f454fff17aa123534722dc8b6870b" category="paragraph">NetApp的傑弗里·施泰納</block>
  <block id="bb00932088674136830625fe37741beb" category="paragraph">請參閱 <block ref="d0d24196afeacb93f8904954168bf8db" category="inline-link-macro-rx"></block> 判斷TR-3633中指定的環境、組態和版本是否支援您的環境。</block>
  <block id="76775d774363eb515c3954389bf96eb8" category="inline-link-macro"><block ref="76775d774363eb515c3954389bf96eb8" category="inline-link-rx"></block></block>
  <block id="ee47cd10fbc8d219225b06932059463a" category="paragraph"><block ref="ee47cd10fbc8d219225b06932059463a" category="inline-link-macro-rx"></block></block>
  <block id="d76cffc02762fcf81c8bb85e5fe9e987" category="doc">TR-4764：採用NetApp EF系列的Microsoft SQL Server最佳實務做法指南</block>
  <block id="d9cd8ac988f5ea26e28a2da5f3485ff9" category="paragraph">NetApp Pat Sinthusan的Mitch Blackburn</block>
  <block id="9db08b91ae68a77b71af230b40b31325" category="paragraph">本最佳實務做法指南旨在協助儲存管理員和資料庫管理員在NetApp EF系列儲存設備上成功部署Microsoft SQL Server。</block>
  <block id="d378412674e2e76ee3c7e245fd0aad9c" category="inline-link-macro"><block ref="d378412674e2e76ee3c7e245fd0aad9c" category="inline-link-rx"></block></block>
  <block id="855280cfa22ac6785edc7f9e23fa2cf7" category="paragraph"><block ref="855280cfa22ac6785edc7f9e23fa2cf7" category="inline-link-macro-rx"></block></block>
  <block id="d5b9082efbf726d2e38c5042668ae4f0" category="doc">TR-4250：SAP搭配Oracle on UNIX、NFS搭配NetApp叢集Data ONTAP 式功能的NetApp叢集式功能、適用於SnapManager SAP 3.4</block>
  <block id="bb8cd3f7aec777de29cee988f4ade068" category="paragraph">NetApp公司Nils Bauer</block>
  <block id="ea455e11718ea0bfb200c540f4e0c038" category="paragraph">TR-4250可解決設計儲存解決方案以支援使用Oracle資料庫的SAP商業套裝軟體產品的挑戰。本文的主要重點是使用最新一代SAP解決方案的企業和IT領導者、所面臨的常見儲存基礎架構設計、部署、營運和管理挑戰。本文檔中的建議是一般的、並非針對SAP應用程式或SAP實作的大小和範圍而定。TR-4250假設讀者已基本瞭解NetApp與SAP產品的技術與營運。TR-4250是根據NetApp、SAP、Oracle及我們客戶的技術人員互動而開發。</block>
  <block id="72b1d38d81a57d1482ce5708d98653f1" category="inline-link-macro"><block ref="72b1d38d81a57d1482ce5708d98653f1" category="inline-link-rx"></block></block>
  <block id="9661c205dc29ba33fe04212e23a675a7" category="paragraph"><block ref="9661c205dc29ba33fe04212e23a675a7" category="inline-link-macro-rx"></block></block>
  <block id="be52c99c6345cb49ab79a79b9565c737" category="doc">TR-4785：採用NetApp E系列和BeeGFS的AI部署</block>
  <block id="36f4667e440709d475f1c5db4ecae97e" category="paragraph">NagalakshMI raju、丹尼爾·蘭德斯、Nathan Swartz、Amine Bennani、NetApp</block>
  <block id="c74f37bd5e8951b2feda7d19b03326e9" category="paragraph">人工智慧（AI）、機器學習（ML）和深度學習（DL）應用程式涉及大型資料集和高運算能力。若要成功執行這些工作負載、您需要敏捷的基礎架構、讓您能夠順暢地橫向擴充儲存和運算節點。本報告包含在分散式模式中執行AI訓練模型的步驟、可無縫橫向擴充運算和儲存節點。報告也包含各種效能指標、說明如何將NetApp E系列儲存設備與BeeGFS平行檔案系統結合、為AI工作負載提供靈活、具成本效益且簡單的解決方案。</block>
  <block id="ee8f67cac9ef02f83e05d3b531bbaa8f" category="inline-link-macro"><block ref="ee8f67cac9ef02f83e05d3b531bbaa8f" category="inline-link-rx"></block></block>
  <block id="f23e849942acdc76ad2147cc16d1c207" category="paragraph"><block ref="f23e849942acdc76ad2147cc16d1c207" category="inline-link-macro-rx"></block></block>
  <block id="e889531653bc3baae2aadf3bee46a54f" category="doc">NVA-1156-Deploy：採用NVIDIA DGX A100系統和BeeGFS的NetApp EF系列AI</block>
  <block id="4472645bc6fe350406624df126edf4ac" category="paragraph">NetApp公司的阿卜杜勒·薩德克、Tim Chau、Joe McCormick和David Arntette</block>
  <block id="7d8f094cc030aec75a343f1baad8c19d" category="paragraph">本文件說明採用NetApp EF600 NVMe儲存系統、ThinkParQ BeeGFS平行檔案系統、NVIDIA DGX A100系統及NVIDIA Mellanox Quantum QM8700 200Gbps InfiniBand（IB）交換器的NetApp驗證機器學習（ML）與人工智慧（AI）工作負載架構。本文件也包含在部署完成後執行驗證基準測試的指示。</block>
  <block id="58f81dbff2cc92916b8e184779ecf9ad" category="inline-link-macro"><block ref="58f81dbff2cc92916b8e184779ecf9ad" category="inline-link-rx"></block></block>
  <block id="e032117163a7b2e48c80c9a423ff17b8" category="paragraph"><block ref="e032117163a7b2e48c80c9a423ff17b8" category="inline-link-macro-rx"></block></block>
  <block id="7d7e004acd6ddcaf6ddbea36835d3a1e" category="paragraph"><block ref="7d7e004acd6ddcaf6ddbea36835d3a1e" category="inline-link-macro-rx"></block></block>
  <block id="0046f5684030ae3e0fe25061bf411059" category="doc">NVA-1153設計：採用ONTAP NVIDIA DGX A100系統和Mellanox Spectrum乙太網路交換器的NetApp W人工 智慧</block>
  <block id="7bfbd6c5c294b7f81d430bd31f53aea3" category="paragraph">NVA-1153設計說明NetApp驗證的機器學習（ML）架構與人工智慧（AI）工作負載、使用NetApp AFF 的S4A800儲存系統、NVIDIA DGX A100系統、以及NVIDIA Mellanox Spectrum SN3700V 200GB乙太網路交換器。這項設計採用融合式乙太網路（RoCE）的RDMA、適用於運算叢集互連架構、為客戶提供完全乙太網路架構、以滿足高效能工作負載的需求。本文件也包含已實作架構的基準測試結果。</block>
  <block id="7b6f81cfdb86a2e75cd90e7b2397b5c5" category="inline-link-macro"><block ref="7b6f81cfdb86a2e75cd90e7b2397b5c5" category="inline-link-rx"></block></block>
  <block id="12e9f3f9d266156ccfbbb4ea8f21eb86" category="paragraph"><block ref="12e9f3f9d266156ccfbbb4ea8f21eb86" category="inline-link-macro-rx"></block></block>
  <block id="455d43e3be683302c81c2b5626db170c" category="doc">TR-4851：StorageGRID NetApp的《Data Lake for Aut自治 駕駛工作負載-解決方案設計》</block>
  <block id="981ed5a5ebc4fbc2a64f69a42d9ef36c" category="paragraph">NetApp公司David Arignette</block>
  <block id="0e2b7ed1591c52ac15ea956ecb6a5701" category="paragraph">TR-4851展示如何使用NetApp StorageGRID 的物件式儲存設備作為資料儲存庫和管理系統、以利機器學習（ML）和深度學習（DL）軟體開發。本白皮書說明自主車輛軟體開發的資料流程與需求、以及StorageGRID 簡化資料生命週期的各種功能。此解決方案適用於ML與DL開發程序中的任何一般多階段資料管線工作流程。</block>
  <block id="5d5c58f2793c027dcda637fc95601825" category="inline-link-macro"><block ref="5d5c58f2793c027dcda637fc95601825" category="inline-link-rx"></block></block>
  <block id="17534f242f61128daf02fd0bde2ab66d" category="paragraph"><block ref="17534f242f61128daf02fd0bde2ab66d" category="inline-link-macro-rx"></block></block>
  <block id="a479dadc1f089681ec4db29c16fec163" category="doc">TR-4810：ONTAP 適用於AI和ML模型訓練工作負載的NetApp支援和Lenovo ThinkSystem SR670</block>
  <block id="5ebb854a0e7b0964891f587bfc1d231a" category="paragraph">NetApp Miroslav Hodak、聯想的Karthithkeyan Nagalingam</block>
  <block id="17f161066b709ea249da0f86319938b3" category="paragraph">TR-4810說明具成本效益的入門級運算與儲存架構、可在NetApp儲存控制器和Lenovo ThinkSystem伺服器上部署GPU型人工智慧（AI）訓練課程。此設定是專為中小團隊設計的共享資源、可同時執行多項訓練工作。</block>
  <block id="44daeb1185bf6a8c6c548cc1df101795" category="paragraph">TR-4810提供業界標準MLPerf基準測試的效能資料、評估V100 GPU上TensorFlow的映像分類訓練。為了測量效能、我們將ResNet50與ImageNet資料集搭配使用、批次大小為512、半精準度、CUDA和CUDNN。我們使用四GPU SR670伺服器和入門級NetApp儲存系統來執行這項分析。結果顯示、在這裡測試的多個使用案例中、效能都非常有效率：共享、多使用者、多工作業案例、個別工作最多可擴充至四部伺服器。大規模的橫向擴充工作效率較低、但仍可行</block>
  <block id="6f6e299cb7d6645bd11115fbed7ce551" category="inline-link-macro"><block ref="6f6e299cb7d6645bd11115fbed7ce551" category="inline-link-rx"></block></block>
  <block id="8eaaf4ccaaaec94b575ee16254ad49c1" category="paragraph"><block ref="8eaaf4ccaaaec94b575ee16254ad49c1" category="inline-link-macro-rx"></block></block>
  <block id="0ae928f6b14175d27f45a4e5ad647657" category="doc">NVA-1151-Deploy：NetApp ONTAP 支援NVIDIA DGX A100系統的AI</block>
  <block id="290beddb4a567cd98ba4f9116eee11b4" category="paragraph">NVA-1151-Deploy內含NetApp驗證架構（NVA）的儲存系統部署指示、適用於使用NetApp AFF ArfoA800儲存系統、NVIDIA DGX A100系統及NVIDIA Mellanox網路交換器進行機器學習（ML）和人工智慧（AI）工作負載。其中也包含在部署完成後執行驗證基準測試的指示。</block>
  <block id="213372f55b01b1d34de9624d7447ce72" category="inline-link-macro"><block ref="213372f55b01b1d34de9624d7447ce72" category="inline-link-rx"></block></block>
  <block id="f66a35643d6d6ce9bd6be71845a54cf8" category="paragraph"><block ref="f66a35643d6d6ce9bd6be71845a54cf8" category="inline-link-macro-rx"></block></block>
  <block id="1cfaf5b4fb65d4736720e0bc9565006f" category="doc">NVA-1150-Deploy：Quantum StorNext with NetApp E系列系統設計指南</block>
  <block id="806008ac96286a2e08058ba3a3daa601" category="paragraph">Ryan Rodine、NetApp</block>
  <block id="25dbf1b5193ae9eff63687c18c19e6f5" category="paragraph">本文件詳細說明如何使用NetApp E系列儲存系統部署StorNext平行檔案系統解決方案。本解決方案涵蓋NetApp EF280 All Flash Array、NetApp EF300 All Flash NVMe Array、NetApp EF600 All Flash NVMe Array及NetApp E5760混合式系統。它提供以「最出色的基準測試」為基礎的效能特性分析、此工具廣泛用於媒體與娛樂產業的測試。</block>
  <block id="60e713e183b7355809395b78af237e3d" category="inline-link-macro"><block ref="60e713e183b7355809395b78af237e3d" category="inline-link-rx"></block></block>
  <block id="3da570d632857f468742bb9e82bb15bc" category="paragraph"><block ref="3da570d632857f468742bb9e82bb15bc" category="inline-link-macro-rx"></block></block>
  <block id="3e22ed7172d7770cfa1457b7e70b2b06" category="doc">TR-4915：E系列和BeeGFS的資料搬移功能、適用於AI和分析工作流程</block>
  <block id="b85127cc663f1e3f1a6a366bb2732406" category="paragraph">CODY Harrman和Ryan Rovine、NetApp</block>
  <block id="f75519c0654938719b5319e8d452e91a" category="paragraph">TR-4915說明如何將資料從任何資料儲存庫移至以NetApp E系列SAN儲存設備為後盾的BeeGFS檔案系統。對於人工智慧（AI）和機器學習（ML）應用程式、客戶可能經常需要將超過數PB資料的大型資料集移至BeeGFS叢集、以便進行模型開發。本文將探討如何使用NetApp XCP和NetApp Cloud Sync 等工具來達成此目標。</block>
  <block id="69735c95d12121c6a49bf7078822f1a5" category="inline-link-macro"><block ref="69735c95d12121c6a49bf7078822f1a5" category="inline-link-rx"></block></block>
  <block id="85f5a6a68a78eee054d216895dfe53a9" category="paragraph"><block ref="85f5a6a68a78eee054d216895dfe53a9" category="inline-link-macro-rx"></block></block>
  <block id="32940041bf5093eb48af6ffae914f8cc" category="doc">NVA-1156設計：採用NVIDIA DGX A100系統和BeeGFS的NetApp EF系列AI</block>
  <block id="ff50db1ba0f8ba4a103a810e1ceb2afc" category="paragraph">NetApp公司的阿卜杜勒·薩德克、Tim Chau、Joe McCormick和David Arntette</block>
  <block id="1d78c2c26f50714898cd986ca8147756" category="paragraph">NVA-1156設計說明採用NetApp EF600 NVMe儲存系統、BeeGFS平行檔案系統、NVIDIA DGX A100系統及NVIDIA Mellanox Quantum QM8700 200Gbps IB交換器的NetApp驗證機器學習（ML）與人工智慧（AI）工作負載架構。此設計採用200Gbps InfiniBand（IB）、適用於儲存設備和運算叢集互連架構、為客戶提供完全以IB為基礎的架構、以滿足高效能工作負載的需求。本文件也包含已實作架構的基準測試結果。</block>
  <block id="aca17de13a4a5756ad91fcaa1eac2f32" category="inline-link-macro"><block ref="aca17de13a4a5756ad91fcaa1eac2f32" category="inline-link-rx"></block></block>
  <block id="62d0bf89b3e7ccd1a8242fc23544a5a4" category="paragraph"><block ref="62d0bf89b3e7ccd1a8242fc23544a5a4" category="inline-link-macro-rx"></block></block>
  <block id="07bb9ea92d477ff776a5a9f59a55e75c" category="doc">TR-4799-Design：適用於ONTAP 自主駕駛工作負載的NetApp AI參考架構</block>
  <block id="697dbe2a012e27540eab2481a9572ec4" category="paragraph">NVIDIA DGX系統系列是全球第一款專為企業AI打造的整合式人工智慧（AI）平台。NetApp AFF 供應極致效能與領先業界的混合雲資料管理功能。NetApp與NVIDIA聯手打造NetApp ONTAP 的「可靠性AI」參考架構、為客戶提供一套立即可用的解決方案、以企業級效能、可靠性與支援來支援AI與機器學習（ML）工作負載。</block>
  <block id="ae4f0cd83b874dc6ee1f3d15fbcde464" category="inline-link-macro"><block ref="ae4f0cd83b874dc6ee1f3d15fbcde464" category="inline-link-rx"></block></block>
  <block id="db2c2e1615c8876019da15e39f1c3ce4" category="paragraph"><block ref="db2c2e1615c8876019da15e39f1c3ce4" category="inline-link-macro-rx"></block></block>
  <block id="53abcff00f0617502a70da8730cab6c0" category="doc">TR-4811：適用於ONTAP 醫療產業的NetApp AI參考架構：診斷影像-解決方案設計</block>
  <block id="eae34d8ef755492887b6a7aa4362588d" category="paragraph">Rick Huang、Sung-HAN LIN、Sathish Thyagarajan、NetApp JacCI Cenci、NVIDIA</block>
  <block id="c92ae00fd88c8477c24628d0f17deceb" category="paragraph">這項參考架構提供指引、協助客戶使用NVIDIA DGX-2系統和NetApp AFF 支援醫療使用案例的NetApp支援中心、打造人工智慧（AI）基礎架構。其中包含開發深度學習（DL）模型、用於醫療診斷影像、驗證測試案例及結果的高層工作流程相關資訊。其中也包括客戶部署的規模調整建議。</block>
  <block id="f6e5955fac81d01e271cb733c3163cba" category="paragraph"><block ref="f6e5955fac81d01e271cb733c3163cba" category="inline-link-macro-rx"></block></block>
  <block id="8ada98332d4bde2905136eacd122ca17" category="doc">NVA-1150-Design：Quantum StorNext with NetApp E系列系統設計指南</block>
  <block id="5ee668b979e736471a8d46609abdc49b" category="paragraph">本文件詳細說明如何使用NetApp E系列儲存系統來設計StorNext平行檔案系統解決方案。本解決方案涵蓋NetApp EF280 All Flash Array、NetApp EF300 All Flash NVMe Array、EF600 All Flash NVMe Array及NetApp E5760混合式系統。它提供以「最出色的基準測試」為基礎的效能特性分析、此工具廣泛用於媒體與娛樂產業的測試。</block>
  <block id="8d34cd86db3dd46b4c83d32098f9f458" category="inline-link-macro"><block ref="8d34cd86db3dd46b4c83d32098f9f458" category="inline-link-rx"></block></block>
  <block id="580fb8819de48faa426f431251c8b4db" category="paragraph"><block ref="580fb8819de48faa426f431251c8b4db" category="inline-link-macro-rx"></block></block>
  <block id="822b5b3ac9e0f170e124850176f6f5ad" category="doc">TR-4807：適用於ONTAP 金融服務工作負載的NetApp SAI參考架構-解決方案設計</block>
  <block id="a8b8bcca1cc81c47655f69efaea66280" category="paragraph">Karthikeyan Nagalingam、Sung-HAN LIN、NetApp Jacci Cenci、NVIDIA</block>
  <block id="5e01fc0ba3a2133ea5de509bf81e119d" category="paragraph">此參考架構為使用NVIDIA DGX-1系統和NetApp AFF 支援財務部門使用案例的NetApp支援中心來建置人工智慧基礎架構的客戶提供準則。其中包含開發金融服務測試案例與結果深度學習模式所用的高層工作流程相關資訊。其中也包括客戶部署的規模調整建議。</block>
  <block id="a6f98d09d0c8f042087143764a02630c" category="inline-link-macro"><block ref="a6f98d09d0c8f042087143764a02630c" category="inline-link-rx"></block></block>
  <block id="cc1efb0a1d820f8806a752002b5d9b4c" category="paragraph"><block ref="cc1efb0a1d820f8806a752002b5d9b4c" category="inline-link-macro-rx"></block></block>
  <block id="208683138843b8d3d5e2d587c3c7655b" category="doc">TR-4815：適用於AFF AI和ML模型訓練工作負載的NetApp RseXA800和Fujitsu Server PRIMERGY GX2570 M5</block>
  <block id="5f2ab39ba2f8133927b3b4608a712d5b" category="paragraph">NetApp Takashioish, Fujitsu的David Arettette</block>
  <block id="62c32325e658b728843c4f250b5d1547" category="paragraph">本解決方案著重於橫向擴充架構、以NetApp儲存系統和Fujitsu伺服器部署人工智慧系統。此解決方案已通過MLperf v0.6模型訓練基準測試、使用Fujitsu GX2570伺服器和NetApp AFF RESOA800儲存系統。</block>
  <block id="b7c37fdfd029affe5cf4c25d73b9084d" category="inline-link-macro"><block ref="b7c37fdfd029affe5cf4c25d73b9084d" category="inline-link-rx"></block></block>
  <block id="dc4386f7ba9f47c00c36d26452de1559" category="paragraph"><block ref="dc4386f7ba9f47c00c36d26452de1559" category="inline-link-macro-rx"></block></block>
  <block id="5c6463fd6d00a2574dfb072c48e8de49" category="doc">TR-4859：使用NetApp E系列儲存設備部署IBM Spectrum scale -安裝與驗證</block>
  <block id="7d8a7f37eb34080960253271b824ab2f" category="paragraph">Chris Seirer、NetApp</block>
  <block id="fdb4fdcbeafc3d334651614437516062" category="paragraph">TR-4859說明部署以IBM Spectrum等級軟體堆疊為基礎的完整平行檔案系統解決方案的程序。TR-4859的設計旨在提供有關如何安裝Spectrum scale、驗證基礎架構及管理組態的詳細資訊。</block>
  <block id="c9bcc5e8e66d05c764fccb9ece380847" category="inline-link-macro"><block ref="c9bcc5e8e66d05c764fccb9ece380847" category="inline-link-rx"></block></block>
  <block id="22c1cefecec00093f0b70a70b2680dcf" category="paragraph"><block ref="22c1cefecec00093f0b70a70b2680dcf" category="inline-link-macro-rx"></block></block>
  <block id="03077b9327bcb8fdf3f360d27c4dd2a6" category="doc">NVA-1153-Deploy：採用ONTAP NVIDIA DGX A100系統和Mellanox Spectrum乙太網路交換器的NetApp支援</block>
  <block id="5f4c1dd940d24299c2c5a80211b1e330" category="paragraph">NVA-1153-Deploy內含儲存系統部署說明、適用於NetApp驗證的機器學習（ML）架構與人工智慧（AI）工作負載、使用NetApp AFF ArfoA800儲存系統、NVIDIA DGX A100系統、以及NVIDIA Mellanox Spectrum SN3700V 200GB乙太網路交換器。其中也包含在部署完成後執行驗證基準測試的指示。</block>
  <block id="c24b711a1468d82d0ec120ccf0fe60e8" category="inline-link-macro"><block ref="c24b711a1468d82d0ec120ccf0fe60e8" category="inline-link-rx"></block></block>
  <block id="fa7cdfafd1276f51fd3285f61a6c4aec" category="paragraph"><block ref="fa7cdfafd1276f51fd3285f61a6c4aec" category="inline-link-macro-rx"></block></block>
  <block id="c1ba6d72bba1b6f1d94714d4fcc78480" category="doc">TR-4320：NetApp E系列和CommVault Data Platform V11 -參考架構和儲存最佳實務做法</block>
  <block id="23b69f42a62554346d10d302e32866df" category="paragraph">NetApp Girish Chanchlani、CommVault的Aakash Gupta</block>
  <block id="451f1cdad20049e4046b157a54826db1" category="paragraph">TR-4320概述在CommVault Data Platform V11環境中使用NetApp E系列儲存設備時的參考架構和最佳實務做法。CommVault與NetApp共同開發此參考架構、為CommVault Data Platform V11部署與NetApp E系列儲存設備提供指引、可加速此解決方案的應用時間。</block>
  <block id="df7cf7c589f9721849875c4944ab1b5f" category="inline-link-macro"><block ref="df7cf7c589f9721849875c4944ab1b5f" category="inline-link-rx"></block></block>
  <block id="d08fcd93c2915044da2cb0000a532b24" category="paragraph"><block ref="d08fcd93c2915044da2cb0000a532b24" category="inline-link-macro-rx"></block></block>
  <block id="fe85f62ed86fedb2f150ec1a40d67f2e" category="doc">TR-4704：使用NetApp E系列儲存設備部署Veritas NetBackup</block>
  <block id="d223d0d947999082ea93b57a68b3614b" category="paragraph">NetApp的Aakash Gupta和Principled Technologies</block>
  <block id="9c993f8d3d3aa7be9c86474635154c12" category="paragraph">TR-4704說明如何在NetApp E系列儲存設備上部署Veritas NetBackup。</block>
  <block id="ddc8bf6244e563f16009d9f3993a3651" category="inline-link-macro"><block ref="ddc8bf6244e563f16009d9f3993a3651" category="inline-link-rx"></block></block>
  <block id="f0320db0293afb1c878e6a4fd3127640" category="paragraph"><block ref="f0320db0293afb1c878e6a4fd3127640" category="inline-link-macro-rx"></block></block>
  <block id="fd031987b2da91ab23764bc7a2eeb897" category="doc">TR-4471：E系列與EF系列參考架構、以及Veeam備份與複寫9.5的儲存最佳實務做法</block>
  <block id="febdd047851001456a2f0c683cfcfd2b" category="paragraph">Aakash Gupta、NetApp Shawn elit（美洲）、史特凡倫納（歐洲、中東和非洲地區）、以及Michael Cade（效能）、Veeam</block>
  <block id="a207fab8627637842c817cfbb6e2a3e5" category="paragraph">TR-4471概述在Veeam Backup &amp; Replication 9.5環境中使用NetApp E系列儲存設備時的參考架構和最佳實務做法</block>
  <block id="609999428a14d32b8afba97bbc6a3bd3" category="inline-link-macro"><block ref="609999428a14d32b8afba97bbc6a3bd3" category="inline-link-rx"></block></block>
  <block id="27f4fbfb25a706ee60055e1e7bc5b112" category="paragraph"><block ref="27f4fbfb25a706ee60055e1e7bc5b112" category="inline-link-macro-rx"></block></block>
  <block id="6a2c7fa6b0a402c3b9034538d8c9771f" category="doc">NVA-1143：NetApp HCI 適用於FISMA的功能、適用於搭配HyTrust for Multi租 戶基礎架構的NIST安全控制功能- NVA設計與部署</block>
  <block id="2de6bbd06654b0c6d7bd5a6f2bb218f8" category="paragraph">Arvind Ramakrishnan、Abhinav Singh、NetApp</block>
  <block id="6fdf0a62913845390e552b0f7d42cbf7" category="paragraph">NVA-1143說明NetApp HCI 如何設計及部署功能以符合國家標準與技術研究所（NIST）SP 800-53修訂版4的安全性與隱私權控管、這對於私有雲端基礎架構和多租戶部署而言至關重要。</block>
  <block id="7f02c84e9695cb8a35c7deacae1ac60a" category="inline-link-macro"><block ref="7f02c84e9695cb8a35c7deacae1ac60a" category="inline-link-rx"></block></block>
  <block id="d296785b2301f7049b2372228fec21ee" category="paragraph"><block ref="d296785b2301f7049b2372228fec21ee" category="inline-link-macro-rx"></block></block>
  <block id="b1567dc4fc97586a9f0b9a3cc9b7fafa" category="doc">NVA-1157-Deploy：採用NetApp儲存解決方案的Apache Spark工作負載</block>
  <block id="a9828ed348eedd7a35b76de35fda7796" category="paragraph">NVA-1157-Deploy說明在NetApp NFS AFF 上驗證Apache Spark SQL的效能與功能。它會根據各種情境來審查組態、架構和效能測試、以及使用Spark搭配NetApp ONTAP 效益資料管理軟體的建議。本報告也涵蓋僅以一堆磁碟（JBOD）為基礎的測試結果、以及NetApp AFF 可靠性A800儲存控制器的測試結果。</block>
  <block id="b2bbcfd654a3dd74458969dc7e877cd4" category="paragraph"><block ref="b2bbcfd654a3dd74458969dc7e877cd4" category="inline-link-macro-rx"></block></block>
  <block id="404af9ebdf8554a92ea8d3dde06945b4" category="doc">TR-4623：NetApp E系列E5700和Splunk Enterprise</block>
  <block id="1dcb8fb2d6ad519f4a7ecd244f9c7c76" category="paragraph">NetApp的Mitch Blackbur燒</block>
  <block id="821c9e3ae35ae3b188264d2461cec030" category="paragraph">TR-4623說明NetApp E系列和Splunk設計的整合式架構。針對節點儲存平衡、可靠性、效能、儲存容量和密度進行最佳化、此設計採用Splunk叢集式索引節點模式、具有更高的擴充性和更低的TCO。將儲存設備與運算分離、可分別擴充、節省過度資源配置的成本。此外、本文也摘要說明從Splunk機器記錄事件模擬工具取得的效能測試結果。</block>
  <block id="7c65bf783488e992fb7c72bab3ddbbf2" category="inline-link-macro"><block ref="7c65bf783488e992fb7c72bab3ddbbf2" category="inline-link-rx"></block></block>
  <block id="145793ae401011691a99a02e5087ba8a" category="paragraph"><block ref="145793ae401011691a99a02e5087ba8a" category="inline-link-macro-rx"></block></block>
  <block id="6a67053961e2b9d7e16bf757a5bea347" category="doc">現代化資料分析：不同分析策略的不同解決方案</block>
  <block id="8e1e8679efe4694874eb9820dff26af8" category="paragraph">本白皮書說明NetApp現代化資料分析解決方案策略。其中包括業務成果、客戶挑戰、技術趨勢、競爭老舊架構、現代化工作流程、使用案例、產業、雲端、技術合作夥伴、資料移動者、NetApp Active IQ 功能區、NetApp DataOps Toolkit、Hadoop to Spark、採用NetApp Astra Control的軟體定義儲存設備、容器、企業資料管理、歸檔及分層、以達成AI與分析的目標、以及NetApp與客戶如何共同將資料架構現代化。</block>
  <block id="ef159076e3a244c9e0bc48cdde7742a7" category="inline-link-macro"><block ref="ef159076e3a244c9e0bc48cdde7742a7" category="inline-link-rx"></block></block>
  <block id="bff0b3c76158c2ffdc1105de3c094296" category="paragraph"><block ref="bff0b3c76158c2ffdc1105de3c094296" category="inline-link-macro-rx"></block></block>
  <block id="4eb5c705ea54813c084d88a3d5a668f0" category="admonition">每個文件只應有一個文件標題（層級0）、區段標題不可跳過（區段次標題必須是區段下的下一個標題層級）。因此、輸出中不會顯示範例、以避免處理期間發生建置錯誤。</block>
  <block id="9b6f25534617a536120885c9ce2bf30b" category="inline-link">如需安裝程序、請參閱Veeam文件</block>
  <block id="51c7ff4d9c3185f2df469eed762010d5" category="inline-link-macro">VMware Cloud技術區</block>
  <block id="baab3b6c6024ccda908423e27d1a7d5b" category="admonition">此解決方案也可從VMware取得。請造訪 <block ref="e4f8fde8ba3579a04642cf870e6e362f" category="inline-link-macro-rx"></block> 以取得更多資訊。</block>
  <block id="dc32da64b7845bbbf4827a1513cd8daa" category="inline-link-macro">使用ONTAP VMware HCX在AWS SDDC上設定適用於NetApp的FSx混合雲、以及適用於VMware Cloud的VMware Cloud</block>
  <block id="e51f186f2c7dd10d7f4c1196ab269d7c" category="list-text"><block ref="e51f186f2c7dd10d7f4c1196ab269d7c" category="inline-link-macro-rx"></block></block>
  <block id="3cf6cddd26350e6a84e8bef869102647" category="cell">10/25/2022</block>
  <block id="80d05b7bca341d02b41c7f6cb32ad23b" category="cell">新增連結至VMware文件、以將FSX ONTAP 功能當作NFS資料存放區</block>
  <block id="2937ec3775c4b0354bf359a5892c53f7" category="cell">新增使用ONTAP VMware HCX在AWS SDDC上使用FSx功能設定混合雲和VMC的部落格參考資料</block>
  <block id="0676783b7d49061bfb23deb83b2d2f82" category="paragraph">*設定並啟動工作範本。*</block>
  <block id="544348a8f04b16faced725115db5b6f3" category="section-title">為您的環境建立庫存、群組、主機和認證</block>
  <block id="be86ca474df5e14056bc0f20d2cdb767" category="section-title">建立專案</block>
  <block id="d02a79fb6f05358e16f9d9cf02288ac3" category="section-title">設定全域變數</block>
  <block id="3506caa5fe966a4676faac2993bc1431" category="section-title">自動化教戰守則</block>
  <block id="ba985cf3c812e3ba064fedc7353bbb77" category="section-title">恢復Oracle資料庫</block>
  <block id="fb467c38c5af2ca41ea3f09fe535144d" category="list-text">* RO/RW存取規則。*選取「讀取/寫入」或「唯讀」來控制對EXPE/CVs-Performance的存取層級、提供下列選項：</block>
  <block id="b42b7de139bf4398a5d4b048ecf30c9f" category="paragraph">此外Cloud Volumes Service 、支援範圍更廣泛、最多可將支援的群組數量擴充至32個。這需要LDAP連線至包含有效UNIX使用者和群組身分識別的LDAP伺服器。如需設定此項目的詳細資訊、請參閱<block ref="744e76592290230cb7381c9b8a5414da" category="inline-link-rx"></block> 在Google文件中。</block>
  <block id="73867c3747b10f9f7b4b54a4597ff38b" category="paragraph">IAM提供Cloud Volumes Service 內建的精細權限來執行功能。您可以找到<block ref="fefbe49b0be12af5b957eff3a3dc2826" category="inline-link-rx"></block>。</block>
  <block id="00aa2e143f3d3b00e94456b23d239a8d" category="paragraph">請參閱<block ref="5d862676de2107050ea35e71368d2326" category="inline-link-rx"></block> 如需詳細資訊、請參閱Google雲端文件。</block>
  <block id="4a0d70491e56eae6b1e0743d9c3a3777" category="paragraph">利用HTTPS（TLSv1.2）作為基礎網路傳輸、藉此使用REST型API。Cloud Volumes Service您可以找到最新的API定義<block ref="d30245d84ac801bb5beeb0b65de1621d" category="inline-link-rx"></block> 以及如何使用API的相關資訊、請參閱<block ref="00c944b7c7739b905457d5d21be6a7ef" category="inline-link-rx"></block>。</block>
  <block id="f84137720cfd9533352746a01677a6b2" category="paragraph">以類似其他Google Cloud原生服務的方式、例如CloudSQL、Google Cloud VMware Engine（GCVE）和Filestore Cloud Volumes Service 、即用功能<block ref="0f93a99b9e468a051182b66dabbf3bed" category="inline-link-rx"></block> 以提供服務。在PSAA中、服務是建置於服務製造商專案內、此專案使用的<block ref="2d8d4488e7ed7b53a7aafab379ba8587" category="inline-link-rx"></block> 連線至服務使用者。服務製造商由NetApp提供及營運、服務消費者是客戶專案中的VPC、負責託管想要存取Cloud Volumes Service VMware檔案共享的客戶。</block>
  <block id="9448d83a67980a22f2db155347fa277c" category="paragraph">下圖、請參閱<block ref="6a8b5039754626811ee5b8fe5289e273" category="inline-link-rx"></block> 在本文件中Cloud Volumes Service 、顯示了高階檢視。</block>
  <block id="a436da0007911ed6531e093688e82535" category="paragraph">使用共享VPC時、會使用NFS Kerberos和/或進行傳輸中加密 <block ref="639817e82862065dd236f0597e0b07ea" category="inline-link-macro-rx"></block> 可以遮罩從追蹤中收集到的大部分資訊。不過、有些流量仍會以純文字形式傳送、例如 <block ref="c2e2f225386e22bd13a8b4b174f478da" category="inline-link-macro-rx"></block> 和 <block ref="86c1c13023c15e9d9a6317a0b69e7ce3" category="inline-link-macro-rx"></block>。下圖顯示從Cloud Volumes Service 來源於指令集的純文字LDAP查詢擷取的封包、以及可能公開的識別資訊。目前支援透過SSL加密或LDAP的Cloud Volumes Service LDAP查詢不支援。CVS效能支援LDAP簽署（若Active Directory要求）。CVS軟體不支援LDAP簽署。</block>
  <block id="75956b9ee748b806549eeec3c9a81192" category="inline-link"><block ref="75956b9ee748b806549eeec3c9a81192" category="inline-link-rx"></block></block>
  <block id="6c84917a571a2282fd9fb2a6f058a11e" category="paragraph"><block ref="6c84917a571a2282fd9fb2a6f058a11e" category="inline-link-rx"></block></block>
  <block id="5bcf8cb715ebf788ba3e70915f4256c2" category="paragraph">請記住、每個地區只允許一個Active Directory連線。</block>
  <block id="00d6cadb7a586713782bbffe59d5bc21" category="paragraph">透過分割不同端點的服務管理（控制面板）和資料存取（資料面板）、提供Google Cloud中的安全架構、使兩者都不會影響其他端點（請參閱一節）Cloud Volumes Service <block ref="d861c2ffd2960acc200167f08fd40005" category="inline-link-macro-rx"></block>）。它使用Google的<block ref="1ac65cff0d913f26dd36736caeefd5b7" category="inline-link-rx"></block> （PSA）架構以提供服務。此架構可區分由NetApp提供及營運的服務供應商、以及客戶專案中的虛擬私有雲端（VPC）服務消費者、這些客戶是想要存取Cloud Volumes Service VMware檔案共享的客戶。</block>
  <block id="1e21a0f8a8012a10d3db8d473ba52502" category="paragraph">使用LDAP和Kerberos時、您應該判斷這些服務所使用的網路連接埠。您可以在中找到Cloud Volumes Service 一份完整的清單、其中列出了供列舉使用的連接埠<block ref="0dc8f2243f86f97f7b6af9378a496f93" category="inline-link-rx"></block>。</block>
  <block id="811bec2d7b00d479640fbf3259346fe6" category="paragraph">如需設定KMS以獲得CVS效能的相關資訊、請參閱<block ref="a0d8b07d63b271255da3bba6f51651a4" category="inline-link-rx"></block>。</block>
  <block id="c56328227fc3affbe6ed0ef4ba04f494" category="list-text"><block ref="c56328227fc3affbe6ed0ef4ba04f494" category="inline-link-rx"></block></block>
  <block id="c6563340810489dd712f25c2644eaed8" category="list-text"><block ref="c6563340810489dd712f25c2644eaed8" category="inline-link-rx"></block></block>
  <block id="150a343c955aa3114dca2e9c39571ad8" category="paragraph">此外、SMB、含LDAP的NFS（包括Kerberos）及雙傳輸協定組態、都需要存取Windows Active Directory網域。Active Directory連線必須是<block ref="10ec0b3d8ec2c3b73be0dd7483e61c9e" category="inline-link-rx"></block> 以每個區域為基礎。Active Directory網域控制器（DC）是使用來識別<block ref="821541d595f9fee8c67d91aa5da861b4" category="inline-link-rx"></block> 使用指定的DNS伺服器。系統會使用任何傳回的DC。指定Active Directory站台可限制合格的DC清單。</block>
  <block id="7a9b1188e66f0581af9bc76ec3099a55" category="paragraph">使用分配給的CIDR範圍內的IP位址、即可將其移出Cloud Volumes Service<block ref="3102e8199e828cb030b6f0ade5fc2cec" prefix=" " category="inline-code"></block> 命令的同時<block ref="e8e0c669039859d9678de67879e03e1d" category="inline-link-rx"></block>。您可以使用此CIDR做為來源位址、為Active Directory網域控制器設定傳入防火牆。</block>
  <block id="60bb23c83a123fdd2c99980eb34c8f80" category="paragraph">Active Directory網域控制器必須具備<block ref="7b35a292c67c7ee0f89d3dd389e188e4" category="inline-link-rx"></block>。</block>
  <block id="fd313eaaaadfe56df9ec88896284165d" category="paragraph">如需如何設定KMS以獲得CVS效能的詳細資訊、<block ref="905a3b34ffbfe930acdbf23dd47d698f" category="inline-link-rx"></block>。</block>
  <block id="9fd9d0ecc58c5d26f4934bc140ac2a41" category="list-text">CVS效能提供跨區域磁碟區複寫至其他CVS效能磁碟區的功能。如需詳細資訊、請參閱<block ref="ec408a29560fd662bec08bf50f9ff3d6" category="inline-link-rx"></block> 請參閱Cloud Volumes Service 《》文件。</block>
  <block id="6a7870f99b17bbb49636a1e7be9d4be1" category="list-text">CVS軟體提供服務原生Volume備份/還原功能。如需詳細資訊、請參閱<block ref="2377dc7e4548195ed704b70f3ce6250c" category="inline-link-rx"></block> 請參閱Cloud Volumes Service 《》文件。</block>
  <block id="344c8cea0d31ef9e8c7c56863c714a04" category="paragraph">此外、您也可以利用Google Cloud的跨區域複寫（CRR）管理功能、防止惡意的管理動作、例如磁碟區刪除、Snapshot刪除或Snapshot排程變更。這是透過建立自訂角色來完成、這些角色可分隔磁碟區管理員、這些管理員可以刪除來源磁碟區、但不能中斷鏡射、因此無法從CRR管理員刪除目的地磁碟區、因為他們無法執行任何Volume作業。請參閱<block ref="bf2a9ccb864ad3a1fa1ddc1fec02a961" category="inline-link-rx"></block> 關於每個系統管理員群組所允許的權限、請參閱Cloud Volumes Service 《參考資料》文件。</block>
  <block id="99144970696c7e366271871a0e83b6cd" category="paragraph">基於上述所有理由、NetApp Cloud Volumes Service 支援透過提供備份服務<block ref="253601e5d476a508040b734cbc7b3164" category="inline-link-rx"></block>。</block>
  <block id="57e8b261ab803839f73416e368f552bc" category="paragraph">支援的支援功能已內建於支援的選項中。Cloud Volumes Service Cloud Volumes Service使用者可依Cloud Volumes Service 每個Volume啟動「支援功能」備份、以決定要保護的磁碟區。請參閱<block ref="218d9dd384a48541f627c5084c286ade" category="inline-link-rx"></block> 如需備份的相關資訊、請參閱<block ref="d724a11e2928bd8489b8ad8fe1eac94b" category="inline-link-rx"></block>、排程和<block ref="31e05107512c82ef17df4f5c4b3fe0bd" category="inline-link-rx"></block>。</block>
  <block id="de8a90c8653195ed30cc4920de8c7921" category="paragraph">若要管理Cloud Volumes Service 此功能（建立、刪除及還原備份）、使用者必須擁有<block ref="595f329bf934dbc7996bb735e9664896" category="inline-link-rx"></block> 角色：</block>
  <block id="6640e7cef3ca860543c49a5125ba4c5a" category="list-text">使用NFSv4.x的效能優於krb5p、適用於高檔案數工作負載。</block>
  <block id="11eb332ab75184a78c40c9174e16f520" category="paragraph-title">NetApp和VMware：更好地結合在一起</block>
  <block id="58eaebf972358f1cf03d386a4ade1a0f" category="section-title">接下來呢？</block>
  <block id="3603e14740d8edd319e72186341cb0af" category="cell">2022年6月12日</block>
  <block id="48461fa824ae344e0934144c7523c3f6" category="cell">新增7段影片、說明如何在混合雲中使用Amazon FSX儲存設備進行Oracle資料庫現代化</block>
  <block id="954a2b08ded0ca2c881930f5ebeee24a" category="example-title">人工智慧（AI）與現代化資料分析</block>
  <block id="672d7bebe35b300386767050d4222453" category="paragraph">[Underlin]#*影片：AWS和FS6*#採用混合雲進行Oracle現代化</block>
  <block id="deb1d0bb3f3f4ef0121635c0f832a3bf" category="video-title">第1部分：使用案例和解決方案架構</block>
  <block id="369b9aec1beb25441dc7c7fb46bc0fc6" category="video-title">第2a部分：使用自動化的pdb重新配置功能、以最大可用度從內部部署移轉至AWS的資料庫</block>
  <block id="2edb94ef9695015c5cd01fec59bcc782" category="video-title">第2b部分：透過SnapMirror使用BlueXP主控台、將資料庫從內部部署移轉至AWS</block>
  <block id="59fa2b2110d3350efd262bd841c10975" category="video-title">第3部分：自動化資料庫HA/DR複寫設定、容錯移轉、重新同步</block>
  <block id="938d46c61cee67ddb1711167aba9f463" category="video-title">第4a部分：資料庫複製、以SnapCenter 從複製的待機複本中使用EZUI進行開發/測試</block>
  <block id="09b285fbf39efff75f085bbadedde45e" category="video-title">第4b部分：資料庫備份、還原、複製使用SnapCenter 者介面</block>
  <block id="45885d9d91879afc9c37a8b3e046aac4" category="video-title">第4c部分：資料庫備份、利用BlueXP SaaS應用程式備份與還原</block>
  <block id="fe86efdcec6e779b5ef15f62d8f2bc90" category="paragraph-title">Terraform組態檔案、可在AWS上部署NetApp CVO（單一節點執行個體）</block>
  <block id="8c4271e6faf2cea4cfc8e5b7108d8ee9" category="paragraph-title">程序</block>
  <block id="4e91e39d32f2399e7c90059f4eea5684" category="paragraph-title">收件者：</block>
  <block id="93726ca0be25ac3bef0f54da1e20751c" category="paragraph-title">Terraform組態檔案、可在AWS上部署NetApp CVO（HA配對）</block>
  <block id="99661bfb937ca0c49c78878d8d2b0e77" category="paragraph-title">Terraform組態檔案、可在ONTAP AWS上部署NetApp SfSX</block>
  <block id="1538b268d8f3b010dea63370c1a65935" category="paragraph-title">食譜：</block>
  <block id="107933ea485144e916f16cd69884fea6" category="paragraph-title">Terraform組態檔案、可在Azure上部署Anf Volume</block>
  <block id="c2d6144ea47815bb9e1c4e09c0918486" category="paragraph-title">Terraform組態檔案、可在Azure上部署具有資料保護功能的ANF Volume</block>
  <block id="1ed1215fce9948e3bee78c99bf12de8d" category="paragraph-title">Terraform組態檔案、可在Azure上部署含雙傳輸協定的ANF Volume</block>
  <block id="15b915279743f1a43ce2c0f10062e69e" category="paragraph-title">Terraform組態檔案、可在Azure上部署Snapshot的Anf Volume</block>
  <block id="664b1f8a02a683b16bb76004afb03be2" category="paragraph-title">Terraform組態檔案、可在Azure上部署單一節點CVO</block>
  <block id="f06bfa867f111b72b9e71b8a75d661da" category="paragraph-title">Terraform組態檔案、可在Azure上部署CVO HA</block>
  <block id="e10db5a03ff1c5409d1b9ef0cf32ae11" category="paragraph-title">Terraform組態檔案、可在GCP上部署NetApp CVO（單一節點執行個體）</block>
  <block id="1e95e8962dbf55d78e03e8da38f9f408" category="paragraph-title">Terraform組態檔案、可在GCP上部署NetApp CVO（HA配對）</block>
  <block id="f39b5c8ffff4c5fccbc9ca01bf3bacf8" category="paragraph-title">Terraform組態檔案、可在GCP上部署NetApp CVS Volume</block>
  <block id="934282d2b6cc731f63bcc3cdfbba32a1" category="paragraph">根據部署案例、需要部署的Veeam備份伺服器、備份儲存庫和備份Proxy。在此使用案例中、不需要為Veeam部署物件存放區、也不需要橫向擴充儲存庫。<block ref="3798d8f6f1f14581181abe3a5ef34dc1" category="inline-link-rx"></block></block>
  <block id="a94f1b9cbc89a005a38096b1750f907f" category="cell">12/15/2022</block>
  <block id="754451201969a73231c286ef8f4b2fd6" category="cell">新增TR-4923：使用Amazon FSX for NetApp ONTAP 的AWS EC2上的SQL Server</block>
  <block id="f53cfd73e0994740413d578c9dd6b36e" category="doc">TR-4923：使用Amazon FSX for NetApp ONTAP 的AWS EC2上的SQL Server</block>
  <block id="9aeea85747c176482897f26600d172d0" category="paragraph">作者：Pat Sinthusan和Niyazz Mohamed, NetApp</block>
  <block id="8bd093418d226733e085e856bd9165c8" category="paragraph">許多想要將應用程式從內部部署移轉至雲端的公司、發現內部部署儲存系統和雲端儲存服務所提供的功能差異、使這項工作受到阻礙。這種落差使移轉企業應用程式（例如Microsoft SQL Server）的問題更大。尤其是執行企業應用程式所需的服務落差、例如健全的快照、儲存效率功能、高可用度、可靠性及一致的效能、迫使客戶必須在設計上取捨或捨入應用程式移轉。使用適用於NetApp ONTAP 的FSX,客戶不再需要妥協。FSX for NetApp ONTAP 功能是由AWS銷售、支援、計費及完全管理的原生（第一方）AWS服務。NetApp ONTAP 利用NetApp的功能提供相同的企業級儲存與資料管理功能、在AWS中、NetApp已提供30年的內部部署管理服務。</block>
  <block id="f3eec26de1c09022af7c97255f0dfee6" category="inline-link">AWS FSX ONTAP 功能</block>
  <block id="a2f7f68476a76b6aa359589e4d201707" category="paragraph">有了EC2執行個體上的SQL Server、資料庫管理員就能存取及自訂其資料庫環境和基礎作業系統。EC2執行個體上的SQL Server搭配使用<block ref="3f737fd84a60fb425fdcdb5cf9a593da" category="inline-link-rx"></block> 若要儲存資料庫檔案、請使用區塊層級複寫來實現高效能、資料管理、以及簡單易用的移轉路徑。因此、您可以在AWS VPC上執行複雜的資料庫、只需簡單的移轉方法、減少點擊次數、而且不需進行架構轉換。</block>
  <block id="cf79d59896c29cc7579cf75220c25c95" category="section-title">將Amazon FSX for NetApp ONTAP 支援SQL Server的優點</block>
  <block id="8908df00453997edbfc759829ecdf0d8" category="paragraph">適用於NetApp ONTAP 的Amazon FSX是在AWS中部署SQL Server的理想檔案儲存設備。優點包括：</block>
  <block id="7b699f0e1a60e419ed7d9173339aa3f5" category="list-text">一致的高效能與處理量、低延遲</block>
  <block id="8a34b0f2109dd0aad0c0c9976717cdd3" category="list-text">採用NVMe快取的智慧型快取、可提升效能</block>
  <block id="b10e27f9d68e001b8aa9369c8d308a8c" category="list-text">靈活調整規模、讓您能夠即時增加或縮減容量、處理量和IOPs</block>
  <block id="169fee7c17564fc51aa8d2e77bcc1ce0" category="list-text">有效率的內部部署至AWS區塊複寫</block>
  <block id="fd140f04c5bc5f51aff3ea5e1619abaf" category="list-text">iSCSI是資料庫環境的知名傳輸協定</block>
  <block id="e2c00a563e0219fd93fa6f24606dee33" category="list-text">精簡配置和零佔用空間複製等儲存效率功能</block>
  <block id="4ac0316f1ba409d5cd9684222f9f8ada" category="list-text">備份時間從數小時縮短為數分鐘、因此可減少RTO</block>
  <block id="e3168d8a4383357a37460afad2f8878d" category="list-text">運用直覺式NetApp SnapCenter 解決方案、精細備份及還原SQL資料庫</block>
  <block id="935da11069e36e124602b7e23a73ee06" category="list-text">能夠在實際移轉之前執行多項測試移轉</block>
  <block id="15173984ed0ff615a3f0d55c8cd12291" category="list-text">透過檔案層級或I/O層級複本、縮短移轉期間的停機時間、並克服移轉挑戰</block>
  <block id="0de5f8d5cf18757efac074c02f16a0bb" category="list-text">在重大版本或修補程式更新之後找出根本原因、藉此減少MTTR</block>
  <block id="1a8e2e4ef765d6c61c4652659fb151ac" category="paragraph">將SQL Server資料庫部署在FSX ONTAP 支援iSCSI傳輸協定的基礎上、如同內部部署一般、提供理想的資料庫儲存環境、具備優異的效能、儲存效率及資料管理功能。若使用多個iSCSI工作階段（假設工作集大小為5%）、則搭配Flash Cache可透過FSX ONTAP 支援服務提供超過100K的IOPs。此組態可為要求最嚴苛的應用程式提供完整的效能控制。SQL Server在連接至FSX for ONTAP Ef2的較小EC2執行個體上執行、其執行效能與在較大EC2執行個體上執行的SQL Server相同、因為僅會針對FSX ONTAP for S供 更新。減少執行個體的大小也能降低運算成本、提供TCO最佳化的部署。結合使用iSCSI的SQL、SMB3.0與FSXfor ONTAP Ex0上的多通道持續可用度共享、為SQL工作負載提供絕佳的優勢。</block>
  <block id="135b308ed83c53f1516b7c754566d1c4" category="section-title">開始之前</block>
  <block id="365a329d23604298414064b1bd2dba2f" category="paragraph">在ONTAP EC2執行個體上結合Amazon FSX for NetApp及SQL Server、可建立企業級資料庫儲存設計、以滿足現今最嚴苛的應用程式需求。若要最佳化這兩種技術、請務必瞭解SQL Server I/O模式和特性。精心設計的SQL Server資料庫儲存配置可支援SQL Server的效能及SQL Server基礎架構的管理。良好的儲存配置也能讓初始部署成功、並隨著業務成長而持續順暢地擴充環境。</block>
  <block id="800d285a5a8ca10451f7ace50ac40de5" category="paragraph">完成本文中的步驟之前、您必須具備下列先決條件：</block>
  <block id="69a7abd5a400936f0e1a89910dfa0ba1" category="list-text">AWS帳戶</block>
  <block id="bfa061c0e7fe048c571ab15bc8d211a4" category="list-text">適當的IAM角色、以配置EC2和FSXfor ONTAP ESIF</block>
  <block id="a76b04166db341ceee35b584673698e9" category="list-text">EC2上的Windows Active Directory網域</block>
  <block id="3084927119ae63d45676d527dfb4a882" category="list-text">所有SQL Server節點必須能夠彼此通訊</block>
  <block id="b1ada0ca0559fff335d482de393b4c70" category="list-text">確定DNS解析正常、主機名稱可以解析。如果沒有、請使用主機檔案項目。</block>
  <block id="8413178222467ef68eb68a0644f11c42" category="list-text">SQL Server安裝的一般知識</block>
  <block id="9c69c1668eca3541f0576cdc7fc730f0" category="paragraph">此外、請參閱適用於SQL Server環境的NetApp最佳實務做法、以確保最佳的儲存組態。</block>
  <block id="49c805233b94175c188c58ebf681a2b9" category="example-title">EC2上SQL Server環境的最佳實務組態</block>
  <block id="d1d9da06ca1cde6106fef737b522df6e" category="paragraph">有了FSX ONTAP 功能、採購儲存設備是最簡單的工作、而且可以透過更新檔案系統來執行。這項簡單的程序可視需要進行動態成本與效能最佳化、有助於平衡SQL工作負載、同時也是精簡配置的絕佳推手。FSX ONTAP 支援不中斷資源配置是專為執行SQL Server的EC2執行個體所設計、其邏輯儲存空間比檔案系統中的資源配置更多。儲存空間會隨著資料寫入而動態分配給每個Volume或LUN、而非預先配置空間。在大多數組態中、當刪除磁碟區或LUN中的資料（且未被任何Snapshot複本保留）時、也會釋出可用空間。下表提供動態分配儲存設備的組態設定。</block>
  <block id="db1bfba30dab4f1ed4a13cc586837f1b" category="cell">無（預設設定）</block>
  <block id="f6445fd89b0b2c67f0304765c4c9a760" category="cell">LUN保留</block>
  <block id="f1e0735081bab920eff76b08a4600c76" category="cell">分數保留</block>
  <block id="856ee920f3261cadbc1c3fc52171d071" category="cell">0%（預設設定）</block>
  <block id="99c0f62171e34b4ab6a79265f038e3af" category="cell">Snap_Reserve</block>
  <block id="7c68df7d17c446f99304ee1dc1498bfc" category="cell">自動調整規模</block>
  <block id="521c36a31c2762741cf0f8890cbe05e3" category="cell">開啟</block>
  <block id="43c4c1dbc452be91829f25ee32c2a956" category="cell">Volume分層原則</block>
  <block id="6d576caa9862f6db0177dfaff7abb095" category="cell">僅適用於Snapshot</block>
  <block id="e08a486f204620eff1a08fc926316c68" category="paragraph">使用此組態時、磁碟區的總大小可能大於檔案系統中可用的實際儲存容量。如果LUN或Snapshot複本所需的空間大於磁碟區中的可用空間、則磁碟區會自動擴充、佔用包含檔案系統的更多空間。自動擴充功能可讓FSXSf不ONTAP 只自動將磁碟區大小增加至您預先決定的最大大小。包含的檔案系統必須有可用空間、才能支援磁碟區的自動成長。因此、啟用自動擴充功能後、您應該監控內含檔案系統中的可用空間、並視需要更新檔案系統。</block>
  <block id="82373a2016779f9c20fdc0d8b48101a7" category="inline-link">空間分配</block>
  <block id="0126eb1acda2ac795726d8bc5fe76a98" category="paragraph">此外、請設定<block ref="9d6ca3a9a42127525354c85d54adc465" category="inline-link-rx"></block> LUN上的選項設為啟用、以便在ONTAP 磁碟區空間不足、且磁碟區中的LUN無法接受寫入時、FSX功能會通知EC2主機。此外、當ONTAP EC2主機上的SQL Server刪除資料時、此選項可讓FSX for Sf2自動回收空間。空間配置選項預設為停用。</block>
  <block id="afa7be61df3527a5c4b5b7369729dfbc" category="admonition">如果在無保證的磁碟區中建立空間保留LUN、則LUN的運作方式與非空間保留LUN相同。這是因為無保證的磁碟區沒有空間可分配給LUN；磁碟區本身只能在寫入時分配空間、因為其無保證。</block>
  <block id="cf18df2432b44bda18f67ef6fc93e36f" category="paragraph">使用此組態時、FSX- ONTAP 功能區管理員通常可以調整磁碟區的大小、以便管理及監控主機端LUN和檔案系統中的已用空間。</block>
  <block id="3e5fc395bc0727ee4a5d50bf7852e11e" category="admonition">NetApp建議針對SQL伺服器工作負載使用獨立的檔案系統。如果檔案系統用於多個應用程式、請監控檔案系統和檔案系統內磁碟區的空間使用量、以確保磁碟區不會爭用可用空間。</block>
  <block id="9bc03cfd47c7deb1375b7e700fba9c1a" category="admonition">自動刪除選項不會刪除用於建立FlexClone磁碟區的Snapshot複本。</block>
  <block id="20292bb9591bce95b16e6ee1415023d3" category="admonition">對於任務關鍵型應用程式（例如SQL Server）、即使是最短的停機時間、也無法容忍、必須謹慎考量及管理過度使用儲存設備。在這種情況下、最好是監控儲存使用趨勢、以判斷可接受的過度使用量（如果有）。</block>
  <block id="d846da4dd06c448920cac63b79adc614" category="list-text">若要獲得最佳儲存效能、請將檔案系統容量配置為資料庫總使用量的1.5倍。</block>
  <block id="e2ec94309dce197f199c6e60cd3070eb" category="list-text">使用精簡配置時、必須進行適當的監控、並附上有效的行動計畫、以避免應用程式停機。</block>
  <block id="d7fbab8fe0fe681c9e815507bcdf85c8" category="list-text">請務必設定Cloudwatch和其他監控工具警示、以便在儲存設備已滿時、聯絡人員有足夠時間做出反應。</block>
  <block id="626a89ea253e84625436538e7249e94d" category="section-title">設定SQL Server的儲存設備、並部署SnapCenter 用於備份、還原及複製作業的功能</block>
  <block id="0a1c2236044192334a3fb3bbc0ab0dcd" category="paragraph">若要以SnapCenter 支援功能執行SQL Server作業、您必須先為SQL Server建立磁碟區和LUN。</block>
  <block id="0cf06bf086c162ff9027bab7f6f36c93" category="example-title">為SQL Server建立磁碟區和LUN</block>
  <block id="ff6ef44023084895f5f22aaf568ee0e3" category="paragraph">若要為SQL Server建立磁碟區和LUN、請完成下列步驟：</block>
  <block id="0165fcfd32879eacf541aadf086338d2" category="list-text">開啟Amazon FSX主控台、網址為<block ref="977f5adc4374191d0e48b9c0a8830158" category="inline-link-rx"></block></block>
  <block id="1e33ad7579c798ce6033c144ac99b840" category="list-text">使用ONTAP 「建立方法」下的「標準建立」選項、為NetApp的SfxX檔案系統建立Amazon FSX。這可讓您定義FSxadmin和vsadmin認證資料。</block>
  <block id="a83755c47ff9159637d0666c65d8c544" category="paragraph"><block ref="a83755c47ff9159637d0666c65d8c544" category="inline-image-macro-rx" type="image"></block></block>
  <block id="269452df07db5e5d5fb10125ef2dfc42" category="list-text">指定fsxadmin的密碼。</block>
  <block id="0939c7e9185662b3e54503cb12415c7a" category="paragraph"><block ref="0939c7e9185662b3e54503cb12415c7a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="dea5db34596930d023317e03284777e1" category="list-text">指定SVM的密碼。</block>
  <block id="d2b251088e201058dd19119478e04523" category="paragraph"><block ref="d2b251088e201058dd19119478e04523" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e5a504f8d9fd87dc54c0f8a370eed579" category="inline-link">在FSX上建立適用於NetApp ONTAP 的Volume</block>
  <block id="d0ff5f8be38ac60d217f9c007a52da0e" category="list-text">依照中所列的步驟建立Volume<block ref="1146addad8000a8f0f70de9ea1e5f637" category="inline-link-rx"></block>。</block>
  <block id="17288ccd1a2a55fccc24e084bec74a89" category="list-text">停用儲存Snapshot複本排程和保留原則。而是使用NetApp SnapCenter 解決方案來協調SQL Server資料和記錄磁碟區的Snapshot複本。</block>
  <block id="c5023b4b04bc0ddc3d77e81fee7d99bb" category="list-text">在個別磁碟區上設定個別LUN上的資料庫、以運用快速且精細的還原功能。</block>
  <block id="6cb174042332f6d15cedab79c1f88bac" category="list-text">將使用者資料檔（.mdf）放在不同的磁碟區上、因為它們是隨機讀取/寫入工作負載。建立交易記錄備份的頻率通常高於資料庫備份。因此、請將交易記錄檔（.ldf）放在與資料檔案分開的磁碟區上、以便為每個磁碟區建立獨立的備份排程。這種分隔方式也能將記錄檔的連續寫入I/O與資料檔案的隨機讀寫I/O隔離、大幅提升SQL Server效能。</block>
  <block id="0588cef8958d83f61aed452f853f5852" category="list-text">Tempdb是Microsoft SQL Server用來做為暫用工作區的系統資料庫、特別是用於I/O密集的DBCC CECKDB作業。因此、請將此資料庫放在專屬磁碟區上。在磁碟區數是一項挑戰的大型環境中、您可以將Tempdb整合為較少的磁碟區、並在經過仔細規劃之後、將其儲存在與其他系統資料庫相同的磁碟區中。由於每次重新啟動Microsoft SQL Server時都會重新建立此資料庫、因此Tempdb的資料保護並非高優先順序。</block>
  <block id="0f33b537ada1b2dcb95880741120d7b6" category="list-text">使用下列SSH命令建立磁碟區：</block>
  <block id="4272c7e0323a62da36a59d8db2457c11" category="list-text">在Windows伺服器中使用提高的權限、以PowerShell啟動iSCSI服務。</block>
  <block id="91d0d079f1c5a2183c1012cd2c2e59ab" category="list-text">在Windows伺服器中使用提高的權限、以PowerShell安裝多重路徑IO。</block>
  <block id="4dee8d84e86540a5c4c302b3d75c32bc" category="list-text">在Windows伺服器中使用提高的權限、尋找具有PowerShell的Windows啟動器名稱。</block>
  <block id="13aca4cbeddb191f6e28fc3dc5b50aca" category="paragraph"><block ref="13aca4cbeddb191f6e28fc3dc5b50aca" category="inline-image-macro-rx" type="image"></block></block>
  <block id="1fcce0650c7bce1532fc57b6af299dba" category="list-text">使用推桿連線至儲存虛擬機器（SVM）、然後建立iGroup。</block>
  <block id="a260444f9f7265e7da0cffa861246e93" category="list-text">使用下列SSH命令建立LUN：</block>
  <block id="0bf39861d87235a7c094d3de2e3a8840" category="paragraph"><block ref="0bf39861d87235a7c094d3de2e3a8840" category="inline-image-macro-rx" type="image"></block></block>
  <block id="52f5ef787d84b4ec1b5183cffdef5b56" category="list-text">若要使I/O與作業系統分割配置一致、請使用windows_2008做為建議的LUN類型。請參閱<block ref="ff5fd3b71f5cd8b1a4e2fe23ad6d92ae" category="inline-link-rx"></block> 以取得更多資訊。</block>
  <block id="4f10474fd5677d7f5caee5944cfd1a79" category="list-text">使用下列SSH命令將igroup對應至您剛建立的LUN。</block>
  <block id="e9cb77a7f24ef618789f32ace120d069" category="paragraph"><block ref="e9cb77a7f24ef618789f32ace120d069" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0108f548c7bfba3ca19e227db2ad81d9" category="list-text">對於使用Windows容錯移轉叢集的共用磁碟、請執行SSH命令、將相同的LUN對應至屬於所有參與Windows容錯移轉叢集之伺服器的igroup。</block>
  <block id="88c4f29ad54bd37fb1b7a1491b7af990" category="list-text">使用iSCSI目標將Windows Server連線至SVM。從AWS入口網站尋找目標IP位址。</block>
  <block id="547003177db44afb512e9939c282d6c9" category="paragraph"><block ref="547003177db44afb512e9939c282d6c9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="df9eaa73034109b21c143e8c209823c2" category="list-text">從「伺服器管理員」和「工具」功能表中、選取iSCSI啟動器。選取探索索引標籤、然後選取探索入口網站。從上一步提供iSCSI IP位址、然後選取進階。從本機介面卡選取Microsoft iSCSI啟動器。從啟動器IP選取伺服器的IP。然後選取「確定」關閉所有視窗。</block>
  <block id="076e00306637258d0363c74566eb915d" category="paragraph"><block ref="076e00306637258d0363c74566eb915d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8bd432f2fc3bb1fab0023bf42f7b4108" category="list-text">針對SVM的第二個iSCSI IP重複步驟12。</block>
  <block id="5648333e8838336553b385e488639863" category="list-text">選取*「目標*」索引標籤、選取*「連線*」、然後選取*「啟用多重路徑*」。</block>
  <block id="4bff8ed7bd736139029b8aa4f639ccd9" category="paragraph"><block ref="4bff8ed7bd736139029b8aa4f639ccd9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f94de8933712f5d52ca62caf7fef6eb5" category="list-text">為獲得最佳效能、請新增更多工作階段；NetApp建議建立五個iSCSI工作階段。選取*內容*&gt;*新增工作階段**進階*、然後重複步驟12。</block>
  <block id="5636fa6e8685f1da20bf9489bcadc782" category="paragraph"><block ref="5636fa6e8685f1da20bf9489bcadc782" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c762aaec425b12667f2a575012e48905" category="list-text">為每個目標介面設定五個iSCSI工作階段、以獲得最佳效能。</block>
  <block id="72a53f90bcbaa031cad1c79575c53094" category="list-text">設定循環配置資源原則、以獲得最佳的整體iSCSI效能。</block>
  <block id="168b03d713c83578e3c90be8e0a76a8e" category="list-text">格式化LUN時、請確定分區的分配單元大小設為64K</block>
  <block id="a196b0bfd5261a81ff3d40a2043f792c" category="list-text">執行下列PowerShell命令、確認iSCSI工作階段持續存在。</block>
  <block id="58fbf35d4173787943d2fe31aed43341" category="paragraph"><block ref="58fbf35d4173787943d2fe31aed43341" category="inline-image-macro-rx" type="image"></block></block>
  <block id="22ae84abced8e9e1236160d982616772" category="list-text">使用下列PowerShell命令初始化磁碟。</block>
  <block id="ac47df449db0c31d1ba6117a1dd19765" category="paragraph"><block ref="ac47df449db0c31d1ba6117a1dd19765" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b1e9edc2d6e907049df14a10a6fcc404" category="list-text">使用PowerShell執行「Create Partition, and Format Disk」命令。</block>
  <block id="79484e9f2e5f0589c78f273edd80759f" category="paragraph">您可以使用附錄B中的PowerShell指令碼、自動建立Volume和LUNLUN也可以使用SnapCenter 無法開發的功能來建立。</block>
  <block id="d05ae24753b4098046ae8369c5618b97" category="paragraph">一旦定義了磁碟區和LUN、您就必須設定SnapCenter 好支援功能、才能執行資料庫作業。</block>
  <block id="6309043436d4e7e5bad9a81c89ff15e4" category="example-title">概述SnapCenter</block>
  <block id="419a08c6fdce80a29b8f8aeb7524f0e2" category="paragraph">NetApp SnapCenter 支援新一代資料保護軟體、適用於第1層企業應用程式。利用單一窗口管理介面、可自動化並簡化與備份、還原及複製多個資料庫及其他應用程式工作負載相關的手動、複雜且耗時的程序SnapCenter 。NetApp利用NetApp技術、包括NetApp Snapshot、NetApp SnapMirror、SnapMirror和NetApp FlexClone SnapRestore SnapCenter 。這項整合可讓IT組織擴充其儲存基礎架構、滿足日益嚴苛的SLA承諾、並提升整個企業系統管理員的生產力。</block>
  <block id="aa7c84b8a1ac7c27cbd3e14740e96214" category="example-title">伺服器需求SnapCenter</block>
  <block id="4ee08603c9fd8ece4f670310954cdde6" category="paragraph">下表列出在SnapCenter Microsoft Windows Server上安裝支援服務器和外掛程式的最低需求。</block>
  <block id="05bbb43b3d923283e0b6ffafd088f41f" category="cell">元件</block>
  <block id="9b97b7bd5e0a87be7bf218224ada83cf" category="cell">需求</block>
  <block id="44e5a606cb3fbfaed79ce8eb853ed886" category="paragraph">最小CPU數</block>
  <block id="ea54f01387bc5362f6e287ba66d656a8" category="paragraph">四個核心/ vCPU</block>
  <block id="99880291d6a6b72b928a1847a6135c88" category="paragraph">最低：建議使用8GB：32GB</block>
  <block id="96e1506a8b72a455b990ffe403eea2cf" category="paragraph">儲存空間</block>
  <block id="39b4c2fc16a74430850f1b767f816bdd" category="paragraph">安裝所需的最小空間：儲存庫的最小空間為10Gb</block>
  <block id="2e71b3fb71d89f18906d4807a6011e20" category="cell">支援的作業系統</block>
  <block id="00aae0645113cb861020a7a42ded48c2" category="list-text">Windows Server 2012</block>
  <block id="96bc7f42979153694e05a6a2b867772e" category="list-text">Windows Server 2012 R2</block>
  <block id="ed590cb2453f0683b64cb528f78610a2" category="list-text">Windows Server 2016</block>
  <block id="7c01fa88a74580e7e4f62ca6bfe7ee83" category="cell">軟體套件</block>
  <block id="aab81d3c2e898a19cf0f270cdb285a21" category="list-text">NET 4.5.2或更新版本</block>
  <block id="43de0ba571a51d1adc60e6d05ecf8d70" category="list-text">Windows管理架構（WMF4.0或更新版本）</block>
  <block id="fd6133b32592ca288e63c1b1257f656d" category="list-text">PowerShell 4.0或更新版本</block>
  <block id="427d30c4045ae36c0130a14658100185" category="paragraph">如需詳細資訊、請參閱空間和規模需求 <block ref="bcc48263fbca83f546b0bc02edad3f56" category="inline-link-rx"></block></block>
  <block id="a19fb58a9ea7e8409b13e971960fdbf8" category="paragraph">如需版本相容性、請參閱<block ref="b7322bec4509d45107de6de43ca1f517" category="inline-link-rx"></block>。</block>
  <block id="00324c8ea6b2abc68414748e587e15ec" category="example-title">資料庫儲存配置</block>
  <block id="a02dce187534c84aa16d8849406a60eb" category="paragraph">下圖說明使用SnapCenter 還原進行備份時、建立Microsoft SQL Server資料庫儲存配置的一些考量。</block>
  <block id="4c246b141980a6574bc7f111fe7abef7" category="paragraph"><block ref="4c246b141980a6574bc7f111fe7abef7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ebfae4b9e090c4988616a73ffc71415e" category="list-text">將具有I/O密集查詢或大型資料庫大小（例如500GB或以上）的資料庫放在獨立的磁碟區上、以加快還原速度。此磁碟區也應由個別的工作進行備份。</block>
  <block id="4916b57b0128fd5a0a4300f0a8763292" category="list-text">將不太重要或I/O需求較少的中小型資料庫整合至單一磁碟區。備份位於同一個磁碟區中的大量資料庫、可減少需要維護的Snapshot複本數量。這也是整合Microsoft SQL Server執行個體、以使用相同磁碟區來控制備份Snapshot複本數量的最佳實務做法。</block>
  <block id="8db6b23eddd61aa572ca93a39703d4a8" category="list-text">建立獨立的LUN、以儲存完整的文字相關檔案和檔案串流相關檔案。</block>
  <block id="cb11fd215e0c541cb65535e582b9b273" category="list-text">為每個主機指派獨立的LUN、以儲存Microsoft SQL Server記錄備份。</block>
  <block id="48b8325fd70d83c2d4e99987e23b07ef" category="list-text">儲存資料庫伺服器中繼資料組態和工作詳細資料的系統資料庫不會經常更新。將系統資料庫/範本資料放在不同的磁碟機或LUN中。請勿將系統資料庫放在與使用者資料庫相同的磁碟區中。使用者資料庫具有不同的備份原則、而系統資料庫的使用者資料庫備份頻率則不同。</block>
  <block id="1be01a12dc77b3099b16d258c12db3f9" category="list-text">對於Microsoft SQL Server Availability Group設定、請將複本的資料和記錄檔放在所有節點上相同的資料夾結構中。</block>
  <block id="a586cfc38b79b6539a9723b4d2f5af66" category="paragraph">除了將使用者資料庫配置分隔成不同磁碟區的效能優勢之外、資料庫也會大幅影響備份與還原所需的時間。針對資料和記錄檔分別建立磁碟區、可大幅縮短還原時間、相較於裝載多個使用者資料檔案的磁碟區。同樣地、具有高I/O密集應用程式的使用者資料庫也容易增加備份時間。本文件稍後將提供更詳細的備份與還原實務做法說明。</block>
  <block id="7f3611c256fabe67e4d74a6c70cfe9c5" category="admonition">從SQL Server 2012（11.x）開始、系統資料庫（Master、Model、MSDB和TempDB）、而且資料庫引擎使用者資料庫可以安裝SMB檔案伺服器做為儲存選項。這適用於獨立式SQL Server和SQL Server容錯移轉叢集安裝。這可讓您將FSXfor ONTAP Sfor Sfor VMware與其所有效能與資料管理功能搭配使用、包括磁碟區容量、效能擴充性及資料保護功能、讓SQL Server能夠充分發揮這些功能的優勢。應用程式伺服器所使用的共用必須設定為持續可用的屬性集、而且磁碟區應以NTFS安全樣式建立。NetApp SnapCenter 不適用於將資料庫放在來自FSXfor ONTAP Sfor Sfor的SMB共享上。</block>
  <block id="9e45010900186b3cbbe04f954a6f3562" category="admonition">對於不使用SnapCenter 支援功能執行備份的SQL Server資料庫、Microsoft建議將資料和記錄檔放在不同的磁碟機上。對於同時更新和要求資料的應用程式、記錄檔會密集寫入、而且資料檔（視應用程式而定）會密集讀寫。對於資料擷取、不需要記錄檔。因此、您可以從放在自己磁碟機上的資料檔案來滿足資料要求。</block>
  <block id="41a264a984b034248073a80093913e60" category="admonition">當您建立新資料庫時、Microsoft建議您為資料和記錄指定個別的磁碟機。若要在資料庫建立之後移動檔案、資料庫必須離線。如需更多Microsoft建議、請參閱將資料和記錄檔放在不同的磁碟機上。</block>
  <block id="f4ea2029dd0e694cde33838315883930" category="example-title">安裝與設定SnapCenter 以利執行</block>
  <block id="d39d360863f3fda3c5d615dc978e14ae" category="inline-link">安裝SnapCenter 此伺服器</block>
  <block id="1155d165aa176b6275b67036497cd8e6" category="inline-link">安裝SnapCenter 適用於Microsoft SQL Server的功能性外掛程式</block>
  <block id="067f687182a68fccec4a3840e67fc889" category="paragraph">請依照<block ref="4144149cc24a91f915be2d3b14f23c22" category="inline-link-rx"></block> 和<block ref="7e24f6ba39e2c63512c07f20cb1a71c0" category="inline-link-rx"></block> 以安裝及設定SnapCenter 。</block>
  <block id="3ab2ad2898088a813669db2948590562" category="paragraph">安裝SnapCenter 完畢後、請完成下列步驟以進行設定。</block>
  <block id="dd0c654d5a8ede80984b9526335bddc9" category="list-text">若要設定認證資料、請選取*設定*&gt;*新增*、然後輸入認證資訊。</block>
  <block id="ffe0bbfc2c08a0b0e98b92bee5d7a653" category="paragraph"><block ref="ffe0bbfc2c08a0b0e98b92bee5d7a653" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c790771cb60de4cb4a7212e8db25bf3c" category="list-text">選擇「Storage Systems」（儲存系統）&gt;「New」（新增）、然後選擇「提供適當的FSXfor ONTAP the Sfe storage information」（提供適當的FSX以供顯示）</block>
  <block id="28e78cc4b0ec3be7790fc763323de0f6" category="paragraph"><block ref="28e78cc4b0ec3be7790fc763323de0f6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c0e0b904d3c7826b806c48118543142c" category="list-text">選取*主機*&gt;*新增*以新增主機、然後提供主機資訊。自動安裝Windows和SQL Server外掛程式SnapCenter 。此程序可能需要一些時間。</block>
  <block id="0f2c351522362209f5160c4794708c97" category="paragraph"><block ref="0f2c351522362209f5160c4794708c97" category="inline-image-macro-rx" type="image"></block></block>
  <block id="23dd2805cf2d7b26334d0678ab4e99b4" category="paragraph">安裝所有外掛程式之後、您必須設定記錄目錄。這是交易記錄備份所在的位置。您可以選取主機、然後選取「設定記錄目錄」來設定記錄目錄。</block>
  <block id="5c5fb88ff793d01c8b1a283f1ee88749" category="admonition">使用主機記錄目錄來儲存交易記錄備份資料SnapCenter 。這是在主機和執行個體層級。每部SnapCenter 由支援的SQL Server主機都必須設定主機記錄目錄、才能執行記錄備份。由於包含資料庫儲存庫、因此與備份、還原或複製作業相關的中繼資料會儲存在中央資料庫儲存庫中SnapCenter 。</block>
  <block id="0fc057cb39ba1a444dbc365c0161d31f" category="paragraph">主機記錄目錄的大小計算方式如下：</block>
  <block id="e067558831f8381f0970051292e0a02a" category="paragraph">主機記錄目錄大小=（（（系統資料庫大小+（最大DB LDF大小x每日記錄變更率%））x（Snapshot複本保留）÷（1–LUN負荷空間%）</block>
  <block id="1b5bc043867e6da78577571c1070e56a" category="paragraph">主機記錄目錄規模調整公式假設下列項目：</block>
  <block id="fa7afec3a90f55ad9aea3b76f336302f" category="list-text">不含Tempdb資料庫的系統資料庫備份</block>
  <block id="f550013c290c4a21af7974f7440d758a" category="list-text">10%的LUN負荷空間將主機記錄目錄放置在專用的磁碟區或LUN上。主機記錄目錄中的資料量取決於備份的大小和保留備份的天數。</block>
  <block id="83924e370463c681c401f53e2b4b3f2d" category="paragraph"><block ref="83924e370463c681c401f53e2b4b3f2d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bd9dfb7fc6f502e70f86a8c1f2d66aa1" category="paragraph">如果已配置LUN、您可以選取掛載點來代表主機記錄目錄。</block>
  <block id="db38f16eb9374dba4590f05c202fa4a5" category="paragraph"><block ref="db38f16eb9374dba4590f05c202fa4a5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9a708f2af7ec6f7c7ae489cca832c811" category="paragraph">現在您已準備好執行SQL Server的備份、還原和複製作業。</block>
  <block id="7bfeafaf85908b711b618c069c66e99c" category="example-title">利用功能進行資料庫備份SnapCenter</block>
  <block id="fc197cb26aec21d091eb6791c0d7cbff" category="paragraph">將資料庫和記錄檔放在FSX ONTAP 支援LUN上之後、SnapCenter 即可使用支援功能來備份資料庫。下列程序用於建立完整備份。</block>
  <block id="f52f437d3282493fd1855bba366c482a" category="list-text">從技術角度來看、RPO可識別為備份頻率、例如您想要排程備份的頻率、以便將資料遺失減至幾分鐘SnapCenter 。利用此功能、您可以每五分鐘排程一次備份SnapCenter 。不過、在尖峰交易時間、或是在特定時間內資料變更率較高的情況下、備份可能在五分鐘內無法完成。最佳做法是排程頻繁的交易記錄備份、而非完整備份。</block>
  <block id="7b99ea666dfc26516833c088400741e6" category="list-text">有許多方法可以處理RPO和RTO。這種備份方法的另一種方法是針對不同時間間隔的資料和記錄、設定個別的備份原則。例如SnapCenter 、從功能方面來說、排程記錄備份的時間間隔為15分鐘、資料備份的時間間隔則為6小時。</block>
  <block id="14b0febccc904523871b9498c72ab705" category="list-text">使用資源群組來進行Snapshot最佳化的備份組態、以及要管理的工作數。</block>
  <block id="45be64dc5372d4c03684e301633c794c" category="list-text">選擇* Resources（資源）*、然後從左上角的下拉式功能表中選取* Microsoft SQL Server *。選擇*重新整理資源*。</block>
  <block id="94cc612f3fcbd977b78ea3b7a422c531" category="paragraph"><block ref="94cc612f3fcbd977b78ea3b7a422c531" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3b8d60492f611ef339bf79fdbeb56dda" category="list-text">選取要備份的資料庫、然後選取*下一步*和（*+*）以新增原則（如果尚未建立原則）。遵循*新的SQL Server備份原則*來建立新原則。</block>
  <block id="d99e4391045a563d9d1d2d78ddd2417a" category="paragraph"><block ref="d99e4391045a563d9d1d2d78ddd2417a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="89f2e11b6c9317605c01622834d4853d" category="list-text">必要時選取驗證伺服器。此伺服器SnapCenter 是在建立完整備份後執行DBCC CHECKDB的伺服器。按*下一步*以取得通知、然後選取*摘要*以檢閱。檢閱後、按一下*完成*。</block>
  <block id="fc2d6f88564b6e12fc40b19f28b7420d" category="paragraph"><block ref="fc2d6f88564b6e12fc40b19f28b7420d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="919295932fd1084fb39c4a1be23b37ed" category="list-text">按一下*立即備份*以測試備份。在快顯視窗中、選取*備份*。</block>
  <block id="93598d1ad688123817fda7d22fa0ac82" category="paragraph"><block ref="93598d1ad688123817fda7d22fa0ac82" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9c738a74e68034a98f4a38a1b41ef2d4" category="list-text">選取*監控*以驗證備份是否已完成。</block>
  <block id="710fa04917c218b834664e1f0d37a48c" category="paragraph"><block ref="710fa04917c218b834664e1f0d37a48c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="67459542a38abe56e00d4512bb475f05" category="list-text">從SnapCenter 支援資料中備份交易記錄備份、以便SnapCenter 在還原過程中、能夠自動讀取所有備份檔案並依序還原。</block>
  <block id="54d8d459dfb725a307f3bb54495de3e3" category="list-text">如果使用協力廠商產品進行備份、請選取SnapCenter 「在支援中複製備份」以避免記錄順序問題、並在開始正式作業之前測試還原功能。</block>
  <block id="83b7215bcd7cc73d11f34b95b4026718" category="example-title">還原資料庫SnapCenter</block>
  <block id="7172cc34c1510c3891870c7c009c94e1" category="paragraph">在ONTAP EC2上搭配使用FSX功能搭配SQL Server的主要優點之一、就是能夠在每個資料庫層級執行快速且精細的還原。</block>
  <block id="5afcacb3783eeead2b5317d1c455b3bc" category="paragraph">請完成下列步驟、使用SnapCenter 下列功能將個別資料庫還原至特定時間點、或直到現在。</block>
  <block id="a028f8b44f91b1338df98ed3237d093a" category="list-text">選取「資源」、然後選取您要還原的資料庫。</block>
  <block id="b5f8165159678d41fab115d5a8f013d2" category="paragraph"><block ref="b5f8165159678d41fab115d5a8f013d2" category="inline-image-macro-rx" type="image"></block></block>
  <block id="eb395b310e199ca7ef6b36360302bc50" category="list-text">選取需要還原資料庫的備份名稱、然後選取「還原」。</block>
  <block id="e99d25ac3998e8701f51a1990c8d8785" category="list-text">請遵循*還原*快顯視窗來還原資料庫。</block>
  <block id="8bdb6d6fe719d2506b9b5f86bda88b43" category="list-text">選取*監控*以驗證還原程序是否成功。</block>
  <block id="e445e84ca78cd7f21cdd70356d211583" category="paragraph"><block ref="e445e84ca78cd7f21cdd70356d211583" category="inline-image-macro-rx" type="image"></block></block>
  <block id="459c0a4ca065bbbedc6304d4c6903cc5" category="example-title">對於擁有大量小型到大型資料庫的執行個體來說、請考量這些考量</block>
  <block id="0be8a2d7e2996a1641824fa4250d2fd3" category="paragraph">在資源群組中的執行個體或執行個體群組中、可備份大量的大型資料庫SnapCenter 。資料庫的大小並不是備份時間的主要因素。備份的持續時間可能會因每個磁碟區的LUN數量、Microsoft SQL Server上的負載、每個執行個體的資料庫總數、特別是I/O頻寬和使用量而有所不同。在將原則設定為從執行個體或資源群組備份資料庫時、NetApp建議您將每個Snapshot複本備份的資料庫上限限制為每個主機100個。請確定Snapshot複本的總數未超過1,023個複本限制。</block>
  <block id="33f3c567c61942e461392756abce64dc" category="paragraph">NetApp也建議您將資料庫數量分組、而非為每個資料庫或執行個體建立多個工作、以限制平行執行的備份工作。為使備份持續時間達到最佳效能、請將備份工作數量減至一次可備份100個或更少資料庫的數量。</block>
  <block id="ea2e6af969539b040884e9a2ec1fcb49" category="paragraph">如前所述、I/O使用率是備份程序的重要考量因素。備份程序必須等到資料庫上的所有I/O作業都完成之後、才會靜止。具有高度密集I/O作業的資料庫應延後至其他備份時間、或應與其他備份工作隔離、以免影響要備份之相同資源群組中的其他資源。</block>
  <block id="e5ad8f936997e1328b1b169bf5c6cc8b" category="paragraph">對於每個執行個體有六個Microsoft SQL Server主機託管200個資料庫的環境、假設每個主機有四個LUN、每個建立的磁碟區有一個LUN、請將完整備份原則設定為每個Snapshot複本備份的資料庫上限為100。每個執行個體上有200個資料庫會配置成200個資料檔案、平均分散在兩個LUN上、200個記錄檔則平均分散在兩個LUN上、每個磁碟區每個LUN 100個檔案。</block>
  <block id="7804dbf4b7a37ec699db9a31f21bbea7" category="paragraph">建立三個資源群組來排程三個備份工作、每個群組兩個執行個體、總共包含400個資料庫。</block>
  <block id="e2ba702320599667af2b18f0fad307e0" category="paragraph">同時執行三個備份工作、可同時備份1、200個資料庫。視伺服器負載和I/O使用量而定、每個執行個體的開始和結束時間可能會有所不同。在此情況下、總共會建立24個Snapshot複本。</block>
  <block id="2d0d5c636161f9ca31c8ffbfa5ee5d7c" category="paragraph">除了完整備份、NetApp建議您為關鍵資料庫設定交易記錄備份。確定資料庫內容已設定為完整還原模式。</block>
  <block id="aac1148375449745ddbbe1709a2375f5" category="list-text">請勿將Tempdb資料庫包含在備份中、因為它所包含的資料是暫時性的。將Tempdb放在不會建立Snapshot複本的LUN或儲存系統磁碟區中的SMB共用區上。</block>
  <block id="16c5de1581b82a1f8657a3a98ac8fd34" category="list-text">具有高I/O密集應用程式的Microsoft SQL Server執行個體應隔離在不同的備份工作中、以縮短其他資源的整體備份時間。</block>
  <block id="a9a558ac49f24a2b078812205f07179c" category="list-text">將要同時備份的資料庫集限制為約100個、然後將剩餘的資料庫備份集交錯配置、以避免同時執行程序。</block>
  <block id="68086c26b8c1644dfe6ea7d6fb859641" category="list-text">在資源群組中使用Microsoft SQL Server執行個體名稱、而非使用多個資料庫、因為每當在Microsoft SQL Server執行個體中建立新的資料庫時SnapCenter 、即可自動考慮使用新的資料庫進行備份。</block>
  <block id="5e5d80c17369e70061349fffb43b0aa8" category="list-text">如果您變更資料庫組態、例如將資料庫還原模式變更為完整還原模式、請立即執行備份、以便執行最新的還原作業。</block>
  <block id="3dce7613a0d76dcf6fcb8e1daf396bbb" category="list-text">無法還原在無法還原的情況下建立的交易記錄備份SnapCenter SnapCenter 。</block>
  <block id="0007de7aba408b88984eb8eb18044303" category="list-text">複製FlexVol 完實體磁碟區時、請確定您有足夠的空間可用於複製中繼資料。</block>
  <block id="9416a94214ef699335d78087cd9f12c6" category="list-text">還原資料庫時、請確定磁碟區上有足夠的可用空間。</block>
  <block id="86e3f69ee9647210c14858984e2649ef" category="list-text">建立獨立原則、每週至少管理及備份一次系統資料庫。</block>
  <block id="330337562cd623f5deb5908d4e8af736" category="example-title">利用SnapCenter 功能複製資料庫</block>
  <block id="0a6bfc2082e52dc96430a6b7c0dfc7e7" category="paragraph">若要將資料庫還原至開發或測試環境的其他位置、或建立複本以供商業分析之用、NetApp最佳實務做法是運用複製方法、在同一個執行個體或替代執行個體上建立資料庫複本。</block>
  <block id="0f462cc9e20017ed0597a6a199f57035" category="paragraph">將500 GB的資料庫複製到裝載於FSXfor ONTAP the Sfor the Sof the S還原 環境的iSCSI磁碟上、通常需要不到五分鐘的時間。複製完成後、使用者即可在複製的資料庫上執行所有必要的讀寫作業。磁碟掃描（磁碟零件）大部分時間都會耗用。無論資料庫的大小為何、NetApp複製程序通常只需不到2分鐘的時間。</block>
  <block id="886ef20e3049a00bc0d9a1c734bb90da" category="paragraph">資料庫的複製可使用雙重方法執行：您可以從最新的備份建立複本、也可以使用複製生命週期管理、以便在次要執行個體上提供最新的複本。</block>
  <block id="870999fc556eadefd7740857b96209c3" category="paragraph">利用此功能、您可以將複製複本掛載到所需的磁碟上、以便在次要執行個體上維持資料夾結構的格式、並繼續排程備份工作SnapCenter 。</block>
  <block id="b2face8e1d4561b0ed5b594bfc4c0063" category="example-title">將資料庫複製到同一個執行個體中的新資料庫名稱</block>
  <block id="4a3135e25926365f40a59fd88af69a44" category="paragraph">下列步驟可用於將資料庫複製到同一個在EC2上執行的SQL Server執行個體中的新資料庫名稱：</block>
  <block id="4655b3c9fecfc4d22a59068929be2bec" category="list-text">選取「資源」、然後選取需要複製的資料庫。</block>
  <block id="944b75c61851b0ebc427a8aedc83d6f3" category="list-text">選取您要複製的備份名稱、然後選取Clone（複製）。</block>
  <block id="83d2194c2b06657769054af057f16b0a" category="list-text">依照備份視窗中的複製指示完成複製程序。</block>
  <block id="8fb624c33e03c9d016909a11c669125d" category="list-text">選取「監控」以確定複製已完成。</block>
  <block id="0b075fd84c4c4a47346b99d43f9260be" category="example-title">將資料庫複製到EC2上執行的新SQL Server執行個體</block>
  <block id="9451e65c3b1fc3fc6cf89a3fc9cf3cfd" category="paragraph">下列步驟可用來將資料庫複製到EC2上執行的新SQL Server執行個體：</block>
  <block id="479cb4cd4ee76801e360aa03ddc20a3a" category="list-text">在同一個VPC的EC2上建立新的SQL Server。</block>
  <block id="163733cab5060ba4621bb642ba3870a0" category="list-text">啟用iSCSI傳輸協定和MPIO、然後ONTAP 依照「Create volume and LUNs for SQL Server（為SQL Server建立磁碟區和LUN）」一節中的步驟3和4、設定連接至FSXfor支援。</block>
  <block id="918269b8806c56ca4a0910482994e142" category="list-text">依照步驟3「安裝及設定以供使用」一節中的步驟3、在EC2上新增SQL Server SnapCenter SnapCenter 。</block>
  <block id="e7130318e065eddd45ec86565b727731" category="list-text">選取資源&gt;檢視執行個體、然後選取重新整理資源。</block>
  <block id="8be42b1e845c00bcb04c11269072f895" category="list-text">選取「資源」、然後選取您要複製的資料庫。</block>
  <block id="459801927d3c0bd5ddec9c1513f213ec" category="list-text">選取您要複製的備份名稱、然後選取「Clone（複製）」。</block>
  <block id="030603235fe06c85ee75276379fe5baa" category="paragraph"><block ref="030603235fe06c85ee75276379fe5baa" category="inline-image-macro-rx" type="image"></block></block>
  <block id="45d50db35e68c1259b414779e24fdbf5" category="list-text">依照從備份複製的指示、在EC2和執行個體名稱上提供新的SQL Server執行個體、以完成複製程序。</block>
  <block id="78c549c0e0fcfc0dd6bb0c2e3a09a79f" category="paragraph"><block ref="78c549c0e0fcfc0dd6bb0c2e3a09a79f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="20606e28a0d567be1dabd5cf50a2dc3b" category="section-title">附錄</block>
  <block id="16dfbb688028526582ec31ab802b9589" category="example-title">附錄A：適用於雲端形成範本的Y反 洗錢檔案</block>
  <block id="4c76ae47de51751cc57a4033d14f2f2a" category="paragraph">下列.yaml檔案可與AWS主控台的雲端形成範本搭配使用。</block>
  <block id="76f249edcff2b74fcc17020455372f1b" category="inline-link"><block ref="76f249edcff2b74fcc17020455372f1b" category="inline-link-rx"></block></block>
  <block id="57ea11aec1064892e5db378204f829c4" category="list-text"><block ref="57ea11aec1064892e5db378204f829c4" category="inline-link-rx"></block></block>
  <block id="f6d8279768d195862ae69a3df8dd51ab" category="inline-link">此GitHub連結</block>
  <block id="4d39c6875a330594fc8521c48cadd7f6" category="paragraph">若要使用SnapCenter PowerShell自動建立iSCSI LUN及NetApp更新安裝、請從複製repo<block ref="445e758235a70998ddfcd1531f3ae35b" category="inline-link-rx"></block>。</block>
  <block id="00867e5f5ae22280c11a2626b65e657b" category="example-title">附錄B：用於配置磁碟區和LUN的PowerShell指令碼</block>
  <block id="0826ee2b94a579e02e80bfcdf26c5648" category="paragraph">下列指令碼可用來配置磁碟區和LUN、也可根據上述指示來設定iSCSI。有兩個PowerShell指令碼：</block>
  <block id="81e24f41fbaff249c9819985065173e3" category="list-text"><block ref="2a9a99327bbfb47d37ee76307e959506" prefix="" category="inline-code"></block></block>
  <block id="2ca8201f2a50e4aec0e5ba21f6afed4d" category="list-text"><block ref="d78c8f4fe63dbe3ffd666bbbaf054cd7" prefix="" category="inline-code"></block></block>
  <block id="6385631c0b330c166b540183cec5af78" category="paragraph">執行檔案<block ref="d2dd03515102971189549a37cb42eb14" prefix=" " category="inline-code"></block> 第一個指令碼和第二個指令碼會在伺服器重新開機後自動執行。由於SVM的認證存取權、這些PowerShell指令碼在執行後即可移除。</block>
  <block id="d82c21a48349085e4fd93fb6712e3789" category="inline-link"><block ref="d82c21a48349085e4fd93fb6712e3789" category="inline-link-rx"></block></block>
  <block id="c745303ee8000be162517c239783af70" category="paragraph"><block ref="c745303ee8000be162517c239783af70" category="inline-link-rx"></block></block>
  <block id="c6e485d51bc9da63bcac29189dac0f3c" category="list-text">FSX for NetApp ONTAP 功能入門</block>
  <block id="90572737558e59a2ecdd4618af07d6f3" category="inline-link"><block ref="90572737558e59a2ecdd4618af07d6f3" category="inline-link-rx"></block></block>
  <block id="7545caf3d97477d3c569d56c512074fa" category="paragraph"><block ref="7545caf3d97477d3c569d56c512074fa" category="inline-link-rx"></block></block>
  <block id="ad65cae8cf2bbd15ac77769974a440ce" category="list-text">概述整個過程SnapCenter</block>
  <block id="59cbc11e5ccd87939e1b70af73ec1f01" category="inline-link"><block ref="c0a7623803fcfb4ac66342d4ae76ffff" category="inline-link-rx"></block></block>
  <block id="7ab2e91ecb30982855aa0dde8b78a361" category="paragraph"><block ref="89ba280df4e8c5cfd9bcd0f8c80d8ba5" category="inline-link-rx"></block></block>
  <block id="1bdf7559e69b81c007496a063e71bca0" category="list-text">瀏覽SnapCenter 功能表瀏覽功能窗格選項</block>
  <block id="6d5097a2c320359a8d212d07ea067dac" category="inline-link"><block ref="6d5097a2c320359a8d212d07ea067dac" category="inline-link-rx"></block></block>
  <block id="e0ae39eeb7c7d78d56a1292229d1277a" category="paragraph"><block ref="e0ae39eeb7c7d78d56a1292229d1277a" category="inline-link-rx"></block></block>
  <block id="d29a9430434c2654cce06036a4a478b2" category="list-text">安裝SnapCenter 適用於SQL Server外掛程式的BIOS 4.0</block>
  <block id="520419781af4d13a8b33c054a304985b" category="inline-link"><block ref="520419781af4d13a8b33c054a304985b" category="inline-link-rx"></block></block>
  <block id="c2580a05e81a19c4b782e51932415e30" category="paragraph"><block ref="c2580a05e81a19c4b782e51932415e30" category="inline-link-rx"></block></block>
  <block id="f781a682aea107fb2cdda3a0c1fd3ac5" category="list-text">如何使用SnapCenter SQL Server外掛程式的支援功能來備份及還原資料庫</block>
  <block id="285a27614fdeee7f22969646d33edc95" category="inline-link"><block ref="285a27614fdeee7f22969646d33edc95" category="inline-link-rx"></block></block>
  <block id="e1685ff793f13bbd2956f2156b0d5a67" category="paragraph"><block ref="e1685ff793f13bbd2956f2156b0d5a67" category="inline-link-rx"></block></block>
  <block id="c8e300ff66d94fe7668ff8d5d5e7f1c3" category="list-text">如何使用SnapCenter SQL Server外掛程式的功能來複製資料庫</block>
  <block id="e482c7b116916a3d87aba2ab1365190b" category="inline-link"><block ref="e482c7b116916a3d87aba2ab1365190b" category="inline-link-rx"></block></block>
  <block id="b916fd292760d6ae01e337bf2a132edb" category="paragraph"><block ref="b916fd292760d6ae01e337bf2a132edb" category="inline-link-rx"></block></block>
  <block id="5d0dd45a93153403c2446a809dcb5fc3" category="sidebar">SQL Server on AWS EC2使用Amazon FSX for NetApp ONTAP 解決方案</block>
  <block id="dc406f8350f51d99347d8d026c0435a5" category="list-text">總而言之、從旋轉式磁碟移轉至All Flash可改善效能。運算節點的數量並不是瓶頸。有了NetApp All Flash儲存設備、執行時間效能可大幅擴充。</block>
  <block id="67c8804409fa1f91b1b477b7c99d1d71" category="paragraph">作者：Chris Reno、Josh Powell和Suresh Thopp付款- NetApp解決方案工程</block>
  <block id="37242160d8bbd9ad700322c3c2499272" category="section-title">假設、先決條件和元件總覽</block>
  <block id="3ea8c755cca91dd6bbeec88e906263e9" category="paragraph">在部署此解決方案之前、請先檢閱元件的總覽、部署解決方案所需的先決條件、以及記錄此解決方案時所做的假設。</block>
  <block id="7bcf43f481a8076036689561dce0e62d" category="inline-link-macro">災難恢復解決方案要求、預先要求和規劃</block>
  <block id="684b2b80ca970225e77585d96775fc95" category="section-title">使用SnapCenter NetApp執行災難恢復</block>
  <block id="782f10deb2809cc33e0082dbe9371f9b" category="paragraph">登入主控台之後、您必須設定SnapCenter 支援備份SQL Server和Oracle資料庫的功能。</block>
  <block id="cf5c2d1e726e35ab57a75901cde43919" category="example-title">部署次要Veeam備份與擴大機；複寫伺服器</block>
  <block id="2b0e654aa884c8c50887b2eff59bc68f" category="example-title">設定次要Veeam備份與擴大機；複寫伺服器</block>
  <block id="ed8b9b5c064b716d4c1d3f30a595410f" category="example-title">Veeam備份與擴大機；複寫</block>
  <block id="42c8c901c8d4c00c90f9f66d69df3cdb" category="example-title">Veeam備份&amp;amp;複寫伺服器</block>
  <block id="17f0b02d31e76cb9b2878b4a08f19eb5" category="example-title">Veeam備份與擴大機；複寫組態</block>
  <block id="53f8aa6361303e58854a4451a706df5e" category="doc">WP-7755：SnapCenter VMware vSphere中的VMware外掛程式-產品安全性</block>
  <block id="ae9e79ac4b60eba67cf1c7508417b42c" category="paragraph">適用於VMware vSphere軟體工程的NetApp SnapCenter 支援外掛程式使用下列安全開發活動：</block>
  <block id="b25a1098aff7d0c5ee590f1e1a114bb9" category="list-text">*動態應用程式安全性測試（dast）。*專為偵測應用程式執行狀態中的易受影響狀況而設計的技術。Dast會測試開放Web應用程式的公開HTTP和HTML介面。</block>
  <block id="6cc1fee6b4fc48755d78e93170bbed93" category="list-text">*協力廠商程式碼貨幣。*在開發軟體及使用開放原始碼軟體（開放原始碼軟體）的過程中、必須解決與產品整合的開放原始碼軟體（開放原始碼軟體）相關的安全性弱點。這是一項持續努力、因為開放源碼軟體會元件的版本可能隨時報告新發現的弱點。</block>
  <block id="87bd0fb9b4198f33535e0e1888a809f5" category="list-text">*滲透測試。*滲透測試是評估系統、Web應用程式或網路以找出攻擊者可能利用的安全性弱點的程序。NetApp的滲透測試（筆測試）是由一群獲核准且值得信賴的第三方公司進行。其測試範圍包括利用精密的利用方法或工具、對惡意入侵者或駭客等應用程式或軟體發動攻擊。</block>
  <block id="e3a3be4b4b04c5e0b6a5f1b5ea388380" category="list-text">*產品安全性事件回應活動。*安全性弱點會在公司內部和外部發現、如果無法及時解決、可能會對NetApp的聲譽造成嚴重風險。為了推動此程序、產品安全性事件回應團隊（PSIRT）會報告並追蹤弱點。</block>
  <block id="e91db3b3278f7bd95cc704d74c5c9597" category="paragraph">適用於VMware vSphere的NetApp SnapCenter VMware vCenter外掛程式在每個版本中都包含下列安全功能：</block>
  <block id="4abd7d1d5d223683d3346671efb7e89c" category="list-text">*受限的Shell存取。* SSH預設為停用、且只有在從VM主控台啟用時、才允許一次性登入。</block>
  <block id="8c264fa5ca2c588d960d98bd30cbc897" category="list-text">*登入橫幅中的存取警告。*使用者在登入提示中輸入使用者名稱後、會顯示下列登入橫幅：</block>
  <block id="0d6633ada3a9803e206b2359d859e892" category="paragraph">使用者透過SSH通道完成登入後、會顯示下列輸出：</block>
  <block id="83e463bb73b12d9ca6e419327073c8a4" category="list-text">*角色型存取控制（RBAC）。*有兩種RBAC控制項與NetApp ONTAP 支援工具相關：</block>
  <block id="b883bf79639dfce77e395b8458ee69e4" category="list-text">原生vCenter Server權限。</block>
  <block id="721796b1cb3468f0daf819180184d460" category="inline-link">角色型存取控制（RBAC）</block>
  <block id="1d08c46b7567a29be0690a92b9722a58" category="list-text">VMware vCenter外掛程式特定權限。如需詳細資訊、請參閱<block ref="f351263ad3706bd0a472039400dece78" category="inline-link-rx"></block>。</block>
  <block id="acab4c655c4a7b4db67fc07e22b86222" category="list-text">*加密的通訊通道。*所有外部通訊都是使用TLS透過HTTPS進行。</block>
  <block id="47a37e2d5fc8b7c936ad9b2b7a569a08" category="paragraph">下表提供開放連接埠詳細資料。</block>
  <block id="10bd16a816f831080065e807daa36a9a" category="cell">TCP v4/v6連接埠號碼</block>
  <block id="d4a973e303ec37692cc8923e3148eef7" category="cell">8080</block>
  <block id="2c25c3d66f80eeaa8d6e5a144c6f942e" category="cell">用於OVA GUI的HTTPS連線</block>
  <block id="14b3e670eec63cc0cc456fd904bbfbd9" category="cell">SSH（預設為停用）</block>
  <block id="16fc18d787294ad5171100e33d05d4e2" category="cell">3306.</block>
  <block id="4cbf9c234f6b34c242a110cb993252bd" category="cell">MySQL（僅限內部連線；預設為停用外部連線）</block>
  <block id="29ab4efbdb7c727c81ee1382593bc5e2" category="cell">Ngin像（資料保護服務）</block>
  <block id="89f152cad33314315b4995ed1ca71535" category="inline-link">如何建立及/或將SSL憑證匯入SnapCenter VMware vSphere（選擇控制器）的VMware外掛程式</block>
  <block id="450adc59e39f23172756ac9369494a2d" category="list-text">*支援憑證授權單位（CA）簽署的憑證。* SnapCenter VMware vSphere的支援外掛程式支援CA簽署憑證的功能。請參閱<block ref="9f83d87d5d9f604d96288df21d450fac" category="inline-link-rx"></block>。</block>
  <block id="05a1aa8021df4579874c4eeb8788e5c9" category="list-text">*密碼原則。*下列密碼原則有效：</block>
  <block id="2c87609dbbc3630573c64e271de8207d" category="list-text">所有認證資訊均使用SHA256雜湊來儲存。</block>
  <block id="0f1a6fa0a65f9d5c3c4a16b070104d7a" category="list-text">*基本作業系統映像*。*本產品隨附適用於OVA的Debian基礎作業系統、存取受限且停用Shell存取。如此可減少攻擊佔用空間。每SnapCenter 個發行版基礎作業系統都會更新最新的安全修補程式、以達到最大的安全覆蓋範圍。</block>
  <block id="83cd5867ba912e517fa1100299fd1cf3" category="paragraph">NetApp針對SnapCenter VMware vSphere應用裝置開發有關VMware vSphere外掛程式的軟體功能與安全性修補程式、然後將其作為套裝軟體平台發佈給客戶。由於這些應用裝置包括特定的Linux子作業系統相依性、以及我們的專屬軟體、因此NetApp建議您不要變更子作業系統、因為這會對NetApp應用裝置造成重大影響。這可能會影響NetApp支援應用裝置的能力。NetApp建議測試及部署我們最新的應用裝置程式碼版本、因為這些版本已發行以修補任何與安全性相關的問題。</block>
  <block id="e50e258ecc9eaa88d6c653c3a24cb319" category="cell">2022年3月</block>
  <block id="3107c066ea7eeb48bd5f87594a08fd7a" category="paragraph">&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;部門主管我們在NetApp AFF 支援的儲存控制器和E系列儲存控制器上執行Hadoop儲存分層驗證、其中採用不同儲存原則的SSD和SAS磁碟機。配備AFF-A800的Spark叢集有四個運算工作者節點、而採用E系列的叢集則有八個節點。這主要是比較固態硬碟（SSD）與硬碟（HDD）的效能。</block>
  <block id="dba657bcaa661bcf5461e260c00e4f06" category="paragraph">我們在NetApp AFF 支援的儲存控制器和E系列儲存控制器上執行Hadoop儲存分層驗證、其中的SSD和SAS磁碟機具有不同的儲存原則。配備AFF-A800的Spark叢集有四個運算工作者節點、而採用E系列的叢集則有八個節點。我們主要是為了比較固態硬碟與硬碟的效能。&gt;&gt;&gt;a51c9ddf73ca69e1120ce05edc7b0b9607b96eae</block>
  <block id="f14f651fb8150de92c527d88344df494" category="list-text">使用TeraSort時、SSD組態的資料排序速度比NL-SAS組態快1TB（1138.36）。此外、SSD組態使用一半的運算節點、一半的磁碟機（總共24個SSD磁碟機）。因此、每個磁碟機的速度約比NL-SAS組態快三倍。&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;標題</block>
  <block id="52be2edb04819f386804af38bd53a55d" category="list-text">現在、我們正從旋轉式磁碟移轉至All Flash、以提升效能。運算節點的數量並不是瓶頸。有了NetApp的All Flash儲存設備、執行時間效能可大幅擴充。</block>
  <block id="8cc25131075ed11b8263304fceebc5c6" category="list-text">有了NFS、資料在功能上等同於全部集合在一起、因此可根據您的工作負載減少運算節點的數量。在變更運算節點數量時、Apache Spark叢集使用者不需要手動重新平衡資料。</block>
  <block id="6ed171c4fe1ca516676ea457d91105b1" category="list-text">有了NFS、資料在功能上等同於全部集合在一起、因此可根據您的工作負載減少運算節點的數量。在變更運算節點數量時、Apache Spark叢集使用者不需要手動重新平衡資料。&gt;&gt;&gt;a51c9ddf73ca69e1120ce05edc7b0b9607b96eae</block>
  <block id="2668a3fec665f31a26e9e428b4ee62a7" category="sidebar">VMware vSphere內建程式：產品安全性SnapCenter</block>
  <block id="50b6e1c7f2e81842d993d8ce88acc979" category="summary">支援所有用於虛擬化的主要儲存傳輸協定、例如適用於SAN環境的iSCSI、Fibre Channel（FC）、Fibre Channel over Ethernet（FCoE）或Non-volatile Memory Express over Fibre Channel（NVMe / FC）、以及用於來賓連線的NFS（v3和v4.1）、以及SMB或S3。ONTAP客戶可以自由挑選最適合其環境的產品、並視需要在單一系統上結合各種通訊協定。</block>
  <block id="d7a198a9254afae95101f5ba8a96e769" category="paragraph">支援所有用於虛擬化的主要儲存傳輸協定、例如適用於SAN環境的iSCSI、Fibre Channel（FC）、Fibre Channel over Ethernet（FCoE）或Non-volatile Memory Express over Fibre Channel（NVMe / FC）、以及用於來賓連線的NFS（v3和v4.1）和SMB或S3 ONTAP 。客戶可以自由挑選最適合其環境的產品、並視需要在單一系統上結合各種通訊協定。例如、您可以利用幾個iSCSI LUN或來賓共用區來擴大NFS資料存放區的一般使用。</block>
  <block id="2df283d70436fd2d0a853af9fae00a91" category="list-text">* NetApp Snapshot複本* ONTAP 。*當您建立或使用Snapshot複本時、此功能可即時提供VM或資料存放區的Snapshot複本、但效能不受影響。它們可用於在修補之前為VM建立還原點、或是用於簡單的資料保護。請注意、這些快照與VMware（一致性）快照不同。製作ONTAP 「VMware vSphere SnapCenter 」的「VMware vSphere」的「VMware外掛程式」可用來備份VM和資料存放區、是最簡單的方法。</block>
  <block id="0fed44d392929d099987f70fe23074b4" category="list-text">* NetApp Volume Encryption與NetApp Aggregate Encryption。* NetApp加密選項提供簡單的軟體式加密、可保護閒置的資料。</block>
  <block id="1a4c4db8b74f04b9da9ab150ff36e301" category="list-text">* REST與Ansible。*使用<block ref="71191ff17e34498b2463e6167736896a" category="inline-link-rx"></block> 自動化儲存與資料管理、以及<block ref="d4fc0de110866702e0b8608590b39b64" category="inline-link-rx"></block> 用於ONTAP 設定支援您的支援系統。</block>
  <block id="86544be11c52b782f03ad1ff879f872d" category="paragraph">請注意、某些ONTAP 功能不太適合vSphere工作負載。例如FlexGroup 、不支援完整複製功能的不ONTAP 支援使用VMware vSphere前的支援功能、也未通過測試（請參閱FlexGroup 「VMware」一節以瞭解搭配vSphere使用的最新資訊）。由於vSphere是專為讀取型大多數工作負載所設計、因此不適合使用此技術FlexCache 。當快取從來源中斷連線時、寫入作業可能會有問題、導致兩側都發生NFS資料存放區錯誤。</block>
  <block id="f364e3337f5237c93d7b5439c82d444b" category="paragraph">VMware vSphere的VMware vSphere工具是一套搭配vSphere使用VMware vCenter儲存設備的工具。ONTAP ONTAPvCenter外掛程式先前稱為虛擬儲存主控台（VSC）、可簡化儲存管理與效率功能、增強可用度、並降低儲存成本與營運成本、無論您使用SAN或NAS。它採用最佳實務做法來配置資料存放區、並針對NFS和區塊儲存環境最佳化ESXi主機設定。為獲得所有這些效益、NetApp建議您在ONTAP 使用vSphere搭配執行ONTAP VMware軟體的系統時、將這些VMware不完整的工具當作最佳實務做法。其中包括伺服器應用裝置、vCenter的使用者介面擴充、VASA Provider及儲存複寫介面卡。幾乎所有的功能都可以透過簡單的REST API來自動化、而大多數的現代化自動化工具都能耗用這些API ONTAP 。</block>
  <block id="0b266371a133b176a2ee883ccf72b46c" category="list-text">* vCenter UI延伸功能* ONTAP 此功能可簡化營運團隊和vCenter管理員的工作。*此功能可在vCenter UI中、直接使用易於使用的內容相關功能表來管理主機和儲存設備、資訊入口小程式和原生警示功能、以利簡化工作流程。</block>
  <block id="e08c666b5127e745f8aacbacfce37dcf" category="list-text">*適用於ONTAP VMware的VASA Provider for Sfor Sfor the。*適用於ONTAP VMware的VASA Provider支援VMware vStorage API for Storage Aware（VASA）架構。它是ONTAP VMware vSphere的VMware vSphere配套工具、可做為單一虛擬應用裝置、方便部署。VASA Provider將vCenter Server與ONTAP VMware連線、以協助資源配置及監控VM儲存設備。它可支援VMware虛擬磁碟區（vVols）、管理儲存功能設定檔和個別VM vVols效能、以及監控容量和設定檔法規遵循的警示。</block>
  <block id="1c7bb8764fc089dda8481678ad1ea0b5" category="list-text">*儲存複寫介面卡。* SRA與VMware Site Recovery Manager（SRM）搭配使用、可在正式作業與災難恢復站台之間管理資料複寫、並在不中斷營運的情況下測試DR複本。它有助於自動化探索、還原及重新保護等工作。其中包括適用於Windows SRM伺服器和SRM應用裝置的SRA伺服器應用裝置和SRA介面卡。</block>
  <block id="eff6699ec911b615a51eb7e9e0d89970" category="paragraph">適用於VMware VAAI的NetApp NFS外掛程式是ESXi主機的外掛程式、可讓ESXi主機在ONTAP 支援VMware的NFS資料存放區時、使用VAAI功能。它支援複本卸載、適用於實體複本作業、適用於大型虛擬磁碟檔案的空間保留、以及Snapshot複本卸載。將複本作業卸載到儲存設備並不一定能更快完成、但它確實能降低網路頻寬需求、並卸載CPU週期、緩衝區和佇列等主機資源。您可以使用ONTAP VMware vSphere的支援功能、在ESXi主機上安裝外掛程式、或是在支援的情況下安裝vSphere Lifecycle Manager（vLCM）。</block>
  <block id="082e2767897584434269db14d4ceda54" category="sidebar">VMware虛擬化的新功能</block>
  <block id="839a1261c70db1f3c149f86d56e21d15" category="cell">2016年1月12日</block>
  <block id="70542da4927194cf41c777029ebe56be" category="cell">新增部落格：運用NetApp SnapCenter 功能搭配Amazon FSX for NetApp ONTAP 功能、保護SQL Server工作負載</block>
  <block id="577322186c067590a18f8891be57e7e4" category="inline-link-macro">運用NetApp SnapCenter 功能搭配Amazon FSX for NetApp ONTAP 功能、保護您的SQL Server工作負載</block>
  <block id="c1b7f59fc598d7a811682707bcd4eb40" category="list-text"><block ref="c1b7f59fc598d7a811682707bcd4eb40" category="inline-link-macro-rx"></block></block>
  <block id="af8dcb8c7a1e8b7e614e570806d8dcee" category="paragraph">使用七種傳輸協定將VMware vSphere連接至執行ONTAP VMware軟體的系統上的資料存放區：</block>
  <block id="a7c815fafe60ae637d38216fa6300395" category="list-text">FCP</block>
  <block id="8b7c42123642e2e4ea7dd426aeb2de58" category="list-text">NVMe / TCP</block>
  <block id="f7d773fd2896401c143676940bc001fc" category="list-text">NFS v3</block>
  <block id="0b99b245267ef194ca3b9f6e694b0983" category="list-text">NFS v4.1</block>
  <block id="cfa070ed8af17c3125cfd1530fbd387a" category="paragraph">FCP、FCoE、NVMe/FC、NVMe/TCP和iSCSI是區塊傳輸協定、使用vSphere虛擬機器檔案系統（VMFS）將VM儲存在ONTAP 包含ONTAP FlexVol 在一個EesfVolume中的SesfLUN或NVMe命名空間內。請注意、從vSphere 7.0開始、VMware不再支援正式作業環境中的軟體FCoE。NFS是一種檔案傳輸協定、可將VM放入資料存放區（只是ONTAP 指不需要VMFS的功能）。SMB（CIFS）、iSCSI、NVMe / TCP或NFS也可直接從客體作業系統使用到ONTAP 不支援。</block>
  <block id="7469c178e150e10730dcab1094765f10" category="paragraph">下表說明vSphere支援ONTAP 的傳統資料存放區功能及功能。此資訊不適用於vVols資料存放區、但通常適用於使用支援ONTAP 的版本資訊的vSphere 6.x及更新版本。您也可以諮詢<block ref="26c5407c98ec413c85131fd8c0d178b4" category="inline-link-rx"></block> 以確認特定vSphere版本的特定限制。</block>
  <block id="6151632541dcd80356c6c76b34d69d0c" category="cell">NVMe</block>
  <block id="18263a30df8afc60a733e59c60676ac0" category="cell">VMFS</block>
  <block id="aa23f9914ce1939ea7a4d479edfdc915" category="cell">每個主機有1024個LUN</block>
  <block id="1af3b27207afc48a363629a315d76b59" category="cell">每個伺服器有1024個LUN</block>
  <block id="0705fd627c25b5fba17cd9a022ed7d72" category="cell">每個伺服器256個Namespeces</block>
  <block id="b4fb1d41fedaec79072964cbb4d16e3d" category="cell">最大資料存放區檔案大小</block>
  <block id="fe299bb060ce245b8fe190de21d3978e" category="cell">16TB或62TB、搭配ONTAP 啟用大型檔案的RC1RC1及更新版本</block>
  <block id="ca6e77250a239af7b4aed9a1ac058825" category="cell">自動協商</block>
  <block id="bad19bc2587cd465cab5cec5a13aa306" category="cell">請參閱中的NFS.MaxQuestue深度<block ref="0391a4aaf03ed2bf80fb4efb215797d0" category="inline-link-rx"></block>。</block>
  <block id="d6407966cf588d8d78d4f7e65f1ea6fd" category="cell">僅適用於v3 *</block>
  <block id="50ed43e1a7a22335069a344bc706b600" category="cell">是、使用新的高效能外掛程式（HPP）</block>
  <block id="5663fa28fe2a703e07072185e3a90a94" category="paragraph">* NetApp建議將來賓iSCSI用於Microsoft叢集、而非在VMFS資料存放區中使用支援多寫入器的VMDK。Microsoft和VMware完全支援這種方法、ONTAP 提供優異的靈活度搭配使用VMware（SnapMirror至ONTAP 內部部署或雲端的等化系統）、易於設定和自動化、SnapCenter 並可透過VMware加以保護。vSphere 7新增叢集式VMDK選項。這與啟用多寫入器的VMDK不同、因為VMDK需要透過FC傳輸協定呈現資料存放區、而且此傳輸協定已啟用叢集式VMDK支援。其他限制也適用。請參閱VMware的<block ref="b158594c147457b5b6417413cb30f800" category="inline-link-rx"></block> 組態準則文件。</block>
  <block id="e2bd40041a6472b580305ce9017b0b2e" category="paragraph">*使用NVMe與NFS v4.1的資料存放區需要vSphere複寫。SRM不支援陣列型複寫。</block>
  <block id="b8c499c7b537f5bd4e51b0a6d6a1e9d0" category="list-text">部署vSphere搭配ONTAP 使用不間斷的NFS資料存放區、可實現高效能且易於管理的實作、提供VM對資料存放區的比率、而這些比率無法透過區塊型儲存傳輸協定取得。此架構可減少相關資料存放區數量、使資料存放區密度增加十倍。雖然較大的資料存放區可提升儲存效率並提供營運效益、但請考慮使用至少四個資料存放區FlexVol （VMware Volume）、將VM儲存在單ONTAP 一的VMware控制器上、以從硬體資源中獲得最大效能。此方法也可讓您建立具有不同恢復原則的資料存放區。根據業務需求、部分備份或複寫的頻率可能會比其他更高。由於資料存放區FlexGroup 是依設計進行擴充、因此不需要使用多個資料存放區來提升效能。</block>
  <block id="241f8fed1e3a823fcd4d0c1eb705b1a2" category="list-text">NetApp建議使用FlexVol Suse Volume、並從ONTAP 功能性的9.8 FlexGroup 功能開始、使用NFS資料存放區。一般不建議使用ONTAP 其他的VMware儲存容器、例如qtree、因為ONTAP VMware vSphere的VMware Tools目前不支援這些儲存容器。將資料存放區部署為單一磁碟區中的多個qtree、對於高度自動化的環境而言、可能很有幫助、因為這些環境可從資料存放區層級配額或VM檔案複製中獲益。</block>
  <block id="964a81e46088ae1cc6306072464a9d73" category="list-text">此外、VMFS資料存放區也可以設定LUN、以供FC、iSCSI或FCoE存取。VMFS可讓叢集中的每個ESX伺服器同時存取傳統LUN。VMFS資料存放區的大小最多可達64TB、最多可包含32個2TB LUN（VMFS 3）或單一64TB LUN（VMFS 5）。大部分系統的LUN大小僅為16TB、ONTAP All SAN陣列系統的LUN大小上限為12TB。因此、在ONTAP 大多數的不實系統上、可使用四個16TB LUN來建立最大大小的VMFS 5資料存放區。雖然多個LUN的高I/O工作負載（使用高階FAS 的功能或AFF 功能性系統）可獲得效能優勢、但由於建立、管理及保護資料存放區LUN的管理複雜度增加、以及提高可用度風險、因此這項優勢已被抵銷。NetApp一般建議針對每個資料存放區使用單一大型LUN、而且只有在需要超越16TB資料存放區的情況下才需要跨距。與NFS一樣、請考慮使用多個資料存放區（Volume）、在單ONTAP 一的VMware控制器上發揮最大效能。</block>
  <block id="040ffbbbbeda558bdae1e07f5371b4f5" category="list-text">使用支援連結集合連接兩個獨立交換器機箱上連接埠的交換器、使用多機箱連結集合群組方法、例如Cisco的虛擬PortChannel（vPC）。</block>
  <block id="19d137845c7f6687c99b386dfad0aa97" category="list-text">除非您使用已設定LACP的DVSwitches 5.1或更新版本、否則請停用連接至ESXi的交換器連接埠LACP。</block>
  <block id="30254a2bb3e4b3b958b06d08c724e7db" category="list-text">使用LACP建立鏈路集合體、以動態ONTAP 多重模式介面群組搭配IP雜湊、以利支援靜態儲存系統。</block>
  <block id="d608421cceb8e4c584a2a32d9127879e" category="list-text">在ESXi上使用IP雜湊群組原則。</block>
  <block id="ba78d695573c8d4f1205452c675fa539" category="paragraph">* SVM lifs連接到具有VLAN、MTU及其他設定的連接埠、介面群組或VLAN介面。不過、這些設定不會在SVM層級進行管理。</block>
  <block id="631e164314a103fe3183b00b759057b2" category="paragraph">對於向指定LUN通告路徑的節點、SLM會有限制。NetApp最佳實務做法是每個SVM每個節點至少有一個LIF、並使用SLM來限制通告給裝載LUN及其HA合作夥伴之節點的路徑。雖然有其他路徑存在，但預設不會通告這些路徑。您可以使用新增和移除在SLMs中的報告節點引數來修改通告的路徑。請注意、在8.3之前的版本中建立的LUN會通告所有路徑、而且必須加以修改、才能只向主機HA配對通告路徑。如需更多關於SLM,請參閱第5.9節<block ref="c6b12416d518b4689065ffe16afe88db" category="inline-link-rx"></block>。先前的連接埠集方法也可用於進一步減少LUN的可用路徑。PortSets可減少igroup中的啟動器可透過哪些可見路徑來查看LUN、進而提供協助。</block>
  <block id="7b997b3be9c993d49799dd9d71d8c3f6" category="list-text">VMware自VMware Infrastructure 3以來就一直支援NFSv3。vSphere 6.0新增對NFSv4.1的支援、可啟用某些進階功能、例如Kerberos安全性。NFSv3使用用戶端鎖定功能時、NFSv4.1會使用伺服器端鎖定功能。雖然可以透過這兩種傳輸協定匯出一個資料區、但ESXi只能透過一個傳輸協定掛載。ONTAP此單一傳輸協定掛載並不排除其他ESXi主機透過不同版本掛載相同的資料存放區。請務必指定要在掛載時使用的傳輸協定版本、以便所有主機使用相同版本、因此鎖定樣式相同。請勿在主機之間混合使用NFS版本。如有可能、請使用主機設定檔檢查是否符合規定。</block>
  <block id="d8119941da55a672db49a624330ea7f0" category="list-text">NFS匯出原則用於控制vSphere主機的存取。您可以將一個原則與多個磁碟區（資料存放區）搭配使用。使用NFSv3時、ESXi會使用sys（UNIX）安全樣式、並需要root掛載選項來執行VM。在現階段、此選項稱為超級使用者、使用超級使用者選項時、不需要指定匿名使用者ID。ONTAP請注意、匯出具有不同值的原則規則<block ref="ea72d12ecaa06afdb0c8a3b15e485e95" prefix=" " category="inline-code"></block> 和<block ref="df809a941c1287d18c08bb5927b639dc" prefix=" " category="inline-code"></block> 可能會導致SVM發現ONTAP 問題、因為使用這些功能。以下是原則範例：</block>
  <block id="0bbc71e6a4ea49af70dd616d3807e524" category="list-text">匿名UID</block>
  <block id="49bb4e84b97bfe104e9fe7eb7df07a38" category="list-text">NFS資料存放區磁碟區是從SVM的根磁碟區連結而來、因此ESXi也必須能夠存取根磁碟區、才能瀏覽及掛載資料存放區磁碟區。根磁碟區和資料存放區磁碟區連接的任何其他磁碟區的匯出原則、必須包含ESXi伺服器授予其唯讀存取權的規則或規則。以下是根磁碟區的原則範例、也使用VAAI外掛程式：</block>
  <block id="8c93fb3ff528165613797962f5a0ed9c" category="list-text">存取傳輸協定：NFS（包括nfs3和nfs4）</block>
  <block id="80e6a4f964e826c69c1c62bd5ea67590" category="list-text">RW存取規則：Never（root Volume的最佳安全性）</block>
  <block id="f96625174b4a06d13267f9b0a5a96d59" category="list-text">超級使用者：sys（也適用於採用VAAI的根Volume）</block>
  <block id="23aa7b9aeed3fba2a1ec43e630313af7" category="list-text">使用外掛程式為VMware叢集建立資料存放區時、請選取叢集而非單一ESX伺服器。此選項會觸發IT自動將資料存放區掛載至叢集中的所有主機。</block>
  <block id="313611996c05f7257ad3043572759306" category="cell">ESXi 7.0U3f及更新版本支援ONTAP 使用VMware更新版本的作業階段主幹連線</block>
  <block id="1abaee3673de53b378351ee9dc679daa" category="list-text">VMware與NetApp目前不支援通用的多重路徑網路方法。對於NFSv4.1、NetApp支援pNFS、而VMware則支援工作階段主幹連線。NFSv3不支援多個實體路徑通往磁碟區。針對使用VMware vSphere的VMware 9.8、我們建議的最佳實務做法是讓VMware vSphere的VMware vSphere使用VMware vSphere的VMware Tools進行單一掛載、因為間接存取的影響通常很小（微秒）FlexGroup ONTAP ONTAP 。您可以使用循環DNS、將ESXi主機分散到FlexGroup 不同節點上的各個LIF上、但這需要FlexGroup 建立及掛載不ONTAP 含VMware vSphere的任何VMware vSphere用的VMware vCenter工具的功能。因此效能管理功能將無法使用。</block>
  <block id="4ad396cb9b6773b012067ead8cf08611" category="doc">NetApp災難恢復協調程式（DRO）總覽</block>
  <block id="88ac8db9784908706c34feb6caee9044" category="paragraph"><block ref="88ac8db9784908706c34feb6caee9044" category="inline-link-macro-rx"></block></block>
  <block id="03b125f503e8b797be1fe5a21a10d220" category="summary">本節說明如何使用azacsnap工具保護Oracle資料庫、以及將Snapshot備份、還原和快照分層整理至Azure Blob。</block>
  <block id="b47faaf85acf415e557bd0b669342659" category="doc">保護Azure雲端中的Oracle資料庫</block>
  <block id="cec4dbc9c066ab7b22ef743151be75eb" category="paragraph"><block ref="cec4dbc9c066ab7b22ef743151be75eb" category="inline-link-macro-rx"></block></block>
  <block id="06a2961d48a854a133ddfe05c7912732" category="section-title">使用AzAcSnap工具備份Oracle資料庫與Snapshot</block>
  <block id="30462dbcf926561966ea824afd44e355" category="paragraph">Azure應用程式一致的Snapshot工具（AzAcSnap）是一種命令列工具、可處理在擷取儲存快照之前將資料庫置於應用程式一致狀態所需的所有協調作業、藉此保護協力廠商資料庫的資料。</block>
  <block id="07612935f16f2665ef52f490f9b1f43b" category="paragraph">如果是Oracle、您可以將資料庫置於備份模式、以擷取快照、然後將資料庫從備份模式中移出。</block>
  <block id="070d0b63c9af5e43d43102c1869d4262" category="section-title">備份資料與記錄磁碟區</block>
  <block id="7dd57abd8929da4f18cc94d1940161a1" category="paragraph">您可以使用執行Snapshot命令的簡單Shell指令碼、在資料庫伺服器主機上設定備份。然後、指令碼可以排程從crontab執行。</block>
  <block id="087916fda35dba838b68193ed8bc3aeb" category="paragraph">一般而言、備份頻率取決於所需的RTO和RPO。頻繁建立快照會佔用更多儲存空間。備份頻率與空間使用率之間存在一定的平衡。</block>
  <block id="e2ece357797b760af1c814632edcf99d" category="paragraph">資料磁碟區通常比記錄磁碟區耗用更多儲存空間。因此、您可以每隔幾小時在資料磁碟區上拍攝快照、並每隔15到30分鐘在記錄磁碟區上建立更頻繁的快照。</block>
  <block id="2a2c2eb0d2bde8c24cc55a11862ca857" category="paragraph">請參閱下列備份指令碼與排程範例。</block>
  <block id="e048ccd48425229cea678849ba68a190" category="paragraph">對於資料Volume快照：</block>
  <block id="f0d6345b8e5345f55c21610283eaeedd" category="paragraph">對於記錄Volume快照：</block>
  <block id="68b7e37ef318c0e56eabf3e1aded4216" category="paragraph">crontab排程：15、30、45 ****/home/azacsnap/snap_log.sh 0 */ 2 **/home/azacsnap/snap_data.sh</block>
  <block id="adf4ba1e0f3190afb18557f038ae1ecf" category="admonition">設定備份時<block ref="8ed8c6bfea85d72bc4a36772490109c7" prefix=" " category="inline-code"></block> 組態檔、將所有資料磁碟區（包括二進位磁碟區）新增至<block ref="0fb9dff864caebba259b119756a2ce17" prefix=" " category="inline-code"></block> 及所有記錄磁碟區<block ref="5e5fb0a2540d102aeebc3dac60712494" prefix=" " category="inline-code"></block>。快照的最大保留量為250個複本。</block>
  <block id="a93091ed018686dcf478589ba04fd6f6" category="section-title">驗證快照</block>
  <block id="8a46f2968d5dc184634cff75cd1b8b8e" category="paragraph">前往Azure入口網站&gt; Azure NetApp Files / Volume、檢查快照是否已成功建立。</block>
  <block id="3542e11f657b779fcef8cc387987e9f2" category="inline-image-macro">此螢幕擷取畫面顯示快照清單中的兩個檔案。</block>
  <block id="c2dd243538b072e19882bdcd6ac2c6c9" category="inline-image-macro">此螢幕快照顯示快照清單中的八個檔案。</block>
  <block id="af143d815dcd69aae3ff8d8bdde9fd58" category="paragraph"><block ref="bf87ea8d7de67f1fdc628b6bb4b400e5" category="inline-image-macro-rx" type="image"></block>
<block ref="1d682e6513772285b95199f0646e28da" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7479b02641600cb6142d8594c1360d11" category="section-title">Oracle從本機備份還原與還原</block>
  <block id="76265d8fce7f282b6ff5a8581df8879c" category="paragraph">Snapshot備份的主要優點之一是它與來源資料庫磁碟區共存、而且主要資料庫磁碟區幾乎可以立即復原。</block>
  <block id="878609e3e12819fffdd7247406f655be" category="section-title">在主伺服器上還原及還原Oracle</block>
  <block id="8733b7b64c8d2c32caa423c7eb2955fc" category="paragraph">下列範例示範如何從同一Oracle主機上的Azure儀表板和CLI還原及還原Oracle資料庫。</block>
  <block id="aa30a622663e0f34541394e008fe82cd" category="list-text">在資料庫中建立要還原的測試表格。[oracle@acao-ora01 ~]$ sqlplus / as sysdba</block>
  <block id="ea16560565f3889db4dabf938628b462" category="paragraph">SQL* Plus：19.0.00.0版- 9月12日星期一正式作業19：02：35 2022版本19.8.0.0.0</block>
  <block id="0409b2fce118cc126a532dea158d2943" category="paragraph">SQL&gt;建立資料表testsnapshot（id integerate、Event varchar（100）、dt時間戳記）；</block>
  <block id="bec6da77877c0793c1d3eb6c6896e98e" category="paragraph">表格已建立。</block>
  <block id="a5b83945adfd5370663cb2d9c4f31d09" category="paragraph">SQL&gt;插入testsnapshot值（1、「插入資料標記以驗證Snapshot還原」、Sysdate）；</block>
  <block id="6ba18fa8fa7d170dfd8fc80f0f3d39f7" category="paragraph">已建立1列。</block>
  <block id="d1d2dcb121f8bf8fd39724ea075c6409" category="paragraph">SQL&gt;提交；</block>
  <block id="a92090dde5e820fde0a68705ee3f2bd0" category="paragraph">提交完成。</block>
  <block id="fd9736dfc88a182f9cb6e5f6a2b97487" category="paragraph">SQL&gt;從testsnapshot中選擇*；</block>
  <block id="2817b9cf9fc0cd0d8bf9fb03acbfc93f" category="list-text">在備份快照之後、將表格丟棄。</block>
  <block id="07b56c53a9fec8c477afb0cb5f2394af" category="paragraph">[oracle@acao-ora01 ~]$ sqlplus / as sysdba</block>
  <block id="dcd4d50ecf59b4752c161f0ddc44df44" category="paragraph">SQL* Plus：19.0．0．0版- 9月13日星期二正式上線14：20：22 2022版本19.8．0．0</block>
  <block id="bee0f13528c2f6f5b67053dc1e942328" category="paragraph">SQL&gt;刪除表testsnapshot；</block>
  <block id="cd85f26775e453b2177d5fcc6265b31d" category="paragraph">資料表已捨棄。</block>
  <block id="07e18ec921a195478cdbab47d8d68d89" category="paragraph">SQL&gt;從testsnapshot中選取*；從testsnapshot *錯誤中選取*在第1行：ora-00942：表格或檢視不存在</block>
  <block id="f06f4fbf6e3e0e45b0d4b241ceaf19c9" category="paragraph">SQL&gt;立即關機；資料庫已關閉。資料庫已卸載。Oracle執行個體關機。SQL&gt;結束與Oracle Database 19c Enterprise Edition 19.0.00.0.0-Production Version 19.8.0.0.0的連線中斷</block>
  <block id="09d4fe137595af1cc975247ba704462d" category="list-text">從「支援資料」儀表板、將記錄磁碟區還原至上次可用的快照Azure NetApp Files 。選擇*恢復磁碟區*。</block>
  <block id="33ba8417b2640d4172513bbf9cbc3e55" category="inline-image-macro">此螢幕快照顯示Anf儀表板中磁碟區的快照還原方法。</block>
  <block id="546b967f1ce32832a90c77282f0cdf2b" category="paragraph"><block ref="546b967f1ce32832a90c77282f0cdf2b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4b728fe18b10b9b611a1d3ab6acc0df9" category="list-text">確認「恢復Volume」（恢復Volume）、然後按一下「*恢復*」以完成磁碟區還原至最新的可用備份。</block>
  <block id="5c7deeb27ad1e0e4c1d6d52b2a2a1bfc" category="inline-image-macro">「確定要這麼做？」快照還原頁面。</block>
  <block id="ef80226ab5a9d2865852e606297da2cf" category="paragraph"><block ref="ef80226ab5a9d2865852e606297da2cf" category="inline-image-macro-rx" type="image"></block></block>
  <block id="18b9906dd2c95b12fdb987b7c2aa9917" category="list-text">對資料磁碟區重複相同的步驟、並確定備份包含要恢復的資料表。</block>
  <block id="a38e609b2fd5c2dee1b4ccb1cbbac7d4" category="inline-image-macro">此螢幕快照顯示Anf儀表板中資料磁碟區的快照還原方法。</block>
  <block id="f0d819988fad0119995986a2bdfd9ad6" category="paragraph"><block ref="f0d819988fad0119995986a2bdfd9ad6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fc824d4f774a64498f954eb2ebbc093b" category="list-text">再次確認磁碟區還原、然後按一下「還原」。</block>
  <block id="5e2296a09eabbd34b62da3492091ff33" category="inline-image-macro">「確定要這麼做？」資料磁碟區快照還原頁面。</block>
  <block id="af5f9a99ee2d86856d0e2477e417dc4c" category="paragraph"><block ref="af5f9a99ee2d86856d0e2477e417dc4c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="170b40e31285910539e0d464f2bf33a6" category="list-text">如果您有多個控制檔複本、請重新同步控制檔、並以可用的最新複本取代舊控制檔。</block>
  <block id="952cd3804f479f3c31f123d064ccbdf5" category="paragraph">[oracle@acao-ora01 ~]$ mv /u02/oradata/ORATST/control01.CTL /u02/oradata/ORATST/control01.culbk [oracle@acao-ora01 ~]$ cp /u03/orareco/ORATST/control02.CTL /u02/orarata/ORST.ora01.</block>
  <block id="bd99bc18393147b05e3f350eb6a61f47" category="list-text">登入Oracle伺服器VM、然後使用sqlplus執行資料庫恢復。</block>
  <block id="125ab5cbfb90c4a6d038bcca4da6fdc4" category="paragraph">SQL* Plus：19.0．0．0版- 9月13日星期二上線：15：10：17 2022版本19.8．0．0</block>
  <block id="010621501012cd31b6666d17dad683d2" category="paragraph">連線至閒置執行個體。</block>
  <block id="6bd3f70e5ab38ca26f8cabd390e15fc0" category="paragraph">SQL&gt;啟動掛載；Oracle執行個體已啟動。</block>
  <block id="424459a4363a5afdd1e45d31fcd11efe" category="paragraph">系統整體區域總計6442448984位元組固定大小8910936位元組可變大小1090519040位元組資料庫緩衝區5336154688位元組重做緩衝區7864320位元組已掛載資料庫。SQL&gt;使用備份控制檔還原資料庫直到取消；ORA-00279：變更執行緒1 ORA-00289所需的3188523於2022年9月13日產生10：00：09：建議：/u03/orareco/ORATST/archivelog/2022_09_13/o1_mf_1_43_22rnjq280變更序列#8500243_</block>
  <block id="db9afd3f7adaff3fe1135208fa6b6a09" category="paragraph">指定記錄：｛&lt;RET&gt; fest=ested |檔案名稱| Auto | cancel｝</block>
  <block id="abc467423916c8ee7c16f566b4ab4ca8" category="paragraph">ora-00279：變更在09/13/2022產生的318862 10：01：20需要執行緒1 ORA-00289：建議：/u03/orareco/ORATST/archivelog/2022_09_13/o1_mf_1_44_29f2lgb5_.arcORA-00862022rog_rearth_002020248/00rarc/不需要更新#orrq/20248/0020248/0020248/00rarc檔案1：#orrq_rarcarc/不需要更新#rq_0020248/0020248/0020248/0020248/00rarc檔案1</block>
  <block id="479d2dfa77fdcde3bfd41fcdebbca1ff" category="paragraph">ora-00279:變更3193117產生於09/13/2022 12:00:08需要執行緒1 ORA-00289:建議：/u03/orareco/ORATST/archivelog/2022_09_13/o1_mf_1_45_29h6qqqqyw_.arcorORA-002022202212不再需要更新#002022_or_car_002022_car_002022_002022_c檔案#OR_002022_cu2022_c檔案'_002022_c /不需要更新#or_0020148/0020148/002022_002022_c檔案#or_c /更新#or_c檔案#1_0020278/0020148/002022_c</block>
  <block id="c76ff2f7e10a42adf7faec8f9e6faeab" category="paragraph">ora-00279:變更3193440產生於09/13/2022 12:01：20需要執行緒1 ORA-00289:建議：/u03/orareco/ORATST/archivelog/2022_09_13/o1_mf_1_46_%u_.arc ORA-00280：變更3193440以執行緒1 #velo_2010/20278/0040的順序執行緒1、不需要更新#orq/2010/20278/002010/2010/0020278_orarc/不需要ORq_orq_orarc/檔案1</block>
  <block id="0e98028493ec8c4a1d181c0d71c3ec7b" category="paragraph">指定記錄：｛&lt;RET&gt; fest=recested |檔案名稱| Auto | cancel｝取消媒體恢復已取消。SQL&gt;變更資料庫開啟重新設置記錄；</block>
  <block id="f6c9ea366c01da7d664a8c7c3813e0bd" category="paragraph">資料庫已變更。</block>
  <block id="8ad5254ade1fed8d3ccc482196b4c36c" category="paragraph">此畫面顯示已使用本機快照備份還原掉落的表格。</block>
  <block id="34d73a671fa85d8d86ba1eff63b238d8" category="paragraph"><block ref="34d73a671fa85d8d86ba1eff63b238d8" category="inline-link-macro-rx"></block></block>
  <block id="0c55b956af322a2409f5dd75af116fee" category="doc">WP-7357：EC2上的Oracle資料庫部署與FSX最佳實務做法簡介</block>
  <block id="b985336298cf9391b91c898572090625" category="summary">本節說明Oracle資料庫部署與資料保護解決方案架構、搭配Azure虛擬機器與Azure NetApp Files 整套功能。</block>
  <block id="fc6024ee9167308c3126789695e7353f" category="paragraph"><block ref="fc6024ee9167308c3126789695e7353f" category="inline-link-macro-rx"></block></block>
  <block id="91e17bfb5f535513b5320d68f6afe1fc" category="paragraph">下列架構圖表說明Azure VM執行個體和Azure NetApp Files 整套功能的高可用度Oracle資料庫部署。</block>
  <block id="520c5c426000f1dbbd8ac385d5547603" category="paragraph">在環境中、Oracle運算執行個體是透過Azure服務VM主控台進行部署。主控台提供多種Azure執行個體類型。NetApp建議部署資料庫導向的Azure VM執行個體、以滿足您的預期工作負載。</block>
  <block id="9e20ded809aa2fa1bd072f48ceacfdd8" category="paragraph">另一方面、Oracle資料庫儲存設備則是透過Azure NetApp Files Azure主控台提供的支援功能進行部署。Oracle二進位、資料或記錄磁碟區隨後會出現在Azure VM執行個體Linux主機上、並加以掛載。</block>
  <block id="6b5cae77dbc9c4b759bf654b117eb10b" category="inline-image-macro">此映像描述主要站台、待命站台與此每個站台vNet對等關係。這形成四個獨立的虛擬網路。</block>
  <block id="2246b51fdf61c77213e0ce37d743cd03" category="paragraph"><block ref="2246b51fdf61c77213e0ce37d743cd03" category="inline-image-macro-rx" type="image"></block></block>
  <block id="03aa17a1290e1122adecd07d53463cde" category="paragraph">在許多方面、Azure NetApp Files 在Azure雲端中實作的功能與內部部署ONTAP 的支援資料儲存架構非常類似、其中內建許多備援功能、例如RAID和雙控制器。若要進行災難恢復、可在不同地區設定待命站台、並使用應用程式層級的複寫（例如Oracle Data Guard）、將資料庫與主要站台同步。</block>
  <block id="6f1714a5ced243b141295d01d4038364" category="paragraph">在Oracle資料庫部署與資料保護的測試驗證中、Oracle資料庫會部署在單一Azure VM上、如下圖所示：</block>
  <block id="fef3344ae2f384e724a169b6e9d90be7" category="inline-image-macro">此映像描述使用vNet對等處理的單一Azure VM組織、以建立兩個獨立的虛擬網路。</block>
  <block id="f3699a22a9267b8e767816c81f821522" category="paragraph"><block ref="f3699a22a9267b8e767816c81f821522" category="inline-image-macro-rx" type="image"></block></block>
  <block id="69cf5342936c24c9fac1c6529c4f825f" category="paragraph">Azure Oracle環境可使用NetApp提供的資料庫部署、備份、還原及資料庫移轉工具套件、以Ansible控制器節點進行自動化管理。Oracle Azure VM執行個體作業系統核心或Oracle修補的任何更新、都可同時執行、以保持主要和待命同步。事實上、初始工具套件可輕鬆擴充、以便在需要時執行每日Oracle工作。如果您需要設定CLI Ansible控制器的協助、請參閱 <block ref="03bbd03f7d2552fa2076b42f86a04360" category="inline-link-macro-rx"></block> 開始使用。</block>
  <block id="149b87e0b981bcf1e3d652831c207e04" category="inline-link-macro">下一步：要考量的因素。</block>
  <block id="0a9d288b4b8679857f2d7e7f0d5a63f6" category="paragraph"><block ref="0a9d288b4b8679857f2d7e7f0d5a63f6" category="inline-link-macro-rx"></block></block>
  <block id="41f2543265fcbcf566ce925409c1bfbb" category="summary">本節詳細說明如何將Oracle資料庫從內部部署移轉至Azure NetApp Files 原地、反之亦然。</block>
  <block id="3b99478aefcc6039ddcb29f19ce3f1ee" category="doc">資料庫從內部部署移轉至Azure雲端</block>
  <block id="964310198f864c746c945ff1c6fffe3f" category="inline-link-macro">上一篇：資料庫保護。</block>
  <block id="413dcfd081f137889743981159ac9abe" category="paragraph"><block ref="413dcfd081f137889743981159ac9abe" category="inline-link-macro-rx"></block></block>
  <block id="3c2b924258f32094eb64883db57a778a" category="paragraph">由於Oracle決定逐步淘汰單一執行個體資料庫、許多組織已將單一執行個體Oracle資料庫轉換成多租戶容器資料庫。如此一來、便可輕鬆將一部分名為pdb的容器資料庫重新配置至雲端、並提供最大可用度選項、將移轉期間的停機時間降至最低。</block>
  <block id="a221bb2d4b0b28bb7e9aa40527e36333" category="paragraph">不過、如果您仍有Oracle資料庫的單一執行個體、則可以先將其轉換成多租戶容器資料庫、然後再嘗試重新配置pdb。</block>
  <block id="3312d9383c6e42558bb6c7ffa86498b5" category="paragraph">下列各節提供在任一種情況下、將內部部署Oracle資料庫移轉至Azure雲端的詳細資料。</block>
  <block id="d7acbe14b605ece64e94636c2ac85151" category="section-title">將單一非CDB執行個體轉換為多租戶CDB中的pdb</block>
  <block id="b65ba7cc82289837e3a44b6025b8a104" category="paragraph">如果您仍有單一執行個體的Oracle資料庫、無論您是否要將其移轉至雲端、都必須將其轉換成多租戶容器資料庫、因為Oracle不久將停止支援單一執行個體資料庫。</block>
  <block id="60a4157f0722b484d4ce9ec02662db31" category="paragraph">下列程序會將單一執行個體資料庫插入容器資料庫、做為可插拔的資料庫或pdb。</block>
  <block id="aefccbe3e9382cbdd83d84fee06a408d" category="list-text">在獨立的單一執行個體資料庫所在的同一主機上建置Shell Container資料庫<block ref="e1f651debac4f720c13ae930ff3ca14a" prefix=" " category="inline-code"></block>。</block>
  <block id="182e093a477c76844c12680be3deb7a4" category="list-text">關閉單一執行個體資料庫、然後以唯讀模式重新啟動。</block>
  <block id="48270a516aeb2dd47c2b7f5d897c3182" category="list-text">執行<block ref="707fc638546e97f4dca068fcf2fbe277" prefix=" " category="inline-code"></block> 產生資料庫中繼資料的程序。</block>
  <block id="61c2d2d903cc3e2bc374cc66b3a1572d" category="list-text">關閉單一執行個體資料庫。</block>
  <block id="d0e90ac40083de7010746f1c7afa8680" category="list-text">啟動Container資料庫。</block>
  <block id="c9b14b140c5af8df85a71e71e823fcd9" category="list-text">執行<block ref="6f6e7bfe46efb74f46338dcd4b8d7530" prefix=" " category="inline-code"></block> 用於判斷非CDB是否與CDB相容的功能。</block>
  <block id="b4579eff709cfd4a9e9d9b3c7823a470" category="paragraph">如果輸出為「是」、則非CDB相容、您可以繼續下一步。</block>
  <block id="b788542aadbeda07cae67fad51f01ecf" category="paragraph">如果輸出為否、則非CDB不相容、您可以檢查<block ref="40bcd9431704d488bfba8de25bdd0469" prefix=" " category="inline-code"></block> 請參閱、瞭解為何不相容。您必須先修正所有違規、才能繼續。例如、任何版本或修補程式不相符的問題都應該透過執行升級或opatch公用程式來解決。修正違規之後、請執行<block ref="6f6e7bfe46efb74f46338dcd4b8d7530" prefix=" " category="inline-code"></block> 再次確認非CDB與CDB相容。</block>
  <block id="3dc81f6d88ee2f38ca30676e4b371634" category="list-text">插入非CDB的單一執行個體。</block>
  <block id="10a9ce9a6e151e6ff04bee976e0cb1de" category="admonition">如果主機上沒有足夠的空間、則為<block ref="4777c7eb130280b37f5b4b3abde7c586" prefix=" " category="inline-code"></block> 選項可用於建立pdb。在這種情況下、單一執行個體非CDB在作為pdb外掛之後無法使用、因為原始資料檔案已用於pdb。請務必在轉換之前建立備份、以便在發生任何問題時、有一些問題需要重新處理。</block>
  <block id="03d9f2c68151dce9edd03b346e5b110c" category="list-text">如果來源單一執行個體非CDB與目標CDB之間的版本不同、請從轉換後的pdb升級開始。對於相同版本的轉換、可以跳過此步驟。</block>
  <block id="81954d0087f2bc7590c39792b2d3ff79" category="paragraph">檢閱中的升級記錄檔<block ref="8940bd010306ed7bc730469a2815003c" prefix=" " category="inline-code"></block> 目錄。</block>
  <block id="65f9a981d9b9caaa37a227c9d787c280" category="list-text">開啟可插拔的資料庫、檢查是否有pdb外掛程式違規、然後重新編譯無效的物件。</block>
  <block id="f4d5586e12195159e664b1f0a78cccd3" category="list-text">執行<block ref="30636d635a272a80dff68679e08f1c7a" prefix=" " category="inline-code"></block> 以更新資料字典。</block>
  <block id="182d7c995640cc8ef16b728a670fbe58" category="paragraph">關閉並重新啟動Container DB。ncdb會從受限模式中移除。</block>
  <block id="d6af386b8be94481db3de6778b3fc24a" category="section-title">將內部部署的Oracle資料庫移轉至Azure（重新配置pdb）</block>
  <block id="da5d44e97cbc406251573e1664b5e1f0" category="paragraph">使用最大可用度選項重新配置Oracle pdb時、會使用pdb熱複製技術、以便在將pdb複製到目標時、提供來源pdb的可用度。切換時、工作階段和連線會自動重新導向至目標pdb。如此一來、停機時間就會盡量縮短、而不受重新部署的pdb大小影響。NetApp提供可執行的工具套件、可將移轉程序自動化。</block>
  <block id="a8efacce1c06e5f64504448dec25740a" category="list-text">在Azure VM上的Azure公有雲中建立相同版本和修補層級的CDB。</block>
  <block id="0f09a4e81820f79a89d0b433bb0de6ca" category="list-text">從Ansible控制器複製自動化工具套件的複本。</block>
  <block id="33abd0ac6a3fb7ef8c104725e8360e85" category="list-text">請閱讀README檔案中的指示。</block>
  <block id="59082266ab8171963eb8785041055ee1" category="list-text">設定來源與目標Oracle伺服器的Ansible主機變數檔案、以及DB伺服器主機的組態檔以進行名稱解析。</block>
  <block id="166811e58fa2fd17b3ab3305ca4b1948" category="list-text">在Ansible控制器上安裝Ansible控制器先決條件。</block>
  <block id="e40dd1f176a77cef20eb421dee4fea9f" category="list-text">針對內部部署伺服器執行任何移轉前工作。</block>
  <block id="aba7f3209eb8c49aca729c7368fb42fe" category="admonition">管理使用者是內部部署Oracle伺服器主機上具有Sudo權限的管理使用者。系統管理員使用者會以密碼驗證。</block>
  <block id="a1da14dd2e192d36a7fe7bae327c2b23" category="list-text">執行Oracle pdb從內部部署重新配置至目標Azure Oracle主機。</block>
  <block id="39f1871870cabd138bd313c450662e67" category="admonition">Ansible控制器可位於內部部署或Azure雲端。控制器需要連線至內部部署的Oracle伺服器主機和Azure Oracle VM主機。Oracle資料庫連接埠（例如1521）會在內部部署的Oracle伺服器主機與Azure Oracle VM主機之間開啟。</block>
  <block id="63a48a0f7ee4b39ef32c11b92acc2baa" category="section-title">其他Oracle資料庫移轉選項</block>
  <block id="7619081ba13aebf0c83d5660f9bf01bb" category="inline-link-macro">Oracle資料庫移轉決策程序</block>
  <block id="0257ad9cf0c221fcf0c611f835c027ca" category="paragraph">如需其他移轉選項、請參閱Microsoft文件： <block ref="421a85ebca6e289a6eff559e7e35faf8" category="inline-link-macro-rx"></block>。</block>
  <block id="a73e5c65844b18c49122a8a79ef3fa65" category="doc">Azure VM和Azure NetApp Files 整套Oracle部署程序</block>
  <block id="f8de11946f5850d6f1597a7cf5fc2234" category="inline-link-macro">先前：需要考量的因素。</block>
  <block id="e9704920b930163220a6e7564d7d680e" category="paragraph"><block ref="e9704920b930163220a6e7564d7d680e" category="inline-link-macro-rx"></block></block>
  <block id="cf2fb9f52eae11aaa1b6818cc22ade30" category="section-title">透過Azure入口網站主控台部署Azure VM搭配Anf for Oracle</block>
  <block id="5e89dc82cb54763baa7cece42e7c3189" category="paragraph">如果您是Azure新手、首先需要設定Azure帳戶環境。這包括註冊貴組織以使用Azure Active Directory。下一節是這些步驟的摘要。如需詳細資料、請參閱連結的Azure專屬文件。</block>
  <block id="c743c9c56cd6cc2acf874405ef178af3" category="section-title">建立及使用Azure資源</block>
  <block id="cc59653114a0ca329e90c87f8de8f2da" category="paragraph">設定Azure環境並建立帳戶並與訂閱建立關聯之後、您就可以使用帳戶登入Azure入口網站、以建立執行Oracle所需的資源。</block>
  <block id="4848dfd418cc69fdc8a92da472ac41b8" category="section-title">1.建立虛擬網路或vnet</block>
  <block id="dd587303db328c6fc30f15fbf133eade" category="paragraph">Azure Virtual Network（vnet）是Azure中私有網路的基礎建置區塊。Vnet可讓Azure虛擬機器（VM）等多種Azure資源、安全地彼此通訊、網際網路及內部部署網路。在佈建Azure VM之前、必須先設定Vnet（部署VM的位置）。</block>
  <block id="2b9029fce84bbf7056c94e4b86015679" category="inline-link-macro">使用Azure入口網站建立虛擬網路</block>
  <block id="698a842fc17e080abbf6b6796628879b" category="paragraph">請參閱 <block ref="f497c9708f9505977884a23053323735" category="inline-link-macro-rx"></block> 以建立vnet。</block>
  <block id="66d98f4e89afee6dc557332b0e9ebe43" category="section-title">2.建立NetApp儲存帳戶和容量資源池</block>
  <block id="fecd60b0aedf111caefb4cf98b8d7be5" category="paragraph">在此部署案例中、Azure VM OS是使用一般Azure儲存設備進行配置、但會配置Anf Volume以透過NFS執行Oracle資料庫。首先、您需要建立NetApp儲存帳戶和容量集區來裝載儲存磁碟區。</block>
  <block id="76dc01e3f39d83b88a3d3ad36c338654" category="inline-link-macro">設定Azure NetApp Files 功能以建立NFS Volume</block>
  <block id="8a57d5f988c678cd141c2f704e110472" category="paragraph">請參閱 <block ref="2337ae471c0cc5402cdba65ad3b4dc78" category="inline-link-macro-rx"></block> 設定ANF容量資源池。</block>
  <block id="ed39ba49be7769bdf483ae876d88cdff" category="section-title">3.為Oracle配置Azure VM</block>
  <block id="acb4908e71af4ce0945c90f9039d0fc2" category="paragraph">根據您的工作負載、判斷您需要哪種Azure VM、以及要為Oracle部署的VM vCPU和RAM大小。然後從Azure主控台按一下VM圖示、啟動VM部署工作流程。</block>
  <block id="20d1e12ba2a72916f3917e44ff29b40a" category="list-text">在Azure VM頁面上、按一下* Create*、然後選擇* Azure虛擬機器*。</block>
  <block id="94f088d23454b3c408a17cfff3cb8989" category="inline-image-macro">此螢幕快照顯示可用Azure VM的清單。</block>
  <block id="e28fc410c2020dcbd93af60f3d700d99" category="paragraph"><block ref="e28fc410c2020dcbd93af60f3d700d99" category="inline-image-macro-rx" type="image"></block></block>
  <block id="78ba4b8df4acae5536f056217b16c353" category="list-text">選擇部署的訂閱ID、然後選擇資源群組、區域、主機名稱、VM映像、大小、和驗證方法。移至「磁碟」頁面。</block>
  <block id="cbbcba216ab68f94c8fab62d9c907a00" category="inline-image-macro">此螢幕快照顯示「建立虛擬機器」頁面的輸入。</block>
  <block id="825d4c0973e48f04ab75cc30df85bbdc" category="inline-image-macro">此螢幕快照顯示「建立虛擬機器」頁面的其他輸入。</block>
  <block id="84982a7e7b9cc89bde9621d68800978e" category="paragraph"><block ref="a493253d19b28a6711494154a3160350" category="inline-image-macro-rx" type="image"></block>
<block ref="81b338659efc8df55ae98546f396c5b0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2c435f9a03a03e7cff44b06c9efafa31" category="list-text">選擇*優質SSD *作為OS本機備援、並保留資料磁碟空白、因為資料磁碟是從ANF儲存設備掛載。前往「Networking（網路）」頁面。</block>
  <block id="04faa74bfe9ea34a9831d24d039dc159" category="inline-image-macro">此快照顯示「Create a Virtual Machine Disk」（建立虛擬機器磁碟）頁面的輸入。</block>
  <block id="2e21daafaa3607d62dda1a3411975b12" category="paragraph"><block ref="2e21daafaa3607d62dda1a3411975b12" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f9c5742f2bffff7dd4a50e578bfb093b" category="list-text">選擇vnet和子網路。分配用於外部VM存取的公有IP。然後前往「管理」頁面。</block>
  <block id="0c0077e9a9d4700a64e70d30e9d110df" category="inline-image-macro">此螢幕快照顯示「建立虛擬機器」頁面的進一步輸入。</block>
  <block id="4aea6dbf72aa0b36bd98ced95acebcbd" category="paragraph"><block ref="4aea6dbf72aa0b36bd98ced95acebcbd" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6d5e4bb7568c6e8fb6a1f49aea08e975" category="list-text">保留管理的所有預設值、並移至「進階」頁面。</block>
  <block id="45291c6293e8de1084c3b8de71bfe120" category="inline-image-macro">此快照顯示「建立虛擬機器管理」頁面的輸入。</block>
  <block id="b031dac11379aafec2eb9832f71648ba" category="paragraph"><block ref="b031dac11379aafec2eb9832f71648ba" category="inline-image-macro-rx" type="image"></block></block>
  <block id="22b5d3beb0289dfe21618d5664538321" category="list-text">保留「進階」頁面的所有預設值、除非您在部署後需要使用自訂指令碼自訂VM。然後前往「標記」頁面。</block>
  <block id="1a911a2f1237ad150a29236bcfe044a0" category="inline-image-macro">此快照顯示「建立虛擬機器進階」頁面的輸入。</block>
  <block id="00d8612fb98dc237476c6ecd9e0f52c9" category="paragraph"><block ref="00d8612fb98dc237476c6ecd9e0f52c9" category="inline-image-macro-rx" type="image"></block></block>
  <block id="46dfe2059392afeb84a872afb7cd09d5" category="list-text">視需要為VM新增標記。接著前往「檢閱+建立」頁面。</block>
  <block id="85e3843de649be49b63e3b04c6887bcd" category="inline-image-macro">此快照顯示「建立虛擬機器標記」頁面的輸入。</block>
  <block id="ddeecdecd575fb71cf4e83d7f09717bc" category="paragraph"><block ref="ddeecdecd575fb71cf4e83d7f09717bc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="57a6346e9ebfe8164361d5e2facffb62" category="list-text">部署工作流程會在組態上執行驗證、如果驗證通過、請按一下「*建立*」以建立VM。</block>
  <block id="dec1fd75845506029d8751bb7979c797" category="inline-image-macro">「此螢幕快照顯示「建立虛擬機器檢閱與建立」頁面的輸入內容。」</block>
  <block id="786b4cd98c208b72f71277850831c1aa" category="paragraph"><block ref="786b4cd98c208b72f71277850831c1aa" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c18c3fe2e695bda0cb8b3e7ecccbdc4e" category="section-title">4.為Oracle配置ANF資料庫磁碟區</block>
  <block id="f162c2b2b89920293c1f24ac435c520e" category="paragraph">您必須分別為Oracle二進位、資料和記錄磁碟區的ANF容量集區建立三個NFS磁碟區。</block>
  <block id="09d8c19d5844128b31e1fa195808b215" category="list-text">在Azure主控台的Azure服務清單下、按Azure NetApp Files 一下「功能」以開啟Volume建立工作流程。如果您有多個ANF儲存帳戶、請按一下您要配置磁碟區的帳戶。</block>
  <block id="733cf6b848c8e38a49b4b604225141a5" category="inline-image-macro">此螢幕快照會顯示Azure服務頁面、並反白顯示ANF。</block>
  <block id="cc553796f259bc80d8c801687c0c1cd0" category="paragraph"><block ref="cc553796f259bc80d8c801687c0c1cd0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a8972cd5a80e6e385a27023ce45537a9" category="list-text">在您的NetApp儲存帳戶下、按一下* Volumes *、然後按* Add Volume*建立新的Oracle Volume。</block>
  <block id="c8ce9170654447aba6747494e61bf3a2" category="inline-image-macro">此螢幕快照顯示NetApp儲存帳戶的登陸畫面。</block>
  <block id="b0d2d575f2aee1703b6e2896d43b72f9" category="inline-image-macro">此螢幕快照顯示NetApp儲存帳戶可用的磁碟區。</block>
  <block id="3371cc932d04403ab2cd0788634d63e5" category="paragraph"><block ref="7266705f76a6cb3a106c34a6e8dc5540" category="inline-image-macro-rx" type="image"></block>
<block ref="f59831fbf7eaa0d216e8685698d0c55b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cbeaec71dc2b8275a14b23283d51cc04" category="list-text">最佳做法是先識別Oracle磁碟區、並以VM主機名稱做為前置詞、接著識別主機上的掛載點、例如u01表示Oracle二進位檔、u02表示Oracle資料、u03表示Oracle記錄檔。為磁碟區選擇與VM相同的vnet。按一下*下一步：傳輸協定&gt;*。</block>
  <block id="ce4ff1bdb6d954e6967a7c241ff89518" category="inline-image-macro">Volume Creation（Volume建立）畫面。</block>
  <block id="bacf4983022360caacd6f75352136f59" category="paragraph"><block ref="bacf4983022360caacd6f75352136f59" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b50bdcda066df8ed373847c60bc2f546" category="list-text">選擇NFS傳輸協定、將Oracle主機IP位址新增至允許的用戶端、然後移除允許所有IP位址0.00.0.0/0的預設原則。然後單擊*下一步：標記&gt;*。</block>
  <block id="f8bc211f91c2b350b268959a57418393" category="inline-image-macro">Volume Creation（Volume建立）畫面上的Protocol輸入。</block>
  <block id="8ac138d8c4a217ce018b45be622db1ed" category="paragraph"><block ref="8ac138d8c4a217ce018b45be622db1ed" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fffcdc9cd5233d4718046c8f6d19c80b" category="list-text">視需要新增Volume標記。然後按一下*檢閱+建立&gt;*。</block>
  <block id="05864b350d713935d13966f3c8fcbcd7" category="inline-image-macro">標記在Volume Creation（Volume建立）畫面上輸入的內容。</block>
  <block id="9bead8568a27fcf83faf41e77f52b246" category="paragraph"><block ref="9bead8568a27fcf83faf41e77f52b246" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6e574c0c875926f1fe654026995f3543" category="list-text">如果驗證通過、請按一下*「Create」（建立）*以建立磁碟區。</block>
  <block id="4a585922412f050ac4a7fbcc34a2655b" category="inline-image-macro">檢閱並建立Volume建立畫面的階段。</block>
  <block id="e9c713f1ad3a3f0b14801d722fb77f16" category="paragraph"><block ref="e9c713f1ad3a3f0b14801d722fb77f16" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2d2dbc217706d8bb1248bc209e0ab9da" category="section-title">在Azure VM上安裝及設定Oracle</block>
  <block id="7beaf3d9487c79b7245a1d9ae42d46aa" category="paragraph">NetApp解決方案團隊已建立許多以Ansible為基礎的自動化工具套件、協助您順利在Azure中部署Oracle。請遵循下列步驟、在Azure VM上部署Oracle。</block>
  <block id="0c782f45b1de4e6d016eafeeb60d286f" category="section-title">設定Ansible控制器</block>
  <block id="58a105c56c05508f7233082bc282a654" category="paragraph">如果您尚未設定Ansible控制器、請參閱 <block ref="03bbd03f7d2552fa2076b42f86a04360" category="inline-link-macro-rx"></block>，詳細說明如何設定Ansible控制器。</block>
  <block id="ce9ef6052d2c6ac4b97c01049ee4ec2b" category="section-title">取得Oracle部署自動化工具套件</block>
  <block id="52eae91ee8ea917bc73df6d9f1792469" category="paragraph">在主目錄中的使用者ID下複製Oracle部署工具套件複本、以供登入Ansible控制器。</block>
  <block id="19cd6e3dfb797a7325548b346dc358f1" category="section-title">使用您的組態執行工具組</block>
  <block id="aa98393908153ea46a2cef869e7dd100" category="paragraph">請參閱 <block ref="e7ab084e08308da08da1b2dd8151530b" category="inline-link-macro-rx"></block> 使用CLI執行方針。從Azure主控台建立資料庫Volume時、您可以忽略ONTAP 全域VARS檔案中的變數組態的部分、而非從CLI建立資料庫Volume。</block>
  <block id="24e16cc700e2ced028e529370af380e1" category="admonition">此工具套件預設部署Oracle 19c搭配RU 19.8。只要稍微變更預設組態、就能輕鬆調整為其他任何修補程式層級。此外、預設的基礎資料庫作用中記錄檔也會部署到資料Volume中。如果您需要在記錄磁碟區上使用中的記錄檔、則應在初始部署之後重新放置。如有需要、請聯絡NetApp解決方案團隊尋求協助。</block>
  <block id="dd52a71d2066e527d28efdbd46784e07" category="section-title">設定AzAcSnap備份工具、為Oracle提供應用程式一致的快照</block>
  <block id="211e60df4f320c617afaa9a96f62758f" category="paragraph">Azure應用程式一致的Snapshot工具（AzAcSnap）是一種命令列工具、可處理所有必要的協調作業、將第三方資料庫置於應用程式一致的狀態之後、再進行儲存快照、藉此保護資料。然後將這些資料庫傳回作業狀態。NetApp建議在資料庫伺服器主機上安裝此工具。請參閱下列安裝與組態程序。</block>
  <block id="40390144ce134a2e38bfef9f590f867b" category="section-title">安裝AzAcSnap工具</block>
  <block id="c2d834909e264a2f3bf3d3facd27740b" category="inline-link-macro">AzArcSnap安裝程式</block>
  <block id="aed9be57adbc2906c27b7f325e1322aa" category="list-text">取得最新版本的 <block ref="696590d44d21e9b71649cae0895a0bca" category="inline-link-macro-rx"></block>。</block>
  <block id="243004130aa732bde904924170fa2e5c" category="list-text">將下載的自我安裝程式複製到目標系統。</block>
  <block id="1aa45c54511185e4e2043ee91e8969bc" category="list-text">使用預設安裝選項、以root使用者身分執行自我安裝程式。如有必要、請使用執行檔案<block ref="48c01707d676030dd223de543c6beb09" prefix=" " category="inline-code"></block> 命令。</block>
  <block id="483944250a0e1f955ad6fec7c6578bde" category="section-title">設定Oracle連線功能</block>
  <block id="b6f7df8a3ada5b45cee3400740b83c9a" category="paragraph">Snapshot工具可與Oracle資料庫通訊、需要具備適當權限的資料庫使用者來啟用或停用備份模式。</block>
  <block id="6cd11918e51f60b6ce021e9d56c9e74a" category="section-title">1.設定AzAcSnap資料庫使用者</block>
  <block id="84fe6666ea577b7ede5c61912d97705e" category="paragraph">下列範例顯示Oracle資料庫使用者的設定、以及使用sqlplus與Oracle資料庫通訊。範例命令會在Oracle資料庫中設定使用者（AZACSNAP）、並視需要變更IP位址、使用者名稱和密碼。</block>
  <block id="342df2b2fb63c81cdd53e5e7bc5d00b9" category="list-text">從Oracle資料庫安裝啟動sqlplus以登入資料庫。</block>
  <block id="ab0840eee4ba613870ae404c907c1948" category="list-text">建立使用者。</block>
  <block id="e90b9dc19df07f784e3fc408169077df" category="list-text">授予使用者權限。此範例設定AZACSNAP使用者的權限、讓資料庫進入備份模式。</block>
  <block id="f508d634fc1aa5df7fed84e6b58afce9" category="list-text">將預設使用者的密碼過期時間變更為無限。</block>
  <block id="bc5fff092e99ce3d1966b94061cb5953" category="list-text">驗證資料庫的azacsnap連線能力。</block>
  <block id="8e0d0fb1cb3a50066ecd397700dfd22e" category="section-title">2.設定Linux使用者的azacsnap、以便使用Oracle wallet存取資料庫</block>
  <block id="7140a904f4b795616fdc3c3efbdcd066" category="paragraph">AzAcSnap預設安裝會建立azacsnap OS使用者。它的Bash Shell環境必須設定為使用儲存在Oracle電子錢包中的密碼來存取Oracle資料庫。</block>
  <block id="c54cf7bb99b0e669ce6dc05ec8272470" category="list-text">以root使用者身分執行<block ref="760381f8107a856bc583301b7b272917" prefix=" " category="inline-code"></block> 用於識別主機上的Oracle_Home和Oracle_SID變數的命令。</block>
  <block id="2a4941dc3f20c8f34a09b066691e66a5" category="list-text">將Oracle_Home、Oracle_SID、TNs_Admin和路徑變數新增至azacsnap使用者Bash設定檔。視需要變更變數。</block>
  <block id="e3c85fad3d30c470aac355430e98dc21" category="list-text">身為Linux使用者azacsnap、請建立錢包。系統會提示您輸入電子錢包密碼。</block>
  <block id="83617bd12022f2dd9ba94816c7e56670" category="list-text">將連線字串認證新增至Oracle Wallet。在以下命令範例中、AZACSNAP是AzAcSnap要使用的ConnectString、azacsnap是Oracle資料庫使用者、而AzPasswd1是Oracle使用者的資料庫密碼。系統會再次提示您輸入電子錢包密碼。</block>
  <block id="02f08719de6240015b4e67725107792a" category="list-text">建立<block ref="9de875b13677cf9b036a438bf9aedf5c" prefix=" " category="inline-code"></block> 檔案：在以下命令範例中、主機應設定為Oracle資料庫的IP位址、而伺服器SID應設定為Oracle資料庫SID。</block>
  <block id="0eec77cc5ed96c42afb08c83ea3f1e3b" category="list-text">建立<block ref="0501c2d94325e267bf15055591fb8157" prefix=" " category="inline-code"></block> 檔案：</block>
  <block id="cafefcc0e796f3e73bc39de23dfc6b68" category="list-text">使用電子錢包測試Oracle存取。</block>
  <block id="8bf6bfb76bcf25b5e1bb9c1d4ede3d34" category="paragraph">命令的預期輸出為：[azacsnap@acao-ora01 ~]$ sqlplus /@AZACSNAP做為SysBACKUP</block>
  <block id="9fac4799a7cb503012dac3d131cf3c15" category="paragraph">SQL* Plus：19.0．0．0．0版- 9月8日星期四正式上線18：02：07 2022版本19.8．0．0</block>
  <block id="54eb020b97d7e8a9f56d67e93754e270" category="section-title">設定ANF連線功能</block>
  <block id="8c9356aaf30e863db064ba22b7d4b204" category="paragraph">本節說明如何啟用Azure NetApp Files 與NetApp（與VM）的通訊。</block>
  <block id="d78964ac0334c0f69ef24aada9864028" category="list-text">在Azure Cloud Shell工作階段中、請確定您已登入訂閱、且您想要在預設情況下與服務主體建立關聯。</block>
  <block id="8611ff0fcccf2f05ff0dbde909379c14" category="list-text">如果訂閱不正確、請使用下列命令：</block>
  <block id="2d66e076b40e24c73ffa7a1704d985db" category="list-text">使用Azure CLI建立服務主體、如下列範例所示：</block>
  <block id="707cc085819c641d15b9ea2b3b13cb53" category="paragraph">預期輸出：</block>
  <block id="e8e3af5b539b9415092afd10fc182ff7" category="paragraph">｛"clientId"："00aa000a-aaaa-0000-00a0-00aa000aaa0a"、"clientSecret："00aa000a-aaaa-0000-00a0-00aa000aaa0a"、"subscriptionId"："00aaaaaaaaaaaa000a-aaaa-0000-00a0-00000a0-00000aaaaa0a0、a0a0、"a0a、"a0、"a0-00a00a00a0、"a0、"a0、"a0、"a0、"a、a00a、"、"、"、"00a、"、"00a、" <block ref="abe1a2134e98a87862a225c33f62cde4" category="inline-link-rx"></block>、"resourceManagerEndpointUrl"： <block ref="5bbe1c35abcaa8749119f86fe8d12120" category="inline-link-rx"></block>、「activedirectoryGraphResourcesId」： <block ref="91645ab7f47cce4ce23956a6c4c7df7c" category="inline-link-rx"></block>、"sqlManagementEndpointUrl"： <block ref="2ce5923f710fffcd9fdcfffa2d0db664" category="inline-link-rx"></block>、「galleryEndpointUrl」： <block ref="92fb62298a12469265ac683928098931" category="inline-link-rx"></block>、「管理EndpointUrl」： <block ref="9a3197a885535f07c09e058a5f76aa0c" category="inline-link-rx"></block>}</block>
  <block id="c51a1e8c830ed4f63c489347dbcce1a7" category="list-text">將輸出內容剪貼到名為的檔案中<block ref="b50999884a39c5efe8da46cd87acfeb2" prefix=" " category="inline-code"></block> 儲存在Linux使用者azacsnap使用者bin目錄中、並以適當的系統權限保護檔案。</block>
  <block id="211f39ae9cd979a9f01bb800eca0b832" category="admonition">請確定Json檔案的格式完全符合上述說明、尤其是在以雙引號（"）括住的URL中。</block>
  <block id="c1f6adfa882cba0dbd256d4909ac588c" category="section-title">完成AzAcSnap工具的設定</block>
  <block id="e0e7b63ff02eb3221940162934949dd0" category="paragraph">請依照下列步驟設定及測試快照工具。測試成功之後、您可以執行第一個資料庫一致的儲存快照。</block>
  <block id="fe615094ac9bb468d26149280e3769d7" category="list-text">變更快照使用者帳戶。</block>
  <block id="4ef9af49185e683998d060aa71c30e2b" category="list-text">變更命令的位置。</block>
  <block id="412d274adbc3fc7cb51ab315d7a77f82" category="list-text">設定儲存備份詳細資料檔案。這會建立一個<block ref="8ed8c6bfea85d72bc4a36772490109c7" prefix=" " category="inline-code"></block> 組態檔。</block>
  <block id="d4c18f094b4959d27f52ee2a9709a6b9" category="paragraph">三個Oracle Volume的預期輸出：</block>
  <block id="849abd2456a4bd2ccddb94a12dfcc37d" category="paragraph">[azacsnap@acao-ora01 bin]$ azacsnap -c configure --configuration new Building new config file Add comment to config file（空白項目以結束新增註釋）：Oracle Snapshot bkup Add Comment to config file（空白項目以結束新增註釋）：輸入要新增的資料庫類型、'HANA '、'Oracle'或'exit'（不適用於Oracle）</block>
  <block id="fa7ad5b9d050b7a5baa27ffcd8863c42" category="paragraph">==新增Oracle資料庫詳細資料== Oracle資料庫SID（例如CDB1）：ORATST資料庫伺服器位址（主機名稱或IP位址）：172.30.137.142 Oracle連線字串（例如/@AZACSNAP）：//@AZACSNAP</block>
  <block id="44b11046a63da89febd351b4213758cf" category="paragraph">= Azure NetApp Files =不支援資料的資料== Azure NetApp Files 您使用的是資料庫的支援嗎？（是/否）[n]：是-資料磁碟區在快照之前、會讓應用程式處於一致狀態-在Azure NetApp Files 資料庫組態的「Data Volume」（資料磁碟區）區段中新增資源？（是/否）[n]：Y完整Azure NetApp Files 的RefSing儲存Volume資源ID（例如/uncations/.../resourcegroads/.../providers / Microsoft.NetApp/netAppAccounts/.../capacityPools/Premium/volumes/...):/uncations/0efa2dfb-917c-447-b56a-b3f4eadb8111/resources/ANFAVSRG/providers / Microsoft.NetApp/netAppAccounts/ANFAVSAcct/capacityPools/CapPool/volumes/acao-ora01-u01服務主要驗證檔案名稱或Azure Key Vault ID或jauth檔案）<block ref="88c14b7c14e63dd3e0345f1f112a2bd3" category="inline-link-rx"></block> Oracle.json是否在Azure NetApp Files 資料庫組態的「Data Volume」區段中新增資源以供參考？（是/否）[n]：Y完整Azure NetApp Files 的RefSing儲存Volume資源ID（例如/uncations/.../resourcegroads/.../providers / Microsoft.NetApp/netAppAccounts/.../capacityPools/Premium/volumes/...):/uncations/0efa2dfb-917c-447-b56a-b3f4eadb8111/resources/ANFAVSRG/providers / Microsoft.NetApp/netAppAccounts/ANFAVSAcct/capacityPools/CapPool/volumes/acao-ora01-u02服務主要驗證檔案名稱或Azure Key Vault ID或jauth檔案）<block ref="88c14b7c14e63dd3e0345f1f112a2bd3" category="inline-link-rx"></block> Oracle.json是否在Azure NetApp Files 資料庫組態的「Data Volume」區段中新增資源以供參考？（是/否）[n]：n -其他Volume在不準備任何應用程式快照的情況下立即建立快照-在Azure NetApp Files 資料庫組態的其他Volume區段中新增資源？（是/否）[n]：Y完整Azure NetApp Files 的RefSing儲存Volume資源ID（例如/uncations/.../resourcegroads/.../providers / Microsoft.NetApp/netAppAccounts/.../capacityPools/Premium/volumes/...):/uncations/0efa2dfb-917c-447-b56a-b3f4eadb8111/resources/ANFAVSRG/providers / Microsoft.NetApp/netAppAccounts/ANFAVSAcct/capacityPools/CapPool/volumes/acao-ora01-u03服務主要驗證檔案名稱或Azure Key Vault ID或jauth檔案）<block ref="88c14b7c14e63dd3e0345f1f112a2bd3" category="inline-link-rx"></block> Oracle.json是否在Azure NetApp Files 資料庫組態的其他Volume區段中新增資源？（是/否）[n]：n</block>
  <block id="e16c4d13d5c9c936ac3ca975a729784f" category="paragraph">== Azure託管磁碟詳細資料==您是否使用Azure託管磁碟做為資料庫？（是/否）[n]：n</block>
  <block id="e5e08e0b27271cd7952c3cd754436294" category="paragraph">= Azure大型執行個體（裸機）儲存詳細資料=您是否使用Azure大型執行個體（裸機）作為資料庫？（是/否）[n]：n</block>
  <block id="cec7485a9812da8e268c6d53917d0776" category="paragraph">輸入要新增的資料庫類型：「Hana」、「Oracle」或「exit」（不含資料庫）：結束</block>
  <block id="c63145a4ad8c93cb8bdff88f44cf483b" category="paragraph">編輯組態完成、將輸出寫入「azacsnap。json」。</block>
  <block id="72b0a1cda785576a979ca4ee2e3c8c62" category="list-text">身為azacsnap Linux使用者、請執行azacsnap測試命令進行Oracle備份。</block>
  <block id="ce9bfcddebc567805a4fdb6bcdf15515" category="paragraph">[azacsnap@acao-ora01 bin]$ azacsnap -c測試--test Oracle --configfile azacsnap.json begin：測試「Oracle」開始的程序：Oracle DB測試通過：成功連線至Oracle DB 1908000000版結束：測試「Oracle」的程序完成[azacsnap@acao-ora01]$ bin$</block>
  <block id="7be23e8f29bfc799fd8fbcdc55fe0e77" category="list-text">執行第一個Snapshot備份。</block>
  <block id="42481f217667e9b11be3ea64c971056a" category="inline-link-macro">下一步：資料庫保護。</block>
  <block id="d39c73ea41fa36408b518637e929e754" category="paragraph"><block ref="d39c73ea41fa36408b518637e929e754" category="inline-link-macro-rx"></block></block>
  <block id="87561d435f6cd79a59659b543d2991ca" category="summary">本節說明使用自訂Oracle RDS和FSX ONTAP 等儲存設備的RDS Oracle自訂部署解決方案架構。</block>
  <block id="312f941d9e8f224f54ae372016e8f35a" category="paragraph">在環境中、Oracle運算執行個體是透過AWS EC2執行個體主控台進行部署。主控台提供多種EC2執行個體類型。NetApp建議部署資料庫導向的EC2執行個體類型、例如採用RedHat Enterprise Linux 8的m5 AMI映像、以及高達10Gps的網路頻寬。</block>
  <block id="830579b4d0c33e9e4fa1f11c61cb73a7" category="inline-image-macro">此映像描述了一個架構圖表範例、包括主要HA叢集（待命HA叢集）、管理節點、以及相關的連線節點。</block>
  <block id="73793421735093db194ae82163f894b3" category="paragraph"><block ref="73793421735093db194ae82163f894b3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e3d0f7ae75ed6e0e3b522ecc7cac710b" category="paragraph">FSXX儲存叢集的設計具有雙重備援、因此主儲存叢集和待命儲存叢集都部署在兩個不同的可用性區域中。資料庫磁碟區會以使用者可設定的時間間隔、從主要FSX叢集複寫到備用FSX叢集、以供所有Oracle二進位、資料和記錄磁碟區使用。</block>
  <block id="0008c12bed67fcf1f82ece8ff10b5c81" category="paragraph">這種高可用度的Oracle環境是以Ansible控制器節點和SnapCenter 一套支援功能的伺服器與UI工具來管理。Oracle安裝、組態及複寫均使用可執行的教戰手冊工具套件來自動化。Oracle EC2執行個體核心作業系統或Oracle修補程式的任何更新、都可以平行執行、以保持主要和待命同步。事實上、初始自動化設定可輕鬆擴充、以便在需要時執行一些重複的每日Oracle工作。</block>
  <block id="1332f9ef53fc751a6087660a11f07ba6" category="paragraph"><block ref="1332f9ef53fc751a6087660a11f07ba6" category="inline-link-macro-rx"></block></block>
  <block id="1572d96530c843cddbe2d0a8b47abf8a" category="summary">本最佳實務做法指南詳細說明如何在Azure NetApp檔案儲存設備和Azure VM上部署及保護Oracle資料庫。</block>
  <block id="2e0520fcae6cb49914d2308fbaf4e1a8" category="doc">TR-4954：Oracle資料庫部署Azure NetApp Files 與保護功能</block>
  <block id="7e6f7643afec42d9c47efa933debef3e" category="paragraph">NetApp公司的Alleno Cao、Niyazz Mohamed</block>
  <block id="b2bd5134cf9b573edd93cbfe6ee4559d" category="paragraph">許多任務關鍵型Oracle企業資料庫仍在內部部署、許多企業正尋求將這些Oracle資料庫移轉至公有雲。這些Oracle資料庫通常以應用程式為中心、因此需要使用者專屬的組態、這是許多資料庫即服務公有雲產品無法提供的功能。因此、目前的資料庫環境需要以公有雲為基礎的Oracle資料庫解決方案、此解決方案是以高效能、可擴充的運算與儲存服務所打造、能夠滿足獨特的需求。Azure虛擬機器運算執行個體和Azure NetApp Files 整套儲存服務可能是您在建置任務關鍵型Oracle資料庫工作負載並將其移轉至公有雲時所無法運用的難題。</block>
  <block id="a58dc8965e4de69beb97a33a5a1935ea" category="paragraph">Azure虛擬機器是Azure提供的多種隨需擴充運算資源類型之一。一般而言、當您需要比其他選項更多的運算環境控制能力時、可以選擇虛擬機器。Azure虛擬機器提供一種快速簡易的方法、可建立執行Oracle資料庫所需的特定組態電腦、無論是運算或記憶體密集型工作負載。Azure虛擬網路中的虛擬機器可輕鬆連線至貴組織的網路、例如透過安全的VPN通道。</block>
  <block id="466d154dd31c873c4a2fd7113dc6b818" category="paragraph">支援完整管理的Microsoft服務、可讓資料庫工作負載更快更安全地移至雲端Azure NetApp Files 。它的設計旨在滿足在雲端執行Oracle資料庫等高效能工作負載的核心需求、並提供效能層級、以反映實際的IOPS需求範圍、低延遲、高可用度、高耐用度、大規模管理性、以及快速且有效率的備份、還原和複製。這些功能之所以能夠實現、是因為Azure NetApp Files 執行ONTAP 於Azure資料中心環境中的實體All Flash NetApp系統為基礎。整個Azure DC和入口網站已完全整合了整個支援、客戶可以使用與任何其他Azure物件相同的舒適圖形介面和API來建立及管理共用檔案Azure NetApp Files 。有了Azure NetApp檔案、您就能在不增加風險、成本或時間的情況下、充分發揮Azure的完整功能、並信任Azure專屬的唯一企業檔案服務。</block>
  <block id="30106aaa3e986f62cbb327f935569bca" category="inline-link-macro">Microsoft Azure上的Oracle資料庫</block>
  <block id="bdb41d103336edebf957f48add0f3554" category="inline-link-macro">NetApp自動化</block>
  <block id="c2add34b573ef3798dd7c5b8972c008a" category="paragraph">本文件詳細說明如何使用Azure虛擬機器和Azure NetApp Files 提供效能與持久性的VMware儲存服務來部署、設定及保護Oracle資料庫、其效能與持久性與內部部署系統類似。如需最佳實務做法指南、請參閱TR-4780 <block ref="43d70d3cb7600babfb5820086b5480b6" category="inline-link-macro-rx"></block>。更重要的是、NetApp也提供自動化工具套件、可將部署、組態、資料保護、移轉及管理Azure公有雲中Oracle資料庫工作負載所需的大部分工作自動化。自動化工具套件可從NetApp Public GitHub網站下載： <block ref="1b9adaed0e4ba13a6d8f6edc7ab8f2d8" category="inline-link-macro-rx"></block>。</block>
  <block id="3d7dbc3eeea5e87b5d14c9f00c66dd47" category="paragraph"><block ref="3d7dbc3eeea5e87b5d14c9f00c66dd47" category="inline-link-macro-rx"></block></block>
  <block id="cffc2899d8dda4926e6563cef4e76608" category="summary">本節將詳細說明在Azure虛擬機器和Azure NetApp Files 物件儲存設備上部署Oracle資料庫時應考量的因素。</block>
  <block id="3cc4738ed2ec2e682ab2002688fa632b" category="paragraph"><block ref="3cc4738ed2ec2e682ab2002688fa632b" category="inline-link-macro-rx"></block></block>
  <block id="1a6a6241c0105da34f664d1e12534598" category="paragraph">下列各節說明在Azure公有雲上部署Oracle資料庫時、搭配Azure NetApp Files 使用支援還原的Azure虛擬機器執行個體時、必須考量的關鍵事項。</block>
  <block id="c2b3b1e82aa97a133f0f6bbc12843085" category="section-title">VM類型與規模</block>
  <block id="4ca9712a9cd82ea80c8e225977fae1bb" category="inline-link-macro">Azure中的虛擬機器大小</block>
  <block id="7c4a17715675ccfa7ce507eea6098318" category="paragraph">選取適當的VM類型和大小、對於公有雲中的關聯式資料庫達到最佳效能非常重要。Azure虛擬機器提供多種運算執行個體、可用來裝載Oracle資料庫工作負載。請參閱Microsoft文件 <block ref="d854faa84ea41d8819c42ca3741a3561" category="inline-link-macro-rx"></block> 適用於不同類型的Azure虛擬機器及其規模。一般而言、NetApp建議使用通用Azure虛擬機器來部署中小型Oracle資料庫。部署大型Oracle資料庫時、最適合使用記憶體最佳化的Azure VM。有了更多可用的RAM、就能設定更大的Oracle SGA或智慧型快閃快取來減少實體I/O、進而提升資料庫效能。</block>
  <block id="84942a15b69259aab0ff7c2620afcaf6" category="inline-link-macro">TR-4780：Microsoft Azure上的Oracle資料庫</block>
  <block id="760a7b6c1bd4f6ebab6918d42feb4825" category="paragraph">執行時、可做為連接至Azure虛擬機器的NFS掛載、提供更高的處理量、並以本機儲存設備克服儲存最佳化的VM處理量限制Azure NetApp Files 。因此Azure NetApp Files 、在Oracle上執行Oracle可降低授權Oracle CPU核心數與授權成本。請參閱 <block ref="b46cbe9b7b18b9ff8101a014c206465f" category="inline-link-macro-rx"></block>第7節- Oracle授權如何運作？</block>
  <block id="71b93ac808ac25bb511ebcbb028e32e8" category="paragraph">其他考量因素包括：</block>
  <block id="592bc946b588ad0e83c05f528895bcc8" category="list-text">根據工作負載特性、選擇正確的vCPU和RAM組合。隨著VM上的RAM大小增加、vCPU核心數量也會增加。Oracle授權費用會根據vCPU核心數量收取、因此在某個時間點應該會有平衡。</block>
  <block id="fb9844eb7ee0ff341d6f7066f78918ff" category="list-text">新增交換空間至VM。預設的Azure VM部署不會建立交換空間、這對資料庫來說並不理想。</block>
  <block id="81afc696937e3786d5701212de79c536" category="section-title">效能Azure NetApp Files</block>
  <block id="c7bc5faed38f5284386f25a6fc3a5752" category="paragraph">從客戶必須在其所屬的功能區儲存帳戶中配置的容量資源池中配置支援的資料Azure NetApp Files Azure NetApp Files 。每個容量集區的指派方式如下：</block>
  <block id="3af20f4cec87eac026d0990a8a3f4169" category="list-text">定義整體效能能力的服務層級。</block>
  <block id="dd1fb66595c069d1b267fb8ca87e46eb" category="list-text">該容量集區的初始資源配置儲存容量或分層。服務品質（QoS）層級、定義每個已配置空間的整體最大處理量。</block>
  <block id="9dc50220b7e70511b5aeebb862346fad" category="paragraph">服務層級和最初配置的儲存容量、決定特定Oracle資料庫Volume的效能等級。</block>
  <block id="59b8b6b998c3c0fcd2f1b107a68c290a" category="section-title">1 Azure NetApp Files 、服務等級</block>
  <block id="f02ad1a8080bf1b50f8a15cb346ed483" category="paragraph">支援三種服務層級：Ultra、Premium和Standard Azure NetApp Files 。</block>
  <block id="3eec40f71dc46b07f32031c9703968ec" category="list-text">*超儲存設備。*此層級可為每1 TiB指派的磁碟區配額提供高達128台Bps的處理量。</block>
  <block id="1b0fa75a1e8b815e03fb38f8a90d2a73" category="list-text">*優質儲存設備。*此層級可為每1 TiB指派的磁碟區配額提供高達64MiBps的處理量。</block>
  <block id="00792f6ec40d3e2833834d90802a7aa5" category="list-text">*標準儲存設備。*此層可為每1 TiB指派的磁碟區配額提供高達16MiBps的處理量。</block>
  <block id="7a720602d11a97fd37964c9979e2f1a5" category="section-title">2、容量池和服務品質</block>
  <block id="36ac84521252c58a4238292bf0c21d92" category="paragraph">每個所需的服務層級都有已配置容量的相關成本、並包含服務品質（QoS）層級、可定義已配置空間的整體最大處理量。</block>
  <block id="7a93db9cf06fd65415faf241927e2087" category="paragraph">例如、10TiB資源配置的單一容量資源池具備優質服務層級、可為此容量資源池中的所有磁碟區提供整體可用的處理量達10x 64MBps、因此640 MBps可搭配40、000（16K）IOPs或80、000（8K）IOPs。</block>
  <block id="18dc8b2cbfb938a0ba32c141664fba0e" category="paragraph">最小容量集區大小為4TiB。您可以根據工作負載需求的變化、以1TiB為增量來變更容量資源池的大小、以管理儲存需求和成本。</block>
  <block id="8a26494cf7b0c3c3ca7cd38e89c068eb" category="section-title">3.計算資料庫磁碟區的服務層級</block>
  <block id="9ce59559a0b99338ee0bad0c153c961a" category="paragraph">Oracle資料庫Volume的處理量限制是由下列因素組合所決定：磁碟區所屬容量集區的服務層級、以及指派給磁碟區的配額。</block>
  <block id="b87e1c6e437216fc2d3719c3dad93cb8" category="paragraph">下圖顯示如何計算Oracle資料庫Volume的處理量限制。</block>
  <block id="1624b6f83446cd1719c94bae28cbbeb7" category="inline-image-macro">此影像說明套用至三個容量層級的方程式、以判斷總處理量。</block>
  <block id="4d06f88a6f007c9821ac2ea5741860c5" category="paragraph"><block ref="4d06f88a6f007c9821ac2ea5741860c5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="7ce3321601c29c87cb29ae9817843b8d" category="paragraph">在範例1中、從容量集區中指派2 TiB配額的優質儲存層、會將處理量限制指派為128 MiBps（2TiB * 64MiBps）。無論容量集區大小或實際磁碟區使用量為何、都適用此案例。</block>
  <block id="69da5d3e48cc26414a9177d843bd55d9" category="paragraph">在範例2中、從具有Premium儲存層的容量集區指派100GiB配額的磁碟區、其處理量上限為6.25億次（0.09765625TiB * 64MiBps）。無論容量集區大小或實際磁碟區使用量為何、都適用此案例。</block>
  <block id="def2c2ae4fa72ee296eada07b44a0cc9" category="paragraph">請注意、最小Volume大小為100GiB。</block>
  <block id="78ad659ec79d8ee9e7432271167d18d3" category="list-text">對於小型資料庫、所有Oracle檔案都使用單一Volume配置。</block>
  <block id="51672f1f7a65c28f28e5e113376309bd" category="inline-image-macro">此映像描述三個資料庫（DB1、DB2和DB3）、每個資料庫都包含資料檔案、重作記錄、歸檔記錄和控制檔案、全都位於單一容量集區內。</block>
  <block id="6dab61143f0fe37930fbd783e5c57c81" category="paragraph"><block ref="6dab61143f0fe37930fbd783e5c57c81" category="inline-image-macro-rx" type="image"></block></block>
  <block id="816445ad7ba016a8c0be293c985f068b" category="list-text">對於大型資料庫、建議的Volume配置是多個Volume：一個用於Oracle資料、一個用於複製控制檔、另一個用於Oracle作用中記錄、歸檔記錄和控制檔。NetApp強烈建議為Oracle二進位檔配置磁碟區、而非本機磁碟、以便將資料庫重新定位至新的主機、並快速還原。</block>
  <block id="955db4ecf8716abf17a3ea3f8e113671" category="inline-image-macro">此映像描述兩個資料庫、每個資料庫各有兩個磁碟區。第一個Volume包含資料檔案、而每個資料庫的第二個Volume則包含重作記錄、歸檔記錄和控制檔。全部位於單一容量集區內。</block>
  <block id="7432b939dcc290776a34b2e9610a2775" category="paragraph"><block ref="7432b939dcc290776a34b2e9610a2775" category="inline-image-macro-rx" type="image"></block></block>
  <block id="efeaafaa286e164985a0c325f0727cf1" category="paragraph">Linux是最常見的作業系統、具備原生NFS功能。Oracle提供直接NFS（DNFS）用戶端、原生整合至Oracle。Oracle DNFS會跳過作業系統快取、並啟用平行處理功能來改善資料庫效能。Oracle已支援NFSv3超過20年、而NFSv3則支援Oracle 12.1.0.2及更新版本。</block>
  <block id="be5ef2ba2540e077db09ca784b1ac18f" category="paragraph">透過使用DNFS（自Oracle 11g起提供）、在Azure虛擬機器上執行的Oracle資料庫、可比原生NFS用戶端大幅提升I/O。使用NetApp自動化工具套件自動部署Oracle、可在NFSv3上自動設定DNFS。</block>
  <block id="632bf0b812e05925eff22d7d0a7677c2" category="paragraph">下圖示範Azure NetApp Files Oracle DNFS的有關功能的Sob基準測試。</block>
  <block id="08826656fd88155bdfaebbb292320e33" category="inline-image-macro">此圖表可大幅證明DNFS可改善KNFS的DB連續檔案延遲（毫秒）。</block>
  <block id="258bafba486e8ac35578ed4c5fff8ab1" category="paragraph"><block ref="258bafba486e8ac35578ed4c5fff8ab1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="24019b0d54b5da3a46b400c6a6dfee77" category="paragraph">為獲得最佳效能並避免效能問題、請將控制TCP插槽表的核心參數調整為128。</block>
  <block id="754e164c2de7ed1f02667d5f74297a0e" category="list-text">下表針對單一Linux NFSv3執行個體提供建議的NFS掛載選項。</block>
  <block id="fa7abb28d1b83f9ee23d95aff1d3123b" category="inline-image-macro">下表顯示下列檔案類型、控制檔、資料檔案、重作記錄、Oracle_Home、和Oracle_base。</block>
  <block id="082aad17dee7d03a3d502a422c1a8c53" category="paragraph"><block ref="082aad17dee7d03a3d502a422c1a8c53" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b71b592b003a6232eebe484a1736be7a" category="paragraph"><block ref="b71b592b003a6232eebe484a1736be7a" category="inline-link-macro-rx"></block></block>
  <block id="d0dfaca5f0573d672a0f4dc66997c002" category="doc">EC2和FSX Oracle資料庫管理</block>
  <block id="4020b36b638694a9834cb01b53b25ffe" category="doc">AWS EC2和FSX上的逐步Oracle部署程序</block>
  <block id="d842058c0e8814799a596324a98e5323" category="sidebar">AWS EC2和FSX最佳實務做法上的Oracle資料庫部署</block>
  <block id="879f2366c198b1fc05740657cacebcc1" category="sidebar">Oracle資料庫部署Azure NetApp Files 與保護功能</block>
  <block id="fc305603a3cb90ea71cabdf327aaf437" category="sidebar">資料庫保護</block>
</blocks>